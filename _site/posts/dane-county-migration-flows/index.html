<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->

<script type="text/json" id="radix-import-source">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["url","sha1"]}},"value":[{"type":"character","attributes":{},"value":["https://github.com/vgXhc/dane_county_migration"]},{"type":"character","attributes":{},"value":["4b3620258084dab07237a4e18767ff24c910194e"]}]}
</script>
<!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Harald Kliems: Dane County Migration Flows</title>

<meta property="description" itemprop="description" content="The `tidycensus` package got an exciting new function"/>

<link rel="canonical" href="https://haraldkliems.netlify.app/posts/dane-county-migration-flows/"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-04-02"/>
<meta property="article:created" itemprop="dateCreated" content="2021-04-02"/>
<meta name="article:author" content="Harald Kliems"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Harald Kliems: Dane County Migration Flows"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="The `tidycensus` package got an exciting new function"/>
<meta property="og:url" content="https://haraldkliems.netlify.app/posts/dane-county-migration-flows/"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Harald Kliems"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Harald Kliems: Dane County Migration Flows"/>
<meta property="twitter:description" content="The `tidycensus` package got an exciting new function"/>
<meta property="twitter:url" content="https://haraldkliems.netlify.app/posts/dane-county-migration-flows/"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Harald Kliems: Dane County Migration Flows"/>
<meta name="citation_fulltext_html_url" content="https://haraldkliems.netlify.app/posts/dane-county-migration-flows/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2021/04/02"/>
<meta name="citation_publication_date" content="2021/04/02"/>
<meta name="citation_author" content="Harald Kliems"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","repository_url","compare_updates_url","creative_commons","preview","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Dane County Migration Flows"]},{"type":"character","attributes":{},"value":["The `tidycensus` package got an exciting new function"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","orcid_id","url"]}},"value":[{"type":"character","attributes":{},"value":["Harald Kliems"]},{"type":"character","attributes":{},"value":["0000-0003-2542-0047"]},{"type":"character","attributes":{},"value":["https://haraldkliems.netlify.app/"]}]}]},{"type":"character","attributes":{},"value":["04-02-2021"]},{"type":"character","attributes":{},"value":["https://github.com/vgXhc/dane_county_migration"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["CC BY-SA"]},{"type":"character","attributes":{},"value":["screenshot_flow_map.png"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["code_folding","self-contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["https://haraldkliems.netlify.app/posts/dane-county-migration-flows/"]},{"type":"character","attributes":{},"value":["https://haraldkliems.netlify.app/posts/dane-county-migration-flows/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"list","attributes":{},"value":[]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>
  <link href="data:text/css,%2Epagedtable%20%7B%0Aoverflow%3A%20auto%3B%0Apadding%2Dleft%3A%208px%3B%0Apadding%2Dright%3A%208px%3B%0A%7D%0A%2Epagedtable%2Dwrapper%20%7B%0Aborder%3A%201px%20solid%20%23ccc%3B%0Aborder%2Dradius%3A%204px%3B%0Amargin%2Dbottom%3A%2010px%3B%0A%7D%0A%2Epagedtable%20table%20%7B%0Awidth%3A%20100%25%3B%0Amax%2Dwidth%3A%20100%25%3B%0Amargin%3A%200%3B%0A%7D%0A%2Epagedtable%20th%20%7B%0Apadding%3A%200%205px%200%205px%3B%0Aborder%3A%20none%3B%0Aborder%2Dbottom%3A%202px%20solid%20%23dddddd%3B%0Amin%2Dwidth%3A%2045px%3B%0A%7D%0A%2Epagedtable%2Dempty%20th%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2Epagedtable%20td%20%7B%0Apadding%3A%200%204px%200%204px%3B%0A%7D%0A%2Epagedtable%20%2Eeven%20%7B%0Abackground%2Dcolor%3A%20rgba%28140%2C%20140%2C%20140%2C%200%2E1%29%3B%0A%7D%0A%2Epagedtable%2Dpadding%2Dcol%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2Epagedtable%20a%20%7B%0A%2Dwebkit%2Dtouch%2Dcallout%3A%20none%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dkhtml%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Epagedtable%2Dindex%2Dnav%20%7B%0Acursor%3A%20pointer%3B%0Apadding%3A%200%205px%200%205px%3B%0Afloat%3A%20right%3B%0Aborder%3A%200%3B%0A%7D%0A%2Epagedtable%2Dindex%2Dnav%2Ddisabled%20%7B%0Acursor%3A%20default%3B%0Atext%2Ddecoration%3A%20none%3B%0Acolor%3A%20%23999%3B%0A%7D%0Aa%2Epagedtable%2Dindex%2Dnav%2Ddisabled%3Ahover%20%7B%0Atext%2Ddecoration%3A%20none%3B%0Acolor%3A%20%23999%3B%0A%7D%0A%2Epagedtable%2Dindexes%20%7B%0Acursor%3A%20pointer%3B%0Afloat%3A%20right%3B%0Aborder%3A%200%3B%0A%7D%0A%2Epagedtable%2Dindex%2Dcurrent%20%7B%0Acursor%3A%20default%3B%0Atext%2Ddecoration%3A%20none%3B%0Afont%2Dweight%3A%20bold%3B%0Acolor%3A%20%23333%3B%0Aborder%3A%200%3B%0A%7D%0Aa%2Epagedtable%2Dindex%2Dcurrent%3Ahover%20%7B%0Atext%2Ddecoration%3A%20none%3B%0Afont%2Dweight%3A%20bold%3B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epagedtable%2Dindex%20%7B%0Awidth%3A%2030px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Dalign%3A%20center%3B%0Aborder%3A%200%3B%0A%7D%0A%2Epagedtable%2Dindex%2Dseparator%2Dleft%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Acolor%3A%20%23333%3B%0Afont%2Dsize%3A%209px%3B%0Apadding%3A%200%200%200%200%3B%0Acursor%3A%20default%3B%0A%7D%0A%2Epagedtable%2Dindex%2Dseparator%2Dright%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Acolor%3A%20%23333%3B%0Afont%2Dsize%3A%209px%3B%0Apadding%3A%200%204px%200%200%3B%0Acursor%3A%20default%3B%0A%7D%0A%2Epagedtable%2Dfooter%20%7B%0Apadding%2Dtop%3A%204px%3B%0Apadding%2Dbottom%3A%205px%3B%0A%7D%0A%2Epagedtable%2Dnot%2Dempty%20%2Epagedtable%2Dfooter%20%7B%0Aborder%2Dtop%3A%202px%20solid%20%23dddddd%3B%0A%7D%0A%2Epagedtable%2Dinfo%20%7B%0Aoverflow%3A%20hidden%3B%0Acolor%3A%20%23999%3B%0Awhite%2Dspace%3A%20nowrap%3B%0Atext%2Doverflow%3A%20ellipsis%3B%0A%7D%0A%2Epagedtable%2Dheader%2Dname%20%7B%0Aoverflow%3A%20hidden%3B%0Atext%2Doverflow%3A%20ellipsis%3B%0A%7D%0A%2Epagedtable%2Dheader%2Dtype%20%7B%0Acolor%3A%20%23999%3B%0Afont%2Dweight%3A%20400%3B%0A%7D%0A%2Epagedtable%2Dna%2Dcell%20%7B%0Afont%2Dstyle%3A%20italic%3B%0Aopacity%3A%200%2E3%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,Ly8gUHJvZHVjdGlvbiBzdGVwcyBvZiBFQ01BLTI2MiwgRWRpdGlvbiA1LCAxNS40LjQuMTgKLy8gUmVmZXJlbmNlOiBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjQuNC4xOAppZiAoIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7CgogIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHsKCiAgICB2YXIgVCwgazsKCiAgICBpZiAodGhpcyA9PT0gbnVsbCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcgdGhpcyBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7CiAgICB9CgogICAgLy8gMS4gTGV0IE8gYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRvT2JqZWN0KCkgcGFzc2luZyB0aGUKICAgIC8vIHx0aGlzfCB2YWx1ZSBhcyB0aGUgYXJndW1lbnQuCiAgICB2YXIgTyA9IE9iamVjdCh0aGlzKTsKCiAgICAvLyAyLiBMZXQgbGVuVmFsdWUgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBHZXQoKSBpbnRlcm5hbAogICAgLy8gbWV0aG9kIG9mIE8gd2l0aCB0aGUgYXJndW1lbnQgImxlbmd0aCIuCiAgICAvLyAzLiBMZXQgbGVuIGJlIHRvVWludDMyKGxlblZhbHVlKS4KICAgIHZhciBsZW4gPSBPLmxlbmd0aCA+Pj4gMDsKCiAgICAvLyA0LiBJZiBpc0NhbGxhYmxlKGNhbGxiYWNrKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLgogICAgLy8gU2VlOiBodHRwOi8vZXM1LmdpdGh1Yi5jb20vI3g5LjExCiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAiZnVuY3Rpb24iKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7CiAgICB9CgogICAgLy8gNS4gSWYgdGhpc0FyZyB3YXMgc3VwcGxpZWQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0CiAgICAvLyBUIGJlIHVuZGVmaW5lZC4KICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICBUID0gdGhpc0FyZzsKICAgIH0KCiAgICAvLyA2LiBMZXQgayBiZSAwCiAgICBrID0gMDsKCiAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW4KICAgIHdoaWxlIChrIDwgbGVuKSB7CgogICAgICB2YXIga1ZhbHVlOwoKICAgICAgLy8gYS4gTGV0IFBrIGJlIFRvU3RyaW5nKGspLgogICAgICAvLyAgICBUaGlzIGlzIGltcGxpY2l0IGZvciBMSFMgb3BlcmFuZHMgb2YgdGhlIGluIG9wZXJhdG9yCiAgICAgIC8vIGIuIExldCBrUHJlc2VudCBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIEhhc1Byb3BlcnR5CiAgICAgIC8vICAgIGludGVybmFsIG1ldGhvZCBvZiBPIHdpdGggYXJndW1lbnQgUGsuCiAgICAgIC8vICAgIFRoaXMgc3RlcCBjYW4gYmUgY29tYmluZWQgd2l0aCBjCiAgICAgIC8vIGMuIElmIGtQcmVzZW50IGlzIHRydWUsIHRoZW4KICAgICAgaWYgKGsgaW4gTykgewoKICAgICAgICAvLyBpLiBMZXQga1ZhbHVlIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgR2V0IGludGVybmFsCiAgICAgICAgLy8gbWV0aG9kIG9mIE8gd2l0aCBhcmd1bWVudCBQay4KICAgICAgICBrVmFsdWUgPSBPW2tdOwoKICAgICAgICAvLyBpaS4gQ2FsbCB0aGUgQ2FsbCBpbnRlcm5hbCBtZXRob2Qgb2YgY2FsbGJhY2sgd2l0aCBUIGFzCiAgICAgICAgLy8gdGhlIHRoaXMgdmFsdWUgYW5kIGFyZ3VtZW50IGxpc3QgY29udGFpbmluZyBrVmFsdWUsIGssIGFuZCBPLgogICAgICAgIGNhbGxiYWNrLmNhbGwoVCwga1ZhbHVlLCBrLCBPKTsKICAgICAgfQogICAgICAvLyBkLiBJbmNyZWFzZSBrIGJ5IDEuCiAgICAgIGsrKzsKICAgIH0KICAgIC8vIDguIHJldHVybiB1bmRlZmluZWQKICB9Owp9CgovLyBQcm9kdWN0aW9uIHN0ZXBzIG9mIEVDTUEtMjYyLCBFZGl0aW9uIDUsIDE1LjQuNC4xOQovLyBSZWZlcmVuY2U6IGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuNC40LjE5CmlmICghQXJyYXkucHJvdG90eXBlLm1hcCkgewoKICBBcnJheS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHsKCiAgICB2YXIgVCwgQSwgazsKCiAgICBpZiAodGhpcyA9PSBudWxsKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJyB0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTsKICAgIH0KCiAgICAvLyAxLiBMZXQgTyBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgVG9PYmplY3QgcGFzc2luZyB0aGUgfHRoaXN8CiAgICAvLyAgICB2YWx1ZSBhcyB0aGUgYXJndW1lbnQuCiAgICB2YXIgTyA9IE9iamVjdCh0aGlzKTsKCiAgICAvLyAyLiBMZXQgbGVuVmFsdWUgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBHZXQgaW50ZXJuYWwKICAgIC8vICAgIG1ldGhvZCBvZiBPIHdpdGggdGhlIGFyZ3VtZW50ICJsZW5ndGgiLgogICAgLy8gMy4gTGV0IGxlbiBiZSBUb1VpbnQzMihsZW5WYWx1ZSkuCiAgICB2YXIgbGVuID0gTy5sZW5ndGggPj4+IDA7CgogICAgLy8gNC4gSWYgSXNDYWxsYWJsZShjYWxsYmFjaykgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi4KICAgIC8vIFNlZTogaHR0cDovL2VzNS5naXRodWIuY29tLyN4OS4xMQogICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgJyBpcyBub3QgYSBmdW5jdGlvbicpOwogICAgfQoKICAgIC8vIDUuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC4KICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICBUID0gdGhpc0FyZzsKICAgIH0KCiAgICAvLyA2LiBMZXQgQSBiZSBhIG5ldyBhcnJheSBjcmVhdGVkIGFzIGlmIGJ5IHRoZSBleHByZXNzaW9uIG5ldyBBcnJheShsZW4pCiAgICAvLyAgICB3aGVyZSBBcnJheSBpcyB0aGUgc3RhbmRhcmQgYnVpbHQtaW4gY29uc3RydWN0b3Igd2l0aCB0aGF0IG5hbWUgYW5kCiAgICAvLyAgICBsZW4gaXMgdGhlIHZhbHVlIG9mIGxlbi4KICAgIEEgPSBuZXcgQXJyYXkobGVuKTsKCiAgICAvLyA3LiBMZXQgayBiZSAwCiAgICBrID0gMDsKCiAgICAvLyA4LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW4KICAgIHdoaWxlIChrIDwgbGVuKSB7CgogICAgICB2YXIga1ZhbHVlLCBtYXBwZWRWYWx1ZTsKCiAgICAgIC8vIGEuIExldCBQayBiZSBUb1N0cmluZyhrKS4KICAgICAgLy8gICBUaGlzIGlzIGltcGxpY2l0IGZvciBMSFMgb3BlcmFuZHMgb2YgdGhlIGluIG9wZXJhdG9yCiAgICAgIC8vIGIuIExldCBrUHJlc2VudCBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIEhhc1Byb3BlcnR5IGludGVybmFsCiAgICAgIC8vICAgIG1ldGhvZCBvZiBPIHdpdGggYXJndW1lbnQgUGsuCiAgICAgIC8vICAgVGhpcyBzdGVwIGNhbiBiZSBjb21iaW5lZCB3aXRoIGMKICAgICAgLy8gYy4gSWYga1ByZXNlbnQgaXMgdHJ1ZSwgdGhlbgogICAgICBpZiAoayBpbiBPKSB7CgogICAgICAgIC8vIGkuIExldCBrVmFsdWUgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBHZXQgaW50ZXJuYWwKICAgICAgICAvLyAgICBtZXRob2Qgb2YgTyB3aXRoIGFyZ3VtZW50IFBrLgogICAgICAgIGtWYWx1ZSA9IE9ba107CgogICAgICAgIC8vIGlpLiBMZXQgbWFwcGVkVmFsdWUgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBDYWxsIGludGVybmFsCiAgICAgICAgLy8gICAgIG1ldGhvZCBvZiBjYWxsYmFjayB3aXRoIFQgYXMgdGhlIHRoaXMgdmFsdWUgYW5kIGFyZ3VtZW50CiAgICAgICAgLy8gICAgIGxpc3QgY29udGFpbmluZyBrVmFsdWUsIGssIGFuZCBPLgogICAgICAgIG1hcHBlZFZhbHVlID0gY2FsbGJhY2suY2FsbChULCBrVmFsdWUsIGssIE8pOwoKICAgICAgICAvLyBpaWkuIENhbGwgdGhlIERlZmluZU93blByb3BlcnR5IGludGVybmFsIG1ldGhvZCBvZiBBIHdpdGggYXJndW1lbnRzCiAgICAgICAgLy8gUGssIFByb3BlcnR5IERlc2NyaXB0b3IKICAgICAgICAvLyB7IFZhbHVlOiBtYXBwZWRWYWx1ZSwKICAgICAgICAvLyAgIFdyaXRhYmxlOiB0cnVlLAogICAgICAgIC8vICAgRW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAvLyAgIENvbmZpZ3VyYWJsZTogdHJ1ZSB9LAogICAgICAgIC8vIGFuZCBmYWxzZS4KCiAgICAgICAgLy8gSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgdXNlIHRoZSBmb2xsb3dpbmc6CiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsIGssIHsKICAgICAgICAvLyAgIHZhbHVlOiBtYXBwZWRWYWx1ZSwKICAgICAgICAvLyAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIC8vICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAvLyAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICAgIC8vIH0pOwoKICAgICAgICAvLyBGb3IgYmVzdCBicm93c2VyIHN1cHBvcnQsIHVzZSB0aGUgZm9sbG93aW5nOgogICAgICAgIEFba10gPSBtYXBwZWRWYWx1ZTsKICAgICAgfQogICAgICAvLyBkLiBJbmNyZWFzZSBrIGJ5IDEuCiAgICAgIGsrKzsKICAgIH0KCiAgICAvLyA5LiByZXR1cm4gQQogICAgcmV0dXJuIEE7CiAgfTsKfQoKdmFyIFBhZ2VkVGFibGUgPSBmdW5jdGlvbiAocGFnZWRUYWJsZSkgewogIHZhciBtZSA9IHRoaXM7CgogIHZhciBzb3VyY2UgPSBmdW5jdGlvbihwYWdlZFRhYmxlKSB7CiAgICB2YXIgc291cmNlRWxlbXMgPSBbXS5zbGljZS5jYWxsKHBhZ2VkVGFibGUuY2hpbGRyZW4pLmZpbHRlcihmdW5jdGlvbihlKSB7CiAgICAgIHJldHVybiBlLmhhc0F0dHJpYnV0ZSgiZGF0YS1wYWdlZHRhYmxlLXNvdXJjZSIpOwogICAgfSk7CgogICAgaWYgKHNvdXJjZUVsZW1zID09PSBudWxsIHx8IHNvdXJjZUVsZW1zLmxlbmd0aCAhPT0gMSkgewogICAgICB0aHJvdygiQSBzaW5nbGUgZGF0YS1wYWdlZHRhYmxlLXNvdXJjZSB3YXMgbm90IGZvdW5kIik7CiAgICB9CgogICAgcmV0dXJuIEpTT04ucGFyc2Uoc291cmNlRWxlbXNbMF0uaW5uZXJIVE1MKTsKICB9KHBhZ2VkVGFibGUpOwoKICB2YXIgb3B0aW9ucyA9IGZ1bmN0aW9uKHNvdXJjZSkgewogICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Yoc291cmNlLm9wdGlvbnMpICE9PSAidW5kZWZpbmVkIiAmJgogICAgICBzb3VyY2Uub3B0aW9ucyAhPT0gbnVsbCA/IHNvdXJjZS5vcHRpb25zIDoge307CgogICAgdmFyIGNvbHVtbnMgPSB0eXBlb2Yob3B0aW9ucy5jb2x1bW5zKSAhPT0gInVuZGVmaW5lZCIgPyBvcHRpb25zLmNvbHVtbnMgOiB7fTsKICAgIHZhciByb3dzID0gdHlwZW9mKG9wdGlvbnMucm93cykgIT09ICJ1bmRlZmluZWQiID8gb3B0aW9ucy5yb3dzIDoge307CgogICAgdmFyIHBvc2l0aXZlSW50T3JOdWxsID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlKSA+PSAwID8gcGFyc2VJbnQodmFsdWUpIDogbnVsbDsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcGFnZXM6IHBvc2l0aXZlSW50T3JOdWxsKG9wdGlvbnMucGFnZXMpLAogICAgICByb3dzOiB7CiAgICAgICAgbWluOiBwb3NpdGl2ZUludE9yTnVsbChyb3dzLm1pbiksCiAgICAgICAgbWF4OiBwb3NpdGl2ZUludE9yTnVsbChyb3dzLm1heCksCiAgICAgICAgdG90YWw6IHBvc2l0aXZlSW50T3JOdWxsKHJvd3MudG90YWwpCiAgICAgIH0sCiAgICAgIGNvbHVtbnM6IHsKICAgICAgICBtaW46IHBvc2l0aXZlSW50T3JOdWxsKGNvbHVtbnMubWluKSwKICAgICAgICBtYXg6IHBvc2l0aXZlSW50T3JOdWxsKGNvbHVtbnMubWF4KSwKICAgICAgICB0b3RhbDogcG9zaXRpdmVJbnRPck51bGwoY29sdW1ucy50b3RhbCkKICAgICAgfQogICAgfTsKICB9KHNvdXJjZSk7CgogIHZhciBNZWFzdXJlciA9IGZ1bmN0aW9uKCkgewoKICAgIC8vIHNldCBzb21lIGRlZmF1bHQgaW5pdGlhbCB2YWx1ZXMgdGhhdCB3aWxsIGdldCBhZGp1c3RlZCBpbiBydW50aW1lCiAgICBtZS5tZWFzdXJlcyA9IHsKICAgICAgcGFkZGluZzogMTIsCiAgICAgIGNoYXJhY3RlcjogOCwKICAgICAgaGVpZ2h0OiAxNSwKICAgICAgZGVmYXVsdHM6IHRydWUKICAgIH07CgogICAgbWUuY2FsY3VsYXRlID0gZnVuY3Rpb24obWVhc3VyZXNDZWxsKSB7CiAgICAgIGlmICghbWUubWVhc3VyZXMuZGVmYXVsdHMpCiAgICAgICAgcmV0dXJuOwoKICAgICAgdmFyIG1lYXN1cmVzQ2VsbFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobWVhc3VyZXNDZWxsLCBudWxsKTsKCiAgICAgIHZhciBuZXdQYWRkaW5nID0gcGFyc2VQYWRkaW5nKG1lYXN1cmVzQ2VsbFN0eWxlLnBhZGRpbmdMZWZ0KSArCiAgICAgICAgICAgIHBhcnNlUGFkZGluZyhtZWFzdXJlc0NlbGxTdHlsZS5wYWRkaW5nUmlnaHQpOwoKICAgICAgdmFyIHNhbXBsZVN0cmluZyA9ICJBQkNERUZHSElKMDEyMzQ1Njc4OSI7CiAgICAgIHZhciBuZXdDaGFyYWN0ZXIgPSBNYXRoLmNlaWwobWVhc3VyZXNDZWxsLmNsaWVudFdpZHRoIC8gc2FtcGxlU3RyaW5nLmxlbmd0aCk7CgogICAgICBpZiAobmV3UGFkZGluZyA8PSAwIHx8IG5ld0NoYXJhY3RlciA8PSAwKQogICAgICAgIHJldHVybjsKCiAgICAgIG1lLm1lYXN1cmVzLnBhZGRpbmcgPSBuZXdQYWRkaW5nOwogICAgICBtZS5tZWFzdXJlcy5jaGFyYWN0ZXIgPSBuZXdDaGFyYWN0ZXI7CiAgICAgIG1lLm1lYXN1cmVzLmhlaWdodCA9IG1lYXN1cmVzQ2VsbC5jbGllbnRIZWlnaHQ7CiAgICAgIG1lLm1lYXN1cmVzLmRlZmF1bHRzID0gZmFsc2U7CiAgICB9OwoKICAgIHJldHVybiBtZTsKICB9OwoKICB2YXIgUGFnZSA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHsKICAgIHZhciBtZSA9IHRoaXM7CgogICAgdmFyIGRlZmF1bHRzID0gewogICAgICBtYXg6IDcsCiAgICAgIHJvd3M6IDEwCiAgICB9OwoKICAgIHZhciB0b3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwoZGF0YS5sZW5ndGggLyBtZS5yb3dzKTsKICAgIH07CgogICAgbWUubnVtYmVyID0gMDsKICAgIG1lLm1heCA9IG9wdGlvbnMucGFnZXMgIT09IG51bGwgPyBvcHRpb25zLnBhZ2VzIDogZGVmYXVsdHMubWF4OwogICAgbWUudmlzaWJsZSA9IG1lLm1heDsKICAgIG1lLnJvd3MgPSBvcHRpb25zLnJvd3MubWluICE9PSBudWxsID8gb3B0aW9ucy5yb3dzLm1pbiA6IGRlZmF1bHRzLnJvd3M7CiAgICBtZS50b3RhbCA9IHRvdGFsUGFnZXMoKTsKCiAgICBtZS5zZXRSb3dzID0gZnVuY3Rpb24obmV3Um93cykgewogICAgICBtZS5yb3dzID0gbmV3Um93czsKICAgICAgbWUudG90YWwgPSB0b3RhbFBhZ2VzKCk7CiAgICB9OwoKICAgIG1lLnNldFBhZ2VOdW1iZXIgPSBmdW5jdGlvbihuZXdQYWdlTnVtYmVyKSB7CiAgICAgIGlmIChuZXdQYWdlTnVtYmVyIDwgMCkgbmV3UGFnZU51bWJlciA9IDA7CiAgICAgIGlmIChuZXdQYWdlTnVtYmVyID49IG1lLnRvdGFsKSBuZXdQYWdlTnVtYmVyID0gbWUudG90YWwgLSAxOwoKICAgICAgbWUubnVtYmVyID0gbmV3UGFnZU51bWJlcjsKICAgIH07CgogICAgbWUuc2V0VmlzaWJsZVBhZ2VzID0gZnVuY3Rpb24odmlzaWJsZVBhZ2VzKSB7CiAgICAgIG1lLnZpc2libGUgPSBNYXRoLm1pbihtZS5tYXgsIHZpc2libGVQYWdlcyk7CiAgICAgIG1lLnNldFBhZ2VOdW1iZXIobWUubnVtYmVyKTsKICAgIH07CgogICAgbWUuZ2V0VmlzaWJsZVBhZ2VSYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc3RhcnQgPSBtZS5udW1iZXIgLSBNYXRoLm1heChNYXRoLmZsb29yKChtZS52aXNpYmxlIC0gMSkgLyAyKSwgMCk7CiAgICAgIHZhciBlbmQgPSBtZS5udW1iZXIgKyBNYXRoLmZsb29yKG1lLnZpc2libGUgLyAyKSArIDE7CiAgICAgIHZhciBwYWdlQ291bnQgPSBtZS50b3RhbDsKCiAgICAgIGlmIChzdGFydCA8IDApIHsKICAgICAgICB2YXIgZGlmZlRvU3RhcnQgPSAwIC0gc3RhcnQ7CiAgICAgICAgc3RhcnQgKz0gZGlmZlRvU3RhcnQ7CiAgICAgICAgZW5kICs9IGRpZmZUb1N0YXJ0OwogICAgICB9CgogICAgICBpZiAoZW5kID4gcGFnZUNvdW50KSB7CiAgICAgICAgdmFyIGRpZmZUb0VuZCA9IGVuZCAtIHBhZ2VDb3VudDsKICAgICAgICBzdGFydCAtPSBkaWZmVG9FbmQ7CiAgICAgICAgZW5kIC09IGRpZmZUb0VuZDsKICAgICAgfQoKICAgICAgc3RhcnQgPSBzdGFydCA8IDAgPyAwIDogc3RhcnQ7CiAgICAgIGVuZCA9IGVuZCA+PSBwYWdlQ291bnQgPyBwYWdlQ291bnQgOiBlbmQ7CgogICAgICB2YXIgZmlyc3QgPSBmYWxzZTsKICAgICAgdmFyIGxhc3QgPSBmYWxzZTsKCiAgICAgIGlmIChzdGFydCA+IDAgJiYgbWUudmlzaWJsZSA+IDEpIHsKICAgICAgICBzdGFydCA9IHN0YXJ0ICsgMTsKICAgICAgICBmaXJzdCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChlbmQgPCBwYWdlQ291bnQgJiYgbWUudmlzaWJsZSA+IDIpIHsKICAgICAgICBlbmQgPSBlbmQgLSAxOwogICAgICAgIGxhc3QgPSB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGZpcnN0OiBmaXJzdCwKICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgbGFzdDogbGFzdAogICAgICB9OwogICAgfTsKCiAgICBtZS5nZXRSb3dTdGFydCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgcm93U3RhcnQgPSBwYWdlLm51bWJlciAqIHBhZ2Uucm93czsKICAgICAgaWYgKHJvd1N0YXJ0IDwgMCkKICAgICAgICByb3dTdGFydCA9IDA7CgogICAgICByZXR1cm4gcm93U3RhcnQ7CiAgICB9OwoKICAgIG1lLmdldFJvd0VuZCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgcm93U3RhcnQgPSBtZS5nZXRSb3dTdGFydCgpOwogICAgICByZXR1cm4gTWF0aC5taW4ocm93U3RhcnQgKyBtZS5yb3dzLCBkYXRhLmxlbmd0aCk7CiAgICB9OwoKICAgIG1lLmdldFBhZGRpbmdSb3dzID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciByb3dTdGFydCA9IG1lLmdldFJvd1N0YXJ0KCk7CiAgICAgIHZhciByb3dFbmQgPSBtZS5nZXRSb3dFbmQoKTsKICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID4gbWUucm93cyA/IG1lLnJvd3MgLSAocm93RW5kIC0gcm93U3RhcnQpIDogMDsKICAgIH07CiAgfTsKCiAgdmFyIENvbHVtbnMgPSBmdW5jdGlvbihkYXRhLCBjb2x1bW5zLCBvcHRpb25zKSB7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAgIG1lLmRlZmF1bHRzID0gewogICAgICBtaW46IDUKICAgIH07CgogICAgbWUubnVtYmVyID0gMDsKICAgIG1lLnZpc2libGUgPSAwOwogICAgbWUudG90YWwgPSBjb2x1bW5zLmxlbmd0aDsKICAgIG1lLnN1YnNldCA9IFtdOwogICAgbWUucGFkZGluZyA9IDA7CiAgICBtZS5taW4gPSBvcHRpb25zLmNvbHVtbnMubWluICE9PSBudWxsID8gb3B0aW9ucy5jb2x1bW5zLm1pbiA6IG1lLmRlZmF1bHRzLm1pbjsKICAgIG1lLm1heCA9IG9wdGlvbnMuY29sdW1ucy5tYXggIT09IG51bGwgPyBvcHRpb25zLmNvbHVtbnMubWF4IDogbnVsbDsKICAgIG1lLndpZHRocyA9IHt9OwoKICAgIHZhciB3aWR0aHNMb29rQWhlYWQgPSBNYXRoLm1heCgxMDAsIG9wdGlvbnMucm93cy5taW4pOwogICAgdmFyIHBhZGRpbmdDb2xDaGFycyA9IDEwOwoKICAgIG1lLmVtcHR5TmFtZXMgPSBmdW5jdGlvbigpIHsKICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikgewogICAgICAgIGlmIChjb2x1bW5zLmxhYmVsICE9PSBudWxsICYmIGNvbHVtbnMubGFiZWwgIT09ICIiKQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKCiAgICAgIHJldHVybiB0cnVlOwogICAgfTsKCiAgICB2YXIgcGFyc2VQYWRkaW5nID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlKSA+PSAwID8gcGFyc2VJbnQodmFsdWUpIDogMDsKICAgIH07CgogICAgbWUuY2FsY3VsYXRlV2lkdGhzID0gZnVuY3Rpb24obWVhc3VyZXMpIHsKICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikgewogICAgICAgIHZhciBtYXhDaGFycyA9IE1hdGgubWF4KAogICAgICAgICAgY29sdW1uLmxhYmVsLnRvU3RyaW5nKCkubGVuZ3RoLAogICAgICAgICAgY29sdW1uLnR5cGUudG9TdHJpbmcoKS5sZW5ndGgKICAgICAgICApOwoKICAgICAgICBmb3IgKHZhciBpZHhSb3cgPSAwOyBpZHhSb3cgPCBNYXRoLm1pbih3aWR0aHNMb29rQWhlYWQsIGRhdGEubGVuZ3RoKTsgaWR4Um93KyspIHsKICAgICAgICAgIG1heENoYXJzID0gTWF0aC5tYXgobWF4Q2hhcnMsIGRhdGFbaWR4Um93XVtjb2x1bW4ubmFtZS50b1N0cmluZygpXS5sZW5ndGgpOwogICAgICAgIH0KCiAgICAgICAgbWUud2lkdGhzW2NvbHVtbi5uYW1lXSA9IHsKICAgICAgICAgIC8vIHdpZHRoIGluIGNoYXJhY3RlcnMKICAgICAgICAgIGNoYXJzOiBtYXhDaGFycywKICAgICAgICAgIC8vIHdpZHRoIGZvciB0aGUgaW5uZXIgaHRtbCBjb2x1bW5zCiAgICAgICAgICBpbm5lcjogbWF4Q2hhcnMgKiBtZWFzdXJlcy5jaGFyYWN0ZXIsCiAgICAgICAgICAvLyB3aWR0aCBhZGRpbmcgb3V0ZXIgc3R5bGVzIGxpa2UgcGFkZGluZwogICAgICAgICAgb3V0ZXI6IG1heENoYXJzICogbWVhc3VyZXMuY2hhcmFjdGVyICsgbWVhc3VyZXMucGFkZGluZwogICAgICAgIH07CiAgICAgIH0pOwogICAgfTsKCiAgICBtZS5nZXRXaWR0aCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgd2lkdGhPdXRlciA9IDA7CiAgICAgIGZvciAodmFyIGlkeENvbCA9IDA7IGlkeENvbCA8IG1lLnN1YnNldC5sZW5ndGg7IGlkeENvbCsrKSB7CiAgICAgICAgdmFyIGNvbHVtbk5hbWUgPSBtZS5zdWJzZXRbaWR4Q29sXS5uYW1lOwogICAgICAgIHdpZHRoT3V0ZXIgPSB3aWR0aE91dGVyICsgbWUud2lkdGhzW2NvbHVtbk5hbWVdLm91dGVyOwogICAgICB9CgogICAgICB3aWR0aE91dGVyID0gd2lkdGhPdXRlciArIG1lLnBhZGRpbmcgKiBwYWRkaW5nQ29sQ2hhcnMgKiBtZWFzdXJlci5tZWFzdXJlcy5jaGFyYWN0ZXI7CgogICAgICBpZiAobWUuaGFzTW9yZUxlZnRDb2x1bW5zKCkpIHsKICAgICAgICB3aWR0aE91dGVyID0gd2lkdGhPdXRlciArIGNvbHVtbk5hdmlnYXRpb25XaWR0aFBYICsgbWVhc3VyZXIubWVhc3VyZXMucGFkZGluZzsKICAgICAgfQoKICAgICAgaWYgKG1lLmhhc01vcmVSaWdodENvbHVtbnMoKSkgewogICAgICAgIHdpZHRoT3V0ZXIgPSB3aWR0aE91dGVyICsgY29sdW1uTmF2aWdhdGlvbldpZHRoUFggKyBtZWFzdXJlci5tZWFzdXJlcy5wYWRkaW5nOwogICAgICB9CgogICAgICByZXR1cm4gd2lkdGhPdXRlcjsKICAgIH07CgogICAgbWUudXBkYXRlU2xpY2UgPSBmdW5jdGlvbigpIHsKICAgICAgaWYgKG1lLm51bWJlciArIG1lLnZpc2libGUgPj0gbWUudG90YWwpCiAgICAgICAgbWUubnVtYmVyID0gbWUudG90YWwgLSBtZS52aXNpYmxlOwoKICAgICAgaWYgKG1lLm51bWJlciA8IDApIG1lLm51bWJlciA9IDA7CgogICAgICBtZS5zdWJzZXQgPSBjb2x1bW5zLnNsaWNlKG1lLm51bWJlciwgTWF0aC5taW4obWUubnVtYmVyICsgbWUudmlzaWJsZSwgbWUudG90YWwpKTsKCiAgICAgIG1lLnN1YnNldCA9IG1lLnN1YnNldC5tYXAoZnVuY3Rpb24oY29sdW1uKSB7CiAgICAgICAgT2JqZWN0LmtleXMoY29sdW1uKS5mb3JFYWNoKGZ1bmN0aW9uKGNvbEtleSkgewogICAgICAgICAgY29sdW1uW2NvbEtleV0gPSBjb2x1bW5bY29sS2V5XSA9PT0gbnVsbCA/ICIiIDogY29sdW1uW2NvbEtleV0udG9TdHJpbmcoKTsKICAgICAgICB9KTsKCiAgICAgICAgY29sdW1uLndpZHRoID0gbnVsbDsKICAgICAgICByZXR1cm4gY29sdW1uOwogICAgICB9KTsKICAgIH07CgogICAgbWUuc2V0VmlzaWJsZUNvbHVtbnMgPSBmdW5jdGlvbihjb2x1bW5OdW1iZXIsIG5ld1Zpc2libGVDb2x1bW5zLCBwYWRkaW5nQ291bnQpIHsKICAgICAgbWUubnVtYmVyID0gY29sdW1uTnVtYmVyOwogICAgICBtZS52aXNpYmxlID0gbmV3VmlzaWJsZUNvbHVtbnM7CiAgICAgIG1lLnBhZGRpbmcgPSBwYWRkaW5nQ291bnQ7CgogICAgICBtZS51cGRhdGVTbGljZSgpOwogICAgfTsKCiAgICBtZS5pbmNDb2x1bW5OdW1iZXIgPSBmdW5jdGlvbihpbmNyZW1lbnQpIHsKICAgICAgbWUubnVtYmVyID0gbWUubnVtYmVyICsgaW5jcmVtZW50OwogICAgfTsKCiAgICBtZS5zZXRDb2x1bW5OdW1iZXIgPSBmdW5jdGlvbihuZXdOdW1iZXIpIHsKICAgICAgbWUubnVtYmVyID0gbmV3TnVtYmVyOwogICAgfTsKCiAgICBtZS5zZXRQYWRkaW5nQ291bnQgPSBmdW5jdGlvbihuZXdQYWRkaW5nKSB7CiAgICAgIG1lLnBhZGRpbmcgPSBuZXdQYWRkaW5nOwogICAgfTsKCiAgICBtZS5nZXRQYWRkaW5nQ291bnQgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIG1lLnBhZGRpbmc7CiAgICB9OwoKICAgIG1lLmhhc01vcmVMZWZ0Q29sdW1ucyA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gbWUubnVtYmVyID4gMDsKICAgIH07CgogICAgbWUuaGFzTW9yZVJpZ2h0Q29sdW1ucyA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gbWUubnVtYmVyICsgbWUudmlzaWJsZSA8IG1lLnRvdGFsOwogICAgfTsKCiAgICBtZS51cGRhdGVTbGljZSgwKTsKICAgIHJldHVybiBtZTsKICB9OwoKICB2YXIgZGF0YSA9IHNvdXJjZS5kYXRhOwogIHZhciBwYWdlID0gbmV3IFBhZ2UoZGF0YSwgb3B0aW9ucyk7CiAgdmFyIG1lYXN1cmVyID0gbmV3IE1lYXN1cmVyKGRhdGEsIG9wdGlvbnMpOwogIHZhciBjb2x1bW5zID0gbmV3IENvbHVtbnMoZGF0YSwgc291cmNlLmNvbHVtbnMsIG9wdGlvbnMpOwoKICB2YXIgdGFibGUgPSBudWxsOwogIHZhciB0YWJsZURpdiA9IG51bGw7CiAgdmFyIGhlYWRlciA9IG51bGw7CiAgdmFyIGZvb3RlciA9IG51bGw7CiAgdmFyIHRib2R5ID0gbnVsbDsKCiAgLy8gQ2FjaGVzIHBhZ2VkVGFibGUuY2xpZW50V2lkdGgsIHNwZWNpYWxseSBmb3Igd2Via2l0CiAgdmFyIGNhY2hlZFBhZ2VkVGFibGVDbGllbnRXaWR0aCA9IG51bGw7CgogIHZhciBvbkNoYW5nZUNhbGxiYWNrcyA9IFtdOwoKICB2YXIgY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHsKICAgIGlmKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkpIHsKICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7CiAgICB9IGVsc2UgaWYod2luZG93LmdldFNlbGVjdGlvbikgewogICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpOwogICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICB9CiAgfTsKCiAgdmFyIGNvbHVtbk5hdmlnYXRpb25XaWR0aFBYID0gNTsKCiAgdmFyIHJlbmRlckNvbHVtbk5hdmlnYXRpb24gPSBmdW5jdGlvbihpbmNyZW1lbnQsIGJhY2t3YXJkcykgewogICAgdmFyIGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBhcnJvdy5zZXRBdHRyaWJ1dGUoInN0eWxlIiwKICAgICAgImJvcmRlci10b3A6ICIgKyBjb2x1bW5OYXZpZ2F0aW9uV2lkdGhQWCArICJweCBzb2xpZCB0cmFuc3BhcmVudDsiICsKICAgICAgImJvcmRlci1ib3R0b206ICIgKyBjb2x1bW5OYXZpZ2F0aW9uV2lkdGhQWCArICJweCBzb2xpZCB0cmFuc3BhcmVudDsiICsKICAgICAgImJvcmRlci0iICsgKGJhY2t3YXJkcyA/ICJyaWdodCIgOiAibGVmdCIpICsgIjogIiArIGNvbHVtbk5hdmlnYXRpb25XaWR0aFBYICsgInB4IHNvbGlkOyIpOwoKICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpOwogICAgaGVhZGVyLmFwcGVuZENoaWxkKGFycm93KTsKICAgIGhlYWRlci5zZXRBdHRyaWJ1dGUoInN0eWxlIiwKICAgICAgImN1cnNvcjogcG9pbnRlcjsiICsKICAgICAgInZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IiArCiAgICAgICJtaW4td2lkdGg6ICIgKyBjb2x1bW5OYXZpZ2F0aW9uV2lkdGhQWCArICJweDsiICsKICAgICAgIndpZHRoOiAiICsgY29sdW1uTmF2aWdhdGlvbldpZHRoUFggKyAicHg7Iik7CgogICAgaGVhZGVyLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgY29sdW1ucy5pbmNDb2x1bW5OdW1iZXIoYmFja3dhcmRzID8gLTEgOiBpbmNyZW1lbnQpOwoKICAgICAgbWUuYW5pbWF0ZUNvbHVtbnMoYmFja3dhcmRzKTsKICAgICAgcmVuZGVyRm9vdGVyKCk7CgogICAgICBjbGVhclNlbGVjdGlvbigpOwogICAgICB0cmlnZ2VyT25DaGFuZ2UoKTsKICAgIH07CgogICAgcmV0dXJuIGhlYWRlcjsKICB9OwoKICB2YXIgbWF4Q29sdW1uV2lkdGggPSBmdW5jdGlvbih3aWR0aCkgewogICAgdmFyIHBhZGRpbmcgPSA4MDsKICAgIHZhciBjb2x1bW5NYXggPSBNYXRoLm1heChjYWNoZWRQYWdlZFRhYmxlQ2xpZW50V2lkdGggLSBwYWRkaW5nLCAwKTsKCiAgICByZXR1cm4gcGFyc2VJbnQod2lkdGgpID4gMCA/CiAgICAgIE1hdGgubWluKGNvbHVtbk1heCwgcGFyc2VJbnQod2lkdGgpKSArICJweCIgOgogICAgICBjb2x1bW5NYXggKyAicHgiOwogIH07CgogIHZhciBjbGVhckhlYWRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHRoZWFkID0gcGFnZWRUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCJ0aGVhZCIpWzBdOwogICAgdGhlYWQuaW5uZXJIVE1MID0gIiI7CiAgfTsKCiAgdmFyIHJlbmRlckhlYWRlciA9IGZ1bmN0aW9uKGNsZWFyKSB7CiAgICBjYWNoZWRQYWdlZFRhYmxlQ2xpZW50V2lkdGggPSBwYWdlZFRhYmxlLmNsaWVudFdpZHRoOwoKICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKCiAgICBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpOwogICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKCiAgICBpZiAoY29sdW1ucy5udW1iZXIgPiAwKQogICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29sdW1uTmF2aWdhdGlvbigtY29sdW1ucy52aXNpYmxlLCB0cnVlKSk7CgogICAgY29sdW1ucy5zdWJzZXQgPSBjb2x1bW5zLnN1YnNldC5tYXAoZnVuY3Rpb24oY29sdW1uRGF0YSkgewogICAgICB2YXIgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTsKICAgICAgY29sdW1uLnNldEF0dHJpYnV0ZSgiYWxpZ24iLCBjb2x1bW5EYXRhLmFsaWduKTsKICAgICAgY29sdW1uLnN0eWxlLnRleHRBbGlnbiA9IGNvbHVtbkRhdGEuYWxpZ247CgogICAgICBjb2x1bW4uc3R5bGUubWF4V2lkdGggPSBtYXhDb2x1bW5XaWR0aChudWxsKTsKICAgICAgaWYgKGNvbHVtbkRhdGEud2lkdGgpIHsKICAgICAgICBjb2x1bW4uc3R5bGUubWluV2lkdGggPQogICAgICAgICAgY29sdW1uLnN0eWxlLm1heFdpZHRoID0gbWF4Q29sdW1uV2lkdGgoY29sdW1uRGF0YS53aWR0aCk7CiAgICAgIH0KCiAgICAgIHZhciBjb2x1bW5OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGNvbHVtbk5hbWUuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJwYWdlZHRhYmxlLWhlYWRlci1uYW1lIik7CiAgICAgIGlmIChjb2x1bW5EYXRhLmxhYmVsID09PSAiIikgewogICAgICAgIGNvbHVtbk5hbWUuaW5uZXJIVE1MID0gIiZuYnNwOyI7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgY29sdW1uTmFtZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb2x1bW5EYXRhLmxhYmVsKSk7CiAgICAgIH0KICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGNvbHVtbk5hbWUpOwoKICAgICAgdmFyIGNvbHVtblR5cGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgY29sdW1uVHlwZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgInBhZ2VkdGFibGUtaGVhZGVyLXR5cGUiKTsKICAgICAgaWYgKGNvbHVtbkRhdGEudHlwZSA9PT0gIiIpIHsKICAgICAgICBjb2x1bW5UeXBlLmlubmVySFRNTCA9ICImbmJzcDsiOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIGNvbHVtblR5cGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIjwiICsgY29sdW1uRGF0YS50eXBlICsgIj4iKSk7CiAgICAgIH0KICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGNvbHVtblR5cGUpOwoKICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CgogICAgICBjb2x1bW5EYXRhLmVsZW1lbnQgPSBjb2x1bW47CgogICAgICByZXR1cm4gY29sdW1uRGF0YTsKICAgIH0pOwoKICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGNvbHVtbnMuZ2V0UGFkZGluZ0NvdW50KCk7IGlkeCsrKSB7CiAgICAgIHZhciBwYWRkaW5nQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTsKICAgICAgcGFkZGluZ0NvbC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgInBhZ2VkdGFibGUtcGFkZGluZy1jb2wiKTsKICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHBhZGRpbmdDb2wpOwogICAgfQoKICAgIGlmIChjb2x1bW5zLm51bWJlciArIGNvbHVtbnMudmlzaWJsZSA8IGNvbHVtbnMudG90YWwpCiAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChyZW5kZXJDb2x1bW5OYXZpZ2F0aW9uKGNvbHVtbnMudmlzaWJsZSwgZmFsc2UpKTsKCiAgICBpZiAodHlwZW9mKGNsZWFyKSA9PSAidW5kZWZpbmVkIiB8fCBjbGVhcikgY2xlYXJIZWFkZXIoKTsKICAgIHZhciB0aGVhZCA9IHBhZ2VkVGFibGUucXVlcnlTZWxlY3RvckFsbCgidGhlYWQiKVswXTsKICAgIHRoZWFkLmFwcGVuZENoaWxkKGZyYWdtZW50KTsKICB9OwoKICBtZS5hbmltYXRlQ29sdW1ucyA9IGZ1bmN0aW9uKGJhY2t3YXJkcykgewogICAgdmFyIHRoZWFkID0gcGFnZWRUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCJ0aGVhZCIpWzBdOwoKICAgIHZhciBoZWFkZXJPbGQgPSB0aGVhZC5xdWVyeVNlbGVjdG9yQWxsKCJ0ciIpWzBdOwogICAgdmFyIHRib2R5T2xkID0gdGFibGUucXVlcnlTZWxlY3RvckFsbCgidGJvZHkiKVswXTsKCiAgICBtZS5maXRDb2x1bW5zKGJhY2t3YXJkcyk7CgogICAgcmVuZGVySGVhZGVyKGZhbHNlKTsKCiAgICBoZWFkZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgIGhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSBiYWNrd2FyZHMgPyAidHJhbnNsYXRlWCgtMzBweCkiIDogInRyYW5zbGF0ZVgoMzBweCkiOwogICAgaGVhZGVyLnN0eWxlLnRyYW5zaXRpb24gPSAidHJhbnNmb3JtIDIwMG1zIGxpbmVhciwgb3BhY2l0eSAyMDBtcyI7CiAgICBoZWFkZXIuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gIjAiOwoKICAgIHJlbmRlckJvZHkoZmFsc2UpOwoKICAgIGlmIChoZWFkZXJPbGQpIHsKICAgICAgaGVhZGVyT2xkLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgaGVhZGVyT2xkLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGVYKDBweCkiOwogICAgICBoZWFkZXJPbGQuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgaGVhZGVyT2xkLnN0eWxlLnRyYW5zaXRpb24gPSAidHJhbnNmb3JtIDEwMG1zIGxpbmVhciwgb3BhY2l0eSAxMDBtcyI7CiAgICAgIGhlYWRlck9sZC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgInBhZ2VkdGFibGUtcmVtb3ZlLWhlYWQiKTsKICAgICAgaWYgKGhlYWRlck9sZC5zdHlsZS50cmFuc2l0aW9uRW5kKSB7CiAgICAgICAgaGVhZGVyT2xkLmFkZEV2ZW50TGlzdGVuZXIoInRyYW5zaXRpb25lbmQiLCBmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciBoZWFkZXJPbGRCeUNsYXNzID0gdGhlYWQucXVlcnlTZWxlY3RvcigiLnBhZ2VkdGFibGUtcmVtb3ZlLWhlYWQiKTsKICAgICAgICAgIGlmIChoZWFkZXJPbGRCeUNsYXNzKSB0aGVhZC5yZW1vdmVDaGlsZChoZWFkZXJPbGRCeUNsYXNzKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICB0aGVhZC5yZW1vdmVDaGlsZChoZWFkZXJPbGQpOwogICAgICB9CiAgICB9CgogICAgaWYgKHRib2R5T2xkKSB0YWJsZS5yZW1vdmVDaGlsZCh0Ym9keU9sZCk7CgogICAgdGJvZHkuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgIHRib2R5LnN0eWxlLnRyYW5zaXRpb24gPSAidHJhbnNmb3JtIDIwMG1zIGxpbmVhciwgb3BhY2l0eSAyMDBtcyI7CiAgICB0Ym9keS5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAiMG1zIjsKCiAgICAvLyBmb3JjZSByZWxheW91dAogICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoaGVhZGVyKS5vcGFjaXR5OwogICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUodGJvZHkpLm9wYWNpdHk7CgogICAgaWYgKGhlYWRlck9sZCkgewogICAgICBoZWFkZXJPbGQuc3R5bGUudHJhbnNmb3JtID0gYmFja3dhcmRzID8gInRyYW5zbGF0ZVgoMjBweCkiIDogInRyYW5zbGF0ZVgoLTMwcHgpIjsKICAgICAgaGVhZGVyT2xkLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICB9CgogICAgaGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGVYKDBweCkiOwogICAgaGVhZGVyLnN0eWxlLm9wYWNpdHkgPSAiMSI7CgogICAgdGJvZHkuc3R5bGUub3BhY2l0eSA9ICIxIjsKICB9CgogIG1lLm9uQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIG9uQ2hhbmdlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spOwogIH07CgogIHZhciB0cmlnZ2VyT25DaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIG9uQ2hhbmdlQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24ob25DaGFuZ2UpIHsKICAgICAgb25DaGFuZ2UoKTsKICAgIH0pOwogIH07CgogIHZhciBjbGVhckJvZHkgPSBmdW5jdGlvbigpIHsKICAgIGlmICh0Ym9keSkgewogICAgICB0YWJsZS5yZW1vdmVDaGlsZCh0Ym9keSk7CiAgICAgIHRib2R5ID0gbnVsbDsKICAgIH0KICB9OwoKICB2YXIgcmVuZGVyQm9keSA9IGZ1bmN0aW9uKGNsZWFyKSB7CiAgICBjYWNoZWRQYWdlZFRhYmxlQ2xpZW50V2lkdGggPSBwYWdlZFRhYmxlLmNsaWVudFdpZHRoCgogICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoKICAgIHZhciBwYWdlRGF0YSA9IGRhdGEuc2xpY2UocGFnZS5nZXRSb3dTdGFydCgpLCBwYWdlLmdldFJvd0VuZCgpKTsKCiAgICBwYWdlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRhdGFSb3csIGlkeFJvdykgewogICAgICB2YXIgaHRtbFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgIGh0bWxSb3cuc2V0QXR0cmlidXRlKCJjbGFzcyIsIChpZHhSb3cgJSAyICE9PTApID8gImV2ZW4iIDogIm9kZCIpOwoKICAgICAgaWYgKGNvbHVtbnMuaGFzTW9yZUxlZnRDb2x1bW5zKCkpCiAgICAgICAgaHRtbFJvdy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpKTsKCiAgICAgIGNvbHVtbnMuc3Vic2V0LmZvckVhY2goZnVuY3Rpb24oY29sdW1uRGF0YSkgewogICAgICAgIHZhciBjZWxsTmFtZSA9IGNvbHVtbkRhdGEubmFtZTsKICAgICAgICB2YXIgZGF0YUNlbGwgPSBkYXRhUm93W2NlbGxOYW1lXTsKICAgICAgICB2YXIgaHRtbENlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwoKICAgICAgICBpZiAoZGF0YUNlbGwgPT09ICJOQSIpIGh0bWxDZWxsLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAicGFnZWR0YWJsZS1uYS1jZWxsIik7CiAgICAgICAgaWYgKGRhdGFDZWxsID09PSAiX19OQV9fIikgZGF0YUNlbGwgPSAiTkEiOwoKICAgICAgICB2YXIgY2VsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhQ2VsbCk7CiAgICAgICAgaHRtbENlbGwuYXBwZW5kQ2hpbGQoY2VsbFRleHQpOwogICAgICAgIGlmIChkYXRhQ2VsbC5sZW5ndGggPiA1MCkgewogICAgICAgICAgaHRtbENlbGwuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIGRhdGFDZWxsKTsKICAgICAgICB9CiAgICAgICAgaHRtbENlbGwuc2V0QXR0cmlidXRlKCJhbGlnbiIsIGNvbHVtbkRhdGEuYWxpZ24pOwogICAgICAgIGh0bWxDZWxsLnN0eWxlLnRleHRBbGlnbiA9IGNvbHVtbkRhdGEuYWxpZ247CiAgICAgICAgaHRtbENlbGwuc3R5bGUubWF4V2lkdGggPSBtYXhDb2x1bW5XaWR0aChudWxsKTsKICAgICAgICBpZiAoY29sdW1uRGF0YS53aWR0aCkgewogICAgICAgICAgaHRtbENlbGwuc3R5bGUubWluV2lkdGggPSBodG1sQ2VsbC5zdHlsZS5tYXhXaWR0aCA9IG1heENvbHVtbldpZHRoKGNvbHVtbkRhdGEud2lkdGgpOwogICAgICAgIH0KICAgICAgICBodG1sUm93LmFwcGVuZENoaWxkKGh0bWxDZWxsKTsKICAgICAgfSk7CgogICAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBjb2x1bW5zLmdldFBhZGRpbmdDb3VudCgpOyBpZHgrKykgewogICAgICAgIHZhciBwYWRkaW5nQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICBwYWRkaW5nQ29sLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAicGFnZWR0YWJsZS1wYWRkaW5nLWNvbCIpOwogICAgICAgIGh0bWxSb3cuYXBwZW5kQ2hpbGQocGFkZGluZ0NvbCk7CiAgICAgIH0KCiAgICAgIGlmIChjb2x1bW5zLmhhc01vcmVSaWdodENvbHVtbnMoKSkKICAgICAgICBodG1sUm93LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIikpOwoKICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoaHRtbFJvdyk7CiAgICB9KTsKCiAgICBmb3IgKHZhciBpZHhQYWRkaW5nID0gMDsgaWR4UGFkZGluZyA8IHBhZ2UuZ2V0UGFkZGluZ1Jvd3MoKTsgaWR4UGFkZGluZysrKSB7CiAgICAgIHZhciBwYWRkaW5nUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKCiAgICAgIHZhciBwYWRkaW5nQ2VsbFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgIHBhZGRpbmdDZWxsUm93LmlubmVySFRNTCA9ICImbmJzcDsiOwogICAgICBwYWRkaW5nQ2VsbFJvdy5zZXRBdHRyaWJ1dGUoImNvbHNwYW4iLCAiMTAwJSIpOwogICAgICBwYWRkaW5nUm93LmFwcGVuZENoaWxkKHBhZGRpbmdDZWxsUm93KTsKCiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHBhZGRpbmdSb3cpOwogICAgfQoKICAgIGlmICh0eXBlb2YoY2xlYXIpID09ICJ1bmRlZmluZWQiIHx8IGNsZWFyKSBjbGVhckJvZHkoKTsKICAgIHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTsKICAgIHRib2R5LmFwcGVuZENoaWxkKGZyYWdtZW50KTsKCiAgICB0YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7CiAgfTsKCiAgdmFyIGdldExhYmVsSW5mbyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhZ2VTdGFydCA9IHBhZ2UuZ2V0Um93U3RhcnQoKTsKICAgIHZhciBwYWdlRW5kID0gcGFnZS5nZXRSb3dFbmQoKTsKICAgIHZhciB0b3RhbFJvd3MgPSBkYXRhLmxlbmd0aDsKCiAgICB2YXIgdG90YWxSb3dzTGFiZWwgPSBvcHRpb25zLnJvd3MudG90YWwgPyBvcHRpb25zLnJvd3MudG90YWwgOiB0b3RhbFJvd3M7CiAgICB2YXIgdG90YWxSb3dzTGFiZWxGb3JtYXQgPSB0b3RhbFJvd3NMYWJlbC50b1N0cmluZygpLnJlcGxhY2UoLyhcZCkoPz0oXGRcZFxkKSsoPyFcZCkpL2csICckMSwnKTsKCiAgICB2YXIgaW5mb1RleHQgPSAocGFnZVN0YXJ0ICsgMSkgKyAiLSIgKyBwYWdlRW5kICsgIiBvZiAiICsgdG90YWxSb3dzTGFiZWxGb3JtYXQgKyAiIHJvd3MiOwogICAgaWYgKHRvdGFsUm93cyA8IHBhZ2Uucm93cykgewogICAgICBpbmZvVGV4dCA9IHRvdGFsUm93c0xhYmVsICsgIiByb3ciICsgKHRvdGFsUm93cyAhPSAxID8gInMiIDogIiIpOwogICAgfQogICAgaWYgKGNvbHVtbnMudG90YWwgPiBjb2x1bW5zLnZpc2libGUpIHsKICAgICAgdmFyIHRvdGFsQ29sdW1uc0xhYmVsID0gb3B0aW9ucy5jb2x1bW5zLnRvdGFsID8gb3B0aW9ucy5jb2x1bW5zLnRvdGFsIDogY29sdW1ucy50b3RhbDsKCiAgICAgIGluZm9UZXh0ID0gaW5mb1RleHQgKyAiIHwgIiArIChjb2x1bW5zLm51bWJlciArIDEpICsgIi0iICsKICAgICAgICAoTWF0aC5taW4oY29sdW1ucy5udW1iZXIgKyBjb2x1bW5zLnZpc2libGUsIGNvbHVtbnMudG90YWwpKSArCiAgICAgICAgIiBvZiAiICsgdG90YWxDb2x1bW5zTGFiZWwgKyAiIGNvbHVtbnMiOwogICAgfQoKICAgIHJldHVybiBpbmZvVGV4dDsKICB9OwoKICB2YXIgY2xlYXJGb290ZXIgPSBmdW5jdGlvbigpIHsKICAgIGZvb3RlciA9IHBhZ2VkVGFibGUucXVlcnlTZWxlY3RvckFsbCgiZGl2LnBhZ2VkdGFibGUtZm9vdGVyIilbMF07CiAgICBmb290ZXIuaW5uZXJIVE1MID0gIiI7CgogICAgcmV0dXJuIGZvb3RlcjsKICB9OwoKICB2YXIgY3JlYXRlUGFnZUxpbmsgPSBmdW5jdGlvbihpZHhQYWdlKSB7CiAgICB2YXIgcGFnZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBwYWdlTGlua0NsYXNzID0gaWR4UGFnZSA9PT0gcGFnZS5udW1iZXIgPyAicGFnZWR0YWJsZS1pbmRleCBwYWdlZHRhYmxlLWluZGV4LWN1cnJlbnQiIDogInBhZ2VkdGFibGUtaW5kZXgiOwogICAgcGFnZUxpbmsuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHBhZ2VMaW5rQ2xhc3MpOwogICAgcGFnZUxpbmsuc2V0QXR0cmlidXRlKCJkYXRhLXBhZ2UtaW5kZXgiLCBpZHhQYWdlKTsKICAgIHBhZ2VMaW5rLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgcGFnZS5zZXRQYWdlTnVtYmVyKHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLXBhZ2UtaW5kZXgiKSkpOwogICAgICByZW5kZXJCb2R5KCk7CiAgICAgIHJlbmRlckZvb3RlcigpOwoKICAgICAgdHJpZ2dlck9uQ2hhbmdlKCk7CiAgICB9OwoKICAgIHBhZ2VMaW5rLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGlkeFBhZ2UgKyAxKSk7CgogICAgcmV0dXJuIHBhZ2VMaW5rOwogIH0KCiAgdmFyIHJlbmRlckZvb3RlciA9IGZ1bmN0aW9uKCkgewogICAgZm9vdGVyID0gY2xlYXJGb290ZXIoKTsKCiAgICB2YXIgbmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIG5leHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIk5leHQiKSk7CiAgICBuZXh0Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgcGFnZS5zZXRQYWdlTnVtYmVyKHBhZ2UubnVtYmVyICsgMSk7CiAgICAgIHJlbmRlckJvZHkoKTsKICAgICAgcmVuZGVyRm9vdGVyKCk7CgogICAgICB0cmlnZ2VyT25DaGFuZ2UoKTsKICAgIH07CiAgICBpZiAoZGF0YS5sZW5ndGggPiBwYWdlLnJvd3MpIGZvb3Rlci5hcHBlbmRDaGlsZChuZXh0KTsKCiAgICB2YXIgcGFnZU51bWJlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHBhZ2VOdW1iZXJzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAicGFnZWR0YWJsZS1pbmRleGVzIik7CgogICAgdmFyIHBhZ2VSYW5nZSA9IHBhZ2UuZ2V0VmlzaWJsZVBhZ2VSYW5nZSgpOwoKICAgIGlmIChwYWdlUmFuZ2UuZmlyc3QpIHsKICAgICAgdmFyIHBhZ2VMaW5rID0gY3JlYXRlUGFnZUxpbmsoMCk7CiAgICAgIHBhZ2VOdW1iZXJzLmFwcGVuZENoaWxkKHBhZ2VMaW5rKTsKCiAgICAgIHZhciBwYWdlU2VwYXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHBhZ2VTZXBhcmF0b3Iuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJwYWdlZHRhYmxlLWluZGV4LXNlcGFyYXRvci1sZWZ0Iik7CiAgICAgIHBhZ2VTZXBhcmF0b3IuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIi4uLiIpKQogICAgICBwYWdlTnVtYmVycy5hcHBlbmRDaGlsZChwYWdlU2VwYXJhdG9yKTsKICAgIH0KCiAgICBmb3IgKHZhciBpZHhQYWdlID0gcGFnZVJhbmdlLnN0YXJ0OyBpZHhQYWdlIDwgcGFnZVJhbmdlLmVuZDsgaWR4UGFnZSsrKSB7CiAgICAgIHZhciBwYWdlTGluayA9IGNyZWF0ZVBhZ2VMaW5rKGlkeFBhZ2UpOwoKICAgICAgcGFnZU51bWJlcnMuYXBwZW5kQ2hpbGQocGFnZUxpbmspOwogICAgfQoKICAgIGlmIChwYWdlUmFuZ2UubGFzdCkgewogICAgICB2YXIgcGFnZVNlcGFyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwYWdlU2VwYXJhdG9yLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAicGFnZWR0YWJsZS1pbmRleC1zZXBhcmF0b3ItcmlnaHQiKTsKICAgICAgcGFnZVNlcGFyYXRvci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiLi4uIikpCiAgICAgIHBhZ2VOdW1iZXJzLmFwcGVuZENoaWxkKHBhZ2VTZXBhcmF0b3IpOwoKICAgICAgdmFyIHBhZ2VMaW5rID0gY3JlYXRlUGFnZUxpbmsocGFnZS50b3RhbCAtIDEpOwogICAgICBwYWdlTnVtYmVycy5hcHBlbmRDaGlsZChwYWdlTGluayk7CiAgICB9CgogICAgaWYgKGRhdGEubGVuZ3RoID4gcGFnZS5yb3dzKSBmb290ZXIuYXBwZW5kQ2hpbGQocGFnZU51bWJlcnMpOwoKICAgIHZhciBwcmV2aW91cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIHByZXZpb3VzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJQcmV2aW91cyIpKTsKICAgIHByZXZpb3VzLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgcGFnZS5zZXRQYWdlTnVtYmVyKHBhZ2UubnVtYmVyIC0gMSk7CiAgICAgIHJlbmRlckJvZHkoKTsKICAgICAgcmVuZGVyRm9vdGVyKCk7CgogICAgICB0cmlnZ2VyT25DaGFuZ2UoKTsKICAgIH07CiAgICBpZiAoZGF0YS5sZW5ndGggPiBwYWdlLnJvd3MpIGZvb3Rlci5hcHBlbmRDaGlsZChwcmV2aW91cyk7CgogICAgdmFyIGluZm9MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgaW5mb0xhYmVsLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAicGFnZWR0YWJsZS1pbmZvIik7CiAgICBpbmZvTGFiZWwuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIGdldExhYmVsSW5mbygpKTsKICAgIGluZm9MYWJlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShnZXRMYWJlbEluZm8oKSkpOwogICAgZm9vdGVyLmFwcGVuZENoaWxkKGluZm9MYWJlbCk7CgogICAgdmFyIGVuYWJsZWRDbGFzcyA9ICJwYWdlZHRhYmxlLWluZGV4LW5hdiI7CiAgICB2YXIgZGlzYWJsZWRDbGFzcyA9ICJwYWdlZHRhYmxlLWluZGV4LW5hdiBwYWdlZHRhYmxlLWluZGV4LW5hdi1kaXNhYmxlZCI7CiAgICBwcmV2aW91cy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgcGFnZS5udW1iZXIgPD0gMCA/IGRpc2FibGVkQ2xhc3MgOiBlbmFibGVkQ2xhc3MpOwogICAgbmV4dC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgKHBhZ2UubnVtYmVyICsgMSkgKiBwYWdlLnJvd3MgPj0gZGF0YS5sZW5ndGggPyBkaXNhYmxlZENsYXNzIDogZW5hYmxlZENsYXNzKTsKICB9OwoKICB2YXIgbWVhc3VyZXNDZWxsID0gbnVsbDsKCiAgdmFyIHJlbmRlck1lYXN1cmVzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgbWVhc3VyZXNUYWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICBtZWFzdXJlc1RhYmxlLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIG1lYXN1cmVzVGFibGUuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgbWVhc3VyZXNUYWJsZS5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICBtZWFzdXJlc1RhYmxlLnN0eWxlLmhlaWdodCA9ICJhdXRvIjsKICAgIG1lYXN1cmVzVGFibGUuc3R5bGUud2lkdGggPSAiYXV0byI7CgogICAgdmFyIG1lYXN1cmVzUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgIG1lYXN1cmVzVGFibGUuYXBwZW5kQ2hpbGQobWVhc3VyZXNSb3cpOwoKICAgIG1lYXN1cmVzQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICB2YXIgc2FtcGxlU3RyaW5nID0gIkFCQ0RFRkdISUowMTIzNDU2Nzg5IjsKICAgIG1lYXN1cmVzQ2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzYW1wbGVTdHJpbmcpKTsKCiAgICBtZWFzdXJlc1Jvdy5hcHBlbmRDaGlsZChtZWFzdXJlc0NlbGwpOwoKICAgIHRhYmxlRGl2LmFwcGVuZENoaWxkKG1lYXN1cmVzVGFibGUpOwogIH0KCiAgbWUuaW5pdCA9IGZ1bmN0aW9uKCkgewogICAgdGFibGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHBhZ2VkVGFibGUuYXBwZW5kQ2hpbGQodGFibGVEaXYpOwogICAgdmFyIHBhZ2VkVGFibGVDbGFzcyA9IGRhdGEubGVuZ3RoID4gMCA/CiAgICAgICJwYWdlZHRhYmxlIHBhZ2VkdGFibGUtbm90LWVtcHR5IiA6CiAgICAgICJwYWdlZHRhYmxlIHBhZ2VkdGFibGUtZW1wdHkiOwoKICAgIGlmIChjb2x1bW5zLnRvdGFsID09IDAgfHwgKGNvbHVtbnMuZW1wdHlOYW1lcygpICYmIGRhdGEubGVuZ3RoID09IDApKSB7CiAgICAgIHBhZ2VkVGFibGVDbGFzcyA9IHBhZ2VkVGFibGVDbGFzcyArICIgcGFnZWR0YWJsZS1lbXB0eS1jb2x1bW5zIjsKICAgIH0KCiAgICB0YWJsZURpdi5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgcGFnZWRUYWJsZUNsYXNzKTsKCiAgICByZW5kZXJNZWFzdXJlcygpOwogICAgbWVhc3VyZXIuY2FsY3VsYXRlKG1lYXN1cmVzQ2VsbCk7CiAgICBjb2x1bW5zLmNhbGN1bGF0ZVdpZHRocyhtZWFzdXJlci5tZWFzdXJlcyk7CgogICAgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpOwogICAgdGFibGUuc2V0QXR0cmlidXRlKCJjZWxsc3BhY2luZyIsICIwIik7CiAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgInRhYmxlIHRhYmxlLWNvbmRlbnNlZCIpOwogICAgdGFibGVEaXYuYXBwZW5kQ2hpbGQodGFibGUpOwoKICAgIHRhYmxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIikpOwoKICAgIHZhciBmb290ZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGZvb3RlckRpdi5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgInBhZ2VkdGFibGUtZm9vdGVyIik7CiAgICB0YWJsZURpdi5hcHBlbmRDaGlsZChmb290ZXJEaXYpOwoKICAgIC8vIGlmIHRoZSBob3N0IGhhcyBub3QgeWV0IHByb3ZpZGVkIGhvcml6b250YWwgc3BhY2UsIHJlbmRlciBoaWRkZW4KICAgIGlmICh0YWJsZURpdi5jbGllbnRXaWR0aCA8PSAwKSB7CiAgICAgIHRhYmxlRGl2LnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICB9CgogICAgbWUucmVuZGVyKCk7CgogICAgLy8gcmV0cnkgc2VpemluZyBjb2x1bW5zIGxhdGVyIGlmIHRoZSBob3N0IGhhcyBub3QgcHJvdmlkZWQgc3BhY2UKICAgIGZ1bmN0aW9uIHJldHJ5Rml0KCkgewogICAgICBpZiAodGFibGVEaXYuY2xpZW50V2lkdGggPD0gMCkgewogICAgICAgIHNldFRpbWVvdXQocmV0cnlGaXQsIDEwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWUucmVuZGVyKCk7CiAgICAgICAgdHJpZ2dlck9uQ2hhbmdlKCk7CiAgICAgIH0KICAgIH0KICAgIGlmICh0YWJsZURpdi5jbGllbnRXaWR0aCA8PSAwKSB7CiAgICAgIHJldHJ5Rml0KCk7CiAgICB9CiAgfTsKCiAgdmFyIHJlZ2lzdGVyV2lkdGhzID0gZnVuY3Rpb24oKSB7CiAgICBjb2x1bW5zLnN1YnNldCA9IGNvbHVtbnMuc3Vic2V0Lm1hcChmdW5jdGlvbihjb2x1bW4pIHsKICAgICAgY29sdW1uLndpZHRoID0gY29sdW1ucy53aWR0aHNbY29sdW1uLm5hbWVdLmlubmVyOwogICAgICByZXR1cm4gY29sdW1uOwogICAgfSk7CiAgfTsKCiAgdmFyIHBhcnNlUGFkZGluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUpID49IDAgPyBwYXJzZUludCh2YWx1ZSkgOiAwOwogIH07CgogIG1lLmZpeGVkSGVpZ2h0ID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gb3B0aW9ucy5yb3dzLm1heCAhPSBudWxsOwogIH0KCiAgbWUuZml0Um93cyA9IGZ1bmN0aW9uKCkgewogICAgaWYgKG1lLmZpeGVkSGVpZ2h0KCkpCiAgICAgIHJldHVybjsKCiAgICBtZWFzdXJlci5jYWxjdWxhdGUobWVhc3VyZXNDZWxsKTsKCiAgICB2YXIgcm93cyA9IG9wdGlvbnMucm93cy5taW4gIT09IG51bGwgPyBvcHRpb25zLnJvd3MubWluIDogMDsKICAgIHZhciBoZWFkZXJIZWlnaHQgPSBoZWFkZXIgIT09IG51bGwgJiYgaGVhZGVyLm9mZnNldEhlaWdodCA+IDAgPyBoZWFkZXIub2Zmc2V0SGVpZ2h0IDogMDsKICAgIHZhciBmb290ZXJIZWlnaHQgPSBmb290ZXIgIT09IG51bGwgJiYgZm9vdGVyLm9mZnNldEhlaWdodCA+IDAgPyBmb290ZXIub2Zmc2V0SGVpZ2h0IDogMDsKCiAgICBpZiAocGFnZWRUYWJsZS5vZmZzZXRIZWlnaHQgPiAwKSB7CiAgICAgIHZhciBhdmFpbGFibGVIZWlnaHQgPSBwYWdlZFRhYmxlLm9mZnNldEhlaWdodCAtIGhlYWRlckhlaWdodCAtIGZvb3RlckhlaWdodDsKICAgICAgcm93cyA9IE1hdGguZmxvb3IoKGF2YWlsYWJsZUhlaWdodCkgLyBtZWFzdXJlci5tZWFzdXJlcy5oZWlnaHQpOwogICAgfQoKICAgIHJvd3MgPSBvcHRpb25zLnJvd3MubWluICE9PSBudWxsID8gTWF0aC5tYXgob3B0aW9ucy5yb3dzLm1pbiwgcm93cykgOiByb3dzOwoKICAgIHBhZ2Uuc2V0Um93cyhyb3dzKTsKICB9CgogIC8vIFRoZSBnb2FsIG9mIHRoaXMgZnVuY3Rpb24gaXMgdG8gYWRkIGFzIG1hbnkgY29sdW1ucyBhcyBwb3NzaWJsZQogIC8vIHN0YXJ0aW5nIGZyb20gbGVmdC10by1yaWdodCwgd2hlbiB0aGUgcmlnaHQgbW9zdCBsaW1pdCBpcyByZWFjaGVkCiAgLy8gaXQgdHJpZXMgdG8gYWRkIGNvbHVtbnMgZnJvbSB0aGUgbGVmdCBhcyB3ZWxsLgogIC8vCiAgLy8gV2hlbiBzdGFydEJhY2t3YXJkcyBpcyB0cnVlIGNvbHVtbnMgYXJlIGFkZGVkIGZyb20gcmlnaHQtdG8tbGVmdAogIG1lLmZpdENvbHVtbnMgPSBmdW5jdGlvbihzdGFydEJhY2t3YXJkcykgewogICAgbWVhc3VyZXIuY2FsY3VsYXRlKG1lYXN1cmVzQ2VsbCk7CiAgICBjb2x1bW5zLmNhbGN1bGF0ZVdpZHRocyhtZWFzdXJlci5tZWFzdXJlcyk7CgogICAgaWYgKHRhYmxlRGl2LmNsaWVudFdpZHRoID4gMCkgewogICAgICB0YWJsZURpdi5zdHlsZS5vcGFjaXR5ID0gMTsKICAgIH0KCiAgICB2YXIgdmlzaWJsZUNvbHVtbnMgPSB0YWJsZURpdi5jbGllbnRXaWR0aCA8PSAwID8gTWF0aC5tYXgoY29sdW1ucy5taW4sIDEpIDogMTsKICAgIHZhciBjb2x1bW5OdW1iZXIgPSBjb2x1bW5zLm51bWJlcjsKICAgIHZhciBwYWRkaW5nQ291bnQgPSAwOwoKICAgIC8vIHRyYWNrIGEgbGlzdCBvZiBhZGRlZCBjb2x1bW5zIGFzIHdlIGJ1aWxkIHRoZSB2aXNpYmxlIG9uZXMgdG8gYWxsb3cgdXMKICAgIC8vIHRvIHJlbW92ZSBjb2x1bW5zIHdoZW4gdGhleSBkb24ndCBmaXQgYW55bW9yZS4KICAgIHZhciBjb2x1bW5IaXN0b3J5ID0gW107CgogICAgdmFyIGxhc3RUYWJsZUhlaWdodCA9IDA7CiAgICB2YXIgYmFja3dhcmRzID0gc3RhcnRCYWNrd2FyZHM7CgogICAgdmFyIHRhYmxlRGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YWJsZURpdiwgbnVsbCk7CiAgICB2YXIgdGFibGVEaXZQYWRkaW5nID0gcGFyc2VQYWRkaW5nKHRhYmxlRGl2U3R5bGUucGFkZGluZ0xlZnQpICsKICAgICAgcGFyc2VQYWRkaW5nKHRhYmxlRGl2U3R5bGUucGFkZGluZ1JpZ2h0KTsKCiAgICB2YXIgYWRkUGFkZGluZ0NvbCA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRXaWR0aCA9IDA7CgogICAgd2hpbGUgKHRydWUpIHsKICAgICAgY29sdW1ucy5zZXRWaXNpYmxlQ29sdW1ucyhjb2x1bW5OdW1iZXIsIHZpc2libGVDb2x1bW5zLCBwYWRkaW5nQ291bnQpOwogICAgICBjdXJyZW50V2lkdGggPSBjb2x1bW5zLmdldFdpZHRoKCk7CgogICAgICBpZiAodGFibGVEaXYuY2xpZW50V2lkdGggLSB0YWJsZURpdlBhZGRpbmcgPCBjdXJyZW50V2lkdGgpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgY29sdW1uSGlzdG9yeS5wdXNoKHsKICAgICAgICBjb2x1bW5OdW1iZXI6IGNvbHVtbk51bWJlciwKICAgICAgICB2aXNpYmxlQ29sdW1uczogdmlzaWJsZUNvbHVtbnMsCiAgICAgICAgcGFkZGluZ0NvdW50OiBwYWRkaW5nQ291bnQKICAgICAgfSk7CgogICAgICBpZiAoY29sdW1uSGlzdG9yeS5sZW5ndGggPiAxMDApIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJNb3JlIHRoYW4gMTAwIHRyaWVzIHRvIGZpdCBjb2x1bW5zLCBhYm9ydGluZyIpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAoY29sdW1ucy5tYXggIT09IG51bGwgJiYKICAgICAgICBjb2x1bW5zLnZpc2libGUgKyBjb2x1bW5zLmdldFBhZGRpbmdDb3VudCgpID49IGNvbHVtbnMubWF4KSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIC8vIGlmIHdlIHJ1biBvdXQgb2YgcmlnaHQtY29sdW1ucwogICAgICBpZiAoIWJhY2t3YXJkcyAmJiBjb2x1bW5OdW1iZXIgKyBjb2x1bW5zLnZpc2libGUgPj0gY29sdW1ucy50b3RhbCkgewogICAgICAgIC8vIGlmIHdlIHN0YXJ0ZWQgYWRkaW5nIHJpZ2h0LWNvbHVtbnMsIHRyeSBhZGRpbmcgbGVmdC1jb2x1bW5zCiAgICAgICAgaWYgKCFzdGFydEJhY2t3YXJkcyAmJiBjb2x1bW5OdW1iZXIgPiAwKSB7CiAgICAgICAgICBiYWNrd2FyZHMgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChjb2x1bW5zLm1pbiA9PT0gbnVsbCB8fCB2aXNpYmxlQ29sdW1ucyArIGNvbHVtbnMuZ2V0UGFkZGluZ0NvdW50KCkgPj0gY29sdW1ucy5taW4pIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIHBhZGRpbmdDb3VudCA9IHBhZGRpbmdDb3VudCArIDE7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBpZiB3ZSBydW4gb3V0IG9mIGxlZnQtY29sdW1ucwogICAgICBpZiAoYmFja3dhcmRzICYmIGNvbHVtbk51bWJlciA9PSAwKSB7CiAgICAgICAgLy8gaWYgd2Ugc3RhcnRlZCBhZGRpbmcgbGVmdC1jb2x1bW5zLCB0cnkgYWRkaW5nIHJpZ2h0LWNvbHVtbnMKICAgICAgICBpZiAoc3RhcnRCYWNrd2FyZHMgJiYgY29sdW1uTnVtYmVyICsgY29sdW1ucy52aXNpYmxlIDwgY29sdW1ucy50b3RhbCkgewogICAgICAgICAgYmFja3dhcmRzID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGNvbHVtbnMubWluID09PSBudWxsIHx8IHZpc2libGVDb2x1bW5zICsgY29sdW1ucy5nZXRQYWRkaW5nQ291bnQoKSA+PSBjb2x1bW5zLm1pbikgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgcGFkZGluZ0NvdW50ID0gcGFkZGluZ0NvdW50ICsgMTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIHdoZW4gbW92aW5nIGJhY2t3YXJkcyB0cnkgZml0dGluZyBsZWZ0IGNvbHVtbnMgZmlyc3QKICAgICAgaWYgKGJhY2t3YXJkcyAmJiBjb2x1bW5OdW1iZXIgPiAwKSB7CiAgICAgICAgY29sdW1uTnVtYmVyID0gY29sdW1uTnVtYmVyIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGNvbHVtbk51bWJlciArIHZpc2libGVDb2x1bW5zIDwgY29sdW1ucy50b3RhbCkgewogICAgICAgIHZpc2libGVDb2x1bW5zID0gdmlzaWJsZUNvbHVtbnMgKyAxOwogICAgICB9CiAgICB9CgogICAgdmFyIGxhc3RSZW5kZXJhYmxlQ29sdW1uID0gewogICAgICAgIGNvbHVtbk51bWJlcjogY29sdW1uTnVtYmVyLAogICAgICAgIHZpc2libGVDb2x1bW5zOiB2aXNpYmxlQ29sdW1ucywKICAgICAgICBwYWRkaW5nQ291bnQ6IHBhZGRpbmdDb3VudAogICAgfTsKCiAgICBpZiAoY29sdW1uSGlzdG9yeS5sZW5ndGggPiAwKSB7CiAgICAgIGxhc3RSZW5kZXJhYmxlQ29sdW1uID0gY29sdW1uSGlzdG9yeVtjb2x1bW5IaXN0b3J5Lmxlbmd0aCAtIDFdOwogICAgfQoKICAgIGNvbHVtbnMuc2V0VmlzaWJsZUNvbHVtbnMoCiAgICAgIGxhc3RSZW5kZXJhYmxlQ29sdW1uLmNvbHVtbk51bWJlciwKICAgICAgbGFzdFJlbmRlcmFibGVDb2x1bW4udmlzaWJsZUNvbHVtbnMsCiAgICAgIGxhc3RSZW5kZXJhYmxlQ29sdW1uLnBhZGRpbmdDb3VudCk7CgogICAgaWYgKHBhZ2VkVGFibGUub2Zmc2V0V2lkdGggPiAwKSB7CiAgICAgIHBhZ2Uuc2V0VmlzaWJsZVBhZ2VzKE1hdGgubWF4KE1hdGguY2VpbCgxLjAgKiAocGFnZWRUYWJsZS5vZmZzZXRXaWR0aCAtIDI1MCkgLyA0MCksIDIpKTsKICAgIH0KCiAgICByZWdpc3RlcldpZHRocygpOwogIH07CgogIG1lLmZpdCA9IGZ1bmN0aW9uKHN0YXJ0QmFja3dhcmRzKSB7CiAgICBtZS5maXRSb3dzKCk7CiAgICBtZS5maXRDb2x1bW5zKHN0YXJ0QmFja3dhcmRzKTsKICB9CgogIG1lLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgbWUuZml0Q29sdW1ucyhmYWxzZSk7CgogICAgLy8gcmVuZGVyIGhlYWRlci9mb290ZXIgdG8gbWVhc3VyZSBoZWlnaHQgYWNjdXJhdGVseQogICAgcmVuZGVySGVhZGVyKCk7CiAgICByZW5kZXJGb290ZXIoKTsKCiAgICBtZS5maXRSb3dzKCk7CiAgICByZW5kZXJCb2R5KCk7CgogICAgLy8gcmUtcmVuZGVyIGZvb3RlciB0byBtYXRjaCBuZXcgcm93cwogICAgcmVuZGVyRm9vdGVyKCk7CiAgfQoKICB2YXIgcmVzaXplTGFzdFdpZHRoID0gLTE7CiAgdmFyIHJlc2l6ZUxhc3RIZWlnaHQgPSAtMTsKICB2YXIgcmVzaXplTmV3V2lkdGggPSAtMTsKICB2YXIgcmVzaXplTmV3SGVpZ2h0ID0gLTE7CiAgdmFyIHJlc2l6ZVBlbmRpbmcgPSBmYWxzZTsKCiAgbWUucmVzaXplID0gZnVuY3Rpb24obmV3V2lkdGgsIG5ld0hlaWdodCkgewoKICAgIGZ1bmN0aW9uIHJlc2l6ZURlbGF5ZWQoKSB7CiAgICAgIHJlc2l6ZVBlbmRpbmcgPSBmYWxzZTsKCiAgICAgIGlmICgKICAgICAgICAocmVzaXplTmV3V2lkdGggIT09IHJlc2l6ZUxhc3RXaWR0aCkgfHwKICAgICAgICAoIW1lLmZpeGVkSGVpZ2h0KCkgJiYgcmVzaXplTmV3SGVpZ2h0ICE9PSByZXNpemVMYXN0SGVpZ2h0KQogICAgICApIHsKICAgICAgICByZXNpemVMYXN0V2lkdGggPSByZXNpemVOZXdXaWR0aDsKICAgICAgICByZXNpemVMYXN0SGVpZ2h0ID0gcmVzaXplTmV3SGVpZ2h0OwoKICAgICAgICBzZXRUaW1lb3V0KHJlc2l6ZURlbGF5ZWQsIDIwMCk7CiAgICAgICAgcmVzaXplUGVuZGluZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWUucmVuZGVyKCk7CiAgICAgICAgdHJpZ2dlck9uQ2hhbmdlKCk7CgogICAgICAgIHJlc2l6ZUxhc3RXaWR0aCA9IC0xOwogICAgICAgIHJlc2l6ZUxhc3RIZWlnaHQgPSAtMTsKICAgICAgfQogICAgfQoKICAgIHJlc2l6ZU5ld1dpZHRoID0gbmV3V2lkdGg7CiAgICByZXNpemVOZXdIZWlnaHQgPSBuZXdIZWlnaHQ7CgogICAgaWYgKCFyZXNpemVQZW5kaW5nKSByZXNpemVEZWxheWVkKCk7CiAgfTsKfTsKCnZhciBQYWdlZFRhYmxlRG9jOwooZnVuY3Rpb24gKFBhZ2VkVGFibGVEb2MpIHsKICB2YXIgYWxsUGFnZWRUYWJsZXMgPSBbXTsKCiAgUGFnZWRUYWJsZURvYy5pbml0QWxsID0gZnVuY3Rpb24oKSB7CiAgICBhbGxQYWdlZFRhYmxlcyA9IFtdOwoKICAgIHZhciBwYWdlZFRhYmxlcyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZWR0YWJsZT0iZmFsc2UiXSxbZGF0YS1wYWdlZHRhYmxlPSIiXScpKTsKICAgIHBhZ2VkVGFibGVzLmZvckVhY2goZnVuY3Rpb24ocGFnZWRUYWJsZSwgaWR4KSB7CiAgICAgIHBhZ2VkVGFibGUuc2V0QXR0cmlidXRlKCJkYXRhLXBhZ2VkdGFibGUiLCAidHJ1ZSIpOwogICAgICBwYWdlZFRhYmxlLnNldEF0dHJpYnV0ZSgicGFnZWR0YWJsZS1wYWdlIiwgMCk7CiAgICAgIHBhZ2VkVGFibGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJwYWdlZHRhYmxlLXdyYXBwZXIiKTsKCiAgICAgIHZhciBwYWdlZFRhYmxlSW5zdGFuY2UgPSBuZXcgUGFnZWRUYWJsZShwYWdlZFRhYmxlKTsKICAgICAgcGFnZWRUYWJsZUluc3RhbmNlLmluaXQoKTsKCiAgICAgIGFsbFBhZ2VkVGFibGVzLnB1c2gocGFnZWRUYWJsZUluc3RhbmNlKTsKICAgIH0pOwogIH07CgogIFBhZ2VkVGFibGVEb2MucmVzaXplQWxsID0gZnVuY3Rpb24oKSB7CiAgICBhbGxQYWdlZFRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKHBhZ2VkVGFibGUpIHsKICAgICAgcGFnZWRUYWJsZS5yZW5kZXIoKTsKICAgIH0pOwogIH07CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBQYWdlZFRhYmxlRG9jLnJlc2l6ZUFsbCk7CgogIHJldHVybiBQYWdlZFRhYmxlRG9jOwp9KShQYWdlZFRhYmxlRG9jIHx8IChQYWdlZFRhYmxlRG9jID0ge30pKTsKCndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICBQYWdlZFRhYmxlRG9jLmluaXRBbGwoKTsKfTsK"></script>
  <script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCFlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXN1bHQgPSBldmFsKGNvZGUpOwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBpbml0U2l6aW5nKGVsKSB7CiAgICB2YXIgc2l6aW5nID0gc2l6aW5nUG9saWN5KGVsKTsKICAgIGlmICghc2l6aW5nKQogICAgICByZXR1cm47CgogICAgdmFyIGNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodG1sd2lkZ2V0X2NvbnRhaW5lciIpOwogICAgaWYgKCFjZWwpCiAgICAgIHJldHVybjsKCiAgICBpZiAodHlwZW9mKHNpemluZy5wYWRkaW5nKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9IHBhZGRpbmdUb0Nzcyh1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKSk7CiAgICB9CgogICAgaWYgKHNpemluZy5maWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgaWYgKGNlbCkgewogICAgICAgIGNlbC5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICAgdmFyIHBhZCA9IHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpOwogICAgICAgIGNlbC5zdHlsZS50b3AgPSBwYWQudG9wICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUucmlnaHQgPSBwYWQucmlnaHQgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5ib3R0b20gPSBwYWQuYm90dG9tICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUubGVmdCA9IHBhZC5sZWZ0ICsgInB4IjsKICAgICAgICBlbC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgZWwuc3R5bGUud2lkdGggPSBweChzaXppbmcud2lkdGgpOwogICAgICBlbC5zdHlsZS5oZWlnaHQgPSBweChzaXppbmcuaGVpZ2h0KTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwogICAgfQogIH0KCiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIG1ldGhvZHMKICB2YXIgZGVmYXVsdHMgPSB7CiAgICBmaW5kOiBmdW5jdGlvbihzY29wZSkgewogICAgICByZXR1cm4gcXVlcnlTZWxlY3RvckFsbChzY29wZSwgIi4iICsgdGhpcy5uYW1lKTsKICAgIH0sCiAgICByZW5kZXJFcnJvcjogZnVuY3Rpb24oZWwsIGVycikgewogICAgICB2YXIgJGVsID0gJChlbCk7CgogICAgICB0aGlzLmNsZWFyRXJyb3IoZWwpOwoKICAgICAgLy8gQWRkIGFsbCB0aGVzZSBlcnJvciBjbGFzc2VzLCBhcyBTaGlueSBkb2VzCiAgICAgIHZhciBlcnJDbGFzcyA9ICJzaGlueS1vdXRwdXQtZXJyb3IiOwogICAgICBpZiAoZXJyLnR5cGUgIT09IG51bGwpIHsKICAgICAgICAvLyB1c2UgdGhlIGNsYXNzZXMgb2YgdGhlIGVycm9yIGNvbmRpdGlvbiBhcyBDU1MgY2xhc3MgbmFtZXMKICAgICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiAiICsgJC5tYXAoYXNBcnJheShlcnIudHlwZSksIGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgICAgIHJldHVybiBlcnJDbGFzcyArICItIiArIHR5cGU7CiAgICAgICAgfSkuam9pbigiICIpOwogICAgICB9CiAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiIGh0bWx3aWRnZXRzLWVycm9yIjsKCiAgICAgIC8vIElzIGVsIGlubGluZSBvciBibG9jaz8gSWYgaW5saW5lIG9yIGlubGluZS1ibG9jaywganVzdCBkaXNwbGF5Om5vbmUgaXQKICAgICAgLy8gYW5kIGFkZCBhbiBpbmxpbmUgZXJyb3IuCiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmNzcygiZGlzcGxheSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBkaXNwbGF5KTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgICRlbC5oaWRlKCk7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yU3BhbiA9ICQoIjxzcGFuPiIpLmFkZENsYXNzKGVyckNsYXNzKTsKICAgICAgICAgIGVycm9yU3Bhbi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvclNwYW4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKSB7CiAgICAgICAgLy8gSWYgYmxvY2ssIGFkZCBhbiBlcnJvciBqdXN0IGFmdGVyIHRoZSBlbCwgc2V0IHZpc2liaWxpdHk6bm9uZSBvbiB0aGUKICAgICAgICAvLyBlbCwgYW5kIHBvc2l0aW9uIHRoZSBlcnJvciB0byBiZSBvbiB0b3Agb2YgdGhlIGVsLgogICAgICAgIC8vIE1hcmsgaXQgd2l0aCBhIHVuaXF1ZSBJRCBhbmQgQ1NTIGNsYXNzIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIuCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JEaXYgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKGVyckNsYXNzKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikKICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgLy8gc2V0dGluZyB3aWR0aCBjYW4gcHVzaCBvdXQgdGhlIHBhZ2Ugc2l6ZSwgZm9yY2luZyBvdGhlcndpc2UKICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgc2Nyb2xsYmFycyB0byBhcHBlYXIgYW5kIG1ha2luZyBpdCBpbXBvc3NpYmxlIGZvcgogICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0byBzaHJpbms7IHNvIHVzZSBtYXgtd2lkdGggaW5zdGVhZAogICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgZXJyb3JEaXYudGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JEaXYpOwoKICAgICAgICAgIC8vIFJlYWxseSBkdW1iIHdheSB0byBrZWVwIHRoZSBzaXplL3Bvc2l0aW9uIG9mIHRoZSBlcnJvciBpbiBzeW5jIHdpdGgKICAgICAgICAgIC8vIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgd2luZG93IGlzIHJlc2l6ZWQgb3Igd2hhdGV2ZXIuCiAgICAgICAgICB2YXIgaW50SWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKCFlcnJvckRpdlswXS5wYXJlbnRFbGVtZW50KSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRJZCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yRGl2CiAgICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24oZWwpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICB2YXIgZGlzcGxheSA9ICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBudWxsKTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgIGlmIChkaXNwbGF5KQogICAgICAgICAgJGVsLmNzcygiZGlzcGxheSIsIGRpc3BsYXkpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIil7CiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJpbmhlcml0Iik7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNpemluZzoge30KICB9OwoKICAvLyBDYWxsZWQgYnkgd2lkZ2V0IGJpbmRpbmdzIHRvIHJlZ2lzdGVyIGEgbmV3IHR5cGUgb2Ygd2lkZ2V0LiBUaGUgZGVmaW5pdGlvbgogIC8vIG9iamVjdCBjYW4gY29udGFpbiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgLy8gLSBuYW1lIChyZXF1aXJlZCkgLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBiaW5kaW5nIG5hbWUsIHdoaWNoIHdpbGwgYmUKICAvLyAgIHVzZWQgYnkgZGVmYXVsdCBhcyB0aGUgQ1NTIGNsYXNzbmFtZSB0byBsb29rIGZvci4KICAvLyAtIGluaXRpYWxpemUgKG9wdGlvbmFsKSAtIEEgZnVuY3Rpb24oZWwpIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIHdpZGdldCBlbGVtZW50OyBpZiBhIHZhbHVlIGlzIHJldHVybmVkLCBpdCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQKICAvLyAgIHZhbHVlIHRvIHJlbmRlclZhbHVlLgogIC8vIC0gcmVuZGVyVmFsdWUgKHJlcXVpcmVkKSAtIEEgZnVuY3Rpb24oZWwsIGRhdGEsIGluaXRWYWx1ZSkgdGhhdCB3aWxsIGJlCiAgLy8gICBjYWxsZWQgd2l0aCBkYXRhLiBTdGF0aWMgY29udGV4dHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgZWxlbWVudDsgU2hpbnkgYXBwcyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHBlcgogIC8vICAgZWxlbWVudCwgYXMgdGhlIGRhdGEgY2hhbmdlcy4KICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0ID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgewogICAgaWYgKCFkZWZpbml0aW9uLm5hbWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgbmFtZSIpOwogICAgfQogICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgdHlwZSIpOwogICAgfQogICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgc3VwcG9ydCBvdXRwdXQgd2lkZ2V0cwogICAgaWYgKGRlZmluaXRpb24udHlwZSAhPT0gIm91dHB1dCIpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgd2lkZ2V0IHR5cGUgJyIgKyBkZWZpbml0aW9uLnR5cGUgKyAiJyIpOwogICAgfQogICAgLy8gVE9ETzogVmVyaWZ5IHRoYXQgLm5hbWUgaXMgYSB2YWxpZCBDU1MgY2xhc3NuYW1lCgogICAgLy8gU3VwcG9ydCBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMuIE9sZC1zdHlsZSBjbGFzcy1ib3VuZAogICAgLy8gZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0ICJvYmplY3QiIHBlciB3aWRnZXQgcGVyIHR5cGUvY2xhc3Mgb2YKICAgIC8vIHdpZGdldDsgdGhlIHJlbmRlclZhbHVlIGFuZCByZXNpemUgbWV0aG9kcyBvbiBzdWNoIHdpZGdldCBvYmplY3RzCiAgICAvLyB0YWtlIGVsIGFuZCBpbnN0YW5jZSBhcmd1bWVudHMsIGJlY2F1c2UgdGhlIHdpZGdldCBvYmplY3QgY2FuJ3QKICAgIC8vIHN0b3JlIHRoZW0uIE5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQKICAgIC8vIG9iamVjdCBwZXIgd2lkZ2V0IGluc3RhbmNlOyB0aGUgZGVmaW5pdGlvbiB0aGF0J3MgcGFzc2VkIGluIGRvZXNuJ3QKICAgIC8vIHByb3ZpZGUgcmVuZGVyVmFsdWUgb3IgcmVzaXplIG1ldGhvZHMgYXQgYWxsLCBqdXN0IHRoZSBzaW5nbGUgbWV0aG9kCiAgICAvLyAgIGZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpCiAgICAvLyB3aGljaCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGhhcyByZW5kZXJWYWx1ZSh4KSBhbmQgcmVzaXplKHcsIGgpLgogICAgLy8gVGhpcyBlbmFibGVzIGEgZmFyIG1vcmUgbmF0dXJhbCBwcm9ncmFtbWluZyBzdHlsZSBmb3IgdGhlIHdpZGdldAogICAgLy8gYXV0aG9yLCB3aG8gY2FuIHN0b3JlIHBlci1pbnN0YW5jZSBzdGF0ZSB1c2luZyBlaXRoZXIgT08tc3R5bGUKICAgIC8vIGluc3RhbmNlIGZpZWxkcyBvciBmdW5jdGlvbmFsLXN0eWxlIGNsb3N1cmUgdmFyaWFibGVzIChJIGd1ZXNzIHRoaXMKICAgIC8vIGlzIGluIGNvbnRyYXN0IHRvIHdoYXQgY2FuIG9ubHkgYmUgY2FsbGVkIEMtc3R5bGUgcHNldWRvLU9PIHdoaWNoIGlzCiAgICAvLyB3aGF0IHdlIHJlcXVpcmVkIGJlZm9yZSkuCiAgICBpZiAoZGVmaW5pdGlvbi5mYWN0b3J5KSB7CiAgICAgIGRlZmluaXRpb24gPSBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZpbml0aW9uKTsKICAgIH0KCiAgICBpZiAoIWRlZmluaXRpb24ucmVuZGVyVmFsdWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgcmVuZGVyVmFsdWUgZnVuY3Rpb24iKTsKICAgIH0KCiAgICAvLyBGb3Igc3RhdGljIHJlbmRlcmluZyAobm9uLVNoaW55KSwgdXNlIGEgc2ltcGxlIHdpZGdldCByZWdpc3RyYXRpb24KICAgIC8vIHNjaGVtZS4gV2UgYWxzbyB1c2UgdGhpcyBzY2hlbWUgZm9yIFNoaW55IGFwcHMvZG9jdW1lbnRzIHRoYXQgYWxzbwogICAgLy8gY29udGFpbiBzdGF0aWMgd2lkZ2V0cy4KICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uCiAgICB2YXIgc3RhdGljQmluZGluZyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwogICAgb3ZlcnJpZGVNZXRob2Qoc3RhdGljQmluZGluZywgImZpbmQiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBzdXBlcmZ1bmMoc2NvcGUpOwogICAgICAgIC8vIEZpbHRlciBvdXQgU2hpbnkgb3V0cHV0cywgd2Ugb25seSB3YW50IHRoZSBzdGF0aWMga2luZAogICAgICAgIHJldHVybiBmaWx0ZXJCeUNsYXNzKHJlc3VsdHMsICJodG1sLXdpZGdldC1vdXRwdXQiLCBmYWxzZSk7CiAgICAgIH07CiAgICB9KTsKICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzLnB1c2goc3RhdGljQmluZGluZyk7CgogICAgaWYgKHNoaW55TW9kZSkgewogICAgICAvLyBTaGlueSBpcyBydW5uaW5nLiBSZWdpc3RlciB0aGUgZGVmaW5pdGlvbiB3aXRoIGFuIG91dHB1dCBiaW5kaW5nLgogICAgICAvLyBUaGUgZGVmaW5pdGlvbiBpdHNlbGYgd2lsbCBub3QgYmUgdGhlIG91dHB1dCBiaW5kaW5nLCBpbnN0ZWFkCiAgICAgIC8vIHdlIHdpbGwgbWFrZSBhbiBvdXRwdXQgYmluZGluZyBvYmplY3QgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlCiAgICAgIC8vIGRlZmluaXRpb24uIFRoaXMgaXMgYmVjYXVzZSB3ZSBmb29saXNobHkgdXNlZCB0aGUgc2FtZSBtZXRob2QKICAgICAgLy8gbmFtZSAocmVuZGVyVmFsdWUpIGZvciBodG1sd2lkZ2V0cyBkZWZpbml0aW9uIGFuZCBTaGlueSBiaW5kaW5ncwogICAgICAvLyBidXQgdGhleSBhY3R1YWxseSBoYXZlIHF1aXRlIGRpZmZlcmVudCBzZW1hbnRpY3MgKHRoZSBTaGlueQogICAgICAvLyBiaW5kaW5ncyByZWNlaXZlIGRhdGEgdGhhdCBpbmNsdWRlcyBsb3RzIG9mIG1ldGFkYXRhIHRoYXQgaXQKICAgICAgLy8gc3RyaXBzIG9mZiBiZWZvcmUgY2FsbGluZyBodG1sd2lkZ2V0cyByZW5kZXJWYWx1ZSkuIFdlIGNhbid0CiAgICAgIC8vIGp1c3QgaWdub3JlIHRoZSBkaWZmZXJlbmNlIGJlY2F1c2UgaW4gc29tZSB3aWRnZXRzIGl0J3MgaGVscGZ1bAogICAgICAvLyB0byBjYWxsIHRoaXMucmVuZGVyVmFsdWUoKSBmcm9tIGluc2lkZSBvZiByZXNpemUoKSwgYW5kIGlmCiAgICAgIC8vIHdlJ3JlIG5vdCBkZWxlZ2F0aW5nLCB0aGVuIHRoYXQgY2FsbCB3aWxsIGdvIHRvIHRoZSBTaGlueQogICAgICAvLyB2ZXJzaW9uIGluc3RlYWQgb2YgdGhlIGh0bWx3aWRnZXRzIHZlcnNpb24uCgogICAgICAvLyBNZXJnZSBkZWZhdWx0cyB3aXRoIGRlZmluaXRpb24sIHdpdGhvdXQgbXV0YXRpbmcgZWl0aGVyLgogICAgICB2YXIgYmluZGluZ0RlZiA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwoKICAgICAgLy8gVGhpcyBvYmplY3Qgd2lsbCBiZSBvdXIgYWN0dWFsIFNoaW55IGJpbmRpbmcuCiAgICAgIHZhciBzaGlueUJpbmRpbmcgPSBuZXcgU2hpbnkuT3V0cHV0QmluZGluZygpOwoKICAgICAgLy8gV2l0aCBhIGZldyBleGNlcHRpb25zLCB3ZSdsbCB3YW50IHRvIHNpbXBseSB1c2UgdGhlIGJpbmRpbmdEZWYncwogICAgICAvLyB2ZXJzaW9uIG9mIG1ldGhvZHMgaWYgdGhleSBhcmUgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvCiAgICAgIC8vIFNoaW55J3MgZGVmYXVsdHMuIE5PVEU6IElmIFNoaW55J3Mgb3V0cHV0IGJpbmRpbmdzIGdhaW4gYWRkaXRpb25hbAogICAgICAvLyBtZXRob2RzIGluIHRoZSBmdXR1cmUsIGFuZCB3ZSB3YW50IHRoZW0gdG8gYmUgb3ZlcnJpZGVhYmxlIGJ5CiAgICAgIC8vIEhUTUxXaWRnZXQgYmluZGluZyBkZWZpbml0aW9ucywgdGhlbiB3ZSdsbCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoaXMKICAgICAgLy8gbGlzdC4KICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiZ2V0SWQiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUNoYW5nZSIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAicmVuZGVyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiY2xlYXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJzaG93UHJvZ3Jlc3MiKTsKCiAgICAgIC8vIFRoZSBmaW5kLCByZW5kZXJWYWx1ZSwgYW5kIHJlc2l6ZSBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseSwgYmVjYXVzZSB3ZQogICAgICAvLyB3YW50IHRvIGFjdHVhbGx5IGRlY29yYXRlIHRoZSBiZWhhdmlvciBvZiB0aGUgYmluZGluZ0RlZiBtZXRob2RzLgoKICAgICAgc2hpbnlCaW5kaW5nLmZpbmQgPSBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gYmluZGluZ0RlZi5maW5kKHNjb3BlKTsKCiAgICAgICAgLy8gT25seSByZXR1cm4gZWxlbWVudHMgdGhhdCBhcmUgU2hpbnkgb3V0cHV0cywgbm90IHN0YXRpYyBvbmVzCiAgICAgICAgdmFyIGR5bmFtaWNSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoIi5odG1sLXdpZGdldC1vdXRwdXQiKTsKCiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdoYXRldmVyIGNhdXNlZCBTaGlueSB0byB0aGluayB0aGVyZSBtaWdodCBiZQogICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4KICAgICAgICAvLyBTaW5jZSB0aGVyZSBtaWdodCBiZSBsb3RzIG9mIGRpZmZlcmVudCBodG1sd2lkZ2V0cyBiaW5kaW5ncywgd2UKICAgICAgICAvLyBzY2hlZHVsZSBleGVjdXRpb24gZm9yIGxhdGVyLS1ubyBuZWVkIHRvIHN0YXRpY1JlbmRlciBtdWx0aXBsZQogICAgICAgIC8vIHRpbWVzLgogICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPT0gZHluYW1pY1Jlc3VsdHMubGVuZ3RoKQogICAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXIoKTsKCiAgICAgICAgcmV0dXJuIGR5bmFtaWNSZXN1bHRzOwogICAgICB9OwoKICAgICAgLy8gV3JhcCByZW5kZXJWYWx1ZSB0byBoYW5kbGUgaW5pdGlhbGl6YXRpb24sIHdoaWNoIHVuZm9ydHVuYXRlbHkgaXNuJ3QKICAgICAgLy8gc3VwcG9ydGVkIG5hdGl2ZWx5IGJ5IFNoaW55IGF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZy4KCiAgICAgIHNoaW55QmluZGluZy5yZW5kZXJWYWx1ZSA9IGZ1bmN0aW9uKGVsLCBkYXRhKSB7CiAgICAgICAgU2hpbnkucmVuZGVyRGVwZW5kZW5jaWVzKGRhdGEuZGVwcyk7CiAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBkYXRhLmV2YWxzICYmIGkgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2ldKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFiaW5kaW5nRGVmLnJlbmRlck9uTnVsbFZhbHVlKSB7CiAgICAgICAgICBpZiAoZGF0YS54ID09PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgIGluaXRTaXppbmcoZWwpOwoKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiLCB0cnVlKTsKICAgICAgICAgIGlmIChiaW5kaW5nRGVmLmluaXRpYWxpemUpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJpbmRpbmdEZWYuaW5pdGlhbGl6ZShlbCwgZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSwgW2VsLCBkYXRhLnhdKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHsKICAgICAgICAgICAgdzogc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgfTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCgogIGZ1bmN0aW9uIGhhc19qUXVlcnkzKCkgewogICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciAkdmVyc2lvbiA9IHdpbmRvdy5qUXVlcnkuZm4uanF1ZXJ5OwogICAgdmFyICRtYWpvcl92ZXJzaW9uID0gcGFyc2VJbnQoJHZlcnNpb24uc3BsaXQoIi4iKVswXSk7CiAgICByZXR1cm4gJG1ham9yX3ZlcnNpb24gPj0gMzsKICB9CgogIC8qCiAgLyBTaGlueSAxLjQgYnVtcGVkIGpRdWVyeSBmcm9tIDEueCB0byAzLnggd2hpY2ggbWVhbnMgalF1ZXJ5J3MKICAvIG9uLXJlYWR5IGhhbmRsZXIgKGkuZS4sICQoZm4pKSBpcyBub3cgYXN5bmNyb25vdXMgKGkuZS4sIGl0IG5vdwogIC8gcmVhbGx5IG1lYW5zICQoc2V0VGltZW91dChmbikpLgogIC8gaHR0cHM6Ly9qcXVlcnkuY29tL3VwZ3JhZGUtZ3VpZGUvMy4wLyNicmVha2luZy1jaGFuZ2UtZG9jdW1lbnQtcmVhZHktaGFuZGxlcnMtYXJlLW5vdy1hc3luY2hyb25vdXMKICAvCiAgLyBTaW5jZSBTaGlueSB1c2VzICQoKSB0byBzY2hlZHVsZSBpbml0U2hpbnksIHNoaW55Pj0xLjQgY2FsbHMgaW5pdFNoaW55CiAgLyBvbmUgdGljayBsYXRlciB0aGFuIGl0IGRpZCBiZWZvcmUsIHdoaWNoIG1lYW5zIHN0YXRpY1JlbmRlcigpIGlzCiAgLyBjYWxsZWQgcmVuZGVyVmFsdWUoKSBlYXJsaWVyIHRoYW4gKGFkdmFuY2VkKSB3aWRnZXQgYXV0aG9ycyBtaWdodCBiZSBleHBlY3RpbmcuCiAgLyBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9zaGlueS9pc3N1ZXMvMjYzMAogIC8KICAvIEZvciBhIGNvbmNyZXRlIGV4YW1wbGUsIGxlYWZsZXQgaGFzIHNvbWUgbWV0aG9kcyAoZS5nLiwgdXBkYXRlQm91bmRzKQogIC8gd2hpY2ggcmVmZXJlbmNlIFNoaW55IG1ldGhvZHMgcmVnaXN0ZXJlZCBpbiBpbml0U2hpbnkgKGUuZy4sIHNldElucHV0VmFsdWUpLgogIC8gU2luY2UgbGVhZmxldCBpcyBwcml2eSB0byB0aGlzIGxpZmUtY3ljbGUsIGl0IGtub3dzIHRvIHVzZSBzZXRUaW1lb3V0KCkgdG8KICAvIGRlbGF5IGV4ZWN1dGlvbiBvZiB0aG9zZSBtZXRob2RzICh1bnRpbCBTaGlueSBtZXRob2RzIGFyZSByZWFkeSkKICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL2xlYWZsZXQvYmxvYi8xOGVjOTgxL2phdmFzY3JpcHQvc3JjL2luZGV4LmpzI0wyNjYtTDI2OAogIC8KICAvIElkZWFsbHkgd2lkZ2V0IGF1dGhvcnMgd291bGRuJ3QgbmVlZCB0byB1c2UgdGhpcyBzZXRUaW1lb3V0KCkgaGFjayB0aGF0CiAgLyBsZWFmbGV0IHVzZXMgdG8gY2FsbCBTaGlueSBtZXRob2RzIG9uIGEgc3RhdGljUmVuZGVyKCkuIEluIHRoZSBsb25nIHJ1biwKICAvIHRoZSBsb2dpYyBpbml0U2hpbnkgc2hvdWxkIGJlIGJyb2tlbiB1cCBzbyB0aGF0IG1ldGhvZCByZWdpc3RyYXRpb24gaGFwcGVucwogIC8gcmlnaHQgYXdheSwgYnV0IGJpbmRpbmcgaGFwcGVucyBsYXRlci4KICAqLwogIGZ1bmN0aW9uIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKSB7CiAgICBpZiAoc2hpbnlNb2RlICYmIGhhc19qUXVlcnkzKCkpIHsKICAgICAgd2luZG93LmpRdWVyeSh3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgIH0KICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhcmd1bWVudHMuY2FsbGVlLCBmYWxzZSk7CiAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgIH0sIGZhbHNlKTsKICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGFyZ3VtZW50cy5jYWxsZWUpOwogICAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgICAgfQogICAgfSk7CiAgfQoKCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsKICAgIC8vIElmIG5vIGtleSwgZGVmYXVsdCB0byB0aGUgZmlyc3QgaXRlbQogICAgaWYgKHR5cGVvZihrZXkpID09PSAidW5kZWZpbmVkIikKICAgICAga2V5ID0gMTsKCiAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlcG5hbWUgKyAiLSIgKyBrZXkgKyAiLWF0dGFjaG1lbnQiKTsKICAgIGlmICghbGluaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGFjaG1lbnQgIiArIGRlcG5hbWUgKyAiLyIgKyBrZXkgKyAiIG5vdCBmb3VuZCBpbiBkb2N1bWVudCIpOwogICAgfQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgewogICAgdmFyIG5hbWVzID0gW107CiAgICB2YXIgbGVuZ3RoOwogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgewogICAgICAgIGlmIChkZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkKICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyIpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGxlbmd0aCkgIT09ICJ1bmRlZmluZWQiICYmIGxlbmd0aCAhPT0gZGZbbmFtZV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsKICAgICAgICB9CiAgICAgICAgbGVuZ3RoID0gZGZbbmFtZV0ubGVuZ3RoOwogICAgfQogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBpdGVtOwogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgewogICAgICAgIGl0ZW0gPSB7fTsKICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuYW1lcy5sZW5ndGg7IGNvbCsrKSB7CiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOwogICAgICAgIH0KICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMudHJhbnNwb3NlQXJyYXkyRCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiBhcnJheTsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgewogICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbihyb3cpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93W2ldCiAgICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycmF5OwogIH07CiAgLy8gU3BsaXQgdmFsdWUgYXQgc3BsaXRDaGFyLCBidXQgYWxsb3cgc3BsaXRDaGFyIHRvIGJlIGVzY2FwZWQKICAvLyB1c2luZyBlc2NhcGVDaGFyLiBBbnkgb3RoZXIgY2hhcmFjdGVycyBlc2NhcGVkIGJ5IGVzY2FwZUNoYXIKICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLgogIGZ1bmN0aW9uIHNwbGl0V2l0aEVzY2FwZSh2YWx1ZSwgc3BsaXRDaGFyLCBlc2NhcGVDaGFyKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgIHZhciBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCB2YWx1ZS5sZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmICghZXNjYXBlTW9kZSkgewogICAgICAgIGlmICh2YWx1ZVtwb3NdID09PSBzcGxpdENoYXIpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW3Bvc10gPT09IGVzY2FwZUNoYXIpIHsKICAgICAgICAgIGVzY2FwZU1vZGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGlmIChjdXJyZW50UmVzdWx0ICE9PSAiIikgewogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CiAgLy8gRnVuY3Rpb24gYXV0aG9yZWQgYnkgWWlodWkvSkogQWxsYWlyZQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlciA9IGZ1bmN0aW9uKG8sIG1lbWJlcikgewogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQogICAgICBpZiAobyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgcGFydCBpbiBvKSB7CiAgICAgICAgaWYgKGkgPT0gKGwgLSAxKSkgeyAvLyBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSB0aGVuIGV2YWx1bGF0ZQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikKICAgICAgICAgICAgb1twYXJ0XSA9IHRyeUV2YWwob1twYXJ0XSk7CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlIGNvbnRpbnVlIHRvIG5leHQgZW1iZWRkZWQgb2JqZWN0CiAgICAgICAgICBvID0gb1twYXJ0XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuCiAgLy8gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgb3IgbnVsbCBpZiBub25lLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICByZXR1cm4gZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpOwogIH07CgogIC8vIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzY29wZSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLAogIC8vIGFuZCByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVsZW1lbnQsIGlmIGFueS4gSWYgbm8gZWxlbWVudCBtYXRjaGVzIHRoZQogIC8vIHNlbGVjdG9yLCBvciB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCBoYXMgbm8gSFRNTFdpZGdldAogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKGVsKTsKICAgIH0KICB9OwoKICAvLyBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLCBhbmQKICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50cywgaW4gYW4gYXJyYXkuIElmIGVsZW1lbnRzIHRoYXQKICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgY29udGFpbiBudWxscy4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZEFsbCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBub2RlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0cy5wdXNoKHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShub2Rlc1tpXSkpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOwogIGZ1bmN0aW9uIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpIHsKICAgIHdoaWxlIChwb3N0UmVuZGVySGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7CiAgICAgIGlmIChoYW5kbGVyKSB7CiAgICAgICAgaGFuZGxlcigpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZWdpc3RlciB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUKICAvLyBuZXh0IHRpbWUgc3RhdGljIHdpZGdldHMgYXJlIHJlbmRlcmVkLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICBwb3N0UmVuZGVySGFuZGxlcnMucHVzaChjYWxsYmFjayk7CiAgfTsKCiAgLy8gVGFrZXMgYSBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbiwgYW5kIHJldHVybnMgYW4KICAvLyBvbGQtc3R5bGUgY2xhc3MtYm91bmQgZGVmaW5pdGlvbi4gVGhpcyBzYXZlcyB1cyBmcm9tIGhhdmluZwogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoCiAgLy8gdHlwZXMgb2YgZGVmaW5pdGlvbnMuCiAgZnVuY3Rpb24gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmbikgewogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgbmFtZTogZGVmbi5uYW1lLAogICAgICB0eXBlOiBkZWZuLnR5cGUsCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIGRlZm4uZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0sCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyVmFsdWUoeCk7CiAgICAgIH0sCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZGVmbi5maW5kKQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsKICAgIGlmIChkZWZuLnJlbmRlckVycm9yKQogICAgICByZXN1bHQucmVuZGVyRXJyb3IgPSBkZWZuLnJlbmRlckVycm9yOwogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikKICAgICAgcmVzdWx0LmNsZWFyRXJyb3IgPSBkZWZuLmNsZWFyRXJyb3I7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn0pKCk7Cgo="></script>
  <script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ21hcGRlY2snLAogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHJldHVybiB7CgogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oeCkgewoKICAgICAgCW1kX3NldHVwX3dpbmRvdyggZWwuaWQgKTsKCgkJCQlpZiggeC5zaG93X3ZpZXdfc3RhdGUgKSB7CiAgICAgIAkgIG1kX3NldHVwX3ZpZXdfc3RhdGUoIGVsLmlkICk7CiAgICAgIAkgIHdpbmRvd1tlbC5pZCArICdtYXBWaWV3U3RhdGUnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdpZCcsIGVsLmlkICsgJ21hcFZpZXdTdGF0ZScpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBWaWV3U3RhdGUnKTsKICAgICAgCSAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBWaWV3U3RhdGVDb250YWluZXIiK2VsLmlkKTsKICAgIAkJCW1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10gKTsKCQkJCX0KCiAgICAgICAgLy8gSU5JVElBTCBWSUVXCiAgICAgICAgd2luZG93W2VsLmlkICsgJ0lOSVRJQUxfVklFV19TVEFURSddID0gewogICAgICAgIAlsb25naXR1ZGU6IHgubG9jYXRpb25bMF0sCiAgICAgICAgCWxhdGl0dWRlOiB4LmxvY2F0aW9uWzFdLAogICAgICAgIAl6b29tOiB4Lnpvb20sCiAgICAgICAgCXBpdGNoOiB4LnBpdGNoLAogICAgICAgIAliZWFyaW5nOiB4LmJlYXJpbmcsCiAgICAgICAgCW1heFpvb206IHgubWF4X3pvb20sCiAgICAgICAJIAltaW5ab29tOiB4Lm1pbl96b29tLAogICAgICAgCSAJbWF4UGl0Y2g6IHgubWF4X3BpdGNoLAogICAgICAgCSAJbWluUGl0Y2g6IHgubWluX3BpdGNoCiAgICAgICAgfTsKCiAgICAgICBpZiggeC5hY2Nlc3NfdG9rZW4gPT09IG51bGwgKSB7CiAgICAgICAJIGNvbnN0IGRlY2tnbCA9IG5ldyBkZWNrLkRlY2tHTCh7CiAgICAgICAJIAkgIHZpZXdzOiBbIG5ldyBkZWNrLk1hcFZpZXcoewogICAgICAgCSAJICAJaWQ6IGVsLmlkLAogICAgICAgCSAJICAJcmVwZWF0OiB4LnJlcGVhdF92aWV3CiAgICAgICAJIAkgIAl9KSBdLAogICAgICAgCSAJICBtYXA6IGZhbHNlLAoJCQkgICAgICBjb250YWluZXI6IGVsLmlkLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUKCQkJICAgICAgLy9vbkxheWVySG92ZXI6IHNldFRvb2x0aXAKCQkJICAgfSk7CgkJCSAgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKICAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVja2dsID0gbmV3IGRlY2suRGVja0dMKHsKICAgICAgICAJICB2aWV3czogWyBuZXcgZGVjay5NYXBWaWV3KHsKICAgICAgICAJICAJaWQ6IGVsLmlkLAogICAgICAgIAkgIAlyZXBlYXQ6IHgucmVwZWF0X3ZpZXcKICAgICAgICAJICAJfSkgXSwKICAgICAgICAgIAltYXBib3hBcGlBY2Nlc3NUb2tlbjogeC5hY2Nlc3NfdG9rZW4sCgkJCSAgICAgIGNvbnRhaW5lcjogZWwuaWQsCgkJCSAgICAgIG1hcFN0eWxlOiB4LnN0eWxlLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUsCgkJCSAgICAgIC8vb25MYXllckhvdmVyOiBzZXRUb29sdGlwCgkJCSAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiAoe3ZpZXdJZCwgdmlld1N0YXRlLCBpbnRlcmFjdGlvblN0YXRlfSkgPT4gewoKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmICF4LnNob3dfdmlld19zdGF0ZSApIHsgcmV0dXJuOyB9CgkJCQkJCQkvLyBhcyBwZXI6CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2lzc3Vlcy8zMzQ0CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vU3ltYm9saXhBVS9tYXBkZWNrL2lzc3Vlcy8yMTEKCQkJICAgICAgCWNvbnN0IHZpZXdwb3J0ID0gbmV3IGRlY2suV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpOwogIAkJCQkJCWNvbnN0IG53ID0gdmlld3BvcnQudW5wcm9qZWN0KFswLCAwXSk7CiAgCQkJCQkJY29uc3Qgc2UgPSB2aWV3cG9ydC51bnByb2plY3QoW3ZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdKTsKCiAgCQkJCQkJY29uc3QgdyA9IG53WzBdIDwgLTE4MCA/IC0xODAgOiAoIG53WzBdID4gMTgwID8gMTgwIDogbndbMF0gKTsKICAJCQkJCQljb25zdCBuID0gbndbMV0gPCAtOTAgPyAtOTAgOiAoIG53WzFdID4gOTAgPyA5MCA6IG53WzFdICk7CgogIAkJCQkJCWNvbnN0IGUgPSBzZVswXSA8IC0xODAgPyAtMTgwIDogKCBzZVswXSA+IDE4MCA/IDE4MCA6IHNlWzBdICk7CiAgCQkJCQkJY29uc3QgcyA9IHNlWzFdIDwgLTkwID8gLTkwIDogKCBzZVsxXSA+IDkwID8gOTAgOiBzZVsxXSApOwoKICAJCQkJCQl2aWV3U3RhdGUudmlld0lkID0gdmlld0lkOwoKCQkJCQkJCXZpZXdTdGF0ZS52aWV3Qm91bmRzID0gewogIAkJCQkJCQlub3J0aDogbiwgLy9ud1sxXSwKICAJCQkJCQkJZWFzdDogIGUsIC8vc2VbMF0sCiAgCQkJCQkJCXNvdXRoOiBzLCAvL3NlWzFdLAogIAkJCQkJCQl3ZXN0OiAgdyAvL253WzBdCiAgCQkJCQkJfTsKICAJCQkJCQl2aWV3U3RhdGUuaW50ZXJhY3Rpb25TdGF0ZSA9IGludGVyYWN0aW9uU3RhdGU7CgogIAkJCQkJCWlmKCB4LnNob3dfdmlld19zdGF0ZSApIHsKICAJCQkJCQkJdmFyIHZzID0gSlNPTi5zdHJpbmdpZnkoIHZpZXdTdGF0ZSApOwogIAkJCQkJCQkvL2NvbnNvbGUubG9nKCB2cyApOwogIAkJCQkJCQl3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uaW5uZXJIVE1MID0gdnM7CiAgCQkJCQkJfQoKICAJCQkJCQlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSApIHsgcmV0dXJuOyB9CgoJCQkJCQkgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX3ZpZXdfY2hhbmdlJywgdmlld1N0YXRlKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnU3RhcnQoaW5mbywgZXZlbnQpewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAkvL2lmKCBpbmZvLmxheWVyICE9PSBudWxsICkgeyBpbmZvLmxheWVyID0gbnVsbDsgfSAgLy8gZHJhZ2dpbmcgYSBsYXllcjsKCQkJICAgICAgCWluZm8ubGF5ZXIgPSB1bmRlZmluZWQ7IC8vIGluIGNhc2Ugb2YgZHJhZ2dpbmcgYSBsYXllcgoJCQkgICAgICAJU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArJ19kcmFnX3N0YXJ0JywgaW5mbyk7CgkJCSAgICAgIH0sCgkJCSAgICAgIG9uRHJhZyhpbmZvLCBldmVudCl7CgkJCSAgICAgIAlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgeyByZXR1cm47IH0KCQkJICAgICAgCS8vaWYoIGluZm8ubGF5ZXIgIT09IG51bGwgKSB7IGluZm8ubGF5ZXIgPSBudWxsOyB9ICAvLyBkcmFnZ2luZyBhIGxheWVyOwoJCQkgICAgICAJaW5mby5sYXllciA9IHVuZGVmaW5lZDsgLy8gaW4gY2FzZSBvZiBkcmFnZ2luZyBhIGxheWVyCgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX2RyYWcnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnRW5kKGluZm8sIGV2ZW50KXsKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7IHJldHVybjsgfQoJCQkgICAgICAJLy9pZiggaW5mby5sYXllciAhPT0gbnVsbCApIHsgaW5mby5sYXllciA9IG51bGw7IH0gIC8vIGRyYWdnaW5nIGEgbGF5ZXI7CgkJCSAgICAgIAlpbmZvLmxheWVyID0gdW5kZWZpbmVkOyAvLyBpbiBjYXNlIG9mIGRyYWdnaW5nIGEgbGF5ZXIKCQkJICAgICAgCVNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKydfZHJhZ19lbmQnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25SZXNpemUoc2l6ZSkgewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX3Jlc2l6ZScsIHNpemUpOwoJCQkgICAgICB9CgkJCSAgfSk7CgoJCQkgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKCiAgICAgICB9CgkJCSAgICBtZF9pbml0aWFsaXNlX21hcChlbCwgeCk7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKICAgICAgfQogICAgfTsKICB9Cn0pOwoKCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoIm1hcGRlY2ttYXAtY2FsbHMiLCBmdW5jdGlvbiAoZGF0YSkgewoKICAJLy9jb25zb2xlLmxvZyggIm1hcGRlY2ttYXAtY2FsbHMiICk7CgogICAgdmFyIGlkID0gZGF0YS5pZCwgICAvLyB0aGUgZGl2IGlkIG9mIHRoZSBtYXAKICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksCiAgICAgIG1hcCA9IGVsLAogICAgICBjYWxsID0gW10sCiAgICAgIGkgPSAwOwoKICAgIGlmICghbWFwKSB7CiAgICAgIC8vY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgbWFwIHdpdGggaWQgIiArIGlkKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmNhbGxzLmxlbmd0aDsgaSsrKSB7CgogICAgICBjYWxsID0gZGF0YS5jYWxsc1tpXTsKCiAgICAgIC8vcHVzaCB0aGUgbWFwSWQgaW50byB0aGUgY2FsbC5hcmdzCiAgICAgIGNhbGwuYXJncy51bnNoaWZ0KGlkKTsKCiAgICAgIGlmIChjYWxsLmRlcGVuZGVuY2llcykgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhjYWxsLmRlcGVuZGVuY2llcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aW5kb3dbY2FsbC5tZXRob2RdKSB7CiAgICAgICAgd2luZG93W2NhbGwubWV0aG9kXS5hcHBseSh3aW5kb3dbaWQgKyAnbWFwJ10sIGNhbGwuYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVW5rbm93biBmdW5jdGlvbiAiICsgY2FsbC5tZXRob2QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCg=="></script>
  <script src="data:application/javascript;base64,ZnVuY3Rpb24gbWRfc2V0dXBfd2luZG93KCBtYXBfaWQgKSB7CgoJbWRfc2V0dXBfd2luZG93X29iamVjdHMoIG1hcF9pZCApOwogIG1kX3NldHVwX21hcGRlY2tfZGl2KCBtYXBfaWQgKTsKCiAgbWRfc2V0dXBfbGVnZW5kKCBtYXBfaWQgKTsKICBtZF9zZXR1cF90aXRsZSggbWFwX2lkICk7CiAgbWRfc2V0dXBfdmlld19zdGF0ZSggbWFwX2lkICk7CiAgbWRfc2V0dXBfdG9vbHRpcCggbWFwX2lkICk7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX3dpbmRvd19vYmplY3RzKCBtYXBfaWQgKSB7Cgl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddID0gW107IC8vIGtlZXAgdHJhY2sgb2YgbGF5ZXJzIGZvciBvdmVybGF5aW5nIG11bHRpcGxlCiAgd2luZG93W21hcF9pZCArICdsZWdlbmRQb3NpdGlvbnMnXSA9IFtdOyAgICAgLy8gYXJyYXkgZm9yIGtlZXBpbmcgYSByZWZlcmVuZSB0byBsZWdlbmQgcG9zaXRpb25zCiAgd2luZG93W21hcF9pZCArICdtYXBUaXRsZVBvc2l0aW9ucyddID0gW107CiAgd2luZG93W21hcF9pZCArICdtYXBkZWNrQm91bmRzJ10gPSBbXTsgICAgICAgLy8gc3RvcmUgdGhlIGJvdW5kaW5nIGJveCBvZiBlYWNoIGxheWVyCiAgd2luZG93W21hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwogIHdpbmRvd1ttYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddID0gMDsKfQoKZnVuY3Rpb24gbWRfc2V0dXBfbWFwZGVja19kaXYoIG1hcF9pZCApIHsKCXZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBfaWQpOwogIG1hcERpdi5jbGFzc05hbWUgPSAnbWFwZGVja21hcCc7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX2xlZ2VuZCggbWFwX2lkICkgewoJdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcF9pZCk7Cgl2YXIgbGVnZW5kQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgbGVnZW5kQ29udGFpbmVyLmNsYXNzTmFtZSA9ICJsZWdlbmRDb250YWluZXIiOwogIGxlZ2VuZENvbnRhaW5lci5pZCA9ICJsZWdlbmRDb250YWluZXIiK21hcF9pZDsKICBtYXBEaXYuYXBwZW5kQ2hpbGQoIGxlZ2VuZENvbnRhaW5lciApOwp9CgpmdW5jdGlvbiBtZF9zZXR1cF90aXRsZSggbWFwX2lkICkgewoJdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcF9pZCk7Cgl2YXIgbWFwVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtYXBUaXRsZS5jbGFzc05hbWUgPSAibWFwVGl0bGVDb250YWluZXIiOwogIG1hcFRpdGxlLmlkID0gIm1hcFRpdGxlQ29udGFpbmVyIittYXBfaWQ7CiAgbWFwRGl2LmFwcGVuZENoaWxkKCBtYXBUaXRsZSApOwp9CgpmdW5jdGlvbiBtZF9zZXR1cF92aWV3X3N0YXRlKCBtYXBfaWQgKSB7Cgl2YXIgbWFwRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWFwX2lkKTsKCXZhciBtYXBWaWV3U3RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtYXBWaWV3U3RhdGUuY2xhc3NOYW1lID0gIm1hcFZpZXdTdGF0ZUNvbnRhaW5lciI7CiAgbWFwVmlld1N0YXRlLmlkID0gIm1hcFZpZXdTdGF0ZUNvbnRhaW5lciIrbWFwX2lkOwogIG1hcERpdi5hcHBlbmRDaGlsZCggbWFwVmlld1N0YXRlICk7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX3Rvb2x0aXAoIG1hcF9pZCApIHsKCXZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBfaWQpOwoJdmFyIHRvb2x0aXBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICB0b29sdGlwZGl2LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAibWFwZGVja3Rvb2x0aXAiKTsKICB0b29sdGlwZGl2LnNldEF0dHJpYnV0ZSgiaWQiLCAibWFwZGVja3Rvb2x0aXAiK21hcF9pZCk7CiAgbWFwRGl2LmFwcGVuZENoaWxkKHRvb2x0aXBkaXYpOwp9CgpmdW5jdGlvbiBtZF9kaXZfZXhpc3RzKCBkaXZfZWxlbWVudCApIHsKCWlmKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGRpdl9lbGVtZW50ICkgKSB7CgkJcmV0dXJuKCBmYWxzZSApOwoJfQoJcmV0dXJuKCB0cnVlICk7Cn0KCi8vIGZvbGxvd2luZzogaHR0cHM6Ly9jb2RlcGVuLmlvL3Zpcy1nbC9wZW4vcExMUXBOCi8vIGFuZDogaHR0cHM6Ly9iZXRhLm9ic2VydmFibGVocS5jb20vQHBlc3NpbWlzdHJlc3MvZGVjay1nbC1nZW9qc29ubGF5ZXItZXhhbXBsZQpmdW5jdGlvbiBtZF91cGRhdGVfdG9vbHRpcCh7eCwgeSwgb2JqZWN0LCBsYXllciwgaW5kZXh9KSB7CiAgICAvLyBvYmplY3QgaXMgdGhlIGRhdGEgb2JqZWN0IHNlbnQgdG8gdGhlIGxheWVyIGZ1bmN0aW9uCgogIGlmKCAhbWRfZGl2X2V4aXN0cyggJ21hcGRlY2t0b29sdGlwJytsYXllci5wcm9wcy5tYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfdG9vbHRpcCggbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgfQoKICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcGRlY2t0b29sdGlwJytsYXllci5wcm9wcy5tYXBfaWQpOwogIHZhciB0dDsKCiAgaWYgKG9iamVjdCkgewogIAlpZiggb2JqZWN0LnByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCApIHsKCSAgCWlmICggb2JqZWN0LnByb3BlcnRpZXMudG9vbHRpcCAhPT0gdW5kZWZpbmVkICkgewoJICAJICB0dCA9IG9iamVjdC5wcm9wZXJ0aWVzLnRvb2x0aXA7CgkgIAl9IGVsc2UgewoJICAJCXJldHVybjsKCSAgCX0KCSAgfSBlbHNlIGlmICggb2JqZWN0LnRvb2x0aXAgIT09IHVuZGVmaW5lZCApIHsKCSAgCXR0ID0gb2JqZWN0LnRvb2x0aXA7CgkgIH0gZWxzZSB7CgkgIAlyZXR1cm47CgkgIH0KCiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IGAke3h9cHhgOwogICAgdG9vbHRpcC5pbm5lckhUTUwgPSBgPGRpdj4ke3R0fTwvZGl2PmA7CiAgfSBlbHNlIHsKICAJdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJzsKICB9Cn0KCmZ1bmN0aW9uIG1kX3VwZGF0ZV9iaW5hcnlfdG9vbHRpcChsYXllciwgaWR4LCB4LCB5KSB7CgoJaWYoICFtZF9kaXZfZXhpc3RzKCAnbWFwZGVja3Rvb2x0aXAnKyBsYXllci5wcm9wcy5tYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfdG9vbHRpcCggbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgfQoKICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdtYXBkZWNrdG9vbHRpcCcrbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgdmFyIHR0OwoKCSAgaWYoIGxheWVyLnByb3BzLmRhdGEudG9vbHRpcCAmJiBpZHggPj0gMCApIHsKCSAgCXR0ID0gbGF5ZXIucHJvcHMuZGF0YS50b29sdGlwWyBpZHggXTsKCSAgCXRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkgICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKCSAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDsKCSAgICB0b29sdGlwLmlubmVySFRNTCA9IGA8ZGl2PiR7dHR9PC9kaXY+YDsKCSAgfSBlbHNlIHsKICAgIAl0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkgICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJzsKICB9Cgp9CgoKZnVuY3Rpb24gbWRfaW5pdGlhbGlzZV9tYXAoZWwsIHgpIHsKCgkvLyBjYWxsIGluaXRpYWwgbGF5ZXJzCiAgaWYgKHguY2FsbHMgIT09IHVuZGVmaW5lZCkgewoKICAgIGZvciAobGF5ZXJDYWxscyA9IDA7IGxheWVyQ2FsbHMgPCB4LmNhbGxzLmxlbmd0aDsgbGF5ZXJDYWxscysrKSB7CgogICAgICAvL3B1c2ggdGhlIG1hcF9pZCBpbnRvIHRoZSBjYWxsLmFyZ3MKICAgICAgeC5jYWxsc1tsYXllckNhbGxzXS5hcmdzLnVuc2hpZnQoZWwuaWQpOwoKICAgICAgaWYgKHdpbmRvd1t4LmNhbGxzW2xheWVyQ2FsbHNdLmZ1bmN0aW9uc10pIHsKCiAgICAgICAgd2luZG93W3guY2FsbHNbbGF5ZXJDYWxsc10uZnVuY3Rpb25zXS5hcHBseSh3aW5kb3dbZWwuaWQgKyAnbWFwJ10sIHguY2FsbHNbbGF5ZXJDYWxsc10uYXJncyk7CgogICAgICB9IGVsc2UgewogICAgICAgIC8vY29uc29sZS5sb2coIlVua25vd24gZnVuY3Rpb24gIiArIHguY2FsbHNbbGF5ZXJDYWxsc10pOwogICAgICB9CiAgICB9CiAgfQoKfQoKCgpmdW5jdGlvbiBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KGFycmF5LCBrZXksIHZhbHVlICkgewogICAgZm9yICggdmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV1ba2V5XSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIC0xOwp9CgpmdW5jdGlvbiBtZF9sYXllcl9jbGVhciggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxheWVyICkgewoKICBpZiggbWFwX3R5cGUgPT0gIm1hcGRlY2siICkgewoJCW1kX2NsZWFyX2xheWVyKCBtYXBfaWQsIGxheWVyKyctJytsYXllcl9pZCApOwogIH0gZWxzZSBpZiAoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIiApIHsKICAJbWRfY2xlYXJfb3ZlcmxheSggbWFwX2lkLCBsYXllcisnLScrbGF5ZXJfaWQgKTsKICB9CgogIG1kX3JlbW92ZV9mcm9tX2JvdW5kcyggbWFwX2lkLCBsYXllcl9pZCApOwoJbWRfdXBkYXRlX2xvY2F0aW9uKCBtYXBfaWQsIG1hcF90eXBlICk7CgltZF9jbGVhcl9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkICk7Cn0KCgpmdW5jdGlvbiBtZF91cGRhdGVfbGF5ZXIoIG1hcF9pZCwgbGF5ZXJfaWQsIGxheWVyICkgewoKICB2YXIgZWxlbSA9IG1kX2ZpbmRPYmplY3RFbGVtZW50QnlLZXkoIHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10ucHJvcHMubGF5ZXJzLCAnaWQnLCBsYXllcl9pZCApOwogIGlmICggZWxlbSAhPSAtMSApIHsKICAJd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJ11bZWxlbV0gPSBsYXllcjsKICB9IGVsc2UgewogIAl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddLnB1c2goIGxheWVyICk7CiAgfQoKICAvLyAjIyBpc3N1ZSAxMzcKICAvL3ZhciB2cyA9IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZTsKCiAgd2luZG93W21hcF9pZCArICdtYXAnXS5zZXRQcm9wcyh7CiAgCWxheWVyczogWy4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXQogIAkvL3ZpZXdTdGF0ZTogdnMgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc3N1ZSAyMzkgLSB2aWV3U3RhdGUgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBkZWNrLmdsIHY4LjAuOAogIH0pOwp9CgpmdW5jdGlvbiBtZF9jbGVhcl9sYXllciggbWFwX2lkLCBsYXllcl9pZCApIHsKCiAgdmFyIGVsZW0gPSBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KCB3aW5kb3dbbWFwX2lkICsgJ21hcCddLnByb3BzLmxheWVycywgJ2lkJywgbGF5ZXJfaWQpOwoKICBpZiAoIGVsZW0gIT0gLTEgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycyddLnNwbGljZSggZWxlbSwgMSApOwogIH0KCiAgLy8gIyMgaXNzdWUgMTM3CiAgLy92YXIgdnMgPSB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGU7CiAgd2luZG93W21hcF9pZCArICdtYXAnXS5zZXRQcm9wcyh7CiAgCWxheWVyczogWy4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXQogIAkvL3ZpZXdTdGF0ZTogdnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNzdWUgMjM5ICYgMjg2CiAgfSk7Cn0KCgpmdW5jdGlvbiBtZF91cGRhdGVfb3ZlcmxheSggbWFwX2lkLCBsYXllcl9pZCwgbGF5ZXIgKSB7CgogIGlmICggd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJyBdID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycycgXSA9IFtdOwogIH0KCiAgaWYgKCB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ0dvb2dsZU1hcHNPdmVybGF5J10gPSBuZXcgZGVjay5Hb29nbGVNYXBzT3ZlcmxheSgpOwogIH0KCgl2YXIgZWxlbSA9IG1kX2ZpbmRPYmplY3RFbGVtZW50QnlLZXkoIHdpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10sICdpZCcsIGxheWVyX2lkICk7CgogIGlmICggZWxlbSAhPSAtMSApIHsKICAJd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJ11bZWxlbV0gPSBsYXllcjsKICB9IGVsc2UgewogIAl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddLnB1c2goIGxheWVyICk7CiAgfQoKICB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddLnNldFByb3BzKHsgbGF5ZXJzOiBbIC4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXSB9KTsKICBjb25zdCBvdmVybGF5ID0gd2luZG93WyBtYXBfaWQgKyAnR29vZ2xlTWFwc092ZXJsYXknXTsKICBvdmVybGF5LnNldE1hcCggd2luZG93W21hcF9pZCArICdtYXAnXSApOwp9CgoKZnVuY3Rpb24gbWRfY2xlYXJfb3ZlcmxheSggbWFwX2lkLCBsYXllcl9pZCApIHsKCXZhciBlbGVtID0gbWRfZmluZE9iamVjdEVsZW1lbnRCeUtleSggd2luZG93W21hcF9pZCArICdsYXllcnMnXSwgJ2lkJywgbGF5ZXJfaWQgKTsKCWlmKCBlbGVtICE9IC0xICkgewoJCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycyddLnNwbGljZSggZWxlbSwgMSApOwoJfQoKCXdpbmRvd1sgbWFwX2lkICsgJ0dvb2dsZU1hcHNPdmVybGF5J10uc2V0UHJvcHMoeyBsYXllcnM6IFsgLi4ud2luZG93W21hcF9pZCArICdsYXllcnMnXSBdIH0pOwogIGNvbnN0IG92ZXJsYXkgPSB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddOwogIG92ZXJsYXkuc2V0TWFwKCB3aW5kb3dbbWFwX2lkICsgJ21hcCddICk7Cgp9CgpmdW5jdGlvbiBtZF9sYXllcl9jbGljayggbWFwX2lkLCBsYXllciwgaW5mbyApIHsKCiAgaWYgKCAhSFRNTFdpZGdldHMuc2hpbnlNb2RlICkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIGV2ZW50SW5mbyA9IHsKICAJaW5kZXg6IGluZm8uaW5kZXgsCiAgCWNvbG9yOiBpbmZvLmNvbG9yLAogIAlvYmplY3Q6IGluZm8ub2JqZWN0LAogIAlsYXllcklkOiBpbmZvLmxheWVyX2lkLAogIAlsYXQ6IGluZm8ubG5nTGF0WzFdLAogIAlsb246IGluZm8ubG5nTGF0WzBdCiAgfTsKCiAgZXZlbnRJbmZvID0gSlNPTi5zdHJpbmdpZnkoIGV2ZW50SW5mbyApOwogIFNoaW55Lm9uSW5wdXRDaGFuZ2UobWFwX2lkICsgIl8iICsgbGF5ZXIgKyAiX2NsaWNrIiwgZXZlbnRJbmZvKTsKfQoKCgoKCg=="></script>
  <script src="data:application/javascript;base64,IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoImgzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiaDMiXSxlKToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5kZWNrPWUocmVxdWlyZSgiaDMiKSk6dC5kZWNrPWUodC5oMyl9KHdpbmRvdywoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJiJzdHJpbmciIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQocixpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLCJhIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD0iIixuKG4ucz0yMzkpfShbZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBlJiZuKHQucHJvdG90eXBlLGUpLHImJm4odCxyKSx0fX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUpe3JldHVybiB0LmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxuKGUpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjUyKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBpKHQsZSxuKXtyZXR1cm4gZSYmcih0LnByb3RvdHlwZSxlKSxuJiZyKHQsbiksdH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1OCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByLmJ9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiByLmN9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiByLmR9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiByLmV9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiByLmZ9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiByLmd9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiByLmh9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiByLml9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiByLmp9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiByLmt9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiByLmx9KSksbi5kKGUsIm0iLChmdW5jdGlvbigpe3JldHVybiByLm19KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiByLm59KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQxKSxpPW4oMTg0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hZXx8Im9iamVjdCIhPT1yKGUpJiYiZnVuY3Rpb24iIT10eXBlb2YgZT9pKHQpOmV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNTMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZyKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzUpLGk9e307ZnVuY3Rpb24gYSh0LGUpe3ZhciBuO2lbdF09ITAsdm9pZCAwIT09ZSYmKG49ZSxyLmdsb2JhbC5jb25zb2xlJiZyLmdsb2JhbC5jb25zb2xlLmVycm9yJiZyLmdsb2JhbC5jb25zb2xlLmVycm9yKG4pKX12YXIgbz1mdW5jdGlvbiB0KGUpe3ZhciBuPWUuZ2w7dGhpcy5leHQ9ZSx0aGlzLmlzQWxpdmU9ITAsdGhpcy5oYXNCZWVuQm91bmQ9ITEsdGhpcy5lbGVtZW50QXJyYXlCdWZmZXI9bnVsbCx0aGlzLmF0dHJpYnM9bmV3IEFycmF5KGUubWF4VmVydGV4QXR0cmlicyk7Zm9yKHZhciByPTA7cjx0aGlzLmF0dHJpYnMubGVuZ3RoO3IrKyl7dmFyIGk9bmV3IHQuVmVydGV4QXR0cmliKG4pO3RoaXMuYXR0cmlic1tyXT1pfXRoaXMubWF4QXR0cmliPTB9OyhvLlZlcnRleEF0dHJpYj1mdW5jdGlvbih0KXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5idWZmZXI9bnVsbCx0aGlzLnNpemU9NCx0aGlzLnR5cGU9NTEyNix0aGlzLm5vcm1hbGl6ZWQ9ITEsdGhpcy5zdHJpZGU9MTYsdGhpcy5vZmZzZXQ9MCx0aGlzLmNhY2hlZD0iIix0aGlzLnJlY2FjaGUoKX0pLnByb3RvdHlwZS5yZWNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5jYWNoZWQ9W3RoaXMuc2l6ZSx0aGlzLnR5cGUsdGhpcy5ub3JtYWxpemVkLHRoaXMuc3RyaWRlLHRoaXMub2Zmc2V0XS5qb2luKCI6Iil9O3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5nbD10LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RXJyb3I7dC5nZXRFcnJvcj1mdW5jdGlvbigpe3ZhciBuO2RvezAhPT0obj1lLmFwcGx5KHQpKSYmKGlbbl09ITApfXdoaWxlKDAhPT1uKTtmb3IobiBpbiBpKWlmKGlbbl0pcmV0dXJuIGRlbGV0ZSBpW25dLHBhcnNlSW50KG4sMTApO3JldHVybiAwfX0odCk7dmFyIG49dGhpcy5vcmlnaW5hbD17Z2V0UGFyYW1ldGVyOnQuZ2V0UGFyYW1ldGVyLGVuYWJsZVZlcnRleEF0dHJpYkFycmF5OnQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXksZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5OnQuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5LGJpbmRCdWZmZXI6dC5iaW5kQnVmZmVyLGdldFZlcnRleEF0dHJpYjp0LmdldFZlcnRleEF0dHJpYix2ZXJ0ZXhBdHRyaWJQb2ludGVyOnQudmVydGV4QXR0cmliUG9pbnRlcn07dC5nZXRQYXJhbWV0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lLlZFUlRFWF9BUlJBWV9CSU5ESU5HX09FUz9lLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdD09PWUuZGVmYXVsdFZlcnRleEFycmF5T2JqZWN0P251bGw6ZS5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q6bi5nZXRQYXJhbWV0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5PWZ1bmN0aW9uKHQpe3ZhciByPWUuY3VycmVudFZlcnRleEFycmF5T2JqZWN0O3IubWF4QXR0cmliPU1hdGgubWF4KHIubWF4QXR0cmliLHQpO3ZhciBpPXIuYXR0cmlic1t0XTtyZXR1cm4gaS5lbmFibGVkPSEwLG4uZW5hYmxlVmVydGV4QXR0cmliQXJyYXkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheT1mdW5jdGlvbih0KXt2YXIgcj1lLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdDtyLm1heEF0dHJpYj1NYXRoLm1heChyLm1heEF0dHJpYix0KTt2YXIgaT1yLmF0dHJpYnNbdF07cmV0dXJuIGkuZW5hYmxlZD0hMSxuLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQuYmluZEJ1ZmZlcj1mdW5jdGlvbih0LHIpe3N3aXRjaCh0KXtjYXNlIDM0OTYyOmUuY3VycmVudEFycmF5QnVmZmVyPXI7YnJlYWs7Y2FzZSAzNDk2MzplLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdC5lbGVtZW50QXJyYXlCdWZmZXI9cn1yZXR1cm4gbi5iaW5kQnVmZmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdC5nZXRWZXJ0ZXhBdHRyaWI9ZnVuY3Rpb24odCxyKXt2YXIgaT1lLmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdCxhPWkuYXR0cmlic1t0XTtzd2l0Y2gocil7Y2FzZSAzNDk3NTpyZXR1cm4gYS5idWZmZXI7Y2FzZSAzNDMzODpyZXR1cm4gYS5lbmFibGVkO2Nhc2UgMzQzMzk6cmV0dXJuIGEuc2l6ZTtjYXNlIDM0MzQwOnJldHVybiBhLnN0cmlkZTtjYXNlIDM0MzQxOnJldHVybiBhLnR5cGU7Y2FzZSAzNDkyMjpyZXR1cm4gYS5ub3JtYWxpemVkO2RlZmF1bHQ6cmV0dXJuIG4uZ2V0VmVydGV4QXR0cmliLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHQudmVydGV4QXR0cmliUG9pbnRlcj1mdW5jdGlvbih0LHIsaSxhLG8scyl7dmFyIHU9ZS5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q7dS5tYXhBdHRyaWI9TWF0aC5tYXgodS5tYXhBdHRyaWIsdCk7dmFyIGM9dS5hdHRyaWJzW3RdO3JldHVybiBjLmJ1ZmZlcj1lLmN1cnJlbnRBcnJheUJ1ZmZlcixjLnNpemU9cixjLnR5cGU9aSxjLm5vcm1hbGl6ZWQ9YSxjLnN0cmlkZT1vLGMub2Zmc2V0PXMsYy5yZWNhY2hlKCksbi52ZXJ0ZXhBdHRyaWJQb2ludGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdC5pbnN0cnVtZW50RXh0ZW5zaW9uJiZ0Lmluc3RydW1lbnRFeHRlbnNpb24odGhpcywiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSx0LmNhbnZhcyYmdC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLChmdW5jdGlvbigpe3ZhciB0O3Q9Ik9FU1ZlcnRleEFycmF5T2JqZWN0IGVtdWxhdGlvbiBsaWJyYXJ5IGNvbnRleHQgcmVzdG9yZWQiLHIuZ2xvYmFsLmNvbnNvbGUmJnIuZ2xvYmFsLmNvbnNvbGUubG9nJiZyLmdsb2JhbC5jb25zb2xlLmxvZyh0KSxlLnJlc2V0XygpfSksITApLHRoaXMucmVzZXRfKCl9O3MucHJvdG90eXBlLlZFUlRFWF9BUlJBWV9CSU5ESU5HX09FUz0zNDIyOSxzLnByb3RvdHlwZS5yZXNldF89ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLnZlcnRleEFycmF5T2JqZWN0cylmb3IodmFyIHQ9MDt0PHRoaXMudmVydGV4QXJyYXlPYmplY3RzLmxlbmd0aDsrK3QpdGhpcy52ZXJ0ZXhBcnJheU9iamVjdHMuaXNBbGl2ZT0hMTt2YXIgZT10aGlzLmdsO3RoaXMubWF4VmVydGV4QXR0cmlicz1lLmdldFBhcmFtZXRlcigzNDkyMSksdGhpcy5kZWZhdWx0VmVydGV4QXJyYXlPYmplY3Q9bmV3IG8odGhpcyksdGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLmN1cnJlbnRBcnJheUJ1ZmZlcj1udWxsLHRoaXMudmVydGV4QXJyYXlPYmplY3RzPVt0aGlzLmRlZmF1bHRWZXJ0ZXhBcnJheU9iamVjdF0sdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCl9LHMucHJvdG90eXBlLmNyZWF0ZVZlcnRleEFycmF5T0VTPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IG8odGhpcyk7cmV0dXJuIHRoaXMudmVydGV4QXJyYXlPYmplY3RzLnB1c2godCksdH0scy5wcm90b3R5cGUuZGVsZXRlVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24odCl7dC5pc0FsaXZlPSExLHRoaXMudmVydGV4QXJyYXlPYmplY3RzLnNwbGljZSh0aGlzLnZlcnRleEFycmF5T2JqZWN0cy5pbmRleE9mKHQpLDEpLHRoaXMuY3VycmVudFZlcnRleEFycmF5T2JqZWN0PT09dCYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCl9LHMucHJvdG90eXBlLmlzVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIG8mJnQuaGFzQmVlbkJvdW5kJiZ0LmV4dD09PXRoaXMpfSxzLnByb3RvdHlwZS5iaW5kVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDtpZighdHx8dC5pc0FsaXZlKXt2YXIgbj10aGlzLm9yaWdpbmFsLHI9dGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q7dGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q9dHx8dGhpcy5kZWZhdWx0VmVydGV4QXJyYXlPYmplY3QsdGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3QuaGFzQmVlbkJvdW5kPSEwO3ZhciBpPXRoaXMuY3VycmVudFZlcnRleEFycmF5T2JqZWN0O2lmKHIhPT1pKXtyJiZpLmVsZW1lbnRBcnJheUJ1ZmZlcj09PXIuZWxlbWVudEFycmF5QnVmZmVyfHxuLmJpbmRCdWZmZXIuY2FsbChlLDM0OTYzLGkuZWxlbWVudEFycmF5QnVmZmVyKTtmb3IodmFyIG89dGhpcy5jdXJyZW50QXJyYXlCdWZmZXIscz1NYXRoLm1heChyP3IubWF4QXR0cmliOjAsaS5tYXhBdHRyaWIpLHU9MDt1PD1zO3UrKyl7dmFyIGM9aS5hdHRyaWJzW3VdLGw9cj9yLmF0dHJpYnNbdV06bnVsbDtpZihyJiZjLmVuYWJsZWQ9PT1sLmVuYWJsZWR8fChjLmVuYWJsZWQ/bi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheS5jYWxsKGUsdSk6bi5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkuY2FsbChlLHUpKSxjLmVuYWJsZWQpe3ZhciBoPSExO3ImJmMuYnVmZmVyPT09bC5idWZmZXJ8fChvIT09Yy5idWZmZXImJihuLmJpbmRCdWZmZXIuY2FsbChlLDM0OTYyLGMuYnVmZmVyKSxvPWMuYnVmZmVyKSxoPSEwKSwoaHx8Yy5jYWNoZWQhPT1sLmNhY2hlZCkmJm4udmVydGV4QXR0cmliUG9pbnRlci5jYWxsKGUsdSxjLnNpemUsYy50eXBlLGMubm9ybWFsaXplZCxjLnN0cmlkZSxjLm9mZnNldCl9fXRoaXMuY3VycmVudEFycmF5QnVmZmVyIT09byYmbi5iaW5kQnVmZmVyLmNhbGwoZSwzNDk2Mix0aGlzLmN1cnJlbnRBcnJheUJ1ZmZlcil9fWVsc2UgYSgxMjgyLCJiaW5kVmVydGV4QXJyYXlPRVM6IGF0dGVtcHQgdG8gYmluZCBkZWxldGVkIGFycmF5T2JqZWN0Iil9O3ZhciB1PW4oMjc4KTtmdW5jdGlvbiBjKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGV8fCJsdW1hLmdsOiBhc3NlcnRpb24gZmFpbGVkLiIpfWZ1bmN0aW9uIGwodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaCh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO3ZhciBuPUFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSxyPUFycmF5LmlzQXJyYXkoZSl8fEFycmF5QnVmZmVyLmlzVmlldyhlKTtpZihuJiZyJiZ0Lmxlbmd0aD09PWUubGVuZ3RoKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSlpZih0W2ldIT09ZVtpXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKHQpe2lmKHQuY2FudmFzJiZ0Lmx1bWEpe3ZhciBlPXQubHVtYS5jYW52YXNTaXplSW5mby5jbGllbnRXaWR0aDtyZXR1cm4gZT90LmRyYXdpbmdCdWZmZXJXaWR0aC9lOjF9cmV0dXJuIDF9ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0scj1mKHQpLGk9dC5kcmF3aW5nQnVmZmVyV2lkdGgsYT10LmRyYXdpbmdCdWZmZXJIZWlnaHQ7cmV0dXJuIHAoZSxyLGksYSxuKX1mdW5jdGlvbiB2KHQpe3ZhciBlPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PzE6d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KT90PD0wPzE6dDp0P2U6MX1mdW5jdGlvbiBwKHQsZSxuLHIsaSl7dmFyIGEsbz1nKHRbMF0sZSxuKSxzPXkodFsxXSxlLHIsaSksdT1nKHRbMF0rMSxlLG4pLGM9dT09PW4tMT91OnUtMTtyZXR1cm4gdT15KHRbMV0rMSxlLHIsaSksaT8oYT1zLHM9dT0wPT09dT91OnUrMSk6YT11PT09ci0xP3U6dS0xLHt4Om8seTpzLHdpZHRoOk1hdGgubWF4KGMtbysxLDEpLGhlaWdodDpNYXRoLm1heChhLXMrMSwxKX19ZnVuY3Rpb24gZyh0LGUsbil7cmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQodCplKSxuLTEpfWZ1bmN0aW9uIHkodCxlLG4scil7cmV0dXJuIHI/TWF0aC5tYXgoMCxuLTEtTWF0aC5yb3VuZCh0KmUpKTpNYXRoLm1pbihNYXRoLnJvdW5kKHQqZSksbi0xKX1mdW5jdGlvbiBtKHQpe3JldHVybiBCb29sZWFuKHQmJk51bWJlci5pc0Zpbml0ZSh0Ll92ZXJzaW9uKSl9ZnVuY3Rpb24gYih0KXtyZXR1cm4gQm9vbGVhbih0JiYyPT09dC5fdmVyc2lvbil9dmFyIF8sTyx4PW5ldyB1LmEoe2lkOiJsdW1hLmdsIn0pLHc9bigwKSxrPWZ1bmN0aW9uKHQpe3JldHVybiBiKHQpP3ZvaWQgMDowfSxTPShfPXt9LE9iamVjdCh3LmEpKF8sMzA3NCwoZnVuY3Rpb24odCl7cmV0dXJuIGIodCk/dm9pZCAwOjM2MDY0fSkpLE9iamVjdCh3LmEpKF8sMzU3MjMsKGZ1bmN0aW9uKHQpe3JldHVybiBiKHQpP3ZvaWQgMDo0MzUyfSkpLE9iamVjdCh3LmEpKF8sMzU5NzcsayksT2JqZWN0KHcuYSkoXywzMjkzNyxrKSxPYmplY3Qody5hKShfLDM2Nzk1LChmdW5jdGlvbih0LGUpe3ZhciBuPWIodCk/dC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKTp0LmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iik7cmV0dXJuIG4mJm4uR1BVX0RJU0pPSU5UX0VYVD9lKG4uR1BVX0RJU0pPSU5UX0VYVCk6MH0pKSxPYmplY3Qody5hKShfLDM3NDQ1LChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7cmV0dXJuIGUobiYmbi5VTk1BU0tFRF9WRU5ET1JfV0VCR0x8fDc5MzYpfSkpLE9iamVjdCh3LmEpKF8sMzc0NDYsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtyZXR1cm4gZShuJiZuLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMfHw3OTM3KX0pKSxPYmplY3Qody5hKShfLDM0MDQ3LChmdW5jdGlvbih0LGUpe3ZhciBuPXQubHVtYS5leHRlbnNpb25zLkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztyZXR1cm4gbj9lKG4uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKToxfSkpLE9iamVjdCh3LmEpKF8sMzI4ODMsayksT2JqZWN0KHcuYSkoXywzNTA3MSxrKSxPYmplY3Qody5hKShfLDM3NDQ3LGspLE9iamVjdCh3LmEpKF8sMzYwNjMsKGZ1bmN0aW9uKHQsZSl7aWYoIWIodCkpe3ZhciBuPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtyZXR1cm4gbj9lKG4uTUFYX0NPTE9SX0FUVEFDSE1FTlRTX1dFQkdMKTowfX0pKSxPYmplY3Qody5hKShfLDM1Mzc5LGspLE9iamVjdCh3LmEpKF8sMzUzNzQsayksT2JqZWN0KHcuYSkoXywzNTM3NyxrKSxPYmplY3Qody5hKShfLDM0ODUyLChmdW5jdGlvbih0KXtpZighYih0KSl7dmFyIGU9dC5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO3JldHVybiBlP2UuTUFYX0RSQVdfQlVGRkVSU19XRUJHTDowfX0pKSxPYmplY3Qody5hKShfLDM2MjAzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4Iik/MjE0NzQ4MzY0Nzo2NTUzNX0pKSxPYmplY3Qody5hKShfLDMzMDAxLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4Iik/MTY3NzcyMTY6NjU1MzV9KSksT2JqZWN0KHcuYSkoXywzM2UzLChmdW5jdGlvbih0KXtyZXR1cm4gMTY3NzcyMTZ9KSksT2JqZWN0KHcuYSkoXywzNzE1NyxrKSxPYmplY3Qody5hKShfLDM1MzczLGspLE9iamVjdCh3LmEpKF8sMzU2NTcsayksT2JqZWN0KHcuYSkoXywzNjE4MyxrKSxPYmplY3Qody5hKShfLDM3MTM3LGspLE9iamVjdCh3LmEpKF8sMzQwNDUsayksT2JqZWN0KHcuYSkoXywzNTk3OCxrKSxPYmplY3Qody5hKShfLDM1OTc5LGspLE9iamVjdCh3LmEpKF8sMzU5NjgsayksT2JqZWN0KHcuYSkoXywzNTM3NixrKSxPYmplY3Qody5hKShfLDM1Mzc1LGspLE9iamVjdCh3LmEpKF8sMzU2NTksayksT2JqZWN0KHcuYSkoXywzNzE1NCxrKSxPYmplY3Qody5hKShfLDM1MzcxLGspLE9iamVjdCh3LmEpKF8sMzU2NTgsayksT2JqZWN0KHcuYSkoXywzNTA3NixrKSxPYmplY3Qody5hKShfLDM1MDc3LGspLE9iamVjdCh3LmEpKF8sMzUzODAsayksXyk7dmFyIFA9KE89e30sT2JqZWN0KHcuYSkoTywiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiLHttZXRhOntzdWZmaXg6Ik9FUyJ9LGNyZWF0ZVZlcnRleEFycmF5OmZ1bmN0aW9uKCl7YyghMSwiVmVydGV4QXJyYXkgcmVxdWlyZXMgV2ViR0wyIG9yIE9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IGV4dGVuc2lvbiIpfSxkZWxldGVWZXJ0ZXhBcnJheTpmdW5jdGlvbigpe30sYmluZFZlcnRleEFycmF5OmZ1bmN0aW9uKCl7fSxpc1ZlcnRleEFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksT2JqZWN0KHcuYSkoTywiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIse21ldGE6e3N1ZmZpeDoiQU5HTEUifSx2ZXJ0ZXhBdHRyaWJEaXZpc29yOmZ1bmN0aW9uKHQsZSl7YygwPT09ZSwiV2ViR0wgaW5zdGFuY2VkIHJlbmRlcmluZyBub3Qgc3VwcG9ydGVkIil9LGRyYXdFbGVtZW50c0luc3RhbmNlZDpmdW5jdGlvbigpe30sZHJhd0FycmF5c0luc3RhbmNlZDpmdW5jdGlvbigpe319KSxPYmplY3Qody5hKShPLCJXRUJHTF9kcmF3X2J1ZmZlcnMiLHttZXRhOntzdWZmaXg6IldFQkdMIn0sZHJhd0J1ZmZlcnM6ZnVuY3Rpb24oKXtjKCExKX19KSxPYmplY3Qody5hKShPLCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiLHttZXRhOntzdWZmaXg6IkVYVCJ9LGNyZWF0ZVF1ZXJ5OmZ1bmN0aW9uKCl7YyghMSl9LGRlbGV0ZVF1ZXJ5OmZ1bmN0aW9uKCl7YyghMSl9LGJlZ2luUXVlcnk6ZnVuY3Rpb24oKXtjKCExKX0sZW5kUXVlcnk6ZnVuY3Rpb24oKXt9LGdldFF1ZXJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UXVlcnlPYmplY3QodCxlKX0sZ2V0UXVlcnlQYXJhbWV0ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRRdWVyeU9iamVjdCh0LGUpfSxnZXRRdWVyeU9iamVjdDpmdW5jdGlvbigpe319KSxPKSxqPXtyZWFkQnVmZmVyOmZ1bmN0aW9uKHQsZSxuKXtiKHQpJiZlKG4pfSxnZXRWZXJ0ZXhBdHRyaWI6ZnVuY3Rpb24odCxlLG4scil7dmFyIGksYT1mdW5jdGlvbih0LGUpe3JldHVybnt3ZWJnbDI6Yih0KSxleHQ6dC5nZXRFeHRlbnNpb24oZSl9fSh0LCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksbz1hLndlYmdsMixzPWEuZXh0O3N3aXRjaChyKXtjYXNlIDM1MDY5Omk9ISFvJiZ2b2lkIDA7YnJlYWs7Y2FzZSAzNTA3MDppPW98fHM/dm9pZCAwOjB9cmV0dXJuIHZvaWQgMCE9PWk/aTplKG4scil9LGdldFByb2dyYW1QYXJhbWV0ZXI6ZnVuY3Rpb24odCxlLG4scil7aWYoIWIodCkpc3dpdGNoKHIpe2Nhc2UgMzU5Njc6cmV0dXJuIDM1OTgxO2Nhc2UgMzU5NzE6Y2FzZSAzNTM4MjpyZXR1cm4gMH1yZXR1cm4gZShuLHIpfSxnZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcjpmdW5jdGlvbih0LGUsbixyLGkpe2lmKCFiKHQpKXN3aXRjaChpKXtjYXNlIDMyOTM3OnJldHVybiBuZXcgSW50MzJBcnJheShbMF0pfXJldHVybiB0LmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKG4scixpKX0sZ2V0VGV4UGFyYW1ldGVyOmZ1bmN0aW9uKHQsZSxuLHIpe3N3aXRjaChyKXtjYXNlIDM0MDQ2OnZhciBpPXQubHVtYS5leHRlbnNpb25zLkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztyPWkmJmkuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFR8fDM0MDQ2fXJldHVybiBlKG4scil9LGdldFBhcmFtZXRlcjpmdW5jdGlvbih0LGUsbil7dmFyIHI9U1tuXSxpPSJmdW5jdGlvbiI9PXR5cGVvZiByP3IodCxlLG4pOnI7cmV0dXJuIHZvaWQgMCE9PWk/aTplKG4pfSxoaW50OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBlKG4scil9fTtmdW5jdGlvbiBUKHQsZSl7dmFyIG49ZS5leHRlbnNpb24scj1lLnRhcmdldCxpPWUudGFyZ2V0MixhPVBbbl07YyhhKTtmb3IodmFyIG89YS5tZXRhLHM9KHZvaWQgMD09PW8/e306bykuc3VmZml4LHU9dm9pZCAwPT09cz8iIjpzLGw9dC5nZXRFeHRlbnNpb24obiksaD1mdW5jdGlvbigpe3ZhciBlPWRbZl0sbj0iIi5jb25jYXQoZSkuY29uY2F0KHUpLG89bnVsbDsibWV0YSI9PT1lfHwiZnVuY3Rpb24iPT10eXBlb2YgdFtlXXx8KGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBsW25dP289ZnVuY3Rpb24oKXtyZXR1cm4gbFtuXS5hcHBseShsLGFyZ3VtZW50cyl9OiJmdW5jdGlvbiI9PXR5cGVvZiBhW2VdJiYobz1hW2VdLmJpbmQocikpKSxvJiYocltlXT1vLGlbZV09byl9LGY9MCxkPU9iamVjdC5rZXlzKGEpO2Y8ZC5sZW5ndGg7ZisrKWgoKX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdykucG9seWZpbGxDb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0Lmx1bWE9dC5sdW1hfHx7fSx0Lmx1bWEucG9seWZpbGxlZHx8KCFmdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdC5jcmVhdGVWZXJ0ZXhBcnJheSl7dmFyIGU9dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zO3QuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucz1mdW5jdGlvbigpe3ZhciB0PWUuY2FsbCh0aGlzKXx8W107cmV0dXJuIHQuaW5kZXhPZigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTwwJiZ0LnB1c2goIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiksdH07dmFyIG49dC5nZXRFeHRlbnNpb247dC5nZXRFeHRlbnNpb249ZnVuY3Rpb24oZSl7dmFyIHI9bi5jYWxsKHRoaXMsZSk7cmV0dXJuIHJ8fCgiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiIT09ZT9udWxsOih0Ll9fT0VTVmVydGV4QXJyYXlPYmplY3R8fCh0aGlzLl9fT0VTVmVydGV4QXJyYXlPYmplY3Q9bmV3IHModGhpcykpLHRoaXMuX19PRVNWZXJ0ZXhBcnJheU9iamVjdCkpfX19KHQpLGZ1bmN0aW9uKHQpe3QubHVtYS5leHRlbnNpb25zPXt9O3ZhciBlPXQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpfHxbXSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTt0Lmx1bWFbc109dC5nZXRFeHRlbnNpb24ocyl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTsib3ZlcnJpZGVzIiE9PXMmJlQodCx7ZXh0ZW5zaW9uOnMsdGFyZ2V0OnQubHVtYSx0YXJnZXQyOnR9KX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fX0odCxQKSxmdW5jdGlvbih0LGUpe3ZhciBuPWUudGFyZ2V0LHI9ZS50YXJnZXQyO09iamVjdC5rZXlzKGopLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBqW2VdKXt2YXIgaT10W2VdP3RbZV0uYmluZCh0KTpmdW5jdGlvbigpe30sYT1qW2VdLmJpbmQobnVsbCx0LGkpO25bZV09YSxyW2VdPWF9fSkpfSh0LHt0YXJnZXQ6dC5sdW1hLHRhcmdldDI6dH0pLHQubHVtYS5wb2x5ZmlsbGVkPSEwKSx0fTt2YXIgRSxBLE0sQz1uKDMxKSxMPW4oMjYpLEk9KEU9e30sT2JqZWN0KHcuYSkoRSwzMDQyLCExKSxPYmplY3Qody5hKShFLDMyNzczLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDBdKSksT2JqZWN0KHcuYSkoRSwzMjc3NywzMjc3NCksT2JqZWN0KHcuYSkoRSwzNDg3NywzMjc3NCksT2JqZWN0KHcuYSkoRSwzMjk2OSwxKSxPYmplY3Qody5hKShFLDMyOTY4LDApLE9iamVjdCh3LmEpKEUsMzI5NzEsMSksT2JqZWN0KHcuYSkoRSwzMjk3MCwwKSxPYmplY3Qody5hKShFLDMxMDYsbmV3IEZsb2F0MzJBcnJheShbMCwwLDAsMF0pKSxPYmplY3Qody5hKShFLDMxMDcsWyEwLCEwLCEwLCEwXSksT2JqZWN0KHcuYSkoRSwyODg0LCExKSxPYmplY3Qody5hKShFLDI4ODUsMTAyOSksT2JqZWN0KHcuYSkoRSwyOTI5LCExKSxPYmplY3Qody5hKShFLDI5MzEsMSksT2JqZWN0KHcuYSkoRSwyOTMyLDUxMyksT2JqZWN0KHcuYSkoRSwyOTI4LG5ldyBGbG9hdDMyQXJyYXkoWzAsMV0pKSxPYmplY3Qody5hKShFLDI5MzAsITApLE9iamVjdCh3LmEpKEUsMzAyNCwhMCksT2JqZWN0KHcuYSkoRSwzNjAwNixudWxsKSxPYmplY3Qody5hKShFLDI4ODYsMjMwNSksT2JqZWN0KHcuYSkoRSwzMzE3MCw0MzUyKSxPYmplY3Qody5hKShFLDI4NDksMSksT2JqZWN0KHcuYSkoRSwzMjgyMywhMSksT2JqZWN0KHcuYSkoRSwzMjgyNCwwKSxPYmplY3Qody5hKShFLDEwNzUyLDApLE9iamVjdCh3LmEpKEUsMzI5MzgsMSksT2JqZWN0KHcuYSkoRSwzMjkzOSwhMSksT2JqZWN0KHcuYSkoRSwzMDg5LCExKSxPYmplY3Qody5hKShFLDMwODgsbmV3IEludDMyQXJyYXkoWzAsMCwxMDI0LDEwMjRdKSksT2JqZWN0KHcuYSkoRSwyOTYwLCExKSxPYmplY3Qody5hKShFLDI5NjEsMCksT2JqZWN0KHcuYSkoRSwyOTY4LDQyOTQ5NjcyOTUpLE9iamVjdCh3LmEpKEUsMzYwMDUsNDI5NDk2NzI5NSksT2JqZWN0KHcuYSkoRSwyOTYyLDUxOSksT2JqZWN0KHcuYSkoRSwyOTY3LDApLE9iamVjdCh3LmEpKEUsMjk2Myw0Mjk0OTY3Mjk1KSxPYmplY3Qody5hKShFLDM0ODE2LDUxOSksT2JqZWN0KHcuYSkoRSwzNjAwMywwKSxPYmplY3Qody5hKShFLDM2MDA0LDQyOTQ5NjcyOTUpLE9iamVjdCh3LmEpKEUsMjk2NCw3NjgwKSxPYmplY3Qody5hKShFLDI5NjUsNzY4MCksT2JqZWN0KHcuYSkoRSwyOTY2LDc2ODApLE9iamVjdCh3LmEpKEUsMzQ4MTcsNzY4MCksT2JqZWN0KHcuYSkoRSwzNDgxOCw3NjgwKSxPYmplY3Qody5hKShFLDM0ODE5LDc2ODApLE9iamVjdCh3LmEpKEUsMjk3OCxbMCwwLDEwMjQsMTAyNF0pLE9iamVjdCh3LmEpKEUsMzMzMyw0KSxPYmplY3Qody5hKShFLDMzMTcsNCksT2JqZWN0KHcuYSkoRSwzNzQ0MCwhMSksT2JqZWN0KHcuYSkoRSwzNzQ0MSwhMSksT2JqZWN0KHcuYSkoRSwzNzQ0MywzNzQ0NCksT2JqZWN0KHcuYSkoRSwzNTcyMyw0MzUyKSxPYmplY3Qody5hKShFLDM2MDEwLG51bGwpLE9iamVjdCh3LmEpKEUsMzU5NzcsITEpLE9iamVjdCh3LmEpKEUsMzMzMCwwKSxPYmplY3Qody5hKShFLDMzMzIsMCksT2JqZWN0KHcuYSkoRSwzMzMxLDApLE9iamVjdCh3LmEpKEUsMzMxNCwwKSxPYmplY3Qody5hKShFLDMyODc4LDApLE9iamVjdCh3LmEpKEUsMzMxNiwwKSxPYmplY3Qody5hKShFLDMzMTUsMCksT2JqZWN0KHcuYSkoRSwzMjg3NywwKSxFKSxSPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT90LmVuYWJsZShuKTp0LmRpc2FibGUobil9LE49ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmhpbnQobixlKX0sRD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQucGl4ZWxTdG9yZWkobixlKX07ZnVuY3Rpb24gRih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfXZhciB6PShBPXt9LE9iamVjdCh3LmEpKEEsMzA0MixSKSxPYmplY3Qody5hKShBLDMyNzczLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmJsZW5kQ29sb3IuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwzMjc3NywiYmxlbmRFcXVhdGlvbiIpLE9iamVjdCh3LmEpKEEsMzQ4NzcsImJsZW5kRXF1YXRpb24iKSxPYmplY3Qody5hKShBLDMyOTY5LCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTY4LCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTcxLCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTcwLCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMxMDYsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2xlYXJDb2xvci5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLDMxMDcsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29sb3JNYXNrLmFwcGx5KHQsT2JqZWN0KEwuYSkoZSkpfSkpLE9iamVjdCh3LmEpKEEsMjg4NCxSKSxPYmplY3Qody5hKShBLDI4ODUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY3VsbEZhY2UoZSl9KSksT2JqZWN0KHcuYSkoQSwyOTI5LFIpLE9iamVjdCh3LmEpKEEsMjkzMSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jbGVhckRlcHRoKGUpfSkpLE9iamVjdCh3LmEpKEEsMjkzMiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kZXB0aEZ1bmMoZSl9KSksT2JqZWN0KHcuYSkoQSwyOTI4LChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRlcHRoUmFuZ2UuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwyOTMwLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRlcHRoTWFzayhlKX0pKSxPYmplY3Qody5hKShBLDMwMjQsUiksT2JqZWN0KHcuYSkoQSwzNTcyMyxOKSxPYmplY3Qody5hKShBLDM2MDA2LChmdW5jdGlvbih0LGUpe3ZhciBuPWIodCk/MzYwMDk6MzYxNjA7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKG4sZSl9KSksT2JqZWN0KHcuYSkoQSwyODg2LChmdW5jdGlvbih0LGUpe3JldHVybiB0LmZyb250RmFjZShlKX0pKSxPYmplY3Qody5hKShBLDMzMTcwLE4pLE9iamVjdCh3LmEpKEEsMjg0OSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5saW5lV2lkdGgoZSl9KSksT2JqZWN0KHcuYSkoQSwzMjgyMyxSKSxPYmplY3Qody5hKShBLDMyODI0LCJwb2x5Z29uT2Zmc2V0IiksT2JqZWN0KHcuYSkoQSwxMDc1MiwicG9seWdvbk9mZnNldCIpLE9iamVjdCh3LmEpKEEsMzU5NzcsUiksT2JqZWN0KHcuYSkoQSwzMjkzOCwic2FtcGxlQ292ZXJhZ2UiKSxPYmplY3Qody5hKShBLDMyOTM5LCJzYW1wbGVDb3ZlcmFnZSIpLE9iamVjdCh3LmEpKEEsMzA4OSxSKSxPYmplY3Qody5hKShBLDMwODgsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2Npc3Nvci5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLDI5NjAsUiksT2JqZWN0KHcuYSkoQSwyOTYxLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNsZWFyU3RlbmNpbChlKX0pKSxPYmplY3Qody5hKShBLDI5NjgsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RlbmNpbE1hc2tTZXBhcmF0ZSgxMDI4LGUpfSkpLE9iamVjdCh3LmEpKEEsMzYwMDUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RlbmNpbE1hc2tTZXBhcmF0ZSgxMDI5LGUpfSkpLE9iamVjdCh3LmEpKEEsMjk2Miwic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMjk2Nywic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMjk2Mywic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMzQ4MTYsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMzYwMDMsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMzYwMDQsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMjk2NCwic3RlbmNpbE9wRnJvbnQiKSxPYmplY3Qody5hKShBLDI5NjUsInN0ZW5jaWxPcEZyb250IiksT2JqZWN0KHcuYSkoQSwyOTY2LCJzdGVuY2lsT3BGcm9udCIpLE9iamVjdCh3LmEpKEEsMzQ4MTcsInN0ZW5jaWxPcEJhY2siKSxPYmplY3Qody5hKShBLDM0ODE4LCJzdGVuY2lsT3BCYWNrIiksT2JqZWN0KHcuYSkoQSwzNDgxOSwic3RlbmNpbE9wQmFjayIpLE9iamVjdCh3LmEpKEEsMjk3OCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aWV3cG9ydC5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLDMzMzMsRCksT2JqZWN0KHcuYSkoQSwzMzE3LEQpLE9iamVjdCh3LmEpKEEsMzc0NDAsRCksT2JqZWN0KHcuYSkoQSwzNzQ0MSxEKSxPYmplY3Qody5hKShBLDM3NDQzLEQpLE9iamVjdCh3LmEpKEEsMzMzMCxEKSxPYmplY3Qody5hKShBLDMzMzIsRCksT2JqZWN0KHcuYSkoQSwzMzMxLEQpLE9iamVjdCh3LmEpKEEsMzYwMTAsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LGUpfSkpLE9iamVjdCh3LmEpKEEsMzMxNCxEKSxPYmplY3Qody5hKShBLDMyODc4LEQpLE9iamVjdCh3LmEpKEEsMzMxNixEKSxPYmplY3Qody5hKShBLDMzMTUsRCksT2JqZWN0KHcuYSkoQSwzMjg3NyxEKSxPYmplY3Qody5hKShBLCJmcmFtZWJ1ZmZlciIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSYmImhhbmRsZSJpbiBlP2UuaGFuZGxlOmU7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG4pfSkpLE9iamVjdCh3LmEpKEEsImJsZW5kIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgzMDQyKTp0LmRpc2FibGUoMzA0Mil9KSksT2JqZWN0KHcuYSkoQSwiYmxlbmRDb2xvciIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYmxlbmRDb2xvci5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJibGVuZEVxdWF0aW9uIiwoZnVuY3Rpb24odCxlKXtlPUYoZSk/ZTpbZSxlXSx0LmJsZW5kRXF1YXRpb25TZXBhcmF0ZS5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJibGVuZEZ1bmMiLChmdW5jdGlvbih0LGUpe2U9RihlKSYmMj09PWUubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKShlKSxPYmplY3QoTC5hKShlKSk6ZSx0LmJsZW5kRnVuY1NlcGFyYXRlLmFwcGx5KHQsT2JqZWN0KEwuYSkoZSkpfSkpLE9iamVjdCh3LmEpKEEsImNsZWFyQ29sb3IiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNsZWFyQ29sb3IuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwiY2xlYXJEZXB0aCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2xlYXJEZXB0aChlKX0pKSxPYmplY3Qody5hKShBLCJjbGVhclN0ZW5jaWwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNsZWFyU3RlbmNpbChlKX0pKSxPYmplY3Qody5hKShBLCJjb2xvck1hc2siLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbG9yTWFzay5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJjdWxsIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgyODg0KTp0LmRpc2FibGUoMjg4NCl9KSksT2JqZWN0KHcuYSkoQSwiY3VsbEZhY2UiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmN1bGxGYWNlKGUpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoVGVzdCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dC5lbmFibGUoMjkyOSk6dC5kaXNhYmxlKDI5MjkpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoRnVuYyIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGVwdGhGdW5jKGUpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoTWFzayIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGVwdGhNYXNrKGUpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoUmFuZ2UiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRlcHRoUmFuZ2UuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwiZGl0aGVyIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgzMDI0KTp0LmRpc2FibGUoMzAyNCl9KSksT2JqZWN0KHcuYSkoQSwiZGVyaXZhdGl2ZUhpbnQiLChmdW5jdGlvbih0LGUpe3QuaGludCgzNTcyMyxlKX0pKSxPYmplY3Qody5hKShBLCJmcm9udEZhY2UiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LmZyb250RmFjZShlKX0pKSxPYmplY3Qody5hKShBLCJtaXBtYXBIaW50IiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oaW50KDMzMTcwLGUpfSkpLE9iamVjdCh3LmEpKEEsImxpbmVXaWR0aCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGluZVdpZHRoKGUpfSkpLE9iamVjdCh3LmEpKEEsInBvbHlnb25PZmZzZXRGaWxsIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LmVuYWJsZSgzMjgyMyk6dC5kaXNhYmxlKDMyODIzKX0pKSxPYmplY3Qody5hKShBLCJwb2x5Z29uT2Zmc2V0IiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wb2x5Z29uT2Zmc2V0LmFwcGx5KHQsT2JqZWN0KEwuYSkoZSkpfSkpLE9iamVjdCh3LmEpKEEsInNhbXBsZUNvdmVyYWdlIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zYW1wbGVDb3ZlcmFnZS5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxPYmplY3Qody5hKShBLCJzY2lzc29yVGVzdCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dC5lbmFibGUoMzA4OSk6dC5kaXNhYmxlKDMwODkpfSkpLE9iamVjdCh3LmEpKEEsInNjaXNzb3IiLChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNjaXNzb3IuYXBwbHkodCxPYmplY3QoTC5hKShlKSl9KSksT2JqZWN0KHcuYSkoQSwic3RlbmNpbFRlc3QiLChmdW5jdGlvbih0LGUpe3JldHVybiBlP3QuZW5hYmxlKDI5NjApOnQuZGlzYWJsZSgyOTYwKX0pKSxPYmplY3Qody5hKShBLCJzdGVuY2lsTWFzayIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZT1GKGUpP2U6W2UsZV0scj1PYmplY3QoQy5hKShuLDIpLGk9clswXSxhPXJbMV07dC5zdGVuY2lsTWFza1NlcGFyYXRlKDEwMjgsaSksdC5zdGVuY2lsTWFza1NlcGFyYXRlKDEwMjksYSl9KSksT2JqZWN0KHcuYSkoQSwic3RlbmNpbEZ1bmMiLChmdW5jdGlvbih0LGUpe3ZhciBuPWU9RihlKSYmMz09PWUubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKShlKSxPYmplY3QoTC5hKShlKSk6ZSxyPU9iamVjdChDLmEpKG4sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV07dC5zdGVuY2lsRnVuY1NlcGFyYXRlKDEwMjgsaSxhLG8pLHQuc3RlbmNpbEZ1bmNTZXBhcmF0ZSgxMDI5LHMsdSxjKX0pKSxPYmplY3Qody5hKShBLCJzdGVuY2lsT3AiLChmdW5jdGlvbih0LGUpe3ZhciBuPWU9RihlKSYmMz09PWUubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKShlKSxPYmplY3QoTC5hKShlKSk6ZSxyPU9iamVjdChDLmEpKG4sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV07dC5zdGVuY2lsT3BTZXBhcmF0ZSgxMDI4LGksYSxvKSx0LnN0ZW5jaWxPcFNlcGFyYXRlKDEwMjkscyx1LGMpfSkpLE9iamVjdCh3LmEpKEEsInZpZXdwb3J0IiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aWV3cG9ydC5hcHBseSh0LE9iamVjdChMLmEpKGUpKX0pKSxBKTtmdW5jdGlvbiBCKHQsZSxuKXtyZXR1cm4gdm9pZCAwIT09ZVt0XT9lW3RdOm5bdF19dmFyIFU9e2JsZW5kRXF1YXRpb246ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmJsZW5kRXF1YXRpb25TZXBhcmF0ZShCKDMyNzc3LGUsbiksQigzNDg3NyxlLG4pKX0sYmxlbmRGdW5jOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5ibGVuZEZ1bmNTZXBhcmF0ZShCKDMyOTY5LGUsbiksQigzMjk2OCxlLG4pLEIoMzI5NzEsZSxuKSxCKDMyOTcwLGUsbikpfSxwb2x5Z29uT2Zmc2V0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5wb2x5Z29uT2Zmc2V0KEIoMzI4MjQsZSxuKSxCKDEwNzUyLGUsbikpfSxzYW1wbGVDb3ZlcmFnZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuc2FtcGxlQ292ZXJhZ2UoQigzMjkzOCxlLG4pLEIoMzI5MzksZSxuKSl9LHN0ZW5jaWxGdW5jRnJvbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnN0ZW5jaWxGdW5jU2VwYXJhdGUoMTAyOCxCKDI5NjIsZSxuKSxCKDI5NjcsZSxuKSxCKDI5NjMsZSxuKSl9LHN0ZW5jaWxGdW5jQmFjazpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuc3RlbmNpbEZ1bmNTZXBhcmF0ZSgxMDI5LEIoMzQ4MTYsZSxuKSxCKDM2MDAzLGUsbiksQigzNjAwNCxlLG4pKX0sc3RlbmNpbE9wRnJvbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnN0ZW5jaWxPcFNlcGFyYXRlKDEwMjgsQigyOTY0LGUsbiksQigyOTY1LGUsbiksQigyOTY2LGUsbikpfSxzdGVuY2lsT3BCYWNrOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5zdGVuY2lsT3BTZXBhcmF0ZSgxMDI5LEIoMzQ4MTcsZSxuKSxCKDM0ODE4LGUsbiksQigzNDgxOSxlLG4pKX19LFY9e2VuYWJsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LGUsITApKX0sZGlzYWJsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LGUsITEpKX0scGl4ZWxTdG9yZWk6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LGUsbikpfSxoaW50OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSxlLG4pKX0sYmluZEZyYW1lYnVmZmVyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtzd2l0Y2goZSl7Y2FzZSAzNjE2MDpyZXR1cm4gdCgocj17fSxPYmplY3Qody5hKShyLDM2MDA2LG4pLE9iamVjdCh3LmEpKHIsMzYwMTAsbikscikpO2Nhc2UgMzYwMDk6cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMzYwMDYsbikpO2Nhc2UgMzYwMDg6cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMzYwMTAsbikpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxibGVuZENvbG9yOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMzI3NzMsbmV3IEZsb2F0MzJBcnJheShbZSxuLHIsaV0pKSl9LGJsZW5kRXF1YXRpb246ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdCgobj17fSxPYmplY3Qody5hKShuLDMyNzc3LGUpLE9iamVjdCh3LmEpKG4sMzQ4NzcsZSksbikpfSxibGVuZEVxdWF0aW9uU2VwYXJhdGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByO3JldHVybiB0KChyPXt9LE9iamVjdCh3LmEpKHIsMzI3NzcsZSksT2JqZWN0KHcuYSkociwzNDg3NyxuKSxyKSl9LGJsZW5kRnVuYzpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHQoKHI9e30sT2JqZWN0KHcuYSkociwzMjk2OSxlKSxPYmplY3Qody5hKShyLDMyOTY4LG4pLE9iamVjdCh3LmEpKHIsMzI5NzEsZSksT2JqZWN0KHcuYSkociwzMjk3MCxuKSxyKSl9LGJsZW5kRnVuY1NlcGFyYXRlOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIGE7cmV0dXJuIHQoKGE9e30sT2JqZWN0KHcuYSkoYSwzMjk2OSxlKSxPYmplY3Qody5hKShhLDMyOTY4LG4pLE9iamVjdCh3LmEpKGEsMzI5NzEsciksT2JqZWN0KHcuYSkoYSwzMjk3MCxpKSxhKSl9LGNsZWFyQ29sb3I6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwzMTA2LG5ldyBGbG9hdDMyQXJyYXkoW2UsbixyLGldKSkpfSxjbGVhckRlcHRoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjkzMSxlKSl9LGNsZWFyU3RlbmNpbDpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDI5NjEsZSkpfSxjb2xvck1hc2s6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwzMTA3LFtlLG4scixpXSkpfSxjdWxsRmFjZTpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDI4ODUsZSkpfSxkZXB0aEZ1bmM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwyOTMyLGUpKX0sZGVwdGhSYW5nZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjkyOCxuZXcgRmxvYXQzMkFycmF5KFtlLG5dKSkpfSxkZXB0aE1hc2s6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdChPYmplY3Qody5hKSh7fSwyOTMwLGUpKX0sZnJvbnRGYWNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjg4NixlKSl9LGxpbmVXaWR0aDpmdW5jdGlvbih0LGUpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDI4NDksZSkpfSxwb2x5Z29uT2Zmc2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtyZXR1cm4gdCgocj17fSxPYmplY3Qody5hKShyLDMyODI0LGUpLE9iamVjdCh3LmEpKHIsMTA3NTIsbikscikpfSxzYW1wbGVDb3ZlcmFnZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHQoKHI9e30sT2JqZWN0KHcuYSkociwzMjkzOCxlKSxPYmplY3Qody5hKShyLDMyOTM5LG4pLHIpKX0sc2Npc3NvcjpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiB0KE9iamVjdCh3LmEpKHt9LDMwODgsbmV3IEludDMyQXJyYXkoW2UsbixyLGldKSkpfSxzdGVuY2lsTWFzazpmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0KChuPXt9LE9iamVjdCh3LmEpKG4sMjk2OCxlKSxPYmplY3Qody5hKShuLDM2MDA1LGUpLG4pKX0sc3RlbmNpbE1hc2tTZXBhcmF0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMTAyOD09PWU/Mjk2ODozNjAwNSxuKSl9LHN0ZW5jaWxGdW5jOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO3JldHVybiB0KChpPXt9LE9iamVjdCh3LmEpKGksMjk2MixlKSxPYmplY3Qody5hKShpLDI5NjcsbiksT2JqZWN0KHcuYSkoaSwyOTYzLHIpLE9iamVjdCh3LmEpKGksMzQ4MTYsZSksT2JqZWN0KHcuYSkoaSwzNjAwMyxuKSxPYmplY3Qody5hKShpLDM2MDA0LHIpLGkpKX0sc3RlbmNpbEZ1bmNTZXBhcmF0ZTpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBhO3JldHVybiB0KChhPXt9LE9iamVjdCh3LmEpKGEsMTAyOD09PWU/Mjk2MjozNDgxNixuKSxPYmplY3Qody5hKShhLDEwMjg9PT1lPzI5Njc6MzYwMDMsciksT2JqZWN0KHcuYSkoYSwxMDI4PT09ZT8yOTYzOjM2MDA0LGkpLGEpKX0sc3RlbmNpbE9wOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO3JldHVybiB0KChpPXt9LE9iamVjdCh3LmEpKGksMjk2NCxlKSxPYmplY3Qody5hKShpLDI5NjUsbiksT2JqZWN0KHcuYSkoaSwyOTY2LHIpLE9iamVjdCh3LmEpKGksMzQ4MTcsZSksT2JqZWN0KHcuYSkoaSwzNDgxOCxuKSxPYmplY3Qody5hKShpLDM0ODE5LHIpLGkpKX0sc3RlbmNpbE9wU2VwYXJhdGU6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgYTtyZXR1cm4gdCgoYT17fSxPYmplY3Qody5hKShhLDEwMjg9PT1lPzI5NjQ6MzQ4MTcsbiksT2JqZWN0KHcuYSkoYSwxMDI4PT09ZT8yOTY1OjM0ODE4LHIpLE9iamVjdCh3LmEpKGEsMTAyOD09PWU/Mjk2NjozNDgxOSxpKSxhKSl9LHZpZXdwb3J0OmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHQoT2JqZWN0KHcuYSkoe30sMjk3OCxbZSxuLHIsaV0pKX19LEc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pc0VuYWJsZWQoZSl9LFc9KE09e30sT2JqZWN0KHcuYSkoTSwzMDQyLEcpLE9iamVjdCh3LmEpKE0sMjg4NCxHKSxPYmplY3Qody5hKShNLDI5MjksRyksT2JqZWN0KHcuYSkoTSwzMDI0LEcpLE9iamVjdCh3LmEpKE0sMzI4MjMsRyksT2JqZWN0KHcuYSkoTSwzMjkyNixHKSxPYmplY3Qody5hKShNLDMyOTI4LEcpLE9iamVjdCh3LmEpKE0sMzA4OSxHKSxPYmplY3Qody5hKShNLDI5NjAsRyksT2JqZWN0KHcuYSkoTSwzNTk3NyxHKSxNKSxIPW4oNikscT1uKDcpO2Z1bmN0aW9uIFgodCxlKXt2YXIgbj10W2VdLmJpbmQodCk7dFtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZSBpbiB0LnN0YXRlLmNhY2hlfHwodC5zdGF0ZS5jYWNoZVtlXT1uLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKSx0LnN0YXRlLmVuYWJsZT90LnN0YXRlLmNhY2hlW2VdOm4uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0W2VdLCJuYW1lIix7dmFsdWU6IiIuY29uY2F0KGUsIi1mcm9tLWNhY2hlIiksY29uZmlndXJhYmxlOiExfSl9ZnVuY3Rpb24gWih0LGUsbil7dmFyIHI9dFtlXS5iaW5kKHQpO3RbZV09ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxhPTA7YTxlO2ErKylpW2FdPWFyZ3VtZW50c1thXTt2YXIgbz1uLmFwcGx5KHZvaWQgMCxbdC5zdGF0ZS5fdXBkYXRlQ2FjaGVdLmNvbmNhdChpKSkscz1vLnZhbHVlQ2hhbmdlZCx1PW8ub2xkVmFsdWU7cmV0dXJuIHMmJnIuYXBwbHkodm9pZCAwLGkpLHV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0W2VdLCJuYW1lIix7dmFsdWU6IiIuY29uY2F0KGUsIi10by1jYWNoZSIpLGNvbmZpZ3VyYWJsZTohMX0pfWZ1bmN0aW9uIFkodCl7dmFyIGU9dC51c2VQcm9ncmFtLmJpbmQodCk7dC51c2VQcm9ncmFtPWZ1bmN0aW9uKG4pe3Quc3RhdGUucHJvZ3JhbSE9PW4mJihlKG4pLHQuc3RhdGUucHJvZ3JhbT1uKX19dmFyIEs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4uY29weVN0YXRlLGk9dm9pZCAwIT09ciYmcixhPW4ubG9nLG89dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtPYmplY3QoSC5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLnByb2dyYW09bnVsbCx0aGlzLnN0YXRlU3RhY2s9W10sdGhpcy5lbmFibGU9ITAsdGhpcy5jYWNoZT1pP3R0KGUpOk9iamVjdC5hc3NpZ24oe30sSSksdGhpcy5sb2c9byx0aGlzLl91cGRhdGVDYWNoZT10aGlzLl91cGRhdGVDYWNoZS5iaW5kKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3QocS5hKSh0LFt7a2V5OiJwdXNoIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dGhpcy5zdGF0ZVN0YWNrLnB1c2goe30pfX0se2tleToicG9wIix2YWx1ZTpmdW5jdGlvbigpe2ModGhpcy5zdGF0ZVN0YWNrLmxlbmd0aD4wKTt2YXIgdD10aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aC0xXTskKHRoaXMuZ2wsdCx0aGlzLmNhY2hlKSx0aGlzLnN0YXRlU3RhY2sucG9wKCl9fSx7a2V5OiJfdXBkYXRlQ2FjaGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49ITEscj10aGlzLnN0YXRlU3RhY2subGVuZ3RoPjAmJnRoaXMuc3RhdGVTdGFja1t0aGlzLnN0YXRlU3RhY2subGVuZ3RoLTFdO2Zvcih2YXIgaSBpbiB0KXtjKHZvaWQgMCE9PWkpO3ZhciBhPXRbaV0sbz10aGlzLmNhY2hlW2ldO2goYSxvKXx8KG49ITAsZT1vLCFyfHxpIGluIHJ8fChyW2ldPW8pLHRoaXMuY2FjaGVbaV09YSl9cmV0dXJue3ZhbHVlQ2hhbmdlZDpuLG9sZFZhbHVlOmV9fX1dKSx0fSgpO2Z1bmN0aW9uIFEodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS5lbmFibGUscj12b2lkIDA9PT1ufHxuLGk9ZS5jb3B5U3RhdGU7aWYoYyh2b2lkIDAhPT1pKSwhdC5zdGF0ZSl7dmFyIGE9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdztmb3IodmFyIG8gaW4gYS5wb2x5ZmlsbENvbnRleHQmJmEucG9seWZpbGxDb250ZXh0KHQpLHQuc3RhdGU9bmV3IEsodCx7Y29weVN0YXRlOmksZW5hYmxlOnJ9KSxZKHQpLFYpe3ZhciBzPVZbb107Wih0LG8scyl9WCh0LCJnZXRQYXJhbWV0ZXIiKSxYKHQsImlzRW5hYmxlZCIpfXJldHVybiB0LnN0YXRlLmVuYWJsZT1yLHR9ZnVuY3Rpb24gSih0KXtjKHQuc3RhdGUpLHQuc3RhdGUucG9wKCl9ZnVuY3Rpb24gJCh0LGUpe2lmKGMobSh0KSwic2V0UGFyYW1ldGVycyByZXF1aXJlcyBhIFdlYkdMIGNvbnRleHQiKSwhbChlKSl7dmFyIG49e307Zm9yKHZhciByIGluIGUpe3ZhciBpPU51bWJlcihyKSxhPXpbcl07YSYmKCJzdHJpbmciPT10eXBlb2YgYT9uW2FdPSEwOmEodCxlW3JdLGkpKX12YXIgbz10LnN0YXRlJiZ0LnN0YXRlLmNhY2hlO2lmKG8pZm9yKHZhciBzIGluIG4peygwLFVbc10pKHQsZSxvKX19fWZ1bmN0aW9uIHR0KHQsZSl7aWYoIm51bWJlciI9PXR5cGVvZihlPWV8fEkpKXt2YXIgbj1lLHI9V1tuXTtyZXR1cm4gcj9yKHQsbik6dC5nZXRQYXJhbWV0ZXIobil9dmFyIGk9QXJyYXkuaXNBcnJheShlKT9lOk9iamVjdC5rZXlzKGUpLGE9e30sbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWUsZj1XW2hdO2FbaF09Zj9mKHQsTnVtYmVyKGgpKTp0LmdldFBhcmFtZXRlcihOdW1iZXIoaCkpfX1jYXRjaCh0KXtzPSEwLHU9dH1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19cmV0dXJuIGF9ZnVuY3Rpb24gZXQodCl7JCh0LEkpfWZ1bmN0aW9uIG50KHQsZSxuKXtpZihsKGUpKXJldHVybiBuKHQpO3ZhciByLGk9ZS5ub2NhdGNoLGE9dm9pZCAwPT09aXx8aTtpZihmdW5jdGlvbih0KXt0LnN0YXRlfHxRKHQse2NvcHlTdGF0ZTohMX0pLHQuc3RhdGUucHVzaCgpfSh0KSwkKHQsZSksYSlyPW4odCksSih0KTtlbHNlIHRyeXtyPW4odCl9ZmluYWxseXtKKHQpfXJldHVybiByfXZhciBydD1PYmplY3Qoci5pc0Jyb3dzZXIpKCksaXQ9cnQmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQsYXQ9e3dlYmdsMjohMCx3ZWJnbDE6ITAsdGhyb3dPbkVycm9yOiEwLG1hbmFnZVN0YXRlOiEwLGNhbnZhczpudWxsLGRlYnVnOiExLHdpZHRoOjgwMCxoZWlnaHQ6NjAwfTtmdW5jdGlvbiBvdCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjKHJ0LCJjcmVhdGVHTENvbnRleHQgb24gYXZhaWxhYmxlIGluIHRoZSBicm93c2VyLlxuQ3JlYXRlIHlvdXIgb3duIGhlYWRsZXNzIGNvbnRleHQgb3IgdXNlICdjcmVhdGVIZWFkbGVzc0NvbnRleHQnIGZyb20gQGx1bWEuZ2wvdGVzdC11dGlscyIpO3ZhciBlLG49dD1PYmplY3QuYXNzaWduKHt9LGF0LHQpLHI9bi53aWR0aCxpPW4uaGVpZ2h0O2Z1bmN0aW9uIGEoZSl7aWYodC50aHJvd09uRXJyb3IpdGhyb3cgbmV3IEVycm9yKGUpO3JldHVybiBjb25zb2xlLmVycm9yKGUpLG51bGx9dC5vbkVycm9yPWE7dmFyIG89dCxzPW8uY2FudmFzLHU9bHQoe2NhbnZhczpzLHdpZHRoOnIsaGVpZ2h0Omksb25FcnJvcjphfSk7cmV0dXJuKGU9Y3QodSx0KSk/KGh0KGU9c3QoZSx0KSksZSk6bnVsbH1mdW5jdGlvbiBzdCh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoIXR8fHQuX2luc3RydW1lbnRlZClyZXR1cm4gdDt0Ll92ZXJzaW9uPXQuX3ZlcnNpb258fGZ0KHQpLHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYW52YXNTaXplSW5mbz10Lmx1bWEuY2FudmFzU2l6ZUluZm98fHt9O3ZhciBuPWU9T2JqZWN0LmFzc2lnbih7fSxhdCxlKSxpPW4ubWFuYWdlU3RhdGUsYT1uLmRlYnVnO3JldHVybiBpJiZRKHQse2NvcHlTdGF0ZTohMSxsb2c6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4geC5sb2cuYXBwbHkoeCxbMV0uY29uY2F0KGUpKSgpfX0pLHJ0JiZhJiYoci5nbG9iYWwubWFrZURlYnVnQ29udGV4dD8odD1yLmdsb2JhbC5tYWtlRGVidWdDb250ZXh0KHQsZSkseC5sZXZlbD1NYXRoLm1heCh4LmxldmVsLDEpKTp4Lndhcm4oJ1dlYkdMIGRlYnVnIG1vZGUgbm90IGFjdGl2YXRlZC4gaW1wb3J0ICJAbHVtYS5nbC9kZWJ1ZyIgdG8gZW5hYmxlLicpKCkpLHQuX2luc3RydW1lbnRlZD0hMCx0fWZ1bmN0aW9uIHV0KHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZih0LmNhbnZhcyl7dmFyIG49dihlLnVzZURldmljZVBpeGVscyk7ZHQodCxuLGUpfWVsc2V7dmFyIHI9dC5nZXRFeHRlbnNpb24oIlNUQUNLR0xfcmVzaXplX2RyYXdpbmdidWZmZXIiKTtyJiYid2lkdGgiaW4gZSYmImhlaWdodCJpbiBlJiZyLnJlc2l6ZShlLndpZHRoLGUuaGVpZ2h0KX19ZnVuY3Rpb24gY3QodCxlKXt2YXIgbj1lLm9uRXJyb3Iscj1mdW5jdGlvbih0KXtyZXR1cm4gbigiV2ViR0wgY29udGV4dDogIi5jb25jYXQodC5zdGF0dXNNZXNzYWdlfHwiZXJyb3IiKSl9O3QuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciIsciwhMSk7dmFyIGk9ZS53ZWJnbDEsYT12b2lkIDA9PT1pfHxpLG89ZS53ZWJnbDIscz12b2lkIDA9PT1vfHxvLHU9bnVsbDtyZXR1cm4gcyYmKHU9KHU9dXx8dC5nZXRDb250ZXh0KCJ3ZWJnbDIiLGUpKXx8dC5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wyIixlKSksYSYmKHU9KHU9dXx8dC5nZXRDb250ZXh0KCJ3ZWJnbCIsZSkpfHx0LmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsZSkpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciIsciwhMSksdXx8bigiRmFpbGVkIHRvIGNyZWF0ZSAiLmNvbmNhdChzJiYhYT8iV2ViR0wyIjoiV2ViR0wiLCIgY29udGV4dCIpKX1mdW5jdGlvbiBsdCh0KXt2YXIgZSxuPXQuY2FudmFzLHI9dC53aWR0aCxpPXZvaWQgMD09PXI/ODAwOnIsYT10LmhlaWdodCxvPXZvaWQgMD09PWE/NjAwOmEscz10Lm9uRXJyb3I7InN0cmluZyI9PXR5cGVvZiBuPyhpdCYmImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fHMoImNyZWF0ZUdMQ29udGV4dCBjYWxsZWQgb24gY2FudmFzICciLmNvbmNhdChuLCInIGJlZm9yZSBwYWdlIHdhcyBsb2FkZWQiKSksZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSk6bj9lPW46KChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKS5pZD0ibHVtYWdsLWNhbnZhcyIsZS5zdHlsZS53aWR0aD1OdW1iZXIuaXNGaW5pdGUoaSk/IiIuY29uY2F0KGksInB4Iik6IjEwMCUiLGUuc3R5bGUuaGVpZ2h0PU51bWJlci5pc0Zpbml0ZShvKT8iIi5jb25jYXQobywicHgiKToiMTAwJSIsZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZSxkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpKTtyZXR1cm4gZX1mdW5jdGlvbiBodCh0KXt2YXIgZT1iKHQpPyJXZWJHTDIiOiJXZWJHTDEiLG49ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRQYXJhbWV0ZXIoNzkzNiksbj10LmdldFBhcmFtZXRlcig3OTM3KSxyPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7cmV0dXJue3ZlbmRvcjpyJiZ0LmdldFBhcmFtZXRlcihyLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTHx8NzkzNil8fGUscmVuZGVyZXI6ciYmdC5nZXRQYXJhbWV0ZXIoci5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTHx8NzkzNyl8fG4sdmVuZG9yTWFza2VkOmUscmVuZGVyZXJNYXNrZWQ6bix2ZXJzaW9uOnQuZ2V0UGFyYW1ldGVyKDc5MzgpLHNoYWRpbmdMYW5ndWFnZVZlcnNpb246dC5nZXRQYXJhbWV0ZXIoMzU3MjQpfX0odCkscj1uPyIoIi5jb25jYXQobi52ZW5kb3IsIiwiKS5jb25jYXQobi5yZW5kZXJlciwiKSIpOiIiLGk9dC5kZWJ1Zz8iIGRlYnVnIjoiIjt4LmluZm8oMSwiIi5jb25jYXQoZSkuY29uY2F0KGksIiBjb250ZXh0ICIpLmNvbmNhdChyKSkoKX1mdW5jdGlvbiBmdCh0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQmJnQgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0PzI6MX1mdW5jdGlvbiBkdCh0LGUsbil7dmFyIHI9IndpZHRoImluIG4/bi53aWR0aDp0LmNhbnZhcy5jbGllbnRXaWR0aCxpPSJoZWlnaHQiaW4gbj9uLmhlaWdodDp0LmNhbnZhcy5jbGllbnRIZWlnaHQ7ciYmaXx8KHgubG9nKDEsIkNhbnZhcyBjbGllbnRXaWR0aC9jbGllbnRIZWlnaHQgaXMgMCIpKCksZT0xLHI9dC5jYW52YXMud2lkdGh8fDEsaT10LmNhbnZhcy5oZWlnaHR8fDEpLHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYW52YXNTaXplSW5mbz10Lmx1bWEuY2FudmFzU2l6ZUluZm98fHt9O3ZhciBhPXQubHVtYS5jYW52YXNTaXplSW5mbztpZihhLmNsaWVudFdpZHRoIT09cnx8YS5jbGllbnRIZWlnaHQhPT1pfHxhLmRldmljZVBpeGVsUmF0aW8hPT1lKXt2YXIgbz1lLHM9TWF0aC5mbG9vcihyKm8pLHU9TWF0aC5mbG9vcihpKm8pO3QuY2FudmFzLndpZHRoPXMsdC5jYW52YXMuaGVpZ2h0PXUsdC5kcmF3aW5nQnVmZmVyV2lkdGg9PT1zJiZ0LmRyYXdpbmdCdWZmZXJIZWlnaHQ9PT11fHwoeC53YXJuKCJEZXZpY2UgcGl4ZWwgcmF0aW8gY2xhbXBlZCIpKCksbz1NYXRoLm1pbih0LmRyYXdpbmdCdWZmZXJXaWR0aC9yLHQuZHJhd2luZ0J1ZmZlckhlaWdodC9pKSx0LmNhbnZhcy53aWR0aD1NYXRoLmZsb29yKHIqbyksdC5jYW52YXMuaGVpZ2h0PU1hdGguZmxvb3IoaSpvKSksT2JqZWN0LmFzc2lnbih0Lmx1bWEuY2FudmFzU2l6ZUluZm8se2NsaWVudFdpZHRoOnIsY2xpZW50SGVpZ2h0OmksZGV2aWNlUGl4ZWxSYXRpbzplfSl9fW4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gdHR9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiAkfSkpLG4uZChlLCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gZXR9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBudH0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG90fSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gdXR9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBifSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNjApO2Z1bmN0aW9uIGkoZSxuLGEpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/dC5leHBvcnRzPWk9UmVmbGVjdC5nZXQ6dC5leHBvcnRzPWk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXIodCxlKTtpZihpKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSk7cmV0dXJuIGEuZ2V0P2EuZ2V0LmNhbGwobik6YS52YWx1ZX19LGkoZSxuLGF8fGUpfXQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlLG4scixpLGEsbyl7dHJ5e3ZhciBzPXRbYV0obyksdT1zLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIG4odCl9cy5kb25lP2UodSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ocixpKX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBvPXQuYXBwbHkoZSxuKTtmdW5jdGlvbiBzKHQpe3IobyxpLGEscyx1LCJuZXh0Iix0KX1mdW5jdGlvbiB1KHQpe3IobyxpLGEscyx1LCJ0aHJvdyIsdCl9cyh2b2lkIDApfSkpfX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9MWUtNixpPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxhPU1hdGgucmFuZG9tO01hdGguUEk7TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGg7ZS0tOyl0Kz1hcmd1bWVudHNbZV0qYXJndW1lbnRzW2VdO3JldHVybiBNYXRoLnNxcnQodCl9KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9MWUtNixpPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxhPU1hdGgucmFuZG9tO01hdGguUEk7TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGg7ZS0tOyl0Kz1hcmd1bWVudHNbZV0qYXJndW1lbnRzW2VdO3JldHVybiBNYXRoLnNxcnQodCl9KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigyNSksaT1uKDQ3KTtmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIWV8fCJvYmplY3QiIT09T2JqZWN0KHIuYSkoZSkmJiJmdW5jdGlvbiIhPXR5cGVvZiBlP09iamVjdChpLmEpKHQpOmV9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDEyMCk7ZnVuY3Rpb24gaSh0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZPYmplY3Qoci5hKSh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjU3KSxpPW4oMjU4KSxhPW4oMjU5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0KXx8aSh0LGUpfHxhKCl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDIyKSxpPW4oMTM4KSxhPW4oMTQ5KSxvPW4oMTA5KSxzPW4oMSksdT1uLm4ocyksYz1uKDIpLGw9bi5uKGMpLGg9bigxNDIpLGY9WzI1NSwyNTUsMjU1XSxkPVswLDAsMV0sdj1bMCwwLDFdLHA9MCxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt1KCkodGhpcyx0KTt2YXIgbj1lLmNvbG9yLHI9dm9pZCAwPT09bj9mOm4saT1lLmludGVuc2l0eSxhPXZvaWQgMD09PWk/MTppLG89ZS5wb3NpdGlvbixzPXZvaWQgMD09PW8/djpvO3RoaXMuaWQ9ZS5pZHx8InBvaW50LSIuY29uY2F0KHArKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PWEsdGhpcy50eXBlPSJwb2ludCIsdGhpcy5wb3NpdGlvbj1zLHRoaXMuYXR0ZW51YXRpb249eShlKSx0aGlzLnByb2plY3RlZExpZ2h0PU9iamVjdC5hc3NpZ24oe30sdGhpcyl9cmV0dXJuIGwoKSh0LFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllcixuPXRoaXMucHJvamVjdGVkTGlnaHQsaT1lLmNvbnRleHQudmlld3BvcnQsYT1lLnByb3BzLG89YS5jb29yZGluYXRlU3lzdGVtLHM9YS5jb29yZGluYXRlT3JpZ2luLHU9T2JqZWN0KGguYikodGhpcy5wb3NpdGlvbix7dmlld3BvcnQ6aSxjb29yZGluYXRlU3lzdGVtOm8sY29vcmRpbmF0ZU9yaWdpbjpzLGZyb21Db29yZGluYXRlU3lzdGVtOmkuaXNHZW9zcGF0aWFsP3IuYS5MTkdMQVQ6ci5hLkNBUlRFU0lBTixmcm9tQ29vcmRpbmF0ZU9yaWdpbjpbMCwwLDBdfSk7cmV0dXJuIG4uY29sb3I9dGhpcy5jb2xvcixuLmludGVuc2l0eT10aGlzLmludGVuc2l0eSxuLnBvc2l0aW9uPXUsbn19XSksdH0oKTtmdW5jdGlvbiB5KHQpe3JldHVybiJhdHRlbnVhdGlvbiJpbiB0P3QuYXR0ZW51YXRpb246ImludGVuc2l0eSJpbiB0P1swLDAsdC5pbnRlbnNpdHldOmR9dmFyIG09big5KSxiPW4ubihtKSxfPW4oMyksTz1uLm4oXykseD1uKDEwKSx3PW4ubih4KSxrPW4oMTI0KSxTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksYigpKHRoaXMsTygpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllcixuPXRoaXMucHJvamVjdGVkTGlnaHQscj1lLmNvbnRleHQudmlld3BvcnQsaT1lLnByb3BzLGE9aS5jb29yZGluYXRlU3lzdGVtLG89aS5jb29yZGluYXRlT3JpZ2luLHM9aS5tb2RlbE1hdHJpeCx1PU9iamVjdChrLmIpKHt2aWV3cG9ydDpyLG1vZGVsTWF0cml4OnMsY29vcmRpbmF0ZVN5c3RlbTphLGNvb3JkaW5hdGVPcmlnaW46b30pLnByb2plY3RfdUNhbWVyYVBvc2l0aW9uO3JldHVybiBuLmNvbG9yPXRoaXMuY29sb3Isbi5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHksbi5wb3NpdGlvbj11LG59fV0pLGV9KGcpLFA9bigyMjQpLGo9bi5uKFApLFQ9TWF0aC5QSS8xODAsRT0yMy40Mzk3KlQ7ZnVuY3Rpb24gQSh0LGUsbil7dmFyIHIsaSxhLG8scyx1LGM9VCotbixsPVQqZSxoPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC84NjRlNS0uNSsyNDQwNTg4fSh0KS0yNDUxNTQ1fSh0KSxmPShyPVQqKDM1Ny41MjkxKy45ODU2MDAyOCpoKSxpPVQqKDEuOTE0OCpNYXRoLnNpbihyKSsuMDIqTWF0aC5zaW4oMipyKSszZS00Kk1hdGguc2luKDMqcikpLGE9citpKzEwMi45MzcyKlQrTWF0aC5QSSx7ZGVjbGluYXRpb246KG89YSxzPTAsdT1vLE1hdGguYXNpbihNYXRoLnNpbihzKSpNYXRoLmNvcyhFKStNYXRoLmNvcyhzKSpNYXRoLnNpbihFKSpNYXRoLnNpbih1KSkpLHJpZ2h0QXNjZW5zaW9uOk0oYSwwKX0pLGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVCooMjgwLjE0NyszNjAuOTg1NjIzNSp0KS1lfShoLGMpLWYucmlnaHRBc2NlbnNpb247cmV0dXJue2F6aW11dGg6QyhkLGwsZi5kZWNsaW5hdGlvbiksYWx0aXR1ZGU6TChkLGwsZi5kZWNsaW5hdGlvbil9fWZ1bmN0aW9uIE0odCxlKXt2YXIgbj10O3JldHVybiBNYXRoLmF0YW4yKE1hdGguc2luKG4pKk1hdGguY29zKEUpLU1hdGgudGFuKGUpKk1hdGguc2luKEUpLE1hdGguY29zKG4pKX1mdW5jdGlvbiBDKHQsZSxuKXt2YXIgcj10LGk9ZSxhPW47cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zaW4ociksTWF0aC5jb3MocikqTWF0aC5zaW4oaSktTWF0aC50YW4oYSkqTWF0aC5jb3MoaSkpfWZ1bmN0aW9uIEwodCxlLG4pe3ZhciByPXQsaT1lLGE9bjtyZXR1cm4gTWF0aC5hc2luKE1hdGguc2luKGkpKk1hdGguc2luKGEpK01hdGguY29zKGkpKk1hdGguY29zKGEpKk1hdGguY29zKHIpKX12YXIgST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9dC50aW1lc3RhbXAsaT1qKCkodCxbInRpbWVzdGFtcCJdKTtyZXR1cm4gdSgpKHRoaXMsZSksKG49YigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyxpKSkpLnRpbWVzdGFtcD1yLG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllci5jb250ZXh0LnZpZXdwb3J0LG49ZS5sYXRpdHVkZSxyPWUubG9uZ2l0dWRlO3JldHVybiB0aGlzLmRpcmVjdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9QSh0LGUsbiksaT1yLmF6aW11dGgsYT1yLmFsdGl0dWRlLG89aStNYXRoLlBJO3JldHVyblstTWF0aC5zaW4obyksLU1hdGguY29zKG8pLC1NYXRoLnNpbihhKV19KHRoaXMudGltZXN0YW1wLG4sciksdGhpc319XSksZX0oby5hKSxSPW4oMTAyKSxOPW4oNiksRD1uKDE3KSxGPW4oMTUpLHo9bigxOCksQj1uKDE3NSksVT1uKDcxKSxWPVstMSwtMSwxLC0xLC0xLDEsMSwxXSxHPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXt2YXIgcjtPYmplY3QoTi5hKSh0aGlzLGUpO3ZhciBpPVYubWFwKChmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQ/MDp0fSkpO3JldHVybihyPU9iamVjdChELmEpKHRoaXMsT2JqZWN0KEYuYSkoZSkuY2FsbCh0aGlzLHQsT2JqZWN0LmFzc2lnbih7fSxuLHt2czoiYXR0cmlidXRlIHZlYzIgYUNsaXBTcGFjZVBvc2l0aW9uO1xuYXR0cmlidXRlIHZlYzIgYVRleENvb3JkO1xuYXR0cmlidXRlIHZlYzIgYUNvb3JkaW5hdGU7XG5cbnZhcnlpbmcgdmVjMiBwb3NpdGlvbjtcbnZhcnlpbmcgdmVjMiBjb29yZGluYXRlO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9Qb3NpdGlvbiA9IHZlYzQoYUNsaXBTcGFjZVBvc2l0aW9uLCAwLiwgMS4pO1xuICBwb3NpdGlvbiA9IGFDbGlwU3BhY2VQb3NpdGlvbjtcbiAgY29vcmRpbmF0ZSA9IGFDb29yZGluYXRlO1xuICB1diA9IGFUZXhDb29yZDtcbn1cbiIsZ2VvbWV0cnk6bmV3IFUuYSh7ZHJhd01vZGU6NSx2ZXJ0ZXhDb3VudDo0LGF0dHJpYnV0ZXM6e2FDbGlwU3BhY2VQb3NpdGlvbjp7c2l6ZToyLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoVil9LGFUZXhDb29yZDp7c2l6ZToyLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoaSl9LGFDb29yZGluYXRlOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShpKX19fSl9KSkpKS5zZXRWZXJ0ZXhDb3VudCg0KSxyfXJldHVybiBPYmplY3Qoei5hKShlLHQpLGV9KEIuYSksVz1uKDExKSxIPW4oMTc3KSxxPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dSgpKHRoaXMsZSksbj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHQscikpO3ZhciBpPXIubW9kdWxlLGE9ci5mcyxvPXIuaWQ7cmV0dXJuIG4ubW9kZWw9bmV3IEcodCx7aWQ6byxmczphLG1vZHVsZXM6W2ldfSksbn1yZXR1cm4gdygpKGUsdCksbCgpKGUsW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuZ2w7T2JqZWN0KFcubCkobix7ZnJhbWVidWZmZXI6dC5vdXRwdXRCdWZmZXIsY2xlYXJDb2xvcjpbMCwwLDAsMF19LChmdW5jdGlvbigpe3JldHVybiBlLl9yZW5kZXJQYXNzKG4sdCl9KSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbC5kZWxldGUoKSx0aGlzLm1vZGVsPW51bGx9fSx7a2V5OiJfcmVuZGVyUGFzcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmlucHV0QnVmZmVyO2Uub3V0cHV0QnVmZmVyO09iamVjdChILmEpKHQse2NvbG9yOiEwfSksdGhpcy5tb2RlbC5kcmF3KHttb2R1bGVTZXR0aW5nczp0aGlzLnByb3BzLm1vZHVsZVNldHRpbmdzLHVuaWZvcm1zOnt0ZXh0dXJlOm4sdGV4U2l6ZTpbbi53aWR0aCxuLmhlaWdodF19LHBhcmFtZXRlcnM6e2RlcHRoV3JpdGU6ITEsZGVwdGhUZXN0OiExfX0pfX1dKSxlfShuKDE2OSkuYSksWD1uKDE5MCksWj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB1KCkodGhpcyxlKSwobj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHIpKSkuaWQ9IiIuY29uY2F0KHQubmFtZSwiLXBhc3MiKSxPYmplY3QoWC5iKSh0KSxuLm1vZHVsZT10LG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJwb3N0UmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMucGFzc2VzfHwodGhpcy5wYXNzZXM9ZnVuY3Rpb24odCxlLG4scil7aWYoZS5maWx0ZXJ8fGUuc2FtcGxlcil7dmFyIGk9UShlKTtyZXR1cm5bbmV3IHEodCx7aWQ6bixtb2R1bGU6ZSxmczppLG1vZHVsZVNldHRpbmdzOnJ9KV19cmV0dXJuKGUucGFzc2VzfHxbXSkubWFwKChmdW5jdGlvbihpLGEpe3ZhciBvPVEoZSxpKSxzPSIiLmNvbmNhdChuLCItIikuY29uY2F0KGEpO3JldHVybiBuZXcgcSh0LHtpZDpzLG1vZHVsZTplLGZzOm8sbW9kdWxlU2V0dGluZ3M6cn0pfSkpfSh0LHRoaXMubW9kdWxlLHRoaXMuaWQsdGhpcy5wcm9wcykpO2Zvcih2YXIgbj1lLnRhcmdldCxyPWUuaW5wdXRCdWZmZXIsaT1lLnN3YXBCdWZmZXIsYT0wO2E8dGhpcy5wYXNzZXMubGVuZ3RoO2ErKyl7biYmYT09PXRoaXMucGFzc2VzLmxlbmd0aC0xJiYoaT1uKSx0aGlzLnBhc3Nlc1thXS5yZW5kZXIoe2lucHV0QnVmZmVyOnIsb3V0cHV0QnVmZmVyOml9KTt2YXIgbz1pO2k9cixyPW99cmV0dXJuIHJ9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucGFzc2VzKXt2YXIgdD0hMCxlPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnBhc3Nlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXtyLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dGhpcy5wYXNzZXM9bnVsbH19fV0pLGV9KFIuYSk7dmFyIFk9ZnVuY3Rpb24odCl7cmV0dXJuInVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG51bmlmb3JtIHZlYzIgdGV4U2l6ZTtcblxudmFyeWluZyB2ZWMyIHBvc2l0aW9uO1xudmFyeWluZyB2ZWMyIGNvb3JkaW5hdGU7XG52YXJ5aW5nIHZlYzIgdXY7XG5cbnZvaWQgbWFpbigpIHtcbiAgdmVjMiB0ZXhDb29yZCA9IGNvb3JkaW5hdGU7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIHRleENvb3JkKTtcbiAgZ2xfRnJhZ0NvbG9yID0gIi5jb25jYXQodCwiKGdsX0ZyYWdDb2xvciwgdGV4U2l6ZSwgdGV4Q29vcmQpO1xufVxuIil9LEs9ZnVuY3Rpb24odCl7cmV0dXJuInVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG51bmlmb3JtIHZlYzIgdGV4U2l6ZTtcblxudmFyeWluZyB2ZWMyIHBvc2l0aW9uO1xudmFyeWluZyB2ZWMyIGNvb3JkaW5hdGU7XG52YXJ5aW5nIHZlYzIgdXY7XG5cbnZvaWQgbWFpbigpIHtcbiAgdmVjMiB0ZXhDb29yZCA9IGNvb3JkaW5hdGU7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gIi5jb25jYXQodCwiKHRleHR1cmUsIHRleFNpemUsIHRleENvb3JkKTtcbn1cbiIpfTtmdW5jdGlvbiBRKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0O2lmKGUuZmlsdGVyKXt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGUuZmlsdGVyP2UuZmlsdGVyOiIiLmNvbmNhdCh0Lm5hbWUsIl9maWx0ZXJDb2xvciIpO3JldHVybiBZKG4pfWlmKGUuc2FtcGxlcil7dmFyIHI9InN0cmluZyI9PXR5cGVvZiBlLnNhbXBsZXI/ZS5zYW1wbGVyOiIiLmNvbmNhdCh0Lm5hbWUsIl9zYW1wbGVDb2xvciIpO3JldHVybiBLKHIpfXJldHVybiBudWxsfXZhciBKPW4oMTAxKSwkPW4oMjEyKSx0dD1uKDE1MyksZXQ9bigxNTgpLG50PW4oMTE4KSxydD1uKDE4NSksaXQ9bigxNjQpLGF0PW4oNTYpLG90PW4oMTUxKSxzdD1uKDIyMCksdXQ9bigxMTEpLGN0PW4oMjAyKSxsdD1uKDI5MyksaHQ9bigxMjIpLGZ0PW4oODEpLGR0PW4oMTUwKSx2dD1uKDM0KSxwdD1uKDgpLGd0PW4oNzkpLHl0PW4oMTI1KSxtdD1uKDUwKSxidD17cG9zaXRpb246WzAsMCwwXSxwaXRjaDowLGJlYXJpbmc6MCxtYXhQaXRjaDo5MCxtaW5QaXRjaDotOTB9LF90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj10LndpZHRoLGk9dC5oZWlnaHQsYT10LnBvc2l0aW9uLG89dm9pZCAwPT09YT9idC5wb3NpdGlvbjphLHM9dC5iZWFyaW5nLGM9dm9pZCAwPT09cz9idC5iZWFyaW5nOnMsbD10LnBpdGNoLGg9dm9pZCAwPT09bD9idC5waXRjaDpsLGY9dC5sb25naXR1ZGUsZD10LmxhdGl0dWRlLHY9dC5tYXhQaXRjaCxwPXZvaWQgMD09PXY/YnQubWF4UGl0Y2g6dixnPXQubWluUGl0Y2gseT12b2lkIDA9PT1nP2J0Lm1pblBpdGNoOmcsbT10LnN0YXJ0QmVhcmluZyxfPXQuc3RhcnRQaXRjaCx4PXQuc3RhcnRab29tUG9zaXRpb24sdz10LnN0YXJ0Wm9vbTtyZXR1cm4gdSgpKHRoaXMsZSksKG49YigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyx7d2lkdGg6cixoZWlnaHQ6aSxwb3NpdGlvbjpvLGJlYXJpbmc6YyxwaXRjaDpoLGxvbmdpdHVkZTpmLGxhdGl0dWRlOmQsbWF4UGl0Y2g6cCxtaW5QaXRjaDp5fSkpKS5faW50ZXJhY3RpdmVTdGF0ZT17c3RhcnRCZWFyaW5nOm0sc3RhcnRQaXRjaDpfLHN0YXJ0Wm9vbVBvc2l0aW9uOngsc3RhcnRab29tOnd9LG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJnZXRJbnRlcmFjdGl2ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlfX0se2tleToiZ2V0RGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sZT1uZXcgcHQuZih7YmVhcmluZzp0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmcscGl0Y2g6dD85MDo5MCt0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNofSksbj1lLnRvVmVjdG9yMygpLm5vcm1hbGl6ZSgpO3JldHVybiBufX0se2tleToicGFuU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OiJwYW4iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OiJwYW5FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OiJyb3RhdGVTdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wb3M7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZyxzdGFydFBpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2h9KX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWx0YVNjYWxlWCxuPXQuZGVsdGFTY2FsZVkscj10aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLGk9ci5zdGFydEJlYXJpbmcsYT1yLnN0YXJ0UGl0Y2g7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShpKSYmTnVtYmVyLmlzRmluaXRlKGEpP3RoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7YmVhcmluZzppLTE4MCplLHBpdGNoOmEtOTAqbn0pOnRoaXN9fSx7a2V5OiJyb3RhdGVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOm51bGwsc3RhcnRQaXRjaDpudWxsfSl9fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRab29tUG9zaXRpb246dGhpcy5fdmlld3BvcnRQcm9wcy5wb3NpdGlvbixzdGFydFpvb206dGhpcy5fdmlld3BvcnRQcm9wcy56b29tfSl9fSx7a2V5OiJ6b29tIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjYWxlLG49dGhpcy5faW50ZXJhY3RpdmVTdGF0ZS5zdGFydFpvb21Qb3NpdGlvbjtufHwobj10aGlzLl92aWV3cG9ydFByb3BzLnBvc2l0aW9uKTt2YXIgcj10aGlzLmdldERpcmVjdGlvbigpO3JldHVybiB0aGlzLl9tb3ZlKHIsTWF0aC5sb2cyKGUpLG4pfX0se2tleToiem9vbUVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFpvb21Qb3NpdGlvbjpudWxsLHN0YXJ0Wm9vbTpudWxsfSl9fSx7a2V5OiJtb3ZlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERpcmVjdGlvbighMCk7cmV0dXJuIHRoaXMuX21vdmUodC5yb3RhdGVaKHtyYWRpYW5zOk1hdGguUEkvMn0pKX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERpcmVjdGlvbighMCk7cmV0dXJuIHRoaXMuX21vdmUodC5yb3RhdGVaKHtyYWRpYW5zOi1NYXRoLlBJLzJ9KSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREaXJlY3Rpb24oITApO3JldHVybiB0aGlzLl9tb3ZlKHQpfX0se2tleToibW92ZURvd24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREaXJlY3Rpb24oITApO3JldHVybiB0aGlzLl9tb3ZlKHQubmVnYXRlKCkpfX0se2tleToicm90YXRlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtiZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZy0xNX0pfX0se2tleToicm90YXRlUmlnaHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7YmVhcmluZzp0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmcrMTV9KX19LHtrZXk6InJvdGF0ZVVwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3BpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2grMTB9KX19LHtrZXk6InJvdGF0ZURvd24iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cGl0Y2g6dGhpcy5fdmlld3BvcnRQcm9wcy5waXRjaC0xMH0pfX0se2tleToiem9vbUluIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvb20oe3NjYWxlOjJ9KX19LHtrZXk6Inpvb21PdXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9vbSh7c2NhbGU6LjV9KX19LHtrZXk6InNob3J0ZXN0UGF0aEZyb20iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Vmlld3BvcnRQcm9wcygpLG49T2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzKSxyPW4uYmVhcmluZyxpPW4ubG9uZ2l0dWRlO3JldHVybiBNYXRoLmFicyhyLWUuYmVhcmluZyk+MTgwJiYobi5iZWFyaW5nPXI8MD9yKzM2MDpyLTM2MCksTWF0aC5hYnMoaS1lLmxvbmdpdHVkZSk+MTgwJiYobi5sb25naXR1ZGU9aTwwP2krMzYwOmktMzYwKSxufX0se2tleToiX21vdmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuX3ZpZXdwb3J0UHJvcHMucG9zaXRpb24scj10LnNjYWxlKDIwKmUpO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3Bvc2l0aW9uOm5ldyBwdC5kKG4pLmFkZChyKX0pfX0se2tleToiX2dldFVwZGF0ZWRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcyx0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLHQpKX19LHtrZXk6Il9hcHBseUNvbnN0cmFpbnRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBpdGNoLG49dC5tYXhQaXRjaCxyPXQubWluUGl0Y2gsaT10LmxvbmdpdHVkZSxhPXQuYmVhcmluZztyZXR1cm4gdC5waXRjaD1PYmplY3QocHQuaCkoZSxyLG4pLChpPC0xODB8fGk+MTgwKSYmKHQubG9uZ2l0dWRlPU9iamVjdChtdC5lKShpKzE4MCwzNjApLTE4MCksKGE8LTE4MHx8YT4xODApJiYodC5iZWFyaW5nPU9iamVjdChtdC5lKShhKzE4MCwzNjApLTE4MCksdH19XSksZX0oeXQuYSksT3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdSgpKHRoaXMsZSksYigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyxfdCx0KSl9cmV0dXJuIHcoKShlLHQpLGV9KGd0LmEpO3ZhciB4dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGIoKSh0aGlzLE8oKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB3KCkoZSx0KSxsKCkoZSxbe2tleToiX2dldFZpZXdwb3J0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnZpZXdTdGF0ZSxuPWUubW9kZWxNYXRyaXgscj12b2lkIDA9PT1uP251bGw6bixpPWUuYmVhcmluZyxhPXZvaWQgMD09PWk/MDppLG89ZS5waXRjaCxzPXZvaWQgMD09PW8/MDpvLHU9ZS51cCxjPXZvaWQgMD09PXU/WzAsMCwxXTp1LGw9ZnVuY3Rpb24odCl7dmFyIGU9dC5iZWFyaW5nLG49dC5waXRjaDtyZXR1cm4gbmV3IHB0LmYoe2JlYXJpbmc6ZSxwaXRjaDpufSkudG9WZWN0b3IzKCkubm9ybWFsaXplKCl9KHtiZWFyaW5nOmEscGl0Y2g6OTArc30pLGg9cj9yLnRyYW5zZm9ybURpcmVjdGlvbihsKTpsLGY9T2JqZWN0KHZ0LmcpKHQpLGQ9TWF0aC5wb3coMixmKSx2PShuZXcgcHQuYSkubG9va0F0KHtleWU6WzAsMCwwXSxjZW50ZXI6aCx1cDpjfSkuc2NhbGUoZCk7cmV0dXJuIG5ldyBhdC5hKE9iamVjdC5hc3NpZ24oe30sdCx7em9vbTpmLHZpZXdNYXRyaXg6dn0pKX19LHtrZXk6ImNvbnRyb2xsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRDb250cm9sbGVyUHJvcHMoe3R5cGU6T3R9KX19XSksZX0oZnQuYSk7eHQuZGlzcGxheU5hbWU9IkZpcnN0UGVyc29uVmlldyI7dmFyIHd0PW4oNzcpLGt0PW4oNzgpLFN0PXtvcmJpdEF4aXM6IloiLHJvdGF0aW9uWDowLHJvdGF0aW9uT3JiaXQ6MCx6b29tOjAsdGFyZ2V0OlswLDAsMF0sbWluUm90YXRpb25YOi05MCxtYXhSb3RhdGlvblg6OTAsbWluWm9vbTotMS8wLG1heFpvb206MS8wfSxQdD17dHJhbnNpdGlvbkR1cmF0aW9uOjMwMCx0cmFuc2l0aW9uRWFzaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0fSx0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOm5ldyB3dC5hKFsidGFyZ2V0Iiwiem9vbSIsInJvdGF0aW9uWCIsInJvdGF0aW9uT3JiaXQiXSksdHJhbnNpdGlvbkludGVycnVwdGlvbjprdC5hLkJSRUFLfSxqdD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX0sVHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPXQuVmlld3BvcnRUeXBlLGk9dC53aWR0aCxhPXQuaGVpZ2h0LG89dC5vcmJpdEF4aXMscz12b2lkIDA9PT1vP1N0Lm9yYml0QXhpczpvLGM9dC5yb3RhdGlvblgsbD12b2lkIDA9PT1jP1N0LnJvdGF0aW9uWDpjLGg9dC5yb3RhdGlvbk9yYml0LGY9dm9pZCAwPT09aD9TdC5yb3RhdGlvbk9yYml0OmgsZD10LnRhcmdldCx2PXZvaWQgMD09PWQ/U3QudGFyZ2V0OmQscD10Lnpvb20sZz12b2lkIDA9PT1wP1N0Lnpvb206cCx5PXQubWluUm90YXRpb25YLG09dm9pZCAwPT09eT9TdC5taW5Sb3RhdGlvblg6eSxfPXQubWF4Um90YXRpb25YLHg9dm9pZCAwPT09Xz9TdC5tYXhSb3RhdGlvblg6Xyx3PXQubWluWm9vbSxrPXZvaWQgMD09PXc/U3QubWluWm9vbTp3LFM9dC5tYXhab29tLFA9dm9pZCAwPT09Uz9TdC5tYXhab29tOlMsaj10LnN0YXJ0UGFuUG9zaXRpb24sVD10LnN0YXJ0VGFyZ2V0LEU9dC5zdGFydFJvdGF0aW9uWCxBPXQuc3RhcnRSb3RhdGlvbk9yYml0LE09dC5zdGFydFpvb21Qb3NpdGlvbixDPXQuc3RhcnRab29tO3JldHVybiB1KCkodGhpcyxlKSwobj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHt3aWR0aDppLGhlaWdodDphLG9yYml0QXhpczpzLHJvdGF0aW9uWDpsLHJvdGF0aW9uT3JiaXQ6Zix0YXJnZXQ6dix6b29tOmcsbWluUm90YXRpb25YOm0sbWF4Um90YXRpb25YOngsbWluWm9vbTprLG1heFpvb206UH0pKSkuX2ludGVyYWN0aXZlU3RhdGU9e3N0YXJ0UGFuUG9zaXRpb246aixzdGFydFRhcmdldDpULHN0YXJ0Um90YXRpb25YOkUsc3RhcnRSb3RhdGlvbk9yYml0OkEsc3RhcnRab29tUG9zaXRpb246TSxzdGFydFpvb206Q30sbi5WaWV3cG9ydFR5cGU9cixufXJldHVybiB3KCkoZSx0KSxsKCkoZSxbe2tleToiZ2V0Vmlld3BvcnRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld3BvcnRQcm9wc319LHtrZXk6ImdldEludGVyYWN0aXZlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyYWN0aXZlU3RhdGV9fSx7a2V5OiJwYW5TdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3Msbj10aGlzLl92aWV3cG9ydFByb3BzLnRhcmdldDtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFBhblBvc2l0aW9uOmUsc3RhcnRUYXJnZXQ6bn0pfX0se2tleToicGFuIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBvcyxuPSh0LnN0YXJ0UG9zLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUpLHI9bi5zdGFydFBhblBvc2l0aW9uLGk9bi5zdGFydFRhcmdldCxhPW5ldyBwdC5jKGUpLnN1YnRyYWN0KHIpO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3RhcmdldDp0aGlzLl9jYWxjdWxhdGVOZXdUYXJnZXQoe3N0YXJ0VGFyZ2V0OmkscGl4ZWxPZmZzZXQ6YX0pfSl9fSx7a2V5OiJwYW5FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRQYW5Qb3NpdGlvbjpudWxsLHN0YXJ0VGFyZ2V0Om51bGx9KX19LHtrZXk6InJvdGF0ZVN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt0LnBvcztyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFJvdGF0aW9uWDp0aGlzLl92aWV3cG9ydFByb3BzLnJvdGF0aW9uWCxzdGFydFJvdGF0aW9uT3JiaXQ6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvbk9yYml0fSl9fSx7a2V5OiJyb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVsdGFTY2FsZVgsbj10LmRlbHRhU2NhbGVZLHI9dGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxpPXIuc3RhcnRSb3RhdGlvblgsYT1yLnN0YXJ0Um90YXRpb25PcmJpdDtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGkpJiZOdW1iZXIuaXNGaW5pdGUoYSk/KChpPC05MHx8aT45MCkmJihlKj0tMSksdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtyb3RhdGlvblg6aSsxODAqbixyb3RhdGlvbk9yYml0OmErMTgwKmUsaXNSb3RhdGluZzohMH0pKTp0aGlzfX0se2tleToicm90YXRlRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Um90YXRpb25YOm51bGwsc3RhcnRSb3RhdGlvbk9yYml0Om51bGx9KX19LHtrZXk6InNob3J0ZXN0UGF0aEZyb20iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Vmlld3BvcnRQcm9wcygpLG49T2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzKSxyPW4ucm90YXRpb25PcmJpdDtyZXR1cm4gTWF0aC5hYnMoci1lLnJvdGF0aW9uT3JiaXQpPjE4MCYmKG4ucm90YXRpb25PcmJpdD1yPDA/ciszNjA6ci0zNjApLG59fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbVBvc2l0aW9uOmUsc3RhcnRUYXJnZXQ6dGhpcy5fdmlld3BvcnRQcm9wcy50YXJnZXQsc3RhcnRab29tOnRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbX0pfX0se2tleToiem9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3Msbj10LnN0YXJ0UG9zLHI9dC5zY2FsZSxpPXRoaXMuX3ZpZXdwb3J0UHJvcHMsYT1pLnpvb20sbz1pLndpZHRoLHM9aS5oZWlnaHQsdT1pLnRhcmdldCxjPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUsbD1jLnN0YXJ0Wm9vbSxoPWMuc3RhcnRab29tUG9zaXRpb24sZj1jLnN0YXJ0VGFyZ2V0O051bWJlci5pc0Zpbml0ZShsKXx8KGw9YSxmPXUsaD1ufHxlKTt2YXIgZD10aGlzLl9jYWxjdWxhdGVOZXdab29tKHtzY2FsZTpyLHN0YXJ0Wm9vbTpsfSksdj1qdChsKSxwPWp0KGQpLGc9KG8vMi1oWzBdKSoocC92LTEpLHk9KHMvMi1oWzFdKSoocC92LTEpO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3pvb206ZCx0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtzdGFydFRhcmdldDpmLHpvb206ZCxwaXhlbE9mZnNldDpbZyx5XX0pfSl9fSx7a2V5OiJ6b29tRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbVBvc2l0aW9uOm51bGwsc3RhcnRUYXJnZXQ6bnVsbCxzdGFydFpvb206bnVsbH0pfX0se2tleToiem9vbUluIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3pvb206dGhpcy5fY2FsY3VsYXRlTmV3Wm9vbSh7c2NhbGU6Mn0pfSl9fSx7a2V5OiJ6b29tT3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3pvb206dGhpcy5fY2FsY3VsYXRlTmV3Wm9vbSh7c2NhbGU6LjV9KX0pfX0se2tleToibW92ZUxlZnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9Wy01MCwwXTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtwaXhlbE9mZnNldDp0fSl9KX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bNTAsMF07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7dGFyZ2V0OnRoaXMuX2NhbGN1bGF0ZU5ld1RhcmdldCh7cGl4ZWxPZmZzZXQ6dH0pfSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9WzAsLTUwXTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtwaXhlbE9mZnNldDp0fSl9KX19LHtrZXk6Im1vdmVEb3duIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVswLDUwXTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtwaXhlbE9mZnNldDp0fSl9KX19LHtrZXk6InJvdGF0ZUxlZnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cm90YXRpb25PcmJpdDp0aGlzLl92aWV3cG9ydFByb3BzLnJvdGF0aW9uT3JiaXQtMTV9KX19LHtrZXk6InJvdGF0ZVJpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3JvdGF0aW9uT3JiaXQ6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvbk9yYml0KzE1fSl9fSx7a2V5OiJyb3RhdGVVcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtyb3RhdGlvblg6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvblgtMTB9KX19LHtrZXk6InJvdGF0ZURvd24iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cm90YXRpb25YOnRoaXMuX3ZpZXdwb3J0UHJvcHMucm90YXRpb25YKzEwfSl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3Wm9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2FsZSxuPXQuc3RhcnRab29tLHI9dGhpcy5fdmlld3BvcnRQcm9wcyxpPXIubWF4Wm9vbSxhPXIubWluWm9vbTtOdW1iZXIuaXNGaW5pdGUobil8fChuPXRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbSk7dmFyIG89bitNYXRoLmxvZzIoZSk7cmV0dXJuIE9iamVjdChwdC5oKShvLGEsaSl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3VGFyZ2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXJ0VGFyZ2V0LG49dC56b29tLHI9dC5waXhlbE9mZnNldCxpPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcyk7TnVtYmVyLmlzRmluaXRlKG4pJiYoaS56b29tPW4pLGUmJihpLnRhcmdldD1lKTt2YXIgYT1uZXcgdGhpcy5WaWV3cG9ydFR5cGUoaSksbz1hLnByb2plY3QoaS50YXJnZXQpO3JldHVybiBhLnVucHJvamVjdChbb1swXS1yWzBdLG9bMV0tclsxXSxvWzJdXSl9fSx7a2V5OiJfZ2V0VXBkYXRlZFN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUsdCkpfX0se2tleToiX2FwcGx5Q29uc3RyYWludHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4Wm9vbSxuPXQubWluWm9vbSxyPXQuem9vbSxpPXQubWF4Um90YXRpb25YLGE9dC5taW5Sb3RhdGlvblgsbz10LnJvdGF0aW9uT3JiaXQ7cmV0dXJuIHQuem9vbT1PYmplY3QocHQuaCkocixuLGUpLHQucm90YXRpb25YPU9iamVjdChwdC5oKSh0LnJvdGF0aW9uWCxhLGkpLChvPC0xODB8fG8+MTgwKSYmKHQucm90YXRpb25PcmJpdD1PYmplY3QobXQuZSkobysxODAsMzYwKS0xODApLHR9fV0pLGV9KHl0LmEpLEV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHUoKSh0aGlzLGUpLGIoKSh0aGlzLE8oKShlKS5jYWxsKHRoaXMsVHQsdCkpfXJldHVybiB3KCkoZSx0KSxsKCkoZSxbe2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUHR9fV0pLGV9KGd0LmEpLEF0PU1hdGguUEkvMTgwO2Z1bmN0aW9uIE10KHQpe3ZhciBlPXQuaGVpZ2h0LG49dC5mb3Z5LHI9dC5vcmJpdEF4aXMsaT10LnJvdGF0aW9uWCxhPXQucm90YXRpb25PcmJpdCxvPXQuem9vbSxzPS41L01hdGgudGFuKG4qQXQvMiksdT0iWiI9PT1yP1swLDAsMV06WzAsMSwwXSxjPSJaIj09PXI/WzAsLXMsMF06WzAsMCxzXSxsPShuZXcgcHQuYSkubG9va0F0KHtleWU6Yyx1cDp1fSk7bC5yb3RhdGVYKGkqQXQpLCJaIj09PXI/bC5yb3RhdGVaKGEqQXQpOmwucm90YXRlWShhKkF0KTt2YXIgaD1NYXRoLnBvdygyLG8pLyhlfHwxKTtyZXR1cm4gbC5zY2FsZShoKSxsfXZhciBDdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3UoKSh0aGlzLGUpO3ZhciBuPXQuaWQscj10LngsaT10LnksYT10LndpZHRoLG89dC5oZWlnaHQscz10LmZvdnksYz12b2lkIDA9PT1zPzUwOnMsbD10Lm5lYXIsaD10LmZhcixmPXQub3JiaXRBeGlzLGQ9dm9pZCAwPT09Zj8iWiI6Zix2PXQudGFyZ2V0LHA9dm9pZCAwPT09dj9bMCwwLDBdOnYsZz10LnJvdGF0aW9uWCx5PXZvaWQgMD09PWc/MDpnLG09dC5yb3RhdGlvbk9yYml0LF89dm9pZCAwPT09bT8wOm0seD10Lnpvb20sdz12b2lkIDA9PT14PzA6eDtyZXR1cm4gYigpKHRoaXMsTygpKGUpLmNhbGwodGhpcyx7aWQ6bix2aWV3TWF0cml4Ok10KHtoZWlnaHQ6byxmb3Z5OmMsb3JiaXRBeGlzOmQscm90YXRpb25YOnkscm90YXRpb25PcmJpdDpfLHpvb206d30pLGZvdnk6YyxuZWFyOmwsZmFyOmgseDpyLHk6aSxwb3NpdGlvbjpwLHdpZHRoOmEsaGVpZ2h0Om8sem9vbTp3fSkpfXJldHVybiB3KCkoZSx0KSxlfShhdC5hKSxMdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB1KCkodGhpcyxlKSxiKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpDdH0pKSl9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJjb250cm9sbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Q29udHJvbGxlclByb3BzKHt0eXBlOkV0LFZpZXdwb3J0VHlwZTpDdH0pfX1dKSxlfShmdC5hKTtMdC5kaXNwbGF5TmFtZT0iT3JiaXRWaWV3Ijt2YXIgSXQ9e3RyYW5zaXRpb25EdXJhdGlvbjozMDAsdHJhbnNpdGlvbkVhc2luZzpmdW5jdGlvbih0KXtyZXR1cm4gdH0sdHJhbnNpdGlvbkludGVycG9sYXRvcjpuZXcgd3QuYShbInRhcmdldCIsInpvb20iXSksdHJhbnNpdGlvbkludGVycnVwdGlvbjprdC5hLkJSRUFLfSxSdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiB1KCkodGhpcyxlKSwobj1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLFR0LHQpKSkuaW52ZXJ0UGFuPSEwLG59cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJfb25QYW5Sb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiExfX0se2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSXR9fV0pLGV9KGd0LmEpLE50PShuZXcgcHQuYSkubG9va0F0KHtleWU6WzAsMCwxXX0pO2Z1bmN0aW9uIER0KHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQubmVhcixpPXQuZmFyO3JldHVybiBlPWV8fDEsbj1ufHwxLChuZXcgcHQuYSkub3J0aG8oe2xlZnQ6LWUvMixyaWdodDplLzIsYm90dG9tOm4vMix0b3A6LW4vMixuZWFyOnIsZmFyOml9KX12YXIgRnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10LmlkLHI9dC54LGk9dC55LGE9dC53aWR0aCxvPXQuaGVpZ2h0LHM9dC5uZWFyLGM9dm9pZCAwPT09cz8uMTpzLGw9dC5mYXIsaD12b2lkIDA9PT1sPzFlMzpsLGY9dC56b29tLGQ9dm9pZCAwPT09Zj8wOmYsdj10LnRhcmdldCxwPXZvaWQgMD09PXY/WzAsMCwwXTp2O3UoKSh0aGlzLGUpO3ZhciBnPU1hdGgucG93KDIsZCk7cmV0dXJuIGIoKSh2b2lkIDAsbmV3IGF0LmEoe2lkOm4seDpyLHk6aSx3aWR0aDphLGhlaWdodDpvLHBvc2l0aW9uOnAsdmlld01hdHJpeDpOdC5jbG9uZSgpLnNjYWxlKGcpLHByb2plY3Rpb25NYXRyaXg6RHQoe3dpZHRoOmEsaGVpZ2h0Om8sbmVhcjpjLGZhcjpofSksem9vbTpkfSkpfXJldHVybiB3KCkoZSx0KSxlfShhdC5hKSx6dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB1KCkodGhpcyxlKSxiKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpGdH0pKSl9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJjb250cm9sbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Q29udHJvbGxlclByb3BzKHt0eXBlOlJ0LFZpZXdwb3J0VHlwZTpGdH0pfX1dKSxlfShmdC5hKTt6dC5kaXNwbGF5TmFtZT0iT3J0aG9ncmFwaGljVmlldyI7dmFyIEJ0PW4oMTUyKSxVdD1uKDIwMyksVnQ9bigxNzApLEd0PVsiYmVhcmluZyIsInBpdGNoIl0sV3Q9e3NwZWVkOjEuMixjdXJ2ZToxLjQxNH0sSHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB1KCkodGhpcyxlKSwodD1iKCkodGhpcyxPKCkoZSkuY2FsbCh0aGlzLHtjb21wYXJlOlsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIl0sZXh0cmFjdDpbIndpZHRoIiwiaGVpZ2h0IiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIl0scmVxdWlyZWQ6WyJ3aWR0aCIsImhlaWdodCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiem9vbSJdfSkpKS5wcm9wcz1PYmplY3QuYXNzaWduKHt9LFd0LG4pLHR9cmV0dXJuIHcoKShlLHQpLGwoKShlLFt7a2V5OiJpbnRlcnBvbGF0ZVByb3BzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9T2JqZWN0KHZ0LmQpKHQsZSxuLHRoaXMucHJvcHMpLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9R3RbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtyW2NdPU9iamVjdChwdC5sKSh0W2NdfHwwLGVbY118fDAsbil9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4gcn19LHtrZXk6ImdldER1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUudHJhbnNpdGlvbkR1cmF0aW9uO3JldHVybiJhdXRvIj09PW4mJihuPU9iamVjdCh2dC5mKSh0LGUsdGhpcy5wcm9wcykpLG59fV0pLGV9KFZ0LmEpLHF0PW4oMjMpLFh0PW4oNjQpLFp0PW4oMjA0KSxZdD1uKDc1KSxLdD1uKDE1NyksUXQ9bigxMDgpLEp0PW4oMTU2KSwkdD1uKDEzNyk7bi5kKGUsIkNPT1JESU5BVEVfU1lTVEVNIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5hfSkpLG4uZChlLCJMaWdodGluZ0VmZmVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQoZSwiQW1iaWVudExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5hfSkpLG4uZChlLCJEaXJlY3Rpb25hbExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gby5hfSkpLG4uZChlLCJQb2ludExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQoZSwiX0NhbWVyYUxpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxuLmQoZSwiX1N1bkxpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQoZSwiUG9zdFByb2Nlc3NFZmZlY3QiLChmdW5jdGlvbigpe3JldHVybiBafSkpLG4uZChlLCJfTGF5ZXJzUGFzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouYX0pKSxuLmQoZSwiRGVjayIsKGZ1bmN0aW9uKCl7cmV0dXJuICQuYX0pKSxuLmQoZSwiTGF5ZXJNYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gdHQuYX0pKSxuLmQoZSwiQXR0cmlidXRlTWFuYWdlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0LmF9KSksbi5kKGUsIkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbnQuYX0pKSxuLmQoZSwiQ29tcG9zaXRlTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBydC5hfSkpLG4uZChlLCJEZWNrUmVuZGVyZXIiLChmdW5jdGlvbigpe3JldHVybiBpdC5hfSkpLG4uZChlLCJWaWV3cG9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF0LmF9KSksbi5kKGUsIldlYk1lcmNhdG9yVmlld3BvcnQiLChmdW5jdGlvbigpe3JldHVybiBvdC5hfSkpLG4uZChlLCJwaWNraW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3QuYX0pKSxuLmQoZSwicHJvamVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0LmF9KSksbi5kKGUsInByb2plY3QzMiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN0LmF9KSksbi5kKGUsImdvdXJhdWRMaWdodGluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx0LmF9KSksbi5kKGUsInBob25nTGlnaHRpbmciLChmdW5jdGlvbigpe3JldHVybiBsdC5ifSkpLG4uZChlLCJzaGFkb3ciLChmdW5jdGlvbigpe3JldHVybiBodC5hfSkpLG4uZChlLCJWaWV3IiwoZnVuY3Rpb24oKXtyZXR1cm4gZnQuYX0pKSxuLmQoZSwiTWFwVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0LmF9KSksbi5kKGUsIkZpcnN0UGVyc29uVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh0fSkpLG4uZChlLCJPcmJpdFZpZXciLChmdW5jdGlvbigpe3JldHVybiBMdH0pKSxuLmQoZSwiT3J0aG9ncmFwaGljVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp0fSkpLG4uZChlLCJDb250cm9sbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3QuYX0pKSxuLmQoZSwiTWFwQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ0LmF9KSksbi5kKGUsIkZpcnN0UGVyc29uQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE90fSkpLG4uZChlLCJPcmJpdENvbnRyb2xsZXIiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxuLmQoZSwiT3J0aG9ncmFwaGljQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ0fSkpLG4uZChlLCJFZmZlY3QiLChmdW5jdGlvbigpe3JldHVybiBSLmF9KSksbi5kKGUsIkxheWVyRXh0ZW5zaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXQuYX0pKSxuLmQoZSwiVFJBTlNJVElPTl9FVkVOVFMiLChmdW5jdGlvbigpe3JldHVybiBrdC5hfSkpLG4uZChlLCJMaW5lYXJJbnRlcnBvbGF0b3IiLChmdW5jdGlvbigpe3JldHVybiB3dC5hfSkpLG4uZChlLCJGbHlUb0ludGVycG9sYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEh0fSkpLG4uZChlLCJsb2ciLChmdW5jdGlvbigpe3JldHVybiBxdC5hfSkpLG4uZChlLCJjcmVhdGVJdGVyYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFh0LmF9KSksbi5kKGUsImZwNjRMb3dQYXJ0IiwoZnVuY3Rpb24oKXtyZXR1cm4gbXQuY30pKSxuLmQoZSwiVGVzc2VsYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp0LmF9KSksbi5kKGUsIl9maWxsQXJyYXkiLChmdW5jdGlvbigpe3JldHVybiBZdC5hfSkpLG4uZChlLCJfZmxhdHRlbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl0LmJ9KSksbi5kKGUsIl9jb3VudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt0LmF9KSksbi5kKGUsIl9tZW1vaXplIiwoZnVuY3Rpb24oKXtyZXR1cm4gUXQuYX0pKSxuLmQoZSwiX21lcmdlU2hhZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp0LmF9KSksbi5kKGUsIl9jb21wYXJlUHJvcHMiLChmdW5jdGlvbigpe3JldHVybiAkdC5hfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTtuKDI1KSxuKDEyMSksbigyNiksbig4Myk7dmFyIHI9MS9NYXRoLlBJKjE4MCxpPTEvMTgwKk1hdGguUEksYT17fTtmdW5jdGlvbiBvKHQpe3JldHVybiBNYXRoLnJvdW5kKHQvYS5FUFNJTE9OKSphLkVQU0lMT059ZnVuY3Rpb24gcyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnByZWNpc2lvbixyPXZvaWQgMD09PW4/YS5wcmVjaXNpb258fDQ6bjtyZXR1cm4gdD1vKHQpLCIiLmNvbmNhdChwYXJzZUZsb2F0KHQudG9QcmVjaXNpb24ocikpKX1mdW5jdGlvbiB1KHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnZvaWQgMCE9PXQubGVuZ3RofWZ1bmN0aW9uIGModCxlLG4pe2lmKHUodCkpe249bnx8KChpPXQpLmNsb25lP2kuY2xvbmUoKTpuZXcgQXJyYXkoaS5sZW5ndGgpKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiZyPHQubGVuZ3RoOysrciluW3JdPWUodFtyXSxyLG4pO3JldHVybiBufXZhciBpO3JldHVybiBlKHQpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIGYodCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gZCh0KX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIGModCwoZnVuY3Rpb24odCl7cmV0dXJuIHQqaX0pLGUpfWZ1bmN0aW9uIGQodCxlKXtyZXR1cm4gYyh0LChmdW5jdGlvbih0KXtyZXR1cm4gdCpyfSksZSl9ZnVuY3Rpb24gdih0LGUsbil7cmV0dXJuIGModCwoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4obix0KSl9KSl9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIHUodCk/dC5tYXAoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHAodCxlW3JdLG4pfSkpOm4qZSsoMS1uKSp0fWZ1bmN0aW9uIGcodCxlLG4pe3ZhciByPWEuRVBTSUxPTjtuJiYoYS5FUFNJTE9OPW4pO3RyeXtpZih0PT09ZSlyZXR1cm4hMDtpZih1KHQpJiZ1KGUpKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKWlmKCFnKHRbaV0sZVtpXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIHQmJnQuZXF1YWxzP3QuZXF1YWxzKGUpOmUmJmUuZXF1YWxzP2UuZXF1YWxzKHQpOiEoIU51bWJlci5pc0Zpbml0ZSh0KXx8IU51bWJlci5pc0Zpbml0ZShlKSkmJk1hdGguYWJzKHQtZSk8PWEuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHQpLE1hdGguYWJzKGUpKX1maW5hbGx5e2EuRVBTSUxPTj1yfX1hLkVQU0lMT049MWUtMTIsYS5kZWJ1Zz0hMSxhLnByZWNpc2lvbj00LGEucHJpbnRUeXBlcz0hMSxhLnByaW50RGVncmVlcz0hMSxhLnByaW50Um93TWFqb3I9ITB9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigyMyksaT17REVGQVVMVDotMSxMTkdMQVQ6MSxNRVRFUl9PRkZTRVRTOjIsTE5HTEFUX09GRlNFVFM6MyxDQVJURVNJQU46MH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIklERU5USVRZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYS5kZXByZWNhdGVkKCJDT09SRElOQVRFX1NZU1RFTS5JREVOVElUWSIsIkNPT1JESU5BVEVfU1lTVEVNLkNBUlRFU0lBTiIpKCl8fDB9fSk7dmFyIGE9e1dFQl9NRVJDQVRPUjoxLFdFQl9NRVJDQVRPUl9BVVRPX09GRlNFVDo0LElERU5USVRZOjB9LG89e2NsaWNrOntoYW5kbGVyOiJvbkNsaWNrIn0scGFuc3RhcnQ6e2hhbmRsZXI6Im9uRHJhZ1N0YXJ0In0scGFubW92ZTp7aGFuZGxlcjoib25EcmFnIn0scGFuZW5kOntoYW5kbGVyOiJvbkRyYWdFbmQifX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNzgpO2UuYT1uZXcgci5hKHtpZDoiZGVjayJ9KX0sLGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX0odCl8fGZ1bmN0aW9uKHQpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDIxKTtmdW5jdGlvbiBpKHQpe2lmKCFOdW1iZXIuaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG51bWJlciAiLmNvbmNhdCh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gYSh0LGUsbil7aWYoci5iLmRlYnVnJiYhZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9PWUpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYoIU51bWJlci5pc0Zpbml0ZSh0W25dKSlyZXR1cm4hMTtyZXR1cm4hMH0odCxlKSl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2w6ICIuY29uY2F0KCIifG4sIiBzb21lIGZpZWxkcyBzZXQgdG8gaW52YWxpZCBudW1iZXJzJyIpKTtyZXR1cm4gdH12YXIgbz17fTtmdW5jdGlvbiBzKHQsZSl7b1t0XXx8KG9bdF09ITAsY29uc29sZS53YXJuKCIiLmNvbmNhdCh0LCIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB2ZXJzaW9uICIpLmNvbmNhdChlLCIsIHNlZSB1cGdyYWRlIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uIikpKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwibHVtYS5nbDogYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiZGVjay5nbDogYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsInEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJwIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwibyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJsIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwibSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBifSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKTt2YXIgcj1uKDE2KTtmdW5jdGlvbiBpKHQsZSl7aWYodD09PWUpe3ZhciBuPWVbMV0scj1lWzJdLGk9ZVszXSxhPWVbNl0sbz1lWzddLHM9ZVsxMV07dFsxXT1lWzRdLHRbMl09ZVs4XSx0WzNdPWVbMTJdLHRbNF09bix0WzZdPWVbOV0sdFs3XT1lWzEzXSx0WzhdPXIsdFs5XT1hLHRbMTFdPWVbMTRdLHRbMTJdPWksdFsxM109byx0WzE0XT1zfWVsc2UgdFswXT1lWzBdLHRbMV09ZVs0XSx0WzJdPWVbOF0sdFszXT1lWzEyXSx0WzRdPWVbMV0sdFs1XT1lWzVdLHRbNl09ZVs5XSx0WzddPWVbMTNdLHRbOF09ZVsyXSx0WzldPWVbNl0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxNF0sdFsxMl09ZVszXSx0WzEzXT1lWzddLHRbMTRdPWVbMTFdLHRbMTVdPWVbMTVdO3JldHVybiB0fWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89ZVs0XSxzPWVbNV0sdT1lWzZdLGM9ZVs3XSxsPWVbOF0saD1lWzldLGY9ZVsxMF0sZD1lWzExXSx2PWVbMTJdLHA9ZVsxM10sZz1lWzE0XSx5PWVbMTVdLG09bipzLXIqbyxiPW4qdS1pKm8sXz1uKmMtYSpvLE89cip1LWkqcyx4PXIqYy1hKnMsdz1pKmMtYSp1LGs9bCpwLWgqdixTPWwqZy1mKnYsUD1sKnktZCp2LGo9aCpnLWYqcCxUPWgqeS1kKnAsRT1mKnktZCpnLEE9bSpFLWIqVCtfKmorTypQLXgqUyt3Kms7cmV0dXJuIEE/KEE9MS9BLHRbMF09KHMqRS11KlQrYypqKSpBLHRbMV09KGkqVC1yKkUtYSpqKSpBLHRbMl09KHAqdy1nKngreSpPKSpBLHRbM109KGYqeC1oKnctZCpPKSpBLHRbNF09KHUqUC1vKkUtYypTKSpBLHRbNV09KG4qRS1pKlArYSpTKSpBLHRbNl09KGcqXy12KncteSpiKSpBLHRbN109KGwqdy1mKl8rZCpiKSpBLHRbOF09KG8qVC1zKlArYyprKSpBLHRbOV09KHIqUC1uKlQtYSprKSpBLHRbMTBdPSh2KngtcCpfK3kqbSkqQSx0WzExXT0oaCpfLWwqeC1kKm0pKkEsdFsxMl09KHMqUy1vKmotdSprKSpBLHRbMTNdPShuKmotcipTK2kqaykqQSx0WzE0XT0ocCpiLXYqTy1nKm0pKkEsdFsxNV09KGwqTy1oKmIrZiptKSpBLHQpOm51bGx9ZnVuY3Rpb24gbyh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdLGE9dFs0XSxvPXRbNV0scz10WzZdLHU9dFs3XSxjPXRbOF0sbD10WzldLGg9dFsxMF0sZj10WzExXSxkPXRbMTJdLHY9dFsxM10scD10WzE0XSxnPXRbMTVdO3JldHVybihlKm8tbiphKSooaCpnLWYqcCktKGUqcy1yKmEpKihsKmctZip2KSsoZSp1LWkqYSkqKGwqcC1oKnYpKyhuKnMtcipvKSooYypnLWYqZCktKG4qdS1pKm8pKihjKnAtaCpkKSsocip1LWkqcykqKGMqdi1sKmQpfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHA9ZVsxMl0sZz1lWzEzXSx5PWVbMTRdLG09ZVsxNV0sYj1uWzBdLF89blsxXSxPPW5bMl0seD1uWzNdO3JldHVybiB0WzBdPWIqcitfKnMrTypoK3gqcCx0WzFdPWIqaStfKnUrTypmK3gqZyx0WzJdPWIqYStfKmMrTypkK3gqeSx0WzNdPWIqbytfKmwrTyp2K3gqbSxiPW5bNF0sXz1uWzVdLE89bls2XSx4PW5bN10sdFs0XT1iKnIrXypzK08qaCt4KnAsdFs1XT1iKmkrXyp1K08qZit4KmcsdFs2XT1iKmErXypjK08qZCt4KnksdFs3XT1iKm8rXypsK08qdit4Km0sYj1uWzhdLF89bls5XSxPPW5bMTBdLHg9blsxMV0sdFs4XT1iKnIrXypzK08qaCt4KnAsdFs5XT1iKmkrXyp1K08qZit4KmcsdFsxMF09YiphK18qYytPKmQreCp5LHRbMTFdPWIqbytfKmwrTyp2K3gqbSxiPW5bMTJdLF89blsxM10sTz1uWzE0XSx4PW5bMTVdLHRbMTJdPWIqcitfKnMrTypoK3gqcCx0WzEzXT1iKmkrXyp1K08qZit4KmcsdFsxNF09YiphK18qYytPKmQreCp5LHRbMTVdPWIqbytfKmwrTyp2K3gqbSx0fWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwPW5bMF0sZz1uWzFdLHk9blsyXTtyZXR1cm4gZT09PXQ/KHRbMTJdPWVbMF0qcCtlWzRdKmcrZVs4XSp5K2VbMTJdLHRbMTNdPWVbMV0qcCtlWzVdKmcrZVs5XSp5K2VbMTNdLHRbMTRdPWVbMl0qcCtlWzZdKmcrZVsxMF0qeStlWzE0XSx0WzE1XT1lWzNdKnArZVs3XSpnK2VbMTFdKnkrZVsxNV0pOihyPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHRbMF09cix0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09Yyx0WzddPWwsdFs4XT1oLHRbOV09Zix0WzEwXT1kLHRbMTFdPXYsdFsxMl09cipwK3MqZytoKnkrZVsxMl0sdFsxM109aSpwK3UqZytmKnkrZVsxM10sdFsxNF09YSpwK2MqZytkKnkrZVsxNF0sdFsxNV09bypwK2wqZyt2KnkrZVsxNV0pLHR9ZnVuY3Rpb24gYyh0LGUsbil7dmFyIHI9blswXSxpPW5bMV0sYT1uWzJdO3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0WzRdPWVbNF0qaSx0WzVdPWVbNV0qaSx0WzZdPWVbNl0qaSx0WzddPWVbN10qaSx0WzhdPWVbOF0qYSx0WzldPWVbOV0qYSx0WzEwXT1lWzEwXSphLHRbMTFdPWVbMTFdKmEsdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH1mdW5jdGlvbiBsKHQsZSxuLGkpe3ZhciBhLG8scyx1LGMsbCxoLGYsZCx2LHAsZyx5LG0sYixfLE8seCx3LGssUyxQLGosVCxFPWlbMF0sQT1pWzFdLE09aVsyXSxDPU1hdGguaHlwb3QoRSxBLE0pO3JldHVybiBDPHIuYj9udWxsOihFKj1DPTEvQyxBKj1DLE0qPUMsYT1NYXRoLnNpbihuKSxzPTEtKG89TWF0aC5jb3MobikpLHU9ZVswXSxjPWVbMV0sbD1lWzJdLGg9ZVszXSxmPWVbNF0sZD1lWzVdLHY9ZVs2XSxwPWVbN10sZz1lWzhdLHk9ZVs5XSxtPWVbMTBdLGI9ZVsxMV0sXz1FKkUqcytvLE89QSpFKnMrTSphLHg9TSpFKnMtQSphLHc9RSpBKnMtTSphLGs9QSpBKnMrbyxTPU0qQSpzK0UqYSxQPUUqTSpzK0EqYSxqPUEqTSpzLUUqYSxUPU0qTSpzK28sdFswXT11Kl8rZipPK2cqeCx0WzFdPWMqXytkKk8reSp4LHRbMl09bCpfK3YqTyttKngsdFszXT1oKl8rcCpPK2IqeCx0WzRdPXUqdytmKmsrZypTLHRbNV09Yyp3K2Qqayt5KlMsdFs2XT1sKncrdiprK20qUyx0WzddPWgqdytwKmsrYipTLHRbOF09dSpQK2YqaitnKlQsdFs5XT1jKlArZCpqK3kqVCx0WzEwXT1sKlArdipqK20qVCx0WzExXT1oKlArcCpqK2IqVCxlIT09dCYmKHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0KX1mdW5jdGlvbiBoKHQsZSxuKXt2YXIgcj1NYXRoLnNpbihuKSxpPU1hdGguY29zKG4pLGE9ZVs0XSxvPWVbNV0scz1lWzZdLHU9ZVs3XSxjPWVbOF0sbD1lWzldLGg9ZVsxMF0sZj1lWzExXTtyZXR1cm4gZSE9PXQmJih0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbNF09YSppK2Mqcix0WzVdPW8qaStsKnIsdFs2XT1zKmkraCpyLHRbN109dSppK2Yqcix0WzhdPWMqaS1hKnIsdFs5XT1sKmktbypyLHRbMTBdPWgqaS1zKnIsdFsxMV09ZippLXUqcix0fWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPU1hdGguc2luKG4pLGk9TWF0aC5jb3MobiksYT1lWzBdLG89ZVsxXSxzPWVbMl0sdT1lWzNdLGM9ZVs4XSxsPWVbOV0saD1lWzEwXSxmPWVbMTFdO3JldHVybiBlIT09dCYmKHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmktYypyLHRbMV09byppLWwqcix0WzJdPXMqaS1oKnIsdFszXT11KmktZipyLHRbOF09YSpyK2MqaSx0WzldPW8qcitsKmksdFsxMF09cypyK2gqaSx0WzExXT11KnIrZippLHR9ZnVuY3Rpb24gZCh0LGUsbil7dmFyIHI9TWF0aC5zaW4obiksaT1NYXRoLmNvcyhuKSxhPWVbMF0sbz1lWzFdLHM9ZVsyXSx1PWVbM10sYz1lWzRdLGw9ZVs1XSxoPWVbNl0sZj1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09YSppK2Mqcix0WzFdPW8qaStsKnIsdFsyXT1zKmkraCpyLHRbM109dSppK2Yqcix0WzRdPWMqaS1hKnIsdFs1XT1sKmktbypyLHRbNl09aCppLXMqcix0WzddPWYqaS11KnIsdH1mdW5jdGlvbiB2KHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9ZVs0XSxvPWVbNV0scz1lWzZdLHU9ZVs4XSxjPWVbOV0sbD1lWzEwXTtyZXR1cm4gdFswXT1NYXRoLmh5cG90KG4scixpKSx0WzFdPU1hdGguaHlwb3QoYSxvLHMpLHRbMl09TWF0aC5oeXBvdCh1LGMsbCksdH1mdW5jdGlvbiBwKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9ZVszXSxvPW4rbixzPXIrcix1PWkraSxjPW4qbyxsPXIqbyxoPXIqcyxmPWkqbyxkPWkqcyx2PWkqdSxwPWEqbyxnPWEqcyx5PWEqdTtyZXR1cm4gdFswXT0xLWgtdix0WzFdPWwreSx0WzJdPWYtZyx0WzNdPTAsdFs0XT1sLXksdFs1XT0xLWMtdix0WzZdPWQrcCx0WzddPTAsdFs4XT1mK2csdFs5XT1kLXAsdFsxMF09MS1jLWgsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9ZnVuY3Rpb24gZyh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhuLWUpLHU9MS8oaS1yKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09MiphKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MiphKnUsdFs2XT0wLHRbN109MCx0WzhdPShuK2UpKnMsdFs5XT0oaStyKSp1LHRbMTBdPShvK2EpKmMsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPW8qYSoyKmMsdFsxNV09MCx0fWZ1bmN0aW9uIHkodCxlLG4scixpKXt2YXIgYSxvPTEvTWF0aC50YW4oZS8yKTtyZXR1cm4gdFswXT1vL24sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09byx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTVdPTAsbnVsbCE9aSYmaSE9PTEvMD8oYT0xLyhyLWkpLHRbMTBdPShpK3IpKmEsdFsxNF09MippKnIqYSk6KHRbMTBdPS0xLHRbMTRdPS0yKnIpLHR9ZnVuY3Rpb24gbSh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhlLW4pLHU9MS8oci1pKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09LTIqcyx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0tMip1LHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0yKmMsdFsxMV09MCx0WzEyXT0oZStuKSpzLHRbMTNdPShpK3IpKnUsdFsxNF09KG8rYSkqYyx0WzE1XT0xLHR9ZnVuY3Rpb24gYih0LGUsbixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdixwPWVbMF0sZz1lWzFdLHk9ZVsyXSxtPWlbMF0sYj1pWzFdLF89aVsyXSxPPW5bMF0seD1uWzFdLHc9blsyXTtyZXR1cm4gTWF0aC5hYnMocC1PKTxyLmImJk1hdGguYWJzKGcteCk8ci5iJiZNYXRoLmFicyh5LXcpPHIuYj9mdW5jdGlvbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPTEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9KHQpOihoPXAtTyxmPWcteCxkPXktdyxhPWIqKGQqPXY9MS9NYXRoLmh5cG90KGgsZixkKSktXyooZio9diksbz1fKihoKj12KS1tKmQscz1tKmYtYipoLCh2PU1hdGguaHlwb3QoYSxvLHMpKT8oYSo9dj0xL3Ysbyo9dixzKj12KTooYT0wLG89MCxzPTApLHU9ZipzLWQqbyxjPWQqYS1oKnMsbD1oKm8tZiphLCh2PU1hdGguaHlwb3QodSxjLGwpKT8odSo9dj0xL3YsYyo9dixsKj12KToodT0wLGM9MCxsPTApLHRbMF09YSx0WzFdPXUsdFsyXT1oLHRbM109MCx0WzRdPW8sdFs1XT1jLHRbNl09Zix0WzddPTAsdFs4XT1zLHRbOV09bCx0WzEwXT1kLHRbMTFdPTAsdFsxMl09LShhKnArbypnK3MqeSksdFsxM109LSh1KnArYypnK2wqeSksdFsxNF09LShoKnArZipnK2QqeSksdFsxNV09MSx0KX1mdW5jdGlvbiBfKHQsZSl7dmFyIG49dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPXRbNF0sdT10WzVdLGM9dFs2XSxsPXRbN10saD10WzhdLGY9dFs5XSxkPXRbMTBdLHY9dFsxMV0scD10WzEyXSxnPXRbMTNdLHk9dFsxNF0sbT10WzE1XSxiPWVbMF0sXz1lWzFdLE89ZVsyXSx4PWVbM10sdz1lWzRdLGs9ZVs1XSxTPWVbNl0sUD1lWzddLGo9ZVs4XSxUPWVbOV0sRT1lWzEwXSxBPWVbMTFdLE09ZVsxMl0sQz1lWzEzXSxMPWVbMTRdLEk9ZVsxNV07cmV0dXJuIE1hdGguYWJzKG4tYik8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGIpKSYmTWF0aC5hYnMoaS1fKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMoXykpJiZNYXRoLmFicyhhLU8pPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhPKSkmJk1hdGguYWJzKG8teCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKHgpKSYmTWF0aC5hYnMocy13KTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnModykpJiZNYXRoLmFicyh1LWspPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhrKSkmJk1hdGguYWJzKGMtUyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKGMpLE1hdGguYWJzKFMpKSYmTWF0aC5hYnMobC1QKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMobCksTWF0aC5hYnMoUCkpJiZNYXRoLmFicyhoLWopPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyhqKSkmJk1hdGguYWJzKGYtVCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKGYpLE1hdGguYWJzKFQpKSYmTWF0aC5hYnMoZC1FKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoZCksTWF0aC5hYnMoRSkpJiZNYXRoLmFicyh2LUEpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyh2KSxNYXRoLmFicyhBKSkmJk1hdGguYWJzKHAtTSk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKHApLE1hdGguYWJzKE0pKSYmTWF0aC5hYnMoZy1DKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoZyksTWF0aC5hYnMoQykpJiZNYXRoLmFicyh5LUwpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyh5KSxNYXRoLmFicyhMKSkmJk1hdGguYWJzKG0tSSk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG0pLE1hdGguYWJzKEkpKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKG8udmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9e307ZnVuY3Rpb24gaSh0KXt2YXIgZT10JiZ0Lmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIGU+PTA/dC5zdWJzdHIoMCxlKToiIn1uLnIociksbi5kKHIsImRpcm5hbWUiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuIGUmJnIodC5wcm90b3R5cGUsZSksbiYmcih0LG4pLHR9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzcpLGk9bigzMyksYT1uKDYyKSxvPW4oNTUpLHM9bigxNDApLHU9big2MyksYz1uKDUxKSxsPW4oMTQxKTtmdW5jdGlvbiBoKHQsZSl7dmFyIG49bC5iKFtdLGUsdCk7cmV0dXJuIGwuYShuLG4sMS9uWzNdKSxufWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10JWU7cmV0dXJuIG48MD9lK246bn1mdW5jdGlvbiBkKHQsZSxuKXtyZXR1cm4gbiplKygxLW4pKnR9dmFyIHY9bigzMCkscD1uKDYwKSxnPW4oNjEpO2Z1bmN0aW9uIHkodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZXx8IkBtYXRoLmdsL3dlYi1tZXJjYXRvcjogYXNzZXJ0aW9uIGZhaWxlZC4iKX12YXIgbT1NYXRoLlBJLGI9bS80LF89bS8xODAsTz0xODAvbTtmdW5jdGlvbiB4KHQpe3JldHVybiBNYXRoLnBvdygyLHQpfWZ1bmN0aW9uIHcodCl7cmV0dXJuIE1hdGgubG9nMih0KX1mdW5jdGlvbiBrKHQpe3ZhciBlPU9iamVjdChjLmEpKHQsMiksbj1lWzBdLHI9ZVsxXTt5KE51bWJlci5pc0Zpbml0ZShuKSkseShOdW1iZXIuaXNGaW5pdGUocikmJnI+PS05MCYmcjw9OTAsImludmFsaWQgbGF0aXR1ZGUiKTt2YXIgaT1yKl87cmV0dXJuWzUxMioobipfK20pLygyKm0pLDUxMioobStNYXRoLmxvZyhNYXRoLnRhbihiKy41KmkpKSkvKDIqbSldfWZ1bmN0aW9uIFModCl7dmFyIGU9T2JqZWN0KGMuYSkodCwyKSxuPWVbMF0scj1lWzFdLGk9bi81MTIqKDIqbSktbSxhPTIqKE1hdGguYXRhbihNYXRoLmV4cChyLzUxMiooMiptKS1tKSktYik7cmV0dXJuW2kqTyxhKk9dfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5sYXRpdHVkZTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUoZSkpLHcoNDAwM2U0Kk1hdGguY29zKGUqXykpLTl9ZnVuY3Rpb24gaih0KXt2YXIgZT10LmxhdGl0dWRlLG49dC5sb25naXR1ZGUscj10LmhpZ2hQcmVjaXNpb24saT12b2lkIDAhPT1yJiZyO3koTnVtYmVyLmlzRmluaXRlKGUpJiZOdW1iZXIuaXNGaW5pdGUobikpO3ZhciBhPXt9LG89TWF0aC5jb3MoZSpfKSxzPTUxMi8zNjAvbyx1PTUxMi80MDAzZTQvbztpZihhLnVuaXRzUGVyTWV0ZXI9W3UsdSx1XSxhLm1ldGVyc1BlclVuaXQ9WzEvdSwxL3UsMS91XSxhLnVuaXRzUGVyRGVncmVlPVs1MTIvMzYwLHMsdV0sYS5kZWdyZWVzUGVyVW5pdD1bLjcwMzEyNSwxL3MsMS91XSxpKXt2YXIgYz1fKk1hdGgudGFuKGUqXykvbyxsPTUxMi8zNjAqYy8yLGg9NTEyLzQwMDNlNCpjLGY9aC9zKnU7YS51bml0c1BlckRlZ3JlZTI9WzAsbCxoXSxhLnVuaXRzUGVyTWV0ZXIyPVtmLDAsZl19cmV0dXJuIGF9ZnVuY3Rpb24gVCh0LGUpe3ZhciBuPU9iamVjdChjLmEpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0sbz1PYmplY3QoYy5hKShlLDMpLHM9b1swXSx1PW9bMV0sbD1vWzJdLGg9aih7bG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSxoaWdoUHJlY2lzaW9uOiEwfSksZj1oLnVuaXRzUGVyTWV0ZXIsZD1oLnVuaXRzUGVyTWV0ZXIyLHY9ayh0KTt2WzBdKz1zKihmWzBdK2RbMF0qdSksdlsxXSs9dSooZlsxXStkWzFdKnUpO3ZhciBwPVModiksZz0oYXx8MCkrKGx8fDApO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoYSl8fE51bWJlci5pc0Zpbml0ZShsKT9bcFswXSxwWzFdLGddOnB9ZnVuY3Rpb24gRSh0KXt2YXIgZT10LmhlaWdodCxuPXQucGl0Y2gscj10LmJlYXJpbmcsaT10LmFsdGl0dWRlLGE9dC5zY2FsZSxvPXQuY2VudGVyLHM9dm9pZCAwPT09bz9udWxsOm8sdT1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV07cmV0dXJuIHYucCh1LHUsWzAsMCwtaV0pLHYubCh1LHUsLW4qXyksdi5uKHUsdSxyKl8pLGEvPWUsdi5vKHUsdSxbYSxhLGFdKSxzJiZ2LnAodSx1LGcuYyhbXSxzKSksdX1mdW5jdGlvbiBBKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQuYWx0aXR1ZGUsaT12b2lkIDA9PT1yPzEuNTpyLGE9dC5waXRjaCxvPXZvaWQgMD09PWE/MDphLHM9dC5uZWFyWk11bHRpcGxpZXIsdT12b2lkIDA9PT1zPzE6cyxjPXQuZmFyWk11bHRpcGxpZXIsbD12b2lkIDA9PT1jPzE6YyxoPW8qXyxmPU1hdGguYXRhbiguNS9pKSxkPU1hdGguc2luKGYpKmkvTWF0aC5zaW4oTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5QSS8yLWgtZiwuMDEpLE1hdGguUEktLjAxKSk7cmV0dXJue2ZvdjoyKmYsYXNwZWN0OmUvbixmb2NhbERpc3RhbmNlOmksbmVhcjp1LGZhcjooTWF0aC5zaW4oaCkqZCtpKSpsfX1mdW5jdGlvbiBNKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQucGl0Y2gsaT1BKHt3aWR0aDplLGhlaWdodDpuLGFsdGl0dWRlOnQuYWx0aXR1ZGUscGl0Y2g6cixuZWFyWk11bHRpcGxpZXI6dC5uZWFyWk11bHRpcGxpZXIsZmFyWk11bHRpcGxpZXI6dC5mYXJaTXVsdGlwbGllcn0pLGE9aS5mb3Ysbz1pLmFzcGVjdCxzPWkubmVhcix1PWkuZmFyO3JldHVybiB2LmooW10sYSxvLHMsdSl9ZnVuY3Rpb24gQyh0LGUpe3ZhciBuPU9iamVjdChjLmEpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0sbz12b2lkIDA9PT1hPzA6YTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUocikmJk51bWJlci5pc0Zpbml0ZShpKSYmTnVtYmVyLmlzRmluaXRlKG8pKSxoKGUsW3IsaSxvLDFdKX1mdW5jdGlvbiBMKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscj1PYmplY3QoYy5hKSh0LDMpLGk9clswXSxhPXJbMV0sbz1yWzJdO2lmKHkoTnVtYmVyLmlzRmluaXRlKGkpJiZOdW1iZXIuaXNGaW5pdGUoYSksImludmFsaWQgcGl4ZWwgY29vcmRpbmF0ZSIpLE51bWJlci5pc0Zpbml0ZShvKSl7dmFyIHM9aChlLFtpLGEsbywxXSk7cmV0dXJuIHN9dmFyIHU9aChlLFtpLGEsMCwxXSksbD1oKGUsW2ksYSwxLDFdKSxmPXVbMl0sZD1sWzJdLHY9Zj09PWQ/MDooKG58fDApLWYpLyhkLWYpO3JldHVybiBwLmMoW10sdSxsLHYpfXZhciBJPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXTtmdW5jdGlvbiBSKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQuYm91bmRzLGk9dC5taW5FeHRlbnQsYT12b2lkIDA9PT1pPzA6aSxvPXQubWF4Wm9vbSxzPXZvaWQgMD09PW8/MjQ6byx1PXQucGFkZGluZyxsPXZvaWQgMD09PXU/MDp1LGg9dC5vZmZzZXQsZj12b2lkIDA9PT1oP1swLDBdOmgsZD1PYmplY3QoYy5hKShyLDIpLHY9T2JqZWN0KGMuYSkoZFswXSwyKSxwPXZbMF0sZz12WzFdLG09T2JqZWN0KGMuYSkoZFsxXSwyKSxiPW1bMF0sXz1tWzFdO2lmKE51bWJlci5pc0Zpbml0ZShsKSl7bD17dG9wOmwsYm90dG9tOmwsbGVmdDpsLHJpZ2h0Omx9fWVsc2UgeShOdW1iZXIuaXNGaW5pdGUobC50b3ApJiZOdW1iZXIuaXNGaW5pdGUobC5ib3R0b20pJiZOdW1iZXIuaXNGaW5pdGUobC5sZWZ0KSYmTnVtYmVyLmlzRmluaXRlKGwucmlnaHQpKTt2YXIgTz1uZXcgTih7d2lkdGg6ZSxoZWlnaHQ6bixsb25naXR1ZGU6MCxsYXRpdHVkZTowLHpvb206MH0pLHg9Ty5wcm9qZWN0KFtwLF9dKSx3PU8ucHJvamVjdChbYixnXSksaz1bTWF0aC5tYXgoTWF0aC5hYnMod1swXS14WzBdKSxhKSxNYXRoLm1heChNYXRoLmFicyh3WzFdLXhbMV0pLGEpXSxTPVtlLWwubGVmdC1sLnJpZ2h0LTIqTWF0aC5hYnMoZlswXSksbi1sLnRvcC1sLmJvdHRvbS0yKk1hdGguYWJzKGZbMV0pXTt5KFNbMF0+MCYmU1sxXT4wKTt2YXIgUD1TWzBdL2tbMF0saj1TWzFdL2tbMV0sVD0obC5yaWdodC1sLmxlZnQpLzIvUCxFPShsLmJvdHRvbS1sLnRvcCkvMi9qLEE9Wyh3WzBdK3hbMF0pLzIrVCwod1sxXSt4WzFdKS8yK0VdLE09Ty51bnByb2plY3QoQSksQz1NYXRoLm1pbihzLE8uem9vbStNYXRoLmxvZzIoTWF0aC5hYnMoTWF0aC5taW4oUCxqKSkpKTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUoQykpLHtsb25naXR1ZGU6TVswXSxsYXRpdHVkZTpNWzFdLHpvb206Q319dmFyIE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGk9bi53aWR0aCx1PW4uaGVpZ2h0LGM9bi5sYXRpdHVkZSxsPXZvaWQgMD09PWM/MDpjLGg9bi5sb25naXR1ZGUsZj12b2lkIDA9PT1oPzA6aCxkPW4uem9vbSx2PXZvaWQgMD09PWQ/MDpkLHA9bi5waXRjaCxnPXZvaWQgMD09PXA/MDpwLHk9bi5iZWFyaW5nLG09dm9pZCAwPT09eT8wOnksYj1uLmFsdGl0dWRlLF89dm9pZCAwPT09Yj8xLjU6YixPPW4ubmVhclpNdWx0aXBsaWVyLHc9dm9pZCAwPT09Tz8uMDI6TyxTPW4uZmFyWk11bHRpcGxpZXIsUD12b2lkIDA9PT1TPzEuMDE6UztPYmplY3Qoci5hKSh0aGlzLGUpLGk9aXx8MSx1PXV8fDE7dmFyIFQ9eCh2KTtfPU1hdGgubWF4KC43NSxfKTt2YXIgQT1rKFtmLGxdKTtBWzJdPTA7dmFyIEM9TSh7d2lkdGg6aSxoZWlnaHQ6dSxwaXRjaDpnLGJlYXJpbmc6bSxhbHRpdHVkZTpfLG5lYXJaTXVsdGlwbGllcjp3LGZhclpNdWx0aXBsaWVyOlB9KSxMPUUoe2hlaWdodDp1LHNjYWxlOlQsY2VudGVyOkEscGl0Y2g6ZyxiZWFyaW5nOm0sYWx0aXR1ZGU6X30pO3JldHVybih0PU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkoZSkuY2FsbCh0aGlzLHt3aWR0aDppLGhlaWdodDp1LHNjYWxlOlQsdmlld01hdHJpeDpMLHByb2plY3Rpb25NYXRyaXg6Q30pKSkubGF0aXR1ZGU9bCx0LmxvbmdpdHVkZT1mLHQuem9vbT12LHQucGl0Y2g9Zyx0LmJlYXJpbmc9bSx0LmFsdGl0dWRlPV8sdC5jZW50ZXI9QSx0LnVuaXRzUGVyTWV0ZXI9aihPYmplY3Qocy5hKSh0KSkudW5pdHNQZXJNZXRlclsyXSxPYmplY3QuZnJlZXplKE9iamVjdChzLmEpKHQpKSx0fXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6InByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gayh0KX19LHtrZXk6InVucHJvamVjdEZsYXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBTKHQpfX0se2tleToiZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sbmdMYXQsbj1MKHQucG9zLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXgpLHI9ayhlKSxpPXAuYShbXSxyLHAuZChbXSxuKSk7cmV0dXJuIFMocC5hKFtdLHRoaXMuY2VudGVyLGkpLHRoaXMuc2NhbGUpfX0se2tleToiZ2V0TG9jYXRpb25BdFBvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxuZ0xhdCxuPXQucG9zO3JldHVybiB0aGlzLmdldE1hcENlbnRlckJ5TG5nTGF0UG9zaXRpb24oe2xuZ0xhdDplLHBvczpufSl9fSx7a2V5OiJmaXRCb3VuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXRoaXMud2lkdGgsaT10aGlzLmhlaWdodCxhPVIoT2JqZWN0LmFzc2lnbih7d2lkdGg6cixoZWlnaHQ6aSxib3VuZHM6dH0sbikpLG89YS5sb25naXR1ZGUscz1hLmxhdGl0dWRlLHU9YS56b29tO3JldHVybiBuZXcgZSh7d2lkdGg6cixoZWlnaHQ6aSxsb25naXR1ZGU6byxsYXRpdHVkZTpzLHpvb206dX0pfX1dKSxlfShmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLndpZHRoLGk9ZS5oZWlnaHQsYT1lLnNjYWxlLG89ZS52aWV3TWF0cml4LHM9dm9pZCAwPT09bz9JOm8sdT1lLnByb2plY3Rpb25NYXRyaXgsYz12b2lkIDA9PT11P0k6dTtPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMud2lkdGg9bnx8MSx0aGlzLmhlaWdodD1pfHwxLHRoaXMuc2NhbGU9YSx0aGlzLnVuaXRzUGVyTWV0ZXI9MSx0aGlzLnZpZXdNYXRyaXg9cyx0aGlzLnByb2plY3Rpb25NYXRyaXg9Yzt2YXIgbD1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV07di5oKGwsbCx0aGlzLnByb2plY3Rpb25NYXRyaXgpLHYuaChsLGwsdGhpcy52aWV3TWF0cml4KSx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4PWw7dmFyIGg9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdO3YubyhoLGgsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksdi5wKGgsaCxbMSwtMSwwXSksdi5oKGgsaCx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4KTt2YXIgZj12LmYoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdLGgpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiUGl4ZWwgcHJvamVjdCBtYXRyaXggbm90IGludmVydGlibGUiKTt0aGlzLnBpeGVsUHJvamVjdGlvbk1hdHJpeD1oLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXg9Zix0aGlzLmVxdWFscz10aGlzLmVxdWFscy5iaW5kKHRoaXMpLHRoaXMucHJvamVjdD10aGlzLnByb2plY3QuYmluZCh0aGlzKSx0aGlzLnVucHJvamVjdD10aGlzLnVucHJvamVjdC5iaW5kKHRoaXMpLHRoaXMucHJvamVjdFBvc2l0aW9uPXRoaXMucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy51bnByb2plY3RQb3NpdGlvbj10aGlzLnVucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy5wcm9qZWN0RmxhdD10aGlzLnByb2plY3RGbGF0LmJpbmQodGhpcyksdGhpcy51bnByb2plY3RGbGF0PXRoaXMudW5wcm9qZWN0RmxhdC5iaW5kKHRoaXMpfXJldHVybiBPYmplY3QoaS5hKSh0LFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmKGUud2lkdGg9PT10aGlzLndpZHRoJiZlLmhlaWdodD09PXRoaXMuaGVpZ2h0JiZ2LmIoZS5wcm9qZWN0aW9uTWF0cml4LHRoaXMucHJvamVjdGlvbk1hdHJpeCkmJnYuYihlLnZpZXdNYXRyaXgsdGhpcy52aWV3TWF0cml4KSl9fSx7a2V5OiJwcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGk9dGhpcy5wcm9qZWN0UG9zaXRpb24odCksYT1DKGksdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXgpLG89T2JqZWN0KGMuYSkoYSwyKSxzPW9bMF0sdT1vWzFdLGw9cj91OnRoaXMuaGVpZ2h0LXU7cmV0dXJuIDI9PT10Lmxlbmd0aD9bcyxsXTpbcyxsLGFbMl1dfX0se2tleToidW5wcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGk9ZS50YXJnZXRaLGE9T2JqZWN0KGMuYSkodCwzKSxvPWFbMF0scz1hWzFdLHU9YVsyXSxsPXI/czp0aGlzLmhlaWdodC1zLGg9aSYmaSp0aGlzLnVuaXRzUGVyTWV0ZXIsZj1MKFtvLGwsdV0sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeCxoKSxkPXRoaXMudW5wcm9qZWN0UG9zaXRpb24oZiksdj1PYmplY3QoYy5hKShkLDMpLHA9dlswXSxnPXZbMV0seT12WzJdO3JldHVybiBOdW1iZXIuaXNGaW5pdGUodSk/W3AsZyx5XTpOdW1iZXIuaXNGaW5pdGUoaSk/W3AsZyxpXTpbcCxnXX19LHtrZXk6InByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0RmxhdCh0KSxuPU9iamVjdChjLmEpKGUsMik7cmV0dXJuW25bMF0sblsxXSwodFsyXXx8MCkqdGhpcy51bml0c1Blck1ldGVyXX19LHtrZXk6InVucHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnVucHJvamVjdEZsYXQodCksbj1PYmplY3QoYy5hKShlLDIpO3JldHVybltuWzBdLG5bMV0sKHRbMl18fDApL3RoaXMudW5pdHNQZXJNZXRlcl19fSx7a2V5OiJwcm9qZWN0RmxhdCIsdmFsdWU6ZnVuY3Rpb24odCl7YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2NhbGU7cmV0dXJuIHR9fSx7a2V5OiJ1bnByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbih0KXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zY2FsZTtyZXR1cm4gdH19XSksdH0oKSk7ZnVuY3Rpb24gRCh0KXt2YXIgZT10LndpZHRoLG49dC5oZWlnaHQscj10LmxvbmdpdHVkZSxpPXQubGF0aXR1ZGUsYT10Lnpvb20sbz10LnBpdGNoLHM9dm9pZCAwPT09bz8wOm8sdT10LmJlYXJpbmcsYz12b2lkIDA9PT11PzA6dTsocjwtMTgwfHxyPjE4MCkmJihyPWYocisxODAsMzYwKS0xODApLChjPC0xODB8fGM+MTgwKSYmKGM9ZihjKzE4MCwzNjApLTE4MCk7dmFyIGw9bmV3IE4oe3dpZHRoOmUsaGVpZ2h0Om4sbG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSx6b29tOmF9KSxoPWwucHJvamVjdChbciw4NS4wNTExM10pWzFdLGQ9bC5wcm9qZWN0KFtyLC04NS4wNTExM10pWzFdLHY9MDtyZXR1cm4gZC1oPG4mJihhKz1NYXRoLmxvZzIobi8oZC1oKSksaD0obD1uZXcgTih7d2lkdGg6ZSxoZWlnaHQ6bixsb25naXR1ZGU6cixsYXRpdHVkZTppLHpvb206YX0pKS5wcm9qZWN0KFtyLDg1LjA1MTEzXSlbMV0sZD1sLnByb2plY3QoW3IsLTg1LjA1MTEzXSlbMV0pLGg+MD92PWg6ZDxuJiYodj1kLW4pLHYmJihpPWwudW5wcm9qZWN0KFtlLzIsbi8yK3ZdKVsxXSkse3dpZHRoOmUsaGVpZ2h0Om4sbG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSx6b29tOmEscGl0Y2g6cyxiZWFyaW5nOmN9fXZhciBGPVsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIl0sej17Y3VydmU6MS40MTQsc3BlZWQ6MS4yfTtmdW5jdGlvbiBCKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30saT17fSxhPVYodCxlLHIpLG89YS5zdGFydFpvb20scz1hLnN0YXJ0Q2VudGVyWFksdT1hLnVEZWx0YSxjPWEudzAsbD1hLnUxLGg9YS5TLGY9YS5yaG8sdj1hLnJobzIsZz1hLnIwO2lmKGw8LjAxKXt2YXIgeT0hMCxtPSExLGI9dm9pZCAwO3RyeXtmb3IodmFyIF8sTz1GW1N5bWJvbC5pdGVyYXRvcl0oKTshKHk9KF89Ty5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciB4PV8udmFsdWUsaz10W3hdLFA9ZVt4XTtpW3hdPWQoayxQLG4pfX1jYXRjaCh0KXttPSEwLGI9dH1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19cmV0dXJuIGl9dmFyIGo9bipoLFQ9TWF0aC5jb3NoKGcpL01hdGguY29zaChnK2YqaiksRT1jKigoTWF0aC5jb3NoKGcpKk1hdGgudGFuaChnK2YqaiktTWF0aC5zaW5oKGcpKS92KS9sLEE9MS9ULE09byt3KEEpLEM9cC5lKFtdLHUsRSk7cC5hKEMsQyxzKTt2YXIgTD1TKEMpO3JldHVybiBpLmxvbmdpdHVkZT1MWzBdLGkubGF0aXR1ZGU9TFsxXSxpLnpvb209TSxpfWZ1bmN0aW9uIFUodCxlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPXI9T2JqZWN0LmFzc2lnbih7fSx6LHIpLGE9aS5zY3JlZW5TcGVlZCxvPWkuc3BlZWQscz1pLm1heER1cmF0aW9uLHU9Vih0LGUsciksYz11LlMsbD11LnJobyxoPTFlMypjO3JldHVybiBuPU51bWJlci5pc0Zpbml0ZShhKT9oLyhhL2wpOmgvbyxOdW1iZXIuaXNGaW5pdGUocykmJm4+cz8wOm59ZnVuY3Rpb24gVih0LGUsbil7dmFyIHI9KG49T2JqZWN0LmFzc2lnbih7fSx6LG4pKS5jdXJ2ZSxpPXQuem9vbSxhPVt0LmxvbmdpdHVkZSx0LmxhdGl0dWRlXSxvPXgoaSkscz1lLnpvb20sdT1bZS5sb25naXR1ZGUsZS5sYXRpdHVkZV0sYz14KHMtaSksbD1rKGEpLGg9ayh1KSxmPXAuZihbXSxoLGwpLGQ9TWF0aC5tYXgodC53aWR0aCx0LmhlaWdodCksdj1kL2MsZz1wLmIoZikqbyx5PU1hdGgubWF4KGcsLjAxKSxtPXIqcixiPSh2KnYtZCpkK20qbSp5KnkpLygyKmQqbSp5KSxfPSh2KnYtZCpkLW0qbSp5KnkpLygyKnYqbSp5KSxPPU1hdGgubG9nKE1hdGguc3FydChiKmIrMSktYiksdz1NYXRoLmxvZyhNYXRoLnNxcnQoXypfKzEpLV8pO3JldHVybntzdGFydFpvb206aSxzdGFydENlbnRlclhZOmwsdURlbHRhOmYsdzA6ZCx1MTpnLFM6KHctTykvcixyaG86cixyaG8yOm0scjA6TyxyMTp3fX1uLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gRH0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZChlLCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQoZSwibSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZChlLCJsIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBBfSkpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjQ4KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsIm0iLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLCJvIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKDE0KTtmdW5jdGlvbiBpKCl7dmFyIHQ9bmV3IHIuYSgzKTtyZXR1cm4gci5hIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCksdH1mdW5jdGlvbiBhKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9dFsyXTtyZXR1cm4gTWF0aC5oeXBvdChlLG4scil9ZnVuY3Rpb24gbyh0LGUsbil7dmFyIGk9bmV3IHIuYSgzKTtyZXR1cm4gaVswXT10LGlbMV09ZSxpWzJdPW4saX1mdW5jdGlvbiBzKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9bipuK3IqcitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdK3RbMl0qZVsyXX1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1uWzBdLHM9blsxXSx1PW5bMl07cmV0dXJuIHRbMF09aSp1LWEqcyx0WzFdPWEqby1yKnUsdFsyXT1yKnMtaSpvLHR9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89blszXSpyK25bN10qaStuWzExXSphK25bMTVdO3JldHVybiBvPW98fDEsdFswXT0oblswXSpyK25bNF0qaStuWzhdKmErblsxMl0pL28sdFsxXT0oblsxXSpyK25bNV0qaStuWzldKmErblsxM10pL28sdFsyXT0oblsyXSpyK25bNl0qaStuWzEwXSphK25bMTRdKS9vLHR9ZnVuY3Rpb24gaCh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdO3JldHVybiB0WzBdPXIqblswXStpKm5bM10rYSpuWzZdLHRbMV09cipuWzFdK2kqbls0XSthKm5bN10sdFsyXT1yKm5bMl0raSpuWzVdK2Eqbls4XSx0fWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPW5bMF0saT1uWzFdLGE9blsyXSxvPW5bM10scz1lWzBdLHU9ZVsxXSxjPWVbMl0sbD1pKmMtYSp1LGg9YSpzLXIqYyxmPXIqdS1pKnMsZD1pKmYtYSpoLHY9YSpsLXIqZixwPXIqaC1pKmwsZz0yKm87cmV0dXJuIGwqPWcsaCo9ZyxmKj1nLGQqPTIsdio9MixwKj0yLHRbMF09cytsK2QsdFsxXT11K2grdix0WzJdPWMrZitwLHR9ZnVuY3Rpb24gZCh0LGUsbixyKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tblswXSxpWzFdPWVbMV0tblsxXSxpWzJdPWVbMl0tblsyXSxhWzBdPWlbMF0sYVsxXT1pWzFdKk1hdGguY29zKHIpLWlbMl0qTWF0aC5zaW4ociksYVsyXT1pWzFdKk1hdGguc2luKHIpK2lbMl0qTWF0aC5jb3MociksdFswXT1hWzBdK25bMF0sdFsxXT1hWzFdK25bMV0sdFsyXT1hWzJdK25bMl0sdH1mdW5jdGlvbiB2KHQsZSxuLHIpe3ZhciBpPVtdLGE9W107cmV0dXJuIGlbMF09ZVswXS1uWzBdLGlbMV09ZVsxXS1uWzFdLGlbMl09ZVsyXS1uWzJdLGFbMF09aVsyXSpNYXRoLnNpbihyKStpWzBdKk1hdGguY29zKHIpLGFbMV09aVsxXSxhWzJdPWlbMl0qTWF0aC5jb3MociktaVswXSpNYXRoLnNpbihyKSx0WzBdPWFbMF0rblswXSx0WzFdPWFbMV0rblsxXSx0WzJdPWFbMl0rblsyXSx0fWZ1bmN0aW9uIHAodCxlLG4scil7dmFyIGk9W10sYT1bXTtyZXR1cm4gaVswXT1lWzBdLW5bMF0saVsxXT1lWzFdLW5bMV0saVsyXT1lWzJdLW5bMl0sYVswXT1pWzBdKk1hdGguY29zKHIpLWlbMV0qTWF0aC5zaW4ociksYVsxXT1pWzBdKk1hdGguc2luKHIpK2lbMV0qTWF0aC5jb3MociksYVsyXT1pWzJdLHRbMF09YVswXStuWzBdLHRbMV09YVsxXStuWzFdLHRbMl09YVsyXStuWzJdLHR9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuPW8odFswXSx0WzFdLHRbMl0pLHI9byhlWzBdLGVbMV0sZVsyXSk7cyhuLG4pLHMocixyKTt2YXIgaT11KG4scik7cmV0dXJuIGk+MT8wOmk8LTE/TWF0aC5QSTpNYXRoLmFjb3MoaSl9dmFyIHksbT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXS1uWzBdLHRbMV09ZVsxXS1uWzFdLHRbMl09ZVsyXS1uWzJdLHR9LGI9YTt5PWkoKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJnIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciByPW4oMjUpLGk9ZnVuY3Rpb24odCl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdH0sYT1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH0sbz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkodCl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCkmJmEodC50aGVuKX0sdT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLml0ZXJhdG9yXX0sYz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZhKHQubmV4dCl9LGg9ZnVuY3Rpb24odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBSZXNwb25zZSYmdCBpbnN0YW5jZW9mIFJlc3BvbnNlfHx0JiZ0LmFycmF5QnVmZmVyJiZ0LnRleHQmJnQuanNvbn0sZj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlJiZ0IGluc3RhbmNlb2YgRmlsZX0odCl8fGZ1bmN0aW9uKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmdCBpbnN0YW5jZW9mIEJsb2J9KHQpfSxkPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYib2JqZWN0Ij09PU9iamVjdChyLmEpKHQpJiZ0LmlzQnVmZmVyfSx2PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFJlYWRhYmxlU3RyZWFtJiZ0IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW18fG8odCkmJmEodC50ZWUpJiZhKHQuY2FuY2VsKSYmYSh0LmdldFJlYWRlcil9KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmYSh0LnJlYWQpJiZhKHQucGlwZSkmJmkodC5yZWFkYWJsZSl9KHQpfSxwPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmYSh0LmFib3J0KSYmYSh0LmdldFdyaXRlcil9KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmYSh0LmVuZCkmJmEodC53cml0ZSkmJmkodC53cml0YWJsZSl9KHQpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwibyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwibCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDE0KTtmdW5jdGlvbiBpKHQsZSl7aWYodD09PWUpe3ZhciBuPWVbMV0scj1lWzJdLGk9ZVszXSxhPWVbNl0sbz1lWzddLHM9ZVsxMV07dFsxXT1lWzRdLHRbMl09ZVs4XSx0WzNdPWVbMTJdLHRbNF09bix0WzZdPWVbOV0sdFs3XT1lWzEzXSx0WzhdPXIsdFs5XT1hLHRbMTFdPWVbMTRdLHRbMTJdPWksdFsxM109byx0WzE0XT1zfWVsc2UgdFswXT1lWzBdLHRbMV09ZVs0XSx0WzJdPWVbOF0sdFszXT1lWzEyXSx0WzRdPWVbMV0sdFs1XT1lWzVdLHRbNl09ZVs5XSx0WzddPWVbMTNdLHRbOF09ZVsyXSx0WzldPWVbNl0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxNF0sdFsxMl09ZVszXSx0WzEzXT1lWzddLHRbMTRdPWVbMTFdLHRbMTVdPWVbMTVdO3JldHVybiB0fWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89ZVs0XSxzPWVbNV0sdT1lWzZdLGM9ZVs3XSxsPWVbOF0saD1lWzldLGY9ZVsxMF0sZD1lWzExXSx2PWVbMTJdLHA9ZVsxM10sZz1lWzE0XSx5PWVbMTVdLG09bipzLXIqbyxiPW4qdS1pKm8sXz1uKmMtYSpvLE89cip1LWkqcyx4PXIqYy1hKnMsdz1pKmMtYSp1LGs9bCpwLWgqdixTPWwqZy1mKnYsUD1sKnktZCp2LGo9aCpnLWYqcCxUPWgqeS1kKnAsRT1mKnktZCpnLEE9bSpFLWIqVCtfKmorTypQLXgqUyt3Kms7cmV0dXJuIEE/KEE9MS9BLHRbMF09KHMqRS11KlQrYypqKSpBLHRbMV09KGkqVC1yKkUtYSpqKSpBLHRbMl09KHAqdy1nKngreSpPKSpBLHRbM109KGYqeC1oKnctZCpPKSpBLHRbNF09KHUqUC1vKkUtYypTKSpBLHRbNV09KG4qRS1pKlArYSpTKSpBLHRbNl09KGcqXy12KncteSpiKSpBLHRbN109KGwqdy1mKl8rZCpiKSpBLHRbOF09KG8qVC1zKlArYyprKSpBLHRbOV09KHIqUC1uKlQtYSprKSpBLHRbMTBdPSh2KngtcCpfK3kqbSkqQSx0WzExXT0oaCpfLWwqeC1kKm0pKkEsdFsxMl09KHMqUy1vKmotdSprKSpBLHRbMTNdPShuKmotcipTK2kqaykqQSx0WzE0XT0ocCpiLXYqTy1nKm0pKkEsdFsxNV09KGwqTy1oKmIrZiptKSpBLHQpOm51bGx9ZnVuY3Rpb24gbyh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdLGE9dFs0XSxvPXRbNV0scz10WzZdLHU9dFs3XSxjPXRbOF0sbD10WzldLGg9dFsxMF0sZj10WzExXSxkPXRbMTJdLHY9dFsxM10scD10WzE0XSxnPXRbMTVdO3JldHVybihlKm8tbiphKSooaCpnLWYqcCktKGUqcy1yKmEpKihsKmctZip2KSsoZSp1LWkqYSkqKGwqcC1oKnYpKyhuKnMtcipvKSooYypnLWYqZCktKG4qdS1pKm8pKihjKnAtaCpkKSsocip1LWkqcykqKGMqdi1sKmQpfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHA9ZVsxMl0sZz1lWzEzXSx5PWVbMTRdLG09ZVsxNV0sYj1uWzBdLF89blsxXSxPPW5bMl0seD1uWzNdO3JldHVybiB0WzBdPWIqcitfKnMrTypoK3gqcCx0WzFdPWIqaStfKnUrTypmK3gqZyx0WzJdPWIqYStfKmMrTypkK3gqeSx0WzNdPWIqbytfKmwrTyp2K3gqbSxiPW5bNF0sXz1uWzVdLE89bls2XSx4PW5bN10sdFs0XT1iKnIrXypzK08qaCt4KnAsdFs1XT1iKmkrXyp1K08qZit4KmcsdFs2XT1iKmErXypjK08qZCt4KnksdFs3XT1iKm8rXypsK08qdit4Km0sYj1uWzhdLF89bls5XSxPPW5bMTBdLHg9blsxMV0sdFs4XT1iKnIrXypzK08qaCt4KnAsdFs5XT1iKmkrXyp1K08qZit4KmcsdFsxMF09YiphK18qYytPKmQreCp5LHRbMTFdPWIqbytfKmwrTyp2K3gqbSxiPW5bMTJdLF89blsxM10sTz1uWzE0XSx4PW5bMTVdLHRbMTJdPWIqcitfKnMrTypoK3gqcCx0WzEzXT1iKmkrXyp1K08qZit4KmcsdFsxNF09YiphK18qYytPKmQreCp5LHRbMTVdPWIqbytfKmwrTyp2K3gqbSx0fWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwPW5bMF0sZz1uWzFdLHk9blsyXTtyZXR1cm4gZT09PXQ/KHRbMTJdPWVbMF0qcCtlWzRdKmcrZVs4XSp5K2VbMTJdLHRbMTNdPWVbMV0qcCtlWzVdKmcrZVs5XSp5K2VbMTNdLHRbMTRdPWVbMl0qcCtlWzZdKmcrZVsxMF0qeStlWzE0XSx0WzE1XT1lWzNdKnArZVs3XSpnK2VbMTFdKnkrZVsxNV0pOihyPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPWVbOV0sZD1lWzEwXSx2PWVbMTFdLHRbMF09cix0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09Yyx0WzddPWwsdFs4XT1oLHRbOV09Zix0WzEwXT1kLHRbMTFdPXYsdFsxMl09cipwK3MqZytoKnkrZVsxMl0sdFsxM109aSpwK3UqZytmKnkrZVsxM10sdFsxNF09YSpwK2MqZytkKnkrZVsxNF0sdFsxNV09bypwK2wqZyt2KnkrZVsxNV0pLHR9ZnVuY3Rpb24gYyh0LGUsbil7dmFyIHI9blswXSxpPW5bMV0sYT1uWzJdO3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0WzRdPWVbNF0qaSx0WzVdPWVbNV0qaSx0WzZdPWVbNl0qaSx0WzddPWVbN10qaSx0WzhdPWVbOF0qYSx0WzldPWVbOV0qYSx0WzEwXT1lWzEwXSphLHRbMTFdPWVbMTFdKmEsdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH1mdW5jdGlvbiBsKHQsZSxuLGkpe3ZhciBhLG8scyx1LGMsbCxoLGYsZCx2LHAsZyx5LG0sYixfLE8seCx3LGssUyxQLGosVCxFPWlbMF0sQT1pWzFdLE09aVsyXSxDPU1hdGguaHlwb3QoRSxBLE0pO3JldHVybiBDPHIuYj9udWxsOihFKj1DPTEvQyxBKj1DLE0qPUMsYT1NYXRoLnNpbihuKSxzPTEtKG89TWF0aC5jb3MobikpLHU9ZVswXSxjPWVbMV0sbD1lWzJdLGg9ZVszXSxmPWVbNF0sZD1lWzVdLHY9ZVs2XSxwPWVbN10sZz1lWzhdLHk9ZVs5XSxtPWVbMTBdLGI9ZVsxMV0sXz1FKkUqcytvLE89QSpFKnMrTSphLHg9TSpFKnMtQSphLHc9RSpBKnMtTSphLGs9QSpBKnMrbyxTPU0qQSpzK0UqYSxQPUUqTSpzK0EqYSxqPUEqTSpzLUUqYSxUPU0qTSpzK28sdFswXT11Kl8rZipPK2cqeCx0WzFdPWMqXytkKk8reSp4LHRbMl09bCpfK3YqTyttKngsdFszXT1oKl8rcCpPK2IqeCx0WzRdPXUqdytmKmsrZypTLHRbNV09Yyp3K2Qqayt5KlMsdFs2XT1sKncrdiprK20qUyx0WzddPWgqdytwKmsrYipTLHRbOF09dSpQK2YqaitnKlQsdFs5XT1jKlArZCpqK3kqVCx0WzEwXT1sKlArdipqK20qVCx0WzExXT1oKlArcCpqK2IqVCxlIT09dCYmKHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0KX1mdW5jdGlvbiBoKHQsZSxuKXt2YXIgcj1NYXRoLnNpbihuKSxpPU1hdGguY29zKG4pLGE9ZVs0XSxvPWVbNV0scz1lWzZdLHU9ZVs3XSxjPWVbOF0sbD1lWzldLGg9ZVsxMF0sZj1lWzExXTtyZXR1cm4gZSE9PXQmJih0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbNF09YSppK2Mqcix0WzVdPW8qaStsKnIsdFs2XT1zKmkraCpyLHRbN109dSppK2Yqcix0WzhdPWMqaS1hKnIsdFs5XT1sKmktbypyLHRbMTBdPWgqaS1zKnIsdFsxMV09ZippLXUqcix0fWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPU1hdGguc2luKG4pLGk9TWF0aC5jb3MobiksYT1lWzBdLG89ZVsxXSxzPWVbMl0sdT1lWzNdLGM9ZVs4XSxsPWVbOV0saD1lWzEwXSxmPWVbMTFdO3JldHVybiBlIT09dCYmKHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmktYypyLHRbMV09byppLWwqcix0WzJdPXMqaS1oKnIsdFszXT11KmktZipyLHRbOF09YSpyK2MqaSx0WzldPW8qcitsKmksdFsxMF09cypyK2gqaSx0WzExXT11KnIrZippLHR9ZnVuY3Rpb24gZCh0LGUsbil7dmFyIHI9TWF0aC5zaW4obiksaT1NYXRoLmNvcyhuKSxhPWVbMF0sbz1lWzFdLHM9ZVsyXSx1PWVbM10sYz1lWzRdLGw9ZVs1XSxoPWVbNl0sZj1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09YSppK2Mqcix0WzFdPW8qaStsKnIsdFsyXT1zKmkraCpyLHRbM109dSppK2Yqcix0WzRdPWMqaS1hKnIsdFs1XT1sKmktbypyLHRbNl09aCppLXMqcix0WzddPWYqaS11KnIsdH1mdW5jdGlvbiB2KHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9ZVszXSxvPW4rbixzPXIrcix1PWkraSxjPW4qbyxsPXIqbyxoPXIqcyxmPWkqbyxkPWkqcyx2PWkqdSxwPWEqbyxnPWEqcyx5PWEqdTtyZXR1cm4gdFswXT0xLWgtdix0WzFdPWwreSx0WzJdPWYtZyx0WzNdPTAsdFs0XT1sLXksdFs1XT0xLWMtdix0WzZdPWQrcCx0WzddPTAsdFs4XT1mK2csdFs5XT1kLXAsdFsxMF09MS1jLWgsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9ZnVuY3Rpb24gcCh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhuLWUpLHU9MS8oaS1yKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09MiphKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MiphKnUsdFs2XT0wLHRbN109MCx0WzhdPShuK2UpKnMsdFs5XT0oaStyKSp1LHRbMTBdPShvK2EpKmMsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPW8qYSoyKmMsdFsxNV09MCx0fWZ1bmN0aW9uIGcodCxlLG4scixpKXt2YXIgYSxvPTEvTWF0aC50YW4oZS8yKTtyZXR1cm4gdFswXT1vL24sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09byx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTVdPTAsbnVsbCE9aSYmaSE9PTEvMD8oYT0xLyhyLWkpLHRbMTBdPShpK3IpKmEsdFsxNF09MippKnIqYSk6KHRbMTBdPS0xLHRbMTRdPS0yKnIpLHR9ZnVuY3Rpb24geSh0LGUsbixyLGksYSxvKXt2YXIgcz0xLyhlLW4pLHU9MS8oci1pKSxjPTEvKGEtbyk7cmV0dXJuIHRbMF09LTIqcyx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0tMip1LHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0yKmMsdFsxMV09MCx0WzEyXT0oZStuKSpzLHRbMTNdPShpK3IpKnUsdFsxNF09KG8rYSkqYyx0WzE1XT0xLHR9ZnVuY3Rpb24gbSh0LGUsbixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdixwPWVbMF0sZz1lWzFdLHk9ZVsyXSxtPWlbMF0sYj1pWzFdLF89aVsyXSxPPW5bMF0seD1uWzFdLHc9blsyXTtyZXR1cm4gTWF0aC5hYnMocC1PKTxyLmImJk1hdGguYWJzKGcteCk8ci5iJiZNYXRoLmFicyh5LXcpPHIuYj9mdW5jdGlvbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPTEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9KHQpOihoPXAtTyxmPWcteCxkPXktdyxhPWIqKGQqPXY9MS9NYXRoLmh5cG90KGgsZixkKSktXyooZio9diksbz1fKihoKj12KS1tKmQscz1tKmYtYipoLCh2PU1hdGguaHlwb3QoYSxvLHMpKT8oYSo9dj0xL3Ysbyo9dixzKj12KTooYT0wLG89MCxzPTApLHU9ZipzLWQqbyxjPWQqYS1oKnMsbD1oKm8tZiphLCh2PU1hdGguaHlwb3QodSxjLGwpKT8odSo9dj0xL3YsYyo9dixsKj12KToodT0wLGM9MCxsPTApLHRbMF09YSx0WzFdPXUsdFsyXT1oLHRbM109MCx0WzRdPW8sdFs1XT1jLHRbNl09Zix0WzddPTAsdFs4XT1zLHRbOV09bCx0WzEwXT1kLHRbMTFdPTAsdFsxMl09LShhKnArbypnK3MqeSksdFsxM109LSh1KnArYypnK2wqeSksdFsxNF09LShoKnArZipnK2QqeSksdFsxNV09MSx0KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyNjIpKCl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj90LmV4cG9ydHM9bj1mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OnQuZXhwb3J0cz1uPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0sbihlKX10LmV4cG9ydHM9bn0sLCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDApO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP09iamVjdChhcmd1bWVudHNbZV0pOnt9LGk9T2JqZWN0LmtleXMobik7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJihpPWkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpLmVudW1lcmFibGV9KSkpKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmEpKHQsZSxuW2VdKX0pKX1yZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDIzKSxpPXt9O2Z1bmN0aW9uIGEodCl7aT10fWZ1bmN0aW9uIG8odCl7dmFyIGU7ci5hLmxldmVsPjAmJmlbdF0mJihlPWlbdF0pLmNhbGwuYXBwbHkoZSxhcmd1bWVudHMpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPXtOT19TVEFURToiQXdhaXRpbmcgc3RhdGUiLE1BVENIRUQ6Ik1hdGNoZWQuIFN0YXRlIHRyYW5zZmVycmVkIGZyb20gcHJldmlvdXMgbGF5ZXIiLElOSVRJQUxJWkVEOiJJbml0aWFsaXplZCIsQVdBSVRJTkdfR0M6IkRpc2NhcmRlZC4gQXdhaXRpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uIixBV0FJVElOR19GSU5BTElaQVRJT046Ik5vIGxvbmdlciBtYXRjaGVkLiBBd2FpdGluZyBnYXJiYWdlIGNvbGxlY3Rpb24iLEZJTkFMSVpFRDoiRmluYWxpemVkISBBd2FpdGluZyBnYXJiYWdlIGNvbGxlY3Rpb24ifSxpPXtDT01QT05FTlQ6U3ltYm9sLmZvcigiY29tcG9uZW50IiksQVNZTkNfREVGQVVMVFM6U3ltYm9sLmZvcigiYXN5bmNQcm9wRGVmYXVsdHMiKSxBU1lOQ19PUklHSU5BTDpTeW1ib2wuZm9yKCJhc3luY1Byb3BPcmlnaW5hbCIpLEFTWU5DX1JFU09MVkVEOlN5bWJvbC5mb3IoImFzeW5jUHJvcFJlc29sdmVkIil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3KSxvPW4oMTUpLHM9big0NyksdT1uKDE4KSxjPW4oNTIpLGw9big3MiksaD1uKDc2KSxmPW4oOTkpLGQ9bigxMSksdj1uKDE5MikscD1uKDI4KSxnPXtvZmZzZXQ6ImFjY2Vzc29yLm9mZnNldCIsc3RyaWRlOiJhY2Nlc3Nvci5zdHJpZGUiLHR5cGU6ImFjY2Vzc29yLnR5cGUiLHNpemU6ImFjY2Vzc29yLnNpemUiLGRpdmlzb3I6ImFjY2Vzc29yLmRpdmlzb3IiLG5vcm1hbGl6ZWQ6ImFjY2Vzc29yLm5vcm1hbGl6ZWQiLGludGVnZXI6ImFjY2Vzc29yLmludGVnZXIiLGluc3RhbmNlZDoiYWNjZXNzb3IuZGl2aXNvciIsaXNJbnN0YW5jZWQ6ImFjY2Vzc29yLmRpdmlzb3IifSx5PXtyZW1vdmVkUHJvcHM6e30scmVwbGFjZWRQcm9wczp7Ynl0ZXM6ImJ5dGVMZW5ndGgifSxkZXByZWNhdGVkUHJvcHM6Z30sbT17cmVtb3ZlZFByb3BzOmd9LGI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSwobj1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcyx0LGkpKSkuc3R1YlJlbW92ZWRNZXRob2RzKCJCdWZmZXIiLCJ2Ni4wIixbImxheW91dCIsInNldExheW91dCIsImdldEluZGV4ZWRQYXJhbWV0ZXIiXSksbi50YXJnZXQ9aS50YXJnZXR8fChuLmdsLndlYmdsMj8zNjY2MjozNDk2Miksbi5pbml0aWFsaXplKGkpLE9iamVjdC5zZWFsKE9iamVjdChzLmEpKG4pKSxufXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6ImdldEVsZW1lbnRDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5hY2Nlc3NvcjtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmJ5dGVMZW5ndGgvbC5hLmdldEJ5dGVzUGVyRWxlbWVudCh0KSl9fSx7a2V5OiJnZXRWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5hY2Nlc3NvcjtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmJ5dGVMZW5ndGgvbC5hLmdldEJ5dGVzUGVyVmVydGV4KHQpKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJih0PXtkYXRhOnR9KSxOdW1iZXIuaXNGaW5pdGUodCkmJih0PXtieXRlTGVuZ3RoOnR9KSx0PU9iamVjdCh2LmEpKCJCdWZmZXIiLHQseSksdGhpcy51c2FnZT10LnVzYWdlfHwzNTA0NCx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXMuc2V0QWNjZXNzb3IoT2JqZWN0LmFzc2lnbih7fSx0LHQuYWNjZXNzb3IpKSx0LmRhdGE/dGhpcy5fc2V0RGF0YSh0LmRhdGEsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKTp0aGlzLl9zZXRCeXRlTGVuZ3RoKHQuYnl0ZUxlbmd0aHx8MCksdGhpc319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4iYWNjZXNzb3IiaW4odD1PYmplY3Qodi5hKSgiQnVmZmVyIix0LG0pKSYmdGhpcy5zZXRBY2Nlc3Nvcih0LmFjY2Vzc29yKSx0aGlzfX0se2tleToic2V0QWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUodD1PYmplY3QuYXNzaWduKHt9LHQpKS5idWZmZXIsdGhpcy5hY2Nlc3Nvcj1uZXcgbC5hKHQpLHRoaXN9fSx7a2V5OiJyZWFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD50aGlzLmJ5dGVMZW5ndGg/KHRoaXMuX3NldEJ5dGVMZW5ndGgodCksITApOih0aGlzLmJ5dGVzVXNlZD10LCExKX19LHtrZXk6InNldERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluaXRpYWxpemUodCl9fSx7a2V5OiJzdWJEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXtBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJih0PXtkYXRhOnR9KTt2YXIgZT10LG49ZS5kYXRhLHI9ZS5vZmZzZXQsaT12b2lkIDA9PT1yPzA6cixhPWUuc3JjT2Zmc2V0LG89dm9pZCAwPT09YT8wOmEscz10LmJ5dGVMZW5ndGh8fHQubGVuZ3RoO09iamVjdChwLmEpKG4pO3ZhciB1PXRoaXMuZ2wud2ViZ2wyPzM2NjYzOnRoaXMudGFyZ2V0O3JldHVybiB0aGlzLmdsLmJpbmRCdWZmZXIodSx0aGlzLmhhbmRsZSksMCE9PW98fHZvaWQgMCE9PXM/KE9iamVjdChoLmEpKHRoaXMuZ2wpLHRoaXMuZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLnRhcmdldCxpLG4sbyxzKSk6dGhpcy5nbC5idWZmZXJTdWJEYXRhKHUsaSxuKSx0aGlzLmdsLmJpbmRCdWZmZXIodSxudWxsKSx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXMuX2luZmVyVHlwZShuKSx0aGlzfX0se2tleToiY29weURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc291cmNlQnVmZmVyLG49dC5yZWFkT2Zmc2V0LHI9dm9pZCAwPT09bj8wOm4saT10LndyaXRlT2Zmc2V0LGE9dm9pZCAwPT09aT8wOmksbz10LnNpemUscz10aGlzLmdsO3JldHVybiBPYmplY3QoaC5hKShzKSxzLmJpbmRCdWZmZXIoMzY2NjIsZS5oYW5kbGUpLHMuYmluZEJ1ZmZlcigzNjY2Myx0aGlzLmhhbmRsZSkscy5jb3B5QnVmZmVyU3ViRGF0YSgzNjY2MiwzNjY2MyxyLGEsbykscy5iaW5kQnVmZmVyKDM2NjYyLG51bGwpLHMuYmluZEJ1ZmZlcigzNjY2MyxudWxsKSx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXN9fSx7a2V5OiJnZXREYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZHN0RGF0YSxuPXZvaWQgMD09PWU/bnVsbDplLHI9dC5zcmNCeXRlT2Zmc2V0LGk9dm9pZCAwPT09cj8wOnIsYT10LmRzdE9mZnNldCxvPXZvaWQgMD09PWE/MDphLHM9dC5sZW5ndGgsdT12b2lkIDA9PT1zPzA6cztPYmplY3QoaC5hKSh0aGlzLmdsKTt2YXIgYyxsLGQ9T2JqZWN0KGYuYykodGhpcy5hY2Nlc3Nvci50eXBlfHw1MTI2LHtjbGFtcGVkOiExfSksdj10aGlzLl9nZXRBdmFpbGFibGVFbGVtZW50Q291bnQoaSksZz1vO24/Yz0obD1uLmxlbmd0aCktZzpsPWcrKGM9TWF0aC5taW4odix1fHx2KSk7dmFyIHk9TWF0aC5taW4odixjKTtyZXR1cm4gdT11fHx5LE9iamVjdChwLmEpKHU8PXkpLG49bnx8bmV3IGQobCksdGhpcy5nbC5iaW5kQnVmZmVyKDM2NjYyLHRoaXMuaGFuZGxlKSx0aGlzLmdsLmdldEJ1ZmZlclN1YkRhdGEoMzY2NjIsaSxuLG8sdSksdGhpcy5nbC5iaW5kQnVmZmVyKDM2NjYyLG51bGwpLG59fSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQudGFyZ2V0LG49dm9pZCAwPT09ZT90aGlzLnRhcmdldDplLHI9dC5pbmRleCxpPXZvaWQgMD09PXI/dGhpcy5hY2Nlc3NvciYmdGhpcy5hY2Nlc3Nvci5pbmRleDpyLGE9dC5vZmZzZXQsbz12b2lkIDA9PT1hPzA6YSxzPXQuc2l6ZTtyZXR1cm4gMzUzNDU9PT1ufHwzNTk4Mj09PW4/dm9pZCAwIT09cz90aGlzLmdsLmJpbmRCdWZmZXJSYW5nZShuLGksdGhpcy5oYW5kbGUsbyxzKTooT2JqZWN0KHAuYSkoMD09PW8pLHRoaXMuZ2wuYmluZEJ1ZmZlckJhc2UobixpLHRoaXMuaGFuZGxlKSk6dGhpcy5nbC5iaW5kQnVmZmVyKG4sdGhpcy5oYW5kbGUpLHRoaXN9fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC50YXJnZXQsbj12b2lkIDA9PT1lP3RoaXMudGFyZ2V0OmUscj10LmluZGV4LGk9dm9pZCAwPT09cj90aGlzLmFjY2Vzc29yJiZ0aGlzLmFjY2Vzc29yLmluZGV4OnIsYT0zNTM0NT09PW58fDM1OTgyPT09bjtyZXR1cm4gYT90aGlzLmdsLmJpbmRCdWZmZXJCYXNlKG4saSxudWxsKTp0aGlzLmdsLmJpbmRCdWZmZXIobixudWxsKSx0aGlzfX0se2tleToiZ2V0RGVidWdEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlYnVnRGF0YT97ZGF0YTp0aGlzLmRlYnVnRGF0YSxjaGFuZ2VkOiExfToodGhpcy5kZWJ1Z0RhdGE9dGhpcy5nZXREYXRhKHtsZW5ndGg6TWF0aC5taW4oMTAsdGhpcy5ieXRlTGVuZ3RoKX0pLHtkYXRhOnRoaXMuZGVidWdEYXRhLGNoYW5nZWQ6ITB9KX19LHtrZXk6ImludmFsaWRhdGVEZWJ1Z0RhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZWJ1Z0RhdGE9bnVsbH19LHtrZXk6Il9zZXREYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LmJ5dGVMZW5ndGgrZTtPYmplY3QocC5hKShBcnJheUJ1ZmZlci5pc1ZpZXcodCkpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKTt2YXIgcj10aGlzLl9nZXRUYXJnZXQoKTt0aGlzLmdsLmJpbmRCdWZmZXIocix0aGlzLmhhbmRsZSksdGhpcy5nbC5idWZmZXJEYXRhKHIsbix0aGlzLnVzYWdlKSx0aGlzLmdsLmJ1ZmZlclN1YkRhdGEocixlLHQpLHRoaXMuZ2wuYmluZEJ1ZmZlcihyLG51bGwpLHRoaXMuZGVidWdEYXRhPXQuc2xpY2UoMCwxMCksdGhpcy5ieXRlc1VzZWQ9bix0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShuKTt2YXIgaT1PYmplY3QoZi5iKSh0KTtyZXR1cm4gT2JqZWN0KHAuYSkoaSksdGhpcy5zZXRBY2Nlc3NvcihuZXcgbC5hKHRoaXMuYWNjZXNzb3Ise3R5cGU6aX0pKSx0aGlzfX0se2tleToiX3NldEJ5dGVMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnVzYWdlO09iamVjdChwLmEpKHQ+PTApLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKTt2YXIgbj10OzA9PT10JiYobj1uZXcgRmxvYXQzMkFycmF5KDApKTt2YXIgcj10aGlzLl9nZXRUYXJnZXQoKTtyZXR1cm4gdGhpcy5nbC5iaW5kQnVmZmVyKHIsdGhpcy5oYW5kbGUpLHRoaXMuZ2wuYnVmZmVyRGF0YShyLG4sZSksdGhpcy5nbC5iaW5kQnVmZmVyKHIsbnVsbCksdGhpcy51c2FnZT1lLHRoaXMuZGVidWdEYXRhPW51bGwsdGhpcy5ieXRlc1VzZWQ9dCx0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeSh0KSx0aGlzfX0se2tleToiX2dldFRhcmdldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC53ZWJnbDI/MzY2NjM6dGhpcy50YXJnZXR9fSx7a2V5OiJfZ2V0QXZhaWxhYmxlRWxlbWVudENvdW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10L09iamVjdChmLmMpKHRoaXMuYWNjZXNzb3IudHlwZXx8NTEyNix7Y2xhbXBlZDohMX0pLkJZVEVTX1BFUl9FTEVNRU5UO3JldHVybiB0aGlzLmdldEVsZW1lbnRDb3VudCgpLWV9fSx7a2V5OiJfaW5mZXJUeXBlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmFjY2Vzc29yLnR5cGV8fHRoaXMuc2V0QWNjZXNzb3IobmV3IGwuYSh0aGlzLmFjY2Vzc29yLHt0eXBlOk9iamVjdChmLmIpKHQpfSkpfX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKX19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCx0aGlzLmhhbmRsZSk7dmFyIGU9dGhpcy5nbC5nZXRCdWZmZXJQYXJhbWV0ZXIodGhpcy50YXJnZXQsdCk7cmV0dXJuIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCxudWxsKSxlfX0se2tleToic2V0Qnl0ZUxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGQuaC5kZXByZWNhdGVkKCJzZXRCeXRlTGVuZ3RoIiwicmVhbGxvY2F0ZSIpKCksdGhpcy5yZWFsbG9jYXRlKHQpfX0se2tleToidXBkYXRlQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBkLmguZGVwcmVjYXRlZCgidXBkYXRlQWNjZXNzb3IoLi4uKSIsInNldEFjY2Vzc29yKG5ldyBBY2Nlc3NvcihidWZmZXIuYWNjZXNzb3IsIC4uLikiKSgpLHRoaXMuYWNjZXNzb3I9bmV3IGwuYSh0aGlzLmFjY2Vzc29yLHQpLHRoaXN9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oLmRlcHJlY2F0ZWQoIkJ1ZmZlci50eXBlIiwiQnVmZmVyLmFjY2Vzc29yLnR5cGUiKSgpLHRoaXMuYWNjZXNzb3IudHlwZX19LHtrZXk6ImJ5dGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oLmRlcHJlY2F0ZWQoIkJ1ZmZlci5ieXRlcyIsIkJ1ZmZlci5ieXRlTGVuZ3RoIikoKSx0aGlzLmJ5dGVMZW5ndGh9fV0pLGV9KGMuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLCJnIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwiayIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiaiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsIm8iLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIHI9bigxNCk7ZnVuY3Rpb24gaSh0KXt2YXIgZT1uZXcgci5hKDQpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZX1mdW5jdGlvbiBhKHQsZSxuLGkpe3ZhciBhPW5ldyByLmEoNCk7cmV0dXJuIGFbMF09dCxhWzFdPWUsYVsyXT1uLGFbM109aSxhfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9ZnVuY3Rpb24gcyh0LGUsbixyLGkpe3JldHVybiB0WzBdPWUsdFsxXT1uLHRbMl09cix0WzNdPWksdH1mdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdK25bMF0sdFsxXT1lWzFdK25bMV0sdFsyXT1lWzJdK25bMl0sdFszXT1lWzNdK25bM10sdH1mdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm4sdFsyXT1lWzJdKm4sdFszXT1lWzNdKm4sdH1mdW5jdGlvbiBsKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9dFsyXSxpPXRbM107cmV0dXJuIE1hdGguaHlwb3QoZSxuLHIsaSl9ZnVuY3Rpb24gaCh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdO3JldHVybiBlKmUrbipuK3IqcitpKml9ZnVuY3Rpb24gZih0LGUpe3ZhciBuPWVbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1uKm4rcipyK2kqaSthKmE7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobykpLHRbMF09bipvLHRbMV09cipvLHRbMl09aSpvLHRbM109YSpvLHR9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdK3RbMl0qZVsyXSt0WzNdKmVbM119ZnVuY3Rpb24gdih0LGUsbixyKXt2YXIgaT1lWzBdLGE9ZVsxXSxvPWVbMl0scz1lWzNdO3JldHVybiB0WzBdPWkrciooblswXS1pKSx0WzFdPWErciooblsxXS1hKSx0WzJdPW8rciooblsyXS1vKSx0WzNdPXMrciooblszXS1zKSx0fWZ1bmN0aW9uIHAodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM107cmV0dXJuIHRbMF09blswXSpyK25bNF0qaStuWzhdKmErblsxMl0qbyx0WzFdPW5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKm8sdFsyXT1uWzJdKnIrbls2XSppK25bMTBdKmErblsxNF0qbyx0WzNdPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XSpvLHR9ZnVuY3Rpb24gZyh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89blswXSxzPW5bMV0sdT1uWzJdLGM9blszXSxsPWMqcitzKmEtdSppLGg9YyppK3Uqci1vKmEsZj1jKmErbyppLXMqcixkPS1vKnItcyppLXUqYTtyZXR1cm4gdFswXT1sKmMrZCotbytoKi11LWYqLXMsdFsxXT1oKmMrZCotcytmKi1vLWwqLXUsdFsyXT1mKmMrZCotdStsKi1zLWgqLW8sdFszXT1lWzNdLHR9ZnVuY3Rpb24geSh0LGUpe3JldHVybiB0WzBdPT09ZVswXSYmdFsxXT09PWVbMV0mJnRbMl09PT1lWzJdJiZ0WzNdPT09ZVszXX1mdW5jdGlvbiBtKHQsZSl7dmFyIG49dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPWVbMF0sdT1lWzFdLGM9ZVsyXSxsPWVbM107cmV0dXJuIE1hdGguYWJzKG4tcyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoaS11KTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnModSkpJiZNYXRoLmFicyhhLWMpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhjKSkmJk1hdGguYWJzKG8tbCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGwpKX12YXIgYixfO2I9bmV3IHIuYSg0KSxyLmEhPUZsb2F0MzJBcnJheSYmKGJbMF09MCxiWzFdPTAsYlsyXT0wLGJbM109MCksXz1ifSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciByPW4oOTUpLGk9big4KTtmdW5jdGlvbiBhKCl7cmV0dXJuWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdfWZ1bmN0aW9uIG8odCxlKXt2YXIgbj10JWU7cmV0dXJuIG48MD9lK246bn1mdW5jdGlvbiBzKHQpe3ZhciBlPXQudmlld01hdHJpeCxuPXQudmlld01hdHJpeEludmVyc2U7cmV0dXJue2V5ZTpbblsxMl0sblsxM10sblsxNF1dLGRpcmVjdGlvbjpbLWVbMl0sLWVbNl0sLWVbMTBdXSx1cDpbZVsxXSxlWzVdLGVbOV1dLHJpZ2h0OltlWzBdLGVbNF0sZVs4XV19fXZhciB1LGM9bmV3IGkuZCxsPW5ldyBpLmQsaD1uZXcgaS5kLGY9bmV3IGkuZCxkPW5ldyBpLmQsdj1uZXcgaS5kLHA9bmV3IGkuZDtmdW5jdGlvbiBnKHQpe3ZhciBlPXQuYXNwZWN0LG49dC5uZWFyLHI9dC5mYXIsYT10LmZvdnlSYWRpYW5zLG89dC5wb3NpdGlvbixzPXQuZGlyZWN0aW9uLHU9dC51cCxnPXQucmlnaHQ7bC5jb3B5KHMpO3ZhciB5PTEvbC5sZW4oKTtsLm5vcm1hbGl6ZSgpLGMuY29weShvKSxoLmNvcHkodSk7dmFyIG09MS9oLmxlbigpO2gubm9ybWFsaXplKCksZi5jb3B5KGcpLm5vcm1hbGl6ZSgpO3ZhciBiPTIqTWF0aC50YW4oYS8yKSpuKm0sXz1iKmU7ZC5jb3B5KGwpLnNjYWxlKG4qeSkuYWRkKGMpLHYuY29weShsKS5zY2FsZShyKnkpLmFkZChjKTt2YXIgTz1sLmNsb25lKCkubmVnYXRlKCkseD1PLmRvdChkKSx3PXtuZWFyOntkaXN0YW5jZTp4LG5vcm1hbDpPfSxmYXI6e2Rpc3RhbmNlOmwuZG90KHYpLG5vcm1hbDpsLmNsb25lKCl9fTtyZXR1cm4gcC5jb3B5KGYpLnNjYWxlKC41Kl8pLmFkZChkKS5zdWJ0cmFjdChjKS5ub3JtYWxpemUoKSxPPW5ldyBpLmQocCkuY3Jvc3MoaCkseD1jLmRvdChPKSx3LnJpZ2h0PXtub3JtYWw6TyxkaXN0YW5jZTp4fSxwLmNvcHkoZikuc2NhbGUoLjUqLV8pLmFkZChkKS5zdWJ0cmFjdChjKS5ub3JtYWxpemUoKSxPPW5ldyBpLmQoaCkuY3Jvc3MocCkseD1jLmRvdChPKSx3LmxlZnQ9e25vcm1hbDpPLGRpc3RhbmNlOnh9LHAuY29weShoKS5zY2FsZSguNSpiKS5hZGQoZCkuc3VidHJhY3QoYykubm9ybWFsaXplKCksTz1uZXcgaS5kKGYpLmNyb3NzKHApLHg9Yy5kb3QoTyksdy50b3A9e25vcm1hbDpPLGRpc3RhbmNlOnh9LHAuY29weShoKS5zY2FsZSguNSotYikuYWRkKGQpLnN1YnRyYWN0KGMpLm5vcm1hbGl6ZSgpLE89bmV3IGkuZChwKS5jcm9zcyhmKSx4PWMuZG90KE8pLHcuYm90dG9tPXtub3JtYWw6TyxkaXN0YW5jZTp4fSx3fWZ1bmN0aW9uIHkodCl7cmV0dXJuIHQtTWF0aC5mcm91bmQodCl9ZnVuY3Rpb24gbSh0LGUpe3ZhciBuPWUuc2l6ZSxpPXZvaWQgMD09PW4/MTpuLGE9ZS5zdGFydEluZGV4LG89dm9pZCAwPT09YT8wOmEscz1lLmVuZEluZGV4O051bWJlci5pc0Zpbml0ZShzKXx8KHM9dC5sZW5ndGgpO3ZhciBjPShzLW8pL2k7dT1yLmEuYWxsb2NhdGUodSxjLHt0eXBlOkZsb2F0MzJBcnJheSxzaXplOjIqaX0pO2Zvcih2YXIgbD1vLGg9MDtsPHM7KXtmb3IodmFyIGY9MDtmPGk7ZisrKXt2YXIgZD10W2wrK107dVtoK2ZdPWQsdVtoK2YraV09eShkKX1oKz0yKml9cmV0dXJuIHUuc3ViYXJyYXkoMCxjKmkqMil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpe3ZhciBuPVtdLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChvLnZhbHVlKSwhZXx8bi5sZW5ndGghPT1lKTtyPSEwKTt9Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcj1uKDYpLGk9big3KSxhPW4oMTEpLG89bigxNDQpLHM9big3NiksdT1uKDEwNSksYz1uKDExNSksbD1uKDI4KSxoPW4oMjc0KSxmPSJSZXNvdXJjZSBzdWJjbGFzcyBtdXN0IGRlZmluZSB2aXJ0dWFsIG1ldGhvZHMiLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChzLmIpKGUpO3ZhciBpPW4uaWQsYT1uLnVzZXJEYXRhLG89dm9pZCAwPT09YT97fTphO3RoaXMuZ2w9ZSx0aGlzLmlkPWl8fE9iamVjdChjLmMpKHRoaXMuY29uc3RydWN0b3IubmFtZSksdGhpcy51c2VyRGF0YT1vLHRoaXMuX2JvdW5kPSExLHRoaXMuX2hhbmRsZT1uLmhhbmRsZSx2b2lkIDA9PT10aGlzLl9oYW5kbGUmJih0aGlzLl9oYW5kbGU9dGhpcy5fY3JlYXRlSGFuZGxlKCkpLHRoaXMuYnl0ZUxlbmd0aD0wLHRoaXMuX2FkZFN0YXRzKCl9cmV0dXJuIE9iamVjdChpLmEpKHQsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiIiLmNvbmNhdCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIigiKS5jb25jYXQodGhpcy5pZCwiKSIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZGVsZXRlQ2hpbGRyZW4sbj12b2lkIDAhPT1lJiZlLHI9dGhpcy5faGFuZGxlJiZ0aGlzLl9kZWxldGVIYW5kbGUodGhpcy5faGFuZGxlKTtyZXR1cm4gdGhpcy5faGFuZGxlJiZ0aGlzLl9yZW1vdmVTdGF0cygpLHRoaXMuX2hhbmRsZT1udWxsLHImJm4mJnIuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZGVsZXRlKCl9KSksdGhpc319LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5oYW5kbGU7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIGU/KHRoaXMuX2JpbmRIYW5kbGUoZSksdGhpcyk6KHRoaXMuX2JvdW5kP3Q9ZSgpOih0aGlzLl9iaW5kSGFuZGxlKHRoaXMuaGFuZGxlKSx0aGlzLl9ib3VuZD0hMCx0PWUoKSx0aGlzLl9ib3VuZD0hMSx0aGlzLl9iaW5kSGFuZGxlKG51bGwpKSx0KX19LHtrZXk6InVuYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJpbmQobnVsbCl9fSx7a2V5OiJnZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0PU9iamVjdCh1LmIpKHRoaXMuZ2wsdCksT2JqZWN0KGwuYSkodCk7dmFyIG49dGhpcy5jb25zdHJ1Y3Rvci5QQVJBTUVURVJTfHx7fSxyPW5bdF07aWYocil7dmFyIGk9T2JqZWN0KGEuZykodGhpcy5nbCksbz0oISgid2ViZ2wyImluIHIpfHxpKSYmKCEoImV4dGVuc2lvbiJpbiByKXx8dGhpcy5nbC5nZXRFeHRlbnNpb24oci5leHRlbnNpb24pKTtpZighbyl7dmFyIHM9ci53ZWJnbDEsYz0id2ViZ2wyImluIHI/ci53ZWJnbDI6ci53ZWJnbDEsaD1pP2M6cztyZXR1cm4gaH19cmV0dXJuIHRoaXMuX2dldFBhcmFtZXRlcih0LGUpfX0se2tleToiZ2V0UGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT17fSxuPWUucGFyYW1ldGVycyxyPWUua2V5cyxpPXRoaXMuY29uc3RydWN0b3IuUEFSQU1FVEVSU3x8e30sbz1PYmplY3QoYS5nKSh0aGlzLmdsKSxzPXt9LGM9bnx8T2JqZWN0LmtleXMoaSksbD0hMCxoPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGQsdj1jW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWUsZz1pW3BdLHk9ZyYmKCEoIndlYmdsMiJpbiBnKXx8bykmJighKCJleHRlbnNpb24iaW4gZyl8fHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKGcuZXh0ZW5zaW9uKSk7aWYoeSl7dmFyIG09cj9PYmplY3QodS5hKSh0aGlzLmdsLHApOnA7c1ttXT10aGlzLmdldFBhcmFtZXRlcihwLHQpLHImJiJHTGVudW0iPT09Zy50eXBlJiYoc1ttXT1PYmplY3QodS5hKSh0aGlzLmdsLHNbbV0pKX19fWNhdGNoKHQpe2g9ITAsZj10fWZpbmFsbHl7dHJ5e2x8fG51bGw9PXYucmV0dXJufHx2LnJldHVybigpfWZpbmFsbHl7aWYoaCl0aHJvdyBmfX1yZXR1cm4gc319LHtrZXk6InNldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0PU9iamVjdCh1LmIpKHRoaXMuZ2wsdCksT2JqZWN0KGwuYSkodCk7dmFyIG49KHRoaXMuY29uc3RydWN0b3IuUEFSQU1FVEVSU3x8e30pW3RdO2lmKG4pe3ZhciByPU9iamVjdChhLmcpKHRoaXMuZ2wpO2lmKCEoKCEoIndlYmdsMiJpbiBuKXx8cikmJighKCJleHRlbnNpb24iaW4gbil8fHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKG4uZXh0ZW5zaW9uKSkpKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIG5vdCBhdmFpbGFibGUgb24gdGhpcyBwbGF0Zm9ybSIpOyJHTGVudW0iPT09bi50eXBlJiYoZT1PYmplY3QodS5iKShlKSl9cmV0dXJuIHRoaXMuX3NldFBhcmFtZXRlcih0LGUpLHRoaXN9fSx7a2V5OiJzZXRQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0aGlzLnNldFBhcmFtZXRlcihlLHRbZV0pO3JldHVybiB0aGlzfX0se2tleToic3R1YlJlbW92ZWRNZXRob2RzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChoLmEpKHRoaXMsdCxlLG4pfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfZGVsZXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9iaW5kSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9nZXRPcHRzRnJvbUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9zZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKGYpfX0se2tleToiX2NvbnRleHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wubHVtYT10aGlzLmdsLmx1bWF8fHt9LHRoaXMuZ2wubHVtYX19LHtrZXk6Il9hZGRTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLm5hbWUsZT1vLmEuZ2V0KCJSZXNvdXJjZSBDb3VudHMiKTtlLmdldCgiUmVzb3VyY2VzIENyZWF0ZWQiKS5pbmNyZW1lbnRDb3VudCgpLGUuZ2V0KCIiLmNvbmNhdCh0LCJzIENyZWF0ZWQiKSkuaW5jcmVtZW50Q291bnQoKSxlLmdldCgiIi5jb25jYXQodCwicyBBY3RpdmUiKSkuaW5jcmVtZW50Q291bnQoKX19LHtrZXk6Il9yZW1vdmVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLm5hbWU7by5hLmdldCgiUmVzb3VyY2UgQ291bnRzIikuZ2V0KCIiLmNvbmNhdCh0LCJzIEFjdGl2ZSIpKS5kZWNyZW1lbnRDb3VudCgpfX0se2tleToiX3RyYWNrQWxsb2NhdGVkTWVtb3J5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLG49by5hLmdldCgiTWVtb3J5IFVzYWdlIik7bi5nZXQoIkdQVSBNZW1vcnkiKS5hZGRDb3VudCh0KSxuLmdldCgiIi5jb25jYXQoZSwiIE1lbW9yeSIpKS5hZGRDb3VudCh0KSx0aGlzLmJ5dGVMZW5ndGg9dH19LHtrZXk6Il90cmFja0RlYWxsb2NhdGVkTWVtb3J5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmNvbnN0cnVjdG9yLm5hbWUsZT1vLmEuZ2V0KCJNZW1vcnkgVXNhZ2UiKTtlLmdldCgiR1BVIE1lbW9yeSIpLnN1YnRyYWN0Q291bnQodGhpcy5ieXRlTGVuZ3RoKSxlLmdldCgiIi5jb25jYXQodCwiIE1lbW9yeSIpKS5zdWJ0cmFjdENvdW50KHRoaXMuYnl0ZUxlbmd0aCksdGhpcy5ieXRlTGVuZ3RoPTB9fSx7a2V5OiJoYW5kbGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYW5kbGV9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI1NCksaT1uKDI1NSksYT1uKDI1Nik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHQpfHxpKHQpfHxhKCl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDE3Mik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbmV3IHIuYSh0KX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSkodCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKDE5KSxpPW4ubihyKSxhPW4oMSksbz1uLm4oYSkscz1uKDIpLHU9bi5uKHMpLGM9bigyMyksbD1uKDUwKSxoPW4oOCksZj1uKDM5KSxkPW4oMzQpLHY9bigyMikscD1NYXRoLlBJLzE4MCxnPU9iamVjdChsLmEpKCkseT1bMCwwLDBdLG09e3VuaXRzUGVyTWV0ZXI6WzEsMSwxXSxtZXRlcnNQZXJVbml0OlsxLDEsMV19LGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O28oKSh0aGlzLHQpO3ZhciBuPWUuaWQscj12b2lkIDA9PT1uP251bGw6bixpPWUueCxhPXZvaWQgMD09PWk/MDppLHM9ZS55LHU9dm9pZCAwPT09cz8wOnMsYz1lLndpZHRoLGw9dm9pZCAwPT09Yz8xOmMsaD1lLmhlaWdodCxmPXZvaWQgMD09PWg/MTpoO3RoaXMuaWQ9cnx8dGhpcy5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZXx8InZpZXdwb3J0Iix0aGlzLng9YSx0aGlzLnk9dSx0aGlzLndpZHRoPWx8fDEsdGhpcy5oZWlnaHQ9Znx8MSx0aGlzLl9mcnVzdHVtUGxhbmVzPXt9LHRoaXMuX2luaXRWaWV3TWF0cml4KGUpLHRoaXMuX2luaXRQcm9qZWN0aW9uTWF0cml4KGUpLHRoaXMuX2luaXRQaXhlbE1hdHJpY2VzKCksdGhpcy5lcXVhbHM9dGhpcy5lcXVhbHMuYmluZCh0aGlzKSx0aGlzLnByb2plY3Q9dGhpcy5wcm9qZWN0LmJpbmQodGhpcyksdGhpcy51bnByb2plY3Q9dGhpcy51bnByb2plY3QuYmluZCh0aGlzKSx0aGlzLnByb2plY3RQb3NpdGlvbj10aGlzLnByb2plY3RQb3NpdGlvbi5iaW5kKHRoaXMpLHRoaXMudW5wcm9qZWN0UG9zaXRpb249dGhpcy51bnByb2plY3RQb3NpdGlvbi5iaW5kKHRoaXMpLHRoaXMucHJvamVjdEZsYXQ9dGhpcy5wcm9qZWN0RmxhdC5iaW5kKHRoaXMpLHRoaXMudW5wcm9qZWN0RmxhdD10aGlzLnVucHJvamVjdEZsYXQuYmluZCh0aGlzKX1yZXR1cm4gdSgpKHQsW3trZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiYoZS53aWR0aD09PXRoaXMud2lkdGgmJmUuaGVpZ2h0PT09dGhpcy5oZWlnaHQmJmUuc2NhbGU9PT10aGlzLnNjYWxlJiZPYmplY3QoaC5qKShlLnByb2plY3Rpb25NYXRyaXgsdGhpcy5wcm9qZWN0aW9uTWF0cml4KSYmT2JqZWN0KGguaikoZS52aWV3TWF0cml4LHRoaXMudmlld01hdHJpeCkpfX0se2tleToicHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS50b3BMZWZ0LHI9dm9pZCAwPT09bnx8bixhPXRoaXMucHJvamVjdFBvc2l0aW9uKHQpLG89T2JqZWN0KGQubikoYSx0aGlzLnBpeGVsUHJvamVjdGlvbk1hdHJpeCkscz1pKCkobywyKSx1PXNbMF0sYz1zWzFdLGw9cj9jOnRoaXMuaGVpZ2h0LWM7cmV0dXJuIDI9PT10Lmxlbmd0aD9bdSxsXTpbdSxsLG9bMl1dfX0se2tleToidW5wcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGE9ZS50YXJnZXRaLG89aSgpKHQsMykscz1vWzBdLHU9b1sxXSxjPW9bMl0sbD1yP3U6dGhpcy5oZWlnaHQtdSxoPWEmJmEqdGhpcy5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyWzJdLGY9T2JqZWN0KGQubCkoW3MsbCxjXSx0aGlzLnBpeGVsVW5wcm9qZWN0aW9uTWF0cml4LGgpLHY9dGhpcy51bnByb2plY3RQb3NpdGlvbihmKSxwPWkoKSh2LDMpLGc9cFswXSx5PXBbMV0sbT1wWzJdO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoYyk/W2cseSxtXTpOdW1iZXIuaXNGaW5pdGUoYSk/W2cseSxhXTpbZyx5XX19LHtrZXk6InByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0RmxhdCh0KSxuPWkoKShlLDIpO3JldHVybltuWzBdLG5bMV0sKHRbMl18fDApKnRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlclsyXV19fSx7a2V5OiJ1bnByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy51bnByb2plY3RGbGF0KHQpLG49aSgpKGUsMik7cmV0dXJuW25bMF0sblsxXSwodFsyXXx8MCkqdGhpcy5kaXN0YW5jZVNjYWxlcy5tZXRlcnNQZXJVbml0WzJdXX19LHtrZXk6InByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0dlb3NwYXRpYWw/T2JqZWN0KGQuaikodCk6dH19LHtrZXk6InVucHJvamVjdEZsYXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzR2Vvc3BhdGlhbD9PYmplY3QoZC5tKSh0KTp0fX0se2tleToiZ2V0RGlzdGFuY2VTY2FsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7cmV0dXJuIHQ/T2JqZWN0KGQuZSkoe2xvbmdpdHVkZTp0WzBdLGxhdGl0dWRlOnRbMV0saGlnaFByZWNpc2lvbjohMH0pOnRoaXMuZGlzdGFuY2VTY2FsZXN9fSx7a2V5OiJjb250YWluc1BpeGVsIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lngsbj10Lnkscj10LndpZHRoLGk9dm9pZCAwPT09cj8xOnIsYT10LmhlaWdodCxvPXZvaWQgMD09PWE/MTphO3JldHVybiBlPHRoaXMueCt0aGlzLndpZHRoJiZ0aGlzLng8ZStpJiZuPHRoaXMueSt0aGlzLmhlaWdodCYmdGhpcy55PG4rb319LHtrZXk6ImdldEZydXN0dW1QbGFuZXMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fZnJ1c3R1bVBsYW5lcy5uZWFyKXJldHVybiB0aGlzLl9mcnVzdHVtUGxhbmVzO3ZhciB0PXRoaXMucHJvamVjdGlvblByb3BzLGU9dC5uZWFyLG49dC5mYXIscj10LmZvdnlSYWRpYW5zLGk9dC5hc3BlY3Q7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5fZnJ1c3R1bVBsYW5lcyxPYmplY3QobC5kKSh7YXNwZWN0OmksbmVhcjplLGZhcjpuLGZvdnlSYWRpYW5zOnIscG9zaXRpb246dGhpcy5jYW1lcmFQb3NpdGlvbixkaXJlY3Rpb246dGhpcy5jYW1lcmFEaXJlY3Rpb24sdXA6dGhpcy5jYW1lcmFVcCxyaWdodDp0aGlzLmNhbWVyYVJpZ2h0fSkpLHRoaXMuX2ZydXN0dW1QbGFuZXN9fSx7a2V5OiJnZXRDYW1lcmFQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFQb3NpdGlvbn19LHtrZXk6ImdldENhbWVyYURpcmVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFEaXJlY3Rpb259fSx7a2V5OiJnZXRDYW1lcmFVcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW1lcmFVcH19LHtrZXk6Il9jcmVhdGVQcm9qZWN0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lm9ydGhvZ3JhcGhpYyxuPXQuZm92eVJhZGlhbnMscj10LmFzcGVjdCxpPXQuZm9jYWxEaXN0YW5jZSxhPXQubmVhcixvPXQuZmFyO3JldHVybiBlPyhuZXcgaC5hKS5vcnRob2dyYXBoaWMoe2Zvdnk6bixhc3BlY3Q6cixmb2NhbERpc3RhbmNlOmksbmVhcjphLGZhcjpvfSk6KG5ldyBoLmEpLnBlcnNwZWN0aXZlKHtmb3Z5Om4sYXNwZWN0OnIsbmVhcjphLGZhcjpvfSl9fSx7a2V5OiJfaW5pdFZpZXdNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld01hdHJpeCxuPXZvaWQgMD09PWU/ZzplLHI9dC5sb25naXR1ZGUsaT12b2lkIDA9PT1yP251bGw6cixhPXQubGF0aXR1ZGUsbz12b2lkIDA9PT1hP251bGw6YSxzPXQuem9vbSx1PXZvaWQgMD09PXM/bnVsbDpzLGM9dC5wb3NpdGlvbixsPXZvaWQgMD09PWM/bnVsbDpjLGY9dC5tb2RlbE1hdHJpeCx2PXZvaWQgMD09PWY/bnVsbDpmLHA9dC5mb2NhbERpc3RhbmNlLGI9dm9pZCAwPT09cD8xOnAsXz10LmRpc3RhbmNlU2NhbGVzLE89dm9pZCAwPT09Xz9udWxsOl87dGhpcy5pc0dlb3NwYXRpYWw9TnVtYmVyLmlzRmluaXRlKG8pJiZOdW1iZXIuaXNGaW5pdGUoaSksdGhpcy56b29tPXUsTnVtYmVyLmlzRmluaXRlKHRoaXMuem9vbSl8fCh0aGlzLnpvb209dGhpcy5pc0dlb3NwYXRpYWw/T2JqZWN0KGQuZykoe2xhdGl0dWRlOm99KStNYXRoLmxvZzIoYik6MCk7dmFyIHg9TWF0aC5wb3coMix0aGlzLnpvb20pO3RoaXMuc2NhbGU9eCx0aGlzLmRpc3RhbmNlU2NhbGVzPXRoaXMuaXNHZW9zcGF0aWFsP09iamVjdChkLmUpKHtsYXRpdHVkZTpvLGxvbmdpdHVkZTppfSk6T3x8bSx0aGlzLmZvY2FsRGlzdGFuY2U9Yix0aGlzLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXQ9bmV3IGguZCh0aGlzLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXQpLHRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlcj1uZXcgaC5kKHRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlciksdGhpcy5wb3NpdGlvbj15LHRoaXMubWV0ZXJPZmZzZXQ9eSxsJiYodGhpcy5wb3NpdGlvbj1sLHRoaXMubW9kZWxNYXRyaXg9dix0aGlzLm1ldGVyT2Zmc2V0PXY/di50cmFuc2Zvcm1WZWN0b3IobCk6bCksdGhpcy5pc0dlb3NwYXRpYWw/KHRoaXMubG9uZ2l0dWRlPWksdGhpcy5sYXRpdHVkZT1vLHRoaXMuY2VudGVyPXRoaXMuX2dldENlbnRlckluV29ybGQoe2xvbmdpdHVkZTppLGxhdGl0dWRlOm99KSk6dGhpcy5jZW50ZXI9bD90aGlzLnByb2plY3RQb3NpdGlvbihsKTpbMCwwLDBdLHRoaXMudmlld01hdHJpeFVuY2VudGVyZWQ9bix0aGlzLnZpZXdNYXRyaXg9KG5ldyBoLmEpLm11bHRpcGx5UmlnaHQodGhpcy52aWV3TWF0cml4VW5jZW50ZXJlZCkudHJhbnNsYXRlKG5ldyBoLmQodGhpcy5jZW50ZXJ8fHkpLm5lZ2F0ZSgpKX19LHtrZXk6Il9nZXRDZW50ZXJJbldvcmxkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxvbmdpdHVkZSxuPXQubGF0aXR1ZGUscj10aGlzLm1ldGVyT2Zmc2V0LGk9dGhpcy5kaXN0YW5jZVNjYWxlcyxhPXRoaXMucHJvamVjdEZsYXQoW2Usbl0pLG89bmV3IGguZChhWzBdLGFbMV0sMCk7aWYocil7dmFyIHM9bmV3IGguZChyKS5zY2FsZShpLnVuaXRzUGVyTWV0ZXIpO28uYWRkKHMpfXJldHVybiBvfX0se2tleToiX2luaXRQcm9qZWN0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb2plY3Rpb25NYXRyaXgsbj12b2lkIDA9PT1lP251bGw6ZSxyPXQub3J0aG9ncmFwaGljLGk9dm9pZCAwIT09ciYmcixhPXQuZm92eVJhZGlhbnMsbz10LmZvdnkscz12b2lkIDA9PT1vPzc1Om8sdT10Lm5lYXIsYz12b2lkIDA9PT11Py4xOnUsbD10LmZhcixoPXZvaWQgMD09PWw/MWUzOmwsZj10LmZvY2FsRGlzdGFuY2UsZD12b2lkIDA9PT1mPzE6Zjt0aGlzLnByb2plY3Rpb25Qcm9wcz17b3J0aG9ncmFwaGljOmksZm92eVJhZGlhbnM6YXx8cypwLGFzcGVjdDp0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LGZvY2FsRGlzdGFuY2U6ZCxuZWFyOmMsZmFyOmh9LHRoaXMucHJvamVjdGlvbk1hdHJpeD1ufHx0aGlzLl9jcmVhdGVQcm9qZWN0aW9uTWF0cml4KHRoaXMucHJvamVjdGlvblByb3BzKX19LHtrZXk6Il9pbml0UGl4ZWxNYXRyaWNlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QobC5hKSgpO2YuZih0LHQsdGhpcy5wcm9qZWN0aW9uTWF0cml4KSxmLmYodCx0LHRoaXMudmlld01hdHJpeCksdGhpcy52aWV3UHJvamVjdGlvbk1hdHJpeD10LHRoaXMudmlld01hdHJpeEludmVyc2U9Zi5kKFtdLHRoaXMudmlld01hdHJpeCl8fHRoaXMudmlld01hdHJpeDt2YXIgZT1PYmplY3QobC5iKSh7dmlld01hdHJpeDp0aGlzLnZpZXdNYXRyaXgsdmlld01hdHJpeEludmVyc2U6dGhpcy52aWV3TWF0cml4SW52ZXJzZX0pLG49ZS5leWUscj1lLmRpcmVjdGlvbixpPWUudXAsYT1lLnJpZ2h0O3RoaXMuY2FtZXJhUG9zaXRpb249bix0aGlzLmNhbWVyYURpcmVjdGlvbj1yLHRoaXMuY2FtZXJhVXA9aSx0aGlzLmNhbWVyYVJpZ2h0PWE7dmFyIG89T2JqZWN0KGwuYSkoKSxzPU9iamVjdChsLmEpKCk7Zi5tKG8sbyxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSxmLm4obyxvLFsxLC0xLDBdKSxmLmYocyxvLHRoaXMudmlld1Byb2plY3Rpb25NYXRyaXgpLHRoaXMucGl4ZWxQcm9qZWN0aW9uTWF0cml4PXMsdGhpcy52aWV3cG9ydE1hdHJpeD1vLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXg9Zi5kKE9iamVjdChsLmEpKCksdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXgpLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXh8fGMuYS53YXJuKCJQaXhlbCBwcm9qZWN0IG1hdHJpeCBub3QgaW52ZXJ0aWJsZSIpKCl9fSx7a2V5OiJtZXRlcnNQZXJQaXhlbCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdFsyXS90aGlzLnNjYWxlfX0se2tleToicHJvamVjdGlvbk1vZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzR2Vvc3BhdGlhbD90aGlzLnpvb208MTI/di5jLldFQl9NRVJDQVRPUjp2LmMuV0VCX01FUkNBVE9SX0FVVE9fT0ZGU0VUOnYuYy5JREVOVElUWX19XSksdH0oKTtiLmRpc3BsYXlOYW1lPSJWaWV3cG9ydCJ9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LnNvdXJjZSxuPXQudGFyZ2V0LHI9dC5zdGFydCxpPXZvaWQgMD09PXI/MDpyLGE9dC5lbmQsbz10LmdldERhdGE7YT1hfHxuLmxlbmd0aDt2YXIgcz1lLmxlbmd0aCx1PWEtaTtpZihzPnUpbi5zZXQoZS5zdWJhcnJheSgwLHUpLGkpO2Vsc2UgaWYobi5zZXQoZSxpKSxvKWZvcih2YXIgYz1zO2M8dTspZm9yKHZhciBsPW8oYyxlKSxoPTA7aDxsLmxlbmd0aDtoKyspbltpK2NdPWxbaF0sYysrfW4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciBpPXtpbnRlcnBvbGF0aW9uOntkdXJhdGlvbjowLGVhc2luZzpmdW5jdGlvbih0KXtyZXR1cm4gdH19LHNwcmluZzp7c3RpZmZuZXNzOi4wNSxkYW1waW5nOi41fX07ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0PyhOdW1iZXIuaXNGaW5pdGUodCkmJih0PXtkdXJhdGlvbjp0fSksdC50eXBlPXQudHlwZXx8ImludGVycG9sYXRpb24iLE9iamVjdC5hc3NpZ24oe30saVt0LnR5cGVdLGUsdCkpOm51bGx9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBlLmdldEJ1ZmZlcigpP1tlLmdldEJ1ZmZlcigpLHtkaXZpc29yOjAsc2l6ZTplLnNpemUsbm9ybWFsaXplZDplLnNldHRpbmdzLm5vcm1hbGl6ZWR9XTplLnZhbHVlfWZ1bmN0aW9uIHModCl7c3dpdGNoKHQpe2Nhc2UgMTpyZXR1cm4iZmxvYXQiO2Nhc2UgMjpyZXR1cm4idmVjMiI7Y2FzZSAzOnJldHVybiJ2ZWMzIjtjYXNlIDQ6cmV0dXJuInZlYzQiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdObyBkZWZpbmVkIGF0dHJpYnV0ZSB0eXBlIGZvciBzaXplICInLmNvbmNhdCh0LCciJykpfX1mdW5jdGlvbiB1KHQpe3QucHVzaCh0LnNoaWZ0KCkpfWZ1bmN0aW9uIGModCxlKXt2YXIgbj10LmRvdWJsZVByZWNpc2lvbixyPXQuc2V0dGluZ3MsaT10LnZhbHVlLGE9dC5zaXplLG89bj8yOjE7cmV0dXJuKHIubm9BbGxvYz9pLmxlbmd0aDplKmEpKm99ZnVuY3Rpb24gbCh0KXt2YXIgZT10LmJ1ZmZlcixuPXQubnVtSW5zdGFuY2VzLGk9dC5hdHRyaWJ1dGUsYT10LmZyb21MZW5ndGgsbz10LmZyb21TdGFydEluZGljZXMscz10LmdldERhdGEsdT12b2lkIDA9PT1zP2Z1bmN0aW9uKHQpe3JldHVybiB0fTpzLGw9aS5kb3VibGVQcmVjaXNpb24/MjoxLGg9aS5zaXplKmwsZj1pLmJ5dGVPZmZzZXQsZD1pLnN0YXJ0SW5kaWNlcyx2PW8mJmQscD1jKGksbiksZz1pLnN0YXRlLmNvbnN0YW50O2lmKHZ8fCEoYT49cCkpe3ZhciB5PWc/aS52YWx1ZTppLmdldEJ1ZmZlcigpLmdldERhdGEoe3NyY0J5dGVPZmZzZXQ6Zn0pO2lmKGkuc2V0dGluZ3Mubm9ybWFsaXplZCYmIWcpe3ZhciBtPXU7dT1mdW5jdGlvbih0LGUpe3JldHVybiBpLl9ub3JtYWxpemVDb25zdGFudChtKHQsZSkpfX12YXIgYj1nP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHUoeSxlKX06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh5LnN1YmFycmF5KHQsdCtoKSxlKX0sXz1lLmdldERhdGEoe2xlbmd0aDphfSksTz1uZXcgRmxvYXQzMkFycmF5KHApOyFmdW5jdGlvbih0KXt2YXIgZT10LnNvdXJjZSxuPXQudGFyZ2V0LGk9dC5zaXplLGE9dC5nZXREYXRhLG89dC5zb3VyY2VTdGFydEluZGljZXMscz10LnRhcmdldFN0YXJ0SW5kaWNlcztpZighQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gcih7c291cmNlOmUsdGFyZ2V0Om4sZ2V0RGF0YTphfSksbjtmb3IodmFyIHU9MCxjPTAsbD1hJiZmdW5jdGlvbih0LGUpe3JldHVybiBhKHQrYyxlKX0saD1NYXRoLm1pbihvLmxlbmd0aCxzLmxlbmd0aCksZj0xO2Y8aDtmKyspe3ZhciBkPW9bZl0qaSx2PXNbZl0qaTtyKHtzb3VyY2U6ZS5zdWJhcnJheSh1LGQpLHRhcmdldDpuLHN0YXJ0OmMsZW5kOnYsZ2V0RGF0YTpsfSksdT1kLGM9dn1jPG4ubGVuZ3RoJiZyKHtzb3VyY2U6W10sdGFyZ2V0Om4sc3RhcnQ6YyxnZXREYXRhOmx9KX0oe3NvdXJjZTpfLHRhcmdldDpPLHNvdXJjZVN0YXJ0SW5kaWNlczpvLHRhcmdldFN0YXJ0SW5kaWNlczpkLHNpemU6aCxnZXREYXRhOmJ9KSxlLmJ5dGVMZW5ndGg8Ty5ieXRlTGVuZ3RoK2YmJmUucmVhbGxvY2F0ZShPLmJ5dGVMZW5ndGgrZiksZS5zdWJEYXRhKHtkYXRhOk8sb2Zmc2V0OmZ9KX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOCksaT1uKDYpLGE9big3KSxvPW4oMTcpLHM9bigxNSksdT1uKDE4KSxjPW4oMTY3KSxsPW4oMjEpLGg9bigyNyksZj1uKDY3KSxkPW4oODkpLHY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyxlKSx0PU9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHMuYSkoZSkuY2FsbCh0aGlzLDIpKSxPYmplY3QobC5mKShuKSYmMT09PWFyZ3VtZW50cy5sZW5ndGg/dC5jb3B5KG4pOihsLmIuZGVidWcmJihPYmplY3QoaC5hKShuKSxPYmplY3QoaC5hKShyKSksdFswXT1uLHRbMV09ciksdH1yZXR1cm4gT2JqZWN0KHUuYSkoZSx0KSxPYmplY3QoYS5hKShlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT10WzBdLHRoaXNbMV09dFsxXSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJmcm9tT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbC5iLmRlYnVnJiYoT2JqZWN0KGguYSkodC54KSxPYmplY3QoaC5hKSh0LnkpKSx0aGlzWzBdPXQueCx0aGlzWzFdPXQueSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0b09iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQueD10aGlzWzBdLHQueT10aGlzWzFdLHR9fSx7a2V5OiJob3Jpem9udGFsQW5nbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9fSx7a2V5OiJ2ZXJ0aWNhbEFuZ2xlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueCx0aGlzLnkpfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQpfX0se2tleToidHJhbnNmb3JtQXNQb2ludCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQXNWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5hKSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5lKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDJ4MyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZCh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5jKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDJ9fV0pLGV9KGMuYSkscD1uKDE0OCksZz1uKDE5OCkseT1uKDIxOSksbT17RVBTSUxPTjE6LjEsRVBTSUxPTjI6LjAxLEVQU0lMT04zOi4wMDEsRVBTSUxPTjQ6MWUtNCxFUFNJTE9ONToxZS01LEVQU0lMT042OjFlLTYsRVBTSUxPTjc6MWUtNyxFUFNJTE9OODoxZS04LEVQU0lMT045OjFlLTksRVBTSUxPTjEwOjFlLTEwLEVQU0lMT04xMToxZS0xMSxFUFNJTE9OMTI6MWUtMTIsRVBTSUxPTjEzOjFlLTEzLEVQU0lMT04xNDoxZS0xNCxFUFNJTE9OMTU6MWUtMTUsRVBTSUxPTjE2OjFlLTE2LEVQU0lMT04xNzoxZS0xNyxFUFNJTE9OMTg6MWUtMTgsRVBTSUxPTjE5OjFlLTE5LEVQU0lMT04yMDoxZS0yMCxQSV9PVkVSX1RXTzpNYXRoLlBJLzIsUElfT1ZFUl9GT1VSOk1hdGguUEkvNCxQSV9PVkVSX1NJWDpNYXRoLlBJLzYsVFdPX1BJOjIqTWF0aC5QSX0sYj1uKDMxKSxfPW4oMzYpLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5waGkscj1lLnRoZXRhLGE9ZS5yYWRpdXMsbz1lLmJlYXJpbmcscz1lLnBpdGNoLHU9KGUuYWx0aXR1ZGUsZS5yYWRpdXNTY2FsZSksYz12b2lkIDA9PT11PzYzNzFlMzp1O09iamVjdChpLmEpKHRoaXMsdCksMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMucGhpPTAsdGhpcy50aGV0YT0wLHRoaXMucmFkaXVzPTEpOk51bWJlci5pc0Zpbml0ZShuKXx8TnVtYmVyLmlzRmluaXRlKHIpPyh0aGlzLnBoaT1ufHwwLHRoaXMudGhldGE9cnx8MCk6KE51bWJlci5pc0Zpbml0ZShvKXx8TnVtYmVyLmlzRmluaXRlKHMpKSYmKHRoaXMuYmVhcmluZz1vfHwwLHRoaXMucGl0Y2g9c3x8MCksdGhpcy5yYWRpdXM9YXx8MSx0aGlzLnJhZGl1c1NjYWxlPWN8fDEsdGhpcy5jaGVjaygpfXJldHVybiBPYmplY3QoYS5hKSh0LFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtYXRTdHJpbmcobC5iKX19LHtrZXk6ImZvcm1hdFN0cmluZyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcmludFR5cGVzLG49KHQucHJpbnREZWdyZWVzLGwuZSk7cmV0dXJuIiIuY29uY2F0KGU/IlNwaGVyaWNhbCI6IiIsIltyaG86IikuY29uY2F0KG4odGhpcy5yYWRpdXMpLCIsdGhldGE6IikuY29uY2F0KG4odGhpcy50aGV0YSksIixwaGk6IikuY29uY2F0KG4odGhpcy5waGkpLCJdIil9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QobC5kKSh0aGlzLnJhZGl1cyx0LnJhZGl1cykmJk9iamVjdChsLmQpKHRoaXMudGhldGEsdC50aGV0YSkmJk9iamVjdChsLmQpKHRoaXMucGhpLHQucGhpKX19LHtrZXk6ImV4YWN0RXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yYWRpdXM9PT10LnJhZGl1cyYmdGhpcy50aGV0YT09PXQudGhldGEmJnRoaXMucGhpPT09dC5waGl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9dCx0aGlzLnBoaT1lLHRoaXMudGhldGE9bix0aGlzLmNoZWNrKCl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy5waGk9dC5waGksdGhpcy50aGV0YT10LnRoZXRhLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21MbmdMYXRaIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1PYmplY3QoYi5hKSh0LDMpLG49ZVswXSxyPWVbMV0saT1lWzJdO3RoaXMucmFkaXVzPTEraS90aGlzLnJhZGl1c1NjYWxlLHRoaXMucGhpPU9iamVjdChsLmgpKHIpLHRoaXMudGhldGE9T2JqZWN0KGwuaCkobil9fSx7a2V5OiJmcm9tVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmFkaXVzPV8uZyh0KSx0aGlzLnJhZGl1cz4wJiYodGhpcy50aGV0YT1NYXRoLmF0YW4yKHRbMF0sdFsxXSksdGhpcy5waGk9TWF0aC5hY29zKE9iamVjdChsLmEpKHRbMl0vdGhpcy5yYWRpdXMsLTEsMSkpKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0b1ZlY3RvcjMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwLmEoMCwwLHRoaXMucmFkaXVzKS5yb3RhdGVYKHtyYWRpYW5zOnRoaXMudGhldGF9KS5yb3RhdGVaKHtyYWRpYW5zOnRoaXMucGhpfSl9fSx7a2V5OiJtYWtlU2FmZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBoaT1NYXRoLm1heCgxZS02LE1hdGgubWluKE1hdGguUEktMWUtNix0aGlzLnBoaSkpfX0se2tleToiY2hlY2siLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIShOdW1iZXIuaXNGaW5pdGUodGhpcy5waGkpJiZOdW1iZXIuaXNGaW5pdGUodGhpcy50aGV0YSkmJnRoaXMucmFkaXVzPjApKXRocm93IG5ldyBFcnJvcigiU3BoZXJpY2FsQ29vcmRpbmF0ZXM6IHNvbWUgZmllbGRzIHNldCB0byBpbnZhbGlkIG51bWJlcnMiKTtyZXR1cm4gdGhpc319LHtrZXk6ImJlYXJpbmciLGdldDpmdW5jdGlvbigpe3JldHVybiAxODAtT2JqZWN0KGwuYykodGhpcy5waGkpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5waGk9TWF0aC5QSS1PYmplY3QobC5oKSh0KX19LHtrZXk6InBpdGNoIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGwuYykodGhpcy50aGV0YSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRoZXRhPU9iamVjdChsLmgpKHQpfX0se2tleToibG9uZ2l0dWRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGwuYykodGhpcy5waGkpfX0se2tleToibGF0aXR1ZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QobC5jKSh0aGlzLnRoZXRhKX19LHtrZXk6ImxuZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChsLmMpKHRoaXMucGhpKX19LHtrZXk6ImxhdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChsLmMpKHRoaXMudGhldGEpfX0se2tleToieiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMucmFkaXVzLTEpKnRoaXMucmFkaXVzU2NhbGV9fV0pLHR9KCkseD1uKDgzKTtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBwLmF9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnLmF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB5LmF9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiBsLmJ9KSksbi5kKGUsImsiLChmdW5jdGlvbigpe3JldHVybiBsLmZ9KSksbi5kKGUsImoiLChmdW5jdGlvbigpe3JldHVybiBsLmR9KSksbi5kKGUsIm4iLChmdW5jdGlvbigpe3JldHVybiBsLmp9KSksbi5kKGUsIm0iLChmdW5jdGlvbigpe3JldHVybiBsLml9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSksbi5kKGUsImwiLChmdW5jdGlvbigpe3JldHVybiBsLmd9KSksbi5kKGUsImUiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHguYX0pKTt2YXIgdz17c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsd2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3csZ2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWx9Oyh3Lmdsb2JhbHx8dy5zZWxmfHx3LndpbmRvdykubWF0aGdsPXtjb25maWc6ci5pfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMCksaT1uKDk2KTtmdW5jdGlvbiBhKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2EoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qoci5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBzKHQpe2lmKCF0KXJldHVybiExO0FycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pO3ZhciBlPXQucGFyc2VUZXh0U3luY3x8dC5wYXJzZVN5bmN8fHQucGFyc2V8fHQucGFyc2VTdHJlYW18fHQucGFyc2VJbkJhdGNoZXMsbj10Lm9wdGlvbnMmJnQub3B0aW9uc1t0LmlkXTtyZXR1cm4gZT1lfHxuJiZuLndvcmtlclVybH1mdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBPYmplY3QoaS5hKSh0LCJudWxsIGxvYWRlciIpLE9iamVjdChpLmEpKHModCksImludmFsaWQgbG9hZGVyIiksQXJyYXkuaXNBcnJheSh0KSYmKGU9dFsxXSx0PW8oe30sdD10WzBdLHtvcHRpb25zOm8oe30sdC5vcHRpb25zLHt9LGUpfSkpLHQuZXh0ZW5zaW9uJiYodC5leHRlbnNpb25zPXQuZXh0ZW5zaW9uc3x8dC5leHRlbnNpb24sZGVsZXRlIHQuZXh0ZW5zaW9uKSxBcnJheS5pc0FycmF5KHQuZXh0ZW5zaW9ucyl8fCh0LmV4dGVuc2lvbnM9W3QuZXh0ZW5zaW9uc10pLE9iamVjdChpLmEpKHQuZXh0ZW5zaW9ucyYmdC5leHRlbnNpb25zLmxlbmd0aD4wJiZ0LmV4dGVuc2lvbnNbMF0pLHQucGFyc2VUZXh0U3luYyYmKHQudGV4dD0hMCksdC50ZXh0fHwodC5iaW5hcnk9ITApLHR9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIHI9bigxNik7ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuIHRbMF09ZVswXStuWzBdLHRbMV09ZVsxXStuWzFdLHR9ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHR9ZnVuY3Rpb24gbyh0KXt2YXIgZT10WzBdLG49dFsxXTtyZXR1cm4gTWF0aC5oeXBvdChlLG4pfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9ZnVuY3Rpb24gdSh0LGUsbixyKXt2YXIgaT1lWzBdLGE9ZVsxXTtyZXR1cm4gdFswXT1pK3IqKG5bMF0taSksdFsxXT1hK3IqKG5bMV0tYSksdH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrblszXSppK25bNl0sdFsxXT1uWzFdKnIrbls0XSppK25bN10sdH1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrbls0XSppK25bMTJdLHRbMV09blsxXSpyK25bNV0qaStuWzEzXSx0fXZhciBoLGYsZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXS1uWzBdLHRbMV09ZVsxXS1uWzFdLHR9O2g9bmV3IHIuYSgyKSxyLmEhPUZsb2F0MzJBcnJheSYmKGhbMF09MCxoWzFdPTApLGY9aH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsImkiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDE2KTtmdW5jdGlvbiBpKHQsZSxuKXt2YXIgaT1uZXcgci5hKDMpO3JldHVybiBpWzBdPXQsaVsxXT1lLGlbMl09bixpfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdH1mdW5jdGlvbiBvKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1lWzJdLGE9bipuK3IqcitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9ZnVuY3Rpb24gcyh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89blswXSxzPW5bMV0sdT1uWzJdO3JldHVybiB0WzBdPWkqdS1hKnMsdFsxXT1hKm8tcip1LHRbMl09cipzLWkqbyx0fWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XTtyZXR1cm4gbz1vfHwxLHRbMF09KG5bMF0qcituWzRdKmkrbls4XSphK25bMTJdKS9vLHRbMV09KG5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKS9vLHRbMl09KG5bMl0qcituWzZdKmkrblsxMF0qYStuWzE0XSkvbyx0fWZ1bmN0aW9uIGModCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXTtyZXR1cm4gdFswXT1yKm5bMF0raSpuWzNdK2Eqbls2XSx0WzFdPXIqblsxXStpKm5bNF0rYSpuWzddLHRbMl09cipuWzJdK2kqbls1XSthKm5bOF0sdH1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1uWzBdLGk9blsxXSxhPW5bMl0sbz1uWzNdLHM9ZVswXSx1PWVbMV0sYz1lWzJdLGw9aSpjLWEqdSxoPWEqcy1yKmMsZj1yKnUtaSpzLGQ9aSpmLWEqaCx2PWEqbC1yKmYscD1yKmgtaSpsLGc9MipvO3JldHVybiBsKj1nLGgqPWcsZio9ZyxkKj0yLHYqPTIscCo9Mix0WzBdPXMrbCtkLHRbMV09dStoK3YsdFsyXT1jK2YrcCx0fWZ1bmN0aW9uIGgodCxlLG4scil7dmFyIGk9W10sYT1bXTtyZXR1cm4gaVswXT1lWzBdLW5bMF0saVsxXT1lWzFdLW5bMV0saVsyXT1lWzJdLW5bMl0sYVswXT1pWzBdLGFbMV09aVsxXSpNYXRoLmNvcyhyKS1pWzJdKk1hdGguc2luKHIpLGFbMl09aVsxXSpNYXRoLnNpbihyKStpWzJdKk1hdGguY29zKHIpLHRbMF09YVswXStuWzBdLHRbMV09YVsxXStuWzFdLHRbMl09YVsyXStuWzJdLHR9ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tblswXSxpWzFdPWVbMV0tblsxXSxpWzJdPWVbMl0tblsyXSxhWzBdPWlbMl0qTWF0aC5zaW4ocikraVswXSpNYXRoLmNvcyhyKSxhWzFdPWlbMV0sYVsyXT1pWzJdKk1hdGguY29zKHIpLWlbMF0qTWF0aC5zaW4ociksdFswXT1hWzBdK25bMF0sdFsxXT1hWzFdK25bMV0sdFsyXT1hWzJdK25bMl0sdH1mdW5jdGlvbiBkKHQsZSxuLHIpe3ZhciBpPVtdLGE9W107cmV0dXJuIGlbMF09ZVswXS1uWzBdLGlbMV09ZVsxXS1uWzFdLGlbMl09ZVsyXS1uWzJdLGFbMF09aVswXSpNYXRoLmNvcyhyKS1pWzFdKk1hdGguc2luKHIpLGFbMV09aVswXSpNYXRoLnNpbihyKStpWzFdKk1hdGguY29zKHIpLGFbMl09aVsyXSx0WzBdPWFbMF0rblswXSx0WzFdPWFbMV0rblsxXSx0WzJdPWFbMl0rblsyXSx0fWZ1bmN0aW9uIHYodCxlKXt2YXIgbj1pKHRbMF0sdFsxXSx0WzJdKSxyPWkoZVswXSxlWzFdLGVbMl0pO28obixuKSxvKHIscik7dmFyIGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19KG4scik7cmV0dXJuIGE+MT8wOmE8LTE/TWF0aC5QSTpNYXRoLmFjb3MoYSl9dmFyIHAsZztwPW5ldyByLmEoMyksci5hIT1GbG9hdDMyQXJyYXkmJihwWzBdPTAscFsxXT0wLHBbMl09MCksZz1wfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDEzOSksaT1uKDE0MCk7ZnVuY3Rpb24gYSh0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9PU9iamVjdChyLmEpKGUpJiYiZnVuY3Rpb24iIT10eXBlb2YgZT9PYmplY3QoaS5hKSh0KTplfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMjMpO2Z1bmN0aW9uIGkodCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmT2JqZWN0KHIuYSkodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9W10saT1bXTtmdW5jdGlvbiBhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEvMCxhPXIsbz17aW5kZXg6LTEsZGF0YTp0LHRhcmdldDpbXX07cmV0dXJuIHQ/ImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLml0ZXJhdG9yXT9hPXQ6dC5sZW5ndGg+MCYmKGkubGVuZ3RoPXQubGVuZ3RoLGE9aSk6YT1yLChlPjB8fE51bWJlci5pc0Zpbml0ZShuKSkmJihhPShBcnJheS5pc0FycmF5KGEpP2E6QXJyYXkuZnJvbShhKSkuc2xpY2UoZSxuKSxvLmluZGV4PWUtMSkse2l0ZXJhYmxlOmEsb2JqZWN0SW5mbzpvfX1mdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXX1mdW5jdGlvbiBzKHQsZSl7dmFyIG49ZS5zaXplLHI9ZS5zdHJpZGUsaT1lLm9mZnNldCxhPWUuc3RhcnRJbmRpY2VzLG89ZS5uZXN0ZWQscz10LkJZVEVTX1BFUl9FTEVNRU5ULHU9cj9yL3M6bixjPWk/aS9zOjAsbD1NYXRoLmZsb29yKCh0Lmxlbmd0aC1jKS91KTtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgaT1yLmluZGV4LHM9ci50YXJnZXQ7aWYoIWEpe2Zvcih2YXIgaD1pKnUrYyxmPTA7ZjxuO2YrKylzW2ZdPXRbaCtmXTtyZXR1cm4gc312YXIgZCx2PWFbaV0scD1hW2krMV18fGw7aWYobyl7ZD1uZXcgQXJyYXkocC12KTtmb3IodmFyIGc9djtnPHA7ZysrKXt2YXIgeT1nKnUrYztzPW5ldyBBcnJheShuKTtmb3IodmFyIG09MDttPG47bSsrKXNbbV09dFt5K21dO2RbZy12XT1zfX1lbHNlIGlmKHU9PT1uKWQ9dC5zdWJhcnJheSh2Km4rYyxwKm4rYyk7ZWxzZXtkPW5ldyB0LmNvbnN0cnVjdG9yKChwLXYpKm4pO2Zvcih2YXIgYj0wLF89djtfPHA7XysrKWZvcih2YXIgTz1fKnUrYyx4PTA7eDxuO3grKylkW2IrK109dFtPK3hdfXJldHVybiBkfX19LCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNykscz1uKDE4KSx1PW4oNTIpLGM9big0OCksbD1uKDk3KSxoPW4oMTEpLGY9bigzNSksZD1uKDc2KSx2PW4oMTE1KSxwPW4oMjgpLGc9Wzk3MjksOTcyOF0seT1mLmdsb2JhbC5XZWJHTEJ1ZmZlcnx8ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciBvO09iamVjdChyLmEpKHRoaXMsZSk7dmFyIHM9bi5pZCx1PXZvaWQgMD09PXM/T2JqZWN0KHYuYykoInRleHR1cmUiKTpzLGM9bi5oYW5kbGUsbD1uLnRhcmdldDtyZXR1cm4obz1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcyx0LHtpZDp1LGhhbmRsZTpjfSkpKS50YXJnZXQ9bCxvLnRleHR1cmVVbml0PXZvaWQgMCxvLmxvYWRlZD0hMSxvLndpZHRoPXZvaWQgMCxvLmhlaWdodD12b2lkIDAsby5kZXB0aD12b2lkIDAsby5mb3JtYXQ9dm9pZCAwLG8udHlwZT12b2lkIDAsby5kYXRhRm9ybWF0PXZvaWQgMCxvLmJvcmRlcj12b2lkIDAsby50ZXh0dXJlVW5pdD12b2lkIDAsby5taXBtYXBzPXZvaWQgMCxvfXJldHVybiBPYmplY3Qocy5hKShlLHQpLE9iamVjdChvLmEpKGUsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuZm9ybWF0LHI9ZS5saW5lYXJGaWx0ZXJpbmcsaT0hMDtyZXR1cm4gbiYmKGk9KGk9aSYmT2JqZWN0KGwuZCkodCxuKSkmJighcnx8T2JqZWN0KGwuZSkodCxuKSkpLGl9fV0pLE9iamVjdChvLmEpKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJUZXh0dXJlKCIuY29uY2F0KHRoaXMuaWQsIiwiKS5jb25jYXQodGhpcy53aWR0aCwieCIpLmNvbmNhdCh0aGlzLmhlaWdodCwiKSIpfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5kYXRhO2lmKG4gaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiBuLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiB0LmluaXRpYWxpemUoT2JqZWN0LmFzc2lnbih7fSxlLHtwaXhlbHM6bixkYXRhOm59KSl9KSksdGhpczt2YXIgcj1lLnBpeGVscyxpPXZvaWQgMD09PXI/bnVsbDpyLGE9ZS5mb3JtYXQsbz12b2lkIDA9PT1hPzY0MDg6YSxzPWUuYm9yZGVyLHU9dm9pZCAwPT09cz8wOnMsYz1lLnJlY3JlYXRlLGw9dm9pZCAwIT09YyYmYyxmPWUucGFyYW1ldGVycyxkPXZvaWQgMD09PWY/e306Zix2PWUucGl4ZWxTdG9yZSxwPXZvaWQgMD09PXY/e306dixnPWUudGV4dHVyZVVuaXQseT12b2lkIDA9PT1nP3ZvaWQgMDpnLG09ZS5taXBtYXBzLGI9dm9pZCAwPT09bXx8bTtufHwobj1pKTt2YXIgXz1lLndpZHRoLE89ZS5oZWlnaHQseD1lLmRhdGFGb3JtYXQsdz1lLnR5cGUsaz1lLmRlcHRoLFM9dm9pZCAwPT09az8wOmssUD10aGlzLl9kZWR1Y2VQYXJhbWV0ZXJzKHtmb3JtYXQ6byx0eXBlOncsZGF0YUZvcm1hdDp4LGNvbXByZXNzZWQ6ITEsZGF0YTpuLHdpZHRoOl8saGVpZ2h0Ok99KTtyZXR1cm4gXz1QLndpZHRoLE89UC5oZWlnaHQseD1QLmRhdGFGb3JtYXQsdz1QLnR5cGUsdGhpcy53aWR0aD1fLHRoaXMuaGVpZ2h0PU8sdGhpcy5kZXB0aD1TLHRoaXMuZm9ybWF0PW8sdGhpcy50eXBlPXcsdGhpcy5kYXRhRm9ybWF0PXgsdGhpcy5ib3JkZXI9dSx0aGlzLnRleHR1cmVVbml0PXksTnVtYmVyLmlzRmluaXRlKHRoaXMudGV4dHVyZVVuaXQpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKDMzOTg0K3RoaXMudGV4dHVyZVVuaXQpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpKSxiJiZ0aGlzLl9pc05QT1QoKSYmKGguaC53YXJuKCJ0ZXh0dXJlOiAiLmNvbmNhdCh0aGlzLCIgaXMgTm9uLVBvd2VyLU9mLVR3bywgZGlzYWJsaW5nIG1pcG1hcGluZyIpKSgpLGI9ITEsdGhpcy5fdXBkYXRlRm9yTlBPVChkKSksdGhpcy5taXBtYXBzPWIsdGhpcy5zZXRJbWFnZURhdGEoe2RhdGE6bix3aWR0aDpfLGhlaWdodDpPLGRlcHRoOlMsZm9ybWF0Om8sdHlwZTp3LGRhdGFGb3JtYXQ6eCxib3JkZXI6dSxtaXBtYXBzOmIscGFyYW1ldGVyczpwfSksYiYmdGhpcy5nZW5lcmF0ZU1pcG1hcCgpLHRoaXMuc2V0UGFyYW1ldGVycyhkKSxsJiYodGhpcy5kYXRhPW4pLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVpZ2h0LG49dC53aWR0aCxyPXQubWlwbWFwcyxpPXZvaWQgMCE9PXImJnI7cmV0dXJuIG4hPT10aGlzLndpZHRofHxlIT09dGhpcy5oZWlnaHQ/dGhpcy5pbml0aWFsaXplKHt3aWR0aDpuLGhlaWdodDplLGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdCxib3JkZXI6dGhpcy5ib3JkZXIsbWlwbWFwczppfSk6dGhpc319LHtrZXk6ImdlbmVyYXRlTWlwbWFwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuX2lzTlBPVCgpPyhoLmgud2FybigidGV4dHVyZTogIi5jb25jYXQodGhpcywiIGlzIE5vbi1Qb3dlci1PZi1Ud28sIGRpc2FibGluZyBtaXBtYXBpbmciKSkoKSx0aGlzKToodGhpcy5taXBtYXBzPSEwLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChoLmwpKHRoaXMuZ2wsZSwoZnVuY3Rpb24oKXt0LmdsLmdlbmVyYXRlTWlwbWFwKHQudGFyZ2V0KX0pKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LG51bGwpLHRoaXMpfX0se2tleToic2V0SW1hZ2VEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90cmFja0RlYWxsb2NhdGVkTWVtb3J5KCJUZXh0dXJlIik7dmFyIGU9dC50YXJnZXQsbj12b2lkIDA9PT1lP3RoaXMudGFyZ2V0OmUscj10LnBpeGVscyxpPXZvaWQgMD09PXI/bnVsbDpyLGE9dC5sZXZlbCxvPXZvaWQgMD09PWE/MDphLHM9dC5mb3JtYXQsdT12b2lkIDA9PT1zP3RoaXMuZm9ybWF0OnMsYz10LmJvcmRlcixmPXZvaWQgMD09PWM/dGhpcy5ib3JkZXI6Yyx2PXQub2Zmc2V0LGc9dm9pZCAwPT09dj8wOnYseT10LnBhcmFtZXRlcnMsbT12b2lkIDA9PT15P3t9OnksYj10LmRhdGEsXz12b2lkIDA9PT1iP251bGw6YixPPXQudHlwZSx4PXZvaWQgMD09PU8/dGhpcy50eXBlOk8sdz10LndpZHRoLGs9dm9pZCAwPT09dz90aGlzLndpZHRoOncsUz10LmhlaWdodCxQPXZvaWQgMD09PVM/dGhpcy5oZWlnaHQ6UyxqPXQuZGF0YUZvcm1hdCxUPXZvaWQgMD09PWo/dGhpcy5kYXRhRm9ybWF0OmosRT10LmNvbXByZXNzZWQsQT12b2lkIDAhPT1FJiZFO198fChfPWkpO3ZhciBNPXRoaXMuX2RlZHVjZVBhcmFtZXRlcnMoe2Zvcm1hdDp1LHR5cGU6eCxkYXRhRm9ybWF0OlQsY29tcHJlc3NlZDpBLGRhdGE6Xyx3aWR0aDprLGhlaWdodDpQfSk7eD1NLnR5cGUsVD1NLmRhdGFGb3JtYXQsQT1NLmNvbXByZXNzZWQsaz1NLndpZHRoLFA9TS5oZWlnaHQ7dmFyIEM9dGhpcy5nbDtDLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKTt2YXIgTCxJPXRoaXMuX2dldERhdGFUeXBlKHtkYXRhOl8sY29tcHJlc3NlZDpBfSk7aWYoXz1JLmRhdGEsTD1JLmRhdGFUeXBlLE9iamVjdChoLmwpKHRoaXMuZ2wsbSwoZnVuY3Rpb24oKXtzd2l0Y2goTCl7Y2FzZSJudWxsIjpDLnRleEltYWdlMkQobixvLHUsayxQLGYsVCx4LF8pO2JyZWFrO2Nhc2UidHlwZWQtYXJyYXkiOkMudGV4SW1hZ2UyRChuLG8sdSxrLFAsZixULHgsXyxnKTticmVhaztjYXNlImJ1ZmZlciI6T2JqZWN0KGQuYSkoQyksQy5iaW5kQnVmZmVyKDM1MDUyLF8uaGFuZGxlfHxfKSxDLnRleEltYWdlMkQobixvLHUsayxQLGYsVCx4LGcpLEMuYmluZEJ1ZmZlcigzNTA1MixudWxsKTticmVhaztjYXNlImJyb3dzZXItb2JqZWN0IjpPYmplY3QoaC5nKShDKT9DLnRleEltYWdlMkQobixvLHUsayxQLGYsVCx4LF8pOkMudGV4SW1hZ2UyRChuLG8sdSxULHgsXyk7YnJlYWs7Y2FzZSJjb21wcmVzc2VkIjpDLmNvbXByZXNzZWRUZXhJbWFnZTJEKG4sbyx1LGssUCxmLF8pO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KHAuYSkoITEsIlVua25vd24gaW1hZ2UgZGF0YSB0eXBlIil9fSkpLF8mJl8uYnl0ZUxlbmd0aCl0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShfLmJ5dGVMZW5ndGgsIlRleHR1cmUiKTtlbHNle3ZhciBSPWwuYVt0aGlzLmRhdGFGb3JtYXRdfHw0LE49bC5jW3RoaXMudHlwZV18fDE7dGhpcy5fdHJhY2tBbGxvY2F0ZWRNZW1vcnkodGhpcy53aWR0aCp0aGlzLmhlaWdodCpSKk4sIlRleHR1cmUiKX1yZXR1cm4gdGhpcy5sb2FkZWQ9ITAsdGhpc319LHtrZXk6InNldFN1YkltYWdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQudGFyZ2V0LHI9dm9pZCAwPT09bj90aGlzLnRhcmdldDpuLGk9dC5waXhlbHMsYT12b2lkIDA9PT1pP251bGw6aSxvPXQuZGF0YSxzPXZvaWQgMD09PW8/bnVsbDpvLHU9dC54LGw9dm9pZCAwPT09dT8wOnUsZj10Lnksdj12b2lkIDA9PT1mPzA6ZixnPXQud2lkdGgsbT12b2lkIDA9PT1nP3RoaXMud2lkdGg6ZyxiPXQuaGVpZ2h0LF89dm9pZCAwPT09Yj90aGlzLmhlaWdodDpiLE89dC5sZXZlbCx4PXZvaWQgMD09PU8/MDpPLHc9dC5mb3JtYXQsaz12b2lkIDA9PT13P3RoaXMuZm9ybWF0OncsUz10LnR5cGUsUD12b2lkIDA9PT1TP3RoaXMudHlwZTpTLGo9dC5kYXRhRm9ybWF0LFQ9dm9pZCAwPT09aj90aGlzLmRhdGFGb3JtYXQ6aixFPXQuY29tcHJlc3NlZCxBPXZvaWQgMCE9PUUmJkUsTT10Lm9mZnNldCxDPXZvaWQgMD09PU0/MDpNLEw9dC5ib3JkZXIsST0odm9pZCAwPT09TCYmdGhpcy5ib3JkZXIsdC5wYXJhbWV0ZXJzKSxSPXZvaWQgMD09PUk/e306SSxOPXRoaXMuX2RlZHVjZVBhcmFtZXRlcnMoe2Zvcm1hdDprLHR5cGU6UCxkYXRhRm9ybWF0OlQsY29tcHJlc3NlZDpBLGRhdGE6cyx3aWR0aDptLGhlaWdodDpffSk7aWYoUD1OLnR5cGUsVD1OLmRhdGFGb3JtYXQsQT1OLmNvbXByZXNzZWQsbT1OLndpZHRoLF89Ti5oZWlnaHQsT2JqZWN0KHAuYSkoMD09PXRoaXMuZGVwdGgsInRleFN1YkltYWdlIG5vdCBzdXBwb3J0ZWQgZm9yIDNEIHRleHR1cmVzIiksc3x8KHM9YSkscyYmcy5kYXRhKXt2YXIgRD1zO3M9RC5kYXRhLG09RC5zaGFwZVswXSxfPUQuc2hhcGVbMV19cyBpbnN0YW5jZW9mIGMuYSYmKHM9cy5oYW5kbGUpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChoLmwpKHRoaXMuZ2wsUiwoZnVuY3Rpb24oKXtBP2UuZ2wuY29tcHJlc3NlZFRleFN1YkltYWdlMkQocix4LGwsdixtLF8sayxzKTpudWxsPT09cz9lLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLG51bGwpOkFycmF5QnVmZmVyLmlzVmlldyhzKT9lLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLHMsQyk6cyBpbnN0YW5jZW9mIHk/KE9iamVjdChkLmEpKGUuZ2wpLGUuZ2wuYmluZEJ1ZmZlcigzNTA1MixzKSxlLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLEMpLGUuZ2wuYmluZEJ1ZmZlcigzNTA1MixudWxsKSk6T2JqZWN0KGguZykoZS5nbCk/ZS5nbC50ZXhTdWJJbWFnZTJEKHIseCxsLHYsbSxfLFQsUCxzKTplLmdsLnRleFN1YkltYWdlMkQocix4LGwsdixULFAscyl9KSksdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCxudWxsKX19LHtrZXk6ImNvcHlGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBoLmguZXJyb3IoIlRleHR1cmUuY29weUZyYW1lYnVmZmVyKHsuLi59KSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvVGV4dHVyZShzb3VyY2UsIHRhcmdldCwgb3B0c30pIikoKSxudWxsfX0se2tleToiZ2V0QWN0aXZlVW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIoMzQwMTYpLTMzOTg0fX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy50ZXh0dXJlVW5pdCxlPXRoaXMuZ2w7cmV0dXJuIHZvaWQgMCE9PXQmJih0aGlzLnRleHR1cmVVbml0PXQsZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3QpKSxlLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKSx0fX0se2tleToidW5iaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnRleHR1cmVVbml0LGU9dGhpcy5nbDtyZXR1cm4gdm9pZCAwIT09dCYmKHRoaXMudGV4dHVyZVVuaXQ9dCxlLmFjdGl2ZVRleHR1cmUoMzM5ODQrdCkpLGUuYmluZFRleHR1cmUodGhpcy50YXJnZXQsbnVsbCksdH19LHtrZXk6Il9nZXREYXRhVHlwZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhLG49dC5jb21wcmVzc2VkO3JldHVybiB2b2lkIDAhPT1uJiZuP3tkYXRhOmUsZGF0YVR5cGU6ImNvbXByZXNzZWQifTpudWxsPT09ZT97ZGF0YTplLGRhdGFUeXBlOiJudWxsIn06QXJyYXlCdWZmZXIuaXNWaWV3KGUpP3tkYXRhOmUsZGF0YVR5cGU6InR5cGVkLWFycmF5In06ZSBpbnN0YW5jZW9mIGMuYT97ZGF0YTplLmhhbmRsZSxkYXRhVHlwZToiYnVmZmVyIn06ZSBpbnN0YW5jZW9mIHk/e2RhdGE6ZSxkYXRhVHlwZToiYnVmZmVyIn06e2RhdGE6ZSxkYXRhVHlwZToiYnJvd3Nlci1vYmplY3QifX19LHtrZXk6Il9kZWR1Y2VQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmZvcm1hdCxuPXQuZGF0YSxyPXQud2lkdGgsaT10LmhlaWdodCxhPXQuZGF0YUZvcm1hdCxvPXQudHlwZSxzPXQuY29tcHJlc3NlZCx1PWwuYltlXTthPWF8fHUmJnUuZGF0YUZvcm1hdCxvPW98fHUmJnUudHlwZXNbMF0scz1zfHx1JiZ1LmNvbXByZXNzZWQ7dmFyIGM9dGhpcy5fZGVkdWNlSW1hZ2VTaXplKG4scixpKTtyZXR1cm57ZGF0YUZvcm1hdDphLHR5cGU6byxjb21wcmVzc2VkOnMsd2lkdGg6cj1jLndpZHRoLGhlaWdodDppPWMuaGVpZ2h0LGZvcm1hdDplLGRhdGE6bn19fSx7a2V5OiJfZGVkdWNlSW1hZ2VTaXplIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBJbWFnZURhdGEmJnQgaW5zdGFuY2VvZiBJbWFnZURhdGE/e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P3t3aWR0aDp0Lm5hdHVyYWxXaWR0aCxoZWlnaHQ6dC5uYXR1cmFsSGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3t3aWR0aDp0LnZpZGVvV2lkdGgsaGVpZ2h0OnQudmlkZW9IZWlnaHR9OnQ/e3dpZHRoOmUsaGVpZ2h0Om59Ont3aWR0aDplPj0wP2U6MSxoZWlnaHQ6bj49MD9uOjF9LE9iamVjdChwLmEpKHIsIkNvdWxkIG5vdCBkZWR1Y2VkIHRleHR1cmUgc2l6ZSIpLE9iamVjdChwLmEpKHZvaWQgMD09PWV8fHIud2lkdGg9PT1lLCJEZWR1Y2VkIHRleHR1cmUgd2lkdGggZG9lcyBub3QgbWF0Y2ggc3VwcGxpZWQgd2lkdGgiKSxPYmplY3QocC5hKSh2b2lkIDA9PT1ufHxyLmhlaWdodD09PW4sIkRlZHVjZWQgdGV4dHVyZSBoZWlnaHQgZG9lcyBub3QgbWF0Y2ggc3VwcGxpZWQgaGVpZ2h0Iikscn19LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoIlRleHR1cmUiKX19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDQwOTY6cmV0dXJuIHRoaXMud2lkdGg7Y2FzZSA0MDk3OnJldHVybiB0aGlzLmhlaWdodDtkZWZhdWx0OnRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpO3ZhciBlPXRoaXMuZ2wuZ2V0VGV4UGFyYW1ldGVyKHRoaXMudGFyZ2V0LHQpO3JldHVybiB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LG51bGwpLGV9fX0se2tleToiX3NldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtzd2l0Y2godGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCx0aGlzLmhhbmRsZSksZT10aGlzLl9nZXROUE9UUGFyYW0odCxlKSx0KXtjYXNlIDMzMDgyOmNhc2UgMzMwODM6dGhpcy5nbC50ZXhQYXJhbWV0ZXJmKHRoaXMuaGFuZGxlLHQsZSk7YnJlYWs7Y2FzZSA0MDk2OmNhc2UgNDA5NzpPYmplY3QocC5hKSghMSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy50YXJnZXQsdCxlKX1yZXR1cm4gdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCxudWxsKSx0aGlzfX0se2tleToiX2lzTlBPVCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KGguZykodGhpcy5nbCkmJighKCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHQpJiYoIU9iamVjdCh2LmIpKHRoaXMud2lkdGgpfHwhT2JqZWN0KHYuYikodGhpcy5oZWlnaHQpKSl9fSx7a2V5OiJfdXBkYXRlRm9yTlBPVCIsdmFsdWU6ZnVuY3Rpb24odCl7dm9pZCAwPT09dFt0aGlzLmdsLlRFWFRVUkVfTUlOX0ZJTFRFUl0mJih0W3RoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSXT10aGlzLmdsLkxJTkVBUiksdm9pZCAwPT09dFt0aGlzLmdsLlRFWFRVUkVfV1JBUF9TXSYmKHRbdGhpcy5nbC5URVhUVVJFX1dSQVBfU109dGhpcy5nbC5DTEFNUF9UT19FREdFKSx2b2lkIDA9PT10W3RoaXMuZ2wuVEVYVFVSRV9XUkFQX1RdJiYodFt0aGlzLmdsLlRFWFRVUkVfV1JBUF9UXT10aGlzLmdsLkNMQU1QX1RPX0VER0UpfX0se2tleToiX2dldE5QT1RQYXJhbSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pc05QT1QoKSlzd2l0Y2godCl7Y2FzZSAxMDI0MTotMT09PWcuaW5kZXhPZihlKSYmKGU9OTcyOSk7YnJlYWs7Y2FzZSAxMDI0MjpjYXNlIDEwMjQzOjMzMDcxIT09ZSYmKGU9MzMwNzEpfXJldHVybiBlfX1dKSxlfSh1LmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImYiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oMTQpO2Z1bmN0aW9uIGkodCxlLG4pe3JldHVybiB0WzBdPWVbMF0rblswXSx0WzFdPWVbMV0rblsxXSx0fWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9ZnVuY3Rpb24gbyh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV07cmV0dXJuIHRbMF09blswXSpyK25bMl0qaSx0WzFdPW5bMV0qcituWzNdKmksdH1mdW5jdGlvbiBzKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrblsyXSppK25bNF0sdFsxXT1uWzFdKnIrblszXSppK25bNV0sdH1mdW5jdGlvbiB1KHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrblszXSppK25bNl0sdFsxXT1uWzFdKnIrbls0XSppK25bN10sdH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKnIrbls0XSppK25bMTJdLHRbMV09blsxXSpyK25bNV0qaStuWzEzXSx0fXZhciBsLGg7bD1uZXcgci5hKDIpLHIuYSE9RmxvYXQzMkFycmF5JiYobFswXT0wLGxbMV09MCksaD1sfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImgiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTQpO2Z1bmN0aW9uIGkoKXt2YXIgdD1uZXcgci5hKDkpO3JldHVybiByLmEhPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNV09MCx0WzZdPTAsdFs3XT0wKSx0WzBdPTEsdFs0XT0xLHRbOF09MSx0fWZ1bmN0aW9uIGEodCxlKXtpZih0PT09ZSl7dmFyIG49ZVsxXSxyPWVbMl0saT1lWzVdO3RbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1uLHRbNV09ZVs3XSx0WzZdPXIsdFs3XT1pfWVsc2UgdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF07cmV0dXJuIHR9ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPWVbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1lWzRdLHM9ZVs1XSx1PWVbNl0sYz1lWzddLGw9ZVs4XSxoPWwqby1zKmMsZj0tbCphK3MqdSxkPWMqYS1vKnUsdj1uKmgrcipmK2kqZDtyZXR1cm4gdj8odj0xL3YsdFswXT1oKnYsdFsxXT0oLWwqcitpKmMpKnYsdFsyXT0ocypyLWkqbykqdix0WzNdPWYqdix0WzRdPShsKm4taSp1KSp2LHRbNV09KC1zKm4raSphKSp2LHRbNl09ZCp2LHRbN109KC1jKm4rcip1KSp2LHRbOF09KG8qbi1yKmEpKnYsdCk6bnVsbH1mdW5jdGlvbiBzKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9dFsyXSxpPXRbM10sYT10WzRdLG89dFs1XSxzPXRbNl0sdT10WzddLGM9dFs4XTtyZXR1cm4gZSooYyphLW8qdSkrbiooLWMqaStvKnMpK3IqKHUqaS1hKnMpfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPW5bMF0sZD1uWzFdLHY9blsyXSxwPW5bM10sZz1uWzRdLHk9bls1XSxtPW5bNl0sYj1uWzddLF89bls4XTtyZXR1cm4gdFswXT1mKnIrZCpvK3YqYyx0WzFdPWYqaStkKnMrdipsLHRbMl09ZiphK2QqdSt2KmgsdFszXT1wKnIrZypvK3kqYyx0WzRdPXAqaStnKnMreSpsLHRbNV09cCphK2cqdSt5KmgsdFs2XT1tKnIrYipvK18qYyx0WzddPW0qaStiKnMrXypsLHRbOF09bSphK2IqdStfKmgsdH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sYz1lWzZdLGw9ZVs3XSxoPWVbOF0sZj1uWzBdLGQ9blsxXTtyZXR1cm4gdFswXT1yLHRbMV09aSx0WzJdPWEsdFszXT1vLHRbNF09cyx0WzVdPXUsdFs2XT1mKnIrZCpvK2MsdFs3XT1mKmkrZCpzK2wsdFs4XT1mKmErZCp1K2gsdH1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sYz1lWzZdLGw9ZVs3XSxoPWVbOF0sZj1NYXRoLnNpbihuKSxkPU1hdGguY29zKG4pO3JldHVybiB0WzBdPWQqcitmKm8sdFsxXT1kKmkrZipzLHRbMl09ZCphK2YqdSx0WzNdPWQqby1mKnIsdFs0XT1kKnMtZippLHRbNV09ZCp1LWYqYSx0WzZdPWMsdFs3XT1sLHRbOF09aCx0fWZ1bmN0aW9uIGgodCxlLG4pe3ZhciByPW5bMF0saT1uWzFdO3JldHVybiB0WzBdPXIqZVswXSx0WzFdPXIqZVsxXSx0WzJdPXIqZVsyXSx0WzNdPWkqZVszXSx0WzRdPWkqZVs0XSx0WzVdPWkqZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0fWZ1bmN0aW9uIGYodCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89bituLHM9cityLHU9aStpLGM9bipvLGw9cipvLGg9cipzLGY9aSpvLGQ9aSpzLHY9aSp1LHA9YSpvLGc9YSpzLHk9YSp1O3JldHVybiB0WzBdPTEtaC12LHRbM109bC15LHRbNl09ZitnLHRbMV09bCt5LHRbNF09MS1jLXYsdFs3XT1kLXAsdFsyXT1mLWcsdFs1XT1kK3AsdFs4XT0xLWMtaCx0fX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMjUpLGk9e3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGRvY3VtZW50OiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LHByb2Nlc3M6Im9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChyLmEpKHByb2Nlc3MpKSYmcHJvY2Vzc30sYT1pLndpbmRvd3x8aS5zZWxmfHxpLmdsb2JhbCxvPWkucHJvY2Vzc3x8e307Y29uc29sZX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9big0NCksaT1uKDYpLGE9big3KSxvPW4oMTE1KSxzPW4oMjgpLHU9e1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChpLmEpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KG8uYykoImdlb21ldHJ5Iik6bixhPWUuZHJhd01vZGUscz12b2lkIDA9PT1hP3UuVFJJQU5HTEVTOmEsYz1lLmF0dHJpYnV0ZXMsbD12b2lkIDA9PT1jP3t9OmMsaD1lLmluZGljZXMsZj12b2lkIDA9PT1oP251bGw6aCxkPWUudmVydGV4Q291bnQsdj12b2lkIDA9PT1kP251bGw6ZDt0aGlzLmlkPXIsdGhpcy5kcmF3TW9kZT0wfHMsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMudXNlckRhdGE9e30sdGhpcy5fc2V0QXR0cmlidXRlcyhsLGYpLHRoaXMudmVydGV4Q291bnQ9dnx8dGhpcy5fY2FsY3VsYXRlVmVydGV4Q291bnQodGhpcy5hdHRyaWJ1dGVzLHRoaXMuaW5kaWNlcyl9cmV0dXJuIE9iamVjdChhLmEpKHQsbnVsbCxbe2tleToiRFJBV19NT0RFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19XSksT2JqZWN0KGEuYSkodCxbe2tleToiZ2V0VmVydGV4Q291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGV4Q291bnR9fSx7a2V5OiJnZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXM/T2JqZWN0KHIuYSkoe2luZGljZXM6dGhpcy5pbmRpY2VzfSx0aGlzLmF0dHJpYnV0ZXMpOnRoaXMuYXR0cmlidXRlc319LHtrZXk6Il9wcmludCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIkdlb21ldHJ5ICIuY29uY2F0KHRoaXMuaWQsIiBhdHRyaWJ1dGUgIikuY29uY2F0KHQpfX0se2tleToiX3NldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUmJih0aGlzLmluZGljZXM9QXJyYXlCdWZmZXIuaXNWaWV3KGUpP3t2YWx1ZTplLHNpemU6MX06ZSksdCl7dmFyIHI9dFtuXTtyPUFycmF5QnVmZmVyLmlzVmlldyhyKT97dmFsdWU6cn06cixPYmplY3Qocy5hKShBcnJheUJ1ZmZlci5pc1ZpZXcoci52YWx1ZSksIiIuY29uY2F0KHRoaXMuX3ByaW50KG4pLCI6IG11c3QgYmUgdHlwZWQgYXJyYXkgb3Igb2JqZWN0IHdpdGggdmFsdWUgYXMgdHlwZWQgYXJyYXkiKSksIlBPU0lUSU9OIiE9PW4mJiJwb3NpdGlvbnMiIT09bnx8ci5zaXplfHwoci5zaXplPTMpLCJpbmRpY2VzIj09PW4/KE9iamVjdChzLmEpKCF0aGlzLmluZGljZXMpLHRoaXMuaW5kaWNlcz1yKTp0aGlzLmF0dHJpYnV0ZXNbbl09cn1yZXR1cm4gdGhpcy5pbmRpY2VzJiZ2b2lkIDAhPT10aGlzLmluZGljZXMuaXNJbmRleGVkJiYodGhpcy5pbmRpY2VzPU9iamVjdC5hc3NpZ24oe30sdGhpcy5pbmRpY2VzKSxkZWxldGUgdGhpcy5pbmRpY2VzLmlzSW5kZXhlZCksdGhpc319LHtrZXk6Il9jYWxjdWxhdGVWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiBlLnZhbHVlLmxlbmd0aDt2YXIgbj0xLzA7Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl0sYT1pLnZhbHVlLG89aS5zaXplOyFpLmNvbnN0YW50JiZhJiZvPj0xJiYobj1NYXRoLm1pbihuLGEubGVuZ3RoL28pKX1yZXR1cm4gT2JqZWN0KHMuYSkoTnVtYmVyLmlzRmluaXRlKG4pKSxufX0se2tleToibW9kZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd01vZGV9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oMTIxKSxpPW4oNiksYT1uKDcpLG89big5OSkscz1uKDI4KSx1PW4oMTkyKSxjPXtvZmZzZXQ6MCxzdHJpZGU6MCx0eXBlOjUxMjYsc2l6ZToxLGRpdmlzb3I6MCxub3JtYWxpemVkOiExLGludGVnZXI6ITF9LGw9e2RlcHJlY2F0ZWRQcm9wczp7aW5zdGFuY2VkOiJkaXZpc29yIixpc0luc3RhbmNlZDoiZGl2aXNvciJ9fSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7T2JqZWN0KGkuYSkodGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylyW2FdPWFyZ3VtZW50c1thXTtyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9hc3NpZ24odCl9KSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1yZXR1cm4gT2JqZWN0KGEuYSkodCxudWxsLFt7a2V5OiJnZXRCeXRlc1BlckVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoby5jKSh0LnR5cGV8fDUxMjYpLkJZVEVTX1BFUl9FTEVNRU5UfX0se2tleToiZ2V0Qnl0ZXNQZXJWZXJ0ZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocy5hKSh0LnNpemUpLE9iamVjdChvLmMpKHQudHlwZXx8NTEyNikuQllURVNfUEVSX0VMRU1FTlQqdC5zaXplfX0se2tleToicmVzb2x2ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gT2JqZWN0KHIuYSkodCxbY10uY29uY2F0KG4pKX19XSksT2JqZWN0KGEuYSkodCxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpfX0se2tleToiX2Fzc2lnbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHZvaWQgMCE9PSh0PU9iamVjdCh1LmEpKCJBY2Nlc3NvciIsdCxsKSkudHlwZSYmKHRoaXMudHlwZT10LnR5cGUsNTEyNCE9PXQudHlwZSYmNTEyNSE9PXQudHlwZXx8KHRoaXMuaW50ZWdlcj0hMCkpLHZvaWQgMCE9PXQuc2l6ZSYmKHRoaXMuc2l6ZT10LnNpemUpLHZvaWQgMCE9PXQub2Zmc2V0JiYodGhpcy5vZmZzZXQ9dC5vZmZzZXQpLHZvaWQgMCE9PXQuc3RyaWRlJiYodGhpcy5zdHJpZGU9dC5zdHJpZGUpLHZvaWQgMCE9PXQubm9ybWFsaXplZCYmKHRoaXMubm9ybWFsaXplZD10Lm5vcm1hbGl6ZWQpLHZvaWQgMCE9PXQuaW50ZWdlciYmKHRoaXMuaW50ZWdlcj10LmludGVnZXIpLHZvaWQgMCE9PXQuZGl2aXNvciYmKHRoaXMuZGl2aXNvcj10LmRpdmlzb3IpLHZvaWQgMCE9PXQuYnVmZmVyJiYodGhpcy5idWZmZXI9dC5idWZmZXIpLHZvaWQgMCE9PXQuaW5kZXgmJigiYm9vbGVhbiI9PXR5cGVvZiBpbmRleD90aGlzLmluZGV4PXQuaW5kZXg/MTowOnRoaXMuaW5kZXg9dC5pbmRleCksdm9pZCAwIT09dC5pbnN0YW5jZWQmJih0aGlzLmRpdmlzb3I9dC5pbnN0YW5jZWQ/MTowKSx2b2lkIDAhPT10LmlzSW5zdGFuY2VkJiYodGhpcy5kaXZpc29yPXQuaXNJbnN0YW5jZWQ/MTowKSx0aGlzfX0se2tleToiQllURVNfUEVSX0VMRU1FTlQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldEJ5dGVzUGVyRWxlbWVudCh0aGlzKX19LHtrZXk6IkJZVEVTX1BFUl9WRVJURVgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldEJ5dGVzUGVyVmVydGV4KHRoaXMpfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcixpPW4oMjE0KSxhPW4oMSksbz1uLm4oYSkscz1uKDIpLHU9bi5uKHMpLGM9big5KSxsPW4ubihjKSxoPW4oMyksZj1uLm4oaCksZD1uKDEyKSx2PW4ubihkKSxwPW4oMTApLGc9bi5uKHApLHk9big0KSxtPW4ubih5KSxiPW4oMjAyKSxfPW4oMjIwKSxPPW4oMTE4KSx4PW4oMTc1KSx3PW4oNzEpLGs9bigxMjcpLFM9KHI9e30sbSgpKHIsMTAyNDEsOTk4NyksbSgpKHIsMTAyNDAsOTcyOSksbSgpKHIsMTAyNDIsMzMwNzEpLG0oKShyLDEwMjQzLDMzMDcxKSxyKSxQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGcoKShlLHQpLHUoKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2KCkoZigpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGJpdG1hcC1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkcztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG52YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gcG9zaXRpb25zO1xuICBnZW9tZXRyeS51diA9IHRleENvb3JkcztcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25zLCBwb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICB2VGV4Q29vcmQgPSB0ZXhDb29yZHM7XG5cbiAgdmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihjb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGJpdG1hcC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZW5kaWZcblxudW5pZm9ybSBzYW1wbGVyMkQgYml0bWFwVGV4dHVyZTtcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcblxudW5pZm9ybSBmbG9hdCBkZXNhdHVyYXRlO1xudW5pZm9ybSB2ZWM0IHRyYW5zcGFyZW50Q29sb3I7XG51bmlmb3JtIHZlYzMgdGludENvbG9yO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG4vLyBhcHBseSBkZXNhdHVyYXRpb25cbnZlYzMgY29sb3JfZGVzYXR1cmF0ZSh2ZWMzIGNvbG9yKSB7XG4gIGZsb2F0IGx1bWluYW5jZSA9IChjb2xvci5yICsgY29sb3IuZyArIGNvbG9yLmIpICogMC4zMzMzMzMzMzM7XG4gIHJldHVybiBtaXgoY29sb3IsIHZlYzMobHVtaW5hbmNlKSwgZGVzYXR1cmF0ZSk7XG59XG5cbi8vIGFwcGx5IHRpbnRcbnZlYzMgY29sb3JfdGludCh2ZWMzIGNvbG9yKSB7XG4gIHJldHVybiBjb2xvciAqIHRpbnRDb2xvcjtcbn1cblxuLy8gYmxlbmQgd2l0aCBiYWNrZ3JvdW5kIGNvbG9yXG52ZWM0IGFwcGx5X29wYWNpdHkodmVjMyBjb2xvciwgZmxvYXQgYWxwaGEpIHtcbiAgcmV0dXJuIG1peCh0cmFuc3BhcmVudENvbG9yLCB2ZWM0KGNvbG9yLCAxLjApLCBhbHBoYSk7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzQgYml0bWFwQ29sb3IgPSB0ZXh0dXJlMkQoYml0bWFwVGV4dHVyZSwgdlRleENvb3JkKTtcblxuICBnbF9GcmFnQ29sb3IgPSBhcHBseV9vcGFjaXR5KGNvbG9yX3RpbnQoY29sb3JfZGVzYXR1cmF0ZShiaXRtYXBDb2xvci5yZ2IpKSwgYml0bWFwQ29sb3IuYSAqIG9wYWNpdHkpO1xuXG4gIGdlb21ldHJ5LnV2ID0gdlRleENvb3JkO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltiLmEsXy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCh7cG9zaXRpb25zOntzaXplOjMsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9ucyxub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe251bUluc3RhbmNlczoxLHBvc2l0aW9uczpuZXcgRmxvYXQ2NEFycmF5KDEyKX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj10Lm9sZFByb3BzO2lmKHQuY2hhbmdlRmxhZ3MuZXh0ZW5zaW9uc0NoYW5nZWQpe3ZhciByPXRoaXMuY29udGV4dC5nbDt0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHIpfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfWUuaW1hZ2UhPT1uLmltYWdlJiZ0aGlzLmxvYWRUZXh0dXJlKGUuaW1hZ2UpO3ZhciBpPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2UuYm91bmRzIT09bi5ib3VuZHMmJmkuaW52YWxpZGF0ZSgicG9zaXRpb25zIil9fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3YoKShmKCkoZS5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc3RhdGUuYml0bWFwVGV4dHVyZSYmdGhpcy5zdGF0ZS5iaXRtYXBUZXh0dXJlLmRlbGV0ZSgpfX0se2tleToiY2FsY3VsYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLnBvc2l0aW9ucyxuPXRoaXMucHJvcHMuYm91bmRzO2lmKE51bWJlci5pc0Zpbml0ZShuWzBdKSllWzBdPW5bMF0sZVsxXT1uWzFdLGVbMl09MCxlWzNdPW5bMF0sZVs0XT1uWzNdLGVbNV09MCxlWzZdPW5bMl0sZVs3XT1uWzNdLGVbOF09MCxlWzldPW5bMl0sZVsxMF09blsxXSxlWzExXT0wO2Vsc2UgZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspZVszKnIrMF09bltyXVswXSxlWzMqcisxXT1uW3JdWzFdLGVbMypyKzJdPW5bcl1bMl18fDA7dC52YWx1ZT1lfX0se2tleToiX2dldE1vZGVsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD9uZXcgeC5hKHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgdy5hKHtkcmF3TW9kZTo2LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7dGV4Q29vcmRzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMSwwLDAsMSwwLDEsMV0pfX0pLGlzSW5zdGFuY2VkOiExfSkpOm51bGx9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5zdGF0ZSxyPW4uYml0bWFwVGV4dHVyZSxpPW4ubW9kZWwsYT10aGlzLnByb3BzLG89YS5pbWFnZSxzPWEuZGVzYXR1cmF0ZSx1PWEudHJhbnNwYXJlbnRDb2xvcixjPWEudGludENvbG9yO3ImJm8gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZvLnJlYWR5U3RhdGU+SFRNTFZpZGVvRWxlbWVudC5IQVZFX01FVEFEQVRBJiYoci53aWR0aCE9PW8udmlkZW9XaWR0aHx8ci5oZWlnaHQhPT1vLnZpZGVvSGVpZ2h0PyhyLnJlc2l6ZSh7d2lkdGg6by52aWRlb1dpZHRoLGhlaWdodDpvLnZpZGVvSGVpZ2h0LG1pcG1hcHM6ITB9KSxyLnNldFN1YkltYWdlRGF0YSh7ZGF0YTpvLHBhcmFtdGVyczpTfSkpOnIuc2V0U3ViSW1hZ2VEYXRhKHtkYXRhOm99KSxyLmdlbmVyYXRlTWlwbWFwKCkpO3ImJmkmJmkuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSxlLHtiaXRtYXBUZXh0dXJlOnIsZGVzYXR1cmF0ZTpzLHRyYW5zcGFyZW50Q29sb3I6dS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKSx0aW50Q29sb3I6Yy5zbGljZSgwLDMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvMjU1fSkpfSkpLmRyYXcoKX19LHtrZXk6ImxvYWRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5iaXRtYXBUZXh0dXJlJiZ0aGlzLnN0YXRlLmJpdG1hcFRleHR1cmUuZGVsZXRlKCksdCBpbnN0YW5jZW9mIGsuYT90aGlzLnNldFN0YXRlKHtiaXRtYXBUZXh0dXJlOnR9KTp0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLnNldFN0YXRlKHtiaXRtYXBUZXh0dXJlOm5ldyBrLmEoZSx7d2lkdGg6MSxoZWlnaHQ6MSxwYXJhbWV0ZXJzOlMsbWlwbWFwczohMX0pfSk6dCYmdGhpcy5zZXRTdGF0ZSh7Yml0bWFwVGV4dHVyZTpuZXcgay5hKGUse2RhdGE6dCxwYXJhbWV0ZXJzOlN9KX0pfX1dKSxlfShPLmEpO1AubGF5ZXJOYW1lPSJCaXRtYXBMYXllciIsUC5kZWZhdWx0UHJvcHM9e2ltYWdlOnt0eXBlOiJvYmplY3QiLHZhbHVlOm51bGwsYXN5bmM6ITB9LGJvdW5kczp7dHlwZToiYXJyYXkiLHZhbHVlOlsxLDAsMCwxXSxjb21wYXJlOiEwfSxkZXNhdHVyYXRlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjB9LHRyYW5zcGFyZW50Q29sb3I6e3R5cGU6ImNvbG9yIix2YWx1ZTpbMCwwLDAsMF19LHRpbnRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOlsyNTUsMjU1LDI1NV19fTt2YXIgaixUPW4oMjIxKSxFPW4oMTkxKSxBPW4oMjg5KSxNPW4oMTk5KSxDPW4oNjQpLEw9bigyMyksST1mdW5jdGlvbigpe30sUj0oaj17fSxtKCkoaiwxMDI0MSw5OTg3KSxtKCkoaiwxMDI0MCw5NzI5KSxtKCkoaiwxMDI0MiwzMzA3MSksbSgpKGosMTAyNDMsMzMwNzEpLGopO2Z1bmN0aW9uIE4odCl7cmV0dXJuIHQmJih0LmlkfHx0LnVybCl9ZnVuY3Rpb24gRCh0LGUsbil7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0sYT1pLmljb24sbz1pLnhPZmZzZXQ7dFtOKGEpXT1PYmplY3QuYXNzaWduKHt9LGEse3g6byx5Om59KX19dmFyIEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9bi5vblVwZGF0ZSxpPXZvaWQgMD09PXI/STpyO28oKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLm9uVXBkYXRlPWksdGhpcy5fbG9hZE9wdGlvbnM9bnVsbCx0aGlzLl9nZXRJY29uPW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuX2V4dGVybmFsVGV4dHVyZT1udWxsLHRoaXMuX21hcHBpbmc9e30sdGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5fYXV0b1BhY2tpbmc9ITEsdGhpcy5feE9mZnNldD0wLHRoaXMuX3lPZmZzZXQ9MCx0aGlzLl9yb3dIZWlnaHQ9MCx0aGlzLl9idWZmZXI9NCx0aGlzLl9jYW52YXNXaWR0aD0xMDI0LHRoaXMuX2NhbnZhc0hlaWdodD0wLHRoaXMuX2NhbnZhcz1udWxsfXJldHVybiB1KCkodCxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5kZWxldGUoKX19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV8fHRoaXMuX2V4dGVybmFsVGV4dHVyZX19LHtrZXk6ImdldEljb25NYXBwaW5nIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hdXRvUGFja2luZz9OKHQpOnQ7cmV0dXJuIHRoaXMuX21hcHBpbmdbZV18fHt9fX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubG9hZE9wdGlvbnMsbj10LmF1dG9QYWNraW5nLHI9dC5pY29uQXRsYXMsaT10Lmljb25NYXBwaW5nLGE9dC5kYXRhLG89dC5nZXRJY29uO2UmJih0aGlzLl9sb2FkT3B0aW9ucz1lKSx2b2lkIDAhPT1uJiYodGhpcy5fYXV0b1BhY2tpbmc9biksbyYmKHRoaXMuX2dldEljb249byksaSYmKHRoaXMuX21hcHBpbmc9aSksciYmdGhpcy5fdXBkYXRlSWNvbkF0bGFzKHIpLHRoaXMuX2F1dG9QYWNraW5nJiYoYXx8bykmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJih0aGlzLl9jYW52YXM9dGhpcy5fY2FudmFzfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0aGlzLl91cGRhdGVBdXRvUGFja2luZyhhKSl9fSx7a2V5OiJfdXBkYXRlSWNvbkF0bGFzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kZWxldGUoKSx0aGlzLl90ZXh0dXJlPW51bGwpLHQgaW5zdGFuY2VvZiBrLmE/KHQuc2V0UGFyYW1ldGVycyhSKSx0aGlzLl9leHRlcm5hbFRleHR1cmU9dCx0aGlzLm9uVXBkYXRlKCkpOnQmJih0aGlzLl90ZXh0dXJlPW5ldyBrLmEodGhpcy5nbCx7ZGF0YTp0LHBhcmFtZXRlcnM6Un0pLHRoaXMub25VcGRhdGUoKSl9fSx7a2V5OiJfdXBkYXRlQXV0b1BhY2tpbmciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLGEsbyxzPU9iamVjdC52YWx1ZXMoZnVuY3Rpb24odCxlLG4pe2lmKCF0fHwhZSlyZXR1cm4gbnVsbDtuPW58fHt9O3ZhciByPXt9LGk9T2JqZWN0KEMuYSkodCksYT1pLml0ZXJhYmxlLG89aS5vYmplY3RJbmZvLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9YVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlO28uaW5kZXgrKzt2YXIgZD1lKGYsbyksdj1OKGQpO2lmKCFkKXRocm93IG5ldyBFcnJvcigiSWNvbiBpcyBtaXNzaW5nLiIpO2lmKCFkLnVybCl0aHJvdyBuZXcgRXJyb3IoIkljb24gdXJsIGlzIG1pc3NpbmcuIik7clt2XXx8blt2XSYmZC51cmw9PT1uW3ZdLnVybHx8KHJbdl09ZCl9fWNhdGNoKHQpe3U9ITAsYz10fWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1yZXR1cm4gcn0odCx0aGlzLl9nZXRJY29uLHRoaXMuX21hcHBpbmcpfHx7fSk7aWYocy5sZW5ndGg+MCl7dmFyIHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5pY29ucyxyPXQuYnVmZmVyLGk9dC5tYXBwaW5nLGE9dm9pZCAwPT09aT97fTppLG89dC54T2Zmc2V0LHM9dm9pZCAwPT09bz8wOm8sdT10LnlPZmZzZXQsYz12b2lkIDA9PT11PzA6dSxsPXQucm93SGVpZ2h0LGg9dm9pZCAwPT09bD8wOmwsZj10LmNhbnZhc1dpZHRoLGQ9W10sdj0wO3Y8bi5sZW5ndGg7disrKXt2YXIgcD1uW3ZdO2lmKCFhW04ocCldKXt2YXIgZz1wLmhlaWdodCx5PXAud2lkdGg7cyt5K3I+ZiYmKEQoYSxkLGMpLHM9MCxjPWgrYytyLGg9MCxkPVtdKSxkLnB1c2goe2ljb246cCx4T2Zmc2V0OnN9KSxzPXMreStyLGg9TWF0aC5tYXgoaCxnKX19cmV0dXJuIGQubGVuZ3RoPjAmJkQoYSxkLGMpLHttYXBwaW5nOmEscm93SGVpZ2h0OmgseE9mZnNldDpzLHlPZmZzZXQ6YyxjYW52YXNXaWR0aDpmLGNhbnZhc0hlaWdodDooZT1oK2MrcixNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZzIoZSkpKSl9fSh7aWNvbnM6cyxidWZmZXI6dGhpcy5fYnVmZmVyLGNhbnZhc1dpZHRoOnRoaXMuX2NhbnZhc1dpZHRoLG1hcHBpbmc6dGhpcy5fbWFwcGluZyxyb3dIZWlnaHQ6dGhpcy5fcm93SGVpZ2h0LHhPZmZzZXQ6dGhpcy5feE9mZnNldCx5T2Zmc2V0OnRoaXMuX3lPZmZzZXR9KSxjPXUubWFwcGluZyxsPXUueE9mZnNldCxoPXUueU9mZnNldCxmPXUucm93SGVpZ2h0LGQ9dS5jYW52YXNIZWlnaHQ7dGhpcy5fcm93SGVpZ2h0PWYsdGhpcy5fbWFwcGluZz1jLHRoaXMuX3hPZmZzZXQ9bCx0aGlzLl95T2Zmc2V0PWgsdGhpcy5fY2FudmFzSGVpZ2h0PWQsdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmU9bmV3IGsuYSh0aGlzLmdsLHt3aWR0aDp0aGlzLl9jYW52YXNXaWR0aCxoZWlnaHQ6dGhpcy5fY2FudmFzSGVpZ2h0LHBhcmFtZXRlcnM6Un0pKSx0aGlzLl90ZXh0dXJlLmhlaWdodCE9PXRoaXMuX2NhbnZhc0hlaWdodCYmKHRoaXMuX3RleHR1cmU9KHRoaXMuZ2wsZT10aGlzLl90ZXh0dXJlLG49dGhpcy5fY2FudmFzV2lkdGgscj10aGlzLl9jYW52YXNIZWlnaHQsaT1lLndpZHRoLGE9ZS5oZWlnaHQsbz1PYmplY3QoVC5hKShlLHt3aWR0aDpuLGhlaWdodDpyfSksT2JqZWN0KEUuYikoZSxvLHt0YXJnZXRZOjAsd2lkdGg6aSxoZWlnaHQ6YX0pLGUuZGVsZXRlKCksbykpLHRoaXMub25VcGRhdGUoKSx0aGlzLl9sb2FkSWNvbnMocyl9fX0se2tleToiX2xvYWRJY29ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCIyZCIpLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZnVuY3Rpb24oKXt2YXIgdD1vLnZhbHVlO2UuX3BlbmRpbmdDb3VudCsrLE9iamVjdChNLmEpKHQudXJsLEEuYSxlLl9sb2FkT3B0aW9ucykudGhlbigoZnVuY3Rpb24ocil7dmFyIGk9Tih0KSxhPWUuX21hcHBpbmdbaV0sbz1hLngscz1hLnksdT1hLndpZHRoLGM9YS5oZWlnaHQsbD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1lLm5hdHVyYWxXaWR0aCxhPWUubmF0dXJhbEhlaWdodDtyZXR1cm4gbj09PWkmJnI9PT1hP2U6KHQuY2FudmFzLmhlaWdodD1yLHQuY2FudmFzLndpZHRoPW4sdC5jbGVhclJlY3QoMCwwLHQuY2FudmFzLndpZHRoLHQuY2FudmFzLmhlaWdodCksdC5kcmF3SW1hZ2UoZSwwLDAsaSxhLDAsMCxuLHIpLHQuY2FudmFzKX0obixyLHUsYyk7ZS5fdGV4dHVyZS5zZXRTdWJJbWFnZURhdGEoe2RhdGE6bCx4Om8seTpzLHdpZHRoOnUsaGVpZ2h0OmN9KSxlLl90ZXh0dXJlLmdlbmVyYXRlTWlwbWFwKCksZS5vblVwZGF0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtMLmEuZXJyb3IodCkoKX0pKS5maW5hbGx5KChmdW5jdGlvbigpe2UuX3BlbmRpbmdDb3VudC0tfSkpfSx1PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz11Lm5leHQoKSkuZG9uZSk7cj0hMClzKCl9Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fX19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDb3VudH19XSksdH0oKSx6PVswLDAsMCwyNTVdLEI9e2ljb25BdGxhczp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsLGFzeW5jOiEwfSxpY29uTWFwcGluZzp7dHlwZToib2JqZWN0Iix2YWx1ZTp7fSxhc3luYzohMH0sc2l6ZVNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LGJpbGxib2FyZDohMCxzaXplVW5pdHM6InBpeGVscyIsc2l6ZU1pblBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTowfSxzaXplTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxhbHBoYUN1dG9mZjp7dHlwZToibnVtYmVyIix2YWx1ZTouMDUsbWluOjAsbWF4OjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxnZXRJY29uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaWNvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6en0sZ2V0U2l6ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjF9LGdldEFuZ2xlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sZ2V0UGl4ZWxPZmZzZXQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX19LFU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBvKCkodGhpcyxlKSxsKCkodGhpcyxmKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZygpKGUsdCksdSgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHYoKShmKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGljb24tbGF5ZXItdmVydGV4LXNoYWRlclxuXG5hdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbnM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVNpemVzO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlQW5nbGVzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUljb25GcmFtZXM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VDb2xvck1vZGVzO1xuYXR0cmlidXRlIHZlYzIgaW5zdGFuY2VPZmZzZXRzO1xuYXR0cmlidXRlIHZlYzIgaW5zdGFuY2VQaXhlbE9mZnNldDtcblxudW5pZm9ybSBmbG9hdCBzaXplU2NhbGU7XG51bmlmb3JtIHZlYzIgaWNvbnNUZXh0dXJlRGltO1xudW5pZm9ybSBmbG9hdCBzaXplTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzaXplTWF4UGl4ZWxzO1xudW5pZm9ybSBib29sIGJpbGxib2FyZDtcblxudmFyeWluZyBmbG9hdCB2Q29sb3JNb2RlO1xudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkcztcbnZhcnlpbmcgdmVjMiB1djtcblxudmVjMiByb3RhdGVfYnlfYW5nbGUodmVjMiB2ZXJ0ZXgsIGZsb2F0IGFuZ2xlKSB7XG4gIGZsb2F0IGFuZ2xlX3JhZGlhbiA9IGFuZ2xlICogUEkgLyAxODAuMDtcbiAgZmxvYXQgY29zX2FuZ2xlID0gY29zKGFuZ2xlX3JhZGlhbik7XG4gIGZsb2F0IHNpbl9hbmdsZSA9IHNpbihhbmdsZV9yYWRpYW4pO1xuICBtYXQyIHJvdGF0aW9uTWF0cml4ID0gbWF0Mihjb3NfYW5nbGUsIC1zaW5fYW5nbGUsIHNpbl9hbmdsZSwgY29zX2FuZ2xlKTtcbiAgcmV0dXJuIHJvdGF0aW9uTWF0cml4ICogdmVydGV4O1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnV2ID0gcG9zaXRpb25zO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHV2ID0gcG9zaXRpb25zO1xuXG4gIHZlYzIgaWNvblNpemUgPSBpbnN0YW5jZUljb25GcmFtZXMuenc7XG4gIGZsb2F0IHNpemVQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VTaXplcyAqIHNpemVTY2FsZSksIFxuICAgIHNpemVNaW5QaXhlbHMsIHNpemVNYXhQaXhlbHNcbiAgKTtcbiAgZmxvYXQgaW5zdGFuY2VTY2FsZSA9IGljb25TaXplLnkgPT0gMC4wID8gMC4wIDogc2l6ZVBpeGVscyAvIGljb25TaXplLnk7XG4gIHZlYzIgcGl4ZWxPZmZzZXQgPSBwb3NpdGlvbnMgLyAyLjAgKiBpY29uU2l6ZSArIGluc3RhbmNlT2Zmc2V0cztcbiAgcGl4ZWxPZmZzZXQgPSByb3RhdGVfYnlfYW5nbGUocGl4ZWxPZmZzZXQsIGluc3RhbmNlQW5nbGVzKSAqIGluc3RhbmNlU2NhbGU7XG4gIHBpeGVsT2Zmc2V0ICs9IGluc3RhbmNlUGl4ZWxPZmZzZXQ7XG4gIHBpeGVsT2Zmc2V0LnkgKj0gLTEuMDtcblxuICBpZiAoYmlsbGJvYXJkKSAge1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHZlYzMoMC4wKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICAgIHZlYzMgb2Zmc2V0ID0gdmVjMyhwaXhlbE9mZnNldCwgMC4wKTtcbiAgICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24ueHkgKz0gcHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZShvZmZzZXQueHkpO1xuXG4gIH0gZWxzZSB7XG4gICAgdmVjMyBvZmZzZXRfY29tbW9uID0gdmVjMyhwcm9qZWN0X3BpeGVsX3NpemUocGl4ZWxPZmZzZXQpLCAwLjApO1xuICAgIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXRfY29tbW9uLCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgb2Zmc2V0X2NvbW1vbiwgZ2VvbWV0cnkucG9zaXRpb24pOyBcbiAgfVxuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG5cbiAgdlRleHR1cmVDb29yZHMgPSBtaXgoXG4gICAgaW5zdGFuY2VJY29uRnJhbWVzLnh5LFxuICAgIGluc3RhbmNlSWNvbkZyYW1lcy54eSArIGljb25TaXplLFxuICAgIChwb3NpdGlvbnMueHkgKyAxLjApIC8gMi4wXG4gICkgLyBpY29uc1RleHR1cmVEaW07XG5cbiAgdkNvbG9yID0gaW5zdGFuY2VDb2xvcnM7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG5cbiAgdkNvbG9yTW9kZSA9IGluc3RhbmNlQ29sb3JNb2Rlcztcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgaWNvbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIHNhbXBsZXIyRCBpY29uc1RleHR1cmU7XG51bmlmb3JtIGZsb2F0IGFscGhhQ3V0b2ZmO1xuXG52YXJ5aW5nIGZsb2F0IHZDb2xvck1vZGU7XG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmRzO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQoaWNvbnNUZXh0dXJlLCB2VGV4dHVyZUNvb3Jkcyk7XG4gIHZlYzMgY29sb3IgPSBtaXgodGV4Q29sb3IucmdiLCB2Q29sb3IucmdiLCB2Q29sb3JNb2RlKTtcbiAgZmxvYXQgYSA9IHRleENvbG9yLmEgKiBvcGFjaXR5ICogdkNvbG9yLmE7XG5cbiAgaWYgKGEgPCBhbHBoYUN1dG9mZikge1xuICAgIGRpc2NhcmQ7XG4gIH1cblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBhKTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihnbF9GcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbYi5hLF8uYV19KX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGU9e2ljb25NYW5hZ2VyOm5ldyBGKHRoaXMuY29udGV4dC5nbCx7b25VcGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25VcGRhdGUoKX19KX0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkSW5zdGFuY2VkKHtpbnN0YW5jZVBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlU2l6ZXM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRTaXplIixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VPZmZzZXRzOntzaXplOjIsYWNjZXNzb3I6ImdldEljb24iLHRyYW5zZm9ybTp0aGlzLmdldEluc3RhbmNlT2Zmc2V0fSxpbnN0YW5jZUljb25GcmFtZXM6e3NpemU6NCxhY2Nlc3NvcjoiZ2V0SWNvbiIsdHJhbnNmb3JtOnRoaXMuZ2V0SW5zdGFuY2VJY29uRnJhbWV9LGluc3RhbmNlQ29sb3JNb2Rlczp7c2l6ZToxLHR5cGU6NTEyMSxhY2Nlc3NvcjoiZ2V0SWNvbiIsdHJhbnNmb3JtOnRoaXMuZ2V0SW5zdGFuY2VDb2xvck1vZGV9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldENvbG9yIixkZWZhdWx0VmFsdWU6en0saW5zdGFuY2VBbmdsZXM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRBbmdsZSJ9LGluc3RhbmNlUGl4ZWxPZmZzZXQ6e3NpemU6Mix0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRQaXhlbE9mZnNldCJ9fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dC5vbGRQcm9wcyxyPXQucHJvcHMsaT10LmNoYW5nZUZsYWdzO3YoKShmKCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczpyLG9sZFByb3BzOm4sY2hhbmdlRmxhZ3M6aX0pO3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLG89ci5pY29uQXRsYXMscz1yLmljb25NYXBwaW5nLHU9ci5kYXRhLGM9ci5nZXRJY29uLGw9dGhpcy5zdGF0ZS5pY29uTWFuYWdlcjtsLnNldFByb3BzKHtsb2FkT3B0aW9uczpyLmxvYWRPcHRpb25zfSk7dmFyIGg9ITE7aWYob3x8dGhpcy5pbnRlcm5hbFN0YXRlLmlzQXN5bmNQcm9wTG9hZGluZygiaWNvbkF0bGFzIik/KG4uaWNvbkF0bGFzIT09ci5pY29uQXRsYXMmJmwuc2V0UHJvcHMoe2ljb25BdGxhczpvLGF1dG9QYWNraW5nOiExfSksbi5pY29uTWFwcGluZyE9PXIuaWNvbk1hcHBpbmcmJihsLnNldFByb3BzKHtpY29uTWFwcGluZzpzfSksaD0hMCkpOmwuc2V0UHJvcHMoe2F1dG9QYWNraW5nOiEwfSksKGkuZGF0YUNoYW5nZWR8fGkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYoaS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxpLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRJY29uKSkmJihsLnNldFByb3BzKHtkYXRhOnUsZ2V0SWNvbjpjfSksaD0hMCksaCYmKGEuaW52YWxpZGF0ZSgiaW5zdGFuY2VPZmZzZXRzIiksYS5pbnZhbGlkYXRlKCJpbnN0YW5jZUljb25GcmFtZXMiKSxhLmludmFsaWRhdGUoImluc3RhbmNlQ29sb3JNb2RlcyIpKSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgZD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChkKX0pLGEuaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7digpKGYoKShlLnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5zdGF0ZS5pY29uTWFuYWdlci5maW5hbGl6ZSgpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLnNpemVTY2FsZSxpPW4uc2l6ZU1pblBpeGVscyxhPW4uc2l6ZU1heFBpeGVscyxvPW4uc2l6ZVVuaXRzLHM9bi5iaWxsYm9hcmQsdT1uLmFscGhhQ3V0b2ZmLGM9dGhpcy5zdGF0ZS5pY29uTWFuYWdlcixsPXRoaXMuY29udGV4dC52aWV3cG9ydCxoPWMuZ2V0VGV4dHVyZSgpO2gmJmgubG9hZGVkJiZ0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSx7aWNvbnNUZXh0dXJlOmgsaWNvbnNUZXh0dXJlRGltOltoLndpZHRoLGguaGVpZ2h0XSxzaXplU2NhbGU6ciooInBpeGVscyI9PT1vP2wubWV0ZXJzUGVyUGl4ZWw6MSksc2l6ZU1pblBpeGVsczppLHNpemVNYXhQaXhlbHM6YSxiaWxsYm9hcmQ6cyxhbHBoYUN1dG9mZjp1fSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4LmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyB3LmEoe2RyYXdNb2RlOjYsYXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShbLTEsLTEsLTEsMSwxLDEsMSwtMV0pfX19KSxpc0luc3RhbmNlZDohMH0pKX19LHtrZXk6Il9vblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldE5lZWRzUmVkcmF3KCl9fSx7a2V5OiJnZXRJbnN0YW5jZU9mZnNldCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5pY29uTWFuYWdlci5nZXRJY29uTWFwcGluZyh0KTtyZXR1cm5bZS53aWR0aC8yLWUuYW5jaG9yWHx8MCxlLmhlaWdodC8yLWUuYW5jaG9yWXx8MF19fSx7a2V5OiJnZXRJbnN0YW5jZUNvbG9yTW9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuaWNvbk1hbmFnZXIuZ2V0SWNvbk1hcHBpbmcodCkubWFzaz8xOjB9fSx7a2V5OiJnZXRJbnN0YW5jZUljb25GcmFtZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5pY29uTWFuYWdlci5nZXRJY29uTWFwcGluZyh0KTtyZXR1cm5bZS54fHwwLGUueXx8MCxlLndpZHRofHwwLGUuaGVpZ2h0fHwwXX19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdigpKGYoKShlLnByb3RvdHlwZSksImlzTG9hZGVkIix0aGlzKSYmdGhpcy5zdGF0ZS5pY29uTWFuYWdlci5pc0xvYWRlZH19XSksZX0oTy5hKTtVLmxheWVyTmFtZT0iSWNvbkxheWVyIixVLmRlZmF1bHRQcm9wcz1CO3ZhciBWPW4oMjE1KSxHPW4oMjE2KSxXPW4oMTYwKSxIPW4oMTU5KSxxPW4oMjA1KSxYPW4oMTEwKSxaPW4oMjA2KSxZPW4oMjE4KSxLPW4oMTkpLFE9bi5uKEspLEo9bigxODUpLCQ9W10sdHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBvKCkodGhpcyxlKSxsKCkodGhpcyxmKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZygpKGUsdCksdSgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdigpKGYoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcykse2luamVjdDp7InZzOiNkZWNsIjoiXG4gIHVuaWZvcm0gZmxvYXQgZ2FtbWE7XG4gIHZhcnlpbmcgZmxvYXQgdkdhbW1hO1xuIiwidnM6I21haW4tZW5kIjoiXG4gIHZHYW1tYSA9IGdhbW1hIC8gKHNpemVTY2FsZSAqIGljb25TaXplLnkpO1xuIn0sZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbXVsdGktaWNvbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIHNhbXBsZXIyRCBpY29uc1RleHR1cmU7XG51bmlmb3JtIGZsb2F0IGJ1ZmZlcjtcbnVuaWZvcm0gYm9vbCBzZGY7XG51bmlmb3JtIGZsb2F0IGFscGhhQ3V0b2ZmO1xudW5pZm9ybSBib29sIHNob3VsZERyYXdCYWNrZ3JvdW5kO1xudW5pZm9ybSB2ZWMzIGJhY2tncm91bmRDb2xvcjtcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkcztcbnZhcnlpbmcgZmxvYXQgdkdhbW1hO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIGlmICghcGlja2luZ191QWN0aXZlKSB7XG4gICAgZmxvYXQgYWxwaGEgPSB0ZXh0dXJlMkQoaWNvbnNUZXh0dXJlLCB2VGV4dHVyZUNvb3JkcykuYTtcbiAgICBpZiAoc2RmKSB7XG4gICAgICBhbHBoYSA9IHNtb290aHN0ZXAoYnVmZmVyIC0gdkdhbW1hLCBidWZmZXIgKyB2R2FtbWEsIGFscGhhKTtcbiAgICB9XG4gICAgZmxvYXQgYSA9IGFscGhhICogdkNvbG9yLmE7XG4gICAgXG4gICAgaWYgKGEgPCBhbHBoYUN1dG9mZikge1xuICAgICAgaWYgKHNob3VsZERyYXdCYWNrZ3JvdW5kKSB7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoYmFja2dyb3VuZENvbG9yLCB2Q29sb3IuYSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZERyYXdCYWNrZ3JvdW5kKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1peChiYWNrZ3JvdW5kQ29sb3IsIHZDb2xvci5yZ2IsIGFscGhhKSwgdkNvbG9yLmEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZDb2xvci5yZ2IsIGEpO1xuICAgIH1cbiAgfVxuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4ifSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2KCkoZigpKGUucHJvdG90eXBlKSwiaW5pdGlhbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VPZmZzZXRzOntzaXplOjIsYWNjZXNzb3I6ImdldEljb25PZmZzZXRzIn0saW5zdGFuY2VQaWNraW5nQ29sb3JzOnt0eXBlOjUxMjEsc2l6ZTozLGFjY2Vzc29yOmZ1bmN0aW9uKGUsbil7dmFyIHI9bi5pbmRleCxpPW4udGFyZ2V0O3JldHVybiB0LmVuY29kZVBpY2tpbmdDb2xvcihyLGkpfX19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2KCkoZigpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgbj10Lm9sZFByb3BzLHI9dC5wcm9wcztpZihyLmJhY2tncm91bmRDb2xvciE9PW4uYmFja2dyb3VuZENvbG9yKXt2YXIgaT1BcnJheS5pc0FycmF5KHIuYmFja2dyb3VuZENvbG9yKT9yLmJhY2tncm91bmRDb2xvci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKS5zbGljZSgwLDMpOm51bGw7dGhpcy5zZXRTdGF0ZSh7YmFja2dyb3VuZENvbG9yOml9KX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnVuaWZvcm1zLHI9dGhpcy5wcm9wcy5zZGYsaT10aGlzLnN0YXRlLmJhY2tncm91bmRDb2xvcixhPUFycmF5LmlzQXJyYXkoaSk7digpKGYoKShlLnByb3RvdHlwZSksImRyYXciLHRoaXMpLmNhbGwodGhpcyx7dW5pZm9ybXM6T2JqZWN0LmFzc2lnbih7fSxuLHtidWZmZXI6Ljc1LGdhbW1hOi4yLHNkZjpCb29sZWFuKHIpLGJhY2tncm91bmRDb2xvcjppfHxbMCwwLDBdLHNob3VsZERyYXdCYWNrZ3JvdW5kOmF9KX0pfX0se2tleToiZ2V0SW5zdGFuY2VPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIHQ/QXJyYXkuZnJvbSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB2KCkoZigpKGUucHJvdG90eXBlKSwiZ2V0SW5zdGFuY2VPZmZzZXQiLG4pLmNhbGwobix0KX0pKTokfX0se2tleToiZ2V0SW5zdGFuY2VDb2xvck1vZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0se2tleToiZ2V0SW5zdGFuY2VJY29uRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIHQ/QXJyYXkuZnJvbSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB2KCkoZigpKGUucHJvdG90eXBlKSwiZ2V0SW5zdGFuY2VJY29uRnJhbWUiLG4pLmNhbGwobix0KX0pKTokfX1dKSxlfShVKTt0dC5sYXllck5hbWU9Ik11bHRpSWNvbkxheWVyIix0dC5kZWZhdWx0UHJvcHM9e2JhY2tncm91bmRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOm51bGwsb3B0aW9uYWw6ITB9LGdldEljb25PZmZzZXRzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQub2Zmc2V0c319fTt2YXIgZXQ9bigyMjgpLG50PW4ubihldCk7ZnVuY3Rpb24gcnQodCxlKXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0sYT1udWxsLG89ZSYmZVtpXTtvJiYoYT1vLndpZHRoKSxuKz1hfXJldHVybiBufWZ1bmN0aW9uIGl0KHQsZSxuKXtmb3IodmFyIHI9W10saT0wLGE9MCxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXJ0KHRbb10sbik7YStzPmUmJihpPG8mJnIucHVzaCh0LnN1YnN0cmluZyhpLG8pKSxpPW8sYT0wKSxhKz1zfXJldHVybiBpPHQubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSkpLHtyb3dzOnIsbGFzdFJvd1N0YXJ0Q2hhckluZGV4OmksbGFzdFJvd09mZnNldExlZnQ6YX19ZnVuY3Rpb24gYXQodCxlLG4scil7cmV0dXJuImJyZWFrLWFsbCI9PT1lP2l0KHQsbixyKTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MCxhPTAsbz0wLHM9bnVsbCx1PTA7dTx0Lmxlbmd0aDt1KyspaWYoIiAiPT09dFt1XT8ocz10W3VdLGE9dSsxKTp1KzE8dC5sZW5ndGgmJiIgIj09PXRbdSsxXXx8dSsxPT09dC5sZW5ndGg/KHM9dC5zdWJzdHJpbmcoYSx1KzEpLGE9dSsxKTpzPW51bGwscyl7dmFyIGM9cnQocyxuKTtpZihvK2M+ZSl7dmFyIGw9YS1zLmxlbmd0aDtpZihpPGwmJihyLnB1c2godC5zdWJzdHJpbmcoaSxsKSksaT1sLG89MCksYz5lKXt2YXIgaD1pdChzLGUsbik7aC5yb3dzLmxlbmd0aD4xJiYocj1yLmNvbmNhdChoLnJvd3Muc2xpY2UoMCxoLnJvd3MubGVuZ3RoLTEpKSksaSs9aC5sYXN0Um93U3RhcnRDaGFySW5kZXgsYz1oLmxhc3RSb3dPZmZzZXRMZWZ0fX1vKz1jfXJldHVybiBpPHQubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSkpLHtyb3dzOnIsbGFzdFJvd1N0YXJ0Q2hhckluZGV4OmksbGFzdFJvd09mZnNldExlZnQ6b319KHQsbixyKX1mdW5jdGlvbiBvdCh0LGUpe2Zvcih2YXIgbj0wLHI9MCxpPW5ldyBBcnJheSh0Lmxlbmd0aCksYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgbz10W2FdLHM9ZVtvXTtzPyhyfHwocj1zLmhlaWdodCksaVthXT1uK3Mud2lkdGgvMixuKz1zLndpZHRoKTooTC5hLndhcm4oIk1pc3NpbmcgY2hhcmFjdGVyOiAiLmNvbmNhdChvKSkoKSxpW2FdPW4sbis9MzIpfXJldHVybntsZWZ0T2Zmc2V0czppLHJvd1dpZHRoOm4scm93SGVpZ2h0OnJ9fXZhciBzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06NTtvKCkodGhpcyx0KSx0aGlzLmxpbWl0PWUsdGhpcy5jbGVhcigpfXJldHVybiB1KCkodCxbe2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fb3JkZXI9W119fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NhY2hlW3RdO3JldHVybiBlJiYodGhpcy5fZGVsZXRlT3JkZXIodCksdGhpcy5fYXBwZW5kT3JkZXIodCkpLGV9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2FjaGVbdF0/KHRoaXMuZGVsZXRlKHQpLHRoaXMuX2NhY2hlW3RdPWUsdGhpcy5fYXBwZW5kT3JkZXIodCkpOihPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSkubGVuZ3RoPT09dGhpcy5saW1pdCYmdGhpcy5kZWxldGUodGhpcy5fb3JkZXJbMF0pLHRoaXMuX2NhY2hlW3RdPWUsdGhpcy5fYXBwZW5kT3JkZXIodCkpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZVt0XSYmKHRoaXMuX2RlbGV0ZUNhY2hlKHQpLHRoaXMuX2RlbGV0ZU9yZGVyKHQpKX19LHtrZXk6Il9kZWxldGVDYWNoZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlW3RdfX0se2tleToiX2RlbGV0ZU9yZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmRlci5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTtlPj0wJiZ0aGlzLl9vcmRlci5zcGxpY2UoZSwxKX19LHtrZXk6Il9hcHBlbmRPcmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fb3JkZXIucHVzaCh0KX19XSksdH0oKTt2YXIgdXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0zMjtlPDEyODtlKyspdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpO3JldHVybiB0fSgpLGN0PW5ldyBzdCgzKSxsdD1bImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiY2hhcmFjdGVyU2V0IiwiZm9udFNpemUiLCJzZGYiLCJidWZmZXIiLCJjdXRvZmYiLCJyYWRpdXMiXTtmdW5jdGlvbiBodCh0LGUpe3ZhciBuPWN0LmdldCh0KTtpZighbilyZXR1cm4gZTt2YXIgcj1bXSxpPW4ubWFwcGluZyxhPU9iamVjdC5rZXlzKGkpO2E9bmV3IFNldChhKTt2YXIgbz1lO3JldHVybiBvIGluc3RhbmNlb2YgQXJyYXkmJihvPW5ldyBTZXQobykpLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7YS5oYXModCl8fHIucHVzaCh0KX0pKSxyfWZ1bmN0aW9uIGZ0KHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS5kYXRhWzQqbiszXT10W25dfWZ1bmN0aW9uIGR0KHQsZSxuLHIpe3QuZm9udD0iIi5jb25jYXQociwiICIpLmNvbmNhdChuLCJweCAiKS5jb25jYXQoZSksdC5maWxsU3R5bGU9IiMwMDAiLHQudGV4dEJhc2VsaW5lPSJiYXNlbGluZSIsdC50ZXh0QWxpZ249ImxlZnQifXZhciB2dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bygpKHRoaXMsdCksdGhpcy5nbD1lLHRoaXMucHJvcHM9e2ZvbnRGYW1pbHk6Ik1vbmFjbywgbW9ub3NwYWNlIixmb250V2VpZ2h0OiJub3JtYWwiLGNoYXJhY3RlclNldDp1dCxmb250U2l6ZTo2NCxidWZmZXI6MixzZGY6ITEsY3V0b2ZmOi4yNSxyYWRpdXM6M30sdGhpcy5fa2V5PW51bGwsdGhpcy5fdGV4dHVyZT1uZXcgay5hKHRoaXMuZ2wpfXJldHVybiB1KCkodCxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZS5kZWxldGUoKX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bHQuZm9yRWFjaCgoZnVuY3Rpb24obil7biBpbiBlJiYodC5wcm9wc1tuXT1lW25dKX0pKTt2YXIgbj10aGlzLl9rZXk7dGhpcy5fa2V5PXRoaXMuX2dldEtleSgpO3ZhciByPWh0KHRoaXMuX2tleSx0aGlzLnByb3BzLmNoYXJhY3RlclNldCksaT1jdC5nZXQodGhpcy5fa2V5KTtpZihpJiYwPT09ci5sZW5ndGgpdGhpcy5fa2V5IT09biYmdGhpcy5fdXBkYXRlVGV4dHVyZShpKTtlbHNle3ZhciBhPXRoaXMuX2dlbmVyYXRlRm9udEF0bGFzKHRoaXMuX2tleSxyLGkpO3RoaXMuX3VwZGF0ZVRleHR1cmUoYSksY3Quc2V0KHRoaXMuX2tleSxhKX19fSx7a2V5OiJfdXBkYXRlVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbj10LmRhdGEscj10LndpZHRoLGk9dC5oZWlnaHQ7dGhpcy5fdGV4dHVyZS53aWR0aD09PXImJnRoaXMuX3RleHR1cmUuaGVpZ2h0PT09aXx8dGhpcy5fdGV4dHVyZS5yZXNpemUoe3dpZHRoOnIsaGVpZ2h0Oml9KSx0aGlzLl90ZXh0dXJlLnNldEltYWdlRGF0YSh7ZGF0YTpuLHdpZHRoOnIsaGVpZ2h0OmkscGFyYW1ldGVyczooZT17fSxtKCkoZSwxMDI0MiwzMzA3MSksbSgpKGUsMTAyNDMsMzMwNzEpLGUpfSksdGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcCgpfX0se2tleToiX2dlbmVyYXRlRm9udEF0bGFzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5wcm9wcyxpPXIuZm9udEZhbWlseSxhPXIuZm9udFdlaWdodCxvPXIuZm9udFNpemUscz1yLmJ1ZmZlcix1PXIuc2RmLGM9ci5yYWRpdXMsbD1yLmN1dG9mZixoPW4mJm4uZGF0YTtofHwoKGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLndpZHRoPTEwMjQpO3ZhciBmPWguZ2V0Q29udGV4dCgiMmQiKTtkdChmLGksbyxhKTt2YXIgZD1mdW5jdGlvbih0KXt2YXIgZT10LmNoYXJhY3RlclNldCxuPXQuZ2V0Rm9udFdpZHRoLHI9dC5mb250SGVpZ2h0LGk9dC5idWZmZXIsYT10Lm1heENhbnZhc1dpZHRoLG89dC5tYXBwaW5nLHM9dm9pZCAwPT09bz97fTpvLHU9dC54T2Zmc2V0LGM9dm9pZCAwPT09dT8wOnUsbD10LnlPZmZzZXQsaD12b2lkIDA9PT1sPzA6bCxmPTAsZD1jLHY9MCxwPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgbSxiPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0obT1iLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89bS52YWx1ZTtpZighc1tfXSl7dmFyIE89bihfLHYrKyk7ZCtPKzIqaT5hJiYoZD0wLGYrKyksc1tfXT17eDpkK2kseTpoK2YqKHIrMippKStpLHdpZHRoOk8saGVpZ2h0OnJ9LGQrPU8rMippfX19Y2F0Y2godCl7Zz0hMCx5PXR9ZmluYWxseXt0cnl7cHx8bnVsbD09Yi5yZXR1cm58fGIucmV0dXJuKCl9ZmluYWxseXtpZihnKXRocm93IHl9fXZhciB4LHc9cisyKmk7cmV0dXJue21hcHBpbmc6cyx4T2Zmc2V0OmQseU9mZnNldDpoK2YqdyxjYW52YXNIZWlnaHQ6KHg9aCsoZisxKSp3LE1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nMih4KSkpKX19KE9iamVjdC5hc3NpZ24oe2dldEZvbnRXaWR0aDpmdW5jdGlvbih0KXtyZXR1cm4gZi5tZWFzdXJlVGV4dCh0KS53aWR0aH0sZm9udEhlaWdodDoxLjIqbyxidWZmZXI6cyxjaGFyYWN0ZXJTZXQ6ZSxtYXhDYW52YXNXaWR0aDoxMDI0fSxuJiZ7bWFwcGluZzpuLm1hcHBpbmcseE9mZnNldDpuLnhPZmZzZXQseU9mZnNldDpuLnlPZmZzZXR9KSksdj1kLm1hcHBpbmcscD1kLmNhbnZhc0hlaWdodCxnPWQueE9mZnNldCx5PWQueU9mZnNldDtpZihoLmhlaWdodCE9PXApe3ZhciBtPWYuZ2V0SW1hZ2VEYXRhKDAsMCxoLndpZHRoLGguaGVpZ2h0KTtoLmhlaWdodD1wLGYucHV0SW1hZ2VEYXRhKG0sMCwwKX1pZihkdChmLGksbyxhKSx1KXt2YXIgYj1uZXcgbnQuYShvLHMsYyxsLGksYSksXz1mLmdldEltYWdlRGF0YSgwLDAsYi5zaXplLGIuc2l6ZSksTz0hMCx4PSExLHc9dm9pZCAwO3RyeXtmb3IodmFyIGssUz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKE89KGs9Uy5uZXh0KCkpLmRvbmUpO089ITApe3ZhciBQPWsudmFsdWU7ZnQoYi5kcmF3KFApLF8pLGYucHV0SW1hZ2VEYXRhKF8sdltQXS54LXMsdltQXS55LXMpfX1jYXRjaCh0KXt4PSEwLHc9dH1maW5hbGx5e3RyeXtPfHxudWxsPT1TLnJldHVybnx8Uy5yZXR1cm4oKX1maW5hbGx5e2lmKHgpdGhyb3cgd319fWVsc2V7dmFyIGo9ITAsVD0hMSxFPXZvaWQgMDt0cnl7Zm9yKHZhciBBLE09ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShqPShBPU0ubmV4dCgpKS5kb25lKTtqPSEwKXt2YXIgQz1BLnZhbHVlO2YuZmlsbFRleHQoQyx2W0NdLngsdltDXS55Ky45Km8pfX1jYXRjaCh0KXtUPSEwLEU9dH1maW5hbGx5e3RyeXtqfHxudWxsPT1NLnJldHVybnx8TS5yZXR1cm4oKX1maW5hbGx5e2lmKFQpdGhyb3cgRX19fXJldHVybnt4T2Zmc2V0OmcseU9mZnNldDp5LG1hcHBpbmc6dixkYXRhOmgsd2lkdGg6aC53aWR0aCxoZWlnaHQ6aC5oZWlnaHR9fX0se2tleToiX2dldEtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5nbCxuPXQuZm9udEZhbWlseSxyPXQuZm9udFdlaWdodCxpPXQuZm9udFNpemUsYT10LmJ1ZmZlcixvPXQuc2RmLHM9dC5yYWRpdXMsdT10LmN1dG9mZjtyZXR1cm4gbz8iIi5jb25jYXQoZSwiICIpLmNvbmNhdChuLCIgIikuY29uY2F0KHIsIiAiKS5jb25jYXQoaSwiICIpLmNvbmNhdChhLCIgIikuY29uY2F0KHMsIiAiKS5jb25jYXQodSk6IiIuY29uY2F0KGUsIiAiKS5jb25jYXQobiwiICIpLmNvbmNhdChyLCIgIikuY29uY2F0KGksIiAiKS5jb25jYXQoYSl9fSx7a2V5OiJ0ZXh0dXJlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX19LHtrZXk6Im1hcHBpbmciLGdldDpmdW5jdGlvbigpe3ZhciB0PWN0LmdldCh0aGlzLl9rZXkpO3JldHVybiB0JiZ0Lm1hcHBpbmd9fSx7a2V5OiJzY2FsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDEuMn19XSksdH0oKTtmdW5jdGlvbiBwdCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIGd0PXtmb250U2l6ZTo2NCxidWZmZXI6MixzZGY6ITEscmFkaXVzOjMsY3V0b2ZmOi4yNX0seXQ9e3N0YXJ0OjEsbWlkZGxlOjAsZW5kOi0xfSxtdD17dG9wOjEsY2VudGVyOjAsYm90dG9tOi0xfSxidD1bImZvbnRTaXplIiwiYnVmZmVyIiwic2RmIiwicmFkaXVzIiwiY3V0b2ZmIl0sX3Q9e2JpbGxib2FyZDohMCxzaXplU2NhbGU6MSxzaXplVW5pdHM6InBpeGVscyIsc2l6ZU1pblBpeGVsczowLHNpemVNYXhQaXhlbHM6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsYmFja2dyb3VuZENvbG9yOnt0eXBlOiJjb2xvciIsdmFsdWU6bnVsbCxvcHRpb25hbDohMH0sY2hhcmFjdGVyU2V0OnV0LGZvbnRGYW1pbHk6Ik1vbmFjbywgbW9ub3NwYWNlIixmb250V2VpZ2h0OiJub3JtYWwiLGxpbmVIZWlnaHQ6MSxmb250U2V0dGluZ3M6e30sd29yZEJyZWFrOiJ3b3JkLWJyZWFrIixtYXhXaWR0aDp7dHlwZToibnVtYmVyIix2YWx1ZTotMX0sZ2V0VGV4dDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9fSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0U2l6ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjMyfSxnZXRBbmdsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjB9LGdldFRleHRBbmNob3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToibWlkZGxlIn0sZ2V0QWxpZ25tZW50QmFzZWxpbmU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToiY2VudGVyIn0sZ2V0UGl4ZWxPZmZzZXQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX19LE90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGcoKShlLHQpLHUoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17c3R5bGVWZXJzaW9uOjAsZm9udEF0bGFzTWFuYWdlcjpuZXcgdnQodGhpcy5jb250ZXh0LmdsKX19fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPXQub2xkUHJvcHMscj10LmNoYW5nZUZsYWdzLGk9dGhpcy5fZm9udENoYW5nZWQobixlKTtpJiZ0aGlzLl91cGRhdGVGb250QXRsYXMobixlKTt2YXIgYT1pfHxlLmxpbmVIZWlnaHQhPT1uLmxpbmVIZWlnaHR8fGUud29yZEJyZWFrIT09bi53b3JkQnJlYWt8fGUubWF4V2lkdGghPT1uLm1heFdpZHRoOyhyLmRhdGFDaGFuZ2VkfHxyLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKHIudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8ci51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0VGV4dCkpJiZ0aGlzLl91cGRhdGVUZXh0KCksYSYmdGhpcy5zZXRTdGF0ZSh7c3R5bGVWZXJzaW9uOnRoaXMuc3RhdGUuc3R5bGVWZXJzaW9uKzF9KX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7digpKGYoKShlLnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLmZpbmFsaXplKCl9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmZvO3JldHVybiBPYmplY3QuYXNzaWduKGUse29iamVjdDplLmluZGV4Pj0wP3RoaXMucHJvcHMuZGF0YVtlLmluZGV4XTpudWxsfSl9fSx7a2V5OiJfdXBkYXRlRm9udEF0bGFzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuY2hhcmFjdGVyU2V0LHI9ZS5mb250U2V0dGluZ3MsaT1lLmZvbnRGYW1pbHksYT1lLmZvbnRXZWlnaHQ7dGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLnNldFByb3BzKE9iamVjdC5hc3NpZ24oe30sZ3Qscix7Y2hhcmFjdGVyU2V0Om4sZm9udEZhbWlseTppLGZvbnRXZWlnaHQ6YX0pKSx0aGlzLnNldE5lZWRzUmVkcmF3KCEwKX19LHtrZXk6Il9mb250Q2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmZvbnRGYW1pbHkhPT1lLmZvbnRGYW1pbHl8fHQuY2hhcmFjdGVyU2V0IT09ZS5jaGFyYWN0ZXJTZXR8fHQuZm9udFdlaWdodCE9PWUuZm9udFdlaWdodClyZXR1cm4hMDtpZih0LmZvbnRTZXR0aW5ncz09PWUuZm9udFNldHRpbmdzKXJldHVybiExO3ZhciBuPXQuZm9udFNldHRpbmdzfHx7fSxyPWUuZm9udFNldHRpbmdzfHx7fTtyZXR1cm4gYnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIG5bdF0hPT1yW3RdfSkpfX0se2tleToiX3VwZGF0ZVRleHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnByb3BzLmRhdGEsbj1lLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy5nZXRUZXh0LHI9dGhpcy5wcm9wcy5nZXRUZXh0LGk9ZS5zdGFydEluZGljZXM7aWYobiYmaSl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZSxuPXQubGVuZ3RoLHI9dC5zdHJpZGUsaT10Lm9mZnNldCxhPXQuc3RhcnRJbmRpY2VzLG89ZS5CWVRFU19QRVJfRUxFTUVOVCxzPXI/ci9vOjEsdT1pP2kvbzowLGM9YVtuXXx8TWF0aC5mbG9vcigoZS5sZW5ndGgtdS1vKS9zKSsxLGw9bmV3IEFycmF5KG4pLGg9ZTtpZihzPjF8fHU+MCl7aD1uZXcgZS5jb25zdHJ1Y3RvcihjKTtmb3IodmFyIGY9MDtmPGM7ZisrKWhbZl09ZVtmKnMrdV19Zm9yKHZhciBkPTA7ZDxuO2QrKyl7dmFyIHY9YVtkXSxwPWFbZCsxXXx8YztsW2RdPVN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KG51bGwsaC5zdWJhcnJheSh2LHApKX1yZXR1cm57dGV4dHM6bCxjaGFyYWN0ZXJDb3VudDpjfX0oZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/cHQoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXttKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnB0KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSxBcnJheUJ1ZmZlci5pc1ZpZXcobik/e3ZhbHVlOm59Om4se2xlbmd0aDplLmxlbmd0aCxzdGFydEluZGljZXM6aX0pKSxvPWEudGV4dHM7dD1hLmNoYXJhY3RlckNvdW50LHI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmluZGV4O3JldHVybiBvW25dfX1lbHNle3ZhciBzPU9iamVjdChDLmEpKGUpLHU9cy5pdGVyYWJsZSxjPXMub2JqZWN0SW5mbztpPVswXSx0PTA7dmFyIGw9ITAsaD0hMSxmPXZvaWQgMDt0cnl7Zm9yKHZhciBkLHY9dVtTeW1ib2wuaXRlcmF0b3JdKCk7IShsPShkPXYubmV4dCgpKS5kb25lKTtsPSEwKXt2YXIgcD1kLnZhbHVlO2MuaW5kZXgrKyx0Kz0ocihwLGMpfHwiIikubGVuZ3RoLGkucHVzaCh0KX19Y2F0Y2godCl7aD0hMCxmPXR9ZmluYWxseXt0cnl7bHx8bnVsbD09di5yZXR1cm58fHYucmV0dXJuKCl9ZmluYWxseXtpZihoKXRocm93IGZ9fX10aGlzLnNldFN0YXRlKHtnZXRUZXh0OnIsc3RhcnRJbmRpY2VzOmksbnVtSW5zdGFuY2VzOnR9KX19LHtrZXk6ImdldEljb25PZmZzZXRzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3RhdGUuZm9udEF0bGFzTWFuYWdlci5tYXBwaW5nLHI9dGhpcy5zdGF0ZS5nZXRUZXh0LGk9dGhpcy5wcm9wcyxhPWkud29yZEJyZWFrLG89aS5tYXhXaWR0aCxzPWkubGluZUhlaWdodCx1PWkuZ2V0VGV4dEFuY2hvcixjPWkuZ2V0QWxpZ25tZW50QmFzZWxpbmUsbD1yKHQsZSl8fCIiLGg9ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIGE9bmV3IEFycmF5KHQubGVuZ3RoKSxvPSgiYnJlYWstd29yZCI9PT1ufHwiYnJlYWstYWxsIj09PW4pJiZpc0Zpbml0ZShyKSYmcj4wLHM9WzAsMF0sdT0wLGM9MCxsPTA7bDw9dC5sZW5ndGg7bCsrKXt2YXIgaD10W2xdLGY9dm9pZCAwO2lmKCJcbiIhPT1oJiZ2b2lkIDAhPT1ofHwoZj10LnNsaWNlKGMsbCkpLGYpe3ZhciBkPW8/YXQoZixuLHIsaSkucm93czpbZl0sdj0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksbT1kW1N5bWJvbC5pdGVyYXRvcl0oKTshKHY9KHk9bS5uZXh0KCkpLmRvbmUpO3Y9ITApe3ZhciBiPW90KHkudmFsdWUsaSksXz1iLnJvd1dpZHRoLE89Yi5yb3dIZWlnaHQseD1iLmxlZnRPZmZzZXRzLHc9ITAsaz0hMSxTPXZvaWQgMDt0cnl7Zm9yKHZhciBQLGo9eFtTeW1ib2wuaXRlcmF0b3JdKCk7ISh3PShQPWoubmV4dCgpKS5kb25lKTt3PSEwKXt2YXIgVD1QLnZhbHVlO2FbYysrXT17eDpULHk6dStPLzIscm93V2lkdGg6X319fWNhdGNoKHQpe2s9ITAsUz10fWZpbmFsbHl7dHJ5e3d8fG51bGw9PWoucmV0dXJufHxqLnJldHVybigpfWZpbmFsbHl7aWYoayl0aHJvdyBTfX11Kz1PKmUsc1swXT1vP3I6TWF0aC5tYXgoc1swXSxfKX19Y2F0Y2godCl7cD0hMCxnPXR9ZmluYWxseXt0cnl7dnx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGd9fX0iXG4iPT09aCYmKGFbYysrXT17eDowLHk6MCxyb3dXaWR0aDowfSl9cmV0dXJuIHNbMV09dSx7Y2hhcmFjdGVyczphLHNpemU6c319KGwscyxhLG8sbiksZj1oLmNoYXJhY3RlcnMsZD1RKCkoaC5zaXplLDIpLHY9ZFswXSxwPWRbMV0sZz15dFsiZnVuY3Rpb24iPT10eXBlb2YgdT91KHQsZSk6dV0seT1tdFsiZnVuY3Rpb24iPT10eXBlb2YgYz9jKHQsZSk6Y10sbT1uZXcgQXJyYXkoMipsLmxlbmd0aCksYj0wLF89ITAsTz0hMSx4PXZvaWQgMDt0cnl7Zm9yKHZhciB3LGs9ZltTeW1ib2wuaXRlcmF0b3JdKCk7IShfPSh3PWsubmV4dCgpKS5kb25lKTtfPSEwKXt2YXIgUz13LnZhbHVlLFA9Uy5yb3dXaWR0aCxqPVMueCxUPVMueSxFPSgxLWcpKih2LVApLzI7bVtiKytdPShnLTEpKnYvMitFK2osbVtiKytdPSh5LTEpKnAvMitUfX1jYXRjaCh0KXtPPSEwLHg9dH1maW5hbGx5e3RyeXtffHxudWxsPT1rLnJldHVybnx8ay5yZXR1cm4oKX1maW5hbGx5e2lmKE8pdGhyb3cgeH19cmV0dXJuIG19fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZSxlPXQuc3RhcnRJbmRpY2VzLG49dC5udW1JbnN0YW5jZXMscj10LmdldFRleHQsaT10LmZvbnRBdGxhc01hbmFnZXIsYT1pLnNjYWxlLG89aS50ZXh0dXJlLHM9aS5tYXBwaW5nLHU9dC5zdHlsZVZlcnNpb24sYz10aGlzLnByb3BzLGw9Yy5kYXRhLGg9Yy5fZGF0YURpZmYsZj1jLmJhY2tncm91bmRDb2xvcixkPWMuZ2V0UG9zaXRpb24sdj1jLmdldENvbG9yLHA9Yy5nZXRTaXplLGc9Yy5nZXRBbmdsZSx5PWMuZ2V0UGl4ZWxPZmZzZXQsbT1jLmJpbGxib2FyZCxiPWMuc2RmLF89Yy5zaXplU2NhbGUsTz1jLnNpemVVbml0cyx4PWMuc2l6ZU1pblBpeGVscyx3PWMuc2l6ZU1heFBpeGVscyxrPWMudHJhbnNpdGlvbnMsUz1jLnVwZGF0ZVRyaWdnZXJzLFA9dGhpcy5nZXRJY29uT2Zmc2V0cy5iaW5kKHRoaXMpO3JldHVybiBuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJjaGFyYWN0ZXJzIix0dCkpKHtzZGY6YixpY29uQXRsYXM6byxpY29uTWFwcGluZzpzLGJhY2tncm91bmRDb2xvcjpmLGdldFBvc2l0aW9uOmQsZ2V0Q29sb3I6dixnZXRTaXplOnAsZ2V0QW5nbGU6ZyxnZXRQaXhlbE9mZnNldDp5LGJpbGxib2FyZDptLHNpemVTY2FsZTpfKmEsc2l6ZVVuaXRzOk8sc2l6ZU1pblBpeGVsczp4KmEsc2l6ZU1heFBpeGVsczp3KmEsdHJhbnNpdGlvbnM6ayYme2dldFBvc2l0aW9uOmsuZ2V0UG9zaXRpb24sZ2V0QW5nbGU6ay5nZXRBbmdsZSxnZXRDb2xvcjprLmdldENvbG9yLGdldFNpemU6ay5nZXRTaXplLGdldFBpeGVsT2Zmc2V0OlMuZ2V0UGl4ZWxPZmZzZXR9fSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjaGFyYWN0ZXJzIix1cGRhdGVUcmlnZ2Vyczp7Z2V0UG9zaXRpb246Uy5nZXRQb3NpdGlvbixnZXRBbmdsZTpTLmdldEFuZ2xlLGdldENvbG9yOlMuZ2V0Q29sb3IsZ2V0U2l6ZTpTLmdldFNpemUsZ2V0UGl4ZWxPZmZzZXQ6Uy5nZXRQaXhlbE9mZnNldCxnZXRJY29uT2Zmc2V0czp7Z2V0VGV4dDpTLmdldFRleHQsZ2V0VGV4dEFuY2hvcjpTLmdldFRleHRBbmNob3IsZ2V0QWxpZ25tZW50QmFzZWxpbmU6Uy5nZXRBbGlnbm1lbnRCYXNlbGluZSxzdHlsZVZlcnNpb246dX19fSkse2RhdGE6bCxfZGF0YURpZmY6aCxzdGFydEluZGljZXM6ZSxudW1JbnN0YW5jZXM6bixnZXRJY29uT2Zmc2V0czpQLGdldEljb246cn0pfX1dKSxlfShKLmEpO090LmxheWVyTmFtZT0iVGV4dExheWVyIixPdC5kZWZhdWx0UHJvcHM9X3Q7dmFyIHh0PW4oMTE5KTtuLmQoZSwiQXJjTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSksbi5kKGUsIkJpdG1hcExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoZSwiSWNvbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQoZSwiTGluZUxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVi5hfSkpLG4uZChlLCJQb2ludENsb3VkTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBHLmF9KSksbi5kKGUsIlNjYXR0ZXJwbG90TGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBXLmF9KSksbi5kKGUsIkNvbHVtbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gSC5hfSkpLG4uZChlLCJHcmlkQ2VsbExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gcS5hfSkpLG4uZChlLCJQYXRoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBYLmF9KSksbi5kKGUsIlBvbHlnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFouYX0pKSxuLmQoZSwiR2VvSnNvbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gWS5hfSkpLG4uZChlLCJUZXh0TGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSwiU29saWRQb2x5Z29uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB4dC5hfSkpLG4uZChlLCJfTXVsdGlJY29uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB0dH0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImciLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIHI9bigyNSksaT17c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsd2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3csZ2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsZG9jdW1lbnQ6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnR9LGE9aS5zZWxmfHxpLndpbmRvd3x8aS5nbG9iYWwsbz1pLndpbmRvd3x8aS5zZWxmfHxpLmdsb2JhbCxzPWkuZ2xvYmFsfHxpLnNlbGZ8fGkud2luZG93LHU9aS5kb2N1bWVudHx8e30sYz0ib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHByb2Nlc3M/InVuZGVmaW5lZCI6T2JqZWN0KHIuYSkocHJvY2VzcykpfHwiW29iamVjdCBwcm9jZXNzXSIhPT1TdHJpbmcocHJvY2Vzcyl8fHByb2Nlc3MuYnJvd3NlcixsPSJmdW5jdGlvbiI9PXR5cGVvZiBpbXBvcnRTY3JpcHRzLGg9InVuZGVmaW5lZCIhPXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLnZlcnNpb24mJnByb2Nlc3MudmVyc2lvbi5tYXRjaCgvdihbMC05XSopLyksZj1oJiZwYXJzZUZsb2F0KGhbMV0pfHwwfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmZ1bmN0aW9uKCl7cmV0dXJuITB9O3JldHVybiBBcnJheS5pc0FycmF5KHQpP2kodCxlLFtdKTplKHQpP1t0XTpbXX1mdW5jdGlvbiBpKHQsZSxuKXtmb3IodmFyIHI9LTE7KytyPHQubGVuZ3RoOyl7dmFyIGE9dFtyXTtBcnJheS5pc0FycmF5KGEpP2koYSxlLG4pOmUoYSkmJm4ucHVzaChhKX1yZXR1cm4gbn1mdW5jdGlvbiBhKHQpe2Zvcih2YXIgZT10LnRhcmdldCxuPXQuc291cmNlLHI9dC5zdGFydCxpPXZvaWQgMD09PXI/MDpyLGE9dC5jb3VudCxvPXZvaWQgMD09PWE/MTphLHM9bi5sZW5ndGgsdT1vKnMsYz0wLGw9aTtjPHM7YysrKWVbbCsrXT1uW2NdO2Zvcig7Yzx1OyljPHUtYz8oZS5jb3B5V2l0aGluKGkrYyxpLGkrYyksYyo9Mik6KGUuY29weVdpdGhpbihpK2MsaSxpK3UtYyksYz11KTtyZXR1cm4gZX1uLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigyOCksaT1uKDExKTtmdW5jdGlvbiBhKHQpe09iamVjdChyLmEpKE9iamVjdChpLmYpKHQpLCJJbnZhbGlkIFdlYkdMUmVuZGVyaW5nQ29udGV4dCIpfWZ1bmN0aW9uIG8odCl7T2JqZWN0KHIuYSkoT2JqZWN0KGkuZykodCksIlJlcXVpcmVzIFdlYkdMMiIpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTApLGY9bi5uKGgpLGQ9bigxNzApLHY9big4KSxwPVsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIl0sZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnA7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5jYWxsKHRoaXMsdCkpfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToiaW50ZXJwb2xhdGVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXt9O2Zvcih2YXIgaSBpbiBlKXJbaV09T2JqZWN0KHYubCkodFtpXSxlW2ldLG4pO3JldHVybiByfX1dKSxlfShkLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDc3KSx1PW4oODUpLGM9ZnVuY3Rpb24oKXt9LGw9e0JSRUFLOjEsU05BUF9UT19FTkQ6MixJR05PUkU6M30saD17dHJhbnNpdGlvbkR1cmF0aW9uOjAsdHJhbnNpdGlvbkVhc2luZzpmdW5jdGlvbih0KXtyZXR1cm4gdH0sdHJhbnNpdGlvbkludGVycG9sYXRvcjpuZXcgcy5hLHRyYW5zaXRpb25JbnRlcnJ1cHRpb246bC5CUkVBSyxvblRyYW5zaXRpb25TdGFydDpjLG9uVHJhbnNpdGlvbkludGVycnVwdDpjLG9uVHJhbnNpdGlvbkVuZDpjfSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aSgpKHRoaXMsdCksdGhpcy5Db250cm9sbGVyU3RhdGU9ZSx0aGlzLnByb3BzPU9iamVjdC5hc3NpZ24oe30saCxuKSx0aGlzLnByb3BzSW5UcmFuc2l0aW9uPW51bGwsdGhpcy50cmFuc2l0aW9uPW5ldyB1LmEobi50aW1lbGluZSksdGhpcy5vblZpZXdTdGF0ZUNoYW5nZT1uLm9uVmlld1N0YXRlQ2hhbmdlLHRoaXMuX29uVHJhbnNpdGlvblVwZGF0ZT10aGlzLl9vblRyYW5zaXRpb25VcGRhdGUuYmluZCh0aGlzKX1yZXR1cm4gbygpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbi5jYW5jZWwoKX19LHtrZXk6ImdldFZpZXdwb3J0SW5UcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzSW5UcmFuc2l0aW9ufX0se2tleToicHJvY2Vzc1ZpZXdTdGF0ZUNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ITEsbj10aGlzLnByb3BzO2lmKHQ9T2JqZWN0LmFzc2lnbih7fSxoLHQpLHRoaXMucHJvcHM9dCx0aGlzLl9zaG91bGRJZ25vcmVWaWV3cG9ydENoYW5nZShuLHQpKXJldHVybiBlO2lmKHRoaXMuX2lzVHJhbnNpdGlvbkVuYWJsZWQodCkpe3ZhciByPXRoaXMudHJhbnNpdGlvbi5zZXR0aW5ncyxpPXIuaW50ZXJydXB0aW9uLGE9ci5lbmRQcm9wcyxvPU9iamVjdC5hc3NpZ24oe30sbixpPT09bC5TTkFQX1RPX0VORD9hOnRoaXMucHJvcHNJblRyYW5zaXRpb258fG4pO3RoaXMuX3RyaWdnZXJUcmFuc2l0aW9uKG8sdCksZT0hMH1lbHNlIHRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKTtyZXR1cm4gZX19LHtrZXk6InVwZGF0ZVRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc2l0aW9uLnVwZGF0ZSgpfX0se2tleToiX2lzVHJhbnNpdGlvbkVuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJhbnNpdGlvbkR1cmF0aW9uLG49dC50cmFuc2l0aW9uSW50ZXJwb2xhdG9yO3JldHVybihlPjB8fCJhdXRvIj09PWUpJiZCb29sZWFuKG4pfX0se2tleToiX2lzVXBkYXRlRHVlVG9DdXJyZW50VHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnRyYW5zaXRpb24uaW5Qcm9ncmVzcyYmdGhpcy50cmFuc2l0aW9uLnNldHRpbmdzLmludGVycG9sYXRvci5hcmVQcm9wc0VxdWFsKHQsdGhpcy5wcm9wc0luVHJhbnNpdGlvbil9fSx7a2V5OiJfc2hvdWxkSWdub3JlVmlld3BvcnRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzP3RoaXMudHJhbnNpdGlvbi5zZXR0aW5ncy5pbnRlcnJ1cHRpb249PT1sLklHTk9SRXx8dGhpcy5faXNVcGRhdGVEdWVUb0N1cnJlbnRUcmFuc2l0aW9uKGUpOiF0aGlzLl9pc1RyYW5zaXRpb25FbmFibGVkKGUpfHxlLnRyYW5zaXRpb25JbnRlcnBvbGF0b3IuYXJlUHJvcHNFcXVhbCh0LGUpfX0se2tleToiX3RyaWdnZXJUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyB0aGlzLkNvbnRyb2xsZXJTdGF0ZSh0KSxyPW5ldyB0aGlzLkNvbnRyb2xsZXJTdGF0ZShlKS5zaG9ydGVzdFBhdGhGcm9tKG4pLGk9ZS50cmFuc2l0aW9uSW50ZXJwb2xhdG9yLGE9aS5nZXREdXJhdGlvbj9pLmdldER1cmF0aW9uKHQsZSk6ZS50cmFuc2l0aW9uRHVyYXRpb24sbz1lLnRyYW5zaXRpb25JbnRlcnBvbGF0b3IuaW5pdGlhbGl6ZVByb3BzKHQscik7dGhpcy5wcm9wc0luVHJhbnNpdGlvbj17fSx0aGlzLmR1cmF0aW9uPWEsdGhpcy50cmFuc2l0aW9uLnN0YXJ0KHtkdXJhdGlvbjphLGVhc2luZzplLnRyYW5zaXRpb25FYXNpbmcsaW50ZXJwb2xhdG9yOmUudHJhbnNpdGlvbkludGVycG9sYXRvcixpbnRlcnJ1cHRpb246ZS50cmFuc2l0aW9uSW50ZXJydXB0aW9uLHN0YXJ0UHJvcHM6by5zdGFydCxlbmRQcm9wczpvLmVuZCxvblN0YXJ0OmUub25UcmFuc2l0aW9uU3RhcnQsb25VcGRhdGU6dGhpcy5fb25UcmFuc2l0aW9uVXBkYXRlLG9uSW50ZXJydXB0OnRoaXMuX29uVHJhbnNpdGlvbkVuZChlLm9uVHJhbnNpdGlvbkludGVycnVwdCksb25FbmQ6dGhpcy5fb25UcmFuc2l0aW9uRW5kKGUub25UcmFuc2l0aW9uRW5kKX0pLHRoaXMudXBkYXRlVHJhbnNpdGlvbigpfX0se2tleToiX29uVHJhbnNpdGlvbkVuZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7ZS5wcm9wc0luVHJhbnNpdGlvbj1udWxsLHQobil9fX0se2tleToiX29uVHJhbnNpdGlvblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50aW1lLG49dC5zZXR0aW5ncyxyPW4uaW50ZXJwb2xhdG9yLGk9bi5zdGFydFByb3BzLGE9bi5lbmRQcm9wcyxvPW4uZHVyYXRpb24scz0oMCxuLmVhc2luZykoZS9vKSx1PXIuaW50ZXJwb2xhdGVQcm9wcyhpLGEscyk7dGhpcy5wcm9wc0luVHJhbnNpdGlvbj1uZXcgdGhpcy5Db250cm9sbGVyU3RhdGUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnByb3BzLHUpKS5nZXRWaWV3cG9ydFByb3BzKCksdGhpcy5vblZpZXdTdGF0ZUNoYW5nZSYmdGhpcy5vblZpZXdTdGF0ZUNoYW5nZSh7dmlld1N0YXRlOnRoaXMucHJvcHNJblRyYW5zaXRpb24saW50ZXJhY3Rpb25TdGF0ZTp7aW5UcmFuc2l0aW9uOiEwfSxvbGRWaWV3U3RhdGU6dGhpcy5wcm9wc30pfX1dKSx0fSgpO2YuZGVmYXVsdFByb3BzPWh9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big3OCksdT1uKDIzKSxjPW4oMjkpLGw9e3RyYW5zaXRpb25EdXJhdGlvbjowfSxoPVsid2hlZWwiXSxmPVsicGFuc3RhcnQiLCJwYW5tb3ZlIiwicGFuZW5kIl0sZD1bInBpbmNoc3RhcnQiLCJwaW5jaG1vdmUiLCJwaW5jaGVuZCJdLHY9WyJkb3VibGV0YXAiXSxwPVsia2V5ZG93biJdLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpKCkodGhpcyx0KSxPYmplY3QoYy5hKShlKSx0aGlzLkNvbnRyb2xsZXJTdGF0ZT1lLHRoaXMuY29udHJvbGxlclN0YXRlPW51bGwsdGhpcy5jb250cm9sbGVyU3RhdGVQcm9wcz1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyPW51bGwsdGhpcy50cmFuc2l0aW9uTWFuYWdlcj1uZXcgcy5iKGUsbiksdGhpcy5fZXZlbnRzPW51bGwsdGhpcy5fc3RhdGU9e2lzRHJhZ2dpbmc6ITF9LHRoaXMuX2N1c3RvbUV2ZW50cz1bXSx0aGlzLm9uVmlld1N0YXRlQ2hhbmdlPW51bGwsdGhpcy5vblN0YXRlQ2hhbmdlPW51bGwsdGhpcy5pbnZlcnRQYW49ITEsdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksdGhpcy5zZXRQcm9wcyhuKX1yZXR1cm4gbygpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9ldmVudHMpdGhpcy5fZXZlbnRzW3RdJiZ0aGlzLmV2ZW50TWFuYWdlci5vZmYodCx0aGlzLmhhbmRsZUV2ZW50KTt0aGlzLnRyYW5zaXRpb25NYW5hZ2VyLmZpbmFsaXplKCl9fSx7a2V5OiJoYW5kbGVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5Db250cm9sbGVyU3RhdGU7c3dpdGNoKHRoaXMuY29udHJvbGxlclN0YXRlPW5ldyBlKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jb250cm9sbGVyU3RhdGVQcm9wcyx0aGlzLl9zdGF0ZSkpLHQudHlwZSl7Y2FzZSJwYW5zdGFydCI6cmV0dXJuIHRoaXMuX29uUGFuU3RhcnQodCk7Y2FzZSJwYW5tb3ZlIjpyZXR1cm4gdGhpcy5fb25QYW4odCk7Y2FzZSJwYW5lbmQiOnJldHVybiB0aGlzLl9vblBhbkVuZCh0KTtjYXNlInBpbmNoc3RhcnQiOnJldHVybiB0aGlzLl9vblBpbmNoU3RhcnQodCk7Y2FzZSJwaW5jaG1vdmUiOnJldHVybiB0aGlzLl9vblBpbmNoKHQpO2Nhc2UicGluY2hlbmQiOnJldHVybiB0aGlzLl9vblBpbmNoRW5kKHQpO2Nhc2UiZG91YmxldGFwIjpyZXR1cm4gdGhpcy5fb25Eb3VibGVUYXAodCk7Y2FzZSJ3aGVlbCI6cmV0dXJuIHRoaXMuX29uV2hlZWwodCk7Y2FzZSJrZXlkb3duIjpyZXR1cm4gdGhpcy5fb25LZXlEb3duKHQpO2RlZmF1bHQ6cmV0dXJuITF9fX0se2tleToiZ2V0Q2VudGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzLG49ZS54LHI9ZS55LGk9dC5vZmZzZXRDZW50ZXI7cmV0dXJuW2kueC1uLGkueS1yXX19LHtrZXk6ImlzUG9pbnRJbkJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzLHI9bi53aWR0aCxpPW4uaGVpZ2h0O2lmKGUmJmUuaGFuZGxlZClyZXR1cm4hMTt2YXIgYT10WzBdPj0wJiZ0WzBdPD1yJiZ0WzFdPj0wJiZ0WzFdPD1pO3JldHVybiBhJiZlJiZlLnN0b3BQcm9wYWdhdGlvbigpLGF9fSx7a2V5OiJpc0Z1bmN0aW9uS2V5UHJlc3NlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcmNFdmVudDtyZXR1cm4gQm9vbGVhbihlLm1ldGFLZXl8fGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUuc2hpZnRLZXkpfX0se2tleToiaXNEcmFnZ2luZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGUuaXNEcmFnZ2luZ319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXsib25WaWV3cG9ydENoYW5nZSJpbiB0JiZ1LmEucmVtb3ZlZCgib25WaWV3cG9ydENoYW5nZSIpKCksIm9uVmlld1N0YXRlQ2hhbmdlImluIHQmJih0aGlzLm9uVmlld1N0YXRlQ2hhbmdlPXQub25WaWV3U3RhdGVDaGFuZ2UpLCJvblN0YXRlQ2hhbmdlImluIHQmJih0aGlzLm9uU3RhdGVDaGFuZ2U9dC5vblN0YXRlQ2hhbmdlKSx0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzPXQsImV2ZW50TWFuYWdlciJpbiB0JiZ0aGlzLmV2ZW50TWFuYWdlciE9PXQuZXZlbnRNYW5hZ2VyJiYodGhpcy5ldmVudE1hbmFnZXI9dC5ldmVudE1hbmFnZXIsdGhpcy5fZXZlbnRzPXt9LHRoaXMudG9nZ2xlRXZlbnRzKHRoaXMuX2N1c3RvbUV2ZW50cywhMCkpLHRoaXMudHJhbnNpdGlvbk1hbmFnZXIucHJvY2Vzc1ZpZXdTdGF0ZUNoYW5nZSh0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzKTt2YXIgZT10LnNjcm9sbFpvb20sbj12b2lkIDA9PT1lfHxlLHI9dC5kcmFnUGFuLGk9dm9pZCAwPT09cnx8cixhPXQuZHJhZ1JvdGF0ZSxvPXZvaWQgMD09PWF8fGEscz10LmRvdWJsZUNsaWNrWm9vbSxjPXZvaWQgMD09PXN8fHMsbD10LnRvdWNoWm9vbSxnPXZvaWQgMD09PWx8fGwseT10LnRvdWNoUm90YXRlLG09dm9pZCAwIT09eSYmeSxiPXQua2V5Ym9hcmQsXz12b2lkIDA9PT1ifHxiLE89Qm9vbGVhbih0aGlzLm9uVmlld1N0YXRlQ2hhbmdlKTt0aGlzLnRvZ2dsZUV2ZW50cyhoLE8mJm4pLHRoaXMudG9nZ2xlRXZlbnRzKGYsTyYmKGl8fG8pKSx0aGlzLnRvZ2dsZUV2ZW50cyhkLE8mJihnfHxtKSksdGhpcy50b2dnbGVFdmVudHModixPJiZjKSx0aGlzLnRvZ2dsZUV2ZW50cyhwLE8mJl8pLHRoaXMuc2Nyb2xsWm9vbT1uLHRoaXMuZHJhZ1Bhbj1pLHRoaXMuZHJhZ1JvdGF0ZT1vLHRoaXMuZG91YmxlQ2xpY2tab29tPWMsdGhpcy50b3VjaFpvb209Zyx0aGlzLnRvdWNoUm90YXRlPW0sdGhpcy5rZXlib2FyZD1ffX0se2tleToidXBkYXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25NYW5hZ2VyLnVwZGF0ZVRyYW5zaXRpb24oKX19LHtrZXk6InRvZ2dsZUV2ZW50cyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyJiZ0LmZvckVhY2goKGZ1bmN0aW9uKHQpe24uX2V2ZW50c1t0XSE9PWUmJihuLl9ldmVudHNbdF09ZSxlP24uZXZlbnRNYW5hZ2VyLm9uKHQsbi5oYW5kbGVFdmVudCk6bi5ldmVudE1hbmFnZXIub2ZmKHQsbi5oYW5kbGVFdmVudCkpfSkpfX0se2tleToidXBkYXRlVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPU9iamVjdC5hc3NpZ24oe30sdC5nZXRWaWV3cG9ydFByb3BzKCksZSksaT10aGlzLmNvbnRyb2xsZXJTdGF0ZSE9PXQ7aWYoaSl7dmFyIGE9dGhpcy5jb250cm9sbGVyU3RhdGU/dGhpcy5jb250cm9sbGVyU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpOm51bGw7dGhpcy5vblZpZXdTdGF0ZUNoYW5nZSYmdGhpcy5vblZpZXdTdGF0ZUNoYW5nZSh7dmlld1N0YXRlOnIsaW50ZXJhY3Rpb25TdGF0ZTpuLG9sZFZpZXdTdGF0ZTphfSl9T2JqZWN0LmFzc2lnbih0aGlzLl9zdGF0ZSx0LmdldEludGVyYWN0aXZlU3RhdGUoKSxuKSx0aGlzLm9uU3RhdGVDaGFuZ2UmJnRoaXMub25TdGF0ZUNoYW5nZSh0aGlzLl9zdGF0ZSl9fSx7a2V5OiJfb25QYW5TdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDZW50ZXIodCk7aWYoIXRoaXMuaXNQb2ludEluQm91bmRzKGUsdCkpcmV0dXJuITE7dmFyIG49dGhpcy5jb250cm9sbGVyU3RhdGUucGFuU3RhcnQoe3BvczplfSkucm90YXRlU3RhcnQoe3BvczplfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQobixsLHtpc0RyYWdnaW5nOiEwfSksITB9fSx7a2V5OiJfb25QYW4iLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzRHJhZ2dpbmcoKSlyZXR1cm4hMTt2YXIgZT10aGlzLmlzRnVuY3Rpb25LZXlQcmVzc2VkKHQpfHx0LnJpZ2h0QnV0dG9uO3JldHVybihlPXRoaXMuaW52ZXJ0UGFuPyFlOmUpP3RoaXMuX29uUGFuTW92ZSh0KTp0aGlzLl9vblBhblJvdGF0ZSh0KX19LHtrZXk6Il9vblBhbkVuZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250cm9sbGVyU3RhdGUucGFuRW5kKCkucm90YXRlRW5kKCk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQoZSxudWxsLHtpc0RyYWdnaW5nOiExLGlzUGFubmluZzohMSxpc1JvdGF0aW5nOiExfSksITB9fSx7a2V5OiJfb25QYW5Nb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5kcmFnUGFuKXJldHVybiExO3ZhciBlPXRoaXMuZ2V0Q2VudGVyKHQpLG49dGhpcy5jb250cm9sbGVyU3RhdGUucGFuKHtwb3M6ZX0pO3JldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KG4sbCx7aXNEcmFnZ2luZzohMCxpc1Bhbm5pbmc6ITB9KSwhMH19LHtrZXk6Il9vblBhblJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZHJhZ1JvdGF0ZSlyZXR1cm4hMTt2YXIgZT10LmRlbHRhWCxuPXQuZGVsdGFZLHI9dGhpcy5jb250cm9sbGVyU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpLGk9ZS9yLndpZHRoLGE9bi9yLmhlaWdodCxvPXRoaXMuY29udHJvbGxlclN0YXRlLnJvdGF0ZSh7ZGVsdGFTY2FsZVg6aSxkZWx0YVNjYWxlWTphfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQobyxsLHtpc0RyYWdnaW5nOiEwLGlzUm90YXRpbmc6ITB9KSwhMH19LHtrZXk6Il9vbldoZWVsIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5zY3JvbGxab29tKXJldHVybiExO3QucHJldmVudERlZmF1bHQoKTt2YXIgZT10aGlzLmdldENlbnRlcih0KTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHMoZSx0KSlyZXR1cm4hMTt2YXIgbj10LmRlbHRhLHI9Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnMoLjAxKm4pKSk7bjwwJiYwIT09ciYmKHI9MS9yKTt2YXIgaT10aGlzLmNvbnRyb2xsZXJTdGF0ZS56b29tKHtwb3M6ZSxzY2FsZTpyfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQoaSxsLHtpc1pvb21pbmc6ITAsaXNQYW5uaW5nOiEwfSksITB9fSx7a2V5OiJfb25QaW5jaFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldENlbnRlcih0KTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHMoZSx0KSlyZXR1cm4hMTt2YXIgbj10aGlzLmNvbnRyb2xsZXJTdGF0ZS56b29tU3RhcnQoe3BvczplfSkucm90YXRlU3RhcnQoe3BvczplfSk7cmV0dXJuIHRoaXMuX3N0YXRlLnN0YXJ0UGluY2hSb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMudXBkYXRlVmlld3BvcnQobixsLHtpc0RyYWdnaW5nOiEwfSksITB9fSx7a2V5OiJfb25QaW5jaCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMudG91Y2hab29tJiYhdGhpcy50b3VjaFJvdGF0ZSlyZXR1cm4hMTtpZighdGhpcy5pc0RyYWdnaW5nKCkpcmV0dXJuITE7dmFyIGU9dGhpcy5jb250cm9sbGVyU3RhdGU7aWYodGhpcy50b3VjaFpvb20pe3ZhciBuPXQuc2NhbGUscj10aGlzLmdldENlbnRlcih0KTtlPWUuem9vbSh7cG9zOnIsc2NhbGU6bn0pfWlmKHRoaXMudG91Y2hSb3RhdGUpe3ZhciBpPXQucm90YXRpb24sYT10aGlzLl9zdGF0ZS5zdGFydFBpbmNoUm90YXRpb247ZT1lLnJvdGF0ZSh7ZGVsdGFTY2FsZVg6LShpLWEpLzE4MH0pfXJldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KGUsbCx7aXNEcmFnZ2luZzohMCxpc1Bhbm5pbmc6dGhpcy50b3VjaFpvb20saXNab29taW5nOnRoaXMudG91Y2hab29tLGlzUm90YXRpbmc6dGhpcy50b3VjaFJvdGF0ZX0pLCEwfX0se2tleToiX29uUGluY2hFbmQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udHJvbGxlclN0YXRlLnpvb21FbmQoKS5yb3RhdGVFbmQoKTtyZXR1cm4gdGhpcy5fc3RhdGUuc3RhcnRQaW5jaFJvdGF0aW9uPTAsdGhpcy51cGRhdGVWaWV3cG9ydChlLG51bGwse2lzRHJhZ2dpbmc6ITEsaXNQYW5uaW5nOiExLGlzWm9vbWluZzohMSxpc1JvdGF0aW5nOiExfSksITB9fSx7a2V5OiJfb25Eb3VibGVUYXAiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmRvdWJsZUNsaWNrWm9vbSlyZXR1cm4hMTt2YXIgZT10aGlzLmdldENlbnRlcih0KTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHMoZSx0KSlyZXR1cm4hMTt2YXIgbj10aGlzLmlzRnVuY3Rpb25LZXlQcmVzc2VkKHQpLHI9dGhpcy5jb250cm9sbGVyU3RhdGUuem9vbSh7cG9zOmUsc2NhbGU6bj8uNToyfSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQocix0aGlzLl9nZXRUcmFuc2l0aW9uUHJvcHMoKSx7aXNab29taW5nOiEwLGlzUGFubmluZzohMH0pLCEwfX0se2tleToiX29uS2V5RG93biIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMua2V5Ym9hcmQpcmV0dXJuITE7dmFyIGUsbj10aGlzLmlzRnVuY3Rpb25LZXlQcmVzc2VkKHQpLHI9dGhpcy5jb250cm9sbGVyU3RhdGUsaT17fTtzd2l0Y2godC5zcmNFdmVudC5rZXlDb2RlKXtjYXNlIDE4OTplPW4/ci56b29tT3V0KCkuem9vbU91dCgpOnIuem9vbU91dCgpLGkuaXNab29taW5nPSEwO2JyZWFrO2Nhc2UgMTg3OmU9bj9yLnpvb21JbigpLnpvb21JbigpOnIuem9vbUluKCksaS5pc1pvb21pbmc9ITA7YnJlYWs7Y2FzZSAzNzpuPyhlPXIucm90YXRlTGVmdCgpLGkuaXNSb3RhdGluZz0hMCk6KGU9ci5tb3ZlTGVmdCgpLGkuaXNQYW5uaW5nPSEwKTticmVhaztjYXNlIDM5Om4/KGU9ci5yb3RhdGVSaWdodCgpLGkuaXNSb3RhdGluZz0hMCk6KGU9ci5tb3ZlUmlnaHQoKSxpLmlzUGFubmluZz0hMCk7YnJlYWs7Y2FzZSAzODpuPyhlPXIucm90YXRlVXAoKSxpLmlzUm90YXRpbmc9ITApOihlPXIubW92ZVVwKCksaS5pc1Bhbm5pbmc9ITApO2JyZWFrO2Nhc2UgNDA6bj8oZT1yLnJvdGF0ZURvd24oKSxpLmlzUm90YXRpbmc9ITApOihlPXIubW92ZURvd24oKSxpLmlzUGFubmluZz0hMCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydChlLHRoaXMuX2dldFRyYW5zaXRpb25Qcm9wcygpLGkpLCEwfX0se2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LHtrZXk6ImV2ZW50cyIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMudG9nZ2xlRXZlbnRzKHRoaXMuX2N1c3RvbUV2ZW50cywhMSksdGhpcy50b2dnbGVFdmVudHModCwhMCksdGhpcy5fY3VzdG9tRXZlbnRzPXQsdGhpcy5zZXRQcm9wcyh0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzKX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIHI9bigyNSksaT1uKDI2KSxhPW4oMTE3KSxvPW4oNTkpLHM9bigzOCksdT0vXC4oW14uXSspJC8sYz0vXmRhdGE6KC4qPykoO3wsKS87ZnVuY3Rpb24gbCh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06IiIsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxzPXIubm90aHJvdyx1PXZvaWQgMCE9PXMmJnM7aWYoZT1lfHwiIix0JiYhQXJyYXkuaXNBcnJheSh0KSl7dmFyIGM9dDtyZXR1cm4gT2JqZWN0KG8uYikoYyksY31oKHQ9W10uY29uY2F0KE9iamVjdChpLmEpKHR8fFtdKSxPYmplY3QoaS5hKShPYmplY3QoYS5iKSgpKSkpO3ZhciBsPWYodCxlPWUucmVwbGFjZSgvXD8uKi8sIiIpKTtpZighKGw9KGw9bHx8dih0LG4pKXx8cCh0LG4pKSl7aWYodSlyZXR1cm4gbnVsbDt2YXIgZD0iTm8gdmFsaWQgbG9hZGVyIGZvdW5kIjt0aHJvdyBuJiYoZCs9JyBmb3IgZGF0YSBzdGFydGluZyB3aXRoICInLmNvbmNhdChtKG4pLCciJykpLGUmJihkKz0iIGZvciAiLmNvbmNhdChlKSksbmV3IEVycm9yKGQpfXJldHVybiBsfWZ1bmN0aW9uIGgodCl7dmFyIGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgcz1pLnZhbHVlO09iamVjdChvLmIpKHMpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fWZ1bmN0aW9uIGYodCxlKXt2YXIgbj1lLm1hdGNoKGMpLHI9biYmblsxXTtpZihyKXJldHVybiBkKHQscik7dmFyIGk9KG49ZS5tYXRjaCh1KSkmJm5bMV07cmV0dXJuIGkmJmZ1bmN0aW9uKHQsZSl7ZT1lLnRvTG93ZXJDYXNlKCk7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlLHU9ITAsYz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciBoLGY9cy5leHRlbnNpb25zW1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KGg9Zi5uZXh0KCkpLmRvbmUpO3U9ITApe2lmKGgudmFsdWUudG9Mb3dlckNhc2UoKT09PWUpcmV0dXJuIHN9fWNhdGNoKHQpe2M9ITAsbD10fWZpbmFsbHl7dHJ5e3V8fG51bGw9PWYucmV0dXJufHxmLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBsfX19fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gbnVsbH0odCxpKX1mdW5jdGlvbiBkKHQsZSl7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO2lmKHMubWltZVR5cGVzJiZzLm1pbWVUeXBlcy5pbmNsdWRlcyhlKSlyZXR1cm4gc319Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiBudWxsfWZ1bmN0aW9uIHYodCxlKXtyZXR1cm4gZSYmT2JqZWN0KHMuYykoZSkmJmUuaGVhZGVycz9kKHQsZS5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIikpOm51bGx9ZnVuY3Rpb24gcCh0LGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciBuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKGcoZSxzKSlyZXR1cm4gc31lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhlKSl7aWYoeShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQscykpcmV0dXJuIHN9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2lmKHkoZSwwLHMpKXJldHVybiBzfX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiBudWxsfWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gZS50ZXN0VGV4dCYmZS50ZXN0VGV4dCh0KX1mdW5jdGlvbiB5KHQsZSxuKXtzd2l0Y2goQXJyYXkuaXNBcnJheShuLnRlc3QpPyJhcnJheSI6T2JqZWN0KHIuYSkobi50ZXN0KSl7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIG4udGVzdCh0LG4pO2Nhc2Uic3RyaW5nIjpjYXNlImFycmF5IjpyZXR1cm4oQXJyYXkuaXNBcnJheShuLnRlc3QpP24udGVzdDpbbi50ZXN0XSkuc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIG49PT1iKHQsZSxuLmxlbmd0aCl9KSk7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gbSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NTtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQuc2xpY2UoMCxlKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIGIodC5idWZmZXIsdC5ieXRlT2Zmc2V0LGUpO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIG49MDtyZXR1cm4gYih0LG4sZSl9cmV0dXJuIiJ9ZnVuY3Rpb24gYih0LGUsbil7aWYodC5ieXRlTGVuZ3RoPD1lK24pcmV0dXJuIiI7Zm9yKHZhciByPW5ldyBEYXRhVmlldyh0KSxpPSIiLGE9MDthPG47YSsrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoci5nZXRVaW50OChlK2EpKTtyZXR1cm4gaX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big0MSksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oNTYpLGw9LyhbMC05XStcLj9bMC05XSopKCV8cHgpLztmdW5jdGlvbiBoKHQpe3N3aXRjaChpKCkodCkpe2Nhc2UibnVtYmVyIjpyZXR1cm57cG9zaXRpb246dCxyZWxhdGl2ZTohMX07Y2FzZSJzdHJpbmciOnZhciBlPXQubWF0Y2gobCk7aWYoZSYmZS5sZW5ndGg+PTMpe3ZhciBuPSIlIj09PWVbMl0scj1wYXJzZUZsb2F0KGVbMV0pO3JldHVybntwb3NpdGlvbjpuP3IvMTAwOnIscmVsYXRpdmU6bn19ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBwYXJzZSBwb3NpdGlvbiBzdHJpbmcgIi5jb25jYXQodCkpfX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIHQucmVsYXRpdmU/TWF0aC5yb3VuZCh0LnBvc2l0aW9uKmUpOnQucG9zaXRpb259dmFyIGQ9big4NCksdj1uKDI5KTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O28oKSh0aGlzLHQpO3ZhciBuPWUuaWQscj12b2lkIDA9PT1uP251bGw6bixpPWUueCxhPXZvaWQgMD09PWk/MDppLHM9ZS55LHU9dm9pZCAwPT09cz8wOnMsbD1lLndpZHRoLGg9dm9pZCAwPT09bD8iMTAwJSI6bCxmPWUuaGVpZ2h0LGQ9dm9pZCAwPT09Zj8iMTAwJSI6ZixwPWUucHJvamVjdGlvbk1hdHJpeCxnPXZvaWQgMD09PXA/bnVsbDpwLHk9ZS5mb3Z5LG09dm9pZCAwPT09eT81MDp5LGI9ZS5uZWFyLF89dm9pZCAwPT09Yj8uMTpiLE89ZS5mYXIseD12b2lkIDA9PT1PPzFlMzpPLHc9ZS5tb2RlbE1hdHJpeCxrPXZvaWQgMD09PXc/bnVsbDp3LFM9ZS52aWV3cG9ydEluc3RhbmNlLFA9dm9pZCAwPT09Uz9udWxsOlMsaj1lLnR5cGUsVD12b2lkIDA9PT1qP2MuYTpqO09iamVjdCh2LmEpKCFQfHxQIGluc3RhbmNlb2YgYy5hKSx0aGlzLnZpZXdwb3J0SW5zdGFuY2U9UCx0aGlzLmlkPXJ8fHRoaXMuY29uc3RydWN0b3IuZGlzcGxheU5hbWV8fCJ2aWV3Iix0aGlzLnR5cGU9VCx0aGlzLnByb3BzPU9iamVjdC5hc3NpZ24oe30sZSx7aWQ6dGhpcy5pZCxwcm9qZWN0aW9uTWF0cml4OmcsZm92eTptLG5lYXI6XyxmYXI6eCxtb2RlbE1hdHJpeDprfSksdGhpcy5fcGFyc2VEaW1lbnNpb25zKHt4OmEseTp1LHdpZHRoOmgsaGVpZ2h0OmR9KSx0aGlzLmVxdWFscz10aGlzLmVxdWFscy5iaW5kKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiB1KCkodCxbe2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fCh0aGlzLnZpZXdwb3J0SW5zdGFuY2U/dC52aWV3cG9ydEluc3RhbmNlJiZ0aGlzLnZpZXdwb3J0SW5zdGFuY2UuZXF1YWxzKHQudmlld3BvcnRJbnN0YW5jZSk6T2JqZWN0KGQuYSkodGhpcy5wcm9wcyx0LnByb3BzKSl9fSx7a2V5OiJtYWtlVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQud2lkdGgsbj10LmhlaWdodCxyPXQudmlld1N0YXRlO2lmKHRoaXMudmlld3BvcnRJbnN0YW5jZSlyZXR1cm4gdGhpcy52aWV3cG9ydEluc3RhbmNlO3I9dGhpcy5maWx0ZXJWaWV3U3RhdGUocik7dmFyIGk9dGhpcy5nZXREaW1lbnNpb25zKHt3aWR0aDplLGhlaWdodDpufSksYT1PYmplY3QuYXNzaWduKHt2aWV3U3RhdGU6cn0scix0aGlzLnByb3BzLGkpO3JldHVybiB0aGlzLl9nZXRWaWV3cG9ydChhKX19LHtrZXk6ImdldFZpZXdTdGF0ZUlkIix2YWx1ZTpmdW5jdGlvbigpe3N3aXRjaChpKCkodGhpcy5wcm9wcy52aWV3U3RhdGUpKXtjYXNlInN0cmluZyI6cmV0dXJuIHRoaXMucHJvcHMudmlld1N0YXRlO2Nhc2Uib2JqZWN0IjpyZXR1cm4gdGhpcy5wcm9wcy52aWV3U3RhdGUmJnRoaXMucHJvcHMudmlld1N0YXRlLmlkO2RlZmF1bHQ6cmV0dXJuIHRoaXMuaWR9fX0se2tleToiZmlsdGVyVmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnByb3BzLnZpZXdTdGF0ZSYmIm9iamVjdCI9PT1pKCkodGhpcy5wcm9wcy52aWV3U3RhdGUpKXtpZighdGhpcy5wcm9wcy52aWV3U3RhdGUuaWQpcmV0dXJuIHRoaXMucHJvcHMudmlld1N0YXRlO3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdCk7Zm9yKHZhciBuIGluIHRoaXMucHJvcHMudmlld1N0YXRlKSJpZCIhPT1uJiYoZVtuXT10aGlzLnByb3BzLnZpZXdTdGF0ZVtuXSk7cmV0dXJuIGV9cmV0dXJuIHR9fSx7a2V5OiJnZXREaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LndpZHRoLG49dC5oZWlnaHQ7cmV0dXJue3g6Zih0aGlzLl94LGUpLHk6Zih0aGlzLl95LG4pLHdpZHRoOmYodGhpcy5fd2lkdGgsZSksaGVpZ2h0OmYodGhpcy5faGVpZ2h0LG4pfX19LHtrZXk6Il9nZXRDb250cm9sbGVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuY29udHJvbGxlcjtyZXR1cm4gZT8hMD09PWU/dDooImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPXt0eXBlOmV9KSxPYmplY3QuYXNzaWduKHt9LHQsZSkpOm51bGx9fSx7a2V5OiJfZ2V0Vmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcoMCx0aGlzLnR5cGUpKHQpfX0se2tleToiX3BhcnNlRGltZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC54LG49dC55LHI9dC53aWR0aCxpPXQuaGVpZ2h0O3RoaXMuX3g9aChlKSx0aGlzLl95PWgobiksdGhpcy5fd2lkdGg9aChyKSx0aGlzLl9oZWlnaHQ9aChpKX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSk7dmFyIHI9bigwKSxpPW4oMzEpLGE9big2KSxvPW4oMTcpLHM9big0NyksdT1uKDE1KSxjPW4oODgpLGw9big3KSxoPW4oMTgpLGY9bigxMSksZD1uKDUyKSx2PW4oMTI3KSxwPW4oMTE0KSxnPW4oMTc3KSx5PW4oMTkxKSxtPW4oMjc1KSxiPW4oNzYpLF89bigxMDUpLE89bigyOCkseD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3QoYS5hKSh0aGlzLGUpLChuPU9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHUuYSkoZSkuY2FsbCh0aGlzLHQscikpKS53aWR0aD1udWxsLG4uaGVpZ2h0PW51bGwsbi5hdHRhY2htZW50cz17fSxuLnJlYWRCdWZmZXI9MzYwNjQsbi5kcmF3QnVmZmVycz1bMzYwNjRdLG4ub3duUmVzb3VyY2VzPVtdLG4uaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3Qocy5hKShuKSksbn1yZXR1cm4gT2JqZWN0KGguYSkoZSx0KSxPYmplY3QobC5hKShlLFt7a2V5OiJNQVhfQ09MT1JfQVRUQUNITUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLk1BWF9DT0xPUl9BVFRBQ0hNRU5UUyl9fSx7a2V5OiJNQVhfRFJBV19CVUZGRVJTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5NQVhfRFJBV19CVUZGRVJTKX19XSxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuY29sb3JCdWZmZXJGbG9hdCxyPWUuY29sb3JCdWZmZXJIYWxmRmxvYXQsaT0hMDtyZXR1cm4gbiYmKGk9Qm9vbGVhbih0LmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpfHx0LmdldEV4dGVuc2lvbigiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0Iil8fHQuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdCIpKSksciYmKGk9aSYmQm9vbGVhbih0LmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpfHx0LmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IikpKSxpfX0se2tleToiZ2V0RGVmYXVsdEZyYW1lYnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5sdW1hPXQubHVtYXx8e30sdC5sdW1hLmRlZmF1bHRGcmFtZWJ1ZmZlcj10Lmx1bWEuZGVmYXVsdEZyYW1lYnVmZmVyfHxuZXcgZSh0LHtpZDoiZGVmYXVsdC1mcmFtZWJ1ZmZlciIsaGFuZGxlOm51bGwsYXR0YWNobWVudHM6e319KSx0Lmx1bWEuZGVmYXVsdEZyYW1lYnVmZmVyfX1dKSxPYmplY3QobC5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LndpZHRoLG49dm9pZCAwPT09ZT8xOmUscj10LmhlaWdodCxpPXZvaWQgMD09PXI/MTpyLGE9dC5hdHRhY2htZW50cyxvPXZvaWQgMD09PWE/bnVsbDphLHM9dC5jb2xvcix1PXZvaWQgMD09PXN8fHMsYz10LmRlcHRoLGw9dm9pZCAwPT09Y3x8YyxoPXQuc3RlbmNpbCxmPXZvaWQgMCE9PWgmJmgsZD10LmNoZWNrLHY9dm9pZCAwPT09ZHx8ZCxwPXQucmVhZEJ1ZmZlcixnPXQuZHJhd0J1ZmZlcnM7aWYoT2JqZWN0KE8uYSkobj49MCYmaT49MCwiV2lkdGggYW5kIGhlaWdodCBuZWVkIHRvIGJlIGludGVnZXJzIiksdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PWksbylmb3IodmFyIHkgaW4gbyl7dmFyIG09b1t5XTsoQXJyYXkuaXNBcnJheShtKT9tWzBdOm0pLnJlc2l6ZSh7d2lkdGg6bixoZWlnaHQ6aX0pfWVsc2Ugbz10aGlzLl9jcmVhdGVEZWZhdWx0QXR0YWNobWVudHModSxsLGYsbixpKTt0aGlzLnVwZGF0ZSh7Y2xlYXJBdHRhY2htZW50czohMCxhdHRhY2htZW50czpvLHJlYWRCdWZmZXI6cCxkcmF3QnVmZmVyczpnfSksbyYmdiYmdGhpcy5jaGVja1N0YXR1cygpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMub3duUmVzb3VyY2VzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe2kudmFsdWUuZGVsZXRlKCl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1PYmplY3QoYy5hKShPYmplY3QodS5hKShlLnByb3RvdHlwZSksImRlbGV0ZSIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRhY2htZW50cyxuPXZvaWQgMD09PWU/e306ZSxyPXQucmVhZEJ1ZmZlcixpPXQuZHJhd0J1ZmZlcnMsYT10LmNsZWFyQXR0YWNobWVudHMsbz12b2lkIDAhPT1hJiZhLHM9dC5yZXNpemVBdHRhY2htZW50cyx1PXZvaWQgMD09PXN8fHM7dGhpcy5hdHRhY2gobix7Y2xlYXJBdHRhY2htZW50czpvLHJlc2l6ZUF0dGFjaG1lbnRzOnV9KTt2YXIgYz10aGlzLmdsLGw9Yy5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdGhpcy5oYW5kbGUpO3JldHVybiByJiZ0aGlzLl9zZXRSZWFkQnVmZmVyKHIpLGkmJnRoaXMuX3NldERyYXdCdWZmZXJzKGkpLGMuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGx8fG51bGwpLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC53aWR0aCxuPXQuaGVpZ2h0O2lmKG51bGw9PT10aGlzLmhhbmRsZSlyZXR1cm4gT2JqZWN0KE8uYSkodm9pZCAwPT09ZSYmdm9pZCAwPT09biksdGhpcy53aWR0aD10aGlzLmdsLmRyYXdpbmdCdWZmZXJXaWR0aCx0aGlzLmhlaWdodD10aGlzLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsdGhpcztmb3IodmFyIHIgaW4gdm9pZCAwPT09ZSYmKGU9dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgpLHZvaWQgMD09PW4mJihuPXRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCksZSE9PXRoaXMud2lkdGgmJm4hPT10aGlzLmhlaWdodCYmZi5oLmxvZygyLCJSZXNpemluZyBmcmFtZWJ1ZmZlciAiLmNvbmNhdCh0aGlzLmlkLCIgdG8gIikuY29uY2F0KGUsIngiKS5jb25jYXQobikpKCksdGhpcy5hdHRhY2htZW50cyl0aGlzLmF0dGFjaG1lbnRzW3JdLnJlc2l6ZSh7d2lkdGg6ZSxoZWlnaHQ6bn0pO3JldHVybiB0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9bix0aGlzfX0se2tleToiYXR0YWNoIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9bi5jbGVhckF0dGFjaG1lbnRzLGE9dm9pZCAwIT09ciYmcixvPW4ucmVzaXplQXR0YWNobWVudHMscz12b2lkIDA9PT1vfHxvLHU9e307YSYmT2JqZWN0LmtleXModGhpcy5hdHRhY2htZW50cykuZm9yRWFjaCgoZnVuY3Rpb24odCl7dVt0XT1udWxsfSkpLE9iamVjdC5hc3NpZ24odSx0KTt2YXIgYz10aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0aGlzLmhhbmRsZSk7Zm9yKHZhciBsIGluIHUpe09iamVjdChPLmEpKHZvaWQgMCE9PWwsIk1pc3NwZWxsZWQgZnJhbWVidWZmZXIgYmluZGluZyBwb2ludD8iKTt2YXIgaD1OdW1iZXIobCksZj11W2hdLGQ9ZjtpZihkKWlmKGQgaW5zdGFuY2VvZiBwLmEpdGhpcy5fYXR0YWNoUmVuZGVyYnVmZmVyKHthdHRhY2htZW50OmgscmVuZGVyYnVmZmVyOmR9KTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZikpe3ZhciB2PU9iamVjdChpLmEpKGYsMyksZz12WzBdLHk9dlsxXSxtPXZvaWQgMD09PXk/MDp5LGI9dlsyXSxfPXZvaWQgMD09PWI/MDpiO2Q9Zyx0aGlzLl9hdHRhY2hUZXh0dXJlKHthdHRhY2htZW50OmgsdGV4dHVyZTpnLGxheWVyOm0sbGV2ZWw6X30pfWVsc2UgdGhpcy5fYXR0YWNoVGV4dHVyZSh7YXR0YWNobWVudDpoLHRleHR1cmU6ZCxsYXllcjowLGxldmVsOjB9KTtlbHNlIHRoaXMuX3VuYXR0YWNoKGgpO3MmJmQmJmQucmVzaXplKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pfXRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGN8fG51bGwpLE9iamVjdC5hc3NpZ24odGhpcy5hdHRhY2htZW50cyx0KSxPYmplY3Qua2V5cyh0aGlzLmF0dGFjaG1lbnRzKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFlLmF0dGFjaG1lbnRzW3RdfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmF0dGFjaG1lbnRzW3RdfSkpfX0se2tleToiY2hlY2tTdGF0dXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbDt2YXIgdD10aGlzLmdldFN0YXR1cygpO2lmKDM2MDUzIT09dCl0aHJvdyBuZXcgRXJyb3Iodyh0KSk7cmV0dXJuIHRoaXN9fSx7a2V5OiJnZXRTdGF0dXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbCxlPXQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHRoaXMuaGFuZGxlKSxuPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygzNjE2MCk7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGV8fG51bGwpLG59fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNvbG9yLG49dC5kZXB0aCxyPXQuc3RlbmNpbCxpPXQuZHJhd0J1ZmZlcnMsYT12b2lkIDA9PT1pP1tdOmksbz10aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0aGlzLmhhbmRsZSk7cmV0dXJuKGV8fG58fHIpJiZPYmplY3QoZy5hKSh0aGlzLmdsLHtjb2xvcjplLGRlcHRoOm4sc3RlbmNpbDpyfSksYS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe09iamVjdChnLmIpKHtkcmF3QnVmZmVyOmUsdmFsdWU6dH0pfSkpLHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG98fG51bGwpLHRoaXN9fSx7a2V5OiJyZWFkUGl4ZWxzIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIGYuaC5lcnJvcigiRnJhbWVidWZmZXIucmVhZFBpeGVscygpIGlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSByZWFkUGl4ZWxzVG9BcnJheShmcmFtZWJ1ZmZlcikiKSgpLG51bGx9fSx7a2V5OiJyZWFkUGl4ZWxzVG9CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5yZWFkUGl4ZWxzVG9CdWZmZXIoKWlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSByZWFkUGl4ZWxzVG9CdWZmZXIoZnJhbWVidWZmZXIpIikoKSxudWxsfX0se2tleToiY29weVRvRGF0YVVybCIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLmNvcHlUb0RhdGFVcmwoKSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvRGF0YVVybChmcmFtZWJ1ZmZlcikiKSgpLG51bGx9fSx7a2V5OiJjb3B5VG9JbWFnZSIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLmNvcHlUb0ltYWdlKCkgaXMgbm8gbG9nbmVyIHN1cHBvcnRlZCwgdXNlIGNvcHlUb0ltYWdlKGZyYW1lYnVmZmVyKSIpKCksbnVsbH19LHtrZXk6ImNvcHlUb1RleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5jb3B5VG9UZXh0dXJlKHsuLi59KSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvVGV4dHVyZShzb3VyY2UsIHRhcmdldCwgb3B0c30pIikoKSxudWxsfX0se2tleToiYmxpdCIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLmJsaXQoey4uLn0pIGlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSBibGl0KHNvdXJjZSwgdGFyZ2V0LCBvcHRzKSIpKCksbnVsbH19LHtrZXk6ImludmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuYXR0YWNobWVudHMsbj12b2lkIDA9PT1lP1tdOmUscj10LngsaT12b2lkIDA9PT1yPzA6cixhPXQueSxvPXZvaWQgMD09PWE/MDphLHM9dC53aWR0aCx1PXQuaGVpZ2h0LGM9dGhpcy5nbDtPYmplY3QoYi5hKShjKTt2YXIgbD1jLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCx0aGlzLmhhbmRsZSk7cmV0dXJuIDA9PT1pJiYwPT09byYmdm9pZCAwPT09cyYmdm9pZCAwPT09dT9jLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxuKTpjLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxuLGksbyxzLHUpLGMuYmluZEZyYW1lYnVmZmVyKDM2MDA4LGwpLHRoaXN9fSx7a2V5OiJnZXRBdHRhY2htZW50UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fZ2V0QXR0YWNobWVudFBhcmFtZXRlckZhbGxiYWNrKGUpO3JldHVybiBudWxsPT09ciYmKHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHRoaXMuaGFuZGxlKSxyPXRoaXMuZ2wuZ2V0RnJhbWVidWZmZXJBdHRhY2htZW50UGFyYW1ldGVyKDM2MTYwLHQsZSksdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCkpLG4mJnI+MWUzJiYocj1PYmplY3QoXy5hKSh0aGlzLmdsLHIpKSxyfX0se2tleToiZ2V0QXR0YWNobWVudFBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjM2MDY0LGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5jb25zdHJ1Y3Rvci5BVFRBQ0hNRU5UX1BBUkFNRVRFUlN8fFtdLHI9e30saT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWUsbD1lP09iamVjdChfLmEpKHRoaXMuZ2wsYyk6YztyW2xdPXRoaXMuZ2V0QXR0YWNobWVudFBhcmFtZXRlcih0LGMsZSl9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4gcn19LHtrZXk6ImdldFBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sZT1PYmplY3Qua2V5cyh0aGlzLmF0dGFjaG1lbnRzKSxuPXt9LHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspe3ZhciBhPWlbcl0sbz1OdW1iZXIoYSkscz10P09iamVjdChfLmEpKHRoaXMuZ2wsbyk6bztuW3NdPXRoaXMuZ2V0QXR0YWNobWVudFBhcmFtZXRlcnMobyx0KX1yZXR1cm4gbn19LHtrZXk6InNob3ciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5vcGVuKE9iamVjdCh5LmEpKHRoaXMpLCJsdW1hLWRlYnVnLXRleHR1cmUiKSx0aGlzfX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiIiO2lmKHQ+Zi5oLmxldmVsfHwidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gdGhpcztlPWV8fCJGcmFtZWJ1ZmZlciAiLmNvbmNhdCh0aGlzLmlkKTt2YXIgbj1PYmplY3QoeS5hKSh0aGlzLHttYXhIZWlnaHQ6MTAwfSk7cmV0dXJuIGYuaC5pbWFnZSh7bG9nTGV2ZWw6dCxtZXNzYWdlOmUsaW1hZ2U6bn0sZSkoKSx0aGlzfX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnRhcmdldCxuPXZvaWQgMD09PWU/MzYxNjA6ZTtyZXR1cm4gdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIobix0aGlzLmhhbmRsZSksdGhpc319LHtrZXk6InVuYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnRhcmdldCxuPXZvaWQgMD09PWU/MzYxNjA6ZTtyZXR1cm4gdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIobixudWxsKSx0aGlzfX0se2tleToiX2NyZWF0ZURlZmF1bHRBdHRhY2htZW50cyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4saSxhKXt2YXIgbyxzPW51bGw7dCYmKChzPXN8fHt9KVszNjA2NF09bmV3IHYuYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLWNvbG9yMCIpLHBpeGVsczpudWxsLGZvcm1hdDo2NDA4LHR5cGU6NTEyMSx3aWR0aDppLGhlaWdodDphLG1pcG1hcHM6ITEscGFyYW1ldGVyczoobz17fSxPYmplY3Qoci5hKShvLDEwMjQxLDk3MjkpLE9iamVjdChyLmEpKG8sMTAyNDAsOTcyOSksT2JqZWN0KHIuYSkobywxMDI0MiwzMzA3MSksT2JqZWN0KHIuYSkobywxMDI0MywzMzA3MSksbyl9KSx0aGlzLm93blJlc291cmNlcy5wdXNoKHNbMzYwNjRdKSk7cmV0dXJuIGUmJm4/KChzPXN8fHt9KVszMzMwNl09bmV3IHAuYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLWRlcHRoLXN0ZW5jaWwiKSxmb3JtYXQ6MzUwNTYsd2lkdGg6aSxoZWlnaHQ6MTExfSksdGhpcy5vd25SZXNvdXJjZXMucHVzaChzWzMzMzA2XSkpOmU/KChzPXN8fHt9KVszNjA5Nl09bmV3IHAuYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLWRlcHRoIiksZm9ybWF0OjMzMTg5LHdpZHRoOmksaGVpZ2h0OmF9KSx0aGlzLm93blJlc291cmNlcy5wdXNoKHNbMzYwOTZdKSk6biYmT2JqZWN0KE8uYSkoITEpLHN9fSx7a2V5OiJfdW5hdHRhY2giLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXR0YWNobWVudHNbdF07ZSYmKGUgaW5zdGFuY2VvZiBwLmE/dGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCx0LDM2MTYxLG51bGwpOnRoaXMuZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsdCwzNTUzLG51bGwsMCksZGVsZXRlIHRoaXMuYXR0YWNobWVudHNbdF0pfX0se2tleToiX2F0dGFjaFJlbmRlcmJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRhY2htZW50LG49dm9pZCAwPT09ZT8zNjA2NDplLHI9dC5yZW5kZXJidWZmZXI7dGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCxuLDM2MTYxLHIuaGFuZGxlKSx0aGlzLmF0dGFjaG1lbnRzW25dPXJ9fSx7a2V5OiJfYXR0YWNoVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRhY2htZW50LG49dm9pZCAwPT09ZT8zNjA2NDplLHI9dC50ZXh0dXJlLGk9dC5sYXllcixhPXQubGV2ZWwsbz10aGlzLmdsO3N3aXRjaChvLmJpbmRUZXh0dXJlKHIudGFyZ2V0LHIuaGFuZGxlKSxyLnRhcmdldCl7Y2FzZSAzNTg2NjpjYXNlIDMyODc5Om8uZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoMzYxNjAsbixyLnRhcmdldCxhLGkpO2JyZWFrO2Nhc2UgMzQwNjc6dmFyIHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MzQwNjk/dCszNDA2OTp0fShpKTtvLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLG4scyxyLmhhbmRsZSxhKTticmVhaztjYXNlIDM1NTM6by5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCxuLDM1NTMsci5oYW5kbGUsYSk7YnJlYWs7ZGVmYXVsdDpPYmplY3QoTy5hKSghMSwiSWxsZWdhbCB0ZXh0dXJlIHR5cGUiKX1vLmJpbmRUZXh0dXJlKHIudGFyZ2V0LG51bGwpLHRoaXMuYXR0YWNobWVudHNbbl09cn19LHtrZXk6Il9zZXRSZWFkQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO09iamVjdChmLmcpKGUpP2UucmVhZEJ1ZmZlcih0KTpPYmplY3QoTy5hKSgzNjA2ND09PXR8fDEwMjk9PT10LCJNdWx0aXBsZSByZW5kZXIgdGFyZ2V0cyBub3Qgc3VwcG9ydGVkIiksdGhpcy5yZWFkQnVmZmVyPXR9fSx7a2V5OiJfc2V0RHJhd0J1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2w7aWYoT2JqZWN0KGYuZykoZSkpZS5kcmF3QnVmZmVycyh0KTtlbHNle3ZhciBuPWUuZ2V0RXh0ZW5zaW9uKCJXRUJHTC5kcmF3X2J1ZmZlcnMiKTtuP24uZHJhd0J1ZmZlcnNXRUJHTCh0KTpPYmplY3QoTy5hKSgxPT09dC5sZW5ndGgmJigzNjA2ND09PXRbMF18fDEwMjk9PT10WzBdKSwiTXVsdGlwbGUgcmVuZGVyIHRhcmdldHMgbm90IHN1cHBvcnRlZCIpfXRoaXMuZHJhd0J1ZmZlcnM9dH19LHtrZXk6Il9nZXRBdHRhY2htZW50UGFyYW1ldGVyRmFsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChtLmEpKHRoaXMuZ2wpO3N3aXRjaCh0KXtjYXNlIDM2MDUyOnJldHVybiBlLldFQkdMMj9udWxsOjA7Y2FzZSAzMzI5ODpjYXNlIDMzMjk5OmNhc2UgMzMzMDA6Y2FzZSAzMzMwMTpjYXNlIDMzMzAyOmNhc2UgMzMzMDM6cmV0dXJuIGUuV0VCR0wyP251bGw6ODtjYXNlIDMzMjk3OnJldHVybiBlLldFQkdMMj9udWxsOjUxMjU7Y2FzZSAzMzI5NjpyZXR1cm4gZS5XRUJHTDJ8fGUuRVhUX3NSR0I/bnVsbDo5NzI5O2RlZmF1bHQ6cmV0dXJuIG51bGx9fX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuaGFuZGxlKX19LHtrZXk6Il9iaW5kSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdCl9fSx7a2V5OiJjb2xvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudHNbMzYwNjRdfHxudWxsfX0se2tleToidGV4dHVyZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudHNbMzYwNjRdfHxudWxsfX0se2tleToiZGVwdGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRzWzM2MDk2XXx8dGhpcy5hdHRhY2htZW50c1szMzMwNl18fG51bGx9fSx7a2V5OiJzdGVuY2lsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2htZW50c1szNjEyOF18fHRoaXMuYXR0YWNobWVudHNbMzMzMDZdfHxudWxsfX1dKSxlfShkLmEpO2Z1bmN0aW9uIHcodCl7cmV0dXJuKHguU1RBVFVTfHx7fSlbdF18fCJGcmFtZWJ1ZmZlciBlcnJvciAiLmNvbmNhdCh0KX14LkFUVEFDSE1FTlRfUEFSQU1FVEVSUz1bMzYwNDksMzYwNDgsMzMyOTYsMzMyOTgsMzMyOTksMzMzMDAsMzMzMDEsMzMzMDIsMzMzMDNdfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2wgYXNzZXJ0aW9uICIuY29uY2F0KGUpKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKCF0fHwhZSlyZXR1cm4hMTtmb3IodmFyIG4gaW4gdCl7dmFyIGk9dFtuXSxhPWVbbl07aWYoIShpPT09YXx8QXJyYXkuaXNBcnJheShpKSYmQXJyYXkuaXNBcnJheShhKSYmcihpLGEpKSlyZXR1cm4hMX1yZXR1cm4hMH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpO2Z1bmN0aW9uIHMoKXt9dmFyIHU9e29uU3RhcnQ6cyxvblVwZGF0ZTpzLG9uSW50ZXJydXB0OnMsb25FbmQ6c30sYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSgpKHRoaXMsdCksdGhpcy5faW5Qcm9ncmVzcz0hMSx0aGlzLl9oYW5kbGU9bnVsbCx0aGlzLnRpbWVsaW5lPWUsdGhpcy5zZXR0aW5ncz17fX1yZXR1cm4gbygpKHQsW3trZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNhbmNlbCgpLHRoaXMuc2V0dGluZ3M9T2JqZWN0LmFzc2lnbih7fSx1LHQpLHRoaXMuX2luUHJvZ3Jlc3M9ITAsdGhpcy5zZXR0aW5ncy5vblN0YXJ0KHRoaXMpfX0se2tleToiZW5kIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJih0aGlzLnRpbWVsaW5lLnJlbW92ZUNoYW5uZWwodGhpcy5faGFuZGxlKSx0aGlzLl9oYW5kbGU9bnVsbCx0aGlzLl9pblByb2dyZXNzPSExLHRoaXMuc2V0dGluZ3Mub25FbmQodGhpcykpfX0se2tleToiY2FuY2VsIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJih0aGlzLnNldHRpbmdzLm9uSW50ZXJydXB0KHRoaXMpLHRoaXMudGltZWxpbmUucmVtb3ZlQ2hhbm5lbCh0aGlzLl9oYW5kbGUpLHRoaXMuX2hhbmRsZT1udWxsLHRoaXMuX2luUHJvZ3Jlc3M9ITEpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9pblByb2dyZXNzKXJldHVybiExO2lmKG51bGw9PT10aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMudGltZWxpbmUsZT10aGlzLnNldHRpbmdzO3RoaXMuX2hhbmRsZT10LmFkZENoYW5uZWwoe2RlbGF5OnQuZ2V0VGltZSgpLGR1cmF0aW9uOmUuZHVyYXRpb259KX1yZXR1cm4gdGhpcy50aW1lPXRoaXMudGltZWxpbmUuZ2V0VGltZSh0aGlzLl9oYW5kbGUpLHRoaXMuX29uVXBkYXRlKCksdGhpcy5zZXR0aW5ncy5vblVwZGF0ZSh0aGlzKSx0aGlzLnRpbWVsaW5lLmlzRmluaXNoZWQodGhpcy5faGFuZGxlKSYmdGhpcy5lbmQoKSwhMH19LHtrZXk6Il9vblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJpblByb2dyZXNzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5Qcm9ncmVzc319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDApLGk9bigyNSksYT1uKDYpLG89big3KSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdChhLmEpKHRoaXMsdCl9cmV0dXJuIE9iamVjdChvLmEpKHQsW3trZXk6ImxvZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7fX19LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe319fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt9fX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe319fV0pLHR9KCksdT17Q0ROOiJodHRwczovL3VucGtnLmNvbS9AbG9hZGVycy5nbCIsd29ya2VyOiEwLGxvZzpuZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7T2JqZWN0KGEuYSkodGhpcyx0KSx0aGlzLmNvbnNvbGU9Y29uc29sZX1yZXR1cm4gT2JqZWN0KG8uYSkodCxbe2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9dGhpcy5jb25zb2xlLmxvZykuYmluZC5hcHBseSh0LFt0aGlzLmNvbnNvbGVdLmNvbmNhdChuKSl9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9dGhpcy5jb25zb2xlLmluZm8pLmJpbmQuYXBwbHkodCxbdGhpcy5jb25zb2xlXS5jb25jYXQobikpfX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybih0PXRoaXMuY29uc29sZS53YXJuKS5iaW5kLmFwcGx5KHQsW3RoaXMuY29uc29sZV0uY29uY2F0KG4pKX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9dGhpcy5jb25zb2xlLmVycm9yKS5iaW5kLmFwcGx5KHQsW3RoaXMuY29uc29sZV0uY29uY2F0KG4pKX19XSksdH0oKSksZGF0YVR5cGU6ImFycmF5YnVmZmVyIn07ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9jKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KHIuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgaD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmIm9iamVjdCI9PT1PYmplY3QoaS5hKSh0KSYmdC5jb25zdHJ1Y3Rvcj09PXt9LmNvbnN0cnVjdG9yfSxmPWwoe30sdSk7ZnVuY3Rpb24gZCh0KXtmPXYoZix0KX1mdW5jdGlvbiB2KHQsZSxuKXt2YXIgcj1sKHt9LHQmJih0LkRFRkFVTFRfTE9BREVSX09QVElPTlN8fHQuZGVmYXVsdE9wdGlvbnN8fHQub3B0aW9uc3x8e30pKTtyZXR1cm4gZnVuY3Rpb24odCxlKXshZXx8ImJhc2VVcmkiaW4gdHx8KHQuYmFzZVVyaT1lKX0ocixuKSxudWxsPT09ci5sb2cmJihyLmxvZz1uZXcgcykscChyLGYpLHAocixlKSxyfWZ1bmN0aW9uIHAodCxlKXtmb3IodmFyIG4gaW4gZSlpZihuIGluIGUpe3ZhciByPWVbbl07aChyKSYmaCh0W25dKT90W25dPWwoe30sdFtuXSx7fSxlW25dKTp0W25dPWVbbl19fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9bi5uKHIpLGE9bigxMyksbz1uKDM4KSxzPW4oMTAzKSx1PW4oMTA3KSxjPW4oMTcxKTtmdW5jdGlvbiBsKHQpe3JldHVybiBoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scjtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKGUub2spe3QubmV4dD0xMjticmVha31yZXR1cm4gbj0iZmV0Y2ggZmFpbGVkICIuY29uY2F0KGUuc3RhdHVzLCIgIiksdC5wcmV2PTIsdC5uZXh0PTUsZS50ZXh0KCk7Y2FzZSA1OnI9dC5zZW50LG4rPXIsdC5uZXh0PTExO2JyZWFrO2Nhc2UgOTp0LnByZXY9OSx0LnQwPXQuY2F0Y2goMik7Y2FzZSAxMTp0aHJvdyBuZXcgRXJyb3Iobik7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzIsOV1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmQoZSwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBmPSJDYW5ub3QgY29udmVydCBzdXBwbGllZCBkYXRhIHR5cGUiO2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gT2JqZWN0KG8uYykodCk/ZT1lfHx0LnVybDpPYmplY3Qoby5kKShlKSYmKGU9ZS5uYW1lKSwic3RyaW5nIj09dHlwZW9mIGU/ZS5yZXBsYWNlKC9cPy4qLywiIik6ZX1mdW5jdGlvbiB2KHQsZSl7aWYoZS50ZXh0JiYic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgbj10O3JldHVybiBlLnRleHQmJiFlLmJpbmFyeT9uZXcgVGV4dERlY29kZXIoInV0ZjgiKS5kZWNvZGUobik6bn1pZihBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fE9iamVjdChvLmIpKHQpKXtpZihlLnRleHQmJiFlLmJpbmFyeSlyZXR1cm4gbmV3IFRleHREZWNvZGVyKCJ1dGY4IikuZGVjb2RlKHQpO3ZhciByPXQuYnVmZmVyLGk9dC5ieXRlTGVuZ3RofHx0Lmxlbmd0aDtyZXR1cm4gMD09PXQuYnl0ZU9mZnNldCYmaT09PXIuYnl0ZUxlbmd0aHx8KHI9ci5zbGljZSh0LmJ5dGVPZmZzZXQsdC5ieXRlT2Zmc2V0K2kpKSxyfXRocm93IG5ldyBFcnJvcihmKX1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGE7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsZTtjYXNlIDI6aWYoZT10LnNlbnQscj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhlKSwic3RyaW5nIiE9dHlwZW9mIGUmJiFyKXt0Lm5leHQ9NjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdihlLG4pKTtjYXNlIDY6aWYoIU9iamVjdChvLmQpKGUpKXt0Lm5leHQ9MTA7YnJlYWt9cmV0dXJuIHQubmV4dD05LE9iamVjdChjLmEpKGUpO2Nhc2UgOTplPXQuc2VudDtjYXNlIDEwOmlmKCFPYmplY3Qoby5jKShlKSl7dC5uZXh0PTI0O2JyZWFrfXJldHVybiBhPWUsdC5uZXh0PTE0LGwoYSk7Y2FzZSAxNDppZighbi5iaW5hcnkpe3QubmV4dD0yMDticmVha31yZXR1cm4gdC5uZXh0PTE3LGEuYXJyYXlCdWZmZXIoKTtjYXNlIDE3OnQudDA9dC5zZW50LHQubmV4dD0yMzticmVhaztjYXNlIDIwOnJldHVybiB0Lm5leHQ9MjIsYS50ZXh0KCk7Y2FzZSAyMjp0LnQwPXQuc2VudDtjYXNlIDIzOnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnQwKTtjYXNlIDI0OmlmKE9iamVjdChvLmgpKGUpJiYoZT1PYmplY3Qocy5hKShlKSksIU9iamVjdChvLmUpKGUpJiYhT2JqZWN0KG8uYSkoZSkpe3QubmV4dD0yNzticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsT2JqZWN0KHUuYSkoZSkpO2Nhc2UgMjc6dGhyb3cgbmV3IEVycm9yKGYpO2Nhc2UgMjg6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5KHQpe3JldHVybiBPYmplY3Qoby5mKSh0KT90Ok9iamVjdChvLmMpKHQpJiZ0LmJvZHk/KGZ1bmN0aW9uKHQpe2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcigiZmV0Y2ggZmFpbGVkICIuY29uY2F0KHQuc3RhdHVzKSl9KHQpLE9iamVjdChzLmEpKHQuYm9keSkpOk9iamVjdChvLmgpKHQpP09iamVjdChzLmEpKHQpOk9iamVjdChvLmEpKHQpP3RbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6bSh0KX1mdW5jdGlvbiBtKHQpe2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBpLmEubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHQuYnVmZmVyfHx0O2Nhc2UgMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKCk7aWYoT2JqZWN0KG8uZikodCkpcmV0dXJuIHQ7aWYoT2JqZWN0KG8uZSkodCkpcmV0dXJuIHRbU3ltYm9sLml0ZXJhdG9yXSgpO3Rocm93IG5ldyBFcnJvcihmKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSk7ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuKGk9InVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldDpmdW5jdGlvbih0LGUsbil7dmFyIGk9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PU9iamVjdChyLmEpKHQpKTspO3JldHVybiB0fSh0LGUpO2lmKGkpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxlKTtyZXR1cm4gYS5nZXQ/YS5nZXQuY2FsbChuKTphLnZhbHVlfX0pKHQsZSxufHx0KX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sYT1uWzNdKnIrbls3XSppfHwxO3JldHVybiB0WzBdPShuWzBdKnIrbls0XSppKS9hLHRbMV09KG5bMV0qcituWzVdKmkpL2EsdH1mdW5jdGlvbiBpKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1uWzNdKnIrbls3XSppK25bMTFdKmF8fDE7cmV0dXJuIHRbMF09KG5bMF0qcituWzRdKmkrbls4XSphKS9vLHRbMV09KG5bMV0qcituWzVdKmkrbls5XSphKS9vLHRbMl09KG5bMl0qcituWzZdKmkrblsxMF0qYSkvbyx0fWZ1bmN0aW9uIGEodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdO3JldHVybiB0WzBdPW5bMF0qcituWzJdKmksdFsxXT1uWzFdKnIrblszXSppLHRbMl09ZVsyXSx0fWZ1bmN0aW9uIG8odCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXTtyZXR1cm4gdFswXT1uWzBdKnIrblszXSppK25bNl0qYSx0WzFdPW5bMV0qcituWzRdKmkrbls3XSphLHRbMl09blsyXSpyK25bNV0qaStuWzhdKmEsdFszXT1lWzNdLHR9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigyNiksaT1uKDApLGE9big5Myk7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyh0LGUsbil7cmV0dXJuIG58fCh0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP28oT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoaS5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6byhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe2ZldGNoOnQuZmV0Y2h8fGEuYX0sdCksQXJyYXkuaXNBcnJheSh0LmxvYWRlcnMpfHwodC5sb2FkZXJzPW51bGwpLHQpfWZ1bmN0aW9uIHUodCxlKXtpZighZSYmIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7dmFyIG47aWYodCYmKG49QXJyYXkuaXNBcnJheSh0KT90Olt0XSksZSYmZS5sb2FkZXJzKXt2YXIgaT1BcnJheS5pc0FycmF5KGUubG9hZGVycyk/ZS5sb2FkZXJzOltlLmxvYWRlcnNdO249bj9bXS5jb25jYXQoT2JqZWN0KHIuYSkobiksT2JqZWN0KHIuYSkoaSkpOml9cmV0dXJuIG4mJm4ubGVuZ3RoP246bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj0idnMiLGk9ImZzIn0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9big5MyksaT1uKDExNiksYT1uKDc0KSxvPW4oMTg5KSxzPW4oOTYpLHU9e2RhdGFUeXBlOiJhcnJheWJ1ZmZlciIsbm90aHJvdzohMH07ZnVuY3Rpb24gYyh0LGUpe3JldHVybiBlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybih0PU9iamVjdC5hc3NpZ24oe30sdSx0KSkucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlfHx0LmRhdGFUeXBlLHR9KGUpLHQuc3RhcnRzV2l0aCgiZGF0YToiKSxlLm5vdGhyb3d8fE9iamVjdChzLmEpKCExKSxudWxsfWZ1bmN0aW9uIGwodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB0PU9iamVjdChpLmIpKHQpLCFhLmMmJm8ucmVhZEZpbGVTeW5jP28ucmVhZEZpbGVTeW5jKHQsZSk6Yyh0LGUpfXZhciBoPW4oMTQ2KTtmdW5jdGlvbiBmKHQsZSxuKXtyZXR1cm4gdD1PYmplY3QoaS5iKSh0KSwhYS5jJiZoLndyaXRlRmlsZT9oLndyaXRlRmlsZSh0LGUsbik6T2JqZWN0KHMuYSkoITEpfWZ1bmN0aW9uIGQodCxlLG4pe3JldHVybiB0PU9iamVjdChpLmIpKHQpLCFhLmMmJmgud3JpdGVGaWxlU3luYz9oLndyaXRlRmlsZVN5bmModCxlLG4pOk9iamVjdChzLmEpKCExKX12YXIgdj1uKDg2KTtmdW5jdGlvbiBwKHQpe09iamVjdCh2LmIpKHQpfXZhciBnPW4oMTE3KSx5PW4oMTYxKSxtPW4oODApLGI9big1OSksXz1uKDg3KSxPPW4oOTApO2Z1bmN0aW9uIHgodCxlLG4scil7QXJyYXkuaXNBcnJheShlKXx8T2JqZWN0KGIuYSkoZSl8fChyPW4sbj1lLGU9bnVsbCk7dmFyIGk9IiI7InN0cmluZyI9PXR5cGVvZiByJiYoaT1yLHI9bnVsbCksbj1ufHx7fTt2YXIgYT1PYmplY3QoTy5iKShlLHIpLG89T2JqZWN0KG0uYSkoYSxpLHQpO3JldHVybiBvP2Z1bmN0aW9uKHQsZSxuLHIpe2lmKGU9T2JqZWN0KF8uYikoZSx0KSx0LnBhcnNlVGV4dFN5bmMmJiJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdC5wYXJzZVRleHRTeW5jKGUsbixyLHQpO2lmKHQucGFyc2VTeW5jKXJldHVybiB0LnBhcnNlU3luYyhlLG4scix0KTt0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KHQubmFtZSwiIGxvYWRlcjogJ3BhcnNlU3luYycgbm90IHN1cHBvcnRlZCBieSB0aGlzIGxvYWRlciwgdXNlICdwYXJzZScgaW5zdGVhZC4gIikuY29uY2F0KHIudXJsfHwiIikpfShvLHQsbj1PYmplY3Qodi5hKShvLG4saSkscj1PYmplY3QoTy5hKSh7dXJsOmkscGFyc2VTeW5jOngsbG9hZGVyczplfSxuKSk6bnVsbH12YXIgdz1uKDUpLGs9bi5uKHcpLFM9bigxMyksUD1uKDU0KSxqPW4oMTA0KSxUPW4oMTEzKTtmdW5jdGlvbiBFKHQsZSl7cmV0dXJuIEEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QoUy5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYTtyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9MyxlLm5leHQoKTtjYXNlIDM6aWYocj10LnNlbnQsaT1yLmRvbmUsYT1yLnZhbHVlLCFpKXt0Lm5leHQ9OTticmVha31yZXR1cm4gZS5yZXR1cm4oKSx0LmFicnVwdCgicmV0dXJuIik7Y2FzZSA5OmlmKCFuKGEpKXt0Lm5leHQ9MTI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDEyOnQubmV4dD0wO2JyZWFrO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIEMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEMoKXtyZXR1cm4oQz1PYmplY3Qoai5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYSxvLHMsdSxjLGw7cmV0dXJuIGsuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyPW5ldyBUZXh0RGVjb2RlcihuKSxpPSEwLGE9ITEsdC5wcmV2PTMscz1PYmplY3QoVC5hKShlKTtjYXNlIDU6cmV0dXJuIHQubmV4dD03LE9iamVjdChQLmEpKHMubmV4dCgpKTtjYXNlIDc6cmV0dXJuIHU9dC5zZW50LGk9dS5kb25lLHQubmV4dD0xMSxPYmplY3QoUC5hKSh1LnZhbHVlKTtjYXNlIDExOmlmKGM9dC5zZW50LGkpe3QubmV4dD0xOTticmVha31yZXR1cm4gbD1jLHQubmV4dD0xNiwic3RyaW5nIj09dHlwZW9mIGw/bDpyLmRlY29kZShsLHtzdHJlYW06ITB9KTtjYXNlIDE2Omk9ITAsdC5uZXh0PTU7YnJlYWs7Y2FzZSAxOTp0Lm5leHQ9MjU7YnJlYWs7Y2FzZSAyMTp0LnByZXY9MjEsdC50MD10LmNhdGNoKDMpLGE9ITAsbz10LnQwO2Nhc2UgMjU6aWYodC5wcmV2PTI1LHQucHJldj0yNixpfHxudWxsPT1zLnJldHVybil7dC5uZXh0PTMwO2JyZWFrfXJldHVybiB0Lm5leHQ9MzAsT2JqZWN0KFAuYSkocy5yZXR1cm4oKSk7Y2FzZSAzMDppZih0LnByZXY9MzAsIWEpe3QubmV4dD0zMzticmVha310aHJvdyBvO2Nhc2UgMzM6cmV0dXJuIHQuZmluaXNoKDMwKTtjYXNlIDM0OnJldHVybiB0LmZpbmlzaCgyNSk7Y2FzZSAzNTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzMsMjEsMjUsMzVdLFsyNiwsMzAsMzRdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTCh0KXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSSgpe3JldHVybihJPU9iamVjdChqLmEpKGsuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxhLG8scyx1LGMsbDtyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOm49IiIscj0hMCxpPSExLHQucHJldj0zLG89T2JqZWN0KFQuYSkoZSk7Y2FzZSA1OnJldHVybiB0Lm5leHQ9NyxPYmplY3QoUC5hKShvLm5leHQoKSk7Y2FzZSA3OnJldHVybiBzPXQuc2VudCxyPXMuZG9uZSx0Lm5leHQ9MTEsT2JqZWN0KFAuYSkocy52YWx1ZSk7Y2FzZSAxMTppZih1PXQuc2VudCxyKXt0Lm5leHQ9MjY7YnJlYWt9bis9dSxjPXZvaWQgMDtjYXNlIDE2OmlmKCEoKGM9bi5pbmRleE9mKCJcbiIpKT49MCkpe3QubmV4dD0yMzticmVha31yZXR1cm4gbD1uLnNsaWNlKDAsYysxKSxuPW4uc2xpY2UoYysxKSx0Lm5leHQ9MjEsbDtjYXNlIDIxOnQubmV4dD0xNjticmVhaztjYXNlIDIzOnI9ITAsdC5uZXh0PTU7YnJlYWs7Y2FzZSAyNjp0Lm5leHQ9MzI7YnJlYWs7Y2FzZSAyODp0LnByZXY9MjgsdC50MD10LmNhdGNoKDMpLGk9ITAsYT10LnQwO2Nhc2UgMzI6aWYodC5wcmV2PTMyLHQucHJldj0zMyxyfHxudWxsPT1vLnJldHVybil7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0Lm5leHQ9MzcsT2JqZWN0KFAuYSkoby5yZXR1cm4oKSk7Y2FzZSAzNzppZih0LnByZXY9MzcsIWkpe3QubmV4dD00MDticmVha310aHJvdyBhO2Nhc2UgNDA6cmV0dXJuIHQuZmluaXNoKDM3KTtjYXNlIDQxOnJldHVybiB0LmZpbmlzaCgzMik7Y2FzZSA0MjppZighKG4ubGVuZ3RoPjApKXt0Lm5leHQ9NDU7YnJlYWt9cmV0dXJuIHQubmV4dD00NSxuO2Nhc2UgNDU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1szLDI4LDMyLDQyXSxbMzMsLDM3LDQxXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFIodCl7cmV0dXJuIE4uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE4oKXtyZXR1cm4oTj1PYmplY3Qoai5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGksYSxvLHMsdSxjO3JldHVybiBrLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj0xLHI9ITAsaT0hMSx0LnByZXY9MyxvPU9iamVjdChULmEpKGUpO2Nhc2UgNTpyZXR1cm4gdC5uZXh0PTcsT2JqZWN0KFAuYSkoby5uZXh0KCkpO2Nhc2UgNzpyZXR1cm4gcz10LnNlbnQscj1zLmRvbmUsdC5uZXh0PTExLE9iamVjdChQLmEpKHMudmFsdWUpO2Nhc2UgMTE6aWYodT10LnNlbnQscil7dC5uZXh0PTIwO2JyZWFrfXJldHVybiBjPXUsdC5uZXh0PTE2LHtjb3VudGVyOm4sbGluZTpjfTtjYXNlIDE2Om4rKztjYXNlIDE3OnI9ITAsdC5uZXh0PTU7YnJlYWs7Y2FzZSAyMDp0Lm5leHQ9MjY7YnJlYWs7Y2FzZSAyMjp0LnByZXY9MjIsdC50MD10LmNhdGNoKDMpLGk9ITAsYT10LnQwO2Nhc2UgMjY6aWYodC5wcmV2PTI2LHQucHJldj0yNyxyfHxudWxsPT1vLnJldHVybil7dC5uZXh0PTMxO2JyZWFrfXJldHVybiB0Lm5leHQ9MzEsT2JqZWN0KFAuYSkoby5yZXR1cm4oKSk7Y2FzZSAzMTppZih0LnByZXY9MzEsIWkpe3QubmV4dD0zNDticmVha310aHJvdyBhO2Nhc2UgMzQ6cmV0dXJuIHQuZmluaXNoKDMxKTtjYXNlIDM1OnJldHVybiB0LmZpbmlzaCgyNik7Y2FzZSAzNjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzMsMjIsMjYsMzZdLFsyNywsMzEsMzVdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRCh0LGUsbixyKXtyZXR1cm4gRi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRigpe3JldHVybihGPU9iamVjdChTLmEpKGsuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGkpe3ZhciBhLG87cmV0dXJuIGsuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gQXJyYXkuaXNBcnJheShuKXx8T2JqZWN0KGIuYSkobil8fChpPXIscj1uLG49bnVsbCksYT1PYmplY3QobS5hKShuLGksbnVsbCkscj1PYmplY3Qodi5hKShhLHIsaSksbz1PYmplY3QoTy5hKSh7dXJsOmksbG9hZGVyczpufSxyKSx0LmFicnVwdCgicmV0dXJuIix6KGEsZSxyLG8pKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB6KHQsZSxuLHIpe2lmKHQucGFyc2VJbkJhdGNoZXMpe3ZhciBpPU9iamVjdChfLmMpKGUpO3JldHVybiB0LnRleHQmJihpPU0oaSkpLHQucGFyc2VJbkJhdGNoZXMoaSxuLHIsdCl9dGhyb3cgbmV3IEVycm9yKCJwYXJzZVdpdGhMb2FkZXJJbkJhdGNoZXNTeW5jIG5vdCBhdmFpbGFibGUiKX1mdW5jdGlvbiBCKHQsZSxuLHIpe3JldHVybiBVLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBVKCl7cmV0dXJuKFU9T2JqZWN0KFMuYSkoay5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsaSl7dmFyIGEsbztyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBBcnJheS5pc0FycmF5KG4pfHxPYmplY3QoYi5hKShuKXx8KGk9cixyPW4sbj1udWxsKSxhPU9iamVjdChtLmEpKG4saSxudWxsKSxyPU9iamVjdCh2LmEpKGEsciksbz1PYmplY3QoTy5hKSh7dXJsOmksbG9hZGVyczpufSxyKSx0LmFicnVwdCgicmV0dXJuIixWKGEsZSxyLG8pKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBWKHQsZSxuLHIpe2lmKHQucGFyc2VJbkJhdGNoZXNTeW5jKXt2YXIgaT1PYmplY3QoXy5kKShlKTtyZXR1cm4gdC5wYXJzZUluQmF0Y2hlc1N5bmMoaSxuLHIsdCl9dGhyb3cgbmV3IEVycm9yKCJwYXJzZVdpdGhMb2FkZXJJbkJhdGNoZXNTeW5jIG5vdCBhdmFpbGFibGUiKX12YXIgRz1uKDE5OSk7ZnVuY3Rpb24gVyh0LGUsbil7cmV0dXJuIEguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEgoKXtyZXR1cm4oSD1PYmplY3QoUy5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4saSl7dmFyIGE7cmV0dXJuIGsuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsT2JqZWN0KHIuYSkoZSxpKTtjYXNlIDI6cmV0dXJuIGE9dC5zZW50LHQuYWJydXB0KCJyZXR1cm4iLEQoYSxuLGksZSkpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHEodCxlLG4scil7cmV0dXJuIFguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFgoKXtyZXR1cm4oWD1PYmplY3QoUy5hKShrLmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpKXtyZXR1cm4gay5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCFuLmVuY29kZSl7dC5uZXh0PTQ7YnJlYWt9cmV0dXJuIHQubmV4dD0zLG4uZW5jb2RlKGUscik7Y2FzZSAzOnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnNlbnQpO2Nhc2UgNDppZighbi5lbmNvZGVTeW5jKXt0Lm5leHQ9NjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsbi5lbmNvZGVTeW5jKGUscikpO2Nhc2UgNjp0aHJvdyBuZXcgRXJyb3IoIldyaXRlciBjb3VsZCBub3QgZW5jb2RlIGRhdGEiKTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBaKHQsZSxuLHIpe2lmKGUuZW5jb2RlU3luYylyZXR1cm4gZS5lbmNvZGVTeW5jKHQsbik7dGhyb3cgbmV3IEVycm9yKCJXcml0ZXIgY291bGQgbm90IHN5bmNocm9ub3VzbHkgZW5jb2RlIGRhdGEiKX1mdW5jdGlvbiBZKHQsZSxuLHIpe2lmKGUuZW5jb2RlSW5CYXRjaGVzKXJldHVybiBlLmVuY29kZUluQmF0Y2hlcyh0LG4pO3Rocm93IG5ldyBFcnJvcigiV3JpdGVyIGNvdWxkIG5vdCBlbmNvZGUgZGF0YSBpbiBiYXRjaGVzIil9ZnVuY3Rpb24gSyh0LGUsbixyKXtyZXR1cm4gZihlLHEodCxuLHIsZSkpfWZ1bmN0aW9uIFEodCxlLG4scil7cmV0dXJuIGQoZSxaKHQsbixyKSl9dmFyIEo9bigzOCksJD1uKDE1NSksdHQ9bigxMDMpLGV0PW4oMTA3KSxudD1uKDE2MikscnQ9bigxMzYpLGl0PW4oMTU0KTtmdW5jdGlvbiBhdCh0LGUpe3JldHVybiBvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gb3QoKXtyZXR1cm4ob3Q9T2JqZWN0KFMuYSkoay5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixpLGEsbyxzLHU9YXJndW1lbnRzO3JldHVybiBrLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9dS5sZW5ndGg+MiYmdm9pZCAwIT09dVsyXT91WzJdOmZ1bmN0aW9uKCl7fSxpPXUubGVuZ3RoPjMmJnZvaWQgMCE9PXVbM10/dVszXTpmdW5jdGlvbigpe30sdC5uZXh0PTQsZTtjYXNlIDQ6aWYoKGU9dC5zZW50KS5vayl7dC5uZXh0PTc7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLGUpO2Nhc2UgNzppZihlLmJvZHkpe3QubmV4dD05O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIixlKTtjYXNlIDk6aWYoYT1lLmhlYWRlcnMuZ2V0KCJjb250ZW50LWxlbmd0aCIpLG89YSYmcGFyc2VJbnQoYSwxMCksYT4wKXt0Lm5leHQ9MTM7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLGUpO2Nhc2UgMTM6aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBSZWFkYWJsZVN0cmVhbSl7dC5uZXh0PTE1O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIixlKTtjYXNlIDE1OnJldHVybiBzPW5ldyBSZWFkYWJsZVN0cmVhbSh7c3RhcnQ6ZnVuY3Rpb24odCl7c3QodCxlLmJvZHkuZ2V0UmVhZGVyKCksMCxvLG4scixpKX19KSx0LmFicnVwdCgicmV0dXJuIixuZXcgUmVzcG9uc2UocykpO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBzdCh0LGUsbixyLGksYSxvKXtyZXR1cm4gdXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHV0KCl7cmV0dXJuKHV0PU9iamVjdChTLmEpKGsuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGksYSxvLHMpe3ZhciB1LGMsbCxoO3JldHVybiBrLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQucHJldj0wLHQubmV4dD0zLG4ucmVhZCgpO2Nhc2UgMzppZih1PXQuc2VudCxjPXUuZG9uZSxsPXUudmFsdWUsIWMpe3QubmV4dD0xMDticmVha31yZXR1cm4gbygpLGUuY2xvc2UoKSx0LmFicnVwdCgicmV0dXJuIik7Y2FzZSAxMDpyZXR1cm4gcis9bC5ieXRlTGVuZ3RoLGg9TWF0aC5yb3VuZChyL2kqMTAwKSxhKGgse2xvYWRlZEJ5dGVzOnIsdG90YWxCeXRlczppfSksZS5lbnF1ZXVlKGwpLHQubmV4dD0xNixzdChlLG4scixpLGEsbyxzKTtjYXNlIDE2OnQubmV4dD0yMjticmVhaztjYXNlIDE4OnQucHJldj0xOCx0LnQwPXQuY2F0Y2goMCksZS5lcnJvcih0LnQwKSxzKHQudDApO2Nhc2UgMjI6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1swLDE4XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfW4uZChlLCJmZXRjaEZpbGUiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSksbi5kKGUsInJlYWRGaWxlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsIndyaXRlRmlsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKGUsIndyaXRlRmlsZVN5bmMiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZChlLCJzZXRMb2FkZXJPcHRpb25zIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwicmVnaXN0ZXJMb2FkZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZy5jfSkpLG4uZChlLCJwYXJzZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHkuYX0pKSxuLmQoZSwicGFyc2VTeW5jIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQoZSwicGFyc2VJbkJhdGNoZXMiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZChlLCJwYXJzZUluQmF0Y2hlc1N5bmMiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChlLCJsb2FkIiwoZnVuY3Rpb24oKXtyZXR1cm4gRy5hfSkpLG4uZChlLCJsb2FkSW5CYXRjaGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gV30pKSxuLmQoZSwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcX0pKSxuLmQoZSwiZW5jb2RlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp9KSksbi5kKGUsImVuY29kZUluQmF0Y2hlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksbi5kKGUsInNhdmUiLChmdW5jdGlvbigpe3JldHVybiBLfSkpLG4uZChlLCJzYXZlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksbi5kKGUsImlzUHJvbWlzZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouZ30pKSxuLmQoZSwiaXNJdGVyYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouZX0pKSxuLmQoZSwiaXNBc3luY0l0ZXJhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gSi5hfSkpLG4uZChlLCJpc0l0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gSi5mfSkpLG4uZChlLCJpc0ZldGNoUmVzcG9uc2UiLChmdW5jdGlvbigpe3JldHVybiBKLmN9KSksbi5kKGUsImlzUmVhZGFibGVTdHJlYW0iLChmdW5jdGlvbigpe3JldHVybiBKLmh9KSksbi5kKGUsImlzV3JpdGFibGVTdHJlYW0iLChmdW5jdGlvbigpe3JldHVybiBKLml9KSksbi5kKGUsInRvQXJyYXlCdWZmZXIiLChmdW5jdGlvbigpe3JldHVybiAkLmF9KSksbi5kKGUsIm1ha2VTdHJlYW1JdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR0LmF9KSksbi5kKGUsImZvckVhY2giLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLCJsaW5lQXN5bmNJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSksbi5kKGUsInRleHREZWNvZGVyQXN5bmNJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE19KSksbi5kKGUsIm51bWJlcmVkTGluZUFzeW5jSXRlcmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZChlLCJtYWtlQ2h1bmtJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0LmJ9KSksbi5kKGUsImNvbmNhdGVuYXRlQ2h1bmtzQXN5bmMiLChmdW5jdGlvbigpe3JldHVybiBldC5hfSkpLG4uZChlLCJpc0Jyb3dzZXIiLChmdW5jdGlvbigpe3JldHVybiBhLmN9KSksbi5kKGUsImlzV29ya2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5kfSkpLG4uZChlLCJzZWxmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5mfSkpLG4uZChlLCJ3aW5kb3ciLChmdW5jdGlvbigpe3JldHVybiBhLmd9KSksbi5kKGUsImdsb2JhbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYn0pKSxuLmQoZSwiZG9jdW1lbnQiLChmdW5jdGlvbigpe3JldHVybiBhLmF9KSksbi5kKGUsImFzc2VydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuYX0pKSxuLmQoZSwic2V0UGF0aFByZWZpeCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY30pKSxuLmQoZSwiZ2V0UGF0aFByZWZpeCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQoZSwicmVzb2x2ZVBhdGgiLChmdW5jdGlvbigpe3JldHVybiBpLmJ9KSksbi5kKGUsIl9zZWxlY3RMb2FkZXIiLChmdW5jdGlvbigpe3JldHVybiBtLmF9KSksbi5kKGUsIl9Xb3JrZXJUaHJlYWQiLChmdW5jdGlvbigpe3JldHVybiBudC5hfSkpLG4uZChlLCJfV29ya2VyRmFybSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ0LmF9KSksbi5kKGUsIl9Xb3JrZXJQb29sIiwoZnVuY3Rpb24oKXtyZXR1cm4gaXQuYX0pKSxuLmQoZSwiX2ZldGNoUHJvZ3Jlc3MiLChmdW5jdGlvbigpe3JldHVybiBhdH0pKSxuLmQoZSwiX3VucmVnaXN0ZXJMb2FkZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZy5hfSkpLG4uZChlLCJjb250YXRlbmF0ZUFzeW5jSXRlcmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBldC5hfSkpLG4uZChlLCJnZXRTdHJlYW1JdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR0LmF9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4ubihyKSxhPW4oMTMpLG89bigxMTYpLHM9bigzOCksdT1uKDE3MSk7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbCgpe3JldHVybihsPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYobj0iRmFpbGVkIHRvIGZldGNoIHJlc291cmNlICIuY29uY2F0KGUudXJsLCIgKCIpLmNvbmNhdChlLnN0YXR1cywiKTogIiksdC5wcmV2PTEsIWUuaGVhZGVycy5nZXQoIkNvbnRlbnQtVHlwZSIpLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi9qc29uIikpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC50MD1uLHQubmV4dD03LGUudGV4dCgpO2Nhc2UgNzpuPXQudDArPXQuc2VudCx0Lm5leHQ9MTE7YnJlYWs7Y2FzZSAxMDpuKz1lLnN0YXR1c1RleHQ7Y2FzZSAxMTp0Lm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzpyZXR1cm4gdC5wcmV2PTEzLHQudDE9dC5jYXRjaCgxKSx0LmFicnVwdCgicmV0dXJuIixuKTtjYXNlIDE2OnJldHVybiB0LmFicnVwdCgicmV0dXJuIixuKTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMSwxM11dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKHQsZSl7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoIU9iamVjdChzLmQpKGUpKXt0Lm5leHQ9MjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsT2JqZWN0KHUuYSkoZSxuKSk7Y2FzZSAyOnJldHVybiBlPU9iamVjdChvLmIpKGUpLHQubmV4dD01LGZldGNoKGUsbik7Y2FzZSA1OmlmKChyPXQuc2VudCkub2t8fCFuLnRocm93cyl7dC5uZXh0PTEyO2JyZWFrfXJldHVybiB0LnQwPUVycm9yLHQubmV4dD0xMCxjKHIpO2Nhc2UgMTA6dGhyb3cgdC50MT10LnNlbnQsbmV3IHQudDAodC50MSk7Y2FzZSAxMjpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIscik7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgcixpPW4oMzEpLGE9bigwKSxvPW4oMjgpLHM9KHI9e30sT2JqZWN0KGEuYSkociw1MTI2LFs1MTI2LDEsImZsb2F0Il0pLE9iamVjdChhLmEpKHIsMzU2NjQsWzUxMjYsMiwidmVjMiJdKSxPYmplY3QoYS5hKShyLDM1NjY1LFs1MTI2LDMsInZlYzMiXSksT2JqZWN0KGEuYSkociwzNTY2NixbNTEyNiw0LCJ2ZWM0Il0pLE9iamVjdChhLmEpKHIsNTEyNCxbNTEyNCwxLCJpbnQiXSksT2JqZWN0KGEuYSkociwzNTY2NyxbNTEyNCwyLCJpdmVjMiJdKSxPYmplY3QoYS5hKShyLDM1NjY4LFs1MTI0LDMsIml2ZWMzIl0pLE9iamVjdChhLmEpKHIsMzU2NjksWzUxMjQsNCwiaXZlYzQiXSksT2JqZWN0KGEuYSkociw1MTI1LFs1MTI1LDEsInVpbnQiXSksT2JqZWN0KGEuYSkociwzNjI5NCxbNTEyNSwyLCJ1dmVjMiJdKSxPYmplY3QoYS5hKShyLDM2Mjk1LFs1MTI1LDMsInV2ZWMzIl0pLE9iamVjdChhLmEpKHIsMzYyOTYsWzUxMjUsNCwidXZlYzQiXSksT2JqZWN0KGEuYSkociwzNTY3MCxbNTEyNiwxLCJib29sIl0pLE9iamVjdChhLmEpKHIsMzU2NzEsWzUxMjYsMiwiYnZlYzIiXSksT2JqZWN0KGEuYSkociwzNTY3MixbNTEyNiwzLCJidmVjMyJdKSxPYmplY3QoYS5hKShyLDM1NjczLFs1MTI2LDQsImJ2ZWM0Il0pLE9iamVjdChhLmEpKHIsMzU2NzQsWzUxMjYsOCwibWF0MiJdKSxPYmplY3QoYS5hKShyLDM1Njg1LFs1MTI2LDgsIm1hdDJ4MyJdKSxPYmplY3QoYS5hKShyLDM1Njg2LFs1MTI2LDgsIm1hdDJ4NCJdKSxPYmplY3QoYS5hKShyLDM1Njc1LFs1MTI2LDEyLCJtYXQzIl0pLE9iamVjdChhLmEpKHIsMzU2ODcsWzUxMjYsMTIsIm1hdDN4MiJdKSxPYmplY3QoYS5hKShyLDM1Njg4LFs1MTI2LDEyLCJtYXQzeDQiXSksT2JqZWN0KGEuYSkociwzNTY3NixbNTEyNiwxNiwibWF0NCJdKSxPYmplY3QoYS5hKShyLDM1Njg5LFs1MTI2LDE2LCJtYXQ0eDIiXSksT2JqZWN0KGEuYSkociwzNTY5MCxbNTEyNiwxNiwibWF0NHgzIl0pLHIpO2Z1bmN0aW9uIHUodCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gMDtjYXNlIDE6Y2FzZSAzOmNhc2UgMjpyZXR1cm4gMTtjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpyZXR1cm4gNDtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksMH19ZnVuY3Rpb24gYyh0KXt2YXIgZT1zW3RdO2lmKCFlKXJldHVybiBudWxsO3ZhciBuPU9iamVjdChpLmEpKGUsMik7cmV0dXJue3R5cGU6blswXSxjb21wb25lbnRzOm5bMV19fWZ1bmN0aW9uIGwodCxlKXtzd2l0Y2godCl7Y2FzZSA1MTIwOmNhc2UgNTEyMTpjYXNlIDUxMjI6Y2FzZSA1MTIzOnQ9NTEyNn1mb3IodmFyIG4gaW4gcyl7dmFyIHI9T2JqZWN0KGkuYSkoc1tuXSwzKSxhPXJbMF0sbz1yWzFdLHU9clsyXTtpZihhPT09dCYmbz09PWUpcmV0dXJue2dsVHlwZTpuLG5hbWU6dX19cmV0dXJuIG51bGx9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5vdmVyQWxsb2Mscj12b2lkIDA9PT1uPzI6bixhPWUucG9vbFNpemUsbz12b2lkIDA9PT1hPzEwMDphO2koKSh0aGlzLHQpLHRoaXMub3ZlckFsbG9jPXIsdGhpcy5wb29sU2l6ZT1vLHRoaXMuX3Bvb2w9W119cmV0dXJuIG8oKSh0LFt7a2V5OiJhbGxvY2F0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4uc2l6ZSxpPXZvaWQgMD09PXI/MTpyLGE9bi50eXBlLG89bi5wYWRkaW5nLHM9dm9pZCAwPT09bz8wOm8sdT1uLmNvcHksYz12b2lkIDAhPT11JiZ1LGw9YXx8dCYmdC5jb25zdHJ1Y3Rvcnx8RmxvYXQzMkFycmF5LGg9ZSppK3M7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXtpZihoPD10Lmxlbmd0aClyZXR1cm4gdDtpZihoKnQuQllURVNfUEVSX0VMRU1FTlQ8PXQuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIG5ldyBsKHQuYnVmZmVyLDAsaCl9dmFyIGY9dGhpcy5fYWxsb2NhdGUobCxoKTtyZXR1cm4gdCYmYz9mLnNldCh0KTpmLmZpbGwoMCwwLDQpLHRoaXMuX3JlbGVhc2UodCksZn19LHtrZXk6InJlbGVhc2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbGVhc2UodCl9fSx7a2V5OiJfYWxsb2NhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZT1NYXRoLm1heChNYXRoLmNlaWwoZSp0aGlzLm92ZXJBbGxvYyksMSk7dmFyIG49dGhpcy5fcG9vbCxyPXQuQllURVNfUEVSX0VMRU1FTlQqZSxpPW4uZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5ieXRlTGVuZ3RoPj1yfSkpO3JldHVybiBpPj0wP25ldyB0KG4uc3BsaWNlKGksMSlbMF0sMCxlKTpuZXcgdChlKX19LHtrZXk6Il9yZWxlYXNlIix2YWx1ZTpmdW5jdGlvbih0KXtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpe3ZhciBlPXRoaXMuX3Bvb2wsbj10LmJ1ZmZlcixyPW4uYnl0ZUxlbmd0aCxpPWUuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5ieXRlTGVuZ3RoPj1yfSkpO2k8MD9lLnB1c2gobik6KGk+MHx8ZS5sZW5ndGg8dGhpcy5wb29sU2l6ZSkmJmUuc3BsaWNlKGksMCxuKSxlLmxlbmd0aD50aGlzLnBvb2xTaXplJiZlLnNoaWZ0KCl9fX1dKSx0fSgpO2UuYT1uZXcgc30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGV8fCJsb2FkZXIgYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgcixpLGEsbz1uKDApLHM9bigxMSksdT0ocj17fSxPYmplY3Qoby5hKShyLDY0MDcse2RhdGFGb3JtYXQ6NjQwNyx0eXBlczpbNTEyMSwzMzYzNV19KSxPYmplY3Qoby5hKShyLDY0MDgse2RhdGFGb3JtYXQ6NjQwOCx0eXBlczpbNTEyMSwzMjgxOSwzMjgyMF19KSxPYmplY3Qoby5hKShyLDY0MDYse2RhdGFGb3JtYXQ6NjQwNix0eXBlczpbNTEyMV19KSxPYmplY3Qoby5hKShyLDY0MDkse2RhdGFGb3JtYXQ6NjQwOSx0eXBlczpbNTEyMV19KSxPYmplY3Qoby5hKShyLDY0MTAse2RhdGFGb3JtYXQ6NjQxMCx0eXBlczpbNTEyMV19KSxPYmplY3Qoby5hKShyLDMzMzI2LHtkYXRhRm9ybWF0OjY0MDMsdHlwZXM6WzUxMjZdLGdsMjohMH0pLE9iamVjdChvLmEpKHIsMzMzMjgse2RhdGFGb3JtYXQ6MzMzMTksdHlwZXM6WzUxMjZdLGdsMjohMH0pLE9iamVjdChvLmEpKHIsMzQ4Mzcse2RhdGFGb3JtYXQ6NjQwNyx0eXBlczpbNTEyNl0sZ2wyOiEwfSksT2JqZWN0KG8uYSkociwzNDgzNix7ZGF0YUZvcm1hdDo2NDA4LHR5cGVzOls1MTI2XSxnbDI6ITB9KSxyKSxjPShpPXt9LE9iamVjdChvLmEpKGksNjQwMywxKSxPYmplY3Qoby5hKShpLDM2MjQ0LDEpLE9iamVjdChvLmEpKGksMzMzMTksMiksT2JqZWN0KG8uYSkoaSwzMzMyMCwyKSxPYmplY3Qoby5hKShpLDY0MDcsMyksT2JqZWN0KG8uYSkoaSwzNjI0OCwzKSxPYmplY3Qoby5hKShpLDY0MDgsNCksT2JqZWN0KG8uYSkoaSwzNjI0OSw0KSxPYmplY3Qoby5hKShpLDY0MDIsMSksT2JqZWN0KG8uYSkoaSwzNDA0MSwxKSxPYmplY3Qoby5hKShpLDY0MDYsMSksT2JqZWN0KG8uYSkoaSw2NDA5LDEpLE9iamVjdChvLmEpKGksNjQxMCwyKSxpKSxsPShhPXt9LE9iamVjdChvLmEpKGEsNTEyNiw0KSxPYmplY3Qoby5hKShhLDUxMjUsNCksT2JqZWN0KG8uYSkoYSw1MTI0LDQpLE9iamVjdChvLmEpKGEsNTEyMywyKSxPYmplY3Qoby5hKShhLDUxMjIsMiksT2JqZWN0KG8uYSkoYSw1MTMxLDIpLE9iamVjdChvLmEpKGEsNTEyMCwxKSxPYmplY3Qoby5hKShhLDUxMjEsMSksYSk7ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPXVbZV07aWYoIW4pcmV0dXJuITE7aWYodm9pZCAwPT09bi5nbDEmJnZvaWQgMD09PW4uZ2wyKXJldHVybiEwO3ZhciByPU9iamVjdChzLmcpKHQpJiZuLmdsMnx8bi5nbDE7cmV0dXJuInN0cmluZyI9PXR5cGVvZiByP3QuZ2V0RXh0ZW5zaW9uKHIpOnJ9ZnVuY3Rpb24gZih0LGUpe3ZhciBuPXVbZV07c3dpdGNoKG4mJm4udHlwZXNbMF0pe2Nhc2UgNTEyNjpyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpO2Nhc2UgNTEzMTpyZXR1cm4gdC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIik7ZGVmYXVsdDpyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bmV3IE1hcChbWyJpbWFnZS9wbmciLHt0ZXN0OmksZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm57d2lkdGg6dC5nZXRVaW50MzIoMTYsITEpLGhlaWdodDp0LmdldFVpbnQzMigyMCwhMSl9fX1dLFsiaW1hZ2UvanBlZyIse3Rlc3Q6cyxnZXRTaXplOmZ1bmN0aW9uKHQpe2lmKHQuYnl0ZUxlbmd0aDwyfHw2NTQ5NiE9PXQuZ2V0VWludDE2KDAsITEpKXJldHVybiBudWxsO3ZhciBlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBTZXQoWzY1NDk5LDY1NDc2LDY1NDg0LDY1NTAxLDY1NTM0XSksZT02NTUwNDtlPDY1NTIwOysrZSl0LmFkZChlKTt2YXIgbj1uZXcgU2V0KFs2NTQ3Miw2NTQ3Myw2NTQ3NCw2NTQ3NSw2NTQ3Nyw2NTQ3OCw2NTQ3OSw2NTQ4MSw2NTQ4Miw2NTQ4Myw2NTQ4NSw2NTQ4Niw2NTQ4Nyw2NTUwMl0pO3JldHVybnt0YWJsZU1hcmtlcnM6dCxzb2ZNYXJrZXJzOm59fSgpLG49ZS50YWJsZU1hcmtlcnMscj1lLnNvZk1hcmtlcnMsaT0yO2Zvcig7aTx0LmJ5dGVMZW5ndGg7KXt2YXIgYT10LmdldFVpbnQxNihpLCExKTtpZihyLmhhcyhhKSlyZXR1cm57aGVpZ2h0OnQuZ2V0VWludDE2KGkrNSwhMSksd2lkdGg6dC5nZXRVaW50MTYoaSs3LCExKX07aWYoIW4uaGFzKGEpKXJldHVybiBudWxsO2krPTIsaSs9dC5nZXRVaW50MTYoaSwhMSl9cmV0dXJuIG51bGx9fV0sWyJpbWFnZS9naWYiLHt0ZXN0OmEsZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm57d2lkdGg6dC5nZXRVaW50MTYoNiwhMCksaGVpZ2h0OnQuZ2V0VWludDE2KDgsITApfX19XSxbImltYWdlL2JtcCIse3Rlc3Q6byxnZXRTaXplOmZ1bmN0aW9uKHQpe3JldHVybnt3aWR0aDp0LmdldFVpbnQzMigxOCwhMCksaGVpZ2h0OnQuZ2V0VWludDMyKDIyLCEwKX19fV1dKTtmdW5jdGlvbiBpKHQpe3JldHVybiB0LmJ5dGVMZW5ndGg+PTI0JiYyMzAzNzQxNTExPT09dC5nZXRVaW50MzIoMCwhMSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5ieXRlTGVuZ3RoPj0xMCYmMTE5NTk4NDQ0MD09PXQuZ2V0VWludDMyKDAsITEpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQuYnl0ZUxlbmd0aD49MTQmJjE2OTczPT09dC5nZXRVaW50MTYoMCwhMSkmJnQuZ2V0VWludDMyKDIsITApPT09dC5ieXRlTGVuZ3RofWZ1bmN0aW9uIHModCl7cmV0dXJuIHQuYnl0ZUxlbmd0aD49MyYmNjU0OTY9PT10LmdldFVpbnQxNigwLCExKSYmMjU1PT09dC5nZXRVaW50OCgyLCExKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO2Z1bmN0aW9uIHIodCl7c3dpdGNoKEFycmF5QnVmZmVyLmlzVmlldyh0KT90LmNvbnN0cnVjdG9yOnQpe2Nhc2UgRmxvYXQzMkFycmF5OnJldHVybiA1MTI2O2Nhc2UgVWludDE2QXJyYXk6cmV0dXJuIDUxMjM7Y2FzZSBVaW50MzJBcnJheTpyZXR1cm4gNTEyNTtjYXNlIFVpbnQ4QXJyYXk6Y2FzZSBVaW50OENsYW1wZWRBcnJheTpyZXR1cm4gNTEyMTtjYXNlIEludDhBcnJheTpyZXR1cm4gNTEyMDtjYXNlIEludDE2QXJyYXk6cmV0dXJuIDUxMjI7Y2FzZSBJbnQzMkFycmF5OnJldHVybiA1MTI0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZGVkdWNlIEdMIGNvbnN0YW50IGZyb20gdHlwZWQgYXJyYXkiKX19ZnVuY3Rpb24gaSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLmNsYW1wZWQscj12b2lkIDA9PT1ufHxuO3N3aXRjaCh0KXtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlIDUxMjM6Y2FzZSAzMzYzNTpjYXNlIDMyODE5OmNhc2UgMzI4MjA6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgNTEyNTpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSA1MTIxOnJldHVybiByP1VpbnQ4Q2xhbXBlZEFycmF5OlVpbnQ4QXJyYXk7Y2FzZSA1MTIwOnJldHVybiBJbnQ4QXJyYXk7Y2FzZSA1MTIyOnJldHVybiBJbnQxNkFycmF5O2Nhc2UgNTEyNDpyZXR1cm4gSW50MzJBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGRlZHVjZSB0eXBlZCBhcnJheSB0eXBlIGZyb20gR0wgY29uc3RhbnQiKX19ZnVuY3Rpb24gYSh0KXt2YXIgZT10LmRhdGEsbj10LndpZHRoLHI9dC5oZWlnaHQsaT10LmJ5dGVzUGVyUGl4ZWwsYT12b2lkIDA9PT1pPzQ6aSxvPXQudGVtcCxzPW4qYTtvPW98fG5ldyBVaW50OEFycmF5KHMpO2Zvcih2YXIgdT0wO3U8ci8yOysrdSl7dmFyIGM9dSpzLGw9KHItdS0xKSpzO28uc2V0KGUuc3ViYXJyYXkoYyxjK3MpKSxlLmNvcHlXaXRoaW4oYyxsLGwrcyksZS5zZXQobyxsKX19ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGU9dC5kYXRhLG49dC53aWR0aCxyPXQuaGVpZ2h0LGk9TWF0aC5yb3VuZChuLzIpLGE9TWF0aC5yb3VuZChyLzIpLG89bmV3IFVpbnQ4QXJyYXkoaSphKjQpLHM9MDtzPGE7cysrKWZvcih2YXIgdT0wO3U8aTt1KyspZm9yKHZhciBjPTA7Yzw0O2MrKylvWzQqKHMqaSt1KStjXT1lWzQqKDIqcypuKzIqdSkrY107cmV0dXJue2RhdGE6byx3aWR0aDppLGhlaWdodDphfX19LCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDE2OSksdj1uKDExKSxwPW4oMTc3KSxnPW4oMjMpLHk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDtyZXR1cm4gT2JqZWN0KHYuaykoZSx7ZnJhbWVidWZmZXI6dC50YXJnZXR9KSx0aGlzLl9kcmF3TGF5ZXJzKHQpfX0se2tleToiX2RyYXdMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld3BvcnRzLG49dC52aWV3cyxyPXQub25WaWV3cG9ydEFjdGl2ZSxpPXQuY2xlYXJDYW52YXMsYT12b2lkIDA9PT1pfHxpLG89dGhpcy5nbDthJiZmdW5jdGlvbih0KXt2YXIgZT10LmRyYXdpbmdCdWZmZXJXaWR0aCxuPXQuZHJhd2luZ0J1ZmZlckhlaWdodDtPYmplY3Qodi5rKSh0LHt2aWV3cG9ydDpbMCwwLGUsbl19KSx0LmNsZWFyKDE2NjQwKX0obyk7dmFyIHM9W10sdT0hMCxjPSExLGw9dm9pZCAwO3RyeXtmb3IodmFyIGgsZj1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KGg9Zi5uZXh0KCkpLmRvbmUpO3U9ITApe3ZhciBkPWgudmFsdWUscD1kLnZpZXdwb3J0fHxkLGc9biYmbltwLmlkXTtyKHApLHQudmlldz1nO3ZhciB5PXAuc3ViVmlld3BvcnRzfHxbcF0sbT0hMCxiPSExLF89dm9pZCAwO3RyeXtmb3IodmFyIE8seD15W1N5bWJvbC5pdGVyYXRvcl0oKTshKG09KE89eC5uZXh0KCkpLmRvbmUpO209ITApe3ZhciB3PU8udmFsdWU7dC52aWV3cG9ydD13O3ZhciBrPXRoaXMuX2RyYXdMYXllcnNJblZpZXdwb3J0KG8sdCk7cy5wdXNoKGspfX1jYXRjaCh0KXtiPSEwLF89dH1maW5hbGx5e3RyeXttfHxudWxsPT14LnJldHVybnx8eC5yZXR1cm4oKX1maW5hbGx5e2lmKGIpdGhyb3cgX319fX1jYXRjaCh0KXtjPSEwLGw9dH1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19cmV0dXJuIHN9fSx7a2V5OiJfZHJhd0xheWVyc0luVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5sYXllcnMscj1lLmxheWVyRmlsdGVyLGk9ZS5vbkVycm9yLGE9ZS52aWV3cG9ydCxvPWUudmlldyxzPWUucGFzcyx1PXZvaWQgMD09PXM/InVua25vd24iOnMsYz1lLmVmZmVjdHMsbD1lLm1vZHVsZVBhcmFtZXRlcnMsaD1mdW5jdGlvbih0LGUpe3ZhciBuPWUudmlld3BvcnQscj10LmNhbnZhcz90LmNhbnZhcy5jbGllbnRIZWlnaHR8fHQuY2FudmFzLmhlaWdodDoxMDAsaT1uLGE9T2JqZWN0KHYuYykodCk7cmV0dXJuW2kueCphLChyLWkueS1pLmhlaWdodCkqYSxpLndpZHRoKmEsaS5oZWlnaHQqYV19KHQse3ZpZXdwb3J0OmF9KTtpZihvJiZvLnByb3BzLmNsZWFyKXt2YXIgZj0hMD09PW8ucHJvcHMuY2xlYXI/e2NvbG9yOiEwLGRlcHRoOiEwfTpvLnByb3BzLmNsZWFyO09iamVjdCh2LmwpKHQse3NjaXNzb3JUZXN0OiEwLHNjaXNzb3I6aH0sKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChwLmEpKHQsZil9KSl9dmFyIGQ9e3RvdGFsQ291bnQ6bi5sZW5ndGgsdmlzaWJsZUNvdW50OjAsY29tcG9zaXRlQ291bnQ6MCxwaWNrYWJsZUNvdW50OjB9O09iamVjdCh2LmspKHQse3ZpZXdwb3J0Omh9KTtmb3IodmFyIHk9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e307cmV0dXJuIGZ1bmN0aW9uKGksYSl7dmFyIG8scz1pLnByb3BzLl9vZmZzZXQsdT1pLmlkLGM9aS5wYXJlbnQmJmkucGFyZW50LmlkO2lmKGMgaW4gcil7dmFyIGw9cltjXT1yW2NdfHx0KG5bY10sbik7bz1sKGksYSksclt1XT1sfWVsc2UgTnVtYmVyLmlzRmluaXRlKHMpPyhvPXMrKG5bY118fDApLHJbdV09bnVsbCk6bz1lO3JldHVybiBhJiZvPj1lJiYoZT1vKzEpLG5bdV09byxvfX0oKSxtPTA7bTxuLmxlbmd0aDttKyspe3ZhciBiPW5bbV0sXz10aGlzLl9zaG91bGREcmF3TGF5ZXIoYixhLHUsciksTz15KGIsXyk7aWYoXyYmYi5wcm9wcy5waWNrYWJsZSYmZC5waWNrYWJsZUNvdW50KyssYi5pc0NvbXBvc2l0ZSYmZC5jb21wb3NpdGVDb3VudCsrLF8pe2QudmlzaWJsZUNvdW50Kys7dmFyIHg9dGhpcy5fZ2V0TW9kdWxlUGFyYW1ldGVycyhiLGMsdSxsKSx3PXRoaXMuZ2V0TGF5ZXJQYXJhbWV0ZXJzKGIsbSk7eC52aWV3cG9ydD1hO3RyeXtiLmRyYXdMYXllcih7bW9kdWxlUGFyYW1ldGVyczp4LHVuaWZvcm1zOntsYXllckluZGV4Ok99LHBhcmFtZXRlcnM6d30pfWNhdGNoKHQpe2k/aSh0LGIpOmcuYS5lcnJvcigiZXJyb3IgZHVyaW5nIGRyYXdpbmcgb2YgIi5jb25jYXQoYiksdCkoKX19fXJldHVybiBkfX0se2tleToic2hvdWxkRHJhd0xheWVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hMH19LHtrZXk6ImdldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9fSx7a2V5OiJnZXRMYXllclBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHJvcHMucGFyYW1ldGVyc319LHtrZXk6Il9zaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMuc2hvdWxkRHJhd0xheWVyKHQpJiYhdC5pc0NvbXBvc2l0ZSYmdC5wcm9wcy52aXNpYmxlO3JldHVybiBpJiZyJiYoaT1yKHtsYXllcjp0LHZpZXdwb3J0OmUsaXNQaWNraW5nOm4uc3RhcnRzV2l0aCgicGlja2luZyIpLHJlbmRlclBhc3M6bn0pKSxpfX0se2tleToiX2dldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0LnByb3BzKSx7dmlld3BvcnQ6dC5jb250ZXh0LnZpZXdwb3J0LG1vdXNlUG9zaXRpb246dC5jb250ZXh0Lm1vdXNlUG9zaXRpb24scGlja2luZ0FjdGl2ZTowLGRldmljZVBpeGVsUmF0aW86T2JqZWN0KHYuYykodGhpcy5nbCl9KTtpZihlKXt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7T2JqZWN0LmFzc2lnbihpLGwuZ2V0TW9kdWxlUGFyYW1ldGVycyh0KSl9fWNhdGNoKHQpe289ITAscz10fWZpbmFsbHl7dHJ5e2F8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBzfX19cmV0dXJuIE9iamVjdC5hc3NpZ24oaSx0aGlzLmdldE1vZHVsZVBhcmFtZXRlcnModCxlKSxyKX19XSksZX0oZC5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/ImVmZmVjdCI6bjt0aGlzLmlkPXIsdGhpcy5wcm9wcz17fSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsZSl9cmV0dXJuIG8oKSh0LFt7a2V5OiJwcmVSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9bigxMyksaT1uKDUpLGE9bi5uKGkpLG89big1NCkscz1uKDEwNCksdT1uKDc0KTtmdW5jdGlvbiBjKHQpe2lmKHUuY3x8dS5lPj0xMCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKXJldHVybiB0O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEl0ZXJhdG9yKXJldHVybiB0LmdldEl0ZXJhdG9yKCl9cmV0dXJuIHUuYz9mdW5jdGlvbih0KXtyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KHQpOmZ1bmN0aW9uKHQpe3JldHVybiBoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0odCl9ZnVuY3Rpb24gbCgpe3JldHVybihsPU9iamVjdChzLmEpKGEuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxzO3JldHVybiBhLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1lLmdldFJlYWRlcigpLHQucHJldj0xO2Nhc2UgMjpyZXR1cm4gdC5uZXh0PTUsT2JqZWN0KG8uYSkobi5yZWFkKCkpO2Nhc2UgNTppZihyPXQuc2VudCxpPXIuZG9uZSxzPXIudmFsdWUsIWkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMTA6cmV0dXJuIHQubmV4dD0xMixzO2Nhc2UgMTI6dC5uZXh0PTI7YnJlYWs7Y2FzZSAxNDp0Lm5leHQ9MTk7YnJlYWs7Y2FzZSAxNjp0LnByZXY9MTYsdC50MD10LmNhdGNoKDEpLG4ucmVsZWFzZUxvY2soKTtjYXNlIDE5OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMSwxNl1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0KHMuYSkoYS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuIGEuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsT2JqZWN0KG8uYSkoZSk7Y2FzZSAyOmU9dC5zZW50O2Nhc2UgMzppZihudWxsPT09KG49ZS5yZWFkKCkpKXt0Lm5leHQ9OTticmVha31yZXR1cm4gdC5uZXh0PTgsbjtjYXNlIDg6cmV0dXJuIHQuYWJydXB0KCJjb250aW51ZSIsMyk7Y2FzZSA5OmlmKCFlLl9yZWFkYWJsZVN0YXRlLmVuZGVkKXt0Lm5leHQ9MTE7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDExOnJldHVybiB0Lm5leHQ9MTMsT2JqZWN0KG8uYSkoZihlKSk7Y2FzZSAxMzp0Lm5leHQ9MzticmVhaztjYXNlIDE1OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdChyLmEpKGEuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3JldHVybiBhLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLm9uY2UoInJlYWRhYmxlIix0KX0pKSk7Y2FzZSAxOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTcyKTtmdW5jdGlvbiBpKHQpe3ZhciBlLG47ZnVuY3Rpb24gaShlLG4pe3RyeXt2YXIgbz10W2VdKG4pLHM9by52YWx1ZSx1PXMgaW5zdGFuY2VvZiByLmE7UHJvbWlzZS5yZXNvbHZlKHU/cy53cmFwcGVkOnMpLnRoZW4oKGZ1bmN0aW9uKHQpe3U/aSgicmV0dXJuIj09PWU/InJldHVybiI6Im5leHQiLHQpOmEoby5kb25lPyJyZXR1cm4iOiJub3JtYWwiLHQpfSksKGZ1bmN0aW9uKHQpe2koInRocm93Iix0KX0pKX1jYXRjaCh0KXthKCJ0aHJvdyIsdCl9fWZ1bmN0aW9uIGEodCxyKXtzd2l0Y2godCl7Y2FzZSJyZXR1cm4iOmUucmVzb2x2ZSh7dmFsdWU6cixkb25lOiEwfSk7YnJlYWs7Y2FzZSJ0aHJvdyI6ZS5yZWplY3Qocik7YnJlYWs7ZGVmYXVsdDplLnJlc29sdmUoe3ZhbHVlOnIsZG9uZTohMX0pfShlPWUubmV4dCk/aShlLmtleSxlLmFyZyk6bj1udWxsfXRoaXMuX2ludm9rZT1mdW5jdGlvbih0LHIpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxvKXt2YXIgcz17a2V5OnQsYXJnOnIscmVzb2x2ZTphLHJlamVjdDpvLG5leHQ6bnVsbH07bj9uPW4ubmV4dD1zOihlPW49cyxpKHQscikpfSkpfSwiZnVuY3Rpb24iIT10eXBlb2YgdC5yZXR1cm4mJih0aGlzLnJldHVybj12b2lkIDApfWZ1bmN0aW9uIGEodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX19ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmFzeW5jSXRlcmF0b3ImJihpLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZSgibmV4dCIsdCl9LGkucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoInRocm93Iix0KX0saS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoInJldHVybiIsdCl9LG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMjgpO2Z1bmN0aW9uIGkodCxlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIG49TnVtYmVyKGUpO2lmKCFpc05hTihuKSlyZXR1cm4gbjt2YXIgaT10W2U9ZS5yZXBsYWNlKC9eLipcLi8sIiIpXTtyZXR1cm4gT2JqZWN0KHIuYSkodm9pZCAwIT09aSwiQWNjZXNzaW5nIHVuZGVmaW5lZCBjb25zdGFudCBHTC4iLmNvbmNhdChlKSksaX1mdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBuIGluIGU9TnVtYmVyKGUpLHQpaWYodFtuXT09PWUpcmV0dXJuIkdMLiIuY29uY2F0KG4pO3JldHVybiBTdHJpbmcoZSl9fSwsZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9bi5uKHIpLGE9bigxMyksbz1uKDExMyk7ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheSh0KTp0LHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOmUsaT1uZXcgVWludDhBcnJheShuLmJ5dGVMZW5ndGgrci5ieXRlTGVuZ3RoKTtyZXR1cm4gaS5zZXQobiwwKSxpLnNldChyLG4uYnl0ZUxlbmd0aCksaX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBkfSkpO3ZhciB1PWkuYS5tYXJrKGQpLGM9aS5hLm1hcmsodiksbD1pLmEubWFyayhwKTtmdW5jdGlvbiBoKHQpe3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLHUsYyxsLGgsZixkO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1uZXcgQXJyYXlCdWZmZXIoMCkscj0iIixhPSEwLHU9ITEsdC5wcmV2PTQsbD1PYmplY3Qoby5hKShlKTtjYXNlIDY6cmV0dXJuIHQubmV4dD04LGwubmV4dCgpO2Nhc2UgODpyZXR1cm4gaD10LnNlbnQsYT1oLmRvbmUsdC5uZXh0PTEyLGgudmFsdWU7Y2FzZSAxMjppZihmPXQuc2VudCxhKXt0Lm5leHQ9MTk7YnJlYWt9InN0cmluZyI9PXR5cGVvZihkPWYpP3IrPWQ6bj1zKG4sZCk7Y2FzZSAxNjphPSEwLHQubmV4dD02O2JyZWFrO2Nhc2UgMTk6dC5uZXh0PTI1O2JyZWFrO2Nhc2UgMjE6dC5wcmV2PTIxLHQudDA9dC5jYXRjaCg0KSx1PSEwLGM9dC50MDtjYXNlIDI1OmlmKHQucHJldj0yNSx0LnByZXY9MjYsYXx8bnVsbD09bC5yZXR1cm4pe3QubmV4dD0zMDticmVha31yZXR1cm4gdC5uZXh0PTMwLGwucmV0dXJuKCk7Y2FzZSAzMDppZih0LnByZXY9MzAsIXUpe3QubmV4dD0zMzticmVha310aHJvdyBjO2Nhc2UgMzM6cmV0dXJuIHQuZmluaXNoKDMwKTtjYXNlIDM0OnJldHVybiB0LmZpbmlzaCgyNSk7Y2FzZSAzNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIscnx8bik7Y2FzZSAzNjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzQsMjEsMjUsMzVdLFsyNiwsMzAsMzRdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZCh0KXt2YXIgZSxuPWFyZ3VtZW50cztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOmlmKGU9bi5sZW5ndGg+MSYmdm9pZCAwIT09blsxXT9uWzFdOnt9LCJzdHJpbmciIT10eXBlb2YgdCl7ci5uZXh0PTQ7YnJlYWt9cmV0dXJuIHIuZGVsZWdhdGVZaWVsZChwKHQsZSksInQwIiwzKTtjYXNlIDM6cmV0dXJuIHIuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDQ6aWYoISh0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXtyLm5leHQ9NzticmVha31yZXR1cm4gci5kZWxlZ2F0ZVlpZWxkKHYodCxlKSwidDEiLDYpO2Nhc2UgNjpyZXR1cm4gci5hYnJ1cHQoInJldHVybiIpO2Nhc2UgNzp0aHJvdyBuZXcgRXJyb3IoImFzc2VydCIpO2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pLHUpfWZ1bmN0aW9uIHYodCl7dmFyIGUsbixyLGEsbyxzLHUsbD1hcmd1bWVudHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihpKXtmb3IoOzspc3dpdGNoKGkucHJldj1pLm5leHQpe2Nhc2UgMDplPWwubGVuZ3RoPjEmJnZvaWQgMCE9PWxbMV0/bFsxXTp7fSxuPWUuY2h1bmtTaXplLHI9dm9pZCAwPT09bj8yNjIxNDQ6bixhPTA7Y2FzZSAzOmlmKCEoYTx0LmJ5dGVMZW5ndGgpKXtpLm5leHQ9MTQ7YnJlYWt9cmV0dXJuIG89TWF0aC5taW4odC5ieXRlTGVuZ3RoLWEscikscz1uZXcgQXJyYXlCdWZmZXIobyksdT1uZXcgVWludDhBcnJheSh0LGEsbyksbmV3IFVpbnQ4QXJyYXkocykuc2V0KHUpLGErPW8saS5uZXh0PTEyLHM7Y2FzZSAxMjppLm5leHQ9MzticmVhaztjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gaS5zdG9wKCl9fSksYyl9ZnVuY3Rpb24gcCh0KXt2YXIgZSxuLHIsYSxvLHMsdT1hcmd1bWVudHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihpKXtmb3IoOzspc3dpdGNoKGkucHJldj1pLm5leHQpe2Nhc2UgMDplPXUubGVuZ3RoPjEmJnZvaWQgMCE9PXVbMV0/dVsxXTp7fSxuPWUuY2h1bmtTaXplLHI9dm9pZCAwPT09bj8yNjIxNDQ6bixhPTA7Y2FzZSAzOmlmKCEoYTx0Lmxlbmd0aCkpe2kubmV4dD0xMTticmVha31yZXR1cm4gbz1NYXRoLm1pbih0Lmxlbmd0aC1hLHIpLHM9dC5zbGljZShhLGErbyksYSs9byxpLm5leHQ9OSxzO2Nhc2UgOTppLm5leHQ9MzticmVhaztjYXNlIDExOmNhc2UiZW5kIjpyZXR1cm4gaS5zdG9wKCl9fSksbCl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgbj10Lmxlbmd0aDtpZighZXx8ZS5sZW5ndGghPT1uKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bjtyKyspaWYodFtyXSE9PWVbcl0pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaSh0KXt2YXIgZSxuPXt9O3JldHVybiBmdW5jdGlvbihpKXtmb3IodmFyIGEgaW4gaSlpZighcihpW2FdLG5bYV0pKXtlPXQoaSksbj1pO2JyZWFrfXJldHVybiBlfX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big4KSx1PVsyNTUsMjU1LDI1NV0sYz1bMCwwLC0xXSxsPTAsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5jb2xvcixyPXZvaWQgMD09PW4/dTpuLGE9ZS5pbnRlbnNpdHksbz12b2lkIDA9PT1hPzE6YSxoPWUuZGlyZWN0aW9uLGY9dm9pZCAwPT09aD9jOmgsZD1lLl9zaGFkb3csdj12b2lkIDAhPT1kJiZkO3RoaXMuaWQ9ZS5pZHx8ImRpcmVjdGlvbmFsLSIuY29uY2F0KGwrKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PW8sdGhpcy50eXBlPSJkaXJlY3Rpb25hbCIsdGhpcy5kaXJlY3Rpb249bmV3IHMuZChmKS5ub3JtYWxpemUoKS50b0FycmF5KCksdGhpcy5zaGFkb3c9dn1yZXR1cm4gbygpKHQsW3trZXk6ImdldFByb2plY3RlZExpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMDIpLGc9bigyMjApLHk9bigyMyksbT1uKDExOCksYj1uKDE3NSksXz1uKDcxKSxPPW4oNCkseD1uLm4oTyksdz1uKDIwNCk7ZnVuY3Rpb24gayh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmNhbGwodGhpcyxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9rKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7eCgpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTprKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSx0LHthdHRyaWJ1dGVzOntwb3NpdGlvbnM6e3NpemU6MyxwYWRkaW5nOjE4LHR5cGU6dC5mcDY0P0Zsb2F0NjRBcnJheTpGbG9hdDMyQXJyYXl9LHNlZ21lbnRUeXBlczp7c2l6ZToxLHR5cGU6VWludDhDbGFtcGVkQXJyYXl9fX0pKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRHZW9tZXRyeUZyb21CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZT9mKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0R2VvbWV0cnlGcm9tQnVmZmVyIix0aGlzKS5jYWxsKHRoaXMsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF19fSx7a2V5OiJnZXRHZW9tZXRyeVNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLm5vcm1hbGl6ZSl7dmFyIGU9dC5sZW5ndGgvdGhpcy5wb3NpdGlvblNpemU7cmV0dXJuIHRoaXMub3B0cy5sb29wP2UrMjplfXZhciBuPXRoaXMuZ2V0UGF0aExlbmd0aCh0KTtyZXR1cm4gbjwyPzA6dGhpcy5pc0Nsb3NlZCh0KT9uPDM/MDpuKzI6bn19LHtrZXk6InVwZGF0ZUdlb21ldHJ5QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXswIT09ZS5nZW9tZXRyeVNpemUmJih0aGlzLl91cGRhdGVTZWdtZW50VHlwZXModCxlKSx0aGlzLl91cGRhdGVQb3NpdGlvbnModCxlKSl9fSx7a2V5OiJfdXBkYXRlU2VnbWVudFR5cGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXR0cmlidXRlcy5zZWdtZW50VHlwZXMscj10aGlzLmlzQ2xvc2VkKHQpLGk9ZS52ZXJ0ZXhTdGFydCxhPWUuZ2VvbWV0cnlTaXplO24uZmlsbCgwLGksaSthKSxyPyhuW2ldPTQsbltpK2EtMl09NCk6KG5baV0rPTEsbltpK2EtMl0rPTIpLG5baSthLTFdPTR9fSx7a2V5OiJfdXBkYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbnM7aWYobilmb3IodmFyIHI9ZS52ZXJ0ZXhTdGFydCxpPWUuZ2VvbWV0cnlTaXplLGE9cixvPTA7bzxpO2ErKyxvKyspe3ZhciBzPXRoaXMuZ2V0UG9pbnRPblBhdGgodCxvKTtuWzMqYV09c1swXSxuWzMqYSsxXT1zWzFdLG5bMyphKzJdPXNbMl18fDB9fX0se2tleToiZ2V0UGF0aExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0WzBdKT90Lmxlbmd0aC90aGlzLnBvc2l0aW9uU2l6ZTp0Lmxlbmd0aH19LHtrZXk6ImdldFBvaW50T25QYXRoIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKE51bWJlci5pc0Zpbml0ZSh0WzBdKSl7dmFyIG49dGhpcy5wb3NpdGlvblNpemU7cmV0dXJuIGUqbj49dC5sZW5ndGgmJihlKz0xLXQubGVuZ3RoL24pLFt0W2Uqbl0sdFtlKm4rMV0sMz09PW4/dFtlKm4rMl06MF19cmV0dXJuIGU+PXQubGVuZ3RoJiYoZSs9MS10Lmxlbmd0aCksdFtlXX19LHtrZXk6ImlzQ2xvc2VkIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5ub3JtYWxpemUpcmV0dXJuIHRoaXMub3B0cy5sb29wO3ZhciBlPXRoaXMuZ2V0UGF0aExlbmd0aCh0KSxuPXRoaXMuZ2V0UG9pbnRPblBhdGgodCwwKSxyPXRoaXMuZ2V0UG9pbnRPblBhdGgodCxlLTEpO3JldHVybiBuWzBdPT09clswXSYmblsxXT09PXJbMV0mJm5bMl09PT1yWzJdfX1dKSxlfSh3LmEpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKTt2YXIgUD1bMCwwLDAsMjU1XSxqPXt3aWR0aFVuaXRzOiJtZXRlcnMiLHdpZHRoU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sd2lkdGhNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sd2lkdGhNYXhQaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LHJvdW5kZWQ6ITEsbWl0ZXJMaW1pdDp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTo0fSxiaWxsYm9hcmQ6ITEsX3BhdGhUeXBlOm51bGwsZ2V0UGF0aDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBhdGh9fSxnZXRDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlB9LGdldFdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX19LFQ9e2VudGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP2Uuc3ViYXJyYXkoZS5sZW5ndGgtdC5sZW5ndGgpOnR9fSxFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiI2RlZmluZSBTSEFERVJfTkFNRSBwYXRoLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzIgcG9zaXRpb25zO1xuXG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VUeXBlcztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU3RhcnRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZUVuZFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlTGVmdFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUmlnaHRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZUxlZnRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU3RhcnRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlRW5kUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVJpZ2h0UG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VTdHJva2VXaWR0aHM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxudW5pZm9ybSBmbG9hdCB3aWR0aFNjYWxlO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgd2lkdGhNYXhQaXhlbHM7XG51bmlmb3JtIGZsb2F0IGpvaW50VHlwZTtcbnVuaWZvcm0gZmxvYXQgbWl0ZXJMaW1pdDtcbnVuaWZvcm0gYm9vbCBiaWxsYm9hcmQ7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2Q29ybmVyT2Zmc2V0O1xudmFyeWluZyBmbG9hdCB2TWl0ZXJMZW5ndGg7XG52YXJ5aW5nIHZlYzIgdlBhdGhQb3NpdGlvbjtcbnZhcnlpbmcgZmxvYXQgdlBhdGhMZW5ndGg7XG5cbmNvbnN0IGZsb2F0IEVQU0lMT04gPSAwLjAwMTtcbmNvbnN0IHZlYzMgWkVST19PRkZTRVQgPSB2ZWMzKDAuMCk7XG5cbmZsb2F0IGZsaXBJZlRydWUoYm9vbCBmbGFnKSB7XG4gIHJldHVybiAtKGZsb2F0KGZsYWcpICogMi4gLSAxLik7XG59XG52ZWMzIGxpbmVKb2luKFxuICB2ZWMzIHByZXZQb2ludCwgdmVjMyBjdXJyUG9pbnQsIHZlYzMgbmV4dFBvaW50LFxuICB2ZWMyIHdpZHRoXG4pIHtcbiAgYm9vbCBpc0VuZCA9IHBvc2l0aW9ucy54ID4gMC4wO1xuICBmbG9hdCBzaWRlT2ZQYXRoID0gcG9zaXRpb25zLnk7XG4gIGZsb2F0IGlzSm9pbnQgPSBmbG9hdChzaWRlT2ZQYXRoID09IDAuMCk7XG5cbiAgdmVjMiBkZWx0YUEgPSAoY3VyclBvaW50Lnh5IC0gcHJldlBvaW50Lnh5KSAvIHdpZHRoO1xuICB2ZWMyIGRlbHRhQiA9IChuZXh0UG9pbnQueHkgLSBjdXJyUG9pbnQueHkpIC8gd2lkdGg7XG5cbiAgZmxvYXQgbGVuQSA9IGxlbmd0aChkZWx0YUEpO1xuICBmbG9hdCBsZW5CID0gbGVuZ3RoKGRlbHRhQik7XG5cbiAgdmVjMiBkaXJBID0gbGVuQSA+IDAuID8gbm9ybWFsaXplKGRlbHRhQSkgOiB2ZWMyKDAuMCwgMC4wKTtcbiAgdmVjMiBkaXJCID0gbGVuQiA+IDAuID8gbm9ybWFsaXplKGRlbHRhQikgOiB2ZWMyKDAuMCwgMC4wKTtcblxuICB2ZWMyIHBlcnBBID0gdmVjMigtZGlyQS55LCBkaXJBLngpO1xuICB2ZWMyIHBlcnBCID0gdmVjMigtZGlyQi55LCBkaXJCLngpO1xuICB2ZWMyIHRhbmdlbnQgPSBkaXJBICsgZGlyQjtcbiAgdGFuZ2VudCA9IGxlbmd0aCh0YW5nZW50KSA+IDAuID8gbm9ybWFsaXplKHRhbmdlbnQpIDogcGVycEE7XG4gIHZlYzIgbWl0ZXJWZWMgPSB2ZWMyKC10YW5nZW50LnksIHRhbmdlbnQueCk7XG4gIHZlYzIgZGlyID0gaXNFbmQgPyBkaXJBIDogZGlyQjtcbiAgdmVjMiBwZXJwID0gaXNFbmQgPyBwZXJwQSA6IHBlcnBCO1xuICBmbG9hdCBMID0gaXNFbmQgPyBsZW5BIDogbGVuQjtcbiAgZmxvYXQgc2luSGFsZkEgPSBhYnMoZG90KG1pdGVyVmVjLCBwZXJwKSk7XG4gIGZsb2F0IGNvc0hhbGZBID0gYWJzKGRvdChkaXJBLCBtaXRlclZlYykpO1xuICBmbG9hdCB0dXJuRGlyZWN0aW9uID0gZmxpcElmVHJ1ZShkaXJBLnggKiBkaXJCLnkgPj0gZGlyQS55ICogZGlyQi54KTtcbiAgZmxvYXQgY29ybmVyUG9zaXRpb24gPSBzaWRlT2ZQYXRoICogdHVybkRpcmVjdGlvbjtcblxuICBmbG9hdCBtaXRlclNpemUgPSAxLjAgLyBtYXgoc2luSGFsZkEsIEVQU0lMT04pO1xuICBtaXRlclNpemUgPSBtaXgoXG4gICAgbWluKG1pdGVyU2l6ZSwgbWF4KGxlbkEsIGxlbkIpIC8gbWF4KGNvc0hhbGZBLCBFUFNJTE9OKSksXG4gICAgbWl0ZXJTaXplLFxuICAgIHN0ZXAoMC4wLCBjb3JuZXJQb3NpdGlvbilcbiAgKTtcblxuICB2ZWMyIG9mZnNldFZlYyA9IG1peChtaXRlclZlYyAqIG1pdGVyU2l6ZSwgcGVycCwgc3RlcCgwLjUsIGNvcm5lclBvc2l0aW9uKSlcbiAgICAqIChzaWRlT2ZQYXRoICsgaXNKb2ludCAqIHR1cm5EaXJlY3Rpb24pO1xuICBib29sIGlzU3RhcnRDYXAgPSBsZW5BID09IDAuMCB8fCAoIWlzRW5kICYmIChpbnN0YW5jZVR5cGVzID09IDEuMCB8fCBpbnN0YW5jZVR5cGVzID09IDMuMCkpO1xuICBib29sIGlzRW5kQ2FwID0gbGVuQiA9PSAwLjAgfHwgKGlzRW5kICYmIChpbnN0YW5jZVR5cGVzID09IDIuMCB8fCBpbnN0YW5jZVR5cGVzID09IDMuMCkpO1xuICBib29sIGlzQ2FwID0gaXNTdGFydENhcCB8fCBpc0VuZENhcDtcbiAgaWYgKGlzQ2FwKSB7XG4gICAgb2Zmc2V0VmVjID0gbWl4KHBlcnAgKiBzaWRlT2ZQYXRoLCBkaXIgKiBqb2ludFR5cGUgKiA0LjAgKiBmbGlwSWZUcnVlKGlzU3RhcnRDYXApLCBpc0pvaW50KTtcbiAgfVxuICB2UGF0aExlbmd0aCA9IEw7XG4gIHZDb3JuZXJPZmZzZXQgPSBvZmZzZXRWZWM7XG4gIHZNaXRlckxlbmd0aCA9IGRvdCh2Q29ybmVyT2Zmc2V0LCBtaXRlclZlYyAqIHR1cm5EaXJlY3Rpb24pO1xuICB2TWl0ZXJMZW5ndGggPSBpc0NhcCA/IGlzSm9pbnQgOiB2TWl0ZXJMZW5ndGg7XG5cbiAgdmVjMiBvZmZzZXRGcm9tU3RhcnRPZlBhdGggPSB2Q29ybmVyT2Zmc2V0ICsgZGVsdGFBICogZmxvYXQoaXNFbmQpO1xuICB2UGF0aFBvc2l0aW9uID0gdmVjMihcbiAgICBkb3Qob2Zmc2V0RnJvbVN0YXJ0T2ZQYXRoLCBwZXJwKSxcbiAgICBkb3Qob2Zmc2V0RnJvbVN0YXJ0T2ZQYXRoLCBkaXIpXG4gICk7XG4gIGdlb21ldHJ5LnV2ID0gdlBhdGhQb3NpdGlvbjtcblxuICBmbG9hdCBpc1ZhbGlkID0gc3RlcChpbnN0YW5jZVR5cGVzLCAzLjUpO1xuICB2ZWMzIG9mZnNldCA9IHZlYzMob2Zmc2V0VmVjICogd2lkdGggKiBpc1ZhbGlkLCAwLjApO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIHJldHVybiBjdXJyUG9pbnQgKyBvZmZzZXQ7XG59XG52b2lkIGNsaXBMaW5lKGlub3V0IHZlYzQgcG9zaXRpb24sIHZlYzQgcmVmUG9zaXRpb24pIHtcbiAgaWYgKHBvc2l0aW9uLncgPCBFUFNJTE9OKSB7XG4gICAgZmxvYXQgciA9IChFUFNJTE9OIC0gcmVmUG9zaXRpb24udykgLyAocG9zaXRpb24udyAtIHJlZlBvc2l0aW9uLncpO1xuICAgIHBvc2l0aW9uID0gcmVmUG9zaXRpb24gKyAocG9zaXRpb24gLSByZWZQb3NpdGlvbikgKiByO1xuICB9XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IGluc3RhbmNlU3RhcnRQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZUVuZFBvc2l0aW9ucztcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4gIHZlYzIgd2lkdGhQaXhlbHMgPSB2ZWMyKGNsYW1wKHByb2plY3Rfc2l6ZV90b19waXhlbChpbnN0YW5jZVN0cm9rZVdpZHRocyAqIHdpZHRoU2NhbGUpLFxuICAgIHdpZHRoTWluUGl4ZWxzLCB3aWR0aE1heFBpeGVscykgLyAyLjApO1xuXG4gIHZDb2xvciA9IHZlYzQoaW5zdGFuY2VDb2xvcnMucmdiLCBpbnN0YW5jZUNvbG9ycy5hICogb3BhY2l0eSk7XG5cbiAgZmxvYXQgaXNFbmQgPSBwb3NpdGlvbnMueDtcblxuICB2ZWMzIHByZXZQb3NpdGlvbiA9IG1peChpbnN0YW5jZUxlZnRQb3NpdGlvbnMsIGluc3RhbmNlU3RhcnRQb3NpdGlvbnMsIGlzRW5kKTtcbiAgdmVjMyBwcmV2UG9zaXRpb242NExvdyA9IG1peChpbnN0YW5jZUxlZnRQb3NpdGlvbnM2NExvdywgaW5zdGFuY2VTdGFydFBvc2l0aW9uczY0TG93LCBpc0VuZCk7XG5cbiAgdmVjMyBjdXJyUG9zaXRpb24gPSBtaXgoaW5zdGFuY2VTdGFydFBvc2l0aW9ucywgaW5zdGFuY2VFbmRQb3NpdGlvbnMsIGlzRW5kKTtcbiAgdmVjMyBjdXJyUG9zaXRpb242NExvdyA9IG1peChpbnN0YW5jZVN0YXJ0UG9zaXRpb25zNjRMb3csIGluc3RhbmNlRW5kUG9zaXRpb25zNjRMb3csIGlzRW5kKTtcblxuICB2ZWMzIG5leHRQb3NpdGlvbiA9IG1peChpbnN0YW5jZUVuZFBvc2l0aW9ucywgaW5zdGFuY2VSaWdodFBvc2l0aW9ucywgaXNFbmQpO1xuICB2ZWMzIG5leHRQb3NpdGlvbjY0TG93ID0gbWl4KGluc3RhbmNlRW5kUG9zaXRpb25zNjRMb3csIGluc3RhbmNlUmlnaHRQb3NpdGlvbnM2NExvdywgaXNFbmQpO1xuXG4gIGlmIChiaWxsYm9hcmQpIHtcbiAgICB2ZWM0IHByZXZQb3NpdGlvblNjcmVlbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHByZXZQb3NpdGlvbiwgcHJldlBvc2l0aW9uNjRMb3csIFpFUk9fT0ZGU0VUKTtcbiAgICB2ZWM0IGN1cnJQb3NpdGlvblNjcmVlbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGN1cnJQb3NpdGlvbiwgY3VyclBvc2l0aW9uNjRMb3csIFpFUk9fT0ZGU0VULCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gICAgdmVjNCBuZXh0UG9zaXRpb25TY3JlZW4gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShuZXh0UG9zaXRpb24sIG5leHRQb3NpdGlvbjY0TG93LCBaRVJPX09GRlNFVCk7XG5cbiAgICBjbGlwTGluZShwcmV2UG9zaXRpb25TY3JlZW4sIGN1cnJQb3NpdGlvblNjcmVlbik7XG4gICAgY2xpcExpbmUobmV4dFBvc2l0aW9uU2NyZWVuLCBjdXJyUG9zaXRpb25TY3JlZW4pO1xuICAgIGNsaXBMaW5lKGN1cnJQb3NpdGlvblNjcmVlbiwgbWl4KG5leHRQb3NpdGlvblNjcmVlbiwgcHJldlBvc2l0aW9uU2NyZWVuLCBpc0VuZCkpO1xuXG4gICAgdmVjMiB3aWR0aCA9IHByb2plY3RfcGl4ZWxfc2l6ZV90b19jbGlwc3BhY2Uod2lkdGhQaXhlbHMpO1xuXG4gICAgdmVjMyBwb3MgPSBsaW5lSm9pbihcbiAgICAgIHByZXZQb3NpdGlvblNjcmVlbi54eXogLyBwcmV2UG9zaXRpb25TY3JlZW4udyxcbiAgICAgIGN1cnJQb3NpdGlvblNjcmVlbi54eXogLyBjdXJyUG9zaXRpb25TY3JlZW4udyxcbiAgICAgIG5leHRQb3NpdGlvblNjcmVlbi54eXogLyBuZXh0UG9zaXRpb25TY3JlZW4udyxcbiAgICAgIHdpZHRoXG4gICAgKTtcblxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MgKiBjdXJyUG9zaXRpb25TY3JlZW4udywgY3VyclBvc2l0aW9uU2NyZWVuLncpO1xuICB9IGVsc2Uge1xuICAgIHByZXZQb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24ocHJldlBvc2l0aW9uLCBwcmV2UG9zaXRpb242NExvdyk7XG4gICAgY3VyclBvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbihjdXJyUG9zaXRpb24sIGN1cnJQb3NpdGlvbjY0TG93KTtcbiAgICBuZXh0UG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKG5leHRQb3NpdGlvbiwgbmV4dFBvc2l0aW9uNjRMb3cpO1xuXG4gICAgdmVjMiB3aWR0aCA9IHByb2plY3RfcGl4ZWxfc2l6ZSh3aWR0aFBpeGVscyk7XG5cbiAgICB2ZWM0IHBvcyA9IHZlYzQoXG4gICAgICBsaW5lSm9pbihwcmV2UG9zaXRpb24sIGN1cnJQb3NpdGlvbiwgbmV4dFBvc2l0aW9uLCB3aWR0aCksXG4gICAgICAxLjApO1xuICAgIGdlb21ldHJ5LnBvc2l0aW9uID0gcG9zO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvcyk7XG4gIH1cbiAgREVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihnbF9Qb3NpdGlvbiwgZ2VvbWV0cnkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI2RlZmluZSBTSEFERVJfTkFNRSBwYXRoLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gZmxvYXQgam9pbnRUeXBlO1xudW5pZm9ybSBmbG9hdCBtaXRlckxpbWl0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHZDb3JuZXJPZmZzZXQ7XG52YXJ5aW5nIGZsb2F0IHZNaXRlckxlbmd0aDtcbnZhcnlpbmcgdmVjMiB2UGF0aFBvc2l0aW9uO1xudmFyeWluZyBmbG9hdCB2UGF0aExlbmd0aDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB2UGF0aFBvc2l0aW9uO1xuXG4gIGlmICh2UGF0aFBvc2l0aW9uLnkgPCAwLjAgfHwgdlBhdGhQb3NpdGlvbi55ID4gdlBhdGhMZW5ndGgpIHtcbiAgICBpZiAoam9pbnRUeXBlID4gMC4wICYmIGxlbmd0aCh2Q29ybmVyT2Zmc2V0KSA+IDEuMCkge1xuICAgICAgZGlzY2FyZDtcbiAgICB9XG4gICAgaWYgKGpvaW50VHlwZSA9PSAwLjAgJiYgdk1pdGVyTGVuZ3RoID4gbWl0ZXJMaW1pdCArIDEuMCkge1xuICAgICAgZGlzY2FyZDtcbiAgICB9XG4gIH1cbiAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmFdfSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGRJbnN0YW5jZWQoe3Bvc2l0aW9uczp7c2l6ZTozLHZlcnRleE9mZnNldDoxLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOlQsYWNjZXNzb3I6ImdldFBhdGgiLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9ucyxub0FsbG9jOiEwLHNoYWRlckF0dHJpYnV0ZXM6e2luc3RhbmNlTGVmdFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjB9LGluc3RhbmNlU3RhcnRQb3NpdGlvbnM6e3ZlcnRleE9mZnNldDoxfSxpbnN0YW5jZUVuZFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjJ9LGluc3RhbmNlUmlnaHRQb3NpdGlvbnM6e3ZlcnRleE9mZnNldDozfX19LGluc3RhbmNlVHlwZXM6e3NpemU6MSx0eXBlOjUxMjEsdXBkYXRlOnRoaXMuY2FsY3VsYXRlU2VnbWVudFR5cGVzLG5vQWxsb2M6ITB9LGluc3RhbmNlU3Ryb2tlV2lkdGhzOntzaXplOjEsYWNjZXNzb3I6ImdldFdpZHRoIix0cmFuc2l0aW9uOlQsZGVmYXVsdFZhbHVlOjF9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsdHJhbnNpdGlvbjpULGRlZmF1bHRWYWx1ZTpQfSxpbnN0YW5jZVBpY2tpbmdDb2xvcnM6e3NpemU6Myx0eXBlOjUxMjEsYWNjZXNzb3I6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmluZGV4LGk9bi50YXJnZXQ7cmV0dXJuIHQuZW5jb2RlUGlja2luZ0NvbG9yKGUmJmUuX19zb3VyY2U/ZS5fX3NvdXJjZS5pbmRleDpyLGkpfX19KSx0aGlzLnNldFN0YXRlKHtwYXRoVGVzc2VsYXRvcjpuZXcgUyh7ZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCl9KX0pLHRoaXMucHJvcHMuZ2V0RGFzaEFycmF5JiYhdGhpcy5wcm9wcy5leHRlbnNpb25zLmxlbmd0aCYmeS5hLnJlbW92ZWQoImdldERhc2hBcnJheSIsIlBhdGhTdHlsZUV4dGVuc2lvbiIpKCl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dC5vbGRQcm9wcyxyPXQucHJvcHMsaT10LmNoYW5nZUZsYWdzO2YoKShsKCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczpyLG9sZFByb3BzOm4sY2hhbmdlRmxhZ3M6aX0pO3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2lmKGkuZGF0YUNoYW5nZWR8fGkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYoaS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxpLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQYXRoKSl7dmFyIG89dGhpcy5zdGF0ZS5wYXRoVGVzc2VsYXRvcixzPXIuZGF0YS5hdHRyaWJ1dGVzfHx7fTtvLnVwZGF0ZUdlb21ldHJ5KHtkYXRhOnIuZGF0YSxnZW9tZXRyeUJ1ZmZlcjpzLmdldFBhdGgsYnVmZmVyczpzLG5vcm1hbGl6ZTohci5fcGF0aFR5cGUsbG9vcDoibG9vcCI9PT1yLl9wYXRoVHlwZSxnZXRHZW9tZXRyeTpyLmdldFBhdGgscG9zaXRpb25Gb3JtYXQ6ci5wb3NpdGlvbkZvcm1hdCxkYXRhQ2hhbmdlZDppLmRhdGFDaGFuZ2VkfSksdGhpcy5zZXRTdGF0ZSh7bnVtSW5zdGFuY2VzOm8uaW5zdGFuY2VDb3VudCxzdGFydEluZGljZXM6by52ZXJ0ZXhTdGFydHN9KSxpLmRhdGFDaGFuZ2VkfHxhLmludmFsaWRhdGVBbGwoKX1pZihpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgdT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbCh1KX0pLGEuaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1mKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0UGlja2luZ0luZm8iLHRoaXMpLmNhbGwodGhpcyx0KSxyPW4uaW5kZXgsaT10aGlzLnByb3BzLmRhdGE7cmV0dXJuIGlbMF0mJmlbMF0uX19zb3VyY2UmJihuLm9iamVjdD1pLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fc291cmNlLmluZGV4PT09cn0pKSksbn19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudW5pZm9ybXMsbj10aGlzLmNvbnRleHQudmlld3BvcnQscj10aGlzLnByb3BzLGk9ci5yb3VuZGVkLGE9ci5iaWxsYm9hcmQsbz1yLm1pdGVyTGltaXQscz1yLndpZHRoVW5pdHMsdT1yLndpZHRoU2NhbGUsYz1yLndpZHRoTWluUGl4ZWxzLGw9ci53aWR0aE1heFBpeGVscyxoPSJwaXhlbHMiPT09cz9uLm1ldGVyc1BlclBpeGVsOjE7dGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhPYmplY3QuYXNzaWduKHt9LGUse2pvaW50VHlwZTpOdW1iZXIoaSksYmlsbGJvYXJkOmEsd2lkdGhTY2FsZTp1KmgsbWl0ZXJMaW1pdDpvLHdpZHRoTWluUGl4ZWxzOmMsd2lkdGhNYXhQaXhlbHM6bH0pKS5kcmF3KCl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYi5hKHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgXy5hKHtkcmF3TW9kZTo0LGF0dHJpYnV0ZXM6e2luZGljZXM6bmV3IFVpbnQxNkFycmF5KFswLDIsMSwxLDIsNCwxLDQsMywzLDQsNV0pLHBvc2l0aW9uczp7dmFsdWU6bmV3IEZsb2F0MzJBcnJheShbMCwwLDAsLTEsMCwxLDEsLTEsMSwxLDEsMF0pLHNpemU6Mn19fSksaXNJbnN0YW5jZWQ6ITB9KSl9fSx7a2V5OiJjYWxjdWxhdGVQb3NpdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucGF0aFRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS52ZXJ0ZXhTdGFydHMsdC52YWx1ZT1lLmdldCgicG9zaXRpb25zIil9fSx7a2V5OiJjYWxjdWxhdGVTZWdtZW50VHlwZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucGF0aFRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS52ZXJ0ZXhTdGFydHMsdC52YWx1ZT1lLmdldCgic2VnbWVudFR5cGVzIil9fV0pLGV9KG0uYSk7RS5sYXllck5hbWU9IlBhdGhMYXllciIsRS5kZWZhdWx0UHJvcHM9an0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17bmFtZToiZnAzMiIsdnM6IiNpZmRlZiBMVU1BX0ZQMzJfVEFOX1BSRUNJU0lPTl9XT1JLQVJPVU5EXG5jb25zdCBmbG9hdCBUV09fUEkgPSA2LjI4MzE4NTQ4MjAyNTE0NjU7XG5jb25zdCBmbG9hdCBQSV8yID0gMS41NzA3OTYzNzA1MDYyODY2O1xuY29uc3QgZmxvYXQgUElfMTYgPSAwLjE5NjM0OTU0NjMxMzI4NTg7XG5cbmNvbnN0IGZsb2F0IFNJTl9UQUJMRV8wID0gMC4xOTUwOTAzMjM2ODY1OTk3MztcbmNvbnN0IGZsb2F0IFNJTl9UQUJMRV8xID0gMC4zODI2ODM0MjYxNDE3Mzg5O1xuY29uc3QgZmxvYXQgU0lOX1RBQkxFXzIgPSAwLjU1NTU3MDI0NDc4OTEyMzU7XG5jb25zdCBmbG9hdCBTSU5fVEFCTEVfMyA9IDAuNzA3MTA2NzY5MDg0OTMwNDtcblxuY29uc3QgZmxvYXQgQ09TX1RBQkxFXzAgPSAwLjk4MDc4NTI1MDY2Mzc1NzM7XG5jb25zdCBmbG9hdCBDT1NfVEFCTEVfMSA9IDAuOTIzODc5NTA0MjAzNzk2NDtcbmNvbnN0IGZsb2F0IENPU19UQUJMRV8yID0gMC44MzE0Njk1OTU0MzIyODE1O1xuY29uc3QgZmxvYXQgQ09TX1RBQkxFXzMgPSAwLjcwNzEwNjc2OTA4NDkzMDQ7XG5cbmNvbnN0IGZsb2F0IElOVkVSU0VfRkFDVE9SSUFMXzMgPSAxLjY2NjY2NjcxNjMzNzIwNGUtMDE7XG5jb25zdCBmbG9hdCBJTlZFUlNFX0ZBQ1RPUklBTF81ID0gOC4zMzMzMzM3Njc5NTA1MzVlLTAzO1xuY29uc3QgZmxvYXQgSU5WRVJTRV9GQUNUT1JJQUxfNyA9IDEuOTg0MTI3MDExMzgyOTUyM2UtMDQ7XG5jb25zdCBmbG9hdCBJTlZFUlNFX0ZBQ1RPUklBTF85ID0gMi43NTU3MzE4ODQ0NjI4NzUzM2UtMDY7XG5cbmZsb2F0IHNpbl90YXlsb3JfZnAzMihmbG9hdCBhKSB7XG4gIGZsb2F0IHIsIHMsIHQsIHg7XG5cbiAgaWYgKGEgPT0gMC4wKSB7XG4gICAgcmV0dXJuIDAuMDtcbiAgfVxuXG4gIHggPSAtYSAqIGE7XG4gIHMgPSBhO1xuICByID0gYTtcblxuICByID0gciAqIHg7XG4gIHQgPSByICogSU5WRVJTRV9GQUNUT1JJQUxfMztcbiAgcyA9IHMgKyB0O1xuXG4gIHIgPSByICogeDtcbiAgdCA9IHIgKiBJTlZFUlNFX0ZBQ1RPUklBTF81O1xuICBzID0gcyArIHQ7XG5cbiAgciA9IHIgKiB4O1xuICB0ID0gciAqIElOVkVSU0VfRkFDVE9SSUFMXzc7XG4gIHMgPSBzICsgdDtcblxuICByID0gciAqIHg7XG4gIHQgPSByICogSU5WRVJTRV9GQUNUT1JJQUxfOTtcbiAgcyA9IHMgKyB0O1xuXG4gIHJldHVybiBzO1xufVxuXG52b2lkIHNpbmNvc190YXlsb3JfZnAzMihmbG9hdCBhLCBvdXQgZmxvYXQgc2luX3QsIG91dCBmbG9hdCBjb3NfdCkge1xuICBpZiAoYSA9PSAwLjApIHtcbiAgICBzaW5fdCA9IDAuMDtcbiAgICBjb3NfdCA9IDEuMDtcbiAgfVxuICBzaW5fdCA9IHNpbl90YXlsb3JfZnAzMihhKTtcbiAgY29zX3QgPSBzcXJ0KDEuMCAtIHNpbl90ICogc2luX3QpO1xufVxuXG5mbG9hdCB0YW5fdGF5bG9yX2ZwMzIoZmxvYXQgYSkge1xuICAgIGZsb2F0IHNpbl9hO1xuICAgIGZsb2F0IGNvc19hO1xuXG4gICAgaWYgKGEgPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuICAgIGZsb2F0IHogPSBmbG9vcihhIC8gVFdPX1BJKTtcbiAgICBmbG9hdCByID0gYSAtIFRXT19QSSAqIHo7XG5cbiAgICBmbG9hdCB0O1xuICAgIGZsb2F0IHEgPSBmbG9vcihyIC8gUElfMiArIDAuNSk7XG4gICAgaW50IGogPSBpbnQocSk7XG5cbiAgICBpZiAoaiA8IC0yIHx8IGogPiAyKSB7XG4gICAgICAgIHJldHVybiAwLjAgLyAwLjA7XG4gICAgfVxuXG4gICAgdCA9IHIgLSBQSV8yICogcTtcblxuICAgIHEgPSBmbG9vcih0IC8gUElfMTYgKyAwLjUpO1xuICAgIGludCBrID0gaW50KHEpO1xuICAgIGludCBhYnNfayA9IGludChhYnMoZmxvYXQoaykpKTtcblxuICAgIGlmIChhYnNfayA+IDQpIHtcbiAgICAgICAgcmV0dXJuIDAuMCAvIDAuMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ID0gdCAtIFBJXzE2ICogcTtcbiAgICB9XG5cbiAgICBmbG9hdCB1ID0gMC4wO1xuICAgIGZsb2F0IHYgPSAwLjA7XG5cbiAgICBmbG9hdCBzaW5fdCwgY29zX3Q7XG4gICAgZmxvYXQgcywgYztcbiAgICBzaW5jb3NfdGF5bG9yX2ZwMzIodCwgc2luX3QsIGNvc190KTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgcyA9IHNpbl90O1xuICAgICAgICBjID0gY29zX3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFicyhmbG9hdChhYnNfaykgLSAxLjApIDwgMC41KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzA7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzA7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDIuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMTtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfMTtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMy4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8yO1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8yO1xuICAgICAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSA0LjApIDwgMC41KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzM7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICBzID0gdSAqIHNpbl90ICsgdiAqIGNvc190O1xuICAgICAgICAgICAgYyA9IHUgKiBjb3NfdCAtIHYgKiBzaW5fdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSB1ICogc2luX3QgLSB2ICogY29zX3Q7XG4gICAgICAgICAgICBjID0gdSAqIGNvc190ICsgdiAqIHNpbl90O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBzaW5fYSA9IHM7XG4gICAgICAgIGNvc19hID0gYztcbiAgICB9IGVsc2UgaWYgKGogPT0gMSkge1xuICAgICAgICBzaW5fYSA9IGM7XG4gICAgICAgIGNvc19hID0gLXM7XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIHNpbl9hID0gLWM7XG4gICAgICAgIGNvc19hID0gcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaW5fYSA9IC1zO1xuICAgICAgICBjb3NfYSA9IC1jO1xuICAgIH1cbiAgICByZXR1cm4gc2luX2EgLyBjb3NfYTtcbn1cbiNlbmRpZlxuXG5mbG9hdCB0YW5fZnAzMihmbG9hdCBhKSB7XG4jaWZkZWYgTFVNQV9GUDMyX1RBTl9QUkVDSVNJT05fV09SS0FST1VORFxuICByZXR1cm4gdGFuX3RheWxvcl9mcDMyKGEpO1xuI2Vsc2VcbiAgcmV0dXJuIHRhbihhKTtcbiNlbmRpZlxufVxuIixmczpudWxsfSxpPW4oMjIpLGE9T2JqZWN0LmtleXMoaS5hKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiJjb25zdCBpbnQgQ09PUkRJTkFURV9TWVNURU1fIi5jb25jYXQodCwiID0gIikuY29uY2F0KGkuYVt0XSwiOyIpfSkpLmpvaW4oIiIpLG89T2JqZWN0LmtleXMoaS5jKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiJjb25zdCBpbnQgUFJPSkVDVElPTl9NT0RFXyIuY29uY2F0KHQsIiA9ICIpLmNvbmNhdChpLmNbdF0sIjsiKX0pKS5qb2luKCIiKSxzPSIiLmNvbmNhdChhLCJcbiIpLmNvbmNhdChvLCJcblxudW5pZm9ybSBpbnQgcHJvamVjdF91Q29vcmRpbmF0ZVN5c3RlbTtcbnVuaWZvcm0gaW50IHByb2plY3RfdVByb2plY3Rpb25Nb2RlO1xudW5pZm9ybSBmbG9hdCBwcm9qZWN0X3VTY2FsZTtcbnVuaWZvcm0gYm9vbCBwcm9qZWN0X3VXcmFwTG9uZ2l0dWRlO1xudW5pZm9ybSBmbG9hdCBwcm9qZWN0X3VBbnRpbWVyaWRpYW47XG51bmlmb3JtIHZlYzMgcHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlcjtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDI7XG51bmlmb3JtIHZlYzQgcHJvamVjdF91Q2VudGVyO1xudW5pZm9ybSBtYXQ0IHByb2plY3RfdU1vZGVsTWF0cml4O1xudW5pZm9ybSBtYXQ0IHByb2plY3RfdVZpZXdQcm9qZWN0aW9uTWF0cml4O1xudW5pZm9ybSB2ZWMyIHByb2plY3RfdVZpZXdwb3J0U2l6ZTtcbnVuaWZvcm0gZmxvYXQgcHJvamVjdF91RGV2aWNlUGl4ZWxSYXRpbztcbnVuaWZvcm0gZmxvYXQgcHJvamVjdF91Rm9jYWxEaXN0YW5jZTtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDYW1lcmFQb3NpdGlvbjtcbnVuaWZvcm0gdmVjMyBwcm9qZWN0X3VDb29yZGluYXRlT3JpZ2luO1xuXG5jb25zdCBmbG9hdCBUSUxFX1NJWkUgPSA1MTIuMDtcbmNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTM2O1xuY29uc3QgZmxvYXQgV09STERfU0NBTEUgPSBUSUxFX1NJWkUgLyAoUEkgKiAyLjApO1xuY29uc3QgdmVjMyBaRVJPXzY0X0xPVyA9IHZlYzMoMC4wKTtcbmZsb2F0IHByb2plY3Rfc2l6ZShmbG9hdCBtZXRlcnMpIHtcbiAgcmV0dXJuIG1ldGVycyAqIHByb2plY3RfdUNvbW1vblVuaXRzUGVyTWV0ZXIuejtcbn1cblxudmVjMiBwcm9qZWN0X3NpemUodmVjMiBtZXRlcnMpIHtcbiAgcmV0dXJuIG1ldGVycyAqIHByb2plY3RfdUNvbW1vblVuaXRzUGVyTWV0ZXIueHk7XG59XG5cbnZlYzMgcHJvamVjdF9zaXplKHZlYzMgbWV0ZXJzKSB7XG4gIHJldHVybiBtZXRlcnMgKiBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyO1xufVxuXG52ZWM0IHByb2plY3Rfc2l6ZSh2ZWM0IG1ldGVycykge1xuICByZXR1cm4gdmVjNChtZXRlcnMueHl6ICogcHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlciwgbWV0ZXJzLncpO1xufVxudmVjMyBwcm9qZWN0X25vcm1hbCh2ZWMzIHZlY3Rvcikge1xuICB2ZWM0IG5vcm1hbF9tb2RlbHNwYWNlID0gcHJvamVjdF91TW9kZWxNYXRyaXggKiB2ZWM0KHZlY3RvciwgMC4wKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZShub3JtYWxfbW9kZWxzcGFjZS54eXogKiBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyKTtcbn1cblxudmVjNCBwcm9qZWN0X29mZnNldF8odmVjNCBvZmZzZXQpIHtcbiAgZmxvYXQgZHkgPSBvZmZzZXQueTtcbiAgaWYgKHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUKSB7XG4gICAgZHkgPSBjbGFtcChkeSwgLTEuLCAxLik7XG4gIH1cbiAgdmVjMyBjb21tb25Vbml0c1BlcldvcmxkVW5pdCA9IHByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0ICsgcHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyICogZHk7XG4gIHJldHVybiB2ZWM0KG9mZnNldC54eXogKiBjb21tb25Vbml0c1BlcldvcmxkVW5pdCwgb2Zmc2V0LncpO1xufVxudmVjMiBwcm9qZWN0X21lcmNhdG9yXyh2ZWMyIGxuZ2xhdCkge1xuICBmbG9hdCB4ID0gbG5nbGF0Lng7XG4gIGlmIChwcm9qZWN0X3VXcmFwTG9uZ2l0dWRlKSB7XG4gICAgeCA9IG1vZCh4IC0gcHJvamVjdF91QW50aW1lcmlkaWFuLCAzNjAuMCkgKyBwcm9qZWN0X3VBbnRpbWVyaWRpYW47XG4gIH1cbiAgcmV0dXJuIHZlYzIoXG4gICAgcmFkaWFucyh4KSArIFBJLFxuICAgIFBJICsgbG9nKHRhbl9mcDMyKFBJICogMC4yNSArIHJhZGlhbnMobG5nbGF0LnkpICogMC41KSlcbiAgKTtcbn1cbnZlYzQgcHJvamVjdF9wb3NpdGlvbih2ZWM0IHBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uNjRMb3cpIHtcbiAgdmVjNCBwb3NpdGlvbl93b3JsZCA9IHByb2plY3RfdU1vZGVsTWF0cml4ICogcG9zaXRpb247XG4gIGlmIChwcm9qZWN0X3VQcm9qZWN0aW9uTW9kZSA9PSBQUk9KRUNUSU9OX01PREVfV0VCX01FUkNBVE9SKSB7XG4gICAgaWYgKHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUKSB7XG4gICAgICByZXR1cm4gdmVjNChcbiAgICAgICAgcHJvamVjdF9tZXJjYXRvcl8ocG9zaXRpb25fd29ybGQueHkpICogV09STERfU0NBTEUsXG4gICAgICAgIHByb2plY3Rfc2l6ZShwb3NpdGlvbl93b3JsZC56KSxcbiAgICAgICAgcG9zaXRpb25fd29ybGQud1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb2plY3RfdVByb2plY3Rpb25Nb2RlID09IFBST0pFQ1RJT05fTU9ERV9JREVOVElUWSB8fFxuICAgIChwcm9qZWN0X3VQcm9qZWN0aW9uTW9kZSA9PSBQUk9KRUNUSU9OX01PREVfV0VCX01FUkNBVE9SX0FVVE9fT0ZGU0VUICYmXG4gICAgKHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUIHx8XG4gICAgIHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fQ0FSVEVTSUFOKSkpIHtcbiAgICBwb3NpdGlvbl93b3JsZC54eXogLT0gcHJvamVjdF91Q29vcmRpbmF0ZU9yaWdpbjtcbiAgICBwb3NpdGlvbl93b3JsZCArPSBwcm9qZWN0X3VNb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb242NExvdywgMC4wKTtcbiAgfVxuXG4gIHJldHVybiBwcm9qZWN0X29mZnNldF8ocG9zaXRpb25fd29ybGQpO1xufVxuXG52ZWM0IHByb2plY3RfcG9zaXRpb24odmVjNCBwb3NpdGlvbikge1xuICByZXR1cm4gcHJvamVjdF9wb3NpdGlvbihwb3NpdGlvbiwgWkVST182NF9MT1cpO1xufVxuXG52ZWMzIHByb2plY3RfcG9zaXRpb24odmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0TG93KSB7XG4gIHZlYzQgcHJvamVjdGVkX3Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbih2ZWM0KHBvc2l0aW9uLCAxLjApLCBwb3NpdGlvbjY0TG93KTtcbiAgcmV0dXJuIHByb2plY3RlZF9wb3NpdGlvbi54eXo7XG59XG5cbnZlYzMgcHJvamVjdF9wb3NpdGlvbih2ZWMzIHBvc2l0aW9uKSB7XG4gIHZlYzQgcHJvamVjdGVkX3Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbih2ZWM0KHBvc2l0aW9uLCAxLjApLCBaRVJPXzY0X0xPVyk7XG4gIHJldHVybiBwcm9qZWN0ZWRfcG9zaXRpb24ueHl6O1xufVxuXG52ZWMyIHByb2plY3RfcG9zaXRpb24odmVjMiBwb3NpdGlvbikge1xuICB2ZWM0IHByb2plY3RlZF9wb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24odmVjNChwb3NpdGlvbiwgMC4wLCAxLjApLCBaRVJPXzY0X0xPVyk7XG4gIHJldHVybiBwcm9qZWN0ZWRfcG9zaXRpb24ueHk7XG59XG5cbnZlYzQgcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHZlYzQgcG9zaXRpb24sIG1hdDQgdmlld1Byb2plY3Rpb25NYXRyaXgsIHZlYzQgY2VudGVyKSB7XG4gIHJldHVybiB2aWV3UHJvamVjdGlvbk1hdHJpeCAqIHBvc2l0aW9uICsgY2VudGVyO1xufVxudmVjNCBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UodmVjNCBwb3NpdGlvbikge1xuICByZXR1cm4gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvc2l0aW9uLCBwcm9qZWN0X3VWaWV3UHJvamVjdGlvbk1hdHJpeCwgcHJvamVjdF91Q2VudGVyKTtcbn1cbnZlYzIgcHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZSh2ZWMyIHBpeGVscykge1xuICB2ZWMyIG9mZnNldCA9IHBpeGVscyAvIHByb2plY3RfdVZpZXdwb3J0U2l6ZSAqIHByb2plY3RfdURldmljZVBpeGVsUmF0aW8gKiAyLjA7XG4gIHJldHVybiBvZmZzZXQgKiBwcm9qZWN0X3VGb2NhbERpc3RhbmNlO1xufVxuXG5mbG9hdCBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoZmxvYXQgbWV0ZXJzKSB7XG4gIHJldHVybiBwcm9qZWN0X3NpemUobWV0ZXJzKSAqIHByb2plY3RfdVNjYWxlO1xufVxuZmxvYXQgcHJvamVjdF9waXhlbF9zaXplKGZsb2F0IHBpeGVscykge1xuICByZXR1cm4gcGl4ZWxzIC8gcHJvamVjdF91U2NhbGU7XG59XG52ZWMyIHByb2plY3RfcGl4ZWxfc2l6ZSh2ZWMyIHBpeGVscykge1xuICByZXR1cm4gcGl4ZWxzIC8gcHJvamVjdF91U2NhbGU7XG59XG4iKSx1PW4oMTI0KSxjPXt9O2UuYT17bmFtZToicHJvamVjdCIsZGVwZW5kZW5jaWVzOltyXSx2czpzLGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmM7cmV0dXJuIHQudmlld3BvcnQ/T2JqZWN0KHUuYikodCk6e319fX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSxuLHIsaSxhLG8pe3RyeXt2YXIgcz10W2FdKG8pLHU9cy52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBuKHQpfXMuZG9uZT9lKHUpOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsaSl9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBvPXQuYXBwbHkoZSxyKTtmdW5jdGlvbiBzKHQpe24obyxpLGEscyx1LCJuZXh0Iix0KX1mdW5jdGlvbiB1KHQpe24obyxpLGEscyx1LCJ0aHJvdyIsdCl9cyh2b2lkIDApfSkpfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCl7aWYoU3ltYm9sLmFzeW5jSXRlcmF0b3ImJm51bGwhPShlPXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSlyZXR1cm4gZS5jYWxsKHQpO2lmKFN5bWJvbC5pdGVyYXRvciYmbnVsbCE9KGU9dFtTeW1ib2wuaXRlcmF0b3JdKSlyZXR1cm4gZS5jYWxsKHQpfXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGUiKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHIsaT1uKDYpLGE9bigxNyksbz1uKDE1KSxzPW4oNDcpLHU9big3KSxjPW4oMTgpLGw9big1MiksaD1uKDApLGY9IkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiLGQ9KHI9e30sT2JqZWN0KGguYSkociwzMzE4OSx7YnBwOjJ9KSxPYmplY3QoaC5hKShyLDMzMTkwLHtnbDI6ITAsYnBwOjN9KSxPYmplY3QoaC5hKShyLDM2MDEyLHtnbDI6ITAsYnBwOjR9KSxPYmplY3QoaC5hKShyLDM2MTY4LHticHA6MX0pLE9iamVjdChoLmEpKHIsMzQwNDEse2JwcDo0fSksT2JqZWN0KGguYSkociwzNTA1Nix7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjAxMyx7Z2wyOiEwLGJwcDo1fSksT2JqZWN0KGguYSkociwzMjg1NCx7YnBwOjJ9KSxPYmplY3QoaC5hKShyLDM2MTk0LHticHA6Mn0pLE9iamVjdChoLmEpKHIsMzI4NTUse2JwcDoyfSksT2JqZWN0KGguYSkociwzMzMyMSx7Z2wyOiEwLGJwcDoxfSksT2JqZWN0KGguYSkociwzMzMzMCx7Z2wyOiEwLGJwcDoxfSksT2JqZWN0KGguYSkociwzMzMyOSx7Z2wyOiEwLGJwcDoxfSksT2JqZWN0KGguYSkociwzMzMzMix7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzMSx7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzNCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzMzMyx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzMyMyx7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzNix7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzNSx7Z2wyOiEwLGJwcDoyfSksT2JqZWN0KGguYSkociwzMzMzOCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzMzNyx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMzM0MCx7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzMzMzOSx7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzMjg0OSx7Z2wyOiEwLGJwcDozfSksT2JqZWN0KGguYSkociwzMjg1Nix7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzMjg1Nyx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjIyMCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjIzOCx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjk3NSx7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjIxNCx7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzNjIzMix7Z2wyOiEwLGJwcDo4fSksT2JqZWN0KGguYSkociwzNjIyNix7Z2wyOiEwLGJwcDoxNn0pLE9iamVjdChoLmEpKHIsMzYyMDgse2dsMjohMCxicHA6MTZ9KSxPYmplY3QoaC5hKShyLDMzMzI1LHtnbDI6ZixicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMjcse2dsMjpmLGJwcDo0fSksT2JqZWN0KGguYSkociwzNDg0Mix7Z2wyOmYsYnBwOjh9KSxPYmplY3QoaC5hKShyLDMzMzI2LHtnbDI6ZixicHA6NH0pLE9iamVjdChoLmEpKHIsMzMzMjgse2dsMjpmLGJwcDo4fSksT2JqZWN0KGguYSkociwzNDgzNix7Z2wyOmYsYnBwOjE2fSksT2JqZWN0KGguYSkociwzNTg5OCx7Z2wyOmYsYnBwOjR9KSxyKSx2PW4oMTEpLHA9bigyOCk7ZnVuY3Rpb24gZyh0LGUsbil7dmFyIHI9bltlXTtpZighcilyZXR1cm4hMTt2YXIgaT1PYmplY3Qodi5nKSh0KSYmci5nbDJ8fHIuZ2wxO3JldHVybiJzdHJpbmciPT10eXBlb2YgaT90LmdldEV4dGVuc2lvbihpKTppfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKTt2YXIgeT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3QoaS5hKSh0aGlzLGUpLChuPU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkoZSkuY2FsbCh0aGlzLHQscikpKS5pbml0aWFsaXplKHIpLE9iamVjdC5zZWFsKE9iamVjdChzLmEpKG4pKSxufXJldHVybiBPYmplY3QoYy5hKShlLHQpLE9iamVjdCh1LmEpKGUsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuZm9ybWF0O3JldHVybiFufHxnKHQsbixkKX19LHtrZXk6ImdldFNhbXBsZXNGb3JGb3JtYXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5mb3JtYXQ7cmV0dXJuIHQuZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIoMzYxNjEsbiwzMjkzNyl9fV0pLE9iamVjdCh1LmEpKGUsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZm9ybWF0LG49dC53aWR0aCxyPXZvaWQgMD09PW4/MTpuLGk9dC5oZWlnaHQsYT12b2lkIDA9PT1pPzE6aSxvPXQuc2FtcGxlcyxzPXZvaWQgMD09PW8/MDpvO3JldHVybiBPYmplY3QocC5hKShlLCJOZWVkcyBmb3JtYXQiKSx0aGlzLl90cmFja0RlYWxsb2NhdGVkTWVtb3J5KCksdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLHRoaXMuaGFuZGxlKSwwIT09cyYmT2JqZWN0KHYuZykodGhpcy5nbCk/dGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEscyxlLHIsYSk6dGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLGUscixhKSx0aGlzLmZvcm1hdD1lLHRoaXMud2lkdGg9cix0aGlzLmhlaWdodD1hLHRoaXMuc2FtcGxlcz1zLHRoaXMuX3RyYWNrQWxsb2NhdGVkTWVtb3J5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqKHRoaXMuc2FtcGxlc3x8MSkqZFt0aGlzLmZvcm1hdF0uYnBwKSx0aGlzfX0se2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LndpZHRoLG49dC5oZWlnaHQ7cmV0dXJuIGUhPT10aGlzLndpZHRofHxuIT09dGhpcy5oZWlnaHQ/dGhpcy5pbml0aWFsaXplKHt3aWR0aDplLGhlaWdodDpuLGZvcm1hdDp0aGlzLmZvcm1hdCxzYW1wbGVzOnRoaXMuc2FtcGxlc30pOnRoaXN9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLmhhbmRsZSksdGhpcy5fdHJhY2tEZWFsbG9jYXRlZE1lbW9yeSgpfX0se2tleToiX2JpbmRIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSx0KX19LHtrZXk6Il9zeW5jSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmZvcm1hdD10aGlzLmdldFBhcmFtZXRlcigzNjE2NCksdGhpcy53aWR0aD10aGlzLmdldFBhcmFtZXRlcigzNjE2MiksdGhpcy5oZWlnaHQ9dGhpcy5nZXRQYXJhbWV0ZXIoMzYxNjMpLHRoaXMuc2FtcGxlcz10aGlzLmdldFBhcmFtZXRlcigzNjAxMSl9fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLHRoaXMuaGFuZGxlKSx0aGlzLmdsLmdldFJlbmRlcmJ1ZmZlclBhcmFtZXRlcigzNjE2MSx0KX19XSksZX0obC5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDI4KSxpPXt9O2Z1bmN0aW9uIGEoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ImlkIjtpW3RdPWlbdF18fDE7dmFyIGU9aVt0XSsrO3JldHVybiIiLmNvbmNhdCh0LCItIikuY29uY2F0KGUpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIE9iamVjdChyLmEpKCJudW1iZXIiPT10eXBlb2YgdCwiSW5wdXQgbXVzdCBiZSBhIG51bWJlciIpLHQmJjA9PSh0JnQtMSl9ZnVuY3Rpb24gcyh0KXt2YXIgZT0hMDtmb3IodmFyIG4gaW4gdCl7ZT0hMTticmVha31yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9IiIsaT17fTtmdW5jdGlvbiBhKHQpe3I9dH1mdW5jdGlvbiBvKCl7cmV0dXJuIHJ9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGUgaW4gaSlpZih0LnN0YXJ0c1dpdGgoZSkpe3ZhciBuPWlbZV07cmV0dXJuIHQucmVwbGFjZShlLG4pfXJldHVybiB0Kz1yfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDU5KSxpPVtdO2Z1bmN0aW9uIGEodCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3ZhciBlPSEwLG49ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPWZ1bmN0aW9uKCl7dmFyIHQ9by52YWx1ZSxlPU9iamVjdChyLmIpKHQpO2kuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10fSkpfHxpLnVuc2hpZnQoZSl9LHU9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShvPXUubmV4dCgpKS5kb25lKTtlPSEwKXMoKX1jYXRjaCh0KXtuPSEwLGE9dH1maW5hbGx5e3RyeXtlfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgYX19fWZ1bmN0aW9uIG8oKXtyZXR1cm4gaX1mdW5jdGlvbiBzKCl7aT1bXX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxOSksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIyKSxnPW4oMTU4KSx5PW4oNCksbT1uLm4oeSksYj1uKDU3KSxfPW4oOCksTz1uKDg1KSx4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLHUoKShlLFt7a2V5OiJfb25VcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50aW1lLGU9dGhpcy5zZXR0aW5ncyxuPWUuZnJvbVZhbHVlLHI9ZS50b1ZhbHVlLGk9ZS5kdXJhdGlvbixhPSgwLGUuZWFzaW5nKSh0L2kpO3RoaXMuX3ZhbHVlPU9iamVjdChfLmwpKG4scixhKX19LHtrZXk6InZhbHVlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9fV0pLGV9KE8uYSk7ZnVuY3Rpb24gdyh0LGUsbixyLGkpe3ZhciBhPWUtdDtyZXR1cm4obi1lKSppKy1hKnIrYStlfWZ1bmN0aW9uIGsodCxlKXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0tZVtyXTtuKz1pKml9cmV0dXJuIE1hdGguc3FydChuKX1yZXR1cm4gTWF0aC5hYnModC1lKX12YXIgUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG8oKSh0aGlzLGUpLGwoKSh0aGlzLGYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSx1KCkoZSxbe2tleToiX29uVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2V0dGluZ3MsZT10LmZyb21WYWx1ZSxuPXQudG9WYWx1ZSxyPXQuZGFtcGluZyxpPXQuc3RpZmZuZXNzLGE9dGhpcy5fcHJldlZhbHVlLG89dm9pZCAwPT09YT9lOmEscz10aGlzLl9jdXJyVmFsdWUsdT12b2lkIDA9PT1zP2U6cyxjPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoQXJyYXkuaXNBcnJheShuKSl7Zm9yKHZhciBhPVtdLG89MDtvPG4ubGVuZ3RoO28rKylhW29dPXcodFtvXSxlW29dLG5bb10scixpKTtyZXR1cm4gYX1yZXR1cm4gdyh0LGUsbixyLGkpfShvLHUsbixyLGkpLGw9ayhjLG4pLGg9ayhjLHUpO2w8MWUtNSYmaDwxZS01JiYoYz1uLHRoaXMuZW5kKCkpLHRoaXMuX3ByZXZWYWx1ZT11LHRoaXMuX2N1cnJWYWx1ZT1jfX0se2tleToidmFsdWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyVmFsdWV9fV0pLGV9KE8uYSksUD1uKDIzKTtmdW5jdGlvbiBqKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgVD17aW50ZXJwb2xhdGlvbjp4LHNwcmluZzpTfSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtvKCkodGhpcyx0KSx0aGlzLnRyYW5zaXRpb25zPW5ldyBNYXAsdGhpcy50aW1lbGluZT1lfXJldHVybiB1KCkodCxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLnRyYW5zaXRpb25zO2kuaGFzKHQpJiYoZT1pLmdldCh0KS52YWx1ZSx0aGlzLnJlbW92ZSh0KSk7aWYocj1PYmplY3QoYi5lKShyKSl7dmFyIGE9VFtyLnR5cGVdO2lmKGEpe3ZhciBvPW5ldyBhKHRoaXMudGltZWxpbmUpO28uc3RhcnQoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/aihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe20oKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6aihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30scix7ZnJvbVZhbHVlOmUsdG9WYWx1ZTpufSkpLGkuc2V0KHQsbyl9ZWxzZSBQLmEuZXJyb3IoInVuc3VwcG9ydGVkIHRyYW5zaXRpb24gdHlwZSAnIi5jb25jYXQoci50eXBlLCInIikpKCl9fX0se2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zaXRpb25zO2UuaGFzKHQpJiYoZS5nZXQodCkuY2FuY2VsKCksZS5kZWxldGUodCkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9LGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy50cmFuc2l0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShhPW8ubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgcz1pKCkoYS52YWx1ZSwyKSx1PXNbMF0sYz1zWzFdO2MudXBkYXRlKCksdFt1XT1jLnZhbHVlLGMuaW5Qcm9ncmVzc3x8dGhpcy5yZW1vdmUodSl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1yZXR1cm4gdH19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEwLGU9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMudHJhbnNpdGlvbnMua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBhPXIudmFsdWU7dGhpcy5yZW1vdmUoYSl9fWNhdGNoKHQpe2U9ITAsbj10fWZpbmFsbHl7dHJ5e3R8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX19fSx7a2V5OiJhY3RpdmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zaXRpb25zLnNpemU+MH19XSksdH0oKSxBPW4oMTM3KSxNPW4oMTU3KSxDPW4oNDUpLEw9bigxMSksST1uKDI5KSxSPW4oMTU2KSxOPW4oMTQyKSxEPW4oOTUpLEY9big0Niksej1uKDY0KSxCPW4oNDEpLFU9bi5uKEIpLFY9e2Jvb2xlYW46e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuITB9LGVxdWFsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gQm9vbGVhbih0KT09PUJvb2xlYW4oZSl9fSxudW1iZXI6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KSYmKCEoIm1heCJpbiBlKXx8dDw9ZS5tYXgpJiYoISgibWluImluIGUpfHx0Pj1lLm1pbil9fSxjb2xvcjp7dmFsaWRhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vcHRpb25hbCYmIXR8fHEodCkmJigzPT09dC5sZW5ndGh8fDQ9PT10Lmxlbmd0aCl9LGVxdWFsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRyh0LGUpfX0sYWNjZXNzb3I6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG49WCh0KTtyZXR1cm4iZnVuY3Rpb24iPT09bnx8bj09PVgoZS52YWx1ZSl9LGVxdWFsOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZXx8Ryh0LGUpfX0sYXJyYXk6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUub3B0aW9uYWwmJiF0fHxxKHQpfSxlcXVhbDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uY29tcGFyZT9HKHQsZSk6dD09PWV9fSxmdW5jdGlvbjp7dmFsaWRhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vcHRpb25hbCYmIXR8fCJmdW5jdGlvbiI9PXR5cGVvZiB0fSxlcXVhbDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIW4uY29tcGFyZXx8dD09PWV9fX07ZnVuY3Rpb24gRyh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKCFxKHQpfHwhcShlKSlyZXR1cm4hMTt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxuO3IrKylpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBXKHQsZSl7c3dpdGNoKFgoZSkpe2Nhc2Uib2JqZWN0IjpyZXR1cm4gSCh0LGUpO2Nhc2UiYXJyYXkiOnJldHVybiBIKHQse3R5cGU6ImFycmF5Iix2YWx1ZTplLGNvbXBhcmU6ITF9KTtjYXNlImJvb2xlYW4iOnJldHVybiBIKHQse3R5cGU6ImJvb2xlYW4iLHZhbHVlOmV9KTtjYXNlIm51bWJlciI6cmV0dXJuIEgodCx7dHlwZToibnVtYmVyIix2YWx1ZTplfSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIEgodCx7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmUsY29tcGFyZTohMH0pO2RlZmF1bHQ6cmV0dXJue25hbWU6dCx0eXBlOiJ1bmtub3duIix2YWx1ZTplfX19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiJ0eXBlImluIGU/T2JqZWN0LmFzc2lnbih7bmFtZTp0fSxWW2UudHlwZV0sZSk6InZhbHVlImluIGU/T2JqZWN0LmFzc2lnbih7bmFtZTp0LHR5cGU6WChlLnZhbHVlKX0sZSk6e25hbWU6dCx0eXBlOiJvYmplY3QiLHZhbHVlOmV9fWZ1bmN0aW9uIHEodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KX1mdW5jdGlvbiBYKHQpe3JldHVybiBxKHQpPyJhcnJheSI6bnVsbD09PXQ/Im51bGwiOlUoKSh0KX12YXIgWj1GLmIuQ09NUE9ORU5ULFk9Ri5iLkFTWU5DX09SSUdJTkFMLEs9Ri5iLkFTWU5DX1JFU09MVkVELFE9Ri5iLkFTWU5DX0RFRkFVTFRTO2Z1bmN0aW9uIEooKXt2YXIgdD10aGlzLGU9JCh0LmNvbnN0cnVjdG9yKSxuPU9iamVjdC5jcmVhdGUoZSk7bltaXT10LG5bWV09e30sbltLXT17fTtmb3IodmFyIHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7KytyKXt2YXIgaT1hcmd1bWVudHNbcl07Zm9yKHZhciBhIGluIGkpblthXT1pW2FdfXJldHVybiBPYmplY3QuZnJlZXplKG4pLG59ZnVuY3Rpb24gJCh0KXt2YXIgZT1udCh0LCJfbWVyZ2VkRGVmYXVsdFByb3BzIik7cmV0dXJuIGV8fChmdW5jdGlvbih0KXtpZighdC5wcm90b3R5cGUpcmV0dXJuO3ZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSxuPSQoZSkscj1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30sbj17fSxyPXt9LGE9MCxvPU9iamVjdC5lbnRyaWVzKHQpO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1pKCkob1thXSwyKSx1PXNbMF0sYz1zWzFdO2lmKGMmJmMuZGVwcmVjYXRlZEZvcilyW3VdPUFycmF5LmlzQXJyYXkoYy5kZXByZWNhdGVkRm9yKT9jLmRlcHJlY2F0ZWRGb3I6W2MuZGVwcmVjYXRlZEZvcl07ZWxzZXt2YXIgbD1XKHUsYyk7ZVt1XT1sLG5bdV09bC52YWx1ZX19cmV0dXJue3Byb3BUeXBlczplLGRlZmF1bHRQcm9wczpuLGRlcHJlY2F0ZWRQcm9wczpyfX0obnQodCwiZGVmYXVsdFByb3BzIil8fHt9KSxhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO09iamVjdC5hc3NpZ24ocixlLHQpO3ZhciBpPWZ1bmN0aW9uKHQpe3ZhciBlPW50KHQsImxheWVyTmFtZSIpfHxudCh0LCJjb21wb25lbnROYW1lIik7ZXx8UC5hLm9uY2UoMCwiIi5jb25jYXQodC5uYW1lLCIuY29tcG9uZW50TmFtZSBub3Qgc3BlY2lmaWVkIikpKCk7cmV0dXJuIGV8fHQubmFtZX0obik7cmV0dXJuIGRlbGV0ZSB0LmlkLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIse2lkOnt3cml0YWJsZTohMCx2YWx1ZTppfX0pLHJ9KHIuZGVmYXVsdFByb3BzLG4sdCksbz1PYmplY3QuYXNzaWduKHt9LGUuX3Byb3BUeXBlcyxyLnByb3BUeXBlcyk7IWZ1bmN0aW9uKHQsZSl7dmFyIG49e30scj17fTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXSxvPWEubmFtZSxzPWEudmFsdWU7YS5hc3luYyYmKG5bb109cyxyW29dPXR0KG8pKX10W1FdPW4sdFtZXT17fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LHIpfShhLG8pO3ZhciBzPU9iamVjdC5hc3NpZ24oe30sZS5fZGVwcmVjYXRlZFByb3BzLHIuZGVwcmVjYXRlZFByb3BzKTsoZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbihuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtlbnVtZXJhYmxlOiExLHNldDpmdW5jdGlvbih0KXt2YXIgcj0iIi5jb25jYXQodGhpcy5pZCwiOiAiKS5jb25jYXQobiksaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1lW25dW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7ZXQodGhpcyxjKXx8KHRoaXNbY109dCl9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1QLmEuZGVwcmVjYXRlZChyLGVbbl0uam9pbigiLyIpKSgpfX0pfTtmb3IodmFyIHIgaW4gZSluKHIpfSkoYSxzKSx0Ll9tZXJnZWREZWZhdWx0UHJvcHM9YSx0Ll9wcm9wVHlwZXM9byx0Ll9kZXByZWNhdGVkUHJvcHM9c30odCksdC5fbWVyZ2VkRGVmYXVsdFByb3BzKX1mdW5jdGlvbiB0dCh0KXtyZXR1cm57ZW51bWVyYWJsZTohMCxzZXQ6ZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgUHJvbWlzZXx8T2JqZWN0KHouYykoZSk/dGhpc1tZXVt0XT1lOnRoaXNbS11bdF09ZX0sZ2V0OmZ1bmN0aW9uKCl7aWYodGhpc1tLXSl7aWYodCBpbiB0aGlzW0tdKXt2YXIgZT10aGlzW0tdW3RdO3JldHVybiJkYXRhIj09PXQ/ZXx8dGhpc1tRXVt0XTplfWlmKHQgaW4gdGhpc1tZXSl7dmFyIG49dGhpc1taXSYmdGhpc1taXS5pbnRlcm5hbFN0YXRlO2lmKG4mJm4uaGFzQXN5bmNQcm9wKHQpKXJldHVybiBuLmdldEFzeW5jUHJvcCh0KX19cmV0dXJuIHRoaXNbUV1bdF19fX1mdW5jdGlvbiBldCh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX1mdW5jdGlvbiBudCh0LGUpe3JldHVybiBldCh0LGUpJiZ0W2VdfXZhciBydD1uKDUpLGl0PW4ubihydCksYXQ9bigxMTIpLG90PW4ubihhdCksc3Q9bigyMjUpLHV0PW4ubihzdCksY3Q9Ri5iLkFTWU5DX09SSUdJTkFMLGx0PUYuYi5BU1lOQ19SRVNPTFZFRCxodD1GLmIuQVNZTkNfREVGQVVMVFMsZnQ9T2JqZWN0LmZyZWV6ZSh7fSksZHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7bygpKHRoaXMsdCksdGhpcy5jb21wb25lbnQ9ZSx0aGlzLmFzeW5jUHJvcHM9e30sdGhpcy5vbkFzeW5jUHJvcFVwZGF0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMub2xkUHJvcHM9ZnQsdGhpcy5vbGRBc3luY1Byb3BzPW51bGx9dmFyIGU7cmV0dXJuIHUoKSh0LFt7a2V5OiJnZXRPbGRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbGRBc3luY1Byb3BzfHx0aGlzLm9sZFByb3BzfX0se2tleToicmVzZXRPbGRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9sZEFzeW5jUHJvcHM9bnVsbCx0aGlzLm9sZFByb3BzPXRoaXMuY29tcG9uZW50LnByb3BzfX0se2tleToiZnJlZXplQXN5bmNPbGRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5vbGRBc3luY1Byb3BzKWZvcih2YXIgdCBpbiB0aGlzLm9sZFByb3BzPXRoaXMub2xkUHJvcHN8fHRoaXMuY29tcG9uZW50LnByb3BzLHRoaXMub2xkQXN5bmNQcm9wcz1PYmplY3QuY3JlYXRlKHRoaXMub2xkUHJvcHMpLHRoaXMuYXN5bmNQcm9wcylPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vbGRBc3luY1Byb3BzLHQse2VudW1lcmFibGU6ITAsdmFsdWU6dGhpcy5vbGRQcm9wc1t0XX0pfX0se2tleToiaGFzQXN5bmNQcm9wIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLmFzeW5jUHJvcHN9fSx7a2V5OiJnZXRBc3luY1Byb3AiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXN5bmNQcm9wc1t0XTtyZXR1cm4gZSYmZS5yZXNvbHZlZFZhbHVlfX0se2tleToiaXNBc3luY1Byb3BMb2FkaW5nIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KXt2YXIgZT10aGlzLmFzeW5jUHJvcHNbdF07cmV0dXJuIEJvb2xlYW4oZSYmZS5wZW5kaW5nTG9hZENvdW50PjAmJmUucGVuZGluZ0xvYWRDb3VudCE9PWUucmVzb2x2ZWRMb2FkQ291bnQpfWZvcih2YXIgbiBpbiB0aGlzLmFzeW5jUHJvcHMpaWYodGhpcy5pc0FzeW5jUHJvcExvYWRpbmcobikpcmV0dXJuITA7cmV0dXJuITF9fSx7a2V5OiJzZXRBc3luY1Byb3BzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10W2x0XXx8e30sbj10W2N0XXx8dCxyPXRbaHRdfHx7fTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXTt0aGlzLl9jcmVhdGVBc3luY1Byb3BEYXRhKGksYSxyW2ldKSx0aGlzLl91cGRhdGVBc3luY1Byb3AoaSxhKX1mb3IodmFyIG8gaW4gbil7dmFyIHM9bltvXTt0aGlzLl9jcmVhdGVBc3luY1Byb3BEYXRhKG8scyxyW29dKSx0aGlzLl91cGRhdGVBc3luY1Byb3AobyxzKX19fSx7a2V5OiJfdXBkYXRlQXN5bmNQcm9wIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2RpZEFzeW5jSW5wdXRWYWx1ZUNoYW5nZSh0LGUpKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBuPXRoaXMubGF5ZXImJnRoaXMubGF5ZXIucHJvcHMuZmV0Y2g7biYmKGU9bihlLHtwcm9wTmFtZTp0LGxheWVyOnRoaXMubGF5ZXJ9KSl9ZSBpbnN0YW5jZW9mIFByb21pc2U/dGhpcy5fd2F0Y2hQcm9taXNlKHQsZSk6T2JqZWN0KHouYykoZSk/dGhpcy5fcmVzb2x2ZUFzeW5jSXRlcmFibGUodCxlKTp0aGlzLl9zZXRQcm9wVmFsdWUodCxlKX19fSx7a2V5OiJfZGlkQXN5bmNJbnB1dFZhbHVlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXN5bmNQcm9wc1t0XTtyZXR1cm4gZSE9PW4ubGFzdFZhbHVlJiYobi5sYXN0VmFsdWU9ZSwhMCl9fSx7a2V5OiJfc2V0UHJvcFZhbHVlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXN5bmNQcm9wc1t0XTtuLnZhbHVlPWUsbi5yZXNvbHZlZFZhbHVlPWUsbi5wZW5kaW5nTG9hZENvdW50Kyssbi5yZXNvbHZlZExvYWRDb3VudD1uLnBlbmRpbmdMb2FkQ291bnR9fSx7a2V5OiJfc2V0QXN5bmNQcm9wVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmFzeW5jUHJvcHNbdF07ciYmbj49ci5yZXNvbHZlZExvYWRDb3VudCYmdm9pZCAwIT09ZSYmKHRoaXMuZnJlZXplQXN5bmNPbGRQcm9wcygpLHIucmVzb2x2ZWRWYWx1ZT1lLHIucmVzb2x2ZWRMb2FkQ291bnQ9bix0aGlzLm9uQXN5bmNQcm9wVXBkYXRlZCh0LGUpKX19LHtrZXk6Il93YXRjaFByb21pc2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuYXN5bmNQcm9wc1t0XTtyLnBlbmRpbmdMb2FkQ291bnQrKzt2YXIgaT1yLnBlbmRpbmdMb2FkQ291bnQ7ZS50aGVuKChmdW5jdGlvbihlKXtlPW4uX3Bvc3RQcm9jZXNzVmFsdWUodCxlKSxuLl9zZXRBc3luY1Byb3BWYWx1ZSh0LGUsaSk7dmFyIHI9bi5sYXllciYmbi5sYXllci5wcm9wcy5vbkRhdGFMb2FkOyJkYXRhIj09PXQmJnImJnIoZSx7cHJvcE5hbWU6dCxsYXllcjpuLmxheWVyfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBQLmEuZXJyb3IodCkoKX0pKX19LHtrZXk6Il9yZXNvbHZlQXN5bmNJdGVyYWJsZSIsdmFsdWU6KGU9b3QoKShpdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixpLGEsbyxzLHUsYyxsLGgsZixkLHY7cmV0dXJuIGl0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6ImRhdGEiIT09ZSYmdGhpcy5fc2V0UHJvcFZhbHVlKGUsbiksKHI9dGhpcy5hc3luY1Byb3BzW2VdKS5wZW5kaW5nTG9hZENvdW50KyssaT1yLnBlbmRpbmdMb2FkQ291bnQsYT1bXSxvPTAscz0hMCx1PSExLHQucHJldj04LGw9dXQoKShuKTtjYXNlIDEwOnJldHVybiB0Lm5leHQ9MTIsbC5uZXh0KCk7Y2FzZSAxMjpyZXR1cm4gaD10LnNlbnQscz1oLmRvbmUsdC5uZXh0PTE2LGgudmFsdWU7Y2FzZSAxNjppZihmPXQuc2VudCxzKXt0Lm5leHQ9MjY7YnJlYWt9ZD1mLGE9dGhpcy5fcG9zdFByb2Nlc3NWYWx1ZShlLGQsYSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIl9fZGlmZiIse2VudW1lcmFibGU6ITEsdmFsdWU6W3tzdGFydFJvdzpvLGVuZFJvdzphLmxlbmd0aH1dfSksbz1hLmxlbmd0aCx0aGlzLl9zZXRBc3luY1Byb3BWYWx1ZShlLGEsaSk7Y2FzZSAyMzpzPSEwLHQubmV4dD0xMDticmVhaztjYXNlIDI2OnQubmV4dD0zMjticmVhaztjYXNlIDI4OnQucHJldj0yOCx0LnQwPXQuY2F0Y2goOCksdT0hMCxjPXQudDA7Y2FzZSAzMjppZih0LnByZXY9MzIsdC5wcmV2PTMzLHN8fG51bGw9PWwucmV0dXJuKXt0Lm5leHQ9Mzc7YnJlYWt9cmV0dXJuIHQubmV4dD0zNyxsLnJldHVybigpO2Nhc2UgMzc6aWYodC5wcmV2PTM3LCF1KXt0Lm5leHQ9NDA7YnJlYWt9dGhyb3cgYztjYXNlIDQwOnJldHVybiB0LmZpbmlzaCgzNyk7Y2FzZSA0MTpyZXR1cm4gdC5maW5pc2goMzIpO2Nhc2UgNDI6KHY9dGhpcy5sYXllciYmdGhpcy5sYXllci5wcm9wcy5vbkRhdGFMb2FkKSYmdihhLHtwcm9wTmFtZTplLGxheWVyOnRoaXMubGF5ZXJ9KTtjYXNlIDQ0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzLFtbOCwyOCwzMiw0Ml0sWzMzLCwzNyw0MV1dKX0pKSksZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX3Bvc3RQcm9jZXNzVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0odGhpcy5jb21wb25lbnQ/dGhpcy5jb21wb25lbnQucHJvcHM6e30pLmRhdGFUcmFuc2Zvcm07cmV0dXJuImRhdGEiIT09dD9lOnI/cihlLG4pOm4/bi5jb25jYXQoZSk6ZX19LHtrZXk6Il9jcmVhdGVBc3luY1Byb3BEYXRhIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5hc3luY1Byb3BzW3RdfHwodGhpcy5hc3luY1Byb3BzW3RdPXtsYXN0VmFsdWU6bnVsbCxyZXNvbHZlZFZhbHVlOm4scGVuZGluZ0xvYWRDb3VudDowLHJlc29sdmVkTG9hZENvdW50OjB9KX19XSksdH0oKSx2dD1GLmIuQVNZTkNfT1JJR0lOQUwscHQ9Ri5iLkFTWU5DX1JFU09MVkVELGd0PUYuYi5BU1lOQ19ERUZBVUxUUyx5dD0wLG10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe28oKSh0aGlzLHQpLHRoaXMucHJvcHM9Si5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5pZD10aGlzLnByb3BzLmlkLHRoaXMuY291bnQ9eXQrKyx0aGlzLmxpZmVjeWNsZT1GLmEuTk9fU1RBVEUsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy5pbnRlcm5hbFN0YXRlPW51bGwsT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIHUoKSh0LFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcyxuPXt9O2Zvcih2YXIgciBpbiBlW2d0XSlyIGluIGVbcHRdP25bcl09ZVtwdF1bcl06ciBpbiBlW3Z0XSYmKG5bcl09ZVt2dF1bcl0pO3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihPYmplY3QuYXNzaWduKHt9LGUsbix0KSl9fSx7a2V5OiJfaW5pdFN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW50ZXJuYWxTdGF0ZT1uZXcgZHQoe30pfX0se2tleToic3RhdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUuc3RhdHN9fV0pLHR9KCk7bXQuY29tcG9uZW50TmFtZT0iQ29tcG9uZW50IixtdC5kZWZhdWx0UHJvcHM9e307dmFyIGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj10LmF0dHJpYnV0ZU1hbmFnZXIsaT10LmxheWVyO3JldHVybiBvKCkodGhpcyxlKSwobj1sKCkodGhpcyxmKCkoZSkuY2FsbCh0aGlzLGkpKSkuYXR0cmlidXRlTWFuYWdlcj1yLG4ubW9kZWw9bnVsbCxuLm5lZWRzUmVkcmF3PSEwLG4uc3ViTGF5ZXJzPW51bGwsbn1yZXR1cm4gdigpKGUsdCksdSgpKGUsW3trZXk6ImxheWVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmNvbXBvbmVudD10fX1dKSxlfShkdCksX3Q9bigzNCksT3Q9bigxOTkpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3R9KSk7dmFyIHh0PU9iamVjdC5mcmVlemUoW10pLHd0PW5ldyBVaW50OENsYW1wZWRBcnJheSgwKSxrdD17ZGF0YTp7dHlwZToiZGF0YSIsdmFsdWU6eHQsYXN5bmM6ITB9LGRhdGFDb21wYXJhdG9yOm51bGwsX2RhdGFEaWZmOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19kaWZmfSxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxkYXRhVHJhbnNmb3JtOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkRhdGFMb2FkOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxmZXRjaDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5sYXllcjtyZXR1cm4gT2JqZWN0KE90LmEpKHQsbi5nZXRMb2FkT3B0aW9ucygpKX0sY29tcGFyZTohMX0sdXBkYXRlVHJpZ2dlcnM6e30sdmlzaWJsZTohMCxwaWNrYWJsZTohMSxvcGFjaXR5Ont0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LG9uSG92ZXI6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LG9uQ2xpY2s6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LG9uRHJhZ1N0YXJ0Ont0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkRyYWc6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LG9uRHJhZ0VuZDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsY29tcGFyZTohMSxvcHRpb25hbDohMH0sY29vcmRpbmF0ZVN5c3RlbTpwLmEuREVGQVVMVCxjb29yZGluYXRlT3JpZ2luOnt0eXBlOiJhcnJheSIsdmFsdWU6WzAsMCwwXSxjb21wYXJlOiEwfSxtb2RlbE1hdHJpeDp7dHlwZToiYXJyYXkiLHZhbHVlOm51bGwsY29tcGFyZTohMCxvcHRpb25hbDohMH0sd3JhcExvbmdpdHVkZTohMSxwb3NpdGlvbkZvcm1hdDoiWFlaIixjb2xvckZvcm1hdDoiUkdCQSIscGFyYW1ldGVyczp7fSx1bmlmb3Jtczp7fSxleHRlbnNpb25zOltdLGdldFBvbHlnb25PZmZzZXQ6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5bMCwxMDAqLXQubGF5ZXJJbmRleF19LGNvbXBhcmU6ITF9LGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6bnVsbCxhdXRvSGlnaGxpZ2h0OiExLGhpZ2hsaWdodENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwxMjgsMTI4XX19LFN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbygpKHRoaXMsZSksbCgpKHRoaXMsZigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLHUoKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLmxheWVyTmFtZXx8dGhpcy5jb25zdHJ1Y3Rvci5uYW1lO3JldHVybiIiLmNvbmNhdCh0LCIoe2lkOiAnIikuY29uY2F0KHRoaXMucHJvcHMuaWQsIid9KSIpfX0se2tleToic2V0U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2V0Q2hhbmdlRmxhZ3Moe3N0YXRlQ2hhbmdlZDohMH0pLE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSx0KSx0aGlzLnNldE5lZWRzUmVkcmF3KCl9fSx7a2V5OiJzZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuaW50ZXJuYWxTdGF0ZSYmKHRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1JlZHJhdz10KX19LHtrZXk6InNldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGV4dC5sYXllck1hbmFnZXIuc2V0TmVlZHNVcGRhdGUoU3RyaW5nKHRoaXMpKSx0aGlzLmludGVybmFsU3RhdGUubmVlZHNVcGRhdGU9ITB9fSx7a2V5OiJnZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9O3JldHVybiB0aGlzLl9nZXROZWVkc1JlZHJhdyh0KX19LHtrZXk6Im5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUubmVlZHNVcGRhdGV8fHRoaXMuaGFzVW5pZm9ybVRyYW5zaXRpb24oKXx8dGhpcy5zaG91bGRVcGRhdGVTdGF0ZSh0aGlzLl9nZXRVcGRhdGVQYXJhbXMoKSl9fSx7a2V5OiJoYXNVbmlmb3JtVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlLnVuaWZvcm1UcmFuc2l0aW9ucy5hY3RpdmV9fSx7a2V5OiJpc1BpY2thYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnBpY2thYmxlJiZ0aGlzLnByb3BzLnZpc2libGV9fSx7a2V5OiJnZXRNb2RlbHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUmJih0aGlzLnN0YXRlLm1vZGVsc3x8KHRoaXMuc3RhdGUubW9kZWw/W3RoaXMuc3RhdGUubW9kZWxdOltdKSl9fSx7a2V5OiJnZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUmJnRoaXMuaW50ZXJuYWxTdGF0ZS5hdHRyaWJ1dGVNYW5hZ2VyfX0se2tleToiZ2V0Q3VycmVudExheWVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUmJnRoaXMuaW50ZXJuYWxTdGF0ZS5sYXllcn19LHtrZXk6ImdldExvYWRPcHRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLmxvYWRPcHRpb25zfX0se2tleToicHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LnZpZXdwb3J0LG49T2JqZWN0KE4uYSkodCx7dmlld3BvcnQ6ZSxtb2RlbE1hdHJpeDp0aGlzLnByb3BzLm1vZGVsTWF0cml4LGNvb3JkaW5hdGVPcmlnaW46dGhpcy5wcm9wcy5jb29yZGluYXRlT3JpZ2luLGNvb3JkaW5hdGVTeXN0ZW06dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtfSkscj1PYmplY3QoX3QubikobixlLnBpeGVsUHJvamVjdGlvbk1hdHJpeCksYT1pKCkociwzKSxvPWFbMF0scz1hWzFdLHU9YVsyXTtyZXR1cm4gMj09PXQubGVuZ3RoP1tvLHNdOltvLHMsdV19fSx7a2V5OiJ1bnByb2plY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRleHQudmlld3BvcnQudW5wcm9qZWN0KHQpfX0se2tleToicHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KE4uYikodCx7dmlld3BvcnQ6dGhpcy5jb250ZXh0LnZpZXdwb3J0LG1vZGVsTWF0cml4OnRoaXMucHJvcHMubW9kZWxNYXRyaXgsY29vcmRpbmF0ZU9yaWdpbjp0aGlzLnByb3BzLmNvb3JkaW5hdGVPcmlnaW4sY29vcmRpbmF0ZVN5c3RlbTp0aGlzLnByb3BzLmNvb3JkaW5hdGVTeXN0ZW19KX19LHtrZXk6InVzZTY0Yml0UG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdD09PXAuYS5ERUZBVUxUfHx0PT09cC5hLkxOR0xBVHx8dD09PXAuYS5DQVJURVNJQU59fSx7a2V5OiJvbkhvdmVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiEhdGhpcy5wcm9wcy5vbkhvdmVyJiZ0aGlzLnByb3BzLm9uSG92ZXIodCxlKX19LHtrZXk6Im9uQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0aGlzLnByb3BzLm9uQ2xpY2smJnRoaXMucHJvcHMub25DbGljayh0LGUpfX0se2tleToibnVsbFBpY2tpbmdDb2xvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bMCwwLDBdfX0se2tleToiZW5jb2RlUGlja2luZ0NvbG9yIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGVbMF09dCsxJjI1NSxlWzFdPXQrMT4+OCYyNTUsZVsyXT10KzE+Pjg+PjgmMjU1LGV9fSx7a2V5OiJkZWNvZGVQaWNraW5nQ29sb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdChJLmEpKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KTt2YXIgZT1pKCkodCwzKTtyZXR1cm4gZVswXSsyNTYqZVsxXSs2NTUzNiplWzJdLTF9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJMYXllciAiLmNvbmNhdCh0aGlzLCIgaGFzIG5vdCBkZWZpbmVkIGluaXRpYWxpemVTdGF0ZSIpKX19LHtrZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMucHJvcHMuZXh0ZW5zaW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1pLnZhbHVlO3Q9T2JqZWN0KFIuYSkodCxvLmdldFNoYWRlcnMuY2FsbCh0aGlzLG8pKX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiB0fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Qub2xkUHJvcHMsdC5wcm9wcyx0LmNvbnRleHQ7cmV0dXJuIHQuY2hhbmdlRmxhZ3MucHJvcHNPckRhdGFDaGFuZ2VkfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Qub2xkUHJvcHMsdC5wcm9wcyx0LmNvbnRleHQ7dmFyIGU9dC5jaGFuZ2VGbGFncyxuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2lmKGUuZGF0YUNoYW5nZWQmJm4pe3ZhciByPWUuZGF0YUNoYW5nZWQ7aWYoQXJyYXkuaXNBcnJheShyKSl7dmFyIGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9cltTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO24uaW52YWxpZGF0ZUFsbChjKX19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX1lbHNlIG4uaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5nZXRNb2RlbHMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXtyLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7YSYmYS5maW5hbGl6ZSgpLHRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnMuY2xlYXIoKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7aS52YWx1ZS5kcmF3KHQpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbyxuPSh0Lm1vZGUsZS5pbmRleCk7cmV0dXJuIG4+PTAmJkFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5kYXRhKSYmKGUub2JqZWN0PXRoaXMucHJvcHMuZGF0YVtuXSksZX19LHtrZXk6ImludmFsaWRhdGVBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiJhbGwiLGU9KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkpO2UmJigiYWxsIj09PXQ/ZS5pbnZhbGlkYXRlQWxsKCk6ZS5pbnZhbGlkYXRlKHQpKX19LHtrZXk6InVwZGF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZTt0aGlzLl9zZXRNb2RlbEF0dHJpYnV0ZXMobyx0KX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6Il91cGRhdGVBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtpZihlKXt2YXIgbj10aGlzLmdldE51bUluc3RhbmNlcyh0KSxyPXRoaXMuZ2V0U3RhcnRJbmRpY2VzKHQpO2UudXBkYXRlKHtkYXRhOnQuZGF0YSxudW1JbnN0YW5jZXM6bixzdGFydEluZGljZXM6cixwcm9wczp0LHRyYW5zaXRpb25zOnQudHJhbnNpdGlvbnMsYnVmZmVyczp0LmRhdGEuYXR0cmlidXRlcyxjb250ZXh0OnRoaXMsaWdub3JlVW5rbm93bkF0dHJpYnV0ZXM6ITB9KTt2YXIgaT1lLmdldENoYW5nZWRBdHRyaWJ1dGVzKHtjbGVhckNoYW5nZWRGbGFnczohMH0pO3RoaXMudXBkYXRlQXR0cmlidXRlcyhpKX19fSx7a2V5OiJfdXBkYXRlQXR0cmlidXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTt0JiZ0LnVwZGF0ZVRyYW5zaXRpb24oKX19LHtrZXk6Il91cGRhdGVVbmlmb3JtVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmludGVybmFsU3RhdGUudW5pZm9ybVRyYW5zaXRpb25zO2lmKHQuYWN0aXZlKXt2YXIgZT10LnVwZGF0ZSgpLG49T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3BzKTtmb3IodmFyIHIgaW4gZSlPYmplY3QuZGVmaW5lUHJvcGVydHkobixyLHt2YWx1ZTplW3JdfSk7cmV0dXJuIG59cmV0dXJuIHRoaXMucHJvcHN9fSx7a2V5OiJjYWxjdWxhdGVJbnN0YW5jZVBpY2tpbmdDb2xvcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5udW1JbnN0YW5jZXMscj13dC5sZW5ndGgvMztpZihyPG4pe3ZhciBpPSh3dD1ELmEuYWxsb2NhdGUod3Qsbix7c2l6ZTozLGNvcHk6ITB9KSkubGVuZ3RoLzMsYT1bXTtPYmplY3QoSS5hKShpPDE2Nzc3MjE1LCJpbmRleCBvdXQgb2YgcGlja2luZyBjb2xvciByYW5nZSIpO2Zvcih2YXIgbz1yO288aTtvKyspdGhpcy5lbmNvZGVQaWNraW5nQ29sb3IobyxhKSx3dFszKm8rMF09YVswXSx3dFszKm8rMV09YVsxXSx3dFszKm8rMl09YVsyXX10LnZhbHVlPXd0LnN1YmFycmF5KDAsMypuKX19LHtrZXk6Il9zZXRNb2RlbEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkscj10LnVzZXJEYXRhLmV4Y2x1ZGVBdHRyaWJ1dGVzfHx7fSxpPW4uZ2V0U2hhZGVyQXR0cmlidXRlcyhlLHIpO3Quc2V0QXR0cmlidXRlcyhpKX19LHtrZXk6ImNsZWFyUGlja2luZ0NvbG9yIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hdHRyaWJ1dGVzLG49ZS5waWNraW5nQ29sb3JzLHI9ZS5pbnN0YW5jZVBpY2tpbmdDb2xvcnMsaT1ufHxyLGE9dGhpcy5kZWNvZGVQaWNraW5nQ29sb3IodCksbz1pLmdldFZlcnRleE9mZnNldChhKSxzPWkuZ2V0VmVydGV4T2Zmc2V0KGErMSk7aS5idWZmZXIuc3ViRGF0YSh7ZGF0YTpuZXcgVWludDhBcnJheShzLW8pLG9mZnNldDpvfSl9fSx7a2V5OiJyZXN0b3JlUGlja2luZ0NvbG9ycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hdHRyaWJ1dGVzLGU9dC5waWNraW5nQ29sb3JzLG49dC5pbnN0YW5jZVBpY2tpbmdDb2xvcnM7KGV8fG4pLnVwZGF0ZVN1YkJ1ZmZlcih7c3RhcnRPZmZzZXQ6MH0pfX0se2tleToiZ2V0TnVtSW5zdGFuY2VzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09KHQ9dHx8dGhpcy5wcm9wcykubnVtSW5zdGFuY2VzP3QubnVtSW5zdGFuY2VzOnRoaXMuc3RhdGUmJnZvaWQgMCE9PXRoaXMuc3RhdGUubnVtSW5zdGFuY2VzP3RoaXMuc3RhdGUubnVtSW5zdGFuY2VzOk9iamVjdChNLmEpKHQuZGF0YSl9fSx7a2V5OiJnZXRTdGFydEluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT0odD10fHx0aGlzLnByb3BzKS5zdGFydEluZGljZXM/dC5zdGFydEluZGljZXM6dGhpcy5zdGF0ZSYmdGhpcy5zdGF0ZS5zdGFydEluZGljZXM/dGhpcy5zdGF0ZS5zdGFydEluZGljZXM6bnVsbH19LHtrZXk6Il9pbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChDLmEpKCJsYXllci5pbml0aWFsaXplIix0aGlzKSx0aGlzLl9pbml0U3RhdGUoKSx0aGlzLmluaXRpYWxpemVTdGF0ZSh0aGlzLmNvbnRleHQpO3ZhciB0PSEwLGU9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMucHJvcHMuZXh0ZW5zaW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgYT1yLnZhbHVlO2EuaW5pdGlhbGl6ZVN0YXRlLmNhbGwodGhpcyx0aGlzLmNvbnRleHQsYSl9fWNhdGNoKHQpe2U9ITAsbj10fWZpbmFsbHl7dHJ5e3R8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX10aGlzLnNldENoYW5nZUZsYWdzKHtkYXRhQ2hhbmdlZDohMCxwcm9wc0NoYW5nZWQ6ITAsdmlld3BvcnRDaGFuZ2VkOiEwLGV4dGVuc2lvbnNDaGFuZ2VkOiEwfSksdGhpcy5fdXBkYXRlU3RhdGUoKX19LHtrZXk6Il91cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZWVkc1VwZGF0ZSgpO09iamVjdChDLmEpKCJsYXllci51cGRhdGUiLHRoaXMsdCksdCYmdGhpcy5fdXBkYXRlU3RhdGUoKX19LHtrZXk6Il91cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dGhpcy5fdXBkYXRlVW5pZm9ybVRyYW5zaXRpb24oKTt0aGlzLmludGVybmFsU3RhdGUucHJvcHNJblRyYW5zaXRpb249ZSx0aGlzLnByb3BzPWU7dmFyIG49dGhpcy5fZ2V0VXBkYXRlUGFyYW1zKCk7aWYodGhpcy5jb250ZXh0LmdsKXRoaXMudXBkYXRlU3RhdGUobik7ZWxzZSB0cnl7dGhpcy51cGRhdGVTdGF0ZShuKX1jYXRjaCh0KXt9dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dGhpcy5wcm9wcy5leHRlbnNpb25zW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7dS51cGRhdGVTdGF0ZS5jYWxsKHRoaXMsbix1KX19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXRoaXMuX3VwZGF0ZU1vZHVsZXMobiksdGhpcy5pc0NvbXBvc2l0ZT90aGlzLl9yZW5kZXJMYXllcnMobik6KHRoaXMuc2V0TmVlZHNSZWRyYXcoKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKHRoaXMucHJvcHMpLHRoaXMuc3RhdGUubW9kZWwmJnRoaXMuc3RhdGUubW9kZWwuc2V0SW5zdGFuY2VDb3VudCh0aGlzLmdldE51bUluc3RhbmNlcygpKSksdGhpcy5wcm9wcz10LHRoaXMuY2xlYXJDaGFuZ2VGbGFncygpLHRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1VwZGF0ZT0hMSx0aGlzLmludGVybmFsU3RhdGUucmVzZXRPbGRQcm9wcygpfX0se2tleToiX2ZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChDLmEpKCJsYXllci5maW5hbGl6ZSIsdGhpcyksT2JqZWN0KEkuYSkodGhpcy5pbnRlcm5hbFN0YXRlJiZ0aGlzLnN0YXRlKSx0aGlzLmZpbmFsaXplU3RhdGUodGhpcy5jb250ZXh0KTt2YXIgdD0hMCxlPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnByb3BzLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0ocj1pLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIGE9ci52YWx1ZTthLmZpbmFsaXplU3RhdGUuY2FsbCh0aGlzLGEpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19fX0se2tleToiZHJhd0xheWVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5tb2R1bGVQYXJhbWV0ZXJzLHI9dm9pZCAwPT09bj9udWxsOm4saT10LnVuaWZvcm1zLGE9dm9pZCAwPT09aT97fTppLG89dC5wYXJhbWV0ZXJzLHM9dm9pZCAwPT09bz97fTpvO3RoaXMuX3VwZGF0ZUF0dHJpYnV0ZVRyYW5zaXRpb24oKTt2YXIgdT10aGlzLnByb3BzO3RoaXMucHJvcHM9dGhpcy5pbnRlcm5hbFN0YXRlLnByb3BzSW5UcmFuc2l0aW9ufHx1O3ZhciBjPXRoaXMucHJvcHMub3BhY2l0eTthLm9wYWNpdHk9TWF0aC5wb3coYywxLzIuMiksciYmdGhpcy5zZXRNb2R1bGVQYXJhbWV0ZXJzKHIpO3ZhciBsPXRoaXMucHJvcHMuZ2V0UG9seWdvbk9mZnNldCxoPWwmJmwoYSl8fFswLDBdO09iamVjdChMLmspKHRoaXMuY29udGV4dC5nbCx7cG9seWdvbk9mZnNldDpofSksT2JqZWN0KEwubCkodGhpcy5jb250ZXh0LmdsLHMsKGZ1bmN0aW9uKCl7dmFyIHQ9e21vZHVsZVBhcmFtZXRlcnM6cix1bmlmb3JtczphLHBhcmFtZXRlcnM6cyxjb250ZXh0OmUuY29udGV4dH0sbj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1lLnByb3BzLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0odT1jLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGw9dS52YWx1ZTtsLmRyYXcuY2FsbChlLHQsbCl9fWNhdGNoKHQpe2k9ITAsbz10fWZpbmFsbHl7dHJ5e258fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1lLmRyYXcodCl9KSksdGhpcy5wcm9wcz11fX0se2tleToiZ2V0Q2hhbmdlRmxhZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZS5jaGFuZ2VGbGFnc319LHtrZXk6InNldENoYW5nZUZsYWdzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmludGVybmFsU3RhdGUuY2hhbmdlRmxhZ3M7Zm9yKHZhciBuIGluIGUpdFtuXSYmIWVbbl0mJihlW25dPXRbbl0sT2JqZWN0KEMuYSkoImxheWVyLmNoYW5nZUZsYWciLHRoaXMsbix0KSk7dmFyIHI9ZS5kYXRhQ2hhbmdlZHx8ZS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWR8fGUucHJvcHNDaGFuZ2VkfHxlLmV4dGVuc2lvbnNDaGFuZ2VkO2UucHJvcHNPckRhdGFDaGFuZ2VkPXIsZS5zb21ldGhpbmdDaGFuZ2VkPXJ8fHQudmlld3BvcnRDaGFuZ2VkfHx0LnN0YXRlQ2hhbmdlZH19LHtrZXk6ImNsZWFyQ2hhbmdlRmxhZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbnRlcm5hbFN0YXRlLmNoYW5nZUZsYWdzPXtkYXRhQ2hhbmdlZDohMSxwcm9wc0NoYW5nZWQ6ITEsdXBkYXRlVHJpZ2dlcnNDaGFuZ2VkOiExLHZpZXdwb3J0Q2hhbmdlZDohMSxzdGF0ZUNoYW5nZWQ6ITEsZXh0ZW5zaW9uc0NoYW5nZWQ6ITEscHJvcHNPckRhdGFDaGFuZ2VkOiExLHNvbWV0aGluZ0NoYW5nZWQ6ITF9fX0se2tleToiZGlmZlByb3BzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdChBLmIpKHQsZSk7aWYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQpZm9yKHZhciByIGluIG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkKW4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkW3JdJiZ0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGUocik7aWYobi50cmFuc2l0aW9uc0NoYW5nZWQpZm9yKHZhciBpIGluIG4udHJhbnNpdGlvbnNDaGFuZ2VkKXRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnMuYWRkKGksZVtpXSx0W2ldLHQudHJhbnNpdGlvbnNbaV0pO3JldHVybiB0aGlzLnNldENoYW5nZUZsYWdzKG4pfX0se2tleToidmFsaWRhdGVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoQS5jKSh0aGlzLnByb3BzKX19LHtrZXk6InNldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7aS52YWx1ZS51cGRhdGVNb2R1bGVTZXR0aW5ncyh0KX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6Il91cGRhdGVNb2R1bGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5vbGRQcm9wcyxyPWUuYXV0b0hpZ2hsaWdodCxpPWUuaGlnaGxpZ2h0ZWRPYmplY3RJbmRleCxhPWUuaGlnaGxpZ2h0Q29sb3I7aWYobi5hdXRvSGlnaGxpZ2h0IT09cnx8bi5oaWdobGlnaHRlZE9iamVjdEluZGV4IT09aXx8bi5oaWdobGlnaHRDb2xvciE9PWEpe3ZhciBvPXt9O3J8fChvLnBpY2tpbmdTZWxlY3RlZENvbG9yPW51bGwpLEFycmF5LmlzQXJyYXkoYSkmJihvLnBpY2tpbmdIaWdobGlnaHRDb2xvcj1hKSxOdW1iZXIuaXNJbnRlZ2VyKGkpJiYoby5waWNraW5nU2VsZWN0ZWRDb2xvcj1pPj0wP3RoaXMuZW5jb2RlUGlja2luZ0NvbG9yKGkpOm51bGwpLHRoaXMuc2V0TW9kdWxlUGFyYW1ldGVycyhvKX19fSx7a2V5OiJfZ2V0VXBkYXRlUGFyYW1zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntwcm9wczp0aGlzLnByb3BzLG9sZFByb3BzOnRoaXMuaW50ZXJuYWxTdGF0ZS5nZXRPbGRQcm9wcygpLGNvbnRleHQ6dGhpcy5jb250ZXh0LGNoYW5nZUZsYWdzOnRoaXMuaW50ZXJuYWxTdGF0ZS5jaGFuZ2VGbGFnc319fSx7a2V5OiJfZ2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmludGVybmFsU3RhdGUpcmV0dXJuITE7dmFyIGU9ITE7ZT1lfHx0aGlzLmludGVybmFsU3RhdGUubmVlZHNSZWRyYXcmJnRoaXMuaWQsdGhpcy5pbnRlcm5hbFN0YXRlLm5lZWRzUmVkcmF3PXRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1JlZHJhdyYmIXQuY2xlYXJSZWRyYXdGbGFnczt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKSxyPW4mJm4uZ2V0TmVlZHNSZWRyYXcodCk7cmV0dXJuIGU9ZXx8cn19LHtrZXk6Il9nZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZy5hKHRoaXMuY29udGV4dC5nbCx7aWQ6dGhpcy5wcm9wcy5pZCxzdGF0czp0aGlzLmNvbnRleHQuc3RhdHMsdGltZWxpbmU6dGhpcy5jb250ZXh0LnRpbWVsaW5lfSl9fSx7a2V5OiJfaW5pdFN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdChJLmEpKCF0aGlzLmludGVybmFsU3RhdGUmJiF0aGlzLnN0YXRlKSxPYmplY3QoSS5hKShpc0Zpbml0ZSh0aGlzLnByb3BzLmNvb3JkaW5hdGVTeXN0ZW0pLCIiLmNvbmNhdCh0aGlzLmlkLCI6IGludmFsaWQgY29vcmRpbmF0ZVN5c3RlbSIpKTt2YXIgdD10aGlzLl9nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7dCYmdC5hZGRJbnN0YW5jZWQoe2luc3RhbmNlUGlja2luZ0NvbG9yczp7dHlwZTo1MTIxLHNpemU6Myxub0FsbG9jOiEwLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZUluc3RhbmNlUGlja2luZ0NvbG9yc319KSx0aGlzLmludGVybmFsU3RhdGU9bmV3IGJ0KHthdHRyaWJ1dGVNYW5hZ2VyOnQsbGF5ZXI6dGhpc30pLHRoaXMuY2xlYXJDaGFuZ2VGbGFncygpLHRoaXMuc3RhdGU9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuc3RhdGUsImF0dHJpYnV0ZU1hbmFnZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUC5hLmRlcHJlY2F0ZWQoImxheWVyLnN0YXRlLmF0dHJpYnV0ZU1hbmFnZXIiLCJsYXllci5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkiKSx0fX0pLHRoaXMuaW50ZXJuYWxTdGF0ZS5sYXllcj10aGlzLHRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnM9bmV3IEUodGhpcy5jb250ZXh0LnRpbWVsaW5lKSx0aGlzLmludGVybmFsU3RhdGUub25Bc3luY1Byb3BVcGRhdGVkPXRoaXMuX29uQXN5bmNQcm9wVXBkYXRlZC5iaW5kKHRoaXMpLHRoaXMuaW50ZXJuYWxTdGF0ZS5zZXRBc3luY1Byb3BzKHRoaXMucHJvcHMpfX0se2tleToiX3RyYW5zZmVyU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdChDLmEpKCJsYXllci5tYXRjaGVkIix0aGlzLHRoaXM9PT10KTt2YXIgZT10LnN0YXRlLG49dC5pbnRlcm5hbFN0YXRlO09iamVjdChJLmEpKGUmJm4pLHRoaXMhPT10JiYodGhpcy5pbnRlcm5hbFN0YXRlPW4sdGhpcy5pbnRlcm5hbFN0YXRlLmxheWVyPXRoaXMsdGhpcy5zdGF0ZT1lLHRoaXMuaW50ZXJuYWxTdGF0ZS5zZXRBc3luY1Byb3BzKHRoaXMucHJvcHMpLHRoaXMuZGlmZlByb3BzKHRoaXMucHJvcHMsdGhpcy5pbnRlcm5hbFN0YXRlLmdldE9sZFByb3BzKCkpKX19LHtrZXk6Il9vbkFzeW5jUHJvcFVwZGF0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaWZmUHJvcHModGhpcy5wcm9wcyx0aGlzLmludGVybmFsU3RhdGUuZ2V0T2xkUHJvcHMoKSksdGhpcy5zZXROZWVkc1VwZGF0ZSgpfX0se2tleToiaXNMb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUmJiF0aGlzLmludGVybmFsU3RhdGUuaXNBc3luY1Byb3BMb2FkaW5nKCl9fV0pLGV9KG10KTtTdC5sYXllck5hbWU9IkxheWVyIixTdC5kZWZhdWx0UHJvcHM9a3R9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIwMiksZz1uKDI5MykseT1uKDIyMCksbT1uKDIyKSxiPW4oMTE4KSxfPW4oMjc1KSxPPW4oMTg3KSx4PW4oMTc1KSx3PW4oNzEpLGs9big0KSxTPW4ubihrKSxQPW4oMTI4KTtmdW5jdGlvbiBqKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe2koKSh0aGlzLGUpO3ZhciBuPXQuZnA2NCxyPXQuSW5kZXhUeXBlLGE9dm9pZCAwPT09cj9VaW50MzJBcnJheTpyO3JldHVybiB1KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ooT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtTKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmooT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHQse2F0dHJpYnV0ZXM6e3Bvc2l0aW9uczp7c2l6ZTozLHR5cGU6bj9GbG9hdDY0QXJyYXk6RmxvYXQzMkFycmF5fSx2ZXJ0ZXhWYWxpZDp7dHlwZTpVaW50OENsYW1wZWRBcnJheSxzaXplOjF9LGluZGljZXM6e3R5cGU6YSxzaXplOjF9fX0pKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXR0cmlidXRlcztyZXR1cm4iaW5kaWNlcyI9PT10P2UuaW5kaWNlcyYmZS5pbmRpY2VzLnN1YmFycmF5KDAsdGhpcy52ZXJ0ZXhDb3VudCk6ZVt0XX19LHtrZXk6InVwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXtmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlR2VvbWV0cnkiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgbj10aGlzLmJ1ZmZlcnMuaW5kaWNlcztuJiYodGhpcy52ZXJ0ZXhDb3VudD0obi52YWx1ZXx8bikubGVuZ3RoKX19LHtrZXk6ImdldEdlb21ldHJ5U2l6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFAuYih0LHRoaXMucG9zaXRpb25TaXplLHRoaXMubm9ybWFsaXplKX19LHtrZXk6ImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9ybWFsaXplfHwhdGhpcy5idWZmZXJzLmluZGljZXM/ZigpKGwoKShlLnByb3RvdHlwZSksImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdGhpcykuY2FsbCh0aGlzLHQpOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fX0se2tleToidXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubm9ybWFsaXplJiYodD1QLmModCx0aGlzLnBvc2l0aW9uU2l6ZSxlLmdlb21ldHJ5U2l6ZSkpLHRoaXMuX3VwZGF0ZUluZGljZXModCxlKSx0aGlzLl91cGRhdGVQb3NpdGlvbnModCxlKSx0aGlzLl91cGRhdGVWZXJ0ZXhWYWxpZCh0LGUpfX0se2tleToiX3VwZGF0ZUluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZW9tZXRyeUluZGV4LHI9ZS52ZXJ0ZXhTdGFydCxpPWUuaW5kZXhTdGFydCxhPXRoaXMuYXR0cmlidXRlcyxvPXRoaXMuaW5kZXhTdGFydHMscz10aGlzLnR5cGVkQXJyYXlNYW5hZ2VyLHU9YS5pbmRpY2VzO2lmKHUpe3ZhciBjPWksbD1QLmEodCx0aGlzLnBvc2l0aW9uU2l6ZSx0aGlzLm9wdHMucHJlcHJvamVjdCk7dT1zLmFsbG9jYXRlKHUsaStsLmxlbmd0aCx7Y29weTohMH0pO2Zvcih2YXIgaD0wO2g8bC5sZW5ndGg7aCsrKXVbYysrXT1sW2hdK3I7b1tuKzFdPWkrbC5sZW5ndGgsYS5pbmRpY2VzPXV9fX0se2tleToiX3VwZGF0ZVBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnZlcnRleFN0YXJ0LHI9ZS5nZW9tZXRyeVNpemUsaT10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb25zLGE9dGhpcy5wb3NpdGlvblNpemU7aWYoaSlmb3IodmFyIG89dC5wb3NpdGlvbnN8fHQscz1uLHU9MDt1PHI7cysrLHUrKyl7dmFyIGM9b1t1KmFdLGw9b1t1KmErMV0saD1hPjI/b1t1KmErMl06MDtpWzMqc109YyxpWzMqcysxXT1sLGlbMypzKzJdPWh9fX0se2tleToiX3VwZGF0ZVZlcnRleFZhbGlkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUudmVydGV4U3RhcnQscj1lLmdlb21ldHJ5U2l6ZSxpPXRoaXMuYXR0cmlidXRlcy52ZXJ0ZXhWYWxpZCxhPXRoaXMucG9zaXRpb25TaXplLG89dCYmdC5ob2xlSW5kaWNlcztpZihpLmZpbGwoMSxuLG4rciksbylmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKylpW24rb1tzXS9hLTFdPTA7aVtuK3ItMV09MH19XSksZX0obigyMDQpLmEpLEU9IlxuYXR0cmlidXRlIHZlYzIgdmVydGV4UG9zaXRpb25zO1xuYXR0cmlidXRlIGZsb2F0IHZlcnRleFZhbGlkO1xuXG51bmlmb3JtIGJvb2wgZXh0cnVkZWQ7XG51bmlmb3JtIGJvb2wgaXNXaXJlZnJhbWU7XG51bmlmb3JtIGZsb2F0IGVsZXZhdGlvblNjYWxlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyBmbG9hdCBpc1ZhbGlkO1xuXG5zdHJ1Y3QgUG9seWdvblByb3BzIHtcbiAgdmVjNCBmaWxsQ29sb3JzO1xuICB2ZWM0IGxpbmVDb2xvcnM7XG4gIHZlYzMgcG9zaXRpb25zO1xuICB2ZWMzIG5leHRQb3NpdGlvbnM7XG4gIHZlYzMgcGlja2luZ0NvbG9ycztcbiAgdmVjMyBwb3NpdGlvbnM2NExvdztcbiAgdmVjMyBuZXh0UG9zaXRpb25zNjRMb3c7XG4gIGZsb2F0IGVsZXZhdGlvbnM7XG59O1xuXG52ZWMzIHByb2plY3Rfb2Zmc2V0X25vcm1hbCh2ZWMzIHZlY3Rvcikge1xuICBpZiAocHJvamVjdF91Q29vcmRpbmF0ZVN5c3RlbSA9PSBDT09SRElOQVRFX1NZU1RFTV9MTkdMQVQgfHxcbiAgICBwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0xOR0xBVF9PRkZTRVRTKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZSh2ZWN0b3IgKiBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdCk7XG4gIH1cbiAgcmV0dXJuIHByb2plY3Rfbm9ybWFsKHZlY3Rvcik7XG59XG5cbnZvaWQgY2FsY3VsYXRlUG9zaXRpb24oUG9seWdvblByb3BzIHByb3BzKSB7XG4gIHZlYzMgcG9zO1xuICB2ZWMzIHBvczY0TG93O1xuICB2ZWMzIG5vcm1hbDtcbiAgdmVjNCBjb2xvcnMgPSBpc1dpcmVmcmFtZSA/IHByb3BzLmxpbmVDb2xvcnMgOiBwcm9wcy5maWxsQ29sb3JzO1xuXG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBwcm9wcy5wb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBwcm9wcy5uZXh0UG9zaXRpb25zO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBwcm9wcy5waWNraW5nQ29sb3JzO1xuXG4jaWZkZWYgSVNfU0lERV9WRVJURVhcbiAgcG9zID0gbWl4KHByb3BzLnBvc2l0aW9ucywgcHJvcHMubmV4dFBvc2l0aW9ucywgdmVydGV4UG9zaXRpb25zLngpO1xuICBwb3M2NExvdyA9IG1peChwcm9wcy5wb3NpdGlvbnM2NExvdywgcHJvcHMubmV4dFBvc2l0aW9uczY0TG93LCB2ZXJ0ZXhQb3NpdGlvbnMueCk7XG4gIGlzVmFsaWQgPSB2ZXJ0ZXhWYWxpZDtcbiNlbHNlXG4gIHBvcyA9IHByb3BzLnBvc2l0aW9ucztcbiAgcG9zNjRMb3cgPSBwcm9wcy5wb3NpdGlvbnM2NExvdztcbiAgaXNWYWxpZCA9IDEuMDtcbiNlbmRpZlxuXG4gIGlmIChleHRydWRlZCkge1xuICAgIHBvcy56ICs9IHByb3BzLmVsZXZhdGlvbnMgKiB2ZXJ0ZXhQb3NpdGlvbnMueSAqIGVsZXZhdGlvblNjYWxlO1xuICAgIFxuI2lmZGVmIElTX1NJREVfVkVSVEVYXG4gICAgbm9ybWFsID0gdmVjMyhwcm9wcy5wb3NpdGlvbnMueSAtIHByb3BzLm5leHRQb3NpdGlvbnMueSwgcHJvcHMubmV4dFBvc2l0aW9ucy54IC0gcHJvcHMucG9zaXRpb25zLngsIDAuMCk7XG4gICAgbm9ybWFsID0gcHJvamVjdF9vZmZzZXRfbm9ybWFsKG5vcm1hbCk7XG4jZWxzZVxuICAgIG5vcm1hbCA9IHZlYzMoMC4wLCAwLjAsIDEuMCk7XG4jZW5kaWZcbiAgICBnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWw7XG4gIH1cblxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvcywgcG9zNjRMb3csIHZlYzMoMC4pLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICBpZiAoZXh0cnVkZWQpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9ycy5yZ2IsIHByb2plY3RfdUNhbWVyYVBvc2l0aW9uLCBnZW9tZXRyeS5wb3NpdGlvbi54eXosIG5vcm1hbCk7XG4gICAgdkNvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvcnMuYSAqIG9wYWNpdHkpO1xuICB9IGVsc2Uge1xuICAgIHZDb2xvciA9IHZlYzQoY29sb3JzLnJnYiwgY29sb3JzLmEgKiBvcGFjaXR5KTtcbiAgfVxuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixBPSIjZGVmaW5lIFNIQURFUl9OQU1FIHNvbGlkLXBvbHlnb24tbGF5ZXItdmVydGV4LXNoYWRlclxuXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSBmbG9hdCBlbGV2YXRpb25zO1xuYXR0cmlidXRlIHZlYzQgZmlsbENvbG9ycztcbmF0dHJpYnV0ZSB2ZWM0IGxpbmVDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBwaWNraW5nQ29sb3JzO1xuXG4iLmNvbmNhdChFLCJcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgUG9seWdvblByb3BzIHByb3BzO1xuXG4gIHByb3BzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgcHJvcHMucG9zaXRpb25zNjRMb3cgPSBwb3NpdGlvbnM2NExvdztcbiAgcHJvcHMuZWxldmF0aW9ucyA9IGVsZXZhdGlvbnM7XG4gIHByb3BzLmZpbGxDb2xvcnMgPSBmaWxsQ29sb3JzO1xuICBwcm9wcy5saW5lQ29sb3JzID0gbGluZUNvbG9ycztcbiAgcHJvcHMucGlja2luZ0NvbG9ycyA9IHBpY2tpbmdDb2xvcnM7XG5cbiAgY2FsY3VsYXRlUG9zaXRpb24ocHJvcHMpO1xufVxuIiksTT0iI2RlZmluZSBTSEFERVJfTkFNRSBzb2xpZC1wb2x5Z29uLWxheWVyLXZlcnRleC1zaGFkZXItc2lkZVxuI2RlZmluZSBJU19TSURFX1ZFUlRFWFxuXG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgbmV4dFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBuZXh0UG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VFbGV2YXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VGaWxsQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VMaW5lQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4iLmNvbmNhdChFLCJcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgUG9seWdvblByb3BzIHByb3BzO1xuXG4gIHByb3BzLnBvc2l0aW9ucyA9IGluc3RhbmNlUG9zaXRpb25zO1xuICBwcm9wcy5wb3NpdGlvbnM2NExvdyA9IGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG4gIHByb3BzLmVsZXZhdGlvbnMgPSBpbnN0YW5jZUVsZXZhdGlvbnM7XG4gIHByb3BzLmZpbGxDb2xvcnMgPSBpbnN0YW5jZUZpbGxDb2xvcnM7XG4gIHByb3BzLmxpbmVDb2xvcnMgPSBpbnN0YW5jZUxpbmVDb2xvcnM7XG4gIHByb3BzLnBpY2tpbmdDb2xvcnMgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHByb3BzLm5leHRQb3NpdGlvbnMgPSBuZXh0UG9zaXRpb25zO1xuICBwcm9wcy5uZXh0UG9zaXRpb25zNjRMb3cgPSBuZXh0UG9zaXRpb25zNjRMb3c7XG5cbiAgY2FsY3VsYXRlUG9zaXRpb24ocHJvcHMpO1xufVxuIik7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBSfSkpO3ZhciBDPVswLDAsMCwyNTVdLEw9e2ZpbGxlZDohMCxleHRydWRlZDohMSx3aXJlZnJhbWU6ITEsX25vcm1hbGl6ZTohMCxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxnZXRQb2x5Z29uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9seWdvbn19LGdldEVsZXZhdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjFlM30sZ2V0RmlsbENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Q30sZ2V0TGluZUNvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Q30sbWF0ZXJpYWw6ITB9LEk9e2VudGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoP2Uuc3ViYXJyYXkoZS5sZW5ndGgtdC5sZW5ndGgpOnR9fSxSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZigpKGwoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6dCxmczoiI2RlZmluZSBTSEFERVJfTkFNRSBzb2xpZC1wb2x5Z29uLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IGlzVmFsaWQ7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGlmIChpc1ZhbGlkIDwgMC41KSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixkZWZpbmVzOnt9LG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmNvbnRleHQsbj1lLmdsLHI9ZS52aWV3cG9ydCxpPXRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbTtyLmlzR2Vvc3BhdGlhbCYmaT09PW0uYS5ERUZBVUxUJiYoaT1tLmEuTE5HTEFUKSx0aGlzLnNldFN0YXRlKHtudW1JbnN0YW5jZXM6MCxwb2x5Z29uVGVzc2VsYXRvcjpuZXcgVCh7cHJlcHJvamVjdDppPT09bS5hLkxOR0xBVCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSxJbmRleFR5cGU6IW58fE9iamVjdChfLmMpKG4sTy5hLkVMRU1FTlRfSU5ERVhfVUlOVDMyKT9VaW50MzJBcnJheTpVaW50MTZBcnJheX0pfSk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7YS5yZW1vdmUoWyJpbnN0YW5jZVBpY2tpbmdDb2xvcnMiXSksYS5hZGQoe2luZGljZXM6e3NpemU6MSxpc0luZGV4ZWQ6ITAsdXBkYXRlOnRoaXMuY2FsY3VsYXRlSW5kaWNlcyxub0FsbG9jOiEwfSxwb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjpJLGFjY2Vzc29yOiJnZXRQb2x5Z29uIix1cGRhdGU6dGhpcy5jYWxjdWxhdGVQb3NpdGlvbnMsbm9BbGxvYzohMCxzaGFkZXJBdHRyaWJ1dGVzOntwb3NpdGlvbnM6e3ZlcnRleE9mZnNldDowLGRpdmlzb3I6MH0saW5zdGFuY2VQb3NpdGlvbnM6e3ZlcnRleE9mZnNldDowLGRpdmlzb3I6MX0sbmV4dFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjEsZGl2aXNvcjoxfX19LHZlcnRleFZhbGlkOntzaXplOjEsZGl2aXNvcjoxLHR5cGU6NTEyMSx1cGRhdGU6dGhpcy5jYWxjdWxhdGVWZXJ0ZXhWYWxpZCxub0FsbG9jOiEwfSxlbGV2YXRpb25zOntzaXplOjEsdHJhbnNpdGlvbjpJLGFjY2Vzc29yOiJnZXRFbGV2YXRpb24iLHNoYWRlckF0dHJpYnV0ZXM6e2VsZXZhdGlvbnM6e2Rpdmlzb3I6MH0saW5zdGFuY2VFbGV2YXRpb25zOntkaXZpc29yOjF9fX0sZmlsbENvbG9yczp7YWxpYXM6ImNvbG9ycyIsc2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0eXBlOjUxMjEsbm9ybWFsaXplZDohMCx0cmFuc2l0aW9uOkksYWNjZXNzb3I6ImdldEZpbGxDb2xvciIsZGVmYXVsdFZhbHVlOkMsc2hhZGVyQXR0cmlidXRlczp7ZmlsbENvbG9yczp7ZGl2aXNvcjowfSxpbnN0YW5jZUZpbGxDb2xvcnM6e2Rpdmlzb3I6MX19fSxsaW5lQ29sb3JzOnthbGlhczoiY29sb3JzIixzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246SSxhY2Nlc3NvcjoiZ2V0TGluZUNvbG9yIixkZWZhdWx0VmFsdWU6QyxzaGFkZXJBdHRyaWJ1dGVzOntsaW5lQ29sb3JzOntkaXZpc29yOjB9LGluc3RhbmNlTGluZUNvbG9yczp7ZGl2aXNvcjoxfX19LHBpY2tpbmdDb2xvcnM6e3NpemU6Myx0eXBlOjUxMjEsYWNjZXNzb3I6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmluZGV4LGk9bi50YXJnZXQ7cmV0dXJuIHQuZW5jb2RlUGlja2luZ0NvbG9yKGUmJmUuX19zb3VyY2U/ZS5fX3NvdXJjZS5pbmRleDpyLGkpfSxzaGFkZXJBdHRyaWJ1dGVzOntwaWNraW5nQ29sb3JzOntkaXZpc29yOjB9LGluc3RhbmNlUGlja2luZ0NvbG9yczp7ZGl2aXNvcjoxfX19fSl9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49ZigpKGwoKShlLnByb3RvdHlwZSksImdldFBpY2tpbmdJbmZvIix0aGlzKS5jYWxsKHRoaXMsdCkscj1uLmluZGV4LGk9dGhpcy5wcm9wcy5kYXRhO3JldHVybiBpWzBdJiZpWzBdLl9fc291cmNlJiYobi5vYmplY3Q9aS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3NvdXJjZS5pbmRleD09PXJ9KSkpLG59fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5wcm9wcyxyPW4uZXh0cnVkZWQsaT1uLmZpbGxlZCxhPW4ud2lyZWZyYW1lLG89bi5lbGV2YXRpb25TY2FsZSxzPXRoaXMuc3RhdGUsdT1zLnRvcE1vZGVsLGM9cy5zaWRlTW9kZWwsbD1zLnBvbHlnb25UZXNzZWxhdG9yLGg9T2JqZWN0LmFzc2lnbih7fSxlLHtleHRydWRlZDpCb29sZWFuKHIpLGVsZXZhdGlvblNjYWxlOm99KTtjJiYoYy5zZXRJbnN0YW5jZUNvdW50KGwuaW5zdGFuY2VDb3VudC0xKSxjLnNldFVuaWZvcm1zKGgpLGEmJihjLnNldERyYXdNb2RlKDMpLGMuc2V0VW5pZm9ybXMoe2lzV2lyZWZyYW1lOiEwfSkuZHJhdygpKSxpJiYoYy5zZXREcmF3TW9kZSg2KSxjLnNldFVuaWZvcm1zKHtpc1dpcmVmcmFtZTohMX0pLmRyYXcoKSkpLHUmJih1LnNldFZlcnRleENvdW50KGwudmVydGV4Q291bnQpLHUuc2V0VW5pZm9ybXMoaCkuZHJhdygpKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLnVwZGF0ZUdlb21ldHJ5KHQpO3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncyxhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpOyhpLmV4dGVuc2lvbnNDaGFuZ2VkfHxuLmZpbGxlZCE9PXIuZmlsbGVkfHxuLmV4dHJ1ZGVkIT09ci5leHRydWRlZCkmJih0aGlzLnN0YXRlLm1vZGVscyYmdGhpcy5zdGF0ZS5tb2RlbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlKCl9KSksdGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRNb2RlbHModGhpcy5jb250ZXh0LmdsKSksYS5pbnZhbGlkYXRlQWxsKCkpfX0se2tleToidXBkYXRlR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj0odC5vbGRQcm9wcyx0LmNoYW5nZUZsYWdzKTtpZihuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0UG9seWdvbikpe3ZhciByPXRoaXMuc3RhdGUucG9seWdvblRlc3NlbGF0b3IsaT1lLmRhdGEuYXR0cmlidXRlc3x8e307ci51cGRhdGVHZW9tZXRyeSh7ZGF0YTplLmRhdGEsbm9ybWFsaXplOmUuX25vcm1hbGl6ZSxnZW9tZXRyeUJ1ZmZlcjppLmdldFBvbHlnb24sYnVmZmVyczppLGdldEdlb21ldHJ5OmUuZ2V0UG9seWdvbixwb3NpdGlvbkZvcm1hdDplLnBvc2l0aW9uRm9ybWF0LGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLGRhdGFDaGFuZ2VkOm4uZGF0YUNoYW5nZWR9KSx0aGlzLnNldFN0YXRlKHtudW1JbnN0YW5jZXM6ci5pbnN0YW5jZUNvdW50LHN0YXJ0SW5kaWNlczpyLnZlcnRleFN0YXJ0c30pLG4uZGF0YUNoYW5nZWR8fHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJfZ2V0TW9kZWxzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuLHI9dGhpcy5wcm9wcyxpPXIuaWQsYT1yLmZpbGxlZCxvPXIuZXh0cnVkZWQ7aWYoYSl7dmFyIHM9dGhpcy5nZXRTaGFkZXJzKEEpO3MuZGVmaW5lcy5OT05fSU5TVEFOQ0VEX01PREVMPTEsZT1uZXcgeC5hKHQsT2JqZWN0LmFzc2lnbih7fSxzLHtpZDoiIi5jb25jYXQoaSwiLXRvcCIpLGRyYXdNb2RlOjQsYXR0cmlidXRlczp7dmVydGV4UG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsMV0pfSx1bmlmb3Jtczp7aXNXaXJlZnJhbWU6ITEsaXNTaWRlVmVydGV4OiExfSx2ZXJ0ZXhDb3VudDowLGlzSW5kZXhlZDohMH0pKX1yZXR1cm4gbyYmKChuPW5ldyB4LmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycyhNKSx7aWQ6IiIuY29uY2F0KGksIi1zaWRlIiksZ2VvbWV0cnk6bmV3IHcuYSh7ZHJhd01vZGU6MSx2ZXJ0ZXhDb3VudDo0LGF0dHJpYnV0ZXM6e3ZlcnRleFBvc2l0aW9uczp7c2l6ZToyLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoWzEsMSwwLDEsMCwwLDEsMF0pfX19KSxpbnN0YW5jZUNvdW50OjAsaXNJbnN0YW5jZWQ6MX0pKSkudXNlckRhdGEuZXhjbHVkZUF0dHJpYnV0ZXM9e2luZGljZXM6ITB9KSx7bW9kZWxzOltuLGVdLmZpbHRlcihCb29sZWFuKSx0b3BNb2RlbDplLHNpZGVNb2RlbDpufX19LHtrZXk6ImNhbGN1bGF0ZUluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucG9seWdvblRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS5pbmRleFN0YXJ0cyx0LnZhbHVlPWUuZ2V0KCJpbmRpY2VzIil9fSx7a2V5OiJjYWxjdWxhdGVQb3NpdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUucG9seWdvblRlc3NlbGF0b3I7dC5zdGFydEluZGljZXM9ZS52ZXJ0ZXhTdGFydHMsdC52YWx1ZT1lLmdldCgicG9zaXRpb25zIil9fSx7a2V5OiJjYWxjdWxhdGVWZXJ0ZXhWYWxpZCIsdmFsdWU6ZnVuY3Rpb24odCl7dC52YWx1ZT10aGlzLnN0YXRlLnBvbHlnb25UZXNzZWxhdG9yLmdldCgidmVydGV4VmFsaWQiKX19XSksZX0oYi5hKTtSLmxheWVyTmFtZT0iU29saWRQb2x5Z29uTGF5ZXIiLFIuZGVmYXVsdFByb3BzPUx9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSkodCxlKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMTIwKTtmdW5jdGlvbiBpKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuKGE9aSgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bbnVsbF07aS5wdXNoLmFwcGx5KGksZSk7dmFyIGE9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxpKSk7cmV0dXJuIG4mJk9iamVjdChyLmEpKGEsbi5wcm90b3R5cGUpLGF9KS5hcHBseShudWxsLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTMpLGk9bi5uKHIpLGE9bigxOSksbz1uLm4oYSkscz1uKDIyKSx1PW4oMTExKSxjPW4oOCksbD1uKDEwOCksaD1uKDM0KSxmPU9iamVjdChsLmEpKChmdW5jdGlvbih0KXt2YXIgZT10LnZpZXdwb3J0LG49dC5jZW50ZXI7cmV0dXJuIG5ldyBjLmEoZS52aWV3UHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCkudHJhbnNmb3JtKG4pfSkpLGQ9T2JqZWN0KGwuYSkoKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld3BvcnQsbj10LnNoYWRvd01hdHJpY2VzLHI9W10sYT1lLnBpeGVsVW5wcm9qZWN0aW9uTWF0cml4LHM9ZS5pc0dlb3NwYXRpYWw/dm9pZCAwOjEsdT1bWzAsMCxzXSxbZS53aWR0aCwwLHNdLFswLGUuaGVpZ2h0LHNdLFtlLndpZHRoLGUuaGVpZ2h0LHNdLFswLDAsLTFdLFtlLndpZHRoLDAsLTFdLFswLGUuaGVpZ2h0LC0xXSxbZS53aWR0aCxlLmhlaWdodCwtMV1dLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49bygpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0scz1PYmplY3QoaC5sKShbcixpLGFdLGUpO2lmKE51bWJlci5pc0Zpbml0ZShhKSlyZXR1cm4gcztyZXR1cm5bc1swXSxzWzFdLDBdfSh0LGEpfSkpLGw9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9ZnVuY3Rpb24oKXt2YXIgdD12LnZhbHVlLG49dC5jbG9uZSgpLnRyYW5zbGF0ZShuZXcgYy5kKGUuY2VudGVyKS5uZWdhdGUoKSksYT11Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4udHJhbnNmb3JtKHQpfSkpLG89KG5ldyBjLmEpLm9ydGhvKHtsZWZ0Ok1hdGgubWluLmFwcGx5KE1hdGgsaSgpKGEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSkpLHJpZ2h0Ok1hdGgubWF4LmFwcGx5KE1hdGgsaSgpKGEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSkpLGJvdHRvbTpNYXRoLm1pbi5hcHBseShNYXRoLGkoKShhLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMV19KSkpKSx0b3A6TWF0aC5tYXguYXBwbHkoTWF0aCxpKCkoYS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpKSksbmVhcjpNYXRoLm1pbi5hcHBseShNYXRoLGkoKShhLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuLXRbMl19KSkpKSxmYXI6TWF0aC5tYXguYXBwbHkoTWF0aCxpKCkoYS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybi10WzJdfSkpKSl9KTtyLnB1c2goby5tdWx0aXBseVJpZ2h0KHQpKX0sZz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KHY9Zy5uZXh0KCkpLmRvbmUpO2w9ITApcCgpfWNhdGNoKHQpe2Y9ITAsZD10fWZpbmFsbHl7dHJ5e2x8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBkfX1yZXR1cm4gcn0pKSx2PVswLDAsMCwxXSxwPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwwXTtmdW5jdGlvbiBnKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXtzaGFkb3dfdURyYXdTaGFkb3dNYXA6Qm9vbGVhbih0LmRyYXdUb1NoYWRvd01hcCksc2hhZG93X3VVc2VTaGFkb3dNYXA6ISF0LnNoYWRvd01hcHMmJnQuc2hhZG93TWFwcy5sZW5ndGg+MCxzaGFkb3dfdUNvbG9yOnQuc2hhZG93Q29sb3J8fHYsc2hhZG93X3VMaWdodElkOnQuc2hhZG93TGlnaHRJZHx8MCxzaGFkb3dfdUxpZ2h0Q291bnQ6dC5zaGFkb3dNYXRyaWNlcy5sZW5ndGh9LHI9Zih7dmlld3BvcnQ6dC52aWV3cG9ydCxjZW50ZXI6ZS5wcm9qZWN0X3VDZW50ZXJ9KSxpPVtdLGE9ZCh7c2hhZG93TWF0cmljZXM6dC5zaGFkb3dNYXRyaWNlcyx2aWV3cG9ydDp0LnZpZXdwb3J0fSkuc2xpY2UoKSxvPTA7bzx0LnNoYWRvd01hdHJpY2VzLmxlbmd0aDtvKyspe3ZhciB1PWFbb10sbD11LmNsb25lKCkudHJhbnNsYXRlKG5ldyBjLmQodC52aWV3cG9ydC5jZW50ZXIpLm5lZ2F0ZSgpKTtlLnByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW09PT1zLmEuTE5HTEFUJiZlLnByb2plY3RfdVByb2plY3Rpb25Nb2RlPT09cy5jLldFQl9NRVJDQVRPUj8oYVtvXT1sLGlbb109cik6KGFbb109dS5jbG9uZSgpLm11bHRpcGx5UmlnaHQocCksaVtvXT1sLnRyYW5zZm9ybShyKSl9Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspblsic2hhZG93X3VWaWV3UHJvamVjdGlvbk1hdHJpY2VzWyIuY29uY2F0KGgsIl0iKV09YVtoXSxuWyJzaGFkb3dfdVByb2plY3RDZW50ZXJzWyIuY29uY2F0KGgsIl0iKV09aVtoXSx0LnNoYWRvd01hcHMmJnQuc2hhZG93TWFwcy5sZW5ndGg+MD9uWyJzaGFkb3dfdVNoYWRvd01hcCIuY29uY2F0KGgpXT10LnNoYWRvd01hcHNbaF06blsic2hhZG93X3VTaGFkb3dNYXAiLmNvbmNhdChoKV09dC5kdW1teVNoYWRvd01hcDtyZXR1cm4gbn1lLmE9e25hbWU6InNoYWRvdyIsZGVwZW5kZW5jaWVzOlt1LmFdLHZzOiJcbmNvbnN0IGludCBtYXhfbGlnaHRzID0gMjtcbnVuaWZvcm0gbWF0NCBzaGFkb3dfdVZpZXdQcm9qZWN0aW9uTWF0cmljZXNbbWF4X2xpZ2h0c107XG51bmlmb3JtIHZlYzQgc2hhZG93X3VQcm9qZWN0Q2VudGVyc1ttYXhfbGlnaHRzXTtcbnVuaWZvcm0gYm9vbCBzaGFkb3dfdURyYXdTaGFkb3dNYXA7XG51bmlmb3JtIGJvb2wgc2hhZG93X3VVc2VTaGFkb3dNYXA7XG51bmlmb3JtIGludCBzaGFkb3dfdUxpZ2h0SWQ7XG51bmlmb3JtIGZsb2F0IHNoYWRvd191TGlnaHRDb3VudDtcblxudmFyeWluZyB2ZWMzIHNoYWRvd192UG9zaXRpb25bbWF4X2xpZ2h0c107XG5cbnZlYzQgc2hhZG93X3NldFZlcnRleFBvc2l0aW9uKHZlYzQgcG9zaXRpb25fY29tbW9uc3BhY2UpIHtcbiAgaWYgKHNoYWRvd191RHJhd1NoYWRvd01hcCkge1xuICAgIHJldHVybiBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25fY29tbW9uc3BhY2UsIHNoYWRvd191Vmlld1Byb2plY3Rpb25NYXRyaWNlc1tzaGFkb3dfdUxpZ2h0SWRdLCBzaGFkb3dfdVByb2plY3RDZW50ZXJzW3NoYWRvd191TGlnaHRJZF0pO1xuICB9XG4gIGlmIChzaGFkb3dfdVVzZVNoYWRvd01hcCkge1xuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbWF4X2xpZ2h0czsgaSsrKSB7XG4gICAgICBpZihpIDwgaW50KHNoYWRvd191TGlnaHRDb3VudCkpIHtcbiAgICAgICAgdmVjNCBzaGFkb3dNYXBfcG9zaXRpb24gPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25fY29tbW9uc3BhY2UsIHNoYWRvd191Vmlld1Byb2plY3Rpb25NYXRyaWNlc1tpXSwgc2hhZG93X3VQcm9qZWN0Q2VudGVyc1tpXSk7XG4gICAgICAgIHNoYWRvd192UG9zaXRpb25baV0gPSAoc2hhZG93TWFwX3Bvc2l0aW9uLnh5eiAvIHNoYWRvd01hcF9wb3NpdGlvbi53ICsgMS4wKSAvIDIuMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdsX1Bvc2l0aW9uO1xufVxuIixmczoiXG5jb25zdCBpbnQgbWF4X2xpZ2h0cyA9IDI7XG51bmlmb3JtIGJvb2wgc2hhZG93X3VEcmF3U2hhZG93TWFwO1xudW5pZm9ybSBib29sIHNoYWRvd191VXNlU2hhZG93TWFwO1xudW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3VTaGFkb3dNYXAwO1xudW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3VTaGFkb3dNYXAxO1xudW5pZm9ybSB2ZWM0IHNoYWRvd191Q29sb3I7XG51bmlmb3JtIGZsb2F0IHNoYWRvd191TGlnaHRDb3VudDtcblxudmFyeWluZyB2ZWMzIHNoYWRvd192UG9zaXRpb25bbWF4X2xpZ2h0c107XG5cbmNvbnN0IHZlYzQgYml0UGFja1NoaWZ0ID0gdmVjNCgxLjAsIDI1NS4wLCA2NTAyNS4wLCAxNjU4MTM3NS4wKTtcbmNvbnN0IHZlYzQgYml0VW5wYWNrU2hpZnQgPSAxLjAgLyBiaXRQYWNrU2hpZnQ7XG5jb25zdCB2ZWM0IGJpdE1hc2sgPSB2ZWM0KDEuMCAvIDI1NS4wLCAxLjAgLyAyNTUuMCwgMS4wIC8gMjU1LjAsICAwLjApO1xuXG5mbG9hdCBzaGFkb3dfZ2V0U2hhZG93V2VpZ2h0KHZlYzMgcG9zaXRpb24sIHNhbXBsZXIyRCBzaGFkb3dNYXApIHtcbiAgdmVjNCByZ2JhRGVwdGggPSB0ZXh0dXJlMkQoc2hhZG93TWFwLCBwb3NpdGlvbi54eSk7XG5cbiAgZmxvYXQgeiA9IGRvdChyZ2JhRGVwdGgsIGJpdFVucGFja1NoaWZ0KTtcbiAgcmV0dXJuIHNtb290aHN0ZXAoMC4wMDEsIDAuMDEsIHBvc2l0aW9uLnogLSB6KTtcbn1cblxudmVjNCBzaGFkb3dfZmlsdGVyU2hhZG93Q29sb3IodmVjNCBjb2xvcikge1xuICBpZiAoc2hhZG93X3VEcmF3U2hhZG93TWFwKSB7XG4gICAgdmVjNCByZ2JhRGVwdGggPSBmcmFjdChnbF9GcmFnQ29vcmQueiAqIGJpdFBhY2tTaGlmdCk7XG4gICAgcmdiYURlcHRoIC09IHJnYmFEZXB0aC5nYmFhICogYml0TWFzaztcbiAgICByZXR1cm4gcmdiYURlcHRoO1xuICB9XG4gIGlmIChzaGFkb3dfdVVzZVNoYWRvd01hcCkge1xuICAgIGZsb2F0IHNoYWRvd0FscGhhID0gMC4wO1xuICAgIHNoYWRvd0FscGhhICs9IHNoYWRvd19nZXRTaGFkb3dXZWlnaHQoc2hhZG93X3ZQb3NpdGlvblswXSwgc2hhZG93X3VTaGFkb3dNYXAwKTtcbiAgICBpZihzaGFkb3dfdUxpZ2h0Q291bnQgPiAxLjApIHtcbiAgICAgIHNoYWRvd0FscGhhICs9IHNoYWRvd19nZXRTaGFkb3dXZWlnaHQoc2hhZG93X3ZQb3NpdGlvblsxXSwgc2hhZG93X3VTaGFkb3dNYXAxKTtcbiAgICB9XG4gICAgc2hhZG93QWxwaGEgKj0gc2hhZG93X3VDb2xvci5hIC8gc2hhZG93X3VMaWdodENvdW50O1xuICAgIGZsb2F0IGJsZW5kZWRBbHBoYSA9IHNoYWRvd0FscGhhICsgY29sb3IuYSAqICgxLjAgLSBzaGFkb3dBbHBoYSk7XG5cbiAgICByZXR1cm4gdmVjNChcbiAgICAgIG1peChjb2xvci5yZ2IsIHNoYWRvd191Q29sb3IucmdiLCBzaGFkb3dBbHBoYSAvIGJsZW5kZWRBbHBoYSksXG4gICAgICBibGVuZGVkQWxwaGFcbiAgICApO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbiIsaW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICAgIHBvc2l0aW9uID0gc2hhZG93X3NldFZlcnRleFBvc2l0aW9uKGdlb21ldHJ5LnBvc2l0aW9uKTtcbiAgICAiLCJmczpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgY29sb3IgPSBzaGFkb3dfZmlsdGVyU2hhZG93Q29sb3IoY29sb3IpO1xuICAgICJ9LGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHQuZHJhd1RvU2hhZG93TWFwfHx0LnNoYWRvd01hcHMmJnQuc2hhZG93TWFwcy5sZW5ndGg+MCl7dmFyIG49e30scj10LnNoYWRvd0VuYWJsZWQsaT12b2lkIDA9PT1yfHxyO3JldHVybiBpJiZ0LnNoYWRvd01hdHJpY2VzJiZ0LnNoYWRvd01hdHJpY2VzLmxlbmd0aD4wP09iamVjdC5hc3NpZ24obixnKHQsZSkpOk9iamVjdC5hc3NpZ24obix7c2hhZG93X3VEcmF3U2hhZG93TWFwOiExLHNoYWRvd191VXNlU2hhZG93TWFwOiExfSksbn1yZXR1cm57fX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0pKHQsZSl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigzOSksaT1uKDQ5KSxhPW4oMjIpLG89bigxMDgpLHM9bigyOSksdT1bMCwwLDAsMF0sYz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMF0sbD1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0saD1bMCwwLDBdLGY9WzAsMCwwXSxkPU9iamVjdChvLmEpKChmdW5jdGlvbih0KXt2YXIgZT10LnZpZXdwb3J0LG49dC5kZXZpY2VQaXhlbFJhdGlvLG89dC5jb29yZGluYXRlU3lzdGVtLHM9dC5jb29yZGluYXRlT3JpZ2luLGw9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXQudmlld01hdHJpeFVuY2VudGVyZWQsbz10LnByb2plY3Rpb25NYXRyaXgscz10LnZpZXdNYXRyaXgsbD10LnZpZXdQcm9qZWN0aW9uTWF0cml4LGg9dSxmPXQuY2FtZXJhUG9zaXRpb24sZD12KHQsZSxuKSxwPWQuZ2Vvc3BhdGlhbE9yaWdpbixnPWQuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbjtpZihkLm9mZnNldE1vZGUpe3ZhciB5PXQucHJvamVjdFBvc2l0aW9uKHB8fGcpO2Y9W2ZbMF0teVswXSxmWzFdLXlbMV0sZlsyXS15WzJdXSx5WzNdPTEsaD1pLm4oW10seSxsKSxzPWF8fHMsbD1yLmYoW10sbyxzKSxsPXIuZihbXSxsLGMpfXJldHVybnt2aWV3TWF0cml4OnMsdmlld1Byb2plY3Rpb25NYXRyaXg6bCxwcm9qZWN0aW9uQ2VudGVyOmgsY2FtZXJhUG9zQ29tbW9uOmYsc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbjpnLGdlb3NwYXRpYWxPcmlnaW46cH19KGUsbyxzKSxmPWwucHJvamVjdGlvbkNlbnRlcixkPWwudmlld1Byb2plY3Rpb25NYXRyaXgscD1sLmNhbWVyYVBvc0NvbW1vbixnPWwuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbix5PWwuZ2Vvc3BhdGlhbE9yaWdpbixtPWUuZ2V0RGlzdGFuY2VTY2FsZXMoKSxiPVtlLndpZHRoKm4sZS5oZWlnaHQqbl0sXz17cHJvamVjdF91Q29vcmRpbmF0ZVN5c3RlbTpvLHByb2plY3RfdVByb2plY3Rpb25Nb2RlOmUucHJvamVjdGlvbk1vZGUscHJvamVjdF91Q29vcmRpbmF0ZU9yaWdpbjpnLHByb2plY3RfdUNlbnRlcjpmLHByb2plY3RfdUFudGltZXJpZGlhbjooZS5sb25naXR1ZGV8fDApLTE4MCxwcm9qZWN0X3VWaWV3cG9ydFNpemU6Yixwcm9qZWN0X3VEZXZpY2VQaXhlbFJhdGlvOm4scHJvamVjdF91Rm9jYWxEaXN0YW5jZTplLmZvY2FsRGlzdGFuY2V8fDEscHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlcjptLnVuaXRzUGVyTWV0ZXIscHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ6bS51bml0c1Blck1ldGVyLHByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0MjpoLHByb2plY3RfdVNjYWxlOmUuc2NhbGUscHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXg6ZCxwcm9qZWN0X3VDYW1lcmFQb3NpdGlvbjpwfTtpZih5KXt2YXIgTz1lLmdldERpc3RhbmNlU2NhbGVzKHkpO3N3aXRjaChvKXtjYXNlIGEuYS5NRVRFUl9PRkZTRVRTOl8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ9Ty51bml0c1Blck1ldGVyLF8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyPU8udW5pdHNQZXJNZXRlcjI7YnJlYWs7Y2FzZSBhLmEuTE5HTEFUOmNhc2UgYS5hLkxOR0xBVF9PRkZTRVRTOl8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ9Ty51bml0c1BlckRlZ3JlZSxfLnByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0Mj1PLnVuaXRzUGVyRGVncmVlMjticmVhaztjYXNlIGEuYS5DQVJURVNJQU46Xy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdD1bMSwxLE8udW5pdHNQZXJNZXRlclsyXV0sXy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDI9WzAsMCxPLnVuaXRzUGVyTWV0ZXIyWzJdXX19cmV0dXJuIF99KSk7ZnVuY3Rpb24gdih0LGUpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOmYsaT1yLG89ITA7c3dpdGNoKG49ZT09PWEuYS5MTkdMQVRfT0ZGU0VUU3x8ZT09PWEuYS5NRVRFUl9PRkZTRVRTP3I6dC5pc0dlb3NwYXRpYWw/W01hdGguZnJvdW5kKHQubG9uZ2l0dWRlKSxNYXRoLmZyb3VuZCh0LmxhdGl0dWRlKSwwXTpudWxsLHQucHJvamVjdGlvbk1vZGUpe2Nhc2UgYS5jLldFQl9NRVJDQVRPUjplIT09YS5hLkxOR0xBVCYmZSE9PWEuYS5DQVJURVNJQU58fChvPSExKTticmVhaztjYXNlIGEuYy5XRUJfTUVSQ0FUT1JfQVVUT19PRkZTRVQ6ZT09PWEuYS5MTkdMQVQ/aT1uOmU9PT1hLmEuQ0FSVEVTSUFOJiYoaT1bTWF0aC5mcm91bmQodC5jZW50ZXJbMF0pLE1hdGguZnJvdW5kKHQuY2VudGVyWzFdKSwwXSxuPXQudW5wcm9qZWN0UG9zaXRpb24oaSkpO2JyZWFrO2Nhc2UgYS5jLklERU5USVRZOmk9dC5wb3NpdGlvbi5tYXAoTWF0aC5mcm91bmQpO2JyZWFrO2RlZmF1bHQ6bz0hMX1yZXR1cm4gaVsyXT1pWzJdfHwwLHtnZW9zcGF0aWFsT3JpZ2luOm4sc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbjppLG9mZnNldE1vZGU6b319ZnVuY3Rpb24gcCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQudmlld3BvcnQsbj10LmRldmljZVBpeGVsUmF0aW8scj12b2lkIDA9PT1uPzE6bixpPXQubW9kZWxNYXRyaXgsbz12b2lkIDA9PT1pP251bGw6aSx1PXQuY29vcmRpbmF0ZVN5c3RlbSxjPXZvaWQgMD09PXU/YS5hLkRFRkFVTFQ6dSxoPXQuY29vcmRpbmF0ZU9yaWdpbixmPXQud3JhcExvbmdpdHVkZSx2PXZvaWQgMCE9PWYmJmY7dC5wcm9qZWN0aW9uTW9kZSx0LnBvc2l0aW9uT3JpZ2luO09iamVjdChzLmEpKGUpLGM9PT1hLmEuREVGQVVMVCYmKGM9ZS5pc0dlb3NwYXRpYWw/YS5hLkxOR0xBVDphLmEuQ0FSVEVTSUFOKTt2YXIgcD1kKHt2aWV3cG9ydDplLGRldmljZVBpeGVsUmF0aW86cixjb29yZGluYXRlU3lzdGVtOmMsY29vcmRpbmF0ZU9yaWdpbjpofSk7cmV0dXJuIHAucHJvamVjdF91V3JhcExvbmdpdHVkZT12LHAucHJvamVjdF91TW9kZWxNYXRyaXg9b3x8bCxwfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDI5KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKCkodGhpcyx0KSxPYmplY3Qocy5hKShOdW1iZXIuaXNGaW5pdGUoZS53aWR0aCksImB3aWR0aGAgbXVzdCBiZSBzdXBwbGllZCIpLE9iamVjdChzLmEpKE51bWJlci5pc0Zpbml0ZShlLmhlaWdodCksImBoZWlnaHRgIG11c3QgYmUgc3VwcGxpZWQiKSx0aGlzLl92aWV3cG9ydFByb3BzPXRoaXMuX2FwcGx5Q29uc3RyYWludHMoZSl9cmV0dXJuIG8oKSh0LFt7a2V5OiJnZXRWaWV3cG9ydFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydFByb3BzfX0se2tleToic2hvcnRlc3RQYXRoRnJvbSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJfYXBwbHlDb25zdHJhaW50cyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3KSxvPW4oMTUpLHM9bigxOCksdT1uKDEyMCk7dmFyIGM9bigxMjEpO2Z1bmN0aW9uIGwodCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4obD1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8KG49dCwtMT09PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwobikuaW5kZXhPZigiW25hdGl2ZSBjb2RlXSIpKSlyZXR1cm4gdDt2YXIgbjtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2lmKHZvaWQgMCE9PWUpe2lmKGUuaGFzKHQpKXJldHVybiBlLmdldCh0KTtlLnNldCh0LHIpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gT2JqZWN0KGMuYSkodCxhcmd1bWVudHMsT2JqZWN0KG8uYSkodGhpcykuY29uc3RydWN0b3IpfXJldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QodS5hKShyLHQpfSkodCl9dmFyIGg9bigyMSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIE9iamVjdChzLmEpKGUsdCksT2JqZWN0KGkuYSkoZSxbe2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX0se2tleToiZnJvbSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dGhpcy5jb3B5KHQpOnRoaXMuZnJvbU9iamVjdCh0KX19LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09dFtuK2VdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0byIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzP3RoaXM6T2JqZWN0KGguZikodCk/dGhpcy50b0FycmF5KHQpOnRoaXMudG9PYmplY3QodCl9fSx7a2V5OiJ0b1RhcmdldCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy50byh0KTp0aGlzfX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdFtlK25dPXRoaXNbbl07cmV0dXJuIHR9fSx7a2V5OiJ0b0Zsb2F0MzJBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdFN0cmluZyhoLmIpfX0se2tleToiZm9ybWF0U3RyaW5nIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9IiIsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pZSs9KG4+MD8iLCAiOiIiKStPYmplY3QoaC5lKSh0aGlzW25dLHQpO3JldHVybiIiLmNvbmNhdCh0LnByaW50VHlwZXM/dGhpcy5jb25zdHJ1Y3Rvci5uYW1lOiIiLCJbIikuY29uY2F0KGUsIl0iKX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXR8fHRoaXMubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSlpZighT2JqZWN0KGguZCkodGhpc1tlXSx0W2VdKSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6ImV4YWN0RXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8dGhpcy5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKWlmKHRoaXNbZV0hPT10W2VdKXJldHVybiExO3JldHVybiEwfX0se2tleToibmVnYXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5FTEVNRU5UUzsrK3QpdGhpc1t0XT0tdGhpc1t0XTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWUsZT10LHQ9dGhpcyk7Zm9yKHZhciByPTA7cjx0aGlzLkVMRU1FTlRTOysrcil7dmFyIGk9dFtyXTt0aGlzW3JdPWkrbiooZVtyXS1pKX1yZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibWluIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV09TWF0aC5taW4odFtlXSx0aGlzW2VdKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibWF4Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV09TWF0aC5tYXgodFtlXSx0aGlzW2VdKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiY2xhbXAiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLkVMRU1FTlRTOysrbil0aGlzW25dPU1hdGgubWluKE1hdGgubWF4KHRoaXNbbl0sdFtuXSksZVtuXSk7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXSs9YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic3VidHJhY3QiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPTAsaT1lO3I8aS5sZW5ndGg7cisrKWZvcih2YXIgYT1pW3JdLG89MDtvPHRoaXMuRUxFTUVOVFM7KytvKXRoaXNbb10tPWFbb107cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0aGlzLm11bHRpcGx5KHQpO2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpdGhpc1tlXSo9dDtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic3ViIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdCh0KX19LHtrZXk6InNldFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdPXQ7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImFkZFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdKz10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWJTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZFNjYWxhcigtdCl9fSx7a2V5OiJtdWx0aXBseVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdKj10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJkaXZpZGVTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjYWxlKDEvdCl9fSx7a2V5OiJjbGFtcFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09TWF0aC5taW4oTWF0aC5tYXgodGhpc1tuXSx0KSxlKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlCeVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGUodCl9fSx7a2V5OiJjaGVjayIsdmFsdWU6ZnVuY3Rpb24oKXtpZihoLmIuZGVidWcmJiF0aGlzLnZhbGlkYXRlKHRoaXMpKXRocm93IG5ldyBFcnJvcigibWF0aC5nbDogIi5jb25jYXQodGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCIgc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycyciKSk7cmV0dXJuIHRoaXN9fSx7a2V5OiJ2YWxpZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5sZW5ndGg9PT10aGlzLkVMRU1FTlRTLGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXQ9dCYmTnVtYmVyLmlzRmluaXRlKHRoaXNbZV0pO3JldHVybiB0fX0se2tleToiZWxlbWVudHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX1dKSxlfShsKEFycmF5KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oMTcpLGE9bigxNSksbz1uKDQ3KSxzPW4oNyksdT1uKDE4KSxjPW4oNjYpLGw9big3NiksaD1uKDI4KSxmPSIiO2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gT2JqZWN0KGguYSkoInN0cmluZyI9PXR5cGVvZiB0KSx0PWYrdCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0cnl7dmFyIGk9bmV3IEltYWdlO2kub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIG4oaSl9LGkub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByKG5ldyBFcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2UgIi5jb25jYXQodCwiLiIpKSl9LGkuY3Jvc3NPcmlnaW49ZSYmZS5jcm9zc09yaWdpbnx8ImFub255bW91cyIsaS5zcmM9dH1jYXRjaCh0KXtyKHQpfX0pKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIHY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3QobC5iKSh0KSwocyBpbnN0YW5jZW9mIFByb21pc2V8fCJzdHJpbmciPT10eXBlb2YgcykmJihzPXtkYXRhOnN9KSwic3RyaW5nIj09dHlwZW9mIHMuZGF0YSYmKHM9T2JqZWN0LmFzc2lnbih7fSxzLHtkYXRhOmQocy5kYXRhKX0pKSwobj1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcyx0LE9iamVjdC5hc3NpZ24oe30scyx7dGFyZ2V0OjM1NTN9KSkpKS5pbml0aWFsaXplKHMpLE9iamVjdC5zZWFsKE9iamVjdChvLmEpKG4pKSxufXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChzLmEpKGUsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGMuYS5pc1N1cHBvcnRlZCh0LGUpfX1dKSxlfShjLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB5fSkpO3ZhciByPW4oMjI3KSxpPW4ubihyKSxhPU1hdGguUEkvNCxvPU1hdGguUEkvMzYwO2Z1bmN0aW9uIHModCl7aWYodD10JiZ0LnBvc2l0aW9uc3x8dCwhQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5QnVmZmVyLmlzVmlldyh0KSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcG9seWdvbiIpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubGVuZ3RoPj0xJiZ0WzBdLmxlbmd0aD49MiYmTnVtYmVyLmlzRmluaXRlKHRbMF1bMF0pfWZ1bmN0aW9uIGModCl7dmFyIGU9dFswXSxuPXRbdC5sZW5ndGgtMV07cmV0dXJuIGVbMF09PT1uWzBdJiZlWzFdPT09blsxXSYmZVsyXT09PW5bMl19ZnVuY3Rpb24gbCh0LGUsbixyKXtmb3IodmFyIGk9MDtpPGU7aSsrKWlmKHRbbitpXSE9PXRbci1lK2ldKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGgodCxlLG4scil7Zm9yKHZhciBpPWUsYT1uLmxlbmd0aCxvPTA7bzxhO28rKylmb3IodmFyIHM9MDtzPHI7cysrKXRbaSsrXT1uW29dW3NdfHwwO2lmKCFjKG4pKWZvcih2YXIgdT0wO3U8cjt1KyspdFtpKytdPW5bMF1bdV18fDA7cmV0dXJuIGl9ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MCxhPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwLG89KGE9YXx8bi5sZW5ndGgpLWk7aWYobzw9MClyZXR1cm4gZTtmb3IodmFyIHM9ZSx1PTA7dTxvO3UrKyl0W3MrK109bltpK3VdO2lmKCFsKG4scixpLGEpKWZvcih2YXIgYz0wO2M8cjtjKyspdFtzKytdPW5baStjXTtyZXR1cm4gc31mdW5jdGlvbiBkKHQpe3JldHVybihjKHQpPzA6MSkrdC5sZW5ndGh9ZnVuY3Rpb24gdih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7cmV0dXJuIG4+PShyPXJ8fHQubGVuZ3RoKT8wOihsKHQsZSxuLHIpPzA6MSkrKHItbikvZX1mdW5jdGlvbiBwKHQsZSl7dmFyIG49IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXTtpZighbilyZXR1cm4odD10LnBvc2l0aW9uc3x8dCkubGVuZ3RoL2U7aWYocyh0KSx0LnBvc2l0aW9ucyl7dmFyIHI9dCxpPXIucG9zaXRpb25zLGE9ci5ob2xlSW5kaWNlcztpZihhKXtmb3IodmFyIG89MCxjPTA7Yzw9YS5sZW5ndGg7YysrKW8rPXYodC5wb3NpdGlvbnMsZSxhW2MtMV0sYVtjXSk7cmV0dXJuIG99dD1pfWlmKE51bWJlci5pc0Zpbml0ZSh0WzBdKSlyZXR1cm4gdih0LGUpO2lmKCF1KHQpKXt2YXIgbD0wLGg9ITAsZj0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciBnLHk9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShoPShnPXkubmV4dCgpKS5kb25lKTtoPSEwKXt2YXIgbT1nLnZhbHVlO2wrPWQobSl9fWNhdGNoKHQpe2Y9ITAscD10fWZpbmFsbHl7dHJ5e2h8fG51bGw9PXkucmV0dXJufHx5LnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBwfX1yZXR1cm4gbH1yZXR1cm4gZCh0KX1mdW5jdGlvbiBnKHQsZSxuKXtzKHQpLG49bnx8cCh0LGUpO3ZhciByPW5ldyBGbG9hdDY0QXJyYXkobiplKSxpPVtdO2lmKHQucG9zaXRpb25zKXt2YXIgYT10LG89YS5wb3NpdGlvbnMsYz1hLmhvbGVJbmRpY2VzO2lmKGMpe2Zvcih2YXIgbD0wLGQ9MDtkPD1jLmxlbmd0aDtkKyspbD1mKHIsbCxvLGUsY1tkLTFdLGNbZF0pLGkucHVzaChsKTtyZXR1cm4gaS5wb3AoKSx7cG9zaXRpb25zOnIsaG9sZUluZGljZXM6aX19dD1vfWlmKE51bWJlci5pc0Zpbml0ZSh0WzBdKSlyZXR1cm4gZihyLDAsdCxlKSxyO2lmKCF1KHQpKXt2YXIgdj0wLGc9ITAseT0hMSxtPXZvaWQgMDt0cnl7Zm9yKHZhciBiLF89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShnPShiPV8ubmV4dCgpKS5kb25lKTtnPSEwKXt2PWgocix2LGIudmFsdWUsZSksaS5wdXNoKHYpfX1jYXRjaCh0KXt5PSEwLG09dH1maW5hbGx5e3RyeXtnfHxudWxsPT1fLnJldHVybnx8Xy5yZXR1cm4oKX1maW5hbGx5e2lmKHkpdGhyb3cgbX19cmV0dXJuIGkucG9wKCkse3Bvc2l0aW9uczpyLGhvbGVJbmRpY2VzOml9fXJldHVybiBoKHIsMCx0LGUpLHJ9ZnVuY3Rpb24geSh0LGUsbil7dmFyIHI9bnVsbDt0LmhvbGVJbmRpY2VzJiYocj10LmhvbGVJbmRpY2VzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvZX0pKSk7dmFyIHM9dC5wb3NpdGlvbnN8fHQ7aWYobil7dmFyIHU9cy5sZW5ndGg7cz1zLnNsaWNlKCk7Zm9yKHZhciBjPTA7Yzx1O2MrPWUpe3ZhciBsPXNbYysxXTtzW2MrMV09TWF0aC5sb2coTWF0aC50YW4oYStsKm8pKX19cmV0dXJuIGkoKShzLHIsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxhOwovKioKICogQGxpY2Vuc2UgbG9uZy5qcyAoYykgMjAxMyBEYW5pZWwgV2lydHogPGRjb2RlQGRjb2RlLmlvPgogKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wCiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vbG9uZy5qcyBmb3IgZGV0YWlscwogKi9pPVtdLHZvaWQgMD09PShhPSJmdW5jdGlvbiI9PXR5cGVvZihyPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubG93PTB8dCx0aGlzLmhpZ2g9MHxlLHRoaXMudW5zaWduZWQ9ISFufWZ1bmN0aW9uIGUodCl7cmV0dXJuITA9PT0odCYmdC5fX2lzTG9uZ19fKX10LnByb3RvdHlwZS5fX2lzTG9uZ19fLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiX19pc0xvbmdfXyIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExfSksdC5pc0xvbmc9ZTt2YXIgbj17fSxyPXt9O2Z1bmN0aW9uIGkodCxlKXt2YXIgaSxhLHM7cmV0dXJuIGU/KHM9MDw9KHQ+Pj49MCkmJnQ8MjU2KSYmKGE9clt0XSk/YTooaT1vKHQsKDB8dCk8MD8tMTowLCEwKSxzJiYoclt0XT1pKSxpKToocz0tMTI4PD0odHw9MCkmJnQ8MTI4KSYmKGE9blt0XSk/YTooaT1vKHQsdDwwPy0xOjAsITEpLHMmJihuW3RdPWkpLGkpfWZ1bmN0aW9uIGEodCxlKXtpZihpc05hTih0KXx8IWlzRmluaXRlKHQpKXJldHVybiBlP3A6djtpZihlKXtpZih0PDApcmV0dXJuIHA7aWYodD49aClyZXR1cm4gX31lbHNle2lmKHQ8PS1mKXJldHVybiBPO2lmKHQrMT49ZilyZXR1cm4gYn1yZXR1cm4gdDwwP2EoLXQsZSkubmVnKCk6byh0JWx8MCx0L2x8MCxlKX1mdW5jdGlvbiBvKGUsbixyKXtyZXR1cm4gbmV3IHQoZSxuLHIpfXQuZnJvbUludD1pLHQuZnJvbU51bWJlcj1hLHQuZnJvbUJpdHM9bzt2YXIgcz1NYXRoLnBvdztmdW5jdGlvbiB1KHQsZSxuKXtpZigwPT09dC5sZW5ndGgpdGhyb3cgRXJyb3IoImVtcHR5IHN0cmluZyIpO2lmKCJOYU4iPT09dHx8IkluZmluaXR5Ij09PXR8fCIrSW5maW5pdHkiPT09dHx8Ii1JbmZpbml0eSI9PT10KXJldHVybiB2O2lmKCJudW1iZXIiPT10eXBlb2YgZT8obj1lLGU9ITEpOmU9ISFlLChuPW58fDEwKTwyfHwzNjxuKXRocm93IFJhbmdlRXJyb3IoInJhZGl4Iik7dmFyIHI7aWYoKHI9dC5pbmRleE9mKCItIikpPjApdGhyb3cgRXJyb3IoImludGVyaW9yIGh5cGhlbiIpO2lmKDA9PT1yKXJldHVybiB1KHQuc3Vic3RyaW5nKDEpLGUsbikubmVnKCk7Zm9yKHZhciBpPWEocyhuLDgpKSxvPXYsYz0wO2M8dC5sZW5ndGg7Yys9OCl7dmFyIGw9TWF0aC5taW4oOCx0Lmxlbmd0aC1jKSxoPXBhcnNlSW50KHQuc3Vic3RyaW5nKGMsYytsKSxuKTtpZihsPDgpe3ZhciBmPWEocyhuLGwpKTtvPW8ubXVsKGYpLmFkZChhKGgpKX1lbHNlIG89KG89by5tdWwoaSkpLmFkZChhKGgpKX1yZXR1cm4gby51bnNpZ25lZD1lLG99ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/ZToibnVtYmVyIj09dHlwZW9mIGU/YShlKToic3RyaW5nIj09dHlwZW9mIGU/dShlKTpvKGUubG93LGUuaGlnaCxlLnVuc2lnbmVkKX10LmZyb21TdHJpbmc9dSx0LmZyb21WYWx1ZT1jO3ZhciBsPTQyOTQ5NjcyOTYsaD1sKmwsZj1oLzIsZD1pKDE8PDI0KSx2PWkoMCk7dC5aRVJPPXY7dmFyIHA9aSgwLCEwKTt0LlVaRVJPPXA7dmFyIGc9aSgxKTt0Lk9ORT1nO3ZhciB5PWkoMSwhMCk7dC5VT05FPXk7dmFyIG09aSgtMSk7dC5ORUdfT05FPW07dmFyIGI9bygtMSwyMTQ3NDgzNjQ3LCExKTt0Lk1BWF9WQUxVRT1iO3ZhciBfPW8oLTEsLTEsITApO3QuTUFYX1VOU0lHTkVEX1ZBTFVFPV87dmFyIE89bygwLC0yMTQ3NDgzNjQ4LCExKTt0Lk1JTl9WQUxVRT1PO3ZhciB4PXQucHJvdG90eXBlO3JldHVybiB4LnRvSW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/dGhpcy5sb3c+Pj4wOnRoaXMubG93fSx4LnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/KHRoaXMuaGlnaD4+PjApKmwrKHRoaXMubG93Pj4+MCk6dGhpcy5oaWdoKmwrKHRoaXMubG93Pj4+MCl9LHgudG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYoKHQ9dHx8MTApPDJ8fDM2PHQpdGhyb3cgUmFuZ2VFcnJvcigicmFkaXgiKTtpZih0aGlzLmlzWmVybygpKXJldHVybiIwIjtpZih0aGlzLmlzTmVnYXRpdmUoKSl7aWYodGhpcy5lcShPKSl7dmFyIGU9YSh0KSxuPXRoaXMuZGl2KGUpLHI9bi5tdWwoZSkuc3ViKHRoaXMpO3JldHVybiBuLnRvU3RyaW5nKHQpK3IudG9JbnQoKS50b1N0cmluZyh0KX1yZXR1cm4iLSIrdGhpcy5uZWcoKS50b1N0cmluZyh0KX1mb3IodmFyIGk9YShzKHQsNiksdGhpcy51bnNpZ25lZCksbz10aGlzLHU9IiI7Oyl7dmFyIGM9by5kaXYoaSksbD0oby5zdWIoYy5tdWwoaSkpLnRvSW50KCk+Pj4wKS50b1N0cmluZyh0KTtpZigobz1jKS5pc1plcm8oKSlyZXR1cm4gbCt1O2Zvcig7bC5sZW5ndGg8NjspbD0iMCIrbDt1PSIiK2wrdX19LHguZ2V0SGlnaEJpdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdofSx4LmdldEhpZ2hCaXRzVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoPj4+MH0seC5nZXRMb3dCaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93fSx4LmdldExvd0JpdHNVbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvdz4+PjB9LHguZ2V0TnVtQml0c0Ficz1mdW5jdGlvbigpe2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLmVxKE8pPzY0OnRoaXMubmVnKCkuZ2V0TnVtQml0c0FicygpO2Zvcih2YXIgdD0wIT10aGlzLmhpZ2g/dGhpcy5oaWdoOnRoaXMubG93LGU9MzE7ZT4wJiYwPT0odCYxPDxlKTtlLS0pO3JldHVybiAwIT10aGlzLmhpZ2g/ZSszMzplKzF9LHguaXNaZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmhpZ2gmJjA9PT10aGlzLmxvd30seC5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudW5zaWduZWQmJnRoaXMuaGlnaDwwfSx4LmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZHx8dGhpcy5oaWdoPj0wfSx4LmlzT2RkPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMubG93KX0seC5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KDEmdGhpcy5sb3cpfSx4LmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksKHRoaXMudW5zaWduZWQ9PT10LnVuc2lnbmVkfHx0aGlzLmhpZ2g+Pj4zMSE9MXx8dC5oaWdoPj4+MzEhPTEpJiZ0aGlzLmhpZ2g9PT10LmhpZ2gmJnRoaXMubG93PT09dC5sb3d9LHguZXE9eC5lcXVhbHMseC5ub3RFcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuZXEodCl9LHgubmVxPXgubm90RXF1YWxzLHgubGVzc1RoYW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcCh0KTwwfSx4Lmx0PXgubGVzc1RoYW4seC5sZXNzVGhhbk9yRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcCh0KTw9MH0seC5sdGU9eC5sZXNzVGhhbk9yRXF1YWwseC5ncmVhdGVyVGhhbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wKHQpPjB9LHguZ3Q9eC5ncmVhdGVyVGhhbix4LmdyZWF0ZXJUaGFuT3JFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wKHQpPj0wfSx4Lmd0ZT14LmdyZWF0ZXJUaGFuT3JFcXVhbCx4LmNvbXBhcmU9ZnVuY3Rpb24odCl7aWYoZSh0KXx8KHQ9Yyh0KSksdGhpcy5lcSh0KSlyZXR1cm4gMDt2YXIgbj10aGlzLmlzTmVnYXRpdmUoKSxyPXQuaXNOZWdhdGl2ZSgpO3JldHVybiBuJiYhcj8tMTohbiYmcj8xOnRoaXMudW5zaWduZWQ/dC5oaWdoPj4+MD50aGlzLmhpZ2g+Pj4wfHx0LmhpZ2g9PT10aGlzLmhpZ2gmJnQubG93Pj4+MD50aGlzLmxvdz4+PjA/LTE6MTp0aGlzLnN1Yih0KS5pc05lZ2F0aXZlKCk/LTE6MX0seC5jb21wPXguY29tcGFyZSx4Lm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVuc2lnbmVkJiZ0aGlzLmVxKE8pP086dGhpcy5ub3QoKS5hZGQoZyl9LHgubmVnPXgubmVnYXRlLHguYWRkPWZ1bmN0aW9uKHQpe2UodCl8fCh0PWModCkpO3ZhciBuPXRoaXMuaGlnaD4+PjE2LHI9NjU1MzUmdGhpcy5oaWdoLGk9dGhpcy5sb3c+Pj4xNixhPTY1NTM1JnRoaXMubG93LHM9dC5oaWdoPj4+MTYsdT02NTUzNSZ0LmhpZ2gsbD10Lmxvdz4+PjE2LGg9MCxmPTAsZD0wLHY9MDtyZXR1cm4gZCs9KHYrPWErKDY1NTM1JnQubG93KSk+Pj4xNixmKz0oZCs9aStsKT4+PjE2LGgrPShmKz1yK3UpPj4+MTYsaCs9bitzLG8oKGQmPTY1NTM1KTw8MTZ8KHYmPTY1NTM1KSwoaCY9NjU1MzUpPDwxNnwoZiY9NjU1MzUpLHRoaXMudW5zaWduZWQpfSx4LnN1YnRyYWN0PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSx0aGlzLmFkZCh0Lm5lZygpKX0seC5zdWI9eC5zdWJ0cmFjdCx4Lm11bHRpcGx5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHY7aWYoZSh0KXx8KHQ9Yyh0KSksdC5pc1plcm8oKSlyZXR1cm4gdjtpZih0aGlzLmVxKE8pKXJldHVybiB0LmlzT2RkKCk/Tzp2O2lmKHQuZXEoTykpcmV0dXJuIHRoaXMuaXNPZGQoKT9POnY7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHQuaXNOZWdhdGl2ZSgpP3RoaXMubmVnKCkubXVsKHQubmVnKCkpOnRoaXMubmVnKCkubXVsKHQpLm5lZygpO2lmKHQuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLm11bCh0Lm5lZygpKS5uZWcoKTtpZih0aGlzLmx0KGQpJiZ0Lmx0KGQpKXJldHVybiBhKHRoaXMudG9OdW1iZXIoKSp0LnRvTnVtYmVyKCksdGhpcy51bnNpZ25lZCk7dmFyIG49dGhpcy5oaWdoPj4+MTYscj02NTUzNSZ0aGlzLmhpZ2gsaT10aGlzLmxvdz4+PjE2LHM9NjU1MzUmdGhpcy5sb3csdT10LmhpZ2g+Pj4xNixsPTY1NTM1JnQuaGlnaCxoPXQubG93Pj4+MTYsZj02NTUzNSZ0LmxvdyxwPTAsZz0wLHk9MCxtPTA7cmV0dXJuIHkrPShtKz1zKmYpPj4+MTYsZys9KHkrPWkqZik+Pj4xNix5Jj02NTUzNSxnKz0oeSs9cypoKT4+PjE2LHArPShnKz1yKmYpPj4+MTYsZyY9NjU1MzUscCs9KGcrPWkqaCk+Pj4xNixnJj02NTUzNSxwKz0oZys9cypsKT4+PjE2LHArPW4qZityKmgraSpsK3MqdSxvKCh5Jj02NTUzNSk8PDE2fChtJj02NTUzNSksKHAmPTY1NTM1KTw8MTZ8KGcmPTY1NTM1KSx0aGlzLnVuc2lnbmVkKX0seC5tdWw9eC5tdWx0aXBseSx4LmRpdmlkZT1mdW5jdGlvbih0KXtpZihlKHQpfHwodD1jKHQpKSx0LmlzWmVybygpKXRocm93IEVycm9yKCJkaXZpc2lvbiBieSB6ZXJvIik7aWYodGhpcy5pc1plcm8oKSlyZXR1cm4gdGhpcy51bnNpZ25lZD9wOnY7dmFyIG4scixpO2lmKHRoaXMudW5zaWduZWQpe2lmKHQudW5zaWduZWR8fCh0PXQudG9VbnNpZ25lZCgpKSx0Lmd0KHRoaXMpKXJldHVybiBwO2lmKHQuZ3QodGhpcy5zaHJ1KDEpKSlyZXR1cm4geTtpPXB9ZWxzZXtpZih0aGlzLmVxKE8pKXJldHVybiB0LmVxKGcpfHx0LmVxKG0pP086dC5lcShPKT9nOihuPXRoaXMuc2hyKDEpLmRpdih0KS5zaGwoMSkpLmVxKHYpP3QuaXNOZWdhdGl2ZSgpP2c6bToocj10aGlzLnN1Yih0Lm11bChuKSksaT1uLmFkZChyLmRpdih0KSkpO2lmKHQuZXEoTykpcmV0dXJuIHRoaXMudW5zaWduZWQ/cDp2O2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB0LmlzTmVnYXRpdmUoKT90aGlzLm5lZygpLmRpdih0Lm5lZygpKTp0aGlzLm5lZygpLmRpdih0KS5uZWcoKTtpZih0LmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5kaXYodC5uZWcoKSkubmVnKCk7aT12fWZvcihyPXRoaXM7ci5ndGUodCk7KXtuPU1hdGgubWF4KDEsTWF0aC5mbG9vcihyLnRvTnVtYmVyKCkvdC50b051bWJlcigpKSk7Zm9yKHZhciBvPU1hdGguY2VpbChNYXRoLmxvZyhuKS9NYXRoLkxOMiksdT1vPD00OD8xOnMoMixvLTQ4KSxsPWEobiksaD1sLm11bCh0KTtoLmlzTmVnYXRpdmUoKXx8aC5ndChyKTspaD0obD1hKG4tPXUsdGhpcy51bnNpZ25lZCkpLm11bCh0KTtsLmlzWmVybygpJiYobD1nKSxpPWkuYWRkKGwpLHI9ci5zdWIoaCl9cmV0dXJuIGl9LHguZGl2PXguZGl2aWRlLHgubW9kdWxvPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSx0aGlzLnN1Yih0aGlzLmRpdih0KS5tdWwodCkpfSx4Lm1vZD14Lm1vZHVsbyx4Lm5vdD1mdW5jdGlvbigpe3JldHVybiBvKH50aGlzLmxvdyx+dGhpcy5oaWdoLHRoaXMudW5zaWduZWQpfSx4LmFuZD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksbyh0aGlzLmxvdyZ0Lmxvdyx0aGlzLmhpZ2gmdC5oaWdoLHRoaXMudW5zaWduZWQpfSx4Lm9yPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSxvKHRoaXMubG93fHQubG93LHRoaXMuaGlnaHx0LmhpZ2gsdGhpcy51bnNpZ25lZCl9LHgueG9yPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwodD1jKHQpKSxvKHRoaXMubG93XnQubG93LHRoaXMuaGlnaF50LmhpZ2gsdGhpcy51bnNpZ25lZCl9LHguc2hpZnRMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpJiYodD10LnRvSW50KCkpLDA9PSh0Jj02Myk/dGhpczp0PDMyP28odGhpcy5sb3c8PHQsdGhpcy5oaWdoPDx0fHRoaXMubG93Pj4+MzItdCx0aGlzLnVuc2lnbmVkKTpvKDAsdGhpcy5sb3c8PHQtMzIsdGhpcy51bnNpZ25lZCl9LHguc2hsPXguc2hpZnRMZWZ0LHguc2hpZnRSaWdodD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KSYmKHQ9dC50b0ludCgpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9vKHRoaXMubG93Pj4+dHx0aGlzLmhpZ2g8PDMyLXQsdGhpcy5oaWdoPj50LHRoaXMudW5zaWduZWQpOm8odGhpcy5oaWdoPj50LTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMudW5zaWduZWQpfSx4LnNocj14LnNoaWZ0UmlnaHQseC5zaGlmdFJpZ2h0VW5zaWduZWQ9ZnVuY3Rpb24odCl7aWYoZSh0KSYmKHQ9dC50b0ludCgpKSwwPT0odCY9NjMpKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuaGlnaDtyZXR1cm4gdDwzMj9vKHRoaXMubG93Pj4+dHxuPDwzMi10LG4+Pj50LHRoaXMudW5zaWduZWQpOm8oMzI9PT10P246bj4+PnQtMzIsMCx0aGlzLnVuc2lnbmVkKX0seC5zaHJ1PXguc2hpZnRSaWdodFVuc2lnbmVkLHgudG9TaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD9vKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30seC50b1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/dGhpczpvKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LHgudG9CeXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLnRvQnl0ZXNMRSgpOnRoaXMudG9CeXRlc0JFKCl9LHgudG9CeXRlc0xFPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oaWdoLGU9dGhpcy5sb3c7cmV0dXJuWzI1NSZlLGU+Pj44JjI1NSxlPj4+MTYmMjU1LGU+Pj4yNCYyNTUsMjU1JnQsdD4+PjgmMjU1LHQ+Pj4xNiYyNTUsdD4+PjI0JjI1NV19LHgudG9CeXRlc0JFPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oaWdoLGU9dGhpcy5sb3c7cmV0dXJuW3Q+Pj4yNCYyNTUsdD4+PjE2JjI1NSx0Pj4+OCYyNTUsMjU1JnQsZT4+PjI0JjI1NSxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZV19LHR9KT9yLmFwcGx5KGUsaSk6cil8fCh0LmV4cG9ydHM9YSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgcj1uKDY0KSxpPW4oMjIpLGE9TWF0aC5QSS8xODAsbz1uZXcgRmxvYXQzMkFycmF5KDE2KSxzPW5ldyBGbG9hdDMyQXJyYXkoMTIpO2Z1bmN0aW9uIHUodCxlLG4pe3ZhciByPWVbMF0qYSxpPWVbMV0qYSxvPWVbMl0qYSxzPU1hdGguc2luKG8pLHU9TWF0aC5zaW4ociksYz1NYXRoLnNpbihpKSxsPU1hdGguY29zKG8pLGg9TWF0aC5jb3MociksZj1NYXRoLmNvcyhpKSxkPW5bMF0sdj1uWzFdLHA9blsyXTt0WzBdPWQqZipoLHRbMV09ZCpjKmgsdFsyXT1kKi11LHRbM109diooLWMqbCtmKnUqcyksdFs0XT12KihmKmwrYyp1KnMpLHRbNV09dipoKnMsdFs2XT1wKihjKnMrZip1KmwpLHRbN109cCooLWYqcytjKnUqbCksdFs4XT1wKmgqbH1mdW5jdGlvbiBjKHQpe3JldHVybiB0WzBdPXRbMF0sdFsxXT10WzFdLHRbMl09dFsyXSx0WzNdPXRbNF0sdFs0XT10WzVdLHRbNV09dFs2XSx0WzZdPXRbOF0sdFs3XT10WzldLHRbOF09dFsxMF0sdFs5XT10WzEyXSx0WzEwXT10WzEzXSx0WzExXT10WzE0XSx0LnN1YmFycmF5KDAsMTIpfXZhciBsPXtzaXplOjEyLGFjY2Vzc29yOlsiZ2V0T3JpZW50YXRpb24iLCJnZXRTY2FsZSIsImdldFRyYW5zbGF0aW9uIiwiZ2V0VHJhbnNmb3JtTWF0cml4Il0sc2hhZGVyQXR0cmlidXRlczp7aW5zdGFuY2VNb2RlbE1hdHJpeF9fTE9DQVRJT05fMDp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6MH0saW5zdGFuY2VNb2RlbE1hdHJpeF9fTE9DQVRJT05fMTp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6M30saW5zdGFuY2VNb2RlbE1hdHJpeF9fTE9DQVRJT05fMjp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6Nn0saW5zdGFuY2VUcmFuc2xhdGlvbjp7c2l6ZTozLGVsZW1lbnRPZmZzZXQ6OX19LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuc3RhcnRSb3csaT1lLmVuZFJvdyxhPXRoaXMucHJvcHMsbD1hLmRhdGEsaD1hLmdldE9yaWVudGF0aW9uLGY9YS5nZXRTY2FsZSxkPWEuZ2V0VHJhbnNsYXRpb24sdj1hLmdldFRyYW5zZm9ybU1hdHJpeCxwPUFycmF5LmlzQXJyYXkodiksZz1wJiYxNj09PXYubGVuZ3RoLHk9QXJyYXkuaXNBcnJheShmKSxtPUFycmF5LmlzQXJyYXkoaCksYj1BcnJheS5pc0FycmF5KGQpLF89Z3x8IXAmJkJvb2xlYW4odihsWzBdKSk7dC5jb25zdGFudD1fP2c6bSYmeSYmYjt2YXIgTz10LnZhbHVlO2lmKHQuY29uc3RhbnQpe3ZhciB4O2lmKF8pby5zZXQodikseD1jKG8pO2Vsc2UgdSh4PXMsaCxmKSx4LnNldChkLDkpO3QudmFsdWU9bmV3IEZsb2F0MzJBcnJheSh4KX1lbHNle3ZhciB3PW4qdC5zaXplLGs9T2JqZWN0KHIuYSkobCxuLGkpLFM9ay5pdGVyYWJsZSxQPWsub2JqZWN0SW5mbyxqPSEwLFQ9ITEsRT12b2lkIDA7dHJ5e2Zvcih2YXIgQSxNPVNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaj0oQT1NLm5leHQoKSkuZG9uZSk7aj0hMCl7dmFyIEM9QS52YWx1ZTtQLmluZGV4Kys7dmFyIEw9dm9pZCAwO2lmKF8pby5zZXQoZz92OnYoQyxQKSksTD1jKG8pO2Vsc2UgdShMPXMsbT9oOmgoQyxQKSx5P2Y6ZihDLFApKSxMLnNldChiP2Q6ZChDLFApLDkpO09bdysrXT1MWzBdLE9bdysrXT1MWzFdLE9bdysrXT1MWzJdLE9bdysrXT1MWzNdLE9bdysrXT1MWzRdLE9bdysrXT1MWzVdLE9bdysrXT1MWzZdLE9bdysrXT1MWzddLE9bdysrXT1MWzhdLE9bdysrXT1MWzldLE9bdysrXT1MWzEwXSxPW3crK109TFsxMV19fWNhdGNoKHQpe1Q9ITAsRT10fWZpbmFsbHl7dHJ5e2p8fG51bGw9PU0ucmV0dXJufHxNLnJldHVybigpfWZpbmFsbHl7aWYoVCl0aHJvdyBFfX19fX07ZnVuY3Rpb24gaCh0LGUpe3JldHVybiBlPT09aS5hLkNBUlRFU0lBTnx8ZT09PWkuYS5NRVRFUl9PRkZTRVRTfHxlPT09aS5hLkRFRkFVTFQmJiF0LmlzR2Vvc3BhdGlhbH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyk7ZnVuY3Rpb24gYSgpe3ZhciB0O2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucGVyZm9ybWFuY2UpdD13aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MuaHJ0aW1lKXt2YXIgZT1wcm9jZXNzLmhydGltZSgpO3Q9MWUzKmVbMF0rZVsxXS8xZTZ9ZWxzZSB0PURhdGUubm93KCk7cmV0dXJuIHR9dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7T2JqZWN0KHIuYSkodGhpcyx0KSx0aGlzLm5hbWU9ZSx0aGlzLnR5cGU9bix0aGlzLnNhbXBsZVNpemU9MSx0aGlzLnJlc2V0KCl9cmV0dXJuIE9iamVjdChpLmEpKHQsW3trZXk6InNldFNhbXBsZVNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNhbXBsZVNpemU9dCx0aGlzfX0se2tleToiaW5jcmVtZW50Q291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ291bnQoMSksdGhpc319LHtrZXk6ImRlY3JlbWVudENvdW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnRyYWN0Q291bnQoMSksdGhpc319LHtrZXk6ImFkZENvdW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY291bnQrPXQsdGhpcy5fc2FtcGxlcysrLHRoaXMuX2NoZWNrU2FtcGxpbmcoKSx0aGlzfX0se2tleToic3VidHJhY3RDb3VudCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvdW50LT10LHRoaXMuX3NhbXBsZXMrKyx0aGlzLl9jaGVja1NhbXBsaW5nKCksdGhpc319LHtrZXk6ImFkZFRpbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aW1lKz10LHRoaXMubGFzdFRpbWluZz10LHRoaXMuX3NhbXBsZXMrKyx0aGlzLl9jaGVja1NhbXBsaW5nKCksdGhpc319LHtrZXk6InRpbWVTdGFydCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lPWEoKSx0aGlzLl90aW1lclBlbmRpbmc9ITAsdGhpc319LHtrZXk6InRpbWVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyUGVuZGluZz8odGhpcy5hZGRUaW1lKGEoKS10aGlzLl9zdGFydFRpbWUpLHRoaXMuX3RpbWVyUGVuZGluZz0hMSx0aGlzLl9jaGVja1NhbXBsaW5nKCksdGhpcyk6dGhpc319LHtrZXk6ImdldFNhbXBsZUF2ZXJhZ2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVTaXplPjA/dGhpcy5sYXN0U2FtcGxlQ291bnQvdGhpcy5zYW1wbGVTaXplOjB9fSx7a2V5OiJnZXRTYW1wbGVBdmVyYWdlVGltZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVTaXplPjA/dGhpcy5sYXN0U2FtcGxlVGltZS90aGlzLnNhbXBsZVNpemU6MH19LHtrZXk6ImdldFNhbXBsZUh6Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RTYW1wbGVUaW1lPjA/dGhpcy5zYW1wbGVTaXplLyh0aGlzLmxhc3RTYW1wbGVUaW1lLzFlMyk6MH19LHtrZXk6ImdldEF2ZXJhZ2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW1wbGVzPjA/dGhpcy5jb3VudC90aGlzLnNhbXBsZXM6MH19LHtrZXk6ImdldEF2ZXJhZ2VUaW1lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXM+MD90aGlzLnRpbWUvdGhpcy5zYW1wbGVzOjB9fSx7a2V5OiJnZXRIeiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lPjA/dGhpcy5zYW1wbGVzLyh0aGlzLnRpbWUvMWUzKTowfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZT0wLHRoaXMuY291bnQ9MCx0aGlzLnNhbXBsZXM9MCx0aGlzLmxhc3RUaW1pbmc9MCx0aGlzLmxhc3RTYW1wbGVUaW1lPTAsdGhpcy5sYXN0U2FtcGxlQ291bnQ9MCx0aGlzLl9jb3VudD0wLHRoaXMuX3RpbWU9MCx0aGlzLl9zYW1wbGVzPTAsdGhpcy5fc3RhcnRUaW1lPTAsdGhpcy5fdGltZXJQZW5kaW5nPSExLHRoaXN9fSx7a2V5OiJfY2hlY2tTYW1wbGluZyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zYW1wbGVzPT09dGhpcy5zYW1wbGVTaXplJiYodGhpcy5sYXN0U2FtcGxlVGltZT10aGlzLl90aW1lLHRoaXMubGFzdFNhbXBsZUNvdW50PXRoaXMuX2NvdW50LHRoaXMuY291bnQrPXRoaXMuX2NvdW50LHRoaXMudGltZSs9dGhpcy5fdGltZSx0aGlzLnNhbXBsZXMrPXRoaXMuX3NhbXBsZXMsdGhpcy5fdGltZT0wLHRoaXMuX2NvdW50PTAsdGhpcy5fc2FtcGxlcz0wKX19XSksdH0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLmlkLGk9ZS5zdGF0cztPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMuaWQ9bix0aGlzLnN0YXRzPXt9LHRoaXMuX2luaXRpYWxpemVTdGF0cyhpKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkodCxbe2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImNvdW50IjtyZXR1cm4gdGhpcy5fZ2V0T3JDcmVhdGUoe25hbWU6dCx0eXBlOmV9KX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRzKXRoaXMuc3RhdHNbdF0ucmVzZXQoKTtyZXR1cm4gdGhpc319LHtrZXk6ImZvckVhY2giLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnN0YXRzKXQodGhpcy5zdGF0c1tlXSl9fSx7a2V5OiJnZXRUYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UubmFtZV09e3RpbWU6ZS50aW1lfHwwLGNvdW50OmUuY291bnR8fDAsYXZlcmFnZTplLmdldEF2ZXJhZ2VUaW1lKCl8fDAsaHo6ZS5nZXRIeigpfHwwfX0pKSx0fX0se2tleToiX2luaXRpYWxpemVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2dldE9yQ3JlYXRlKGUpfSkpfX0se2tleToiX2dldE9yQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8IXQubmFtZSlyZXR1cm4gbnVsbDt2YXIgZT10Lm5hbWUsbj10LnR5cGU7cmV0dXJuIHRoaXMuc3RhdHNbZV18fCh0aGlzLnN0YXRzW2VdPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8oZSxuKSksdGhpcy5zdGF0c1tlXX19LHtrZXk6InNpemUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0YXRzKS5sZW5ndGh9fV0pLHR9KCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpfSwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0KzMmLTR9ZnVuY3Rpb24gaSh0LGUsbil7dmFyIHI9bj9uZXcgVWludDhBcnJheSh0KS5zdWJhcnJheShlLGUrbik6bmV3IFVpbnQ4QXJyYXkodCkuc3ViYXJyYXkoZSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpLmJ1ZmZlcn1mdW5jdGlvbiBhKHQsZSxuKXt2YXIgaTtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpaT1uZXcgVWludDhBcnJheSh0KTtlbHNle3ZhciBhPXQuYnl0ZU9mZnNldCxvPXQuYnl0ZUxlbmd0aDtpPW5ldyBVaW50OEFycmF5KHQuYnVmZmVyLGEsbyl9cmV0dXJuIGUuc2V0KGksbiksbityKGkuYnl0ZUxlbmd0aCl9bi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NTtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQuc2xpY2UoMCxlKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIGkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LGUpO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIG49MDtyZXR1cm4gaSh0LG4sZSl9cmV0dXJuIiJ9ZnVuY3Rpb24gaSh0LGUsbil7aWYodC5ieXRlTGVuZ3RoPD1lK24pcmV0dXJuIiI7Zm9yKHZhciByPW5ldyBEYXRhVmlldyh0KSxpPSIiLGE9MDthPG47YSsrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoci5nZXRVaW50OChlK2EpKTtyZXR1cm4gaX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oNikscz1uKDcpLHU9bigxNTQpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUubWF4Q29uY3VycmVuY3kscj12b2lkIDA9PT1uPzU6bixpPWUub25NZXNzYWdlLGE9ZS5vbkRlYnVnLHM9dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtPYmplY3Qoby5hKSh0aGlzLHQpLHRoaXMubWF4Q29uY3VycmVuY3k9cix0aGlzLm9uTWVzc2FnZT1pLHRoaXMub25EZWJ1Zz1zLHRoaXMud29ya2VyUG9vbHM9bmV3IE1hcH12YXIgZTtyZXR1cm4gT2JqZWN0KHMuYSkodCxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFdvcmtlcn19XSksT2JqZWN0KHMuYSkodCxbe2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJtYXhDb25jdXJyZW5jeSJpbiB0JiYodGhpcy5tYXhDb25jdXJyZW5jeT10Lm1heENvbmN1cnJlbmN5KSwib25EZWJ1ZyJpbiB0JiYodGhpcy5vbkRlYnVnPXQub25EZWJ1Zyl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMud29ya2VyUG9vbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSkpfX0se2tleToicHJvY2VzcyIsdmFsdWU6KGU9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBhO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9dGhpcy5fZ2V0V29ya2VyUG9vbChlLG4pLHQuYWJydXB0KCJyZXR1cm4iLGEucHJvY2VzcyhyKSk7Y2FzZSAyOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfZ2V0V29ya2VyUG9vbCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLndvcmtlclBvb2xzLmdldChlKTtyZXR1cm4gbnx8KG49bmV3IHUuYSh7c291cmNlOnQsbmFtZTplLG9uTWVzc2FnZTp0aGlzLm9uTWVzc2FnZSxtYXhDb25jdXJyZW5jeTp0aGlzLm1heENvbmN1cnJlbmN5LG9uRGVidWc6dGhpcy5vbkRlYnVnfSksdGhpcy53b3JrZXJQb29scy5zZXQoZSxuKSksbn19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDQxKSxpPW4ubihyKSxhPW4oNDYpLmIuQ09NUE9ORU5UO2Z1bmN0aW9uIG8odCl7dmFyIGU9ZCh0KTtmb3IodmFyIG4gaW4gZSl7dmFyIHI9ZVtuXSxpPXIudmFsaWRhdGU7aWYoaSYmIWkodFtuXSxyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcHJvcCAiLmNvbmNhdChuLCI6ICIpLmNvbmNhdCh0W25dKSl9fWZ1bmN0aW9uIHModCxlKXt2YXIgbj1jKHtuZXdQcm9wczp0LG9sZFByb3BzOmUscHJvcFR5cGVzOmQodCksaWdub3JlUHJvcHM6e2RhdGE6bnVsbCx1cGRhdGVUcmlnZ2VyczpudWxsLGV4dGVuc2lvbnM6bnVsbCx0cmFuc2l0aW9uczpudWxsfX0pLHI9ZnVuY3Rpb24odCxlKXtpZihudWxsPT09ZSlyZXR1cm4ib2xkUHJvcHMgaXMgbnVsbCwgaW5pdGlhbCBkaWZmIjt2YXIgbj1udWxsLHI9dC5kYXRhQ29tcGFyYXRvcixpPXQuX2RhdGFEaWZmO3I/cih0LmRhdGEsZS5kYXRhKXx8KG49IkRhdGEgY29tcGFyYXRvciBkZXRlY3RlZCBhIGNoYW5nZSIpOnQuZGF0YSE9PWUuZGF0YSYmKG49IkEgbmV3IGRhdGEgY29udGFpbmVyIHdhcyBzdXBwbGllZCIpO24mJmkmJihuPWkodC5kYXRhLGUuZGF0YSl8fG4pO3JldHVybiBufSh0LGUpLGk9ITE7cmV0dXJuIHJ8fChpPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PWUpcmV0dXJuIm9sZFByb3BzIGlzIG51bGwsIGluaXRpYWwgZGlmZiI7aWYoImFsbCJpbiB0LnVwZGF0ZVRyaWdnZXJzKXtpZihmKHQsZSwiYWxsIikpcmV0dXJue2FsbDohMH19dmFyIG49e30scj0hMTtmb3IodmFyIGkgaW4gdC51cGRhdGVUcmlnZ2Vycyl7aWYoImFsbCIhPT1pKWYodCxlLGkpJiYobltpXT0hMCxyPW4pfXJldHVybiByfSh0LGUpKSx7ZGF0YUNoYW5nZWQ6cixwcm9wc0NoYW5nZWQ6bix1cGRhdGVUcmlnZ2Vyc0NoYW5nZWQ6aSxleHRlbnNpb25zQ2hhbmdlZDpoKHQsZSksdHJhbnNpdGlvbnNDaGFuZ2VkOnUodCxlKX19ZnVuY3Rpb24gdSh0LGUpe2lmKCF0LnRyYW5zaXRpb25zKXJldHVybiBudWxsO3ZhciBuPXt9LHI9ZCh0KTtmb3IodmFyIGkgaW4gdC50cmFuc2l0aW9ucyl7dmFyIGE9cltpXSxvPWEmJmEudHlwZTsoIm51bWJlciI9PT1vfHwiY29sb3IiPT09b3x8ImFycmF5Ij09PW8pJiZsKHRbaV0sZVtpXSxhKSYmKG5baV09ITApfXJldHVybiBufWZ1bmN0aW9uIGMoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10Lm5ld1Byb3BzLG49dC5vbGRQcm9wcyxyPXQuaWdub3JlUHJvcHMsYT12b2lkIDA9PT1yP3t9OnIsbz10LnByb3BUeXBlcyxzPXZvaWQgMD09PW8/e306byx1PXQudHJpZ2dlck5hbWUsYz12b2lkIDA9PT11PyJwcm9wcyI6dTtpZihuPT09ZSlyZXR1cm4gbnVsbDtpZigib2JqZWN0IiE9PWkoKShlKXx8bnVsbD09PWUpcmV0dXJuIiIuY29uY2F0KGMsIiBjaGFuZ2VkIHNoYWxsb3dseSIpO2lmKCJvYmplY3QiIT09aSgpKG4pfHxudWxsPT09bilyZXR1cm4iIi5jb25jYXQoYywiIGNoYW5nZWQgc2hhbGxvd2x5Iik7Zm9yKHZhciBoPTAsZj1PYmplY3Qua2V5cyhlKTtoPGYubGVuZ3RoO2grKyl7dmFyIGQ9ZltoXTtpZighKGQgaW4gYSkpe2lmKCEoZCBpbiBuKSlyZXR1cm4iIi5jb25jYXQoYywiLiIpLmNvbmNhdChkLCIgYWRkZWQiKTt2YXIgdj1sKGVbZF0sbltkXSxzW2RdKTtpZih2KXJldHVybiIiLmNvbmNhdChjLCIuIikuY29uY2F0KGQsIiAiKS5jb25jYXQodil9fWZvcih2YXIgcD0wLGc9T2JqZWN0LmtleXMobik7cDxnLmxlbmd0aDtwKyspe3ZhciB5PWdbcF07aWYoISh5IGluIGEpKXtpZighKHkgaW4gZSkpcmV0dXJuIiIuY29uY2F0KGMsIi4iKS5jb25jYXQoeSwiIGRyb3BwZWQiKTtpZighT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSx5KSl7dmFyIG09bChlW3ldLG5beV0sc1t5XSk7aWYobSlyZXR1cm4iIi5jb25jYXQoYywiLiIpLmNvbmNhdCh5LCIgIikuY29uY2F0KG0pfX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9biYmbi5lcXVhbDtyZXR1cm4gciYmIXIodCxlLG4pPyJjaGFuZ2VkIGRlZXBseSI6cnx8IShyPXQmJmUmJnQuZXF1YWxzKXx8ci5jYWxsKHQsZSk/cnx8ZT09PXQ/bnVsbDoiY2hhbmdlZCBzaGFsbG93bHkiOiJjaGFuZ2VkIGRlZXBseSJ9ZnVuY3Rpb24gaCh0LGUpe2lmKG51bGw9PT1lKXJldHVybiJvbGRQcm9wcyBpcyBudWxsLCBpbml0aWFsIGRpZmYiO3ZhciBuPWUuZXh0ZW5zaW9ucyxyPXQuZXh0ZW5zaW9ucztpZihyPT09bilyZXR1cm4hMTtpZihyLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWlmKCFyW2ldLmVxdWFscyhuW2ldKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBmKHQsZSxuKXt2YXIgcj10LnVwZGF0ZVRyaWdnZXJzW25dO3I9bnVsbD09cj97fTpyO3ZhciBpPWUudXBkYXRlVHJpZ2dlcnNbbl07cmV0dXJuIGMoe29sZFByb3BzOmk9bnVsbD09aT97fTppLG5ld1Byb3BzOnIsdHJpZ2dlck5hbWU6bn0pfWZ1bmN0aW9uIGQodCl7dmFyIGU9dFthXSxuPWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIG4/bi5fcHJvcFR5cGVzOnt9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDIzMSksdj1uKDEyNykscD1uKDE0OSksZz1uKDEwOSkseT1uKDEwMiksbT1uKDgpLGI9big0KSxfPW4ubihiKSxPPW4oMTIpLHg9bi5uKE8pLHc9bigxMDEpLGs9bigxMTQpLFM9big4MiksUD1uKDExKTtmdW5jdGlvbiBqKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7dmFyIHIsYSxvO3JldHVybiBpKCkodGhpcyxlKSwobz11KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLHQsbikpKS5zaGFkb3dNYXA9bmV3IHYuYSh0LHt3aWR0aDoxLGhlaWdodDoxLHBhcmFtZXRlcnM6KHI9e30sXygpKHIsMTAyNDEsOTcyOSksXygpKHIsMTAyNDAsOTcyOSksXygpKHIsMTAyNDIsMzMwNzEpLF8oKShyLDEwMjQzLDMzMDcxKSxyKX0pLG8uZGVwdGhCdWZmZXI9bmV3IGsuYSh0LHtmb3JtYXQ6MzMxODksd2lkdGg6MSxoZWlnaHQ6MX0pLG8uZmJvPW5ldyBTLmEodCx7aWQ6InNoYWRvd21hcCIsd2lkdGg6MSxoZWlnaHQ6MSxhdHRhY2htZW50czooYT17fSxfKCkoYSwzNjA2NCxvLnNoYWRvd01hcCksXygpKGEsMzYwOTYsby5kZXB0aEJ1ZmZlciksYSl9KSxvfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dGhpcy5mYm87T2JqZWN0KFAubCkodGhpcy5nbCx7ZGVwdGhSYW5nZTpbMCwxXSxkZXB0aFRlc3Q6ITAsYmxlbmQ6ITEsY2xlYXJDb2xvcjpbMSwxLDEsMV19LChmdW5jdGlvbigpe3ZhciBpPXQudmlld3BvcnRzWzBdLGE9T2JqZWN0KFAuYykobi5nbCksbz1pLndpZHRoKmEscz1pLmhlaWdodCphO289PT1yLndpZHRoJiZzPT09ci5oZWlnaHR8fHIucmVzaXplKHt3aWR0aDpvLGhlaWdodDpzfSkseCgpKGwoKShlLnByb3RvdHlwZSksInJlbmRlciIsbikuY2FsbChuLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ooT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtfKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmooT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHQse3RhcmdldDpyLHBhc3M6InNoYWRvdyJ9KSl9KSl9fSx7a2V5OiJzaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiExIT09dC5wcm9wcy5zaGFkb3dFbmFibGVkfX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57ZHJhd1RvU2hhZG93TWFwOiEwfX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZibyYmKHRoaXMuZmJvLmRlbGV0ZSgpLHRoaXMuZmJvPW51bGwpLHRoaXMuc2hhZG93TWFwJiYodGhpcy5zaGFkb3dNYXAuZGVsZXRlKCksdGhpcy5zaGFkb3dNYXA9bnVsbCksdGhpcy5kZXB0aEJ1ZmZlciYmKHRoaXMuZGVwdGhCdWZmZXIuZGVsZXRlKCksdGhpcy5kZXB0aEJ1ZmZlcj1udWxsKX19XSksZX0ody5hKSxFPW4oMTIyKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSk7dmFyIEE9e2NvbG9yOlsyNTUsMjU1LDI1NV0saW50ZW5zaXR5OjF9LE09W3tjb2xvcjpbMjU1LDI1NSwyNTVdLGludGVuc2l0eToxLGRpcmVjdGlvbjpbLTEsMywtMV19LHtjb2xvcjpbMjU1LDI1NSwyNTVdLGludGVuc2l0eTouOSxkaXJlY3Rpb246WzEsLTgsLTIuNV19XSxDPVswLDAsMCwyMDAvMjU1XSxMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47Zm9yKHZhciByIGluIGkoKSh0aGlzLGUpLChuPXUoKSh0aGlzLGwoKShlKS5jYWxsKHRoaXMsdCkpKS5hbWJpZW50TGlnaHQ9bnVsbCxuLmRpcmVjdGlvbmFsTGlnaHRzPVtdLG4ucG9pbnRMaWdodHM9W10sbi5zaGFkb3dDb2xvcj1DLG4uc2hhZG93UGFzc2VzPVtdLG4uc2hhZG93TWFwcz1bXSxuLmR1bW15U2hhZG93TWFwPW51bGwsbi5zaGFkb3c9ITEsbi5wcm9ncmFtTWFuYWdlcj1udWxsLHQpe3ZhciBhPXRbcl07c3dpdGNoKGEudHlwZSl7Y2FzZSJhbWJpZW50IjpuLmFtYmllbnRMaWdodD1hO2JyZWFrO2Nhc2UiZGlyZWN0aW9uYWwiOm4uZGlyZWN0aW9uYWxMaWdodHMucHVzaChhKTticmVhaztjYXNlInBvaW50IjpuLnBvaW50TGlnaHRzLnB1c2goYSl9fXJldHVybiBuLl9hcHBseURlZmF1bHRMaWdodHMoKSxuLnNoYWRvdz1uLmRpcmVjdGlvbmFsTGlnaHRzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoYWRvd30pKSxufXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToicHJlUmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUubGF5ZXJzLHI9ZS5sYXllckZpbHRlcixpPWUudmlld3BvcnRzLGE9ZS5vblZpZXdwb3J0QWN0aXZlLG89ZS52aWV3cztpZih0aGlzLnNoYWRvdyl7dGhpcy5zaGFkb3dNYXRyaWNlcz10aGlzLl9jcmVhdGVMaWdodE1hdHJpeCgpLDA9PT10aGlzLnNoYWRvd1Bhc3Nlcy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVNoYWRvd1Bhc3Nlcyh0KSx0aGlzLnByb2dyYW1NYW5hZ2VyfHwodGhpcy5wcm9ncmFtTWFuYWdlcj1kLmEuZ2V0RGVmYXVsdFByb2dyYW1NYW5hZ2VyKHQpLEUuYSYmdGhpcy5wcm9ncmFtTWFuYWdlci5hZGREZWZhdWx0TW9kdWxlKEUuYSkpLHRoaXMuZHVtbXlTaGFkb3dNYXB8fCh0aGlzLmR1bW15U2hhZG93TWFwPW5ldyB2LmEodCx7d2lkdGg6MSxoZWlnaHQ6MX0pKTtmb3IodmFyIHM9MDtzPHRoaXMuc2hhZG93UGFzc2VzLmxlbmd0aDtzKyspe3RoaXMuc2hhZG93UGFzc2VzW3NdLnJlbmRlcih7bGF5ZXJzOm4sbGF5ZXJGaWx0ZXI6cix2aWV3cG9ydHM6aSxvblZpZXdwb3J0QWN0aXZlOmEsdmlld3M6byxtb2R1bGVQYXJhbWV0ZXJzOntzaGFkb3dMaWdodElkOnMsZHVtbXlTaGFkb3dNYXA6dGhpcy5kdW1teVNoYWRvd01hcCxzaGFkb3dNYXRyaWNlczp0aGlzLnNoYWRvd01hdHJpY2VzfX0pfX19fSx7a2V5OiJnZXRNb2R1bGVQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYWRvdz97c2hhZG93TWFwczp0aGlzLnNoYWRvd01hcHMsZHVtbXlTaGFkb3dNYXA6dGhpcy5kdW1teVNoYWRvd01hcCxzaGFkb3dDb2xvcjp0aGlzLnNoYWRvd0NvbG9yLHNoYWRvd01hdHJpY2VzOnRoaXMuc2hhZG93TWF0cmljZXN9Ont9O3JldHVybiBlLmxpZ2h0U291cmNlcz17YW1iaWVudExpZ2h0OnRoaXMuYW1iaWVudExpZ2h0LGRpcmVjdGlvbmFsTGlnaHRzOnRoaXMuZGlyZWN0aW9uYWxMaWdodHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQcm9qZWN0ZWRMaWdodCh7bGF5ZXI6dH0pfSkpLHBvaW50TGlnaHRzOnRoaXMucG9pbnRMaWdodHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQcm9qZWN0ZWRMaWdodCh7bGF5ZXI6dH0pfSkpfSxlfX0se2tleToiY2xlYW51cCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hMCxlPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnNoYWRvd1Bhc3Nlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWkubmV4dCgpKS5kb25lKTt0PSEwKXtyLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dGhpcy5zaGFkb3dQYXNzZXMubGVuZ3RoPTAsdGhpcy5zaGFkb3dNYXBzLmxlbmd0aD0wLHRoaXMuZHVtbXlTaGFkb3dNYXAmJih0aGlzLmR1bW15U2hhZG93TWFwLmRlbGV0ZSgpLHRoaXMuZHVtbXlTaGFkb3dNYXA9bnVsbCksdGhpcy5zaGFkb3cmJnRoaXMucHJvZ3JhbU1hbmFnZXImJih0aGlzLnByb2dyYW1NYW5hZ2VyLnJlbW92ZURlZmF1bHRNb2R1bGUoRS5hKSx0aGlzLnByb2dyYW1NYW5hZ2VyPW51bGwpfX0se2tleToiX2NyZWF0ZUxpZ2h0TWF0cml4Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVtdLGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dGhpcy5kaXJlY3Rpb25hbExpZ2h0c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1pLnZhbHVlLHM9KG5ldyBtLmEpLmxvb2tBdCh7ZXllOm5ldyBtLmQoby5kaXJlY3Rpb24pLm5lZ2F0ZSgpfSk7dC5wdXNoKHMpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19cmV0dXJuIHR9fSx7a2V5OiJfY3JlYXRlU2hhZG93UGFzc2VzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuZGlyZWN0aW9uYWxMaWdodHMubGVuZ3RoO2UrKyl7dmFyIG49bmV3IFQodCk7dGhpcy5zaGFkb3dQYXNzZXNbZV09bix0aGlzLnNoYWRvd01hcHNbZV09bi5zaGFkb3dNYXB9fX0se2tleToiX2FwcGx5RGVmYXVsdExpZ2h0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFtYmllbnRMaWdodCxlPXRoaXMucG9pbnRMaWdodHMsbj10aGlzLmRpcmVjdGlvbmFsTGlnaHRzO3R8fDAhPT1lLmxlbmd0aHx8MCE9PW4ubGVuZ3RofHwodGhpcy5hbWJpZW50TGlnaHQ9bmV3IHAuYShBKSx0aGlzLmRpcmVjdGlvbmFsTGlnaHRzLnB1c2gobmV3IGcuYShNWzBdKSxuZXcgZy5hKE1bMV0pKSl9fV0pLGV9KHkuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGkodCl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PT1yKFN5bWJvbC5pdGVyYXRvcik/ZnVuY3Rpb24odCl7cmV0dXJuIHIodCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjpyKHQpfSkodCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMTYpO2Z1bmN0aW9uIGkodCxlLG4pe3JldHVybiB0WzBdPWVbMF0qbix0WzFdPWVbMV0qbix0WzJdPWVbMl0qbix0WzNdPWVbM10qbix0fWZ1bmN0aW9uIGEodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM107cmV0dXJuIHRbMF09blswXSpyK25bNF0qaStuWzhdKmErblsxMl0qbyx0WzFdPW5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKm8sdFsyXT1uWzJdKnIrbls2XSppK25bMTBdKmErblsxNF0qbyx0WzNdPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XSpvLHR9dmFyIG8scztvPW5ldyByLmEoNCksci5hIT1GbG9hdDMyQXJyYXkmJihvWzBdPTAsb1sxXT0wLG9bMl09MCxvWzNdPTApLHM9b30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTkpLGk9bi5uKHIpLGE9bigyMiksbz1uKDEyNCkscz1uKDQ5KSx1PW4oMzYpLGM9bigzNCk7ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scj1pKCkodCwzKSxhPXJbMF0sbz1yWzFdLHM9clsyXSx1PXZvaWQgMD09PXM/MDpzLGM9ZS5wcm9qZWN0RmxhdCh0KSxsPWkoKShjLDIpLGg9bFswXSxmPWxbMV0sZD1lLmdldERpc3RhbmNlU2NhbGVzKG4mJlthLG9dKSx2PXUqZC51bml0c1Blck1ldGVyWzJdO3JldHVybltoLGYsdl19ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPWUudmlld3BvcnQscj1lLm1vZGVsTWF0cml4LG89ZS5jb29yZGluYXRlU3lzdGVtLHU9ZS5jb29yZGluYXRlT3JpZ2luLGg9ZS5vZmZzZXRNb2RlLGY9aSgpKHQsMyksZD1mWzBdLHY9ZlsxXSxwPWZbMl07aWYocil7dmFyIGc9cy5uKFtdLFtkLHYscCwxXSxyKSx5PWkoKShnLDMpO2Q9eVswXSx2PXlbMV0scD15WzJdfXN3aXRjaChvKXtjYXNlIGEuYS5MTkdMQVQ6cmV0dXJuIGwoW2QsdixwXSxuLGgpO2Nhc2UgYS5hLkxOR0xBVF9PRkZTRVRTOnJldHVybiBsKFtkK3VbMF0sdit1WzFdLHArKHVbMl18fDApXSxuLGgpO2Nhc2UgYS5hLk1FVEVSX09GRlNFVFM6cmV0dXJuIGwoT2JqZWN0KGMuYSkodSxbZCx2LHBdKSxuLGgpO2Nhc2UgYS5hLkNBUlRFU0lBTjpkZWZhdWx0OnJldHVybiBuLmlzR2Vvc3BhdGlhbD9bZCx2LHBdOm4ucHJvamVjdFBvc2l0aW9uKFtkLHYscF0pfX1mdW5jdGlvbiBmKHQsZSl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmFzc2lnbih7fSx0KSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQudmlld3BvcnQsaT10LmNvb3JkaW5hdGVPcmlnaW4sbz10LmZyb21Db29yZGluYXRlU3lzdGVtLHM9dC5mcm9tQ29vcmRpbmF0ZU9yaWdpbjtyZXR1cm4gbj09PWEuYS5ERUZBVUxUJiYobj1yLmlzR2Vvc3BhdGlhbD9hLmEuTE5HTEFUOmEuYS5DQVJURVNJQU4pLHZvaWQgMD09PW8mJihlLmZyb21Db29yZGluYXRlU3lzdGVtPW4pLHZvaWQgMD09PXMmJihlLmZyb21Db29yZGluYXRlT3JpZ2luPWkpLGUuY29vcmRpbmF0ZVN5c3RlbT1uLGV9KGUpLHI9bi52aWV3cG9ydCxpPW4uY29vcmRpbmF0ZVN5c3RlbSxzPW4uY29vcmRpbmF0ZU9yaWdpbixjPW4ubW9kZWxNYXRyaXgsbD1uLmZyb21Db29yZGluYXRlU3lzdGVtLGY9bi5mcm9tQ29vcmRpbmF0ZU9yaWdpbixkPU9iamVjdChvLmEpKHIsaSxzKSx2PWQuZ2Vvc3BhdGlhbE9yaWdpbixwPWQuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbixnPWQub2Zmc2V0TW9kZSx5PWgodCx7dmlld3BvcnQ6cixtb2RlbE1hdHJpeDpjLGNvb3JkaW5hdGVTeXN0ZW06bCxjb29yZGluYXRlT3JpZ2luOmYsb2Zmc2V0TW9kZTpnfSk7aWYoZyl7dmFyIG09ci5wcm9qZWN0UG9zaXRpb24odnx8cCk7dS5sKHkseSxtKX1yZXR1cm4geX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9IiNpZiAoZGVmaW5lZChTSEFERVJfVFlQRV9GUkFHTUVOVCkgJiYgZGVmaW5lZChMSUdIVElOR19GUkFHTUVOVCkpIHx8IChkZWZpbmVkKFNIQURFUl9UWVBFX1ZFUlRFWCkgJiYgZGVmaW5lZChMSUdIVElOR19WRVJURVgpKVxuXG5zdHJ1Y3QgQW1iaWVudExpZ2h0IHtcbiB2ZWMzIGNvbG9yO1xufTtcblxuc3RydWN0IFBvaW50TGlnaHQge1xuIHZlYzMgY29sb3I7XG4gdmVjMyBwb3NpdGlvbjtcbiB2ZWMzIGF0dGVudWF0aW9uO1xufTtcblxuc3RydWN0IERpcmVjdGlvbmFsTGlnaHQge1xuICB2ZWMzIGNvbG9yO1xuICB2ZWMzIGRpcmVjdGlvbjtcbn07XG5cbnVuaWZvcm0gQW1iaWVudExpZ2h0IGxpZ2h0aW5nX3VBbWJpZW50TGlnaHQ7XG51bmlmb3JtIFBvaW50TGlnaHQgbGlnaHRpbmdfdVBvaW50TGlnaHRbTUFYX0xJR0hUU107XG51bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbTUFYX0xJR0hUU107XG51bmlmb3JtIGludCBsaWdodGluZ191UG9pbnRMaWdodENvdW50O1xudW5pZm9ybSBpbnQgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudDtcblxudW5pZm9ybSBib29sIGxpZ2h0aW5nX3VFbmFibGVkO1xuXG5mbG9hdCBnZXRQb2ludExpZ2h0QXR0ZW51YXRpb24oUG9pbnRMaWdodCBwb2ludExpZ2h0LCBmbG9hdCBkaXN0YW5jZSkge1xuICByZXR1cm4gcG9pbnRMaWdodC5hdHRlbnVhdGlvbi54XG4gICAgICAgKyBwb2ludExpZ2h0LmF0dGVudWF0aW9uLnkgKiBkaXN0YW5jZVxuICAgICAgICsgcG9pbnRMaWdodC5hdHRlbnVhdGlvbi56ICogZGlzdGFuY2UgKiBkaXN0YW5jZTtcbn1cblxuI2VuZGlmXG4iLGk9KGUuYT17bmFtZToibGlnaHRzIix2czpyLGZzOnIsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTppO2lmKCJsaWdodFNvdXJjZXMiaW4gZSl7dmFyIG49ZS5saWdodFNvdXJjZXN8fHt9LHI9bi5hbWJpZW50TGlnaHQsYT1uLnBvaW50TGlnaHRzLHM9bi5kaXJlY3Rpb25hbExpZ2h0cyx1PXJ8fGEmJmEubGVuZ3RoPjB8fHMmJnMubGVuZ3RoPjA7cmV0dXJuIHU/T2JqZWN0LmFzc2lnbih7fSxvKHthbWJpZW50TGlnaHQ6cixwb2ludExpZ2h0czphLGRpcmVjdGlvbmFsTGlnaHRzOnN9KSx7bGlnaHRpbmdfdUVuYWJsZWQ6ITB9KTp7bGlnaHRpbmdfdUVuYWJsZWQ6ITF9fWlmKCJsaWdodHMiaW4gZSl7dmFyIGM9e3BvaW50TGlnaHRzOltdLGRpcmVjdGlvbmFsTGlnaHRzOltdfSxsPSEwLGg9ITEsZj12b2lkIDA7dHJ5e2Zvcih2YXIgZCx2PShlLmxpZ2h0c3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWU7c3dpdGNoKHAudHlwZSl7Y2FzZSJhbWJpZW50IjpjLmFtYmllbnRMaWdodD1wO2JyZWFrO2Nhc2UiZGlyZWN0aW9uYWwiOmMuZGlyZWN0aW9uYWxMaWdodHMucHVzaChwKTticmVhaztjYXNlInBvaW50IjpjLnBvaW50TGlnaHRzLnB1c2gocCl9fX1jYXRjaCh0KXtoPSEwLGY9dH1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19cmV0dXJuIHQoe2xpZ2h0U291cmNlczpjfSl9cmV0dXJue319LGRlZmluZXM6e01BWF9MSUdIVFM6M319LHt9KTtmdW5jdGlvbiBhKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5jb2xvcixuPXZvaWQgMD09PWU/WzAsMCwwXTplLHI9dC5pbnRlbnNpdHksaT12b2lkIDA9PT1yPzE6cjtyZXR1cm4gbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0KmkvMjU1fSkpfWZ1bmN0aW9uIG8odCl7dmFyIGU9dC5hbWJpZW50TGlnaHQsbj10LnBvaW50TGlnaHRzLHI9dm9pZCAwPT09bj9bXTpuLGk9dC5kaXJlY3Rpb25hbExpZ2h0cyxvPXZvaWQgMD09PWk/W106aSxzPXt9O3JldHVybiBzWyJsaWdodGluZ191QW1iaWVudExpZ2h0LmNvbG9yIl09ZT9hKGUpOlswLDAsMF0sci5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3NbImxpZ2h0aW5nX3VQb2ludExpZ2h0WyIuY29uY2F0KGUsIl0uY29sb3IiKV09YSh0KSxzWyJsaWdodGluZ191UG9pbnRMaWdodFsiLmNvbmNhdChlLCJdLnBvc2l0aW9uIildPXQucG9zaXRpb24sc1sibGlnaHRpbmdfdVBvaW50TGlnaHRbIi5jb25jYXQoZSwiXS5hdHRlbnVhdGlvbiIpXT10LmF0dGVudWF0aW9ufHxbMSwwLDBdfSkpLHMubGlnaHRpbmdfdVBvaW50TGlnaHRDb3VudD1yLmxlbmd0aCxvLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7c1sibGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbIi5jb25jYXQoZSwiXS5jb2xvciIpXT1hKHQpLHNbImxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0WyIuY29uY2F0KGUsIl0uZGlyZWN0aW9uIildPXQuZGlyZWN0aW9ufSkpLHMubGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudD1vLmxlbmd0aCxzfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9big2KSxpPW4oNyksYT1uKDExKSxvPW4oMTMxKSxzPW4oMzUpLHU9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdChyLmEpKHRoaXMsdCksdGhpcy5zdGF0cz1uZXcgTWFwfXJldHVybiBPYmplY3QoaS5hKSh0LFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRzLmhhcyh0KXx8dGhpcy5zdGF0cy5zZXQodCxuZXcgby5hKHtpZDp0fSkpLHRoaXMuc3RhdHMuZ2V0KHQpfX1dKSx0fSgpKTtpZihzLmdsb2JhbC5sdW1hJiYiOC4xLjIiIT09cy5nbG9iYWwubHVtYS5WRVJTSU9OKXRocm93IG5ldyBFcnJvcigibHVtYS5nbCAtIG11bHRpcGxlIFZFUlNJT05zIGRldGVjdGVkOiAiLmNvbmNhdChzLmdsb2JhbC5sdW1hLlZFUlNJT04sIiB2cyAiKS5jb25jYXQoIjguMS4yIikpO3MuZ2xvYmFsLmx1bWF8fChPYmplY3Qocy5pc0Jyb3dzZXIpKCkmJmEuaC5sb2coMSwibHVtYS5nbCAiLmNvbmNhdCgiOC4xLjIiLCIgLSAiKS5jb25jYXQoInNldCBsdW1hLmxvZy5sZXZlbD0xIChvciBoaWdoZXIpIHRvIHRyYWNlIHJlbmRlcmluZyIpKSgpLHMuZ2xvYmFsLmx1bWE9cy5nbG9iYWwubHVtYXx8e1ZFUlNJT046IjguMS4yIix2ZXJzaW9uOiI4LjEuMiIsbG9nOmEuaCxzdGF0czp1LGdsb2JhbHM6e21vZHVsZXM6e30sbm9kZUlPOnt9fX0pO3MuZ2xvYmFsLmx1bWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcjsKLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjIKICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby8KICoKICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjsKICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovIWZ1bmN0aW9uKGksYSxvLHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdSxjPVsiIiwid2Via2l0IiwiTW96IiwiTVMiLCJtcyIsIm8iXSxsPWEuY3JlYXRlRWxlbWVudCgiZGl2IiksaD1NYXRoLnJvdW5kLGY9TWF0aC5hYnMsZD1EYXRlLm5vdztmdW5jdGlvbiB2KHQsZSxuKXtyZXR1cm4gc2V0VGltZW91dChPKHQsbiksZSl9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuISFBcnJheS5pc0FycmF5KHQpJiYoZyh0LG5bZV0sbiksITApfWZ1bmN0aW9uIGcodCxlLG4pe3ZhciByO2lmKHQpaWYodC5mb3JFYWNoKXQuZm9yRWFjaChlLG4pO2Vsc2UgaWYodm9pZCAwIT09dC5sZW5ndGgpZm9yKHI9MDtyPHQubGVuZ3RoOyllLmNhbGwobix0W3JdLHIsdCkscisrO2Vsc2UgZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZlLmNhbGwobix0W3JdLHIsdCl9ZnVuY3Rpb24geSh0LGUsbil7dmFyIHI9IkRFUFJFQ0FURUQgTUVUSE9EOiAiK2UrIlxuIituKyIgQVQgXG4iO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPW5ldyBFcnJvcigiZ2V0LXN0YWNrLXRyYWNlIiksbj1lJiZlLnN0YWNrP2Uuc3RhY2sucmVwbGFjZSgvXlteXChdKz9bXG4kXS9nbSwiIikucmVwbGFjZSgvXlxzK2F0XHMrL2dtLCIiKS5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XHMqXCgvZ20sInthbm9ueW1vdXN9KClAIik6IlVua25vd24gU3RhY2sgVHJhY2UiLGE9aS5jb25zb2xlJiYoaS5jb25zb2xlLndhcm58fGkuY29uc29sZS5sb2cpO3JldHVybiBhJiZhLmNhbGwoaS5jb25zb2xlLHIsbiksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXU9ImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24/ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QiKTtmb3IodmFyIGU9T2JqZWN0KHQpLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1hcmd1bWVudHNbbl07aWYobnVsbCE9cilmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYoZVtpXT1yW2ldKX1yZXR1cm4gZX06T2JqZWN0LmFzc2lnbjt2YXIgbT15KChmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPU9iamVjdC5rZXlzKGUpLGk9MDtpPHIubGVuZ3RoOykoIW58fG4mJnZvaWQgMD09PXRbcltpXV0pJiYodFtyW2ldXT1lW3JbaV1dKSxpKys7cmV0dXJuIHR9KSwiZXh0ZW5kIiwiVXNlIGBhc3NpZ25gLiIpLGI9eSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbSh0LGUsITApfSksIm1lcmdlIiwiVXNlIGBhc3NpZ25gLiIpO2Z1bmN0aW9uIF8odCxlLG4pe3ZhciByLGk9ZS5wcm90b3R5cGU7KHI9dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpKSkuY29uc3RydWN0b3I9dCxyLl9zdXBlcj1pLG4mJnUocixuKX1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dC5hcHBseShlJiZlWzBdfHx2b2lkIDAsZSk6dH1mdW5jdGlvbiB3KHQsZSl7cmV0dXJuIHZvaWQgMD09PXQ/ZTp0fWZ1bmN0aW9uIGsodCxlLG4pe2coVChlKSwoZnVuY3Rpb24oZSl7dC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSl9KSl9ZnVuY3Rpb24gUyh0LGUsbil7ZyhUKGUpLChmdW5jdGlvbihlKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCExKX0pKX1mdW5jdGlvbiBQKHQsZSl7Zm9yKDt0Oyl7aWYodD09ZSlyZXR1cm4hMDt0PXQucGFyZW50Tm9kZX1yZXR1cm4hMX1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKT4tMX1mdW5jdGlvbiBUKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXHMrL2cpfWZ1bmN0aW9uIEUodCxlLG4pe2lmKHQuaW5kZXhPZiYmIW4pcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOyl7aWYobiYmdFtyXVtuXT09ZXx8IW4mJnRbcl09PT1lKXJldHVybiByO3IrK31yZXR1cm4tMX1mdW5jdGlvbiBBKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDApfWZ1bmN0aW9uIE0odCxlLG4pe2Zvcih2YXIgcj1bXSxpPVtdLGE9MDthPHQubGVuZ3RoOyl7dmFyIG89ZT90W2FdW2VdOnRbYV07RShpLG8pPDAmJnIucHVzaCh0W2FdKSxpW2FdPW8sYSsrfXJldHVybiBuJiYocj1lP3Iuc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtlXT5uW2VdfSkpOnIuc29ydCgpKSxyfWZ1bmN0aW9uIEModCxlKXtmb3IodmFyIG4scixpPWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLGE9MDthPGMubGVuZ3RoOyl7aWYoKHI9KG49Y1thXSk/bitpOmUpaW4gdClyZXR1cm4gcjthKyt9fXZhciBMPTE7ZnVuY3Rpb24gSSh0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnR8fHQ7cmV0dXJuIGUuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93fHxpfXZhciBSPSJvbnRvdWNoc3RhcnQiaW4gaSxOPXZvaWQgMCE9PUMoaSwiUG9pbnRlckV2ZW50IiksRD1SJiYvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxGPVsieCIsInkiXSx6PVsiY2xpZW50WCIsImNsaWVudFkiXTtmdW5jdGlvbiBCKHQsZSl7dmFyIG49dGhpczt0aGlzLm1hbmFnZXI9dCx0aGlzLmNhbGxiYWNrPWUsdGhpcy5lbGVtZW50PXQuZWxlbWVudCx0aGlzLnRhcmdldD10Lm9wdGlvbnMuaW5wdXRUYXJnZXQsdGhpcy5kb21IYW5kbGVyPWZ1bmN0aW9uKGUpe3godC5vcHRpb25zLmVuYWJsZSxbdF0pJiZuLmhhbmRsZXIoZSl9LHRoaXMuaW5pdCgpfWZ1bmN0aW9uIFUodCxlLG4pe3ZhciByPW4ucG9pbnRlcnMubGVuZ3RoLGk9bi5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoLGE9MSZlJiZyLWk9PTAsbz0xMiZlJiZyLWk9PTA7bi5pc0ZpcnN0PSEhYSxuLmlzRmluYWw9ISFvLGEmJih0LnNlc3Npb249e30pLG4uZXZlbnRUeXBlPWUsZnVuY3Rpb24odCxlKXt2YXIgbj10LnNlc3Npb24scj1lLnBvaW50ZXJzLGk9ci5sZW5ndGg7bi5maXJzdElucHV0fHwobi5maXJzdElucHV0PVYoZSkpO2k+MSYmIW4uZmlyc3RNdWx0aXBsZT9uLmZpcnN0TXVsdGlwbGU9VihlKToxPT09aSYmKG4uZmlyc3RNdWx0aXBsZT0hMSk7dmFyIGE9bi5maXJzdElucHV0LG89bi5maXJzdE11bHRpcGxlLHM9bz9vLmNlbnRlcjphLmNlbnRlcix1PWUuY2VudGVyPUcocik7ZS50aW1lU3RhbXA9ZCgpLGUuZGVsdGFUaW1lPWUudGltZVN0YW1wLWEudGltZVN0YW1wLGUuYW5nbGU9WChzLHUpLGUuZGlzdGFuY2U9cShzLHUpLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jZW50ZXIscj10Lm9mZnNldERlbHRhfHx7fSxpPXQucHJldkRlbHRhfHx7fSxhPXQucHJldklucHV0fHx7fTsxIT09ZS5ldmVudFR5cGUmJjQhPT1hLmV2ZW50VHlwZXx8KGk9dC5wcmV2RGVsdGE9e3g6YS5kZWx0YVh8fDAseTphLmRlbHRhWXx8MH0scj10Lm9mZnNldERlbHRhPXt4Om4ueCx5Om4ueX0pO2UuZGVsdGFYPWkueCsobi54LXIueCksZS5kZWx0YVk9aS55KyhuLnktci55KX0obixlKSxlLm9mZnNldERpcmVjdGlvbj1IKGUuZGVsdGFYLGUuZGVsdGFZKTt2YXIgYz1XKGUuZGVsdGFUaW1lLGUuZGVsdGFYLGUuZGVsdGFZKTtlLm92ZXJhbGxWZWxvY2l0eVg9Yy54LGUub3ZlcmFsbFZlbG9jaXR5WT1jLnksZS5vdmVyYWxsVmVsb2NpdHk9ZihjLngpPmYoYy55KT9jLng6Yy55LGUuc2NhbGU9bz8obD1vLnBvaW50ZXJzLGg9cixxKGhbMF0saFsxXSx6KS9xKGxbMF0sbFsxXSx6KSk6MSxlLnJvdGF0aW9uPW8/ZnVuY3Rpb24odCxlKXtyZXR1cm4gWChlWzFdLGVbMF0seikrWCh0WzFdLHRbMF0seil9KG8ucG9pbnRlcnMscik6MCxlLm1heFBvaW50ZXJzPW4ucHJldklucHV0P2UucG9pbnRlcnMubGVuZ3RoPm4ucHJldklucHV0Lm1heFBvaW50ZXJzP2UucG9pbnRlcnMubGVuZ3RoOm4ucHJldklucHV0Lm1heFBvaW50ZXJzOmUucG9pbnRlcnMubGVuZ3RoLGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLGEsbz10Lmxhc3RJbnRlcnZhbHx8ZSxzPWUudGltZVN0YW1wLW8udGltZVN0YW1wO2lmKDghPWUuZXZlbnRUeXBlJiYocz4yNXx8dm9pZCAwPT09by52ZWxvY2l0eSkpe3ZhciB1PWUuZGVsdGFYLW8uZGVsdGFYLGM9ZS5kZWx0YVktby5kZWx0YVksbD1XKHMsdSxjKTtyPWwueCxpPWwueSxuPWYobC54KT5mKGwueSk/bC54OmwueSxhPUgodSxjKSx0Lmxhc3RJbnRlcnZhbD1lfWVsc2Ugbj1vLnZlbG9jaXR5LHI9by52ZWxvY2l0eVgsaT1vLnZlbG9jaXR5WSxhPW8uZGlyZWN0aW9uO2UudmVsb2NpdHk9bixlLnZlbG9jaXR5WD1yLGUudmVsb2NpdHlZPWksZS5kaXJlY3Rpb249YX0obixlKTt2YXIgbCxoO3ZhciB2PXQuZWxlbWVudDtQKGUuc3JjRXZlbnQudGFyZ2V0LHYpJiYodj1lLnNyY0V2ZW50LnRhcmdldCk7ZS50YXJnZXQ9dn0odCxuKSx0LmVtaXQoImhhbW1lci5pbnB1dCIsbiksdC5yZWNvZ25pemUobiksdC5zZXNzaW9uLnByZXZJbnB1dD1ufWZ1bmN0aW9uIFYodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQucG9pbnRlcnMubGVuZ3RoOyllW25dPXtjbGllbnRYOmgodC5wb2ludGVyc1tuXS5jbGllbnRYKSxjbGllbnRZOmgodC5wb2ludGVyc1tuXS5jbGllbnRZKX0sbisrO3JldHVybnt0aW1lU3RhbXA6ZCgpLHBvaW50ZXJzOmUsY2VudGVyOkcoZSksZGVsdGFYOnQuZGVsdGFYLGRlbHRhWTp0LmRlbHRhWX19ZnVuY3Rpb24gRyh0KXt2YXIgZT10Lmxlbmd0aDtpZigxPT09ZSlyZXR1cm57eDpoKHRbMF0uY2xpZW50WCkseTpoKHRbMF0uY2xpZW50WSl9O2Zvcih2YXIgbj0wLHI9MCxpPTA7aTxlOyluKz10W2ldLmNsaWVudFgscis9dFtpXS5jbGllbnRZLGkrKztyZXR1cm57eDpoKG4vZSkseTpoKHIvZSl9fWZ1bmN0aW9uIFcodCxlLG4pe3JldHVybnt4OmUvdHx8MCx5Om4vdHx8MH19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiB0PT09ZT8xOmYodCk+PWYoZSk/dDwwPzI6NDplPDA/ODoxNn1mdW5jdGlvbiBxKHQsZSxuKXtufHwobj1GKTt2YXIgcj1lW25bMF1dLXRbblswXV0saT1lW25bMV1dLXRbblsxXV07cmV0dXJuIE1hdGguc3FydChyKnIraSppKX1mdW5jdGlvbiBYKHQsZSxuKXtufHwobj1GKTt2YXIgcj1lW25bMF1dLXRbblswXV0saT1lW25bMV1dLXRbblsxXV07cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGkscikvTWF0aC5QSX1CLnByb3RvdHlwZT17aGFuZGxlcjpmdW5jdGlvbigpe30saW5pdDpmdW5jdGlvbigpe3RoaXMuZXZFbCYmayh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmayh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmayhJKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ldkVsJiZTKHRoaXMuZWxlbWVudCx0aGlzLmV2RWwsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2VGFyZ2V0JiZTKHRoaXMudGFyZ2V0LHRoaXMuZXZUYXJnZXQsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2V2luJiZTKEkodGhpcy5lbGVtZW50KSx0aGlzLmV2V2luLHRoaXMuZG9tSGFuZGxlcil9fTt2YXIgWj17bW91c2Vkb3duOjEsbW91c2Vtb3ZlOjIsbW91c2V1cDo0fTtmdW5jdGlvbiBZKCl7dGhpcy5ldkVsPSJtb3VzZWRvd24iLHRoaXMuZXZXaW49Im1vdXNlbW92ZSBtb3VzZXVwIix0aGlzLnByZXNzZWQ9ITEsQi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9XyhZLEIse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9Wlt0LnR5cGVdOzEmZSYmMD09PXQuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSwyJmUmJjEhPT10LndoaWNoJiYoZT00KSx0aGlzLnByZXNzZWQmJig0JmUmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOlt0XSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOiJtb3VzZSIsc3JjRXZlbnQ6dH0pKX19KTt2YXIgSz17cG9pbnRlcmRvd246MSxwb2ludGVybW92ZToyLHBvaW50ZXJ1cDo0LHBvaW50ZXJjYW5jZWw6OCxwb2ludGVyb3V0Ojh9LFE9ezI6InRvdWNoIiwzOiJwZW4iLDQ6Im1vdXNlIiw1OiJraW5lY3QifSxKPSJwb2ludGVyZG93biIsJD0icG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwiO2Z1bmN0aW9uIHR0KCl7dGhpcy5ldkVsPUosdGhpcy5ldldpbj0kLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3RvcmU9dGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cz1bXX1pLk1TUG9pbnRlckV2ZW50JiYhaS5Qb2ludGVyRXZlbnQmJihKPSJNU1BvaW50ZXJEb3duIiwkPSJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCIpLF8odHQsQix7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLG49ITEscj10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJtcyIsIiIpLGk9S1tyXSxhPVFbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUsbz0idG91Y2giPT1hLHM9RShlLHQucG9pbnRlcklkLCJwb2ludGVySWQiKTsxJmkmJigwPT09dC5idXR0b258fG8pP3M8MCYmKGUucHVzaCh0KSxzPWUubGVuZ3RoLTEpOjEyJmkmJihuPSEwKSxzPDB8fChlW3NdPXQsdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsaSx7cG9pbnRlcnM6ZSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOmEsc3JjRXZlbnQ6dH0pLG4mJmUuc3BsaWNlKHMsMSkpfX0pO3ZhciBldD17dG91Y2hzdGFydDoxLHRvdWNobW92ZToyLHRvdWNoZW5kOjQsdG91Y2hjYW5jZWw6OH07ZnVuY3Rpb24gbnQoKXt0aGlzLmV2VGFyZ2V0PSJ0b3VjaHN0YXJ0Iix0aGlzLmV2V2luPSJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsdGhpcy5zdGFydGVkPSExLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHJ0KHQsZSl7dmFyIG49QSh0LnRvdWNoZXMpLHI9QSh0LmNoYW5nZWRUb3VjaGVzKTtyZXR1cm4gMTImZSYmKG49TShuLmNvbmNhdChyKSwiaWRlbnRpZmllciIsITApKSxbbixyXX1fKG50LEIse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9ZXRbdC50eXBlXTtpZigxPT09ZSYmKHRoaXMuc3RhcnRlZD0hMCksdGhpcy5zdGFydGVkKXt2YXIgbj1ydC5jYWxsKHRoaXMsdCxlKTsxMiZlJiZuWzBdLmxlbmd0aC1uWzFdLmxlbmd0aD09MCYmKHRoaXMuc3RhcnRlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6blswXSxjaGFuZ2VkUG9pbnRlcnM6blsxXSxwb2ludGVyVHlwZToidG91Y2giLHNyY0V2ZW50OnR9KX19fSk7dmFyIGl0PXt0b3VjaHN0YXJ0OjEsdG91Y2htb3ZlOjIsdG91Y2hlbmQ6NCx0b3VjaGNhbmNlbDo4fTtmdW5jdGlvbiBhdCgpe3RoaXMuZXZUYXJnZXQ9InRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsIix0aGlzLnRhcmdldElkcz17fSxCLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuPUEodC50b3VjaGVzKSxyPXRoaXMudGFyZ2V0SWRzO2lmKDMmZSYmMT09PW4ubGVuZ3RoKXJldHVybiByW25bMF0uaWRlbnRpZmllcl09ITAsW24sbl07dmFyIGksYSxvPUEodC5jaGFuZ2VkVG91Y2hlcykscz1bXSx1PXRoaXMudGFyZ2V0O2lmKGE9bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBQKHQudGFyZ2V0LHUpfSkpLDE9PT1lKWZvcihpPTA7aTxhLmxlbmd0aDspclthW2ldLmlkZW50aWZpZXJdPSEwLGkrKztmb3IoaT0wO2k8by5sZW5ndGg7KXJbb1tpXS5pZGVudGlmaWVyXSYmcy5wdXNoKG9baV0pLDEyJmUmJmRlbGV0ZSByW29baV0uaWRlbnRpZmllcl0saSsrO3JldHVybiBzLmxlbmd0aD9bTShhLmNvbmNhdChzKSwiaWRlbnRpZmllciIsITApLHNdOnZvaWQgMH1fKGF0LEIse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9aXRbdC50eXBlXSxuPW90LmNhbGwodGhpcyx0LGUpO24mJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOm5bMF0sY2hhbmdlZFBvaW50ZXJzOm5bMV0scG9pbnRlclR5cGU6InRvdWNoIixzcmNFdmVudDp0fSl9fSk7ZnVuY3Rpb24gc3QoKXtCLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdD1PKHRoaXMuaGFuZGxlcix0aGlzKTt0aGlzLnRvdWNoPW5ldyBhdCh0aGlzLm1hbmFnZXIsdCksdGhpcy5tb3VzZT1uZXcgWSh0aGlzLm1hbmFnZXIsdCksdGhpcy5wcmltYXJ5VG91Y2g9bnVsbCx0aGlzLmxhc3RUb3VjaGVzPVtdfWZ1bmN0aW9uIHV0KHQsZSl7MSZ0Pyh0aGlzLnByaW1hcnlUb3VjaD1lLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyLGN0LmNhbGwodGhpcyxlKSk6MTImdCYmY3QuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIGN0KHQpe3ZhciBlPXQuY2hhbmdlZFBvaW50ZXJzWzBdO2lmKGUuaWRlbnRpZmllcj09PXRoaXMucHJpbWFyeVRvdWNoKXt2YXIgbj17eDplLmNsaWVudFgseTplLmNsaWVudFl9O3RoaXMubGFzdFRvdWNoZXMucHVzaChuKTt2YXIgcj10aGlzLmxhc3RUb3VjaGVzO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHQ9ci5pbmRleE9mKG4pO3Q+LTEmJnIuc3BsaWNlKHQsMSl9KSwyNTAwKX19ZnVuY3Rpb24gbHQodCl7Zm9yKHZhciBlPXQuc3JjRXZlbnQuY2xpZW50WCxuPXQuc3JjRXZlbnQuY2xpZW50WSxyPTA7cjx0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMubGFzdFRvdWNoZXNbcl0sYT1NYXRoLmFicyhlLWkueCksbz1NYXRoLmFicyhuLWkueSk7aWYoYTw9MjUmJm88PTI1KXJldHVybiEwfXJldHVybiExfV8oc3QsQix7aGFuZGxlcjpmdW5jdGlvbih0LGUsbil7dmFyIHI9InRvdWNoIj09bi5wb2ludGVyVHlwZSxpPSJtb3VzZSI9PW4ucG9pbnRlclR5cGU7aWYoIShpJiZuLnNvdXJjZUNhcGFiaWxpdGllcyYmbi5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykpe2lmKHIpdXQuY2FsbCh0aGlzLGUsbik7ZWxzZSBpZihpJiZsdC5jYWxsKHRoaXMsbikpcmV0dXJuO3RoaXMuY2FsbGJhY2sodCxlLG4pfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudG91Y2guZGVzdHJveSgpLHRoaXMubW91c2UuZGVzdHJveSgpfX0pO3ZhciBodD1DKGwuc3R5bGUsInRvdWNoQWN0aW9uIiksZnQ9dm9pZCAwIT09aHQsZHQ9ZnVuY3Rpb24oKXtpZighZnQpcmV0dXJuITE7dmFyIHQ9e30sZT1pLkNTUyYmaS5DU1Muc3VwcG9ydHM7cmV0dXJuWyJhdXRvIiwibWFuaXB1bGF0aW9uIiwicGFuLXkiLCJwYW4teCIsInBhbi14IHBhbi15Iiwibm9uZSJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Rbbl09IWV8fGkuQ1NTLnN1cHBvcnRzKCJ0b3VjaC1hY3Rpb24iLG4pfSkpLHR9KCk7ZnVuY3Rpb24gdnQodCxlKXt0aGlzLm1hbmFnZXI9dCx0aGlzLnNldChlKX12dC5wcm90b3R5cGU9e3NldDpmdW5jdGlvbih0KXsiY29tcHV0ZSI9PXQmJih0PXRoaXMuY29tcHV0ZSgpKSxmdCYmdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUmJmR0W3RdJiYodGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbaHRdPXQpLHRoaXMuYWN0aW9ucz10LnRvTG93ZXJDYXNlKCkudHJpbSgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbil9LGNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZyh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsKGZ1bmN0aW9uKGUpe3goZS5vcHRpb25zLmVuYWJsZSxbZV0pJiYodD10LmNvbmNhdChlLmdldFRvdWNoQWN0aW9uKCkpKX0pKSxmdW5jdGlvbih0KXtpZihqKHQsIm5vbmUiKSlyZXR1cm4ibm9uZSI7dmFyIGU9aih0LCJwYW4teCIpLG49aih0LCJwYW4teSIpO2lmKGUmJm4pcmV0dXJuIm5vbmUiO2lmKGV8fG4pcmV0dXJuIGU/InBhbi14IjoicGFuLXkiO2lmKGoodCwibWFuaXB1bGF0aW9uIikpcmV0dXJuIm1hbmlwdWxhdGlvbiI7cmV0dXJuImF1dG8ifSh0LmpvaW4oIiAiKSl9LHByZXZlbnREZWZhdWx0czpmdW5jdGlvbih0KXt2YXIgZT10LnNyY0V2ZW50LG49dC5vZmZzZXREaXJlY3Rpb247aWYodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciByPXRoaXMuYWN0aW9ucyxpPWoociwibm9uZSIpJiYhZHQubm9uZSxhPWoociwicGFuLXkiKSYmIWR0WyJwYW4teSJdLG89aihyLCJwYW4teCIpJiYhZHRbInBhbi14Il07aWYoaSl7dmFyIHM9MT09PXQucG9pbnRlcnMubGVuZ3RoLHU9dC5kaXN0YW5jZTwyLGM9dC5kZWx0YVRpbWU8MjUwO2lmKHMmJnUmJmMpcmV0dXJufWlmKCFvfHwhYSlyZXR1cm4gaXx8YSYmNiZufHxvJiYyNCZuP3RoaXMucHJldmVudFNyYyhlKTp2b2lkIDB9fSxwcmV2ZW50U3JjOmZ1bmN0aW9uKHQpe3RoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZD0hMCx0LnByZXZlbnREZWZhdWx0KCl9fTtmdW5jdGlvbiBwdCh0KXt0aGlzLm9wdGlvbnM9dSh7fSx0aGlzLmRlZmF1bHRzLHR8fHt9KSx0aGlzLmlkPUwrKyx0aGlzLm1hbmFnZXI9bnVsbCx0aGlzLm9wdGlvbnMuZW5hYmxlPXcodGhpcy5vcHRpb25zLmVuYWJsZSwhMCksdGhpcy5zdGF0ZT0xLHRoaXMuc2ltdWx0YW5lb3VzPXt9LHRoaXMucmVxdWlyZUZhaWw9W119ZnVuY3Rpb24gZ3QodCl7cmV0dXJuIDE2JnQ/ImNhbmNlbCI6OCZ0PyJlbmQiOjQmdD8ibW92ZSI6MiZ0PyJzdGFydCI6IiJ9ZnVuY3Rpb24geXQodCl7cmV0dXJuIDE2PT10PyJkb3duIjo4PT10PyJ1cCI6Mj09dD8ibGVmdCI6ND09dD8icmlnaHQiOiIifWZ1bmN0aW9uIG10KHQsZSl7dmFyIG49ZS5tYW5hZ2VyO3JldHVybiBuP24uZ2V0KHQpOnR9ZnVuY3Rpb24gYnQoKXtwdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gX3QoKXtidC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wWD1udWxsLHRoaXMucFk9bnVsbH1mdW5jdGlvbiBPdCgpe2J0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB4dCgpe3B0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90aW1lcj1udWxsLHRoaXMuX2lucHV0PW51bGx9ZnVuY3Rpb24gd3QoKXtidC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24ga3QoKXtidC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gU3QoKXtwdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wVGltZT0hMSx0aGlzLnBDZW50ZXI9ITEsdGhpcy5fdGltZXI9bnVsbCx0aGlzLl9pbnB1dD1udWxsLHRoaXMuY291bnQ9MH1mdW5jdGlvbiBQdCh0LGUpe3JldHVybihlPWV8fHt9KS5yZWNvZ25pemVycz13KGUucmVjb2duaXplcnMsUHQuZGVmYXVsdHMucHJlc2V0KSxuZXcganQodCxlKX1wdC5wcm90b3R5cGU9e2RlZmF1bHRzOnt9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdSh0aGlzLm9wdGlvbnMsdCksdGhpcy5tYW5hZ2VyJiZ0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCksdGhpc30scmVjb2duaXplV2l0aDpmdW5jdGlvbih0KXtpZihwKHQsInJlY29nbml6ZVdpdGgiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuc2ltdWx0YW5lb3VzO3JldHVybiBlWyh0PW10KHQsdGhpcykpLmlkXXx8KGVbdC5pZF09dCx0LnJlY29nbml6ZVdpdGgodGhpcykpLHRoaXN9LGRyb3BSZWNvZ25pemVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiBwKHQsImRyb3BSZWNvZ25pemVXaXRoIix0aGlzKT90aGlzOih0PW10KHQsdGhpcyksZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW3QuaWRdLHRoaXMpfSxyZXF1aXJlRmFpbHVyZTpmdW5jdGlvbih0KXtpZihwKHQsInJlcXVpcmVGYWlsdXJlIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLnJlcXVpcmVGYWlsO3JldHVybi0xPT09RShlLHQ9bXQodCx0aGlzKSkmJihlLnB1c2godCksdC5yZXF1aXJlRmFpbHVyZSh0aGlzKSksdGhpc30sZHJvcFJlcXVpcmVGYWlsdXJlOmZ1bmN0aW9uKHQpe2lmKHAodCwiZHJvcFJlcXVpcmVGYWlsdXJlIix0aGlzKSlyZXR1cm4gdGhpczt0PW10KHQsdGhpcyk7dmFyIGU9RSh0aGlzLnJlcXVpcmVGYWlsLHQpO3JldHVybiBlPi0xJiZ0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShlLDEpLHRoaXN9LGhhc1JlcXVpcmVGYWlsdXJlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aD4wfSxjYW5SZWNvZ25pemVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zaW11bHRhbmVvdXNbdC5pZF19LGVtaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuc3RhdGU7ZnVuY3Rpb24gcihuKXtlLm1hbmFnZXIuZW1pdChuLHQpfW48OCYmcihlLm9wdGlvbnMuZXZlbnQrZ3QobikpLHIoZS5vcHRpb25zLmV2ZW50KSx0LmFkZGl0aW9uYWxFdmVudCYmcih0LmFkZGl0aW9uYWxFdmVudCksbj49OCYmcihlLm9wdGlvbnMuZXZlbnQrZ3QobikpfSx0cnlFbWl0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuY2FuRW1pdCgpKXJldHVybiB0aGlzLmVtaXQodCk7dGhpcy5zdGF0ZT0zMn0sY2FuRW1pdDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg7KXtpZighKDMzJnRoaXMucmVxdWlyZUZhaWxbdF0uc3RhdGUpKXJldHVybiExO3QrK31yZXR1cm4hMH0scmVjb2duaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXUoe30sdCk7aWYoIXgodGhpcy5vcHRpb25zLmVuYWJsZSxbdGhpcyxlXSkpcmV0dXJuIHRoaXMucmVzZXQoKSx2b2lkKHRoaXMuc3RhdGU9MzIpOzU2JnRoaXMuc3RhdGUmJih0aGlzLnN0YXRlPTEpLHRoaXMuc3RhdGU9dGhpcy5wcm9jZXNzKGUpLDMwJnRoaXMuc3RhdGUmJnRoaXMudHJ5RW1pdChlKX0scHJvY2VzczpmdW5jdGlvbih0KXt9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7fSxyZXNldDpmdW5jdGlvbigpe319LF8oYnQscHQse2RlZmF1bHRzOntwb2ludGVyczoxfSxhdHRyVGVzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMucG9pbnRlcnM7cmV0dXJuIDA9PT1lfHx0LnBvaW50ZXJzLmxlbmd0aD09PWV9LHByb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZSxuPXQuZXZlbnRUeXBlLHI9NiZlLGk9dGhpcy5hdHRyVGVzdCh0KTtyZXR1cm4gciYmKDgmbnx8IWkpPzE2fGU6cnx8aT80Jm4/OHxlOjImZT80fGU6MjozMn19KSxfKF90LGJ0LHtkZWZhdWx0czp7ZXZlbnQ6InBhbiIsdGhyZXNob2xkOjEwLHBvaW50ZXJzOjEsZGlyZWN0aW9uOjMwfSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24sZT1bXTtyZXR1cm4gNiZ0JiZlLnB1c2goInBhbi15IiksMjQmdCYmZS5wdXNoKCJwYW4teCIpLGV9LGRpcmVjdGlvblRlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLG49ITAscj10LmRpc3RhbmNlLGk9dC5kaXJlY3Rpb24sYT10LmRlbHRhWCxvPXQuZGVsdGFZO3JldHVybiBpJmUuZGlyZWN0aW9ufHwoNiZlLmRpcmVjdGlvbj8oaT0wPT09YT8xOmE8MD8yOjQsbj1hIT10aGlzLnBYLHI9TWF0aC5hYnModC5kZWx0YVgpKTooaT0wPT09bz8xOm88MD84OjE2LG49byE9dGhpcy5wWSxyPU1hdGguYWJzKHQuZGVsdGFZKSkpLHQuZGlyZWN0aW9uPWksbiYmcj5lLnRocmVzaG9sZCYmaSZlLmRpcmVjdGlvbn0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGJ0LnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJigyJnRoaXMuc3RhdGV8fCEoMiZ0aGlzLnN0YXRlKSYmdGhpcy5kaXJlY3Rpb25UZXN0KHQpKX0sZW1pdDpmdW5jdGlvbih0KXt0aGlzLnBYPXQuZGVsdGFYLHRoaXMucFk9dC5kZWx0YVk7dmFyIGU9eXQodC5kaXJlY3Rpb24pO2UmJih0LmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQrZSksdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsdCl9fSksXyhPdCxidCx7ZGVmYXVsdHM6e2V2ZW50OiJwaW5jaCIsdGhyZXNob2xkOjAscG9pbnRlcnM6Mn0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bIm5vbmUiXX0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKE1hdGguYWJzKHQuc2NhbGUtMSk+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8MiZ0aGlzLnN0YXRlKX0sZW1pdDpmdW5jdGlvbih0KXtpZigxIT09dC5zY2FsZSl7dmFyIGU9dC5zY2FsZTwxPyJpbiI6Im91dCI7dC5hZGRpdGlvbmFsRXZlbnQ9dGhpcy5vcHRpb25zLmV2ZW50K2V9dGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsdCl9fSksXyh4dCxwdCx7ZGVmYXVsdHM6e2V2ZW50OiJwcmVzcyIscG9pbnRlcnM6MSx0aW1lOjI1MSx0aHJlc2hvbGQ6OX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bImF1dG8iXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsbj10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMscj10LmRpc3RhbmNlPGUudGhyZXNob2xkLGk9dC5kZWx0YVRpbWU+ZS50aW1lO2lmKHRoaXMuX2lucHV0PXQsIXJ8fCFufHwxMiZ0LmV2ZW50VHlwZSYmIWkpdGhpcy5yZXNldCgpO2Vsc2UgaWYoMSZ0LmV2ZW50VHlwZSl0aGlzLnJlc2V0KCksdGhpcy5fdGltZXI9digoZnVuY3Rpb24oKXt0aGlzLnN0YXRlPTgsdGhpcy50cnlFbWl0KCl9KSxlLnRpbWUsdGhpcyk7ZWxzZSBpZig0JnQuZXZlbnRUeXBlKXJldHVybiA4O3JldHVybiAzMn0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKHQpezg9PT10aGlzLnN0YXRlJiYodCYmNCZ0LmV2ZW50VHlwZT90aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrInVwIix0KToodGhpcy5faW5wdXQudGltZVN0YW1wPWQoKSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdGhpcy5faW5wdXQpKSl9fSksXyh3dCxidCx7ZGVmYXVsdHM6e2V2ZW50OiJyb3RhdGUiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuWyJub25lIl19LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJihNYXRoLmFicyh0LnJvdGF0aW9uKT50aGlzLm9wdGlvbnMudGhyZXNob2xkfHwyJnRoaXMuc3RhdGUpfX0pLF8oa3QsYnQse2RlZmF1bHRzOntldmVudDoic3dpcGUiLHRocmVzaG9sZDoxMCx2ZWxvY2l0eTouMyxkaXJlY3Rpb246MzAscG9pbnRlcnM6MX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gX3QucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyl9LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gMzAmbj9lPXQub3ZlcmFsbFZlbG9jaXR5OjYmbj9lPXQub3ZlcmFsbFZlbG9jaXR5WDoyNCZuJiYoZT10Lm92ZXJhbGxWZWxvY2l0eVkpLHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmbiZ0Lm9mZnNldERpcmVjdGlvbiYmdC5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZ0Lm1heFBvaW50ZXJzPT10aGlzLm9wdGlvbnMucG9pbnRlcnMmJmYoZSk+dGhpcy5vcHRpb25zLnZlbG9jaXR5JiY0JnQuZXZlbnRUeXBlfSxlbWl0OmZ1bmN0aW9uKHQpe3ZhciBlPXl0KHQub2Zmc2V0RGlyZWN0aW9uKTtlJiZ0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrZSx0KSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdCl9fSksXyhTdCxwdCx7ZGVmYXVsdHM6e2V2ZW50OiJ0YXAiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6OSxwb3NUaHJlc2hvbGQ6MTB9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuWyJtYW5pcHVsYXRpb24iXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsbj10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMscj10LmRpc3RhbmNlPGUudGhyZXNob2xkLGk9dC5kZWx0YVRpbWU8ZS50aW1lO2lmKHRoaXMucmVzZXQoKSwxJnQuZXZlbnRUeXBlJiYwPT09dGhpcy5jb3VudClyZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO2lmKHImJmkmJm4pe2lmKDQhPXQuZXZlbnRUeXBlKXJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7dmFyIGE9IXRoaXMucFRpbWV8fHQudGltZVN0YW1wLXRoaXMucFRpbWU8ZS5pbnRlcnZhbCxvPSF0aGlzLnBDZW50ZXJ8fHEodGhpcy5wQ2VudGVyLHQuY2VudGVyKTxlLnBvc1RocmVzaG9sZDtpZih0aGlzLnBUaW1lPXQudGltZVN0YW1wLHRoaXMucENlbnRlcj10LmNlbnRlcixvJiZhP3RoaXMuY291bnQrPTE6dGhpcy5jb3VudD0xLHRoaXMuX2lucHV0PXQsMD09PXRoaXMuY291bnQlZS50YXBzKXJldHVybiB0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpPyh0aGlzLl90aW1lcj12KChmdW5jdGlvbigpe3RoaXMuc3RhdGU9OCx0aGlzLnRyeUVtaXQoKX0pLGUuaW50ZXJ2YWwsdGhpcyksMik6OH1yZXR1cm4gMzJ9LGZhaWxUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyPXYoKGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0zMn0pLHRoaXMub3B0aW9ucy5pbnRlcnZhbCx0aGlzKSwzMn0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKCl7OD09dGhpcy5zdGF0ZSYmKHRoaXMuX2lucHV0LnRhcENvdW50PXRoaXMuY291bnQsdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSl9fSksUHQuVkVSU0lPTj0iMi4wLjciLFB0LmRlZmF1bHRzPXtkb21FdmVudHM6ITEsdG91Y2hBY3Rpb246ImNvbXB1dGUiLGVuYWJsZTohMCxpbnB1dFRhcmdldDpudWxsLGlucHV0Q2xhc3M6bnVsbCxwcmVzZXQ6W1t3dCx7ZW5hYmxlOiExfV0sW090LHtlbmFibGU6ITF9LFsicm90YXRlIl1dLFtrdCx7ZGlyZWN0aW9uOjZ9XSxbX3Qse2RpcmVjdGlvbjo2fSxbInN3aXBlIl1dLFtTdF0sW1N0LHtldmVudDoiZG91YmxldGFwIix0YXBzOjJ9LFsidGFwIl1dLFt4dF1dLGNzc1Byb3BzOnt1c2VyU2VsZWN0OiJub25lIix0b3VjaFNlbGVjdDoibm9uZSIsdG91Y2hDYWxsb3V0OiJub25lIixjb250ZW50Wm9vbWluZzoibm9uZSIsdXNlckRyYWc6Im5vbmUiLHRhcEhpZ2hsaWdodENvbG9yOiJyZ2JhKDAsMCwwLDApIn19O2Z1bmN0aW9uIGp0KHQsZSl7dmFyIG47dGhpcy5vcHRpb25zPXUoe30sUHQuZGVmYXVsdHMsZXx8e30pLHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldD10aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXR8fHQsdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5yZWNvZ25pemVycz1bXSx0aGlzLm9sZENzc1Byb3BzPXt9LHRoaXMuZWxlbWVudD10LHRoaXMuaW5wdXQ9bmV3KChuPXRoaXMpLm9wdGlvbnMuaW5wdXRDbGFzc3x8KE4/dHQ6RD9hdDpSP3N0OlkpKShuLFUpLHRoaXMudG91Y2hBY3Rpb249bmV3IHZ0KHRoaXMsdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKSxUdCh0aGlzLCEwKSxnKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywoZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hZGQobmV3IHRbMF0odFsxXSkpO3RbMl0mJmUucmVjb2duaXplV2l0aCh0WzJdKSx0WzNdJiZlLnJlcXVpcmVGYWlsdXJlKHRbM10pfSksdGhpcyl9ZnVuY3Rpb24gVHQodCxlKXt2YXIgbixyPXQuZWxlbWVudDtyLnN0eWxlJiYoZyh0Lm9wdGlvbnMuY3NzUHJvcHMsKGZ1bmN0aW9uKGksYSl7bj1DKHIuc3R5bGUsYSksZT8odC5vbGRDc3NQcm9wc1tuXT1yLnN0eWxlW25dLHIuc3R5bGVbbl09aSk6ci5zdHlsZVtuXT10Lm9sZENzc1Byb3BzW25dfHwiIn0pKSxlfHwodC5vbGRDc3NQcm9wcz17fSkpfWp0LnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQpe3JldHVybiB1KHRoaXMub3B0aW9ucyx0KSx0LnRvdWNoQWN0aW9uJiZ0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHQuaW5wdXRUYXJnZXQmJih0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmlucHV0LnRhcmdldD10LmlucHV0VGFyZ2V0LHRoaXMuaW5wdXQuaW5pdCgpKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe3RoaXMuc2Vzc2lvbi5zdG9wcGVkPXQ/MjoxfSxyZWNvZ25pemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXNzaW9uO2lmKCFlLnN0b3BwZWQpe3ZhciBuO3RoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKHQpO3ZhciByPXRoaXMucmVjb2duaXplcnMsaT1lLmN1clJlY29nbml6ZXI7KCFpfHxpJiY4Jmkuc3RhdGUpJiYoaT1lLmN1clJlY29nbml6ZXI9bnVsbCk7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDspbj1yW2FdLDI9PT1lLnN0b3BwZWR8fGkmJm4hPWkmJiFuLmNhblJlY29nbml6ZVdpdGgoaSk/bi5yZXNldCgpOm4ucmVjb2duaXplKHQpLCFpJiYxNCZuLnN0YXRlJiYoaT1lLmN1clJlY29nbml6ZXI9biksYSsrfX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBwdClyZXR1cm4gdDtmb3IodmFyIGU9dGhpcy5yZWNvZ25pemVycyxuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5vcHRpb25zLmV2ZW50PT10KXJldHVybiBlW25dO3JldHVybiBudWxsfSxhZGQ6ZnVuY3Rpb24odCl7aWYocCh0LCJhZGQiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZ2V0KHQub3B0aW9ucy5ldmVudCk7cmV0dXJuIGUmJnRoaXMucmVtb3ZlKGUpLHRoaXMucmVjb2duaXplcnMucHVzaCh0KSx0Lm1hbmFnZXI9dGhpcyx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHR9LHJlbW92ZTpmdW5jdGlvbih0KXtpZihwKHQsInJlbW92ZSIsdGhpcykpcmV0dXJuIHRoaXM7aWYodD10aGlzLmdldCh0KSl7dmFyIGU9dGhpcy5yZWNvZ25pemVycyxuPUUoZSx0KTstMSE9PW4mJihlLnNwbGljZShuLDEpLHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCkpfXJldHVybiB0aGlzfSxvbjpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PWUpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGcoVCh0KSwoZnVuY3Rpb24odCl7blt0XT1uW3RdfHxbXSxuW3RdLnB1c2goZSl9KSksdGhpc319LG9mZjpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGcoVCh0KSwoZnVuY3Rpb24odCl7ZT9uW3RdJiZuW3RdLnNwbGljZShFKG5bdF0sZSksMSk6ZGVsZXRlIG5bdF19KSksdGhpc319LGVtaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnMuZG9tRXZlbnRzJiZmdW5jdGlvbih0LGUpe3ZhciBuPWEuY3JlYXRlRXZlbnQoIkV2ZW50Iik7bi5pbml0RXZlbnQodCwhMCwhMCksbi5nZXN0dXJlPWUsZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuKX0odCxlKTt2YXIgbj10aGlzLmhhbmRsZXJzW3RdJiZ0aGlzLmhhbmRsZXJzW3RdLnNsaWNlKCk7aWYobiYmbi5sZW5ndGgpe2UudHlwZT10LGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCl9O2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7KW5bcl0oZSkscisrfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmVHQodGhpcywhMSksdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5lbGVtZW50PW51bGx9fSx1KFB0LHtJTlBVVF9TVEFSVDoxLElOUFVUX01PVkU6MixJTlBVVF9FTkQ6NCxJTlBVVF9DQU5DRUw6OCxTVEFURV9QT1NTSUJMRToxLFNUQVRFX0JFR0FOOjIsU1RBVEVfQ0hBTkdFRDo0LFNUQVRFX0VOREVEOjgsU1RBVEVfUkVDT0dOSVpFRDo4LFNUQVRFX0NBTkNFTExFRDoxNixTVEFURV9GQUlMRUQ6MzIsRElSRUNUSU9OX05PTkU6MSxESVJFQ1RJT05fTEVGVDoyLERJUkVDVElPTl9SSUdIVDo0LERJUkVDVElPTl9VUDo4LERJUkVDVElPTl9ET1dOOjE2LERJUkVDVElPTl9IT1JJWk9OVEFMOjYsRElSRUNUSU9OX1ZFUlRJQ0FMOjI0LERJUkVDVElPTl9BTEw6MzAsTWFuYWdlcjpqdCxJbnB1dDpCLFRvdWNoQWN0aW9uOnZ0LFRvdWNoSW5wdXQ6YXQsTW91c2VJbnB1dDpZLFBvaW50ZXJFdmVudElucHV0OnR0LFRvdWNoTW91c2VJbnB1dDpzdCxTaW5nbGVUb3VjaElucHV0Om50LFJlY29nbml6ZXI6cHQsQXR0clJlY29nbml6ZXI6YnQsVGFwOlN0LFBhbjpfdCxTd2lwZTprdCxQaW5jaDpPdCxSb3RhdGU6d3QsUHJlc3M6eHQsb246ayxvZmY6UyxlYWNoOmcsbWVyZ2U6YixleHRlbmQ6bSxhc3NpZ246dSxpbmhlcml0Ol8sYmluZEZuOk8scHJlZml4ZWQ6Q30pLCh2b2lkIDAhPT1pP2k6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e30pLkhhbW1lcj1QdCx2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBQdH0uY2FsbChlLG4sZSx0KSl8fCh0LmV4cG9ydHM9cil9KHdpbmRvdyxkb2N1bWVudCl9LGZ1bmN0aW9uKHQsZSl7fSwsZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3KSxvPW4oMTUpLHM9bigxOCksdT1uKDE2NyksYz1uKDIxKSxsPW4oMjcpLGg9bigzNiksZj1uKDg5KSxkPVswLDAsMF0sdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksdD1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZPYmplY3QoYy5mKShuKT90LmNvcHkobik6KGMuYi5kZWJ1ZyYmKE9iamVjdChsLmEpKG4pLE9iamVjdChsLmEpKGkpLE9iamVjdChsLmEpKHMpKSx0WzBdPW4sdFsxXT1pLHRbMl09cyksdH1yZXR1cm4gT2JqZWN0KHMuYSkoZSx0KSxPYmplY3QoaS5hKShlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpcy5jaGVjaygpfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09dFswXSx0aGlzWzFdPXRbMV0sdGhpc1syXT10WzJdLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBjLmIuZGVidWcmJihPYmplY3QobC5hKSh0LngpLE9iamVjdChsLmEpKHQueSksT2JqZWN0KGwuYSkodC56KSksdGhpc1swXT10LngsdGhpc1sxXT10LnksdGhpc1syXT10LnosdGhpcy5jaGVjaygpfX0se2tleToidG9PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpc1swXSx0Lnk9dGhpc1sxXSx0Lno9dGhpc1syXSx0fX0se2tleToiYW5nbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmEodGhpcyx0KX19LHtrZXk6ImNyb3NzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaC5jKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVYIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/ZDpuO3JldHVybiBoLmkodGhpcyx0aGlzLHIsZSksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5yYWRpYW5zLG49dC5vcmlnaW4scj12b2lkIDA9PT1uP2Q6bjtyZXR1cm4gaC5qKHRoaXMsdGhpcyxyLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVoiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucmFkaWFucyxuPXQub3JpZ2luLHI9dm9pZCAwPT09bj9kOm47cmV0dXJuIGguayh0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaC5uKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1ZlY3RvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChmLmMpKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLm0odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybUJ5TWF0cml4MiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChmLmIpKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLm8odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMl09T2JqZWN0KGwuYSkodCl9fV0pLGV9KHUuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1bMjU1LDI1NSwyNTVdLG89MCxzPWZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5jb2xvcixyPXZvaWQgMD09PW4/YTpuLHM9ZS5pbnRlbnNpdHksdT12b2lkIDA9PT1zPzE6czt0aGlzLmlkPWUuaWR8fCJhbWJpZW50LSIuY29uY2F0KG8rKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PXUsdGhpcy50eXBlPSJhbWJpZW50In19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oODEpLHY9bigxNTEpLHA9bigxNTIpLGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmNhbGwodGhpcyxPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6di5hfSkpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImNvbnRyb2xsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRDb250cm9sbGVyUHJvcHMoe3R5cGU6cC5hfSl9fV0pLGV9KGQuYSk7Zy5kaXNwbGF5TmFtZT0iTWFwVmlldyJ9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB3fSkpO3ZhciByPW4oNCksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxODQpLHY9bi5uKGQpLHA9bigxMCksZz1uLm4ocCkseT1uKDU2KSxtPW4oMzQpLGI9big2NyksXz1uKDgpO2Z1bmN0aW9uIE8odCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHgodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/TyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6TyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bygpKHRoaXMsZSk7dmFyIHI9bi5sYXRpdHVkZSxpPXZvaWQgMD09PXI/MDpyLGE9bi5sb25naXR1ZGUscz12b2lkIDA9PT1hPzA6YSx1PW4uem9vbSxjPXZvaWQgMD09PXU/MTE6dSxoPW4ucGl0Y2gsZD12b2lkIDA9PT1oPzA6aCxwPW4uYmVhcmluZyxnPXZvaWQgMD09PXA/MDpwLHk9bi5uZWFyWk11bHRpcGxpZXIsYj12b2lkIDA9PT15Py4xOnksTz1uLmZhclpNdWx0aXBsaWVyLHg9dm9pZCAwPT09Tz8xLjAxOk8sdz1uLm9ydGhvZ3JhcGhpYyxrPXZvaWQgMCE9PXcmJncsUz1uLnJlcGVhdCxQPXZvaWQgMCE9PVMmJlMsaj1uLndvcmxkT2Zmc2V0LFQ9dm9pZCAwPT09aj8wOmosRT1uLndpZHRoLEE9bi5oZWlnaHQsTT1uLmFsdGl0dWRlLEM9dm9pZCAwPT09TT8xLjU6TSxMPU1hdGgucG93KDIsYyk7RT1FfHwxLEE9QXx8MSxDPU1hdGgubWF4KC43NSxDKTt2YXIgST1PYmplY3QobS5oKSh7d2lkdGg6RSxoZWlnaHQ6QSxwaXRjaDpkLGFsdGl0dWRlOkMsbmVhclpNdWx0aXBsaWVyOmIsZmFyWk11bHRpcGxpZXI6eH0pLFI9SS5mb3YsTj1JLmFzcGVjdCxEPUkuZm9jYWxEaXN0YW5jZSxGPUkubmVhcix6PUkuZmFyLEI9T2JqZWN0KG0uaSkoe2hlaWdodDpBLHBpdGNoOmQsYmVhcmluZzpnLHNjYWxlOkwsYWx0aXR1ZGU6Q30pO2lmKFQpe3ZhciBVPShuZXcgXy5hKS50cmFuc2xhdGUoWzUxMipULDAsMF0pO0I9VS5tdWx0aXBseUxlZnQoQil9dmFyIFY9T2JqZWN0LmFzc2lnbih7fSxuLHt3aWR0aDpFLGhlaWdodDpBLHZpZXdNYXRyaXg6Qixsb25naXR1ZGU6cyxsYXRpdHVkZTppLHpvb206YyxvcnRob2dyYXBoaWM6ayxmb3Z5UmFkaWFuczpSLGFzcGVjdDpOLGZvY2FsRGlzdGFuY2U6az9EOjEsbmVhcjpGLGZhcjp6fSk7cmV0dXJuKHQ9bCgpKHRoaXMsZigpKGUpLmNhbGwodGhpcyxWKSkpLmxhdGl0dWRlPWksdC5sb25naXR1ZGU9cyx0Lnpvb209Yyx0LnBpdGNoPWQsdC5iZWFyaW5nPWcsdC5hbHRpdHVkZT1DLHQub3J0aG9ncmFwaGljPWssdC5fc3ViVmlld3BvcnRzPVA/W106bnVsbCxPYmplY3QuZnJlZXplKHYoKSh0KSksdH1yZXR1cm4gZygpKGUsdCksdSgpKGUsW3trZXk6ImFkZE1ldGVyc1RvTG5nTGF0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QobS5hKSh0LGUpfX0se2tleToiZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sbmdMYXQsbj10LnBvcyxyPU9iamVjdChtLmwpKG4sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeCksaT10aGlzLnByb2plY3RGbGF0KGUpLGE9Yi5hKFtdLGksYi5iKFtdLHIpKSxvPWIuYShbXSx0aGlzLmNlbnRlcixhKTtyZXR1cm4gdGhpcy51bnByb2plY3RGbGF0KG8pfX0se2tleToiZml0Qm91bmRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10aGlzLndpZHRoLGk9dGhpcy5oZWlnaHQsYT1PYmplY3QobS5jKShPYmplY3QuYXNzaWduKHt3aWR0aDpyLGhlaWdodDppLGJvdW5kczp0fSxuKSksbz1hLmxvbmdpdHVkZSxzPWEubGF0aXR1ZGUsdT1hLnpvb207cmV0dXJuIG5ldyBlKHt3aWR0aDpyLGhlaWdodDppLGxvbmdpdHVkZTpvLGxhdGl0dWRlOnMsem9vbTp1fSl9fSx7a2V5OiJzdWJWaWV3cG9ydHMiLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuX3N1YlZpZXdwb3J0cyYmIXRoaXMuX3N1YlZpZXdwb3J0cy5sZW5ndGgpZm9yKHZhciB0PXRoaXMudW5wcm9qZWN0KFswLDBdKSxuPXRoaXMudW5wcm9qZWN0KFt0aGlzLndpZHRoLDBdKSxyPXRoaXMudW5wcm9qZWN0KFswLHRoaXMuaGVpZ2h0XSksaT10aGlzLnVucHJvamVjdChbdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLGE9TWF0aC5taW4odFswXSxuWzBdLHJbMF0saVswXSksbz1NYXRoLm1heCh0WzBdLG5bMF0sclswXSxpWzBdKSxzPU1hdGguZmxvb3IoKGErMTgwKS8zNjApLHU9TWF0aC5jZWlsKChvLTE4MCkvMzYwKSxjPXM7Yzw9dTtjKyspe3ZhciBsPWM/bmV3IGUoeCh7fSx0aGlzLHt3b3JsZE9mZnNldDpjfSkpOnRoaXM7dGhpcy5fc3ViVmlld3BvcnRzLnB1c2gobCl9cmV0dXJuIHRoaXMuX3N1YlZpZXdwb3J0c319XSksZX0oeS5hKTt3LmRpc3BsYXlOYW1lPSJXZWJNZXJjYXRvclZpZXdwb3J0In0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIHI9bigxOSksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDgpLGc9big3OSkseT1uKDEyNSksbT1uKDM0KSxiPW4oMjkpLF89big3NyksTz1uKDc4KSx4PXt0cmFuc2l0aW9uRHVyYXRpb246MzAwLHRyYW5zaXRpb25FYXNpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHRyYW5zaXRpb25JbnRlcnBvbGF0b3I6bmV3IF8uYSx0cmFuc2l0aW9uSW50ZXJydXB0aW9uOk8uYS5CUkVBS30sdz17dHJhbnNpdGlvbkR1cmF0aW9uOjB9LGs9MCxTPTIwLFA9MCxqPTYwLFQ9MCxFPTAsQT0xLjUsTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLndpZHRoLGk9bi5oZWlnaHQsYT1uLmxhdGl0dWRlLHM9bi5sb25naXR1ZGUsdT1uLnpvb20sYz1uLmJlYXJpbmcsaD12b2lkIDA9PT1jP0U6YyxkPW4ucGl0Y2gsdj12b2lkIDA9PT1kP1Q6ZCxwPW4uYWx0aXR1ZGUsZz12b2lkIDA9PT1wP0E6cCx5PW4ubWF4Wm9vbSxtPXZvaWQgMD09PXk/Uzp5LF89bi5taW5ab29tLE89dm9pZCAwPT09Xz9rOl8seD1uLm1heFBpdGNoLHc9dm9pZCAwPT09eD9qOngsTT1uLm1pblBpdGNoLEM9dm9pZCAwPT09TT9QOk0sTD1uLnN0YXJ0UGFuTG5nTGF0LEk9bi5zdGFydFpvb21MbmdMYXQsUj1uLnN0YXJ0QmVhcmluZyxOPW4uc3RhcnRQaXRjaCxEPW4uc3RhcnRab29tO3JldHVybiBvKCkodGhpcyxlKSxPYmplY3QoYi5hKShOdW1iZXIuaXNGaW5pdGUocyksImBsb25naXR1ZGVgIG11c3QgYmUgc3VwcGxpZWQiKSxPYmplY3QoYi5hKShOdW1iZXIuaXNGaW5pdGUoYSksImBsYXRpdHVkZWAgbXVzdCBiZSBzdXBwbGllZCIpLE9iamVjdChiLmEpKE51bWJlci5pc0Zpbml0ZSh1KSwiYHpvb21gIG11c3QgYmUgc3VwcGxpZWQiKSwodD1sKCkodGhpcyxmKCkoZSkuY2FsbCh0aGlzLHt3aWR0aDpyLGhlaWdodDppLGxhdGl0dWRlOmEsbG9uZ2l0dWRlOnMsem9vbTp1LGJlYXJpbmc6aCxwaXRjaDp2LGFsdGl0dWRlOmcsbWF4Wm9vbTptLG1pblpvb206TyxtYXhQaXRjaDp3LG1pblBpdGNoOkN9KSkpLl9pbnRlcmFjdGl2ZVN0YXRlPXtzdGFydFBhbkxuZ0xhdDpMLHN0YXJ0Wm9vbUxuZ0xhdDpJLHN0YXJ0QmVhcmluZzpSLHN0YXJ0UGl0Y2g6TixzdGFydFpvb206RH0sdH1yZXR1cm4gdigpKGUsdCksdSgpKGUsW3trZXk6ImdldFZpZXdwb3J0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJnZXRJbnRlcmFjdGl2ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlfX0se2tleToicGFuU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0UGFuTG5nTGF0OnRoaXMuX3VucHJvamVjdChlKX0pfX0se2tleToicGFuIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBvcyxuPXQuc3RhcnRQb3Mscj10aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLnN0YXJ0UGFuTG5nTGF0fHx0aGlzLl91bnByb2plY3Qobik7aWYoIXIpcmV0dXJuIHRoaXM7dmFyIGE9dGhpcy5fY2FsY3VsYXRlTmV3TG5nTGF0KHtzdGFydFBhbkxuZ0xhdDpyLHBvczplfSksbz1pKCkoYSwyKSxzPW9bMF0sdT1vWzFdO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2xvbmdpdHVkZTpzLGxhdGl0dWRlOnV9KX19LHtrZXk6InBhbkVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFBhbkxuZ0xhdDpudWxsfSl9fSx7a2V5OiJyb3RhdGVTdGFydCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wb3M7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZyxzdGFydFBpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2h9KX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWx0YVNjYWxlWCxuPXZvaWQgMD09PWU/MDplLHI9dC5kZWx0YVNjYWxlWSxpPXZvaWQgMD09PXI/MDpyLGE9dGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxvPWEuc3RhcnRCZWFyaW5nLHM9YS5zdGFydFBpdGNoO2lmKCFOdW1iZXIuaXNGaW5pdGUobyl8fCFOdW1iZXIuaXNGaW5pdGUocykpcmV0dXJuIHRoaXM7dmFyIHU9dGhpcy5fY2FsY3VsYXRlTmV3UGl0Y2hBbmRCZWFyaW5nKHtkZWx0YVNjYWxlWDpuLGRlbHRhU2NhbGVZOmksc3RhcnRCZWFyaW5nOm8sc3RhcnRQaXRjaDpzfSksYz11LnBpdGNoLGw9dS5iZWFyaW5nO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6bCxwaXRjaDpjfSl9fSx7a2V5OiJyb3RhdGVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOm51bGwsc3RhcnRQaXRjaDpudWxsfSl9fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbUxuZ0xhdDp0aGlzLl91bnByb2plY3QoZSksc3RhcnRab29tOnRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbX0pfX0se2tleToiem9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3Msbj10LnN0YXJ0UG9zLHI9dC5zY2FsZSxhPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUsbz1hLnN0YXJ0Wm9vbSxzPWEuc3RhcnRab29tTG5nTGF0O051bWJlci5pc0Zpbml0ZShvKXx8KG89dGhpcy5fdmlld3BvcnRQcm9wcy56b29tLHM9dGhpcy5fdW5wcm9qZWN0KG4pfHx0aGlzLl91bnByb2plY3QoZSkpO3ZhciB1PXRoaXMuX2NhbGN1bGF0ZU5ld1pvb20oe3NjYWxlOnIsc3RhcnRab29tOm99KSxjPW5ldyBtLmIoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHt6b29tOnV9KSkuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7bG5nTGF0OnMscG9zOmV9KSxsPWkoKShjLDIpLGg9bFswXSxmPWxbMV07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7em9vbTp1LGxvbmdpdHVkZTpoLGxhdGl0dWRlOmZ9KX19LHtrZXk6Inpvb21FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRab29tTG5nTGF0Om51bGwsc3RhcnRab29tOm51bGx9KX19LHtrZXk6Inpvb21JbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9vbUZyb21DZW50ZXIoMil9fSx7a2V5OiJ6b29tT3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tRnJvbUNlbnRlciguNSl9fSx7a2V5OiJtb3ZlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbMTAwLDBdKX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbLTEwMCwwXSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbkZyb21DZW50ZXIoWzAsMTAwXSl9fSx7a2V5OiJtb3ZlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbMCwtMTAwXSl9fSx7a2V5OiJyb3RhdGVMZWZ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6dGhpcy5fdmlld3BvcnRQcm9wcy5iZWFyaW5nLTE1fSl9fSx7a2V5OiJyb3RhdGVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtiZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZysxNX0pfX0se2tleToicm90YXRlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cGl0Y2g6dGhpcy5fdmlld3BvcnRQcm9wcy5waXRjaCsxMH0pfX0se2tleToicm90YXRlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtwaXRjaDp0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNoLTEwfSl9fSx7a2V5OiJzaG9ydGVzdFBhdGhGcm9tIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFZpZXdwb3J0UHJvcHMoKSxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcykscj1uLmJlYXJpbmcsaT1uLmxvbmdpdHVkZTtyZXR1cm4gTWF0aC5hYnMoci1lLmJlYXJpbmcpPjE4MCYmKG4uYmVhcmluZz1yPDA/ciszNjA6ci0zNjApLE1hdGguYWJzKGktZS5sb25naXR1ZGUpPjE4MCYmKG4ubG9uZ2l0dWRlPWk8MD9pKzM2MDppLTM2MCksbn19LHtrZXk6Il96b29tRnJvbUNlbnRlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdmlld3BvcnRQcm9wcyxuPWUud2lkdGgscj1lLmhlaWdodDtyZXR1cm4gdGhpcy56b29tKHtwb3M6W24vMixyLzJdLHNjYWxlOnR9KX19LHtrZXk6Il9wYW5Gcm9tQ2VudGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3cG9ydFByb3BzLG49ZS53aWR0aCxyPWUuaGVpZ2h0O3JldHVybiB0aGlzLnBhbih7c3RhcnRQb3M6W24vMixyLzJdLHBvczpbbi8yK3RbMF0sci8yK3RbMV1dfSl9fSx7a2V5OiJfZ2V0VXBkYXRlZFN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUsdCkpfX0se2tleToiX2FwcGx5Q29uc3RyYWludHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4Wm9vbSxuPXQubWluWm9vbSxyPXQuem9vbTt0Lnpvb209T2JqZWN0KHAuaCkocixuLGUpO3ZhciBpPXQubWF4UGl0Y2gsYT10Lm1pblBpdGNoLG89dC5waXRjaDtyZXR1cm4gdC5waXRjaD1PYmplY3QocC5oKShvLGEsaSksT2JqZWN0LmFzc2lnbih0LE9iamVjdChtLmspKHQpKSx0fX0se2tleToiX3VucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG0uYih0aGlzLl92aWV3cG9ydFByb3BzKTtyZXR1cm4gdCYmZS51bnByb2plY3QodCl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3TG5nTGF0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXJ0UGFuTG5nTGF0LG49dC5wb3M7cmV0dXJuIG5ldyBtLmIodGhpcy5fdmlld3BvcnRQcm9wcykuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7bG5nTGF0OmUscG9zOm59KX19LHtrZXk6Il9jYWxjdWxhdGVOZXdab29tIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjYWxlLG49dC5zdGFydFpvb20scj10aGlzLl92aWV3cG9ydFByb3BzLGk9ci5tYXhab29tLGE9ci5taW5ab29tLG89bitNYXRoLmxvZzIoZSk7cmV0dXJuIE9iamVjdChwLmgpKG8sYSxpKX19LHtrZXk6Il9jYWxjdWxhdGVOZXdQaXRjaEFuZEJlYXJpbmciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVsdGFTY2FsZVgsbj10LmRlbHRhU2NhbGVZLHI9dC5zdGFydEJlYXJpbmcsaT10LnN0YXJ0UGl0Y2g7bj1PYmplY3QocC5oKShuLC0xLDEpO3ZhciBhPXRoaXMuX3ZpZXdwb3J0UHJvcHMsbz1hLm1pblBpdGNoLHM9YS5tYXhQaXRjaCx1PWk7cmV0dXJuIG4+MD91PWkrbioocy1pKTpuPDAmJih1PWktbiooby1pKSkse3BpdGNoOnUsYmVhcmluZzpyKzE4MCplfX19XSksZX0oeS5hKSxDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIG8oKSh0aGlzLGUpLChuPWwoKSh0aGlzLGYoKShlKS5jYWxsKHRoaXMsTSx0KSkpLmludmVydFBhbj0hMCxufXJldHVybiB2KCkoZSx0KSx1KCkoZSxbe2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4geH19LHtrZXk6Il9vblBhblJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZHJhZ1JvdGF0ZSlyZXR1cm4hMTt2YXIgZT10LmRlbHRhWCxuPXQuZGVsdGFZLHI9dGhpcy5nZXRDZW50ZXIodCksYT1pKCkociwyKVsxXSxvPWEtbixzPXRoaXMuY29udHJvbGxlclN0YXRlLmdldFZpZXdwb3J0UHJvcHMoKSx1PXMud2lkdGgsYz1zLmhlaWdodCxsPWUvdSxoPTA7bj4wP01hdGguYWJzKGMtbyk+NSYmKGg9bi8oby1jKSoxLjIpOm48MCYmbz41JiYoaD0xLWEvbyksaD1NYXRoLm1pbigxLE1hdGgubWF4KC0xLGgpKTt2YXIgZj10aGlzLmNvbnRyb2xsZXJTdGF0ZS5yb3RhdGUoe2RlbHRhU2NhbGVYOmwsZGVsdGFTY2FsZVk6aH0pO3JldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KGYsdyx7aXNEcmFnZ2luZzohMCxpc1JvdGF0aW5nOiEwfSl9fV0pLGV9KGcuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9bigyOSksdT1uKDI3NiksYz1uKDExOCksbD1uKDQ2KSxoPW4oMjMpLGY9big0NSksZD1uKDc1KSx2PW4oMTMxKSxwPW4oNTYpLGc9bigxNjMpLHk9T2JqZWN0LnNlYWwoe2xheWVyTWFuYWdlcjpudWxsLGRlY2s6bnVsbCxnbDpudWxsLHN0YXRzOm51bGwsc2hhZGVyQ2FjaGU6bnVsbCxwaWNraW5nRkJPOm51bGwsbW91c2VQb3NpdGlvbjpudWxsLHVzZXJEYXRhOnt9fSksbT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGMuYT8iIi5jb25jYXQodCk6dD8iaW52YWxpZCI6Im51bGwifSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmRlY2ssYT1uLnN0YXRzLG89bi52aWV3cG9ydCxzPXZvaWQgMD09PW8/bnVsbDpvLGM9bi50aW1lbGluZSxsPXZvaWQgMD09PWM/bnVsbDpjO2koKSh0aGlzLHQpLHRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzPVtdLHRoaXMubGF5ZXJzPVtdLHRoaXMuY29udGV4dD1PYmplY3QuYXNzaWduKHt9LHkse2xheWVyTWFuYWdlcjp0aGlzLGRlY2s6cixnbDplLHByb2dyYW1NYW5hZ2VyOmUmJk9iamVjdChnLmEpKGUpLHN0YXRzOmF8fG5ldyB2LmEoe2lkOiJkZWNrLmdsIn0pLHZpZXdwb3J0OnN8fG5ldyBwLmEoe2lkOiJERUZBVUxULUlOSVRJQUwtVklFV1BPUlQifSksdGltZWxpbmU6bHx8bmV3IHUuYX0pLHRoaXMuX25lZWRzUmVkcmF3PSJJbml0aWFsIHJlbmRlciIsdGhpcy5fbmVlZHNVcGRhdGU9ITEsdGhpcy5fZGVidWc9ITEsdGhpcy5fb25FcnJvcj1udWxsLHRoaXMuYWN0aXZhdGVWaWV3cG9ydD10aGlzLmFjdGl2YXRlVmlld3BvcnQuYmluZCh0aGlzKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gbygpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEwLGU9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMubGF5ZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBhPXIudmFsdWU7dGhpcy5fZmluYWxpemVMYXllcihhKX19Y2F0Y2godCl7ZT0hMCxuPXR9ZmluYWxseXt0cnl7dHx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihlKXRocm93IG59fX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sZT10aGlzLl9uZWVkc1JlZHJhdzt0LmNsZWFyUmVkcmF3RmxhZ3MmJih0aGlzLl9uZWVkc1JlZHJhdz0hMSk7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy5sYXllcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZSx1PXMuZ2V0TmVlZHNSZWRyYXcodCk7ZT1lfHx1fX1jYXRjaCh0KXtyPSEwLGk9dH1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19cmV0dXJuIGV9fSx7a2V5OiJuZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZHNVcGRhdGV9fSx7a2V5OiJzZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fHR9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy5fbmVlZHNVcGRhdGV8fHR9fSx7a2V5OiJnZXRMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5sYXllcklkcyxuPXZvaWQgMD09PWU/bnVsbDplO3JldHVybiBuP3RoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIG4uZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT10LmlkLmluZGV4T2YoZSl9KSl9KSk6dGhpcy5sYXllcnN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7ImRlYnVnImluIHQmJih0aGlzLl9kZWJ1Zz10LmRlYnVnKSwidXNlckRhdGEiaW4gdCYmKHRoaXMuY29udGV4dC51c2VyRGF0YT10LnVzZXJEYXRhKSwibGF5ZXJzImluIHQmJnRoaXMuc2V0TGF5ZXJzKHQubGF5ZXJzKSwib25FcnJvciJpbiB0JiYodGhpcy5fb25FcnJvcj10Lm9uRXJyb3IpfX0se2tleToic2V0TGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49ZXx8dCE9PXRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzO2lmKE9iamVjdChmLmEpKCJsYXllck1hbmFnZXIuc2V0TGF5ZXJzIix0aGlzLG4sdCksIW4pcmV0dXJuIHRoaXM7dGhpcy5sYXN0UmVuZGVyZWRMYXllcnM9dCx0PU9iamVjdChkLmIpKHQsQm9vbGVhbik7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UuY29udGV4dD10aGlzLmNvbnRleHR9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gdGhpcy5fdXBkYXRlTGF5ZXJzKHRoaXMubGF5ZXJzLHQpLHRoaXN9fSx7a2V5OiJ1cGRhdGVMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZWVkc1VwZGF0ZSgpO2lmKHQpe3RoaXMuc2V0TmVlZHNSZWRyYXcoInVwZGF0aW5nIGxheWVyczogIi5jb25jYXQodCkpO3RoaXMuc2V0TGF5ZXJzKHRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzLCEwKX19fSx7a2V5OiJhY3RpdmF0ZVZpZXdwb3J0Iix2YWx1ZTpmdW5jdGlvbih0KXtPYmplY3Qocy5hKSh0LCJMYXllck1hbmFnZXI6IHZpZXdwb3J0IG5vdCBzZXQiKTt2YXIgZT10aGlzLmNvbnRleHQudmlld3BvcnQ7aWYoIWV8fCF0LmVxdWFscyhlKSl7T2JqZWN0KGYuYSkoImxheWVyTWFuYWdlci5hY3RpdmF0ZVZpZXdwb3J0Iix0aGlzLHQpLHRoaXMuY29udGV4dC52aWV3cG9ydD10O3ZhciBuPXt2aWV3cG9ydENoYW5nZWQ6ITB9LHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHU9dGhpcy5sYXllcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz11Lm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIGM9by52YWx1ZTtjLnNldENoYW5nZUZsYWdzKG4pLHRoaXMuX3VwZGF0ZUxheWVyKGMpfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fXJldHVybiB0aGlzfX0se2tleToiX2hhbmRsZUVycm9yIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5fb25FcnJvcj90aGlzLl9vbkVycm9yKGUsbik6aC5hLmVycm9yKCJlcnJvciBkdXJpbmcgIi5jb25jYXQodCwiIG9mICIpLmNvbmNhdChtKG4pKSxlKSgpfX0se2tleToiX3VwZGF0ZUxheWVycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTtuW3UuaWRdP2guYS53YXJuKCJNdWx0aXBsZSBvbGQgbGF5ZXJzIHdpdGggc2FtZSBpZCAiLmNvbmNhdChtKHUpKSkoKTpuW3UuaWRdPXV9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX12YXIgYz1bXTt0aGlzLl91cGRhdGVTdWJsYXllcnNSZWN1cnNpdmVseShlLG4sYyksdGhpcy5fZmluYWxpemVPbGRMYXllcnMobik7Zm9yKHZhciBsPSExLGY9MCxkPWM7ZjxkLmxlbmd0aDtmKyspe2lmKGRbZl0uaGFzVW5pZm9ybVRyYW5zaXRpb24oKSl7bD0hMDticmVha319dGhpcy5fbmVlZHNVcGRhdGU9bCx0aGlzLmxheWVycz1jfX0se2tleToiX3VwZGF0ZVN1YmxheWVyc1JlY3Vyc2l2ZWx5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UuY29udGV4dD10aGlzLmNvbnRleHQ7dmFyIGM9ZVt1LmlkXTtudWxsPT09YyYmaC5hLndhcm4oIk11bHRpcGxlIG5ldyBsYXllcnMgd2l0aCBzYW1lIGlkICIuY29uY2F0KG0odSkpKSgpLGVbdS5pZF09bnVsbDt2YXIgbD1udWxsO3RyeXt0aGlzLl9kZWJ1ZyYmYyE9PXUmJnUudmFsaWRhdGVQcm9wcygpLGM/KHRoaXMuX3RyYW5zZmVyTGF5ZXJTdGF0ZShjLHUpLHRoaXMuX3VwZGF0ZUxheWVyKHUpKTp0aGlzLl9pbml0aWFsaXplTGF5ZXIodSksbi5wdXNoKHUpLGw9dS5pc0NvbXBvc2l0ZSYmdS5nZXRTdWJMYXllcnMoKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVFcnJvcigibWF0Y2hpbmciLHQsdSl9bCYmdGhpcy5fdXBkYXRlU3VibGF5ZXJzUmVjdXJzaXZlbHkobCxlLG4pfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fX0se2tleToiX2ZpbmFsaXplT2xkTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl7dmFyIG49dFtlXTtuJiZ0aGlzLl9maW5hbGl6ZUxheWVyKG4pfX19LHtrZXk6Il9pbml0aWFsaXplTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3RyeXt0Ll9pbml0aWFsaXplKCksdC5saWZlY3ljbGU9bC5hLklOSVRJQUxJWkVEfWNhdGNoKGUpe3RoaXMuX2hhbmRsZUVycm9yKCJpbml0aWFsaXphdGlvbiIsZSx0KX19fSx7a2V5OiJfdHJhbnNmZXJMYXllclN0YXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2UuX3RyYW5zZmVyU3RhdGUodCksZS5saWZlY3ljbGU9bC5hLk1BVENIRUQsZSE9PXQmJih0LmxpZmVjeWNsZT1sLmEuQVdBSVRJTkdfR0MpfX0se2tleToiX3VwZGF0ZUxheWVyIix2YWx1ZTpmdW5jdGlvbih0KXt0cnl7dC5fdXBkYXRlKCl9Y2F0Y2goZSl7dGhpcy5faGFuZGxlRXJyb3IoInVwZGF0ZSIsZSx0KX19fSx7a2V5OiJfZmluYWxpemVMYXllciIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fCJmaW5hbGl6ZWQgIi5jb25jYXQobSh0KSksdC5saWZlY3ljbGU9bC5hLkFXQUlUSU5HX0ZJTkFMSVpBVElPTjt0cnl7dC5fZmluYWxpemUoKSx0LmxpZmVjeWNsZT1sLmEuRklOQUxJWkVEfWNhdGNoKGUpe3RoaXMuX2hhbmRsZUVycm9yKCJmaW5hbGl6YXRpb24iLGUsdCl9fX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDUpLGk9bi5uKHIpLGE9bigxMyksbz1uKDYpLHM9big3KSx1PW4oMTYyKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLnNvdXJjZSxyPWUubmFtZSxpPXZvaWQgMD09PXI/InVubmFtZWQiOnIsYT1lLm1heENvbmN1cnJlbmN5LHM9dm9pZCAwPT09YT8xOmEsdT1lLm9uTWVzc2FnZSxjPWUub25EZWJ1ZyxsPXZvaWQgMD09PWM/ZnVuY3Rpb24oKXt9OmM7T2JqZWN0KG8uYSkodGhpcyx0KSx0aGlzLnNvdXJjZT1uLHRoaXMubmFtZT1pLHRoaXMubWF4Q29uY3VycmVuY3k9cyx0aGlzLm9uTWVzc2FnZT11LHRoaXMub25EZWJ1Zz1sLHRoaXMuam9iUXVldWU9W10sdGhpcy5pZGxlUXVldWU9W10sdGhpcy5jb3VudD0wLHRoaXMuaXNEZXN0cm95ZWQ9ITF9dmFyIGU7cmV0dXJuIE9iamVjdChzLmEpKHQsW3trZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pZGxlUXVldWUuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSkpLHRoaXMuaXNEZXN0cm95ZWQ9ITB9fSx7a2V5OiJwcm9jZXNzIix2YWx1ZTooZT1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByPXRoaXM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7ci5qb2JRdWV1ZS5wdXNoKHtkYXRhOmUsam9iTmFtZTpuLHJlc29sdmU6dCxyZWplY3Q6aX0pLHIuX3N0YXJ0UXVldWVkSm9iKCl9KSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSxmdW5jdGlvbih0LG4pe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfc3RhcnRRdWV1ZWRKb2IiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmpvYlF1ZXVlLmxlbmd0aCl7dmFyIGU9dGhpcy5fZ2V0QXZhaWxhYmxlV29ya2VyKCk7aWYoZSl7dmFyIG49dGhpcy5qb2JRdWV1ZS5zaGlmdCgpO3RoaXMub25EZWJ1Zyh7bWVzc2FnZToicHJvY2Vzc2luZyIsd29ya2VyOmUubmFtZSxqb2I6bi5qb2JOYW1lLGJhY2tsb2c6dGhpcy5qb2JRdWV1ZS5sZW5ndGh9KSxlLnByb2Nlc3Mobi5kYXRhKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZXNvbHZlKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZWplY3QodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25Xb3JrZXJEb25lKGUpfSkpfX19fSx7a2V5OiJfb25Xb3JrZXJEb25lIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmlzRGVzdHJveWVkP3QuZGVzdHJveSgpOih0aGlzLmlkbGVRdWV1ZS5wdXNoKHQpLHRoaXMuX3N0YXJ0UXVldWVkSm9iKCkpfX0se2tleToiX2dldEF2YWlsYWJsZVdvcmtlciIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlkbGVRdWV1ZS5sZW5ndGg+MClyZXR1cm4gdGhpcy5pZGxlUXVldWUuc2hpZnQoKTtpZih0aGlzLmNvdW50PHRoaXMubWF4Q29uY3VycmVuY3kpe3RoaXMuY291bnQrKzt2YXIgdD0iIi5jb25jYXQodGhpcy5uYW1lLnRvTG93ZXJDYXNlKCksIiAoIyIpLmNvbmNhdCh0aGlzLmNvdW50LCIgb2YgIikuY29uY2F0KHRoaXMubWF4Q29uY3VycmVuY3ksIikiKTtyZXR1cm4gbmV3IHUuYSh7c291cmNlOnRoaXMuc291cmNlLG9uTWVzc2FnZTp0aGlzLm9uTWVzc2FnZSxuYW1lOnR9KX1yZXR1cm4gbnVsbH19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9big5NiksaT1uKDE4OCk7ZnVuY3Rpb24gYSh0KXtpZihpLnRvQXJyYXlCdWZmZXImJih0PU9iamVjdChpLnRvQXJyYXlCdWZmZXIpKHQpKSx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHQ7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiB0LmJ1ZmZlcjtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBlPXQ7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLmJ1ZmZlcn1yZXR1cm4gT2JqZWN0KHIuYSkoITEpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9big0KSxpPW4ubihyKTtmdW5jdGlvbiBhKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKHQsZSl7aWYoIWUpcmV0dXJuIHQ7dmFyIG49T2JqZWN0LmFzc2lnbih7fSx0LGUpO2lmKCJkZWZpbmVzImluIGUmJihuLmRlZmluZXM9T2JqZWN0LmFzc2lnbih7fSx0LmRlZmluZXMsZS5kZWZpbmVzKSksIm1vZHVsZXMiaW4gZSYmKG4ubW9kdWxlcz0odC5tb2R1bGVzfHxbXSkuY29uY2F0KGUubW9kdWxlcyksZS5tb2R1bGVzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiJwcm9qZWN0NjQiPT09dC5uYW1lfSkpKSl7dmFyIHI9bi5tb2R1bGVzLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuInByb2plY3QzMiI9PT10Lm5hbWV9KSk7cj49MCYmbi5tb2R1bGVzLnNwbGljZShyLDEpfWlmKCJpbmplY3QiaW4gZSlpZih0LmluamVjdCl7dmFyIG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/YShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdC5pbmplY3QpO2Zvcih2YXIgcyBpbiBlLmluamVjdClvW3NdPShvW3NdfHwiIikrZS5pbmplY3Rbc107bi5pbmplY3Q9b31lbHNlIG4uaW5qZWN0PWUuaW5qZWN0O3JldHVybiBufX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9big0MSksaT1uLm4ocik7ZnVuY3Rpb24gYSh0KXtpZihudWxsPT09KGU9dCl8fCJvYmplY3QiIT09aSgpKGUpKXRocm93IG5ldyBFcnJvcigiY291bnQoKTogYXJndW1lbnQgbm90IGFuIG9iamVjdCIpO3ZhciBlO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvdW50KXJldHVybiB0LmNvdW50KCk7aWYoTnVtYmVyLmlzRmluaXRlKHQuc2l6ZSkpcmV0dXJuIHQuc2l6ZTtpZihOdW1iZXIuaXNGaW5pdGUodC5sZW5ndGgpKXJldHVybiB0Lmxlbmd0aDtpZihmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJiJvYmplY3QiPT09aSgpKHQpJiZ0LmNvbnN0cnVjdG9yPT09T2JqZWN0fSh0KSlyZXR1cm4gT2JqZWN0LmtleXModCkubGVuZ3RoO3Rocm93IG5ldyBFcnJvcigiY291bnQoKTogYXJndW1lbnQgbm90IGEgY29udGFpbmVyIil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big0KSx1PW4ubihzKSxjPW4oMTkpLGw9bi5uKGMpLGg9big5KSxmPW4ubihoKSxkPW4oMyksdj1uLm4oZCkscD1uKDEyKSxnPW4ubihwKSx5PW4oMTApLG09bi5uKHkpLGI9bigyNzUpLF89bigxODcpLE89big0OCk7ZnVuY3Rpb24geCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aSgpKHRoaXMsdCksdGhpcy5vcHRzPW4sdGhpcy5zb3VyY2U9ZX1yZXR1cm4gbygpKHQsW3trZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc291cmNlLmdldEJ1ZmZlcigpLGU9dGhpcy5nZXRBY2Nlc3NvcigpO2lmKHQpcmV0dXJuW3QsZV07dmFyIG49dGhpcy5zb3VyY2UudmFsdWUscj1lLnNpemUsaT1uO2lmKG4mJm4ubGVuZ3RoIT09cil7aT1uZXcgRmxvYXQzMkFycmF5KHIpO2Zvcih2YXIgYT1lLmVsZW1lbnRPZmZzZXR8fDAsbz0wO288cjsrK28paVtvXT1uW2Erb119cmV0dXJuIGl9fSx7a2V5OiJnZXRBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/eChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6eChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdGhpcy5zb3VyY2UuZ2V0QWNjZXNzb3IoKSx7fSx0aGlzLm9wdHMpfX0se2tleToidmFsdWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS52YWx1ZX19XSksdH0oKTt2YXIgaz1uKDk1KSxTPW4oNTApLFA9bigyMyk7ZnVuY3Rpb24gaih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9qKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dSgpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpqKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIEUodCl7cmV0dXJuIHQuc3RyaWRlfHx0LnNpemUqdC5ieXRlc1BlckVsZW1lbnR9ZnVuY3Rpb24gQSh0LGUpe2Uub2Zmc2V0JiZQLmEucmVtb3ZlZCgic2hhZGVyQXR0cmlidXRlLm9mZnNldCIsInZlcnRleE9mZnNldCwgZWxlbWVudE9mZnNldCIpKCk7dmFyIG49RSh0KTtyZXR1cm4gVCh7fSxlLHtvZmZzZXQ6KCJ2ZXJ0ZXhPZmZzZXQiaW4gZT9lLnZlcnRleE9mZnNldDp0LnZlcnRleE9mZnNldHx8MCkqbisoZS5lbGVtZW50T2Zmc2V0fHwwKSp0LmJ5dGVzUGVyRWxlbWVudCsodC5vZmZzZXR8fDApLHN0cmlkZTpufSl9dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aSgpKHRoaXMsdCksdGhpcy5nbD1lLHRoaXMuaWQ9bi5pZCx0aGlzLnNpemU9bi5zaXplO3ZhciByPW4ubG9naWNhbFR5cGV8fG4udHlwZSxhPTUxMzA9PT1yLG89bi5kZWZhdWx0VmFsdWU7bz1OdW1iZXIuaXNGaW5pdGUobyk/W29dOm98fG5ldyBBcnJheSh0aGlzLnNpemUpLmZpbGwoMCksbi5kZWZhdWx0VmFsdWU9bzt2YXIgcz1yO2E/cz01MTI2OiFzJiZuLmlzSW5kZXhlZD9zPWUmJk9iamVjdChiLmIpKGUsXy5hLkVMRU1FTlRfSU5ERVhfVUlOVDMyKT81MTI1OjUxMjM6c3x8KHM9NTEyNiksbi5sb2dpY2FsVHlwZT1yLG4udHlwZT1zO3ZhciB1PWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlIDUxMzA6cmV0dXJuIEZsb2F0NjRBcnJheTtjYXNlIDUxMjM6Y2FzZSAzMzYzNTpjYXNlIDMyODE5OmNhc2UgMzI4MjA6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgNTEyNTpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSA1MTIxOnJldHVybiBVaW50OENsYW1wZWRBcnJheTtjYXNlIDUxMjA6cmV0dXJuIEludDhBcnJheTtjYXNlIDUxMjI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSA1MTI0OnJldHVybiBJbnQzMkFycmF5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdMIHR5cGUiKX19KHJ8fHN8fDUxMjYpO3RoaXMuc2hhZGVyQXR0cmlidXRlcz17fSx0aGlzLmRvdWJsZVByZWNpc2lvbj1hLGEmJiExPT09bi5mcDY0JiYodT1GbG9hdDMyQXJyYXkpLG4uYnl0ZXNQZXJFbGVtZW50PXUuQllURVNfUEVSX0VMRU1FTlQsdGhpcy5kZWZhdWx0VHlwZT11LHRoaXMudmFsdWU9bnVsbCx0aGlzLnNldHRpbmdzPW4sdGhpcy5zdGF0ZT17ZXh0ZXJuYWxCdWZmZXI6bnVsbCxidWZmZXJBY2Nlc3NvcjpuLGFsbG9jYXRlZFZhbHVlOm51bGwsY29uc3RhbnQ6ITF9LHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuc2V0RGF0YShuKX1yZXR1cm4gbygpKHQsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXImJih0aGlzLl9idWZmZXIuZGVsZXRlKCksdGhpcy5fYnVmZmVyPW51bGwpLGsuYS5yZWxlYXNlKHRoaXMuc3RhdGUuYWxsb2NhdGVkVmFsdWUpfX0se2tleToiZ2V0U2hhZGVyQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmRvdWJsZVByZWNpc2lvbil7dmFyIG49e30scj10aGlzLnZhbHVlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5LGk9KGE9dGhpcy5nZXRBY2Nlc3NvcigpLHtoaWdoOm89QShhLGV8fHt9KSxsb3c6VCh7fSxvLHtvZmZzZXQ6by5vZmZzZXQrNCphLnNpemV9KX0pO3JldHVybiBuW3RdPW5ldyB3KHRoaXMsaS5oaWdoKSxuWyIiLmNvbmNhdCh0LCI2NExvdyIpXT1yP25ldyB3KHRoaXMsaS5sb3cpOm5ldyBGbG9hdDMyQXJyYXkodGhpcy5zaXplKSxufXZhciBhLG87aWYoZSl7dmFyIHM9QSh0aGlzLmdldEFjY2Vzc29yKCksZSk7cmV0dXJuIHUoKSh7fSx0LG5ldyB3KHRoaXMscykpfXJldHVybiB1KCkoe30sdCx0aGlzKX19LHtrZXk6ImdldEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5jb25zdGFudD9udWxsOnRoaXMuc3RhdGUuZXh0ZXJuYWxCdWZmZXJ8fHRoaXMuX2J1ZmZlcn19LHtrZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmNvbnN0YW50P3RoaXMudmFsdWU6W3RoaXMuZ2V0QnVmZmVyKCksdGhpcy5nZXRBY2Nlc3NvcigpXX19LHtrZXk6ImdldEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmJ1ZmZlckFjY2Vzc29yfX0se2tleToic2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZTtBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dD17dmFsdWU6dH06dCBpbnN0YW5jZW9mIE8uYSYmKHQ9e2J1ZmZlcjp0fSk7dmFyIG49VCh7fSx0aGlzLnNldHRpbmdzLHt9LHQpO2lmKGUuYnVmZmVyQWNjZXNzb3I9bix0LmNvbnN0YW50KXt2YXIgcj10LnZhbHVlO2lmKHI9dGhpcy5fbm9ybWFsaXplVmFsdWUocixbXSwwKSx0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZWQmJihyPXRoaXMuX25vcm1hbGl6ZUNvbnN0YW50KHIpKSwhKCFlLmNvbnN0YW50fHwhdGhpcy5fYXJlVmFsdWVzRXF1YWwocix0aGlzLnZhbHVlKSkpcmV0dXJuITE7ZS5leHRlcm5hbEJ1ZmZlcj1udWxsLGUuY29uc3RhbnQ9ITAsdGhpcy52YWx1ZT1yfWVsc2UgaWYodC5idWZmZXIpe3ZhciBpPXQuYnVmZmVyO2UuZXh0ZXJuYWxCdWZmZXI9aSxlLmNvbnN0YW50PSExLHRoaXMudmFsdWU9dC52YWx1ZTt2YXIgYT10LnZhbHVlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5O24udHlwZT10LnR5cGV8fGkuYWNjZXNzb3IudHlwZSxuLmJ5dGVzUGVyRWxlbWVudD1pLmFjY2Vzc29yLkJZVEVTX1BFUl9FTEVNRU5UKihhPzI6MSksbi5zdHJpZGU9RShuKX1lbHNlIGlmKHQudmFsdWUpe3RoaXMuX2NoZWNrRXh0ZXJuYWxCdWZmZXIodCk7dmFyIG89dC52YWx1ZTtlLmV4dGVybmFsQnVmZmVyPW51bGwsZS5jb25zdGFudD0hMSx0aGlzLnZhbHVlPW8sbi5ieXRlc1BlckVsZW1lbnQ9by5CWVRFU19QRVJfRUxFTUVOVCxuLnN0cmlkZT1FKG4pO3ZhciBzPXRoaXMuYnVmZmVyLHU9dGhpcy5ieXRlT2Zmc2V0O3RoaXMuZG91YmxlUHJlY2lzaW9uJiZvIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5JiYobz1PYmplY3QoUy5mKShvLG4pKSxzLmJ5dGVMZW5ndGg8by5ieXRlTGVuZ3RoK3UmJnMucmVhbGxvY2F0ZSgyKihvLmJ5dGVMZW5ndGgrdSkpLHMuc2V0QWNjZXNzb3IobnVsbCkscy5zdWJEYXRhKHtkYXRhOm8sb2Zmc2V0OnV9KSxuLnR5cGU9dC50eXBlfHxzLmFjY2Vzc29yLnR5cGV9cmV0dXJuITB9fSx7a2V5OiJ1cGRhdGVTdWJCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy52YWx1ZSxuPXQuc3RhcnRPZmZzZXQscj12b2lkIDA9PT1uPzA6bixpPXQuZW5kT2Zmc2V0O3RoaXMuYnVmZmVyLnN1YkRhdGEoe2RhdGE6dGhpcy5kb3VibGVQcmVjaXNpb24mJmUgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/T2JqZWN0KFMuZikoZSx7c2l6ZTp0aGlzLnNpemUsc3RhcnRJbmRleDpyLGVuZEluZGV4Oml9KTplLnN1YmFycmF5KHIsaSksb2Zmc2V0OnIqZS5CWVRFU19QRVJfRUxFTUVOVCt0aGlzLmJ5dGVPZmZzZXR9KX19LHtrZXk6ImFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lm51bUluc3RhbmNlcyxuPXQuY29weSxyPXZvaWQgMCE9PW4mJm4saT10aGlzLnN0YXRlLGE9aS5hbGxvY2F0ZWRWYWx1ZSxvPWsuYS5hbGxvY2F0ZShhLGUrMSx7c2l6ZTp0aGlzLnNpemUsdHlwZTp0aGlzLmRlZmF1bHRUeXBlLGNvcHk6cn0pO3RoaXMudmFsdWU9bzt2YXIgcz10aGlzLmJ1ZmZlcix1PXRoaXMuYnl0ZU9mZnNldDtyZXR1cm4gcy5ieXRlTGVuZ3RoPG8uYnl0ZUxlbmd0aCt1JiYocy5yZWFsbG9jYXRlKG8uYnl0ZUxlbmd0aCt1KSxyJiZhJiZzLnN1YkRhdGEoe2RhdGE6YSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT9PYmplY3QoUy5mKShhLHRoaXMpOmEsb2Zmc2V0OnV9KSksaS5hbGxvY2F0ZWRWYWx1ZT1vLGkuY29uc3RhbnQ9ITEsaS5leHRlcm5hbEJ1ZmZlcj1udWxsLGkuYnVmZmVyQWNjZXNzb3I9dGhpcy5zZXR0aW5ncywhMH19LHtrZXk6Il9jaGVja0V4dGVybmFsQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlO2lmKCF0LmNvbnN0YW50JiZlKXt2YXIgbj10aGlzLmRlZmF1bHRUeXBlLHI9ITE7aWYodGhpcy5kb3VibGVQcmVjaXNpb24mJihyPWUuQllURVNfUEVSX0VMRU1FTlQ8NCkscil0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSAiLmNvbmNhdCh0aGlzLmlkLCIgZG9lcyBub3Qgc3VwcG9ydCAiKS5jb25jYXQoZS5jb25zdHJ1Y3Rvci5uYW1lKSk7ZSBpbnN0YW5jZW9mIG58fCF0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZWR8fCJub3JtYWxpemVkImluIHR8fFAuYS53YXJuKCJBdHRyaWJ1dGUgIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vcm1hbGl6ZWQiKSkoKX19fSx7a2V5OiJfbm9ybWFsaXplQ29uc3RhbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0aGlzLnNldHRpbmdzLnR5cGUpe2Nhc2UgNTEyMDpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybih0KzEyOCkvMjU1KjItMX0pKTtjYXNlIDUxMjI6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4odCszMjc2OCkvNjU1MzUqMi0xfSkpO2Nhc2UgNTEyMTpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKTtjYXNlIDUxMjM6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC82NTUzNX0pKTtkZWZhdWx0OnJldHVybiB0fX19LHtrZXk6Il9ub3JtYWxpemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuc2V0dGluZ3MsaT1yLmRlZmF1bHRWYWx1ZSxhPXIuc2l6ZTtpZihOdW1iZXIuaXNGaW5pdGUodCkpcmV0dXJuIGVbbl09dCxlO2lmKCF0KXJldHVybiBlW25dPWlbMF0sZTtzd2l0Y2goYSl7Y2FzZSA0OmVbbiszXT1OdW1iZXIuaXNGaW5pdGUodFszXSk/dFszXTppWzNdO2Nhc2UgMzplW24rMl09TnVtYmVyLmlzRmluaXRlKHRbMl0pP3RbMl06aVsyXTtjYXNlIDI6ZVtuKzFdPU51bWJlci5pc0Zpbml0ZSh0WzFdKT90WzFdOmlbMV07Y2FzZSAxOmVbbiswXT1OdW1iZXIuaXNGaW5pdGUodFswXSk/dFswXTppWzBdO2JyZWFrO2RlZmF1bHQ6Zm9yKHZhciBvPWE7LS1vPj0wOyllW24rb109TnVtYmVyLmlzRmluaXRlKHRbb10pP3Rbb106aVtvXX1yZXR1cm4gZX19LHtrZXk6Il9hcmVWYWx1ZXNFcXVhbCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdHx8IWUpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMuc2l6ZSxyPTA7cjxuO3IrKylpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6ImJ1ZmZlciIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2J1ZmZlcil7dmFyIHQ9dGhpcy5zZXR0aW5ncyxlPXQuaXNJbmRleGVkLG49dC50eXBlO3RoaXMuX2J1ZmZlcj1uZXcgTy5hKHRoaXMuZ2wse2lkOnRoaXMuaWQsdGFyZ2V0OmU/MzQ5NjM6MzQ5NjIsYWNjZXNzb3I6e3R5cGU6bn19KX1yZXR1cm4gdGhpcy5fYnVmZmVyfX0se2tleToiYnl0ZU9mZnNldCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRBY2Nlc3NvcigpO3JldHVybiB0LnZlcnRleE9mZnNldD90LnZlcnRleE9mZnNldCpFKHQpOjB9fV0pLHR9KCksQz1uKDI5KSxMPW4oNjQpLEk9big3NSksUj1bXSxOPVtbMCwxLzBdXTtmdW5jdGlvbiBEKHQsZSl7aWYodD09PU4pcmV0dXJuIHQ7aWYoZVswXTwwJiYoZVswXT0wKSxlWzBdPj1lWzFdKXJldHVybiB0O2Zvcih2YXIgbj1bXSxyPXQubGVuZ3RoLGk9MCxhPTA7YTxyO2ErKyl7dmFyIG89dFthXTtvWzFdPGVbMF0/KG4ucHVzaChvKSxpPWErMSk6b1swXT5lWzFdP24ucHVzaChvKTplPVtNYXRoLm1pbihvWzBdLGVbMF0pLE1hdGgubWF4KG9bMV0sZVsxXSldfXJldHVybiBuLnNwbGljZShpLDAsZSksbn12YXIgRj1uKDU3KSx6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aSgpKHRoaXMsZSksbj1mKCkodGhpcyx2KCkoZSkuY2FsbCh0aGlzLHQscikpO3ZhciBhPXIudHJhbnNpdGlvbixvPXZvaWQgMCE9PWEmJmEscz1yLm5vQWxsb2MsdT12b2lkIDAhPT1zJiZzLGM9ci51cGRhdGUsbD12b2lkIDA9PT1jP251bGw6YyxoPXIuYWNjZXNzb3IsZD12b2lkIDA9PT1oP251bGw6aCxwPXIudHJhbnNmb3JtLGc9dm9pZCAwPT09cD9udWxsOnAseT1yLnN0YXJ0SW5kaWNlcyxtPXZvaWQgMD09PXk/bnVsbDp5O3JldHVybiBPYmplY3QuYXNzaWduKG4uc2V0dGluZ3Mse3RyYW5zaXRpb246byxub0FsbG9jOnUsdXBkYXRlOmx8fGQmJm4uX2F1dG9VcGRhdGVyLGFjY2Vzc29yOmQsdHJhbnNmb3JtOmd9KSxPYmplY3QuYXNzaWduKG4uc3RhdGUse2xhc3RFeHRlcm5hbEJ1ZmZlcjpudWxsLGJpbmFyeVZhbHVlOm51bGwsYmluYXJ5QWNjZXNzb3I6bnVsbCxuZWVkc1VwZGF0ZTohMCxuZWVkc1JlZHJhdzohMSx1cGRhdGVSYW5nZXM6TixzdGFydEluZGljZXM6bX0pLE9iamVjdC5zZWFsKG4uc2V0dGluZ3MpLE9iamVjdC5zZWFsKG4uc3RhdGUpLG4uX3ZhbGlkYXRlQXR0cmlidXRlVXBkYXRlcnMoKSxufXJldHVybiBtKCkoZSx0KSxvKCkoZSxbe2tleToibmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUubmVlZHNVcGRhdGV9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNsZWFyQ2hhbmdlZEZsYWdzLG49dm9pZCAwIT09ZSYmZSxyPXRoaXMuc3RhdGUubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMuc3RhdGUubmVlZHNSZWRyYXc9ciYmIW4scn19LHtrZXk6ImdldFVwZGF0ZVRyaWdnZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2V0dGluZ3MuYWNjZXNzb3I7cmV0dXJuW3RoaXMuaWRdLmNvbmNhdCgiZnVuY3Rpb24iIT10eXBlb2YgdCYmdHx8W10pfX0se2tleToic3VwcG9ydHNUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbil9fSx7a2V5OiJnZXRUcmFuc2l0aW9uU2V0dGluZyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXR0aW5ncy5hY2Nlc3NvcixuPXRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbjtpZighdGhpcy5zdXBwb3J0c1RyYW5zaXRpb24oKSlyZXR1cm4gbnVsbDt2YXIgcj1BcnJheS5pc0FycmF5KGUpP3RbZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKV06dFtlXTtyZXR1cm4gT2JqZWN0KEYuZSkocixuKX19LHtrZXk6InNldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmlkLGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYodGhpcy5zdGF0ZS5uZWVkc1VwZGF0ZT10aGlzLnN0YXRlLm5lZWRzVXBkYXRlfHx0LHRoaXMuc2V0TmVlZHNSZWRyYXcodCksZSl7dmFyIG49ZS5zdGFydFJvdyxyPXZvaWQgMD09PW4/MDpuLGk9ZS5lbmRSb3csYT12b2lkIDA9PT1pPzEvMDppO3RoaXMuc3RhdGUudXBkYXRlUmFuZ2VzPUQodGhpcy5zdGF0ZS51cGRhdGVSYW5nZXMsW3IsYV0pfWVsc2UgdGhpcy5zdGF0ZS51cGRhdGVSYW5nZXM9Tn19LHtrZXk6ImNsZWFyTmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5uZWVkc1VwZGF0ZT0hMSx0aGlzLnN0YXRlLnVwZGF0ZVJhbmdlcz1SfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuaWQ7dGhpcy5zdGF0ZS5uZWVkc1JlZHJhdz10aGlzLnN0YXRlLm5lZWRzUmVkcmF3fHx0fX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNldERhdGEodCl9fSx7a2V5OiJhbGxvY2F0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5zdGF0ZSxyPXRoaXMuc2V0dGluZ3M7cmV0dXJuIXIubm9BbGxvYyYmKCEhci51cGRhdGUmJihPYmplY3QoQy5hKShOdW1iZXIuaXNGaW5pdGUodCkpLGcoKSh2KCkoZS5wcm90b3R5cGUpLCJhbGxvY2F0ZSIsdGhpcykuY2FsbCh0aGlzLHtudW1JbnN0YW5jZXM6dCxjb3B5Om4udXBkYXRlUmFuZ2VzIT09Tn0pLCEwKSl9fSx7a2V5OiJ1cGRhdGVCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQubnVtSW5zdGFuY2VzLHI9dC5kYXRhLGk9dC5wcm9wcyxhPXQuY29udGV4dDtpZighdGhpcy5uZWVkc1VwZGF0ZSgpKXJldHVybiExO3ZhciBvPXRoaXMuc3RhdGUudXBkYXRlUmFuZ2VzLHM9dGhpcy5zZXR0aW5ncyx1PXMudXBkYXRlLGM9cy5ub0FsbG9jLGg9ITA7aWYodSl7dmFyIGY9ITAsZD0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciB5LG09b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShmPSh5PW0ubmV4dCgpKS5kb25lKTtmPSEwKXt2YXIgYj1sKCkoeS52YWx1ZSwyKSxfPWJbMF0sTz1iWzFdO3UuY2FsbChhLHRoaXMse2RhdGE6cixzdGFydFJvdzpfLGVuZFJvdzpPLHByb3BzOmksbnVtSW5zdGFuY2VzOm59KX19Y2F0Y2godCl7ZD0hMCxwPXR9ZmluYWxseXt0cnl7Znx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IHB9fWlmKHRoaXMudmFsdWUpaWYodGhpcy5jb25zdGFudHx8dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDx0aGlzLnZhbHVlLmJ5dGVMZW5ndGgrdGhpcy5ieXRlT2Zmc2V0KXRoaXMuc2V0RGF0YSh7dmFsdWU6dGhpcy52YWx1ZSxjb25zdGFudDp0aGlzLmNvbnN0YW50fSk7ZWxzZXt2YXIgeD0hMCx3PSExLGs9dm9pZCAwO3RyeXtmb3IodmFyIFMsUD1vW1N5bWJvbC5pdGVyYXRvcl0oKTshKHg9KFM9UC5uZXh0KCkpLmRvbmUpO3g9ITApe3ZhciBqPWwoKShTLnZhbHVlLDIpLFQ9alswXSxFPWpbMV0sQT1OdW1iZXIuaXNGaW5pdGUoVCk/dGhpcy5nZXRWZXJ0ZXhPZmZzZXQoVCk6MCxNPU51bWJlci5pc0Zpbml0ZShFKT90aGlzLmdldFZlcnRleE9mZnNldChFKTpjfHwhTnVtYmVyLmlzRmluaXRlKG4pP3RoaXMudmFsdWUubGVuZ3RoOm4qdGhpcy5zaXplO2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdWJCdWZmZXIiLHRoaXMpLmNhbGwodGhpcyx7c3RhcnRPZmZzZXQ6QSxlbmRPZmZzZXQ6TX0pfX1jYXRjaCh0KXt3PSEwLGs9dH1maW5hbGx5e3RyeXt4fHxudWxsPT1QLnJldHVybnx8UC5yZXR1cm4oKX1maW5hbGx5e2lmKHcpdGhyb3cga319fWVsc2U7dGhpcy5fY2hlY2tBdHRyaWJ1dGVBcnJheSgpfWVsc2UgaD0hMTtyZXR1cm4gdGhpcy5jbGVhck5lZWRzVXBkYXRlKCksdGhpcy5zZXROZWVkc1JlZHJhdygpLGh9fSx7a2V5OiJzZXRDb25zdGFudFZhbHVlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0aGlzLnNldERhdGEoe2NvbnN0YW50OiEwLHZhbHVlOnR9KSYmdGhpcy5zZXROZWVkc1JlZHJhdygpLHRoaXMuY2xlYXJOZWVkc1VwZGF0ZSgpLCEwKX19LHtrZXk6InNldEV4dGVybmFsQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlO3JldHVybiB0Pyh0aGlzLmNsZWFyTmVlZHNVcGRhdGUoKSxlLmxhc3RFeHRlcm5hbEJ1ZmZlcj09PXR8fChlLmxhc3RFeHRlcm5hbEJ1ZmZlcj10LHRoaXMuc2V0TmVlZHNSZWRyYXcoKSx0aGlzLnNldERhdGEodCksITApKTooZS5sYXN0RXh0ZXJuYWxCdWZmZXI9bnVsbCwhMSl9fSx7a2V5OiJzZXRCaW5hcnlWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLnN0YXRlLHI9dGhpcy5zZXR0aW5ncztpZighdClyZXR1cm4gbi5iaW5hcnlWYWx1ZT1udWxsLG4uYmluYXJ5QWNjZXNzb3I9bnVsbCwhMTtpZihyLm5vQWxsb2MpcmV0dXJuITE7aWYobi5iaW5hcnlWYWx1ZT09PXQpcmV0dXJuIHRoaXMuY2xlYXJOZWVkc1VwZGF0ZSgpLCEwO24uYmluYXJ5VmFsdWU9dCx0aGlzLnNldE5lZWRzUmVkcmF3KCksQXJyYXlCdWZmZXIuaXNWaWV3KHQpJiYodD17dmFsdWU6dH0pO3ZhciBpPXIudHJhbnNmb3JtfHxlIT09dGhpcy5zdGFydEluZGljZXM7aWYoaSl7T2JqZWN0KEMuYSkoQXJyYXlCdWZmZXIuaXNWaWV3KHQudmFsdWUpLCJpbnZhbGlkICIuY29uY2F0KHIuYWNjZXNzb3IpKTt2YXIgYT10LnNpemUmJnQuc2l6ZSE9PXRoaXMuc2l6ZTtyZXR1cm4gbi5iaW5hcnlBY2Nlc3Nvcj1PYmplY3QoTC5iKSh0LnZhbHVlLHtzaXplOnQuc2l6ZXx8dGhpcy5zaXplLHN0cmlkZTp0LnN0cmlkZSxvZmZzZXQ6dC5vZmZzZXQsc3RhcnRJbmRpY2VzOmUsbmVzdGVkOmF9KSwhMX1yZXR1cm4gdGhpcy5jbGVhck5lZWRzVXBkYXRlKCksdGhpcy5zZXREYXRhKHQpLCEwfX0se2tleToiZ2V0VmVydGV4T2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXJ0SW5kaWNlcztyZXR1cm4oZT9lW3RdOnQpKnRoaXMuc2l6ZX19LHtrZXk6ImdldFNoYWRlckF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5zaGFkZXJBdHRyaWJ1dGVzfHx1KCkoe30sdGhpcy5pZCxudWxsKSxuPXt9O2Zvcih2YXIgciBpbiB0KU9iamVjdC5hc3NpZ24obixnKCkodigpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVyQXR0cmlidXRlcyIsdGhpcykuY2FsbCh0aGlzLHIsdFtyXSkpO3JldHVybiBufX0se2tleToiX2F1dG9VcGRhdGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuZGF0YSxyPWUuc3RhcnRSb3csaT1lLmVuZFJvdyxhPWUucHJvcHMsbz1lLm51bUluc3RhbmNlcyxzPXQuc2V0dGluZ3MsdT10LnN0YXRlLGM9dC52YWx1ZSxsPXQuc2l6ZSxoPXQuc3RhcnRJbmRpY2VzLGY9cy5hY2Nlc3NvcixkPXMudHJhbnNmb3JtLHY9dS5iaW5hcnlBY2Nlc3Nvcnx8KCJmdW5jdGlvbiI9PXR5cGVvZiBmP2Y6YVtmXSk7T2JqZWN0KEMuYSkoImZ1bmN0aW9uIj09dHlwZW9mIHYsJ2FjY2Vzc29yICInLmNvbmNhdChmLCciIGlzIG5vdCBhIGZ1bmN0aW9uJykpO3ZhciBwPXQuZ2V0VmVydGV4T2Zmc2V0KHIpLGc9T2JqZWN0KEwuYSkobixyLGkpLHk9Zy5pdGVyYWJsZSxtPWcub2JqZWN0SW5mbyxiPSEwLF89ITEsTz12b2lkIDA7dHJ5e2Zvcih2YXIgeCx3PXlbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYj0oeD13Lm5leHQoKSkuZG9uZSk7Yj0hMCl7dmFyIGs9eC52YWx1ZTttLmluZGV4Kys7dmFyIFM9dihrLG0pO2lmKGQmJihTPWQuY2FsbCh0aGlzLFMpKSxoKXt2YXIgUD0oaFttLmluZGV4KzFdfHxvKS1oW20uaW5kZXhdO2lmKFMmJkFycmF5LmlzQXJyYXkoU1swXSkpe3ZhciBqPXAsVD0hMCxFPSExLEE9dm9pZCAwO3RyeXtmb3IodmFyIE0sUj1TW1N5bWJvbC5pdGVyYXRvcl0oKTshKFQ9KE09Ui5uZXh0KCkpLmRvbmUpO1Q9ITApe3ZhciBOPU0udmFsdWU7dC5fbm9ybWFsaXplVmFsdWUoTixjLGopLGorPWx9fWNhdGNoKHQpe0U9ITAsQT10fWZpbmFsbHl7dHJ5e1R8fG51bGw9PVIucmV0dXJufHxSLnJldHVybigpfWZpbmFsbHl7aWYoRSl0aHJvdyBBfX19ZWxzZSBTJiZTLmxlbmd0aD5sP2Muc2V0KFMscCk6KHQuX25vcm1hbGl6ZVZhbHVlKFMsbS50YXJnZXQsMCksT2JqZWN0KEkuYSkoe3RhcmdldDpjLHNvdXJjZTptLnRhcmdldCxzdGFydDpwLGNvdW50OlB9KSk7cCs9UCpsfWVsc2UgdC5fbm9ybWFsaXplVmFsdWUoUyxjLHApLHArPWx9fWNhdGNoKHQpe189ITAsTz10fWZpbmFsbHl7dHJ5e2J8fG51bGw9PXcucmV0dXJufHx3LnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBPfX10LmNvbnN0YW50PSExfX0se2tleToiX3ZhbGlkYXRlQXR0cmlidXRlVXBkYXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncztpZighKHQubm9BbGxvY3x8ImZ1bmN0aW9uIj09dHlwZW9mIHQudXBkYXRlKSl0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSAiLmNvbmNhdCh0aGlzLmlkLCIgbWlzc2luZyB1cGRhdGUgb3IgYWNjZXNzb3IiKSl9fSx7a2V5OiJfY2hlY2tBdHRyaWJ1dGVBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZhbHVlLGU9TWF0aC5taW4oNCx0aGlzLnNpemUpO2lmKHQmJnQubGVuZ3RoPj1lKXt2YXIgbj0hMDtzd2l0Y2goZSl7Y2FzZSA0Om49biYmTnVtYmVyLmlzRmluaXRlKHRbM10pO2Nhc2UgMzpuPW4mJk51bWJlci5pc0Zpbml0ZSh0WzJdKTtjYXNlIDI6bj1uJiZOdW1iZXIuaXNGaW5pdGUodFsxXSk7Y2FzZSAxOm49biYmTnVtYmVyLmlzRmluaXRlKHRbMF0pO2JyZWFrO2RlZmF1bHQ6bj0hMX1pZighbil0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgYXR0cmlidXRlIGdlbmVyYXRlZCBmb3IgIi5jb25jYXQodGhpcy5pZCkpfX19LHtrZXk6InN0YXJ0SW5kaWNlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuc3RhcnRJbmRpY2VzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5zdGFydEluZGljZXM9dH19XSksZX0oTSksQj1uKDQ1KSxVPW4oMjkxKSxWPW4oODUpO2Z1bmN0aW9uIEcodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFcodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgSD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5nbCxyPWUuYXR0cmlidXRlLGE9ZS50aW1lbGluZTtpKCkodGhpcyx0KSx0aGlzLmdsPW4sdGhpcy50eXBlPSJpbnRlcnBvbGF0aW9uIix0aGlzLnRyYW5zaXRpb249bmV3IFYuYShhKSx0aGlzLmF0dHJpYnV0ZT1yLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uPW5ldyB6KG4sci5zZXR0aW5ncyksdGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPXIuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD0wLHRoaXMudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KEYuYykoZS5zaXplKTtyZXR1cm4gbmV3IFUuYSh0LHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGludGVycG9sYXRpb24tdHJhbnNpdGlvbi12ZXJ0ZXgtc2hhZGVyXG5cbnVuaWZvcm0gZmxvYXQgdGltZTtcbmF0dHJpYnV0ZSBBVFRSSUJVVEVfVFlQRSBhRnJvbTtcbmF0dHJpYnV0ZSBBVFRSSUJVVEVfVFlQRSBhVG87XG52YXJ5aW5nIEFUVFJJQlVURV9UWVBFIHZDdXJyZW50O1xuXG52b2lkIG1haW4odm9pZCkge1xuICB2Q3VycmVudCA9IG1peChhRnJvbSwgYVRvLCB0aW1lKTtcbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KDAuMCk7XG59XG4iLGRlZmluZXM6e0FUVFJJQlVURV9UWVBFOm59LHZhcnlpbmdzOlsidkN1cnJlbnQiXX0pfShuLHIpO3ZhciBvPXtieXRlTGVuZ3RoOjAsdXNhZ2U6MzUwNTB9O3RoaXMuYnVmZmVycz1bbmV3IE8uYShuLG8pLG5ldyBPLmEobixvKV19cmV0dXJuIG8oKSh0LFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmR1cmF0aW9uPD0wKXRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKTtlbHNle3ZhciBuPXRoaXMuZ2wscj10aGlzLmJ1ZmZlcnMsaT10aGlzLmF0dHJpYnV0ZTtPYmplY3QoRi5hKShyKTt2YXIgYT17bnVtSW5zdGFuY2VzOmUsYXR0cmlidXRlOmksZnJvbUxlbmd0aDp0aGlzLmN1cnJlbnRMZW5ndGgsZnJvbVN0YXJ0SW5kaWNlczp0aGlzLmN1cnJlbnRTdGFydEluZGljZXMsZ2V0RGF0YTp0LmVudGVyfSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtPYmplY3QoRi5mKShXKHtidWZmZXI6aH0sYSkpfX1jYXRjaCh0KXtzPSEwLHU9dH1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19dGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPWkuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD1PYmplY3QoRi5iKShpLGUpLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uLnVwZGF0ZSh7YnVmZmVyOnJbMV0sdmFsdWU6aS52YWx1ZX0pLHRoaXMudHJhbnNpdGlvbi5zdGFydCh0KSx0aGlzLnRyYW5zZm9ybS51cGRhdGUoe2VsZW1lbnRDb3VudDpNYXRoLmZsb29yKHRoaXMuY3VycmVudExlbmd0aC9pLnNpemUpLHNvdXJjZUJ1ZmZlcnM6e2FGcm9tOnJbMF0sYVRvOk9iamVjdChGLmQpKG4saSl9LGZlZWRiYWNrQnVmZmVyczp7dkN1cnJlbnQ6clsxXX19KX19fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFuc2l0aW9uLnVwZGF0ZSgpO2lmKHQpe3ZhciBlPXRoaXMudHJhbnNpdGlvbixuPWUudGltZSxyPWUuc2V0dGluZ3MsaT1yLmR1cmF0aW9uLGE9KDAsci5lYXNpbmcpKG4vaSk7dGhpcy50cmFuc2Zvcm0ucnVuKHt1bmlmb3Jtczp7dGltZTphfX0pfXJldHVybiB0fX0se2tleToiY2FuY2VsIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih0aGlzLnRyYW5zaXRpb24uY2FuY2VsKCksdGhpcy50cmFuc2Zvcm0uZGVsZXRlKCk7dGhpcy5idWZmZXJzLmxlbmd0aDspdGhpcy5idWZmZXJzLnBvcCgpLmRlbGV0ZSgpfX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzfX1dKSx0fSgpO3ZhciBxPW4oMTkxKSxYPW4oMTI3KSxaPW4oODIpO2Z1bmN0aW9uIFkodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIEsodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/WShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6WShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgUT17aW50ZXJwb2xhdGlvbjpILHNwcmluZzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5nbCxyPWUuYXR0cmlidXRlLGE9ZS50aW1lbGluZTtpKCkodGhpcyx0KSx0aGlzLmdsPW4sdGhpcy50eXBlPSJzcHJpbmciLHRoaXMudHJhbnNpdGlvbj1uZXcgVi5hKGEpLHRoaXMuYXR0cmlidXRlPXIsdGhpcy5hdHRyaWJ1dGVJblRyYW5zaXRpb249bmV3IHoobixPYmplY3QuYXNzaWduKHt9LHIuc2V0dGluZ3Mse25vcm1hbGl6ZWQ6ITF9KSksdGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPXIuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD0wLHRoaXMudGV4dHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFguYSh0LHtkYXRhOm5ldyBVaW50OEFycmF5KDQpLGZvcm1hdDo2NDA4LHR5cGU6NTEyMSxib3JkZXI6MCxtaXBtYXBzOiExLGRhdGFGb3JtYXQ6NjQwOCx3aWR0aDoxLGhlaWdodDoxfSl9KG4pLHRoaXMuZnJhbWVidWZmZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFouYSh0LHtpZDoic3ByaW5nLXRyYW5zaXRpb24taXMtdHJhbnNpdGlvbmluZy1mcmFtZWJ1ZmZlciIsd2lkdGg6MSxoZWlnaHQ6MSxhdHRhY2htZW50czp1KCkoe30sMzYwNjQsZSl9KX0obix0aGlzLnRleHR1cmUpLHRoaXMudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1PYmplY3QoRi5jKShlLnNpemUpO3JldHVybiBuZXcgVS5hKHQse2ZyYW1lYnVmZmVyOm4sdnM6IlxuI2RlZmluZSBTSEFERVJfTkFNRSBzcHJpbmctdHJhbnNpdGlvbi12ZXJ0ZXgtc2hhZGVyXG5cbiNkZWZpbmUgRVBTSUxPTiAwLjAwMDAxXG5cbnVuaWZvcm0gZmxvYXQgc3RpZmZuZXNzO1xudW5pZm9ybSBmbG9hdCBkYW1waW5nO1xuYXR0cmlidXRlIEFUVFJJQlVURV9UWVBFIGFQcmV2O1xuYXR0cmlidXRlIEFUVFJJQlVURV9UWVBFIGFDdXI7XG5hdHRyaWJ1dGUgQVRUUklCVVRFX1RZUEUgYVRvO1xudmFyeWluZyBBVFRSSUJVVEVfVFlQRSB2TmV4dDtcbnZhcnlpbmcgZmxvYXQgdklzVHJhbnNpdGlvbmluZ0ZsYWc7XG5cbkFUVFJJQlVURV9UWVBFIGdldE5leHRWYWx1ZShBVFRSSUJVVEVfVFlQRSBjdXIsIEFUVFJJQlVURV9UWVBFIHByZXYsIEFUVFJJQlVURV9UWVBFIGRlc3QpIHtcbiAgQVRUUklCVVRFX1RZUEUgdmVsb2NpdHkgPSBjdXIgLSBwcmV2O1xuICBBVFRSSUJVVEVfVFlQRSBkZWx0YSA9IGRlc3QgLSBjdXI7XG4gIEFUVFJJQlVURV9UWVBFIHNwcmluZyA9IGRlbHRhICogc3RpZmZuZXNzO1xuICBBVFRSSUJVVEVfVFlQRSBkYW1wZXIgPSB2ZWxvY2l0eSAqIC0xLjAgKiBkYW1waW5nO1xuICByZXR1cm4gc3ByaW5nICsgZGFtcGVyICsgdmVsb2NpdHkgKyBjdXI7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGJvb2wgaXNUcmFuc2l0aW9uaW5nID0gbGVuZ3RoKGFDdXIgLSBhUHJldikgPiBFUFNJTE9OIHx8IGxlbmd0aChhVG8gLSBhQ3VyKSA+IEVQU0lMT047XG4gIHZJc1RyYW5zaXRpb25pbmdGbGFnID0gaXNUcmFuc2l0aW9uaW5nID8gMS4wIDogMC4wO1xuXG4gIHZOZXh0ID0gZ2V0TmV4dFZhbHVlKGFDdXIsIGFQcmV2LCBhVG8pO1xuICBnbF9Qb3NpdGlvbiA9IHZlYzQoMCwgMCwgMCwgMSk7XG4gIGdsX1BvaW50U2l6ZSA9IDEwMC4wO1xufVxuIixmczoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIHNwcmluZy10cmFuc2l0aW9uLWlzLXRyYW5zaXRpb25pbmctZnJhZ21lbnQtc2hhZGVyXG5cbnZhcnlpbmcgZmxvYXQgdklzVHJhbnNpdGlvbmluZ0ZsYWc7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGlmICh2SXNUcmFuc2l0aW9uaW5nRmxhZyA9PSAwLjApIHtcbiAgICBkaXNjYXJkO1xuICB9XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcbn0iLGRlZmluZXM6e0FUVFJJQlVURV9UWVBFOnJ9LHZhcnlpbmdzOlsidk5leHQiXX0pfShuLHIsdGhpcy5mcmFtZWJ1ZmZlcik7dmFyIG89e2J5dGVMZW5ndGg6MCx1c2FnZTozNTA1MH07dGhpcy5idWZmZXJzPVtuZXcgTy5hKG4sbyksbmV3IE8uYShuLG8pLG5ldyBPLmEobixvKV19cmV0dXJuIG8oKSh0LFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdsLHI9dGhpcy5idWZmZXJzLGk9dGhpcy5hdHRyaWJ1dGUsYT17bnVtSW5zdGFuY2VzOmUsYXR0cmlidXRlOmksZnJvbUxlbmd0aDp0aGlzLmN1cnJlbnRMZW5ndGgsZnJvbVN0YXJ0SW5kaWNlczp0aGlzLmN1cnJlbnRTdGFydEluZGljZXMsZ2V0RGF0YTp0LmVudGVyfSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtPYmplY3QoRi5mKShLKHtidWZmZXI6aH0sYSkpfX1jYXRjaCh0KXtzPSEwLHU9dH1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19dGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPWkuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD1PYmplY3QoRi5iKShpLGUpLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uLnVwZGF0ZSh7YnVmZmVyOnJbMV0sdmFsdWU6aS52YWx1ZX0pLHRoaXMudHJhbnNpdGlvbi5zdGFydCh0KSx0aGlzLnRyYW5zZm9ybS51cGRhdGUoe2VsZW1lbnRDb3VudDpNYXRoLmZsb29yKHRoaXMuY3VycmVudExlbmd0aC9pLnNpemUpLHNvdXJjZUJ1ZmZlcnM6e2FUbzpPYmplY3QoRi5kKShuLGkpfX0pfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYnVmZmVycyxlPXRoaXMudHJhbnNmb3JtLG49dGhpcy5mcmFtZWJ1ZmZlcixyPXRoaXMudHJhbnNpdGlvbjtyZXR1cm4hIXIudXBkYXRlKCkmJihlLnVwZGF0ZSh7c291cmNlQnVmZmVyczp7YVByZXY6dFswXSxhQ3VyOnRbMV19LGZlZWRiYWNrQnVmZmVyczp7dk5leHQ6dFsyXX19KSxlLnJ1bih7ZnJhbWVidWZmZXI6bixkaXNjYXJkOiExLGNsZWFyUmVuZGVyVGFyZ2V0OiEwLHVuaWZvcm1zOntzdGlmZm5lc3M6ci5zZXR0aW5ncy5zdGlmZm5lc3MsZGFtcGluZzpyLnNldHRpbmdzLmRhbXBpbmd9LHBhcmFtZXRlcnM6e2RlcHRoVGVzdDohMSxibGVuZDohMCx2aWV3cG9ydDpbMCwwLDEsMV0sYmxlbmRGdW5jOlsxLDFdLGJsZW5kRXF1YXRpb246WzMyNzc2LDMyNzc2XX19KSxPYmplY3QoRi5hKSh0KSx0aGlzLmF0dHJpYnV0ZUluVHJhbnNpdGlvbi51cGRhdGUoe2J1ZmZlcjp0WzFdLHZhbHVlOnRoaXMuYXR0cmlidXRlLnZhbHVlfSksT2JqZWN0KHEuYykobilbMF0+MHx8ci5lbmQoKSwhMCl9fSx7a2V5OiJjYW5jZWwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKSx0aGlzLnRyYW5zZm9ybS5kZWxldGUoKTt0aGlzLmJ1ZmZlcnMubGVuZ3RoOyl0aGlzLmJ1ZmZlcnMucG9wKCkuZGVsZXRlKCk7dGhpcy50ZXh0dXJlLmRlbGV0ZSgpLHRoaXMudGV4dHVyZT1udWxsLHRoaXMuZnJhbWVidWZmZXIuZGVsZXRlKCksdGhpcy5mcmFtZWJ1ZmZlcj1udWxsfX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzfX1dKSx0fSgpfSxKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPW4uaWQsYT1uLnRpbWVsaW5lO2koKSh0aGlzLHQpLHRoaXMuaWQ9cix0aGlzLmdsPWUsdGhpcy50aW1lbGluZT1hLHRoaXMudHJhbnNpdGlvbnM9e30sdGhpcy5uZWVkc1JlZHJhdz0hMSx0aGlzLm51bUluc3RhbmNlcz0xLFUuYS5pc1N1cHBvcnRlZChlKT90aGlzLmlzU3VwcG9ydGVkPSEwOmUmJlAuYS53YXJuKCJXZWJHTDIgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuIFRyYW5zaXRpb24gYW5pbWF0aW9uIGlzIGRpc2FibGVkLiIpKCl9cmV0dXJuIG8oKSh0LFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy50cmFuc2l0aW9ucyl0aGlzLl9yZW1vdmVUcmFuc2l0aW9uKHQpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmF0dHJpYnV0ZXMsbj10LnRyYW5zaXRpb25zLHI9dm9pZCAwPT09bj97fTpuLGk9dC5udW1JbnN0YW5jZXM7aWYodGhpcy5udW1JbnN0YW5jZXM9aXx8MSx0aGlzLmlzU3VwcG9ydGVkKXtmb3IodmFyIGEgaW4gZSl7dmFyIG89ZVthXSxzPW8uZ2V0VHJhbnNpdGlvblNldHRpbmcocik7cyYmdGhpcy5fdXBkYXRlQXR0cmlidXRlKGEsbyxzKX1mb3IodmFyIHUgaW4gdGhpcy50cmFuc2l0aW9ucyl7dmFyIGM9ZVt1XTtjJiZjLmdldFRyYW5zaXRpb25TZXR0aW5nKHIpfHx0aGlzLl9yZW1vdmVUcmFuc2l0aW9uKHUpfX19fSx7a2V5OiJoYXNBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNpdGlvbnNbdF07cmV0dXJuIGUmJmUuaW5Qcm9ncmVzc319LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9e307Zm9yKHZhciBlIGluIHRoaXMudHJhbnNpdGlvbnMpe3ZhciBuPXRoaXMudHJhbnNpdGlvbnNbZV07bi5pblByb2dyZXNzJiYodFtlXT1uLmF0dHJpYnV0ZUluVHJhbnNpdGlvbil9cmV0dXJuIHR9fSx7a2V5OiJydW4iLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNTdXBwb3J0ZWR8fDA9PT10aGlzLm51bUluc3RhbmNlcylyZXR1cm4hMTtmb3IodmFyIHQgaW4gdGhpcy50cmFuc2l0aW9ucyl7dGhpcy50cmFuc2l0aW9uc1t0XS51cGRhdGUoKSYmKHRoaXMubmVlZHNSZWRyYXc9ITApfXZhciBlPXRoaXMubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMubmVlZHNSZWRyYXc9ITEsZX19LHtrZXk6Il9yZW1vdmVUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnRyYW5zaXRpb25zW3RdLmNhbmNlbCgpLGRlbGV0ZSB0aGlzLnRyYW5zaXRpb25zW3RdfX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMudHJhbnNpdGlvbnNbdF0saT0hcnx8ci50eXBlIT09bi50eXBlO2lmKGkpe3ImJnRoaXMuX3JlbW92ZVRyYW5zaXRpb24odCk7dmFyIGE9UVtuLnR5cGVdO2E/dGhpcy50cmFuc2l0aW9uc1t0XT1uZXcgYSh7YXR0cmlidXRlOmUsdGltZWxpbmU6dGhpcy50aW1lbGluZSxnbDp0aGlzLmdsfSk6KFAuYS5lcnJvcigidW5zdXBwb3J0ZWQgdHJhbnNpdGlvbiB0eXBlICciLmNvbmNhdChuLnR5cGUsIiciKSkoKSxpPSExKX0oaXx8ZS5uZWVkc1JlZHJhdygpKSYmKHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy50cmFuc2l0aW9uc1t0XS5zdGFydChuLHRoaXMubnVtSW5zdGFuY2VzKSl9fV0pLHR9KCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiAkfSkpO3ZhciAkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmlkLGE9dm9pZCAwPT09cj8iYXR0cmlidXRlLW1hbmFnZXIiOnIsbz1uLnN0YXRzLHM9bi50aW1lbGluZTtpKCkodGhpcyx0KSx0aGlzLmlkPWEsdGhpcy5nbD1lLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLnVwZGF0ZVRyaWdnZXJzPXt9LHRoaXMuYWNjZXNzb3JzPXt9LHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy51c2VyRGF0YT17fSx0aGlzLnN0YXRzPW8sdGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlcj1uZXcgSihlLHtpZDoiIi5jb25jYXQoYSwiLXRyYW5zaXRpb25zIiksdGltZWxpbmU6c30pLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBvKCkodCxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYXR0cmlidXRlcyl0aGlzLmF0dHJpYnV0ZXNbdF0uZGVsZXRlKCk7dGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlci5maW5hbGl6ZSgpfX0se2tleToiZ2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjbGVhclJlZHJhd0ZsYWdzOiExfSxlPXRoaXMubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMubmVlZHNSZWRyYXc9dGhpcy5uZWVkc1JlZHJhdyYmIXQuY2xlYXJSZWRyYXdGbGFncyxlJiZ0aGlzLmlkfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5uZWVkc1JlZHJhdz0hMCx0aGlzfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2FkZCh0LGUpfX0se2tleToiYWRkSW5zdGFuY2VkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2FkZCh0LGUse2luc3RhbmNlZDoxfSl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO3ZvaWQgMCE9PXRoaXMuYXR0cmlidXRlc1tuXSYmKHRoaXMuYXR0cmlidXRlc1tuXS5kZWxldGUoKSxkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW25dKX19fSx7a2V5OiJpbnZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2ludmFsaWRhdGVUcmlnZ2VyKHQsZSk7T2JqZWN0KEIuYSkoImF0dHJpYnV0ZU1hbmFnZXIuaW52YWxpZGF0ZSIsdGhpcyx0LG4pfX0se2tleToiaW52YWxpZGF0ZUFsbCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYXR0cmlidXRlcyl0aGlzLmF0dHJpYnV0ZXNbZV0uc2V0TmVlZHNVcGRhdGUoZSx0KTtPYmplY3QoQi5hKSgiYXR0cmlidXRlTWFuYWdlci5pbnZhbGlkYXRlIix0aGlzLCJhbGwiKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmRhdGEsbj10Lm51bUluc3RhbmNlcyxyPXQuc3RhcnRJbmRpY2VzLGk9dm9pZCAwPT09cj9udWxsOnIsYT10LnRyYW5zaXRpb25zLG89dC5wcm9wcyxzPXZvaWQgMD09PW8/e306byx1PXQuYnVmZmVycyxjPXZvaWQgMD09PXU/e306dSxsPXQuY29udGV4dCxoPXZvaWQgMD09PWw/e306bCxmPSExO2Zvcih2YXIgZCBpbiBPYmplY3QoQi5hKSgiYXR0cmlidXRlTWFuYWdlci51cGRhdGVTdGFydCIsdGhpcyksdGhpcy5zdGF0cyYmdGhpcy5zdGF0cy5nZXQoIlVwZGF0ZSBBdHRyaWJ1dGVzIikudGltZVN0YXJ0KCksdGhpcy5hdHRyaWJ1dGVzKXt2YXIgdj10aGlzLmF0dHJpYnV0ZXNbZF0scD12LnNldHRpbmdzLmFjY2Vzc29yO3Yuc3RhcnRJbmRpY2VzPWksc1tkXSYmUC5hLnJlbW92ZWQoInByb3BzLiIuY29uY2F0KGQpLCJkYXRhLmF0dHJpYnV0ZXMuIi5jb25jYXQoZCkpKCksdi5zZXRFeHRlcm5hbEJ1ZmZlcihjW2RdKXx8di5zZXRCaW5hcnlWYWx1ZShjW3BdLGUuc3RhcnRJbmRpY2VzKXx8IWNbcF0mJnYuc2V0Q29uc3RhbnRWYWx1ZShzW3BdKXx8di5uZWVkc1VwZGF0ZSgpJiYoZj0hMCx0aGlzLl91cGRhdGVBdHRyaWJ1dGUoe2F0dHJpYnV0ZTp2LG51bUluc3RhbmNlczpuLGRhdGE6ZSxwcm9wczpzLGNvbnRleHQ6aH0pKSx0aGlzLm5lZWRzUmVkcmF3fD12Lm5lZWRzUmVkcmF3KCl9ZiYmT2JqZWN0KEIuYSkoImF0dHJpYnV0ZU1hbmFnZXIudXBkYXRlRW5kIix0aGlzLG4pLHRoaXMuc3RhdHMmJnRoaXMuc3RhdHMuZ2V0KCJVcGRhdGUgQXR0cmlidXRlcyIpLnRpbWVFbmQoKSx0aGlzLmF0dHJpYnV0ZVRyYW5zaXRpb25NYW5hZ2VyLnVwZGF0ZSh7YXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXMsbnVtSW5zdGFuY2VzOm4sdHJhbnNpdGlvbnM6YX0pfX0se2tleToidXBkYXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmF0dHJpYnV0ZVRyYW5zaXRpb25NYW5hZ2VyLnJ1bigpO3JldHVybiB0aGlzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXd8fHQsdH19LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc319LHtrZXk6ImdldENoYW5nZWRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJDaGFuZ2VkRmxhZ3M6ITF9LGU9dGhpcy5hdHRyaWJ1dGVzLG49dGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlcixyPU9iamVjdC5hc3NpZ24oe30sbi5nZXRBdHRyaWJ1dGVzKCkpO2Zvcih2YXIgaSBpbiBlKXt2YXIgYT1lW2ldO2EubmVlZHNSZWRyYXcodCkmJiFuLmhhc0F0dHJpYnV0ZShpKSYmKHJbaV09YSl9cmV0dXJuIHJ9fSx7a2V5OiJnZXRTaGFkZXJBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dHx8KHQ9dGhpcy5nZXRBdHRyaWJ1dGVzKCkpO3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KWVbcl18fE9iamVjdC5hc3NpZ24obix0W3JdLmdldFNoYWRlckF0dHJpYnV0ZXMoKSk7cmV0dXJuIG59fSx7a2V5OiJnZXRBY2Nlc3NvcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVHJpZ2dlcnN9fSx7a2V5OiJfYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtlJiZQLmEud2FybigiQXR0cmlidXRlTWFuYWdlci5hZGQoe3VwZGF0ZXJzfSkgLSB1cGRhdGVyIG1hcCBubyBsb25nZXIgc3VwcG9ydGVkIikoKTt2YXIgcj17fTtmb3IodmFyIGkgaW4gdCl7dmFyIGE9dFtpXSxvPXRoaXMuX2NyZWF0ZUF0dHJpYnV0ZShpLGEsbik7cltpXT1vfU9iamVjdC5hc3NpZ24odGhpcy5hdHRyaWJ1dGVzLHIpLHRoaXMuX21hcFVwZGF0ZVRyaWdnZXJzVG9BdHRyaWJ1dGVzKCl9fSx7a2V5OiJfY3JlYXRlQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9e2lkOnQsY29uc3RhbnQ6ZS5jb25zdGFudHx8ITEsaXNJbmRleGVkOmUuaXNJbmRleGVkfHxlLmVsZW1lbnRzLHNpemU6ZS5lbGVtZW50cz8xOmUuc2l6ZSx2YWx1ZTplLnZhbHVlfHxudWxsLGRpdmlzb3I6ZS5pbnN0YW5jZWR8fG4uaW5zdGFuY2VkPzE6ZS5kaXZpc29yfTtyZXR1cm4gbmV3IHoodGhpcy5nbCxPYmplY3QuYXNzaWduKHt9LGUscikpfX0se2tleToiX21hcFVwZGF0ZVRyaWdnZXJzVG9BdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fSxuPWZ1bmN0aW9uKG4pe3QuYXR0cmlidXRlc1tuXS5nZXRVcGRhdGVUcmlnZ2VycygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF18fChlW3RdPVtdKSxlW3RdLnB1c2gobil9KSl9O2Zvcih2YXIgciBpbiB0aGlzLmF0dHJpYnV0ZXMpbihyKTt0aGlzLnVwZGF0ZVRyaWdnZXJzPWV9fSx7a2V5OiJfaW52YWxpZGF0ZVRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLHI9dGhpcy51cGRhdGVUcmlnZ2Vyc1t0XTtyZXR1cm4gciYmci5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1uW3RdO3ImJnIuc2V0TmVlZHNVcGRhdGUoci5pZCxlKX0pKSxyfX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hdHRyaWJ1dGUsbj10Lm51bUluc3RhbmNlcztPYmplY3QoQi5hKSgiYXR0cmlidXRlLnVwZGF0ZVN0YXJ0IixlKSxlLmFsbG9jYXRlKG4pJiZPYmplY3QoQi5hKSgiYXR0cmlidXRlLmFsbG9jYXRlIixlLG4pLGUudXBkYXRlQnVmZmVyKHQpJiYodGhpcy5uZWVkc1JlZHJhdz0hMCxPYmplY3QoQi5hKSgiYXR0cmlidXRlLnVwZGF0ZUVuZCIsZSxuKSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIwMiksZz1uKDI5MykseT1uKDIyMCksbT1uKDExOCksYj1uKDE3NSksXz1uKDQpLE89bi5uKF8pLHg9bigyMyksdz1uKDExNSk7ZnVuY3Rpb24gayh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gUyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9rKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7TygpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTprKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KHcuYykoImNvbHVtbi1nZW9tZXRyeSIpOm4sYT1qKHQpLG89YS5pbmRpY2VzLHM9YS5hdHRyaWJ1dGVzO3JldHVybiB1KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLFMoe30sdCx7aWQ6cixpbmRpY2VzOm8sYXR0cmlidXRlczpzfSkpKX1yZXR1cm4gdigpKGUsdCksZX0obig3MSkuYSk7ZnVuY3Rpb24gaih0KXt2YXIgZT10LnJhZGl1cyxuPXQuaGVpZ2h0LHI9dm9pZCAwPT09bj8xOm4saT10Lm5yYWRpYWwsYT12b2lkIDA9PT1pPzEwOmksbz10LnZlcnRpY2VzO3guYS5hc3NlcnQoIW98fG8ubGVuZ3RoPj1hKTtmb3IodmFyIHM9YSsxLHU9MypzLGM9MipNYXRoLlBJL2EsbD1uZXcgVWludDE2QXJyYXkoMyphKjIpLGg9bmV3IEZsb2F0MzJBcnJheSgzKnUpLGY9bmV3IEZsb2F0MzJBcnJheSgzKnUpLGQ9MCx2PTA7djxzO3YrKylmb3IodmFyIHA9dipjLGc9byYmb1t2JWFdLHk9byYmb1sodisxKSVhXSxtPU1hdGguc2luKHApLGI9TWF0aC5jb3MocCksXz0wO188MjtfKyspaFtkKzBdPWc/Z1swXTpiKmUsaFtkKzFdPWc/Z1sxXTptKmUsaFtkKzJdPSguNS1fKSpyLGZbZCswXT1nP3lbMF0tZ1swXTpiLGZbZCsxXT1nP3lbMV0tZ1sxXTptLGQrPTM7Zm9yKHZhciBPPTA7TzxzO08rKyl7dmFyIHc9TWF0aC5mbG9vcihPLzIpKk1hdGguc2lnbihPJTItLjUpLGs9dypjLFM9byYmb1sodythKSVhXSxQPU1hdGguc2luKGspLGo9TWF0aC5jb3Moayk7aFtkKzBdPVM/U1swXTpqKmUsaFtkKzFdPVM/U1sxXTpQKmUsaFtkKzJdPXIvMixmW2QrMl09MSxkKz0zfWZvcih2YXIgVD0wLEU9MDtFPGE7RSsrKWxbVCsrXT0yKkUrMCxsW1QrK109MipFKzIsbFtUKytdPTIqRSswLGxbVCsrXT0yKkUrMSxsW1QrK109MipFKzEsbFtUKytdPTIqRSszO3JldHVybntpbmRpY2VzOmwsYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpofSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpmfX19fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgVD1bMCwwLDAsMjU1XSxFPXtkaXNrUmVzb2x1dGlvbjp7dHlwZToibnVtYmVyIixtaW46NCx2YWx1ZToyMH0sdmVydGljZXM6bnVsbCxyYWRpdXM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MWUzfSxhbmdsZTp7dHlwZToibnVtYmVyIix2YWx1ZTowfSxvZmZzZXQ6e3R5cGU6ImFycmF5Iix2YWx1ZTpbMCwwXX0sY292ZXJhZ2U6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjEsdmFsdWU6MX0sZWxldmF0aW9uU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sbGluZVdpZHRoVW5pdHM6Im1ldGVycyIsbGluZVdpZHRoU2NhbGU6MSxsaW5lV2lkdGhNaW5QaXhlbHM6MCxsaW5lV2lkdGhNYXhQaXhlbHM6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsZXh0cnVkZWQ6ITAsd2lyZWZyYW1lOiExLGZpbGxlZDohMCxzdHJva2VkOiExLGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpUfSxnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpUfSxnZXRMaW5lV2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRFbGV2YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxZTN9LG1hdGVyaWFsOiEwLGdldENvbG9yOntkZXByZWNhdGVkRm9yOlsiZ2V0RmlsbENvbG9yIiwiZ2V0TGluZUNvbG9yIl19fSxBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmKCkobCgpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGNvbHVtbi1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlRWxldmF0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUZpbGxDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUxpbmVDb2xvcnM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VTdHJva2VXaWR0aHM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzO1xudW5pZm9ybSBmbG9hdCBhbmdsZTtcbnVuaWZvcm0gdmVjMiBvZmZzZXQ7XG51bmlmb3JtIGJvb2wgZXh0cnVkZWQ7XG51bmlmb3JtIGJvb2wgaXNTdHJva2U7XG51bmlmb3JtIGZsb2F0IGNvdmVyYWdlO1xudW5pZm9ybSBmbG9hdCBlbGV2YXRpb25TY2FsZTtcbnVuaWZvcm0gZmxvYXQgZWRnZURpc3RhbmNlO1xudW5pZm9ybSBmbG9hdCB3aWR0aFNjYWxlO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgd2lkdGhNYXhQaXhlbHM7XG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG5cbiAgdmVjNCBjb2xvciA9IGlzU3Ryb2tlID8gaW5zdGFuY2VMaW5lQ29sb3JzIDogaW5zdGFuY2VGaWxsQ29sb3JzO1xuICBtYXQyIHJvdGF0aW9uTWF0cml4ID0gbWF0Mihjb3MoYW5nbGUpLCBzaW4oYW5nbGUpLCAtc2luKGFuZ2xlKSwgY29zKGFuZ2xlKSk7XG4gIGZsb2F0IGVsZXZhdGlvbiA9IDAuMDtcbiAgZmxvYXQgc3Ryb2tlT2Zmc2V0UmF0aW8gPSAxLjA7XG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgZWxldmF0aW9uID0gaW5zdGFuY2VFbGV2YXRpb25zICogKHBvc2l0aW9ucy56ICsgMS4wKSAvIDIuMCAqIGVsZXZhdGlvblNjYWxlO1xuICB9IGVsc2UgaWYgKGlzU3Ryb2tlKSB7XG4gICAgZmxvYXQgd2lkdGhQaXhlbHMgPSBjbGFtcChwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VTdHJva2VXaWR0aHMgKiB3aWR0aFNjYWxlKSxcbiAgICAgIHdpZHRoTWluUGl4ZWxzLCB3aWR0aE1heFBpeGVscykgLyAyLjA7XG4gICAgc3Ryb2tlT2Zmc2V0UmF0aW8gKz0gc2lnbihwb3NpdGlvbnMueikgKiBwcm9qZWN0X3BpeGVsX3NpemUod2lkdGhQaXhlbHMpIC8gcHJvamVjdF9zaXplKGVkZ2VEaXN0YW5jZSAqIGNvdmVyYWdlICogcmFkaXVzKTtcbiAgfVxuICBmbG9hdCBzaG91bGRSZW5kZXIgPSBmbG9hdChjb2xvci5hID4gMC4wICYmIGluc3RhbmNlRWxldmF0aW9ucyA+PSAwLjApO1xuICBmbG9hdCBkb3RSYWRpdXMgPSByYWRpdXMgKiBjb3ZlcmFnZSAqIHNob3VsZFJlbmRlcjtcblxuICBnZW9tZXRyeS5ub3JtYWwgPSBwcm9qZWN0X25vcm1hbCh2ZWMzKHJvdGF0aW9uTWF0cml4ICogbm9ybWFscy54eSwgbm9ybWFscy56KSk7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgdmVjMyBjZW50cm9pZFBvc2l0aW9uID0gdmVjMyhpbnN0YW5jZVBvc2l0aW9ucy54eSwgaW5zdGFuY2VQb3NpdGlvbnMueiArIGVsZXZhdGlvbik7XG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbjY0TG93ID0gaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbiAgdmVjMyBwb3MgPSB2ZWMzKHByb2plY3Rfc2l6ZShyb3RhdGlvbk1hdHJpeCAqIHBvc2l0aW9ucy54eSAqIHN0cm9rZU9mZnNldFJhdGlvICsgb2Zmc2V0KSAqIGRvdFJhZGl1cywgMC4pO1xuICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG5cbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjZW50cm9pZFBvc2l0aW9uLCBjZW50cm9pZFBvc2l0aW9uNjRMb3csIHBvcywgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIGlmIChleHRydWRlZCAmJiAhaXNTdHJva2UpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIGdlb21ldHJ5LnBvc2l0aW9uLnh5eiwgZ2VvbWV0cnkubm9ybWFsKTtcbiAgICB2Q29sb3IgPSB2ZWM0KGxpZ2h0Q29sb3IsIGNvbG9yLmEgKiBvcGFjaXR5KTtcbiAgfSBlbHNlIHtcbiAgICB2Q29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIG9wYWNpdHkpO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGNvbHVtbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZUVsZXZhdGlvbnM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRFbGV2YXRpb24ifSxpbnN0YW5jZUZpbGxDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0RmlsbENvbG9yIixkZWZhdWx0VmFsdWU6VH0saW5zdGFuY2VMaW5lQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldExpbmVDb2xvciIsZGVmYXVsdFZhbHVlOlR9LGluc3RhbmNlU3Ryb2tlV2lkdGhzOntzaXplOjEsYWNjZXNzb3I6ImdldExpbmVXaWR0aCIsdHJhbnNpdGlvbjohMH19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnByb3BzLHI9dC5vbGRQcm9wcyxpPXQuY2hhbmdlRmxhZ3M7ZigpKGwoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse3Byb3BzOm4sb2xkUHJvcHM6cixjaGFuZ2VGbGFnczppfSk7dmFyIGE9aS5leHRlbnNpb25zQ2hhbmdlZDtpZihhKXt2YXIgbz10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChvKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX0oYXx8bi5kaXNrUmVzb2x1dGlvbiE9PXIuZGlza1Jlc29sdXRpb258fG4udmVydGljZXMhPT1yLnZlcnRpY2VzKSYmdGhpcy5fdXBkYXRlR2VvbWV0cnkobil9fSx7a2V5OiJnZXRHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUCh7cmFkaXVzOjEsaGVpZ2h0OjIsdmVydGljZXM6ZSxucmFkaWFsOnR9KSxyPTA7aWYoZSlmb3IodmFyIGk9MDtpPHQ7aSsrKXt2YXIgYT1lW2ldO3IrPU1hdGguc3FydChhWzBdKmFbMF0rYVsxXSphWzFdKS90fWVsc2Ugcj0xO3JldHVybiB0aGlzLnNldFN0YXRlKHtlZGdlRGlzdGFuY2U6TWF0aC5jb3MoTWF0aC5QSS90KSpyfSksbn19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBiLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiX3VwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmRpc2tSZXNvbHV0aW9uLG49dC52ZXJ0aWNlcyxyPXRoaXMuZ2V0R2VvbWV0cnkoZSxuKTt0aGlzLnNldFN0YXRlKHtmaWxsVmVydGV4Q291bnQ6ci5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLmxlbmd0aC8zLHdpcmVmcmFtZVZlcnRleENvdW50OnIuaW5kaWNlcy52YWx1ZS5sZW5ndGh9KSx0aGlzLnN0YXRlLm1vZGVsLnNldFByb3BzKHtnZW9tZXRyeTpyfSl9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIubGluZVdpZHRoVW5pdHMsYT1yLmxpbmVXaWR0aFNjYWxlLG89ci5saW5lV2lkdGhNaW5QaXhlbHMscz1yLmxpbmVXaWR0aE1heFBpeGVscyx1PXIuZWxldmF0aW9uU2NhbGUsYz1yLmV4dHJ1ZGVkLGw9ci5maWxsZWQsaD1yLnN0cm9rZWQsZj1yLndpcmVmcmFtZSxkPXIub2Zmc2V0LHY9ci5jb3ZlcmFnZSxwPXIucmFkaXVzLGc9ci5hbmdsZSx5PXRoaXMuc3RhdGUsbT15Lm1vZGVsLGI9eS5maWxsVmVydGV4Q291bnQsXz15LndpcmVmcmFtZVZlcnRleENvdW50LE89eS5lZGdlRGlzdGFuY2UseD0icGl4ZWxzIj09PWk/bi5tZXRlcnNQZXJQaXhlbDoxO20uc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSxlLHtyYWRpdXM6cCxhbmdsZTpnLzE4MCpNYXRoLlBJLG9mZnNldDpkLGV4dHJ1ZGVkOmMsY292ZXJhZ2U6dixlbGV2YXRpb25TY2FsZTp1LGVkZ2VEaXN0YW5jZTpPLHdpZHRoU2NhbGU6YSp4LHdpZHRoTWluUGl4ZWxzOm8sd2lkdGhNYXhQaXhlbHM6c30pKSxjJiZmJiYobS5zZXRQcm9wcyh7aXNJbmRleGVkOiEwfSksbS5zZXRWZXJ0ZXhDb3VudChfKS5zZXREcmF3TW9kZSgxKS5zZXRVbmlmb3Jtcyh7aXNTdHJva2U6ITB9KS5kcmF3KCkpLGwmJihtLnNldFByb3BzKHtpc0luZGV4ZWQ6ITF9KSxtLnNldFZlcnRleENvdW50KGIpLnNldERyYXdNb2RlKDUpLnNldFVuaWZvcm1zKHtpc1N0cm9rZTohMX0pLmRyYXcoKSksIWMmJmgmJihtLnNldFByb3BzKHtpc0luZGV4ZWQ6ITF9KSxtLnNldFZlcnRleENvdW50KDIqYi8zKS5zZXREcmF3TW9kZSg1KS5zZXRVbmlmb3Jtcyh7aXNTdHJva2U6ITB9KS5kcmF3KCkpfX1dKSxlfShtLmEpO0EubGF5ZXJOYW1lPSJDb2x1bW5MYXllciIsQS5kZWZhdWx0UHJvcHM9RX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oMjAyKSxnPW4oMjIwKSx5PW4oMTE4KSxtPW4oMTc1KSxiPW4oNzEpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKTt2YXIgXz1bMCwwLDAsMjU1XSxPPXtyYWRpdXNTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxyYWRpdXNNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0scmFkaXVzTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxsaW5lV2lkdGhVbml0czoibWV0ZXJzIixsaW5lV2lkdGhTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxsaW5lV2lkdGhNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sbGluZVdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxzdHJva2VkOiExLGZpbGxlZDohMCxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0UmFkaXVzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RmlsbENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6X30sZ2V0TGluZUNvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6X30sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sc3Ryb2tlV2lkdGg6e2RlcHJlY2F0ZWRGb3I6ImdldExpbmVXaWR0aCJ9LG91dGxpbmU6e2RlcHJlY2F0ZWRGb3I6InN0cm9rZWQifSxnZXRDb2xvcjp7ZGVwcmVjYXRlZEZvcjpbImdldEZpbGxDb2xvciIsImdldExpbmVDb2xvciJdfX0seD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYoKShsKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjYXR0ZXJwbG90LWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuXG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VSYWRpdXM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VMaW5lV2lkdGhzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VGaWxsQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VMaW5lQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHJhZGl1c1NjYWxlO1xudW5pZm9ybSBmbG9hdCByYWRpdXNNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHJhZGl1c01heFBpeGVscztcbnVuaWZvcm0gZmxvYXQgbGluZVdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IGxpbmVXaWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgbGluZVdpZHRoTWF4UGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzdHJva2VkO1xudW5pZm9ybSBib29sIGZpbGxlZDtcblxudmFyeWluZyB2ZWM0IHZGaWxsQ29sb3I7XG52YXJ5aW5nIHZlYzQgdkxpbmVDb2xvcjtcbnZhcnlpbmcgdmVjMiB1bml0UG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IGlubmVyVW5pdFJhZGl1cztcbnZhcnlpbmcgZmxvYXQgb3V0ZXJSYWRpdXNQaXhlbHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVBvc2l0aW9ucztcbiAgb3V0ZXJSYWRpdXNQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwocmFkaXVzU2NhbGUgKiBpbnN0YW5jZVJhZGl1cyksXG4gICAgcmFkaXVzTWluUGl4ZWxzLCByYWRpdXNNYXhQaXhlbHNcbiAgKTtcbiAgZmxvYXQgbGluZVdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGxpbmVXaWR0aFNjYWxlICogaW5zdGFuY2VMaW5lV2lkdGhzKSxcbiAgICBsaW5lV2lkdGhNaW5QaXhlbHMsIGxpbmVXaWR0aE1heFBpeGVsc1xuICApO1xuICBvdXRlclJhZGl1c1BpeGVscyArPSBzdHJva2VkICogbGluZVdpZHRoUGl4ZWxzIC8gMi4wO1xuICB1bml0UG9zaXRpb24gPSBwb3NpdGlvbnMueHk7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbiAgaW5uZXJVbml0UmFkaXVzID0gMS4wIC0gc3Ryb2tlZCAqIGxpbmVXaWR0aFBpeGVscyAvIG91dGVyUmFkaXVzUGl4ZWxzO1xuICBcbiAgdmVjMyBvZmZzZXQgPSBwb3NpdGlvbnMgKiBwcm9qZWN0X3BpeGVsX3NpemUob3V0ZXJSYWRpdXNQaXhlbHMpO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIG9mZnNldCwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIHZGaWxsQ29sb3IgPSB2ZWM0KGluc3RhbmNlRmlsbENvbG9ycy5yZ2IsIGluc3RhbmNlRmlsbENvbG9ycy5hICogb3BhY2l0eSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkZpbGxDb2xvciwgZ2VvbWV0cnkpO1xuICB2TGluZUNvbG9yID0gdmVjNChpbnN0YW5jZUxpbmVDb2xvcnMucmdiLCBpbnN0YW5jZUxpbmVDb2xvcnMuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZMaW5lQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgc2NhdHRlcnBsb3QtbGF5ZXItZnJhZ21lbnQtc2hhZGVyXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBib29sIGZpbGxlZDtcbnVuaWZvcm0gZmxvYXQgc3Ryb2tlZDtcblxudmFyeWluZyB2ZWM0IHZGaWxsQ29sb3I7XG52YXJ5aW5nIHZlYzQgdkxpbmVDb2xvcjtcbnZhcnlpbmcgdmVjMiB1bml0UG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IGlubmVyVW5pdFJhZGl1cztcbnZhcnlpbmcgZmxvYXQgb3V0ZXJSYWRpdXNQaXhlbHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuXG4gIGZsb2F0IGRpc3RUb0NlbnRlciA9IGxlbmd0aCh1bml0UG9zaXRpb24pICogb3V0ZXJSYWRpdXNQaXhlbHM7XG4gIGZsb2F0IGluQ2lyY2xlID0gc21vb3RoZWRnZShkaXN0VG9DZW50ZXIsIG91dGVyUmFkaXVzUGl4ZWxzKTtcblxuICBpZiAoaW5DaXJjbGUgPT0gMC4wKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGlmIChzdHJva2VkID4gMC41KSB7XG4gICAgZmxvYXQgaXNMaW5lID0gc21vb3RoZWRnZShpbm5lclVuaXRSYWRpdXMgKiBvdXRlclJhZGl1c1BpeGVscywgZGlzdFRvQ2VudGVyKTtcbiAgICBpZiAoZmlsbGVkKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSBtaXgodkZpbGxDb2xvciwgdkxpbmVDb2xvciwgaXNMaW5lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTGluZSA9PSAwLjApIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cbiAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodkxpbmVDb2xvci5yZ2IsIHZMaW5lQ29sb3IuYSAqIGlzTGluZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGZpbGxlZCkge1xuICAgIGdsX0ZyYWdDb2xvciA9IHZGaWxsQ29sb3I7XG4gIH0gZWxzZSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGdsX0ZyYWdDb2xvci5hICo9IGluQ2lyY2xlO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltwLmEsZy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZVJhZGl1czp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFJhZGl1cyIsZGVmYXVsdFZhbHVlOjF9LGluc3RhbmNlRmlsbENvbG9yczp7c2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0cmFuc2l0aW9uOiEwLG5vcm1hbGl6ZWQ6ITAsdHlwZTo1MTIxLGFjY2Vzc29yOiJnZXRGaWxsQ29sb3IiLGRlZmF1bHRWYWx1ZTpbMCwwLDAsMjU1XX0saW5zdGFuY2VMaW5lQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHRyYW5zaXRpb246ITAsbm9ybWFsaXplZDohMCx0eXBlOjUxMjEsYWNjZXNzb3I6ImdldExpbmVDb2xvciIsZGVmYXVsdFZhbHVlOlswLDAsMCwyNTVdfSxpbnN0YW5jZUxpbmVXaWR0aHM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRMaW5lV2lkdGgiLGRlZmF1bHRWYWx1ZToxfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncztpZihmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIucmFkaXVzU2NhbGUsYT1yLnJhZGl1c01pblBpeGVscyxvPXIucmFkaXVzTWF4UGl4ZWxzLHM9ci5zdHJva2VkLHU9ci5maWxsZWQsYz1yLmxpbmVXaWR0aFVuaXRzLGw9ci5saW5lV2lkdGhTY2FsZSxoPXIubGluZVdpZHRoTWluUGl4ZWxzLGY9ci5saW5lV2lkdGhNYXhQaXhlbHMsZD0icGl4ZWxzIj09PWM/bi5tZXRlcnNQZXJQaXhlbDoxO3RoaXMuc3RhdGUubW9kZWwuc2V0VW5pZm9ybXMoZSkuc2V0VW5pZm9ybXMoe3N0cm9rZWQ6cz8xOjAsZmlsbGVkOnUscmFkaXVzU2NhbGU6aSxyYWRpdXNNaW5QaXhlbHM6YSxyYWRpdXNNYXhQaXhlbHM6byxsaW5lV2lkdGhTY2FsZTpsKmQsbGluZVdpZHRoTWluUGl4ZWxzOmgsbGluZVdpZHRoTWF4UGl4ZWxzOmZ9KS5kcmF3KCl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbS5hKHQsT2JqZWN0LmFzc2lnbih0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgYi5hKHtkcmF3TW9kZTo2LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjMsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShbLTEsLTEsMCwtMSwxLDAsMSwxLDAsMSwtMSwwXSl9fX0pLGlzSW5zdGFuY2VkOiEwfSkpfX1dKSxlfSh5LmEpO3gubGF5ZXJOYW1lPSJTY2F0dGVycGxvdExheWVyIix4LmRlZmF1bHRQcm9wcz1PfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oMjAwKSxzPW4oOTYpLHU9big1OSksYz1uKDg2KSxsPW4oODcpLGg9big5MCksZj1uKDE1NSksZD1uKDEzNiksdj1uKDIwMSk7ZnVuY3Rpb24gcCh0LGUsbixyKXtpZighZC5hLmlzU3VwcG9ydGVkKCkpcmV0dXJuITE7dmFyIGk9biYmblt0LmlkXTtyZXR1cm4hISgibG9jYWwiPT09bi53b3JrZXImJmkmJmkubG9jYWxXb3JrZXJVcmx8fG4ud29ya2VyJiZpJiZpLndvcmtlclVybCkmJighdC51c2VXb3JrZXJ8fHQudXNlV29ya2VyKG4pKX1mdW5jdGlvbiBnKHQsZSxuLHIpe3ZhciBpPShufHx7fSkud29ya2VyLGE9biYmblt0LmlkXXx8e30sbz0ibG9jYWwiPT09aT9hLmxvY2FsV29ya2VyVXJsOmEud29ya2VyVXJsLHM9InVybCgiLmNvbmNhdChvLCIpIiksdT10Lm5hbWUsYz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXt9O3QubWF4Q29uY3VycmVuY3kmJihlLm1heENvbmN1cnJlbmN5PXQubWF4Q29uY3VycmVuY3kpO3Qub25EZWJ1ZyYmKGUub25EZWJ1Zz10Lm9uRGVidWcpO3l8fCh5PW5ldyBkLmEoe29uTWVzc2FnZTptfSkpO3JldHVybiB5LnNldFByb3BzKGUpLHl9KG4pO249SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSk7dmFyIGw9IjIuMS4xIiE9PXQudmVyc2lvbj8iKGNvcmUgdmVyc2lvbiAiLmNvbmNhdCgiMi4xLjEiLCIpIik6IiI7cmV0dXJuIGMucHJvY2VzcyhzLCIiLmNvbmNhdCh1LCItd29ya2VyQCIpLmNvbmNhdCh0LnZlcnNpb24pLmNvbmNhdChsKSx7YXJyYXlidWZmZXI6T2JqZWN0KGYuYSkoZSksb3B0aW9uczpuLHNvdXJjZToibG9hZGVycy5nbEAiLmNvbmNhdCgiMi4xLjEiKSx0eXBlOiJwYXJzZSJ9KX12YXIgeT1udWxsO2Z1bmN0aW9uIG0odCl7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxzO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1lLndvcmtlcixyPWUuZGF0YSxhPWUucmVzb2x2ZSxvPWUucmVqZWN0LHQudDA9ci50eXBlLHQubmV4dD0iZG9uZSI9PT10LnQwPzQ6InBhcnNlIj09PXQudDA/NjoiZXJyb3IiPT09dC50MD8xNzoxOTticmVhaztjYXNlIDQ6cmV0dXJuIGEoci5yZXN1bHQpLHQuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgNjpyZXR1cm4gdC5wcmV2PTYsdC5uZXh0PTksTyhyLmFycmF5YnVmZmVyLHIub3B0aW9ucyxyLnVybCk7Y2FzZSA5OnM9dC5zZW50LG4ucG9zdE1lc3NhZ2Uoe3R5cGU6InBhcnNlLWRvbmUiLGlkOnIuaWQscmVzdWx0OnN9LE9iamVjdCh2LmEpKHMpKSx0Lm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzp0LnByZXY9MTMsdC50MT10LmNhdGNoKDYpLG4ucG9zdE1lc3NhZ2Uoe3R5cGU6InBhcnNlLWVycm9yIixpZDpyLmlkLG1lc3NhZ2U6dC50MS5tZXNzYWdlfSk7Y2FzZSAxNjpyZXR1cm4gdC5hYnJ1cHQoImJyZWFrIiwxOSk7Y2FzZSAxNzpyZXR1cm4gbyhyLm1lc3NhZ2UpLHQuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgMTk6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1s2LDEzXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBfPW4oODApO2Z1bmN0aW9uIE8odCxlLG4scil7cmV0dXJuIHguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHgoKXtyZXR1cm4oeD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4scixhKXt2YXIgbyxzLGYsZDtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCFufHxBcnJheS5pc0FycmF5KG4pfHxPYmplY3QodS5hKShuKXx8KGE9cixyPW4sbj1udWxsKSxvPSIiLCJzdHJpbmciPT10eXBlb2YgYSYmKG89YSxhPW51bGwpLHI9cnx8e30scz1PYmplY3QobC5lKShlLG8pLGY9T2JqZWN0KGguYikobixhKSxkPU9iamVjdChfLmEpKGYscyxlKSl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLG51bGwpO2Nhc2UgOTpyZXR1cm4gcj1PYmplY3QoYy5hKShkLHIscyksYT1PYmplY3QoaC5hKSh7dXJsOnMscGFyc2U6Tyxsb2FkZXJzOmZ9LHIsYSksdC5uZXh0PTEzLHcoZCxlLHIsYSk7Y2FzZSAxMzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyh0LGUsbixyKXtyZXR1cm4gay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaygpe3JldHVybihrPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIE9iamVjdChvLmEpKGUpLHQubmV4dD0zLE9iamVjdChsLmEpKG4sZSk7Y2FzZSAzOmlmKG49dC5zZW50LCFlLnBhcnNlVGV4dFN5bmN8fCJzdHJpbmciIT10eXBlb2Ygbil7dC5uZXh0PTc7YnJlYWt9cmV0dXJuIHIuZGF0YVR5cGU9InRleHQiLHQuYWJydXB0KCJyZXR1cm4iLGUucGFyc2VUZXh0U3luYyhuLHIsYSxlKSk7Y2FzZSA3OmlmKCFwKGUsMCxyKSl7dC5uZXh0PTExO2JyZWFrfXJldHVybiB0Lm5leHQ9MTAsZyhlLG4scik7Y2FzZSAxMDpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDExOmlmKCFlLnBhcnNlKXt0Lm5leHQ9MTU7YnJlYWt9cmV0dXJuIHQubmV4dD0xNCxlLnBhcnNlKG4scixhLGUpO2Nhc2UgMTQ6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxNTpyZXR1cm4gT2JqZWN0KHMuYSkoIWUucGFyc2VTeW5jKSx0LmFicnVwdCgicmV0dXJuIixPYmplY3Qocy5hKSghMSkpO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4ubihyKSxhPW4oMTMpLG89big2KSxzPW4oNyksdT1uKDk2KSxjPW5ldyBNYXA7ZnVuY3Rpb24gbCh0KXtyZXR1cm4idHJ5IHtcbiAgaW1wb3J0U2NyaXB0cygnIi5jb25jYXQodCwiJyk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbn0iKX12YXIgaD1uKDIwMSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBmPTA7ZnVuY3Rpb24gZCh0KXt2YXIgZT10LmRhdGE7KDAsdC5yZXNvbHZlKShlKX12YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5zb3VyY2Uscj1lLm5hbWUsaT12b2lkIDA9PT1yPyJ3ZWItd29ya2VyLSIuY29uY2F0KGYrKyk6cixhPWUub25NZXNzYWdlO09iamVjdChvLmEpKHRoaXMsdCk7dmFyIHM9ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxPYmplY3QodS5hKSgic3RyaW5nIj09dHlwZW9mIHQsIndvcmtlciBzb3VyY2UiKSx0LnN0YXJ0c1dpdGgoInVybCgiKSYmdC5lbmRzV2l0aCgiKSIpKXt2YXIgZT10Lm1hdGNoKC9edXJsXCgoLiopXCkkLylbMV07aWYoZSYmIWUuc3RhcnRzV2l0aCgiaHR0cCIpKXJldHVybiBlO3Q9bChlKX12YXIgbj1jLmdldCh0KTtpZighbil7dmFyIHI9bmV3IEJsb2IoW3RdLHt0eXBlOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0In0pO249VVJMLmNyZWF0ZU9iamVjdFVSTChyKSxjLnNldCh0LG4pfXJldHVybiBufShuLGkpO3RoaXMud29ya2VyPW5ldyBXb3JrZXIocyx7bmFtZTppfSksdGhpcy5uYW1lPWksdGhpcy5vbk1lc3NhZ2U9YXx8ZH12YXIgZTtyZXR1cm4gT2JqZWN0KHMuYSkodCxbe2tleToicHJvY2VzcyIsdmFsdWU6KGU9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG49dGhpcztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXtuLndvcmtlci5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ub25NZXNzYWdlKHt3b3JrZXI6bi53b3JrZXIsZGF0YTplLmRhdGEscmVzb2x2ZTp0LHJlamVjdDpyfSl9LG4ud29ya2VyLm9uZXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9IiIuY29uY2F0KG4ubmFtZSwiOiBXb3JrZXJUaHJlYWQucHJvY2VzcygpIGZhaWxlZCIpO3QubWVzc2FnZSYmKGUrPSIgIi5jb25jYXQodC5tZXNzYWdlLCIgIikuY29uY2F0KHQuZmlsZW5hbWUsIjoiKS5jb25jYXQodC5saW5lbm8sIjoiKS5jb25jYXQodC5jb2xubykpO3ZhciBpPW5ldyBFcnJvcihlKTtjb25zb2xlLmVycm9yKHQpLHIoaSl9O3ZhciBpPU9iamVjdChoLmEpKGUpO24ud29ya2VyLnBvc3RNZXNzYWdlKGUsaSl9KSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndvcmtlci50ZXJtaW5hdGUoKSx0aGlzLndvcmtlcj1udWxsfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjMxKSxpPXtuYW1lOiJnZW9tZXRyeSIsdnM6Ilxuc3RydWN0IFZlcnRleEdlb21ldHJ5IHtcbiAgdmVjNCBwb3NpdGlvbjtcbiAgdmVjMyB3b3JsZFBvc2l0aW9uO1xuICB2ZWMzIHdvcmxkUG9zaXRpb25BbHQ7XG4gIHZlYzMgbm9ybWFsO1xuICB2ZWMyIHV2O1xuICB2ZWMzIHBpY2tpbmdDb2xvcjtcbn0gZ2VvbWV0cnk7XG4iLGZzOiJcbiNkZWZpbmUgU01PT1RIX0VER0VfUkFESVVTIDAuNVxuXG5zdHJ1Y3QgRnJhZ21lbnRHZW9tZXRyeSB7XG4gIHZlYzIgdXY7XG59IGdlb21ldHJ5O1xuXG5mbG9hdCBzbW9vdGhlZGdlKGZsb2F0IGVkZ2UsIGZsb2F0IHgpIHtcbiAgcmV0dXJuIHNtb290aHN0ZXAoZWRnZSAtIFNNT09USF9FREdFX1JBRElVUywgZWRnZSArIFNNT09USF9FREdFX1JBRElVUywgeCk7XG59XG4ifSxhPW4oMTExKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIG89W2ksYS5hXSxzPVsidnM6REVDS0dMX0ZJTFRFUl9TSVpFKGlub3V0IHZlYzMgc2l6ZSwgVmVydGV4R2VvbWV0cnkgZ2VvbWV0cnkpIiwidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihpbm91dCB2ZWM0IHBvc2l0aW9uLCBWZXJ0ZXhHZW9tZXRyeSBnZW9tZXRyeSkiLCJ2czpERUNLR0xfRklMVEVSX0NPTE9SKGlub3V0IHZlYzQgY29sb3IsIFZlcnRleEdlb21ldHJ5IGdlb21ldHJ5KSIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IoaW5vdXQgdmVjNCBjb2xvciwgRnJhZ21lbnRHZW9tZXRyeSBnZW9tZXRyeSkiXTtmdW5jdGlvbiB1KHQpe3ZhciBlPXIuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIodCksbj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1vW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHU9Yy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBsPXUudmFsdWU7ZS5hZGREZWZhdWx0TW9kdWxlKGwpfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19dmFyIGg9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShoPSh2PXAubmV4dCgpKS5kb25lKTtoPSEwKXt2YXIgZz12LnZhbHVlO2UuYWRkU2hhZGVySG9vayhnKX19Y2F0Y2godCl7Zj0hMCxkPXR9ZmluYWxseXt0cnl7aHx8bnVsbD09cC5yZXR1cm58fHAucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IGR9fXJldHVybiBlfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQpLGk9bi5uKHIpLGE9bigxKSxvPW4ubihhKSxzPW4oMiksdT1uLm4ocyksYz1uKDQ1KSxsPW4oOSksaD1uLm4obCksZj1uKDMpLGQ9bi5uKGYpLHY9bigxMCkscD1uLm4odiksZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG8oKSh0aGlzLGUpLGgoKSh0aGlzLGQoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBwKCkoZSx0KSxlfShuKDEwMSkuYSkseT1uKDE3MyksbT1uKDgyKTtmdW5jdGlvbiBiKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSk7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe28oKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmxheWVyRmlsdGVyPW51bGwsdGhpcy5kcmF3UGlja2luZ0NvbG9ycz0hMSx0aGlzLmRyYXdMYXllcnNQYXNzPW5ldyBnKGUpLHRoaXMucGlja0xheWVyc1Bhc3M9bmV3IHkuYShlKSx0aGlzLnJlbmRlckNvdW50PTAsdGhpcy5fbmVlZHNSZWRyYXc9IkluaXRpYWwgcmVuZGVyIix0aGlzLnJlbmRlckJ1ZmZlcnM9W10sdGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Q9bnVsbCx0aGlzLl9vbkVycm9yPW51bGx9cmV0dXJuIHUoKSh0LFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7ImxheWVyRmlsdGVyImluIHQmJnRoaXMubGF5ZXJGaWx0ZXIhPT10LmxheWVyRmlsdGVyJiYodGhpcy5sYXllckZpbHRlcj10LmxheWVyRmlsdGVyLHRoaXMuX25lZWRzUmVkcmF3PSJsYXllckZpbHRlciBjaGFuZ2VkIiksImRyYXdQaWNraW5nQ29sb3JzImluIHQmJnRoaXMuZHJhd1BpY2tpbmdDb2xvcnMhPT10LmRyYXdQaWNraW5nQ29sb3JzJiYodGhpcy5kcmF3UGlja2luZ0NvbG9ycz10LmRyYXdQaWNraW5nQ29sb3JzLHRoaXMuX25lZWRzUmVkcmF3PSJkcmF3UGlja2luZ0NvbG9ycyBjaGFuZ2VkIiksIm9uRXJyb3IiaW4gdCYmKHRoaXMuX29uRXJyb3I9dC5vbkVycm9yKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kcmF3UGlja2luZ0NvbG9ycz90aGlzLnBpY2tMYXllcnNQYXNzOnRoaXMuZHJhd0xheWVyc1Bhc3M7dC5sYXllckZpbHRlcj10aGlzLmxheWVyRmlsdGVyLHQub25FcnJvcj10aGlzLl9vbkVycm9yLHQuZWZmZWN0cz10LmVmZmVjdHN8fFtdLHQudGFyZ2V0PXQudGFyZ2V0fHxtLmEuZ2V0RGVmYXVsdEZyYW1lYnVmZmVyKHRoaXMuZ2wpLHRoaXMuX3ByZVJlbmRlcih0LmVmZmVjdHMsdCk7dmFyIG49dGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Q/dGhpcy5yZW5kZXJCdWZmZXJzWzBdOnQudGFyZ2V0LHI9ZS5yZW5kZXIoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/YihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdCx7dGFyZ2V0Om59KSk7dGhpcy5fcG9zdFJlbmRlcih0LmVmZmVjdHMsdCksdGhpcy5yZW5kZXJDb3VudCsrLE9iamVjdChjLmEpKCJkZWNrUmVuZGVyZXIucmVuZGVyTGF5ZXJzIix0aGlzLHIsdCl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9LGU9dGhpcy5fbmVlZHNSZWRyYXc7cmV0dXJuIHQuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKSxlfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZW5kZXJCdWZmZXJzLGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXtpLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19dC5sZW5ndGg9MH19LHtrZXk6Il9wcmVSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbCxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTt1LnByZVJlbmRlcih0aGlzLmdsLGUpLHUucG9zdFJlbmRlciYmKG49dSl9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1uJiZ0aGlzLl9yZXNpemVSZW5kZXJCdWZmZXJzKCksdGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Q9bn19LHtrZXk6Il9yZXNpemVSZW5kZXJCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVuZGVyQnVmZmVyczswPT09dC5sZW5ndGgmJnQucHVzaChuZXcgbS5hKHRoaXMuZ2wpLG5ldyBtLmEodGhpcy5nbCkpO3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7aS52YWx1ZS5yZXNpemUoKX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6Il9wb3N0UmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucmVuZGVyQnVmZmVycyxyPXtpbnB1dEJ1ZmZlcjpuWzBdLHN3YXBCdWZmZXI6blsxXSx0YXJnZXQ6bnVsbH0saT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7aWYoYy5wb3N0UmVuZGVyKXtpZihjPT09dGhpcy5sYXN0UG9zdFByb2Nlc3NFZmZlY3Qpe3IudGFyZ2V0PWUudGFyZ2V0LGMucG9zdFJlbmRlcih0aGlzLmdsLHIpO2JyZWFrfXZhciBsPWMucG9zdFJlbmRlcih0aGlzLmdsLHIpO3IuaW5wdXRCdWZmZXI9bCxyLnN3YXBCdWZmZXI9bD09PW5bMF0/blsxXTpuWzBdfX19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigyNSksaT1uKDE2Nik7ZnVuY3Rpb24gYSgpe3JldHVybiEoIm9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChyLmEpKHByb2Nlc3MpKSYmIltvYmplY3QgcHJvY2Vzc10iPT09U3RyaW5nKHByb2Nlc3MpJiYhcHJvY2Vzcy5icm93c2VyKXx8T2JqZWN0KGkuYSkoKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMjUpO2Z1bmN0aW9uIGkodCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkod2luZG93LnByb2Nlc3MpJiYicmVuZGVyZXIiPT09d2luZG93LnByb2Nlc3MudHlwZSlyZXR1cm4hMDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkocHJvY2Vzcy52ZXJzaW9ucykmJkJvb2xlYW4ocHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbikpcmV0dXJuITA7dmFyIGU9Im9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBuYXZpZ2F0b3I/InVuZGVmaW5lZCI6T2JqZWN0KHIuYSkobmF2aWdhdG9yKSkmJiJzdHJpbmciPT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudCxuPXR8fGU7cmV0dXJuISEobiYmbi5pbmRleE9mKCJFbGVjdHJvbiIpPj0wKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oNiksaT1uKDcpLGE9bigxNyksbz1uKDE1KSxzPW4oMTgpLHU9bigxMjYpLGM9bigyNyksbD1uKDgzKSxoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIE9iamVjdChzLmEpKGUsdCksT2JqZWN0KGkuYSkoZSxbe2tleToibGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfX0se2tleToibWFnbml0dWRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbigpfX0se2tleToibGVuZ3RoU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0Kz10aGlzW2VdKnRoaXNbZV07cmV0dXJuIHR9fSx7a2V5OiJtYWduaXR1ZGVTcXVhcmVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKX19LHtrZXk6ImRpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkKHQpKX19LHtrZXk6ImRpc3RhbmNlU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pe3ZhciByPXRoaXNbbl0tdFtuXTtlKz1yKnJ9cmV0dXJuIE9iamVjdChjLmEpKGUpfX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillKz10aGlzW25dKnRbbl07cmV0dXJuIE9iamVjdChjLmEpKGUpfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWFnbml0dWRlKCk7aWYoMCE9PXQpZm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdLz10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXSo9YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiZGl2aWRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dLz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGhTcXVhcmVkKCl9fSx7a2V5OiJkaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZSh0KX19LHtrZXk6ImRpc3RhbmNlVG9TcXVhcmVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxdWFyZWQodCl9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QobC5hKSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLE9iamVjdChjLmEpKHRoaXNbdF0pfX0se2tleToic2V0Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QobC5hKSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLHRoaXNbdF09ZSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJhZGRWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkuYWRkKGUpfX0se2tleToic3ViVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb3B5KHQpLnN1YnRyYWN0KGUpfX0se2tleToibXVsdGlwbHlWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkubXVsdGlwbHkoZSl9fSx7a2V5OiJhZGRTY2FsZWRWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQpLm11bHRpcGx5U2NhbGFyKGUpKX19LHtrZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09T2JqZWN0KGMuYSkodCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxXX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzFdPU9iamVjdChjLmEpKHQpfX1dKSxlfSh1LmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgcj1uKDYpLGk9big3KSxhPW4oMTcpLG89bigxNSkscz1uKDE4KSx1PW4oMTI2KSxjPW4oMjcpLGw9bigyMSksaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksT2JqZWN0KGEuYSkodGhpcyxPYmplY3Qoby5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3Qocy5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSJbIjtpZihsLmIucHJpbnRSb3dNYWpvcil7dCs9InJvdy1tYWpvcjoiO2Zvcih2YXIgZT0wO2U8dGhpcy5SQU5LOysrZSlmb3IodmFyIG49MDtuPHRoaXMuUkFOSzsrK24pdCs9IiAiLmNvbmNhdCh0aGlzW24qdGhpcy5SQU5LK2VdKX1lbHNle3QrPSJjb2x1bW4tbWFqb3I6Ijtmb3IodmFyIHI9MDtyPHRoaXMuRUxFTUVOVFM7KytyKXQrPSIgIi5jb25jYXQodGhpc1tyXSl9cmV0dXJuIHQrPSJdIn19LHtrZXk6ImdldEVsZW1lbnRJbmRleCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSp0aGlzLlJBTksrdH19LHtrZXk6ImdldEVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXNbZSp0aGlzLlJBTksrdF19fSx7a2V5OiJzZXRFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXNbZSp0aGlzLlJBTksrdF09T2JqZWN0KGMuYSkobiksdGhpc319LHtrZXk6ImdldENvbHVtbiIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpuZXcgQXJyYXkodGhpcy5SQU5LKS5maWxsKC0wKSxuPXQqdGhpcy5SQU5LLHI9MDtyPHRoaXMuUkFOSzsrK3IpZVtyXT10aGlzW24rcl07cmV0dXJuIGV9fSx7a2V5OiJzZXRDb2x1bW4iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQqdGhpcy5SQU5LLHI9MDtyPHRoaXMuUkFOSzsrK3IpdGhpc1tuK3JdPWVbcl07cmV0dXJuIHRoaXN9fV0pLGV9KHUuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpKCkodGhpcyx0KTt2YXIgcj1uLmlkLGE9dm9pZCAwPT09cj8icGFzcyI6cjt0aGlzLmlkPWEsdGhpcy5nbD1lLHRoaXMucHJvcHM9e30sT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLG4pfXJldHVybiBvKCkodCxbe2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDgpLHU9bigyOSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCksQXJyYXkuaXNBcnJheShlKSYmKGU9e2NvbXBhcmU6ZSxleHRyYWN0OmUscmVxdWlyZWQ6ZX0pO3ZhciBuPWUscj1uLmNvbXBhcmUsYT1uLmV4dHJhY3Qsbz1uLnJlcXVpcmVkO3RoaXMuX3Byb3BzVG9Db21wYXJlPXIsdGhpcy5fcHJvcHNUb0V4dHJhY3Q9YSx0aGlzLl9yZXF1aXJlZFByb3BzPW99cmV0dXJuIG8oKSh0LFt7a2V5OiJhcmVQcm9wc0VxdWFsIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPSh0aGlzLl9wcm9wc1RvQ29tcGFyZXx8T2JqZWN0LmtleXMoZSkpW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciB1PWEudmFsdWU7aWYoISh1IGluIHQmJnUgaW4gZSYmT2JqZWN0KHMuaikodFt1XSxlW3VdKSkpcmV0dXJuITF9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4hMH19LHtrZXk6ImluaXRpYWxpemVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0aGlzLl9wcm9wc1RvRXh0cmFjdCl7dmFyIHI9e30saT17fSxhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPXRoaXMuX3Byb3BzVG9FeHRyYWN0W1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7cltsXT10W2xdLGlbbF09ZVtsXX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fW49e3N0YXJ0OnIsZW5kOml9fWVsc2Ugbj17c3RhcnQ6dCxlbmQ6ZX07cmV0dXJuIHRoaXMuX2NoZWNrUmVxdWlyZWRQcm9wcyhuLnN0YXJ0KSx0aGlzLl9jaGVja1JlcXVpcmVkUHJvcHMobi5lbmQpLG59fSx7a2V5OiJpbnRlcnBvbGF0ZVByb3BzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGV9fSx7a2V5OiJnZXREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50cmFuc2l0aW9uRHVyYXRpb259fSx7a2V5OiJfY2hlY2tSZXF1aXJlZFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9yZXF1aXJlZFByb3BzJiZ0aGlzLl9yZXF1aXJlZFByb3BzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07T2JqZWN0KHUuYSkoTnVtYmVyLmlzRmluaXRlKG4pfHxBcnJheS5pc0FycmF5KG4pLCIiLmNvbmNhdChlLCIgaXMgcmVxdWlyZWQgZm9yIHRyYW5zaXRpb24iKSl9KSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oNikscz1uKDcpLHU9big5NiksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtPYmplY3Qoby5hKSh0aGlzLHQpLHRoaXMuX2ZpbGVPckJsb2I9ZSx0aGlzLmJvZHlVc2VkPSExfXZhciBlLG4scjtyZXR1cm4gT2JqZWN0KHMuYSkodCxbe2tleToiYXJyYXlCdWZmZXIiLHZhbHVlOihyPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGU9dGhpcy5fZ2V0RmlsZVJlYWRlcigpLG49ZS5yZWFkZXIscj1lLnByb21pc2Usbi5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLl9maWxlT3JCbG9iKSx0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJ0ZXh0Iix2YWx1ZToobj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scjtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBlPXRoaXMuX2dldEZpbGVSZWFkZXIoKSxuPWUucmVhZGVyLHI9ZS5wcm9taXNlLG4ucmVhZEFzVGV4dCh0aGlzLl9maWxlT3JCbG9iKSx0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJqc29uIix2YWx1ZTooZT1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQubmV4dD0yLHRoaXMudGV4dCgpO2Nhc2UgMjpyZXR1cm4gZT10LnNlbnQsdC5hYnJ1cHQoInJldHVybiIsSlNPTi5wYXJzZShlKSk7Y2FzZSA0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX2dldEZpbGVSZWFkZXIiLHZhbHVlOmZ1bmN0aW9uKCl7T2JqZWN0KHUuYSkoIXRoaXMuYm9keVVzZWQpLHRoaXMuYm9keVVzZWQ9ITA7dmFyIHQ9bmV3IEZpbGVSZWFkZXIsZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0cnl7dC5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuKG5ldyBFcnJvcigiUmVhZCBlcnJvciIpKX0sdC5vbmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIG4obmV3IEVycm9yKCJSZWFkIGFib3J0ZWQuIikpfSx0Lm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiBlKHQucmVzdWx0KX19Y2F0Y2godCl7bih0KX19KSk7cmV0dXJue3JlYWRlcjp0LHByb21pc2U6ZX19fSx7a2V5OiJoZWFkZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhlYWRlcnMoeyJDb250ZW50LUxlbmd0aCI6dGhpcy5fZmlsZU9yQmxvYi5zaXplLCJDb250ZW50LVR5cGUiOnRoaXMuX2ZpbGVPckJsb2IudHlwZX0pfX0se2tleToib2siLGdldDpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMjAwfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZU9yQmxvYi5uYW1lfHwiIn19XSksdH0oKTtmdW5jdGlvbiBsKHQsZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgYyh0LGUpKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt0aGlzLndyYXBwZWQ9dH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB4fSkpO3ZhciByPW4oNCksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMiksdj1uLm4oZCkscD1uKDEwKSxnPW4ubihwKSx5PW4oMTAxKSxtPW4oMTEpO2Z1bmN0aW9uIGIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIF8odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/YihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2koKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgTz17YmxlbmRGdW5jOlsxLDAsMzI3NzEsMF0sYmxlbmRFcXVhdGlvbjozMjc3NH0seD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG8oKSh0aGlzLGUpLGwoKSh0aGlzLGYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBnKCkoZSx0KSx1KCkoZSxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt0LnBpY2tpbmdGQk8/dGhpcy5fZHJhd1BpY2tpbmdCdWZmZXIodCk6digpKGYoKShlLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleToiX2RyYXdQaWNraW5nQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dC5sYXllcnMsaT10LmxheWVyRmlsdGVyLGE9dC52aWV3cG9ydHMsbz10Lm9uVmlld3BvcnRBY3RpdmUscz10LnBpY2tpbmdGQk8sdT10LmRldmljZVJlY3QsYz11LngsbD11LnksaD11LndpZHRoLGQ9dS5oZWlnaHQscD10LnBhc3MsZz12b2lkIDA9PT1wPyJwaWNraW5nIjpwLHk9dC5yZWRyYXdSZWFzb24sYj10LnBpY2taLHg9dGhpcy5nbDtyZXR1cm4gdGhpcy5waWNrWj1iLE9iamVjdChtLmwpKHgsXyh7c2Npc3NvclRlc3Q6ITAsc2Npc3NvcjpbYyxsLGgsZF0sY2xlYXJDb2xvcjpbMCwwLDAsMF0sZGVwdGhNYXNrOiEwLGRlcHRoVGVzdDohMCxkZXB0aFJhbmdlOlswLDFdLGNvbG9yTWFzazpbITAsITAsITAsITBdfSxPLHtibGVuZDohYn0pLChmdW5jdGlvbigpe3YoKShmKCkoZS5wcm90b3R5cGUpLCJyZW5kZXIiLG4pLmNhbGwobix7dGFyZ2V0OnMsbGF5ZXJzOnIsbGF5ZXJGaWx0ZXI6aSx2aWV3cG9ydHM6YSxvblZpZXdwb3J0QWN0aXZlOm8scGFzczpnLHJlZHJhd1JlYXNvbjp5fSl9KSl9fSx7a2V5OiJzaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BzLnBpY2thYmxlfX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57cGlja2luZ0FjdGl2ZToxLHBpY2tpbmdBdHRyaWJ1dGU6dGhpcy5waWNrWixsaWdodFNvdXJjZXM6e319fX0se2tleToiZ2V0TGF5ZXJQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucGlja1o/e2JsZW5kOiExfTpfKHt9LE8se2JsZW5kOiEwLGJsZW5kQ29sb3I6WzAsMCwwLChlKzEpLzI1NV19KTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0LnByb3BzLnBhcmFtZXRlcnMsbil9fV0pLGV9KHkuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9dC5kYXRhLG49dC5nZXRJbmRleCxyPXQuZGF0YVJhbmdlLGk9dC5yZXBsYWNlLGE9ci5zdGFydFJvdyxvPXZvaWQgMD09PWE/MDphLHM9ci5lbmRSb3csdT12b2lkIDA9PT1zPzEvMDpzLGM9ZS5sZW5ndGgsbD1jLGg9YyxmPTA7ZjxjO2YrKyl7dmFyIGQ9bihlW2ZdKTtpZihsPmYmJmQ+PW8mJihsPWYpLGQ+PXUpe2g9ZjticmVha319Zm9yKHZhciB2PWwscD1oLWwhPT1pLmxlbmd0aCxnPXAmJmUuc2xpY2UoaCkseT0wO3k8aS5sZW5ndGg7eSsrKWVbdisrXT1pW3ldO2lmKHApe2Zvcih2YXIgbT0wO208Zy5sZW5ndGg7bSsrKWVbdisrXT1nW21dO2UubGVuZ3RoPXZ9cmV0dXJue3N0YXJ0Um93OmwsZW5kUm93OmwraS5sZW5ndGh9fW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDApLGk9big2KSxhPW4oNyksbz1uKDExKSxzPW4oMjMxKSx1PW4oMTE1KSxjPW4oMjgpLGw9bigxNzcpLGg9bigyOTApLGY9big3MiksZD1uKDQ4KSx2PW4oMTcpLHA9big0NyksZz1uKDE1KSx5PW4oODgpLG09bigxOCksYj1uKDUyKSxfPW51bGw7ZnVuY3Rpb24gTyh0LGUpe3ZhciBuO3JldHVybiBuZXcgdCgobj10LkJZVEVTX1BFUl9FTEVNRU5UKmUsKCFffHxfLmJ5dGVMZW5ndGg8bikmJihfPW5ldyBBcnJheUJ1ZmZlcihuKSksXyksMCxlKX12YXIgeD1uKDcwKSx3PW4oMTY1KSxrPW4oMTY2KTtmdW5jdGlvbiBTKHQpe2lmKCF0JiYhT2JqZWN0KHcuYSkoKSlyZXR1cm4iTm9kZSI7aWYoT2JqZWN0KGsuYSkodCkpcmV0dXJuIkVsZWN0cm9uIjt2YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcj9uYXZpZ2F0b3I6e30sbj10fHxlLnVzZXJBZ2VudHx8IiI7aWYobi5pbmRleE9mKCJFZGdlIik+LTEpcmV0dXJuIkVkZ2UiO3ZhciByPS0xIT09bi5pbmRleE9mKCJNU0lFICIpLGk9LTEhPT1uLmluZGV4T2YoIlRyaWRlbnQvIik7cmV0dXJuIHJ8fGk/IklFIjp4LmIuY2hyb21lPyJDaHJvbWUiOnguYi5zYWZhcmk/IlNhZmFyaSI6eC5iLm1veklubmVyU2NyZWVuWD8iRmlyZWZveCI6IlVua25vd24ifXZhciBQPSJlbGVtZW50cyBtdXN0IGJlIEdMLkVMRU1FTlRfQVJSQVlfQlVGRkVSIixqPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KGkuYSkodGhpcyxlKTt2YXIgYT1yLmlkfHxyLnByb2dyYW0mJnIucHJvZ3JhbS5pZDtyZXR1cm4obj1PYmplY3Qodi5hKSh0aGlzLE9iamVjdChnLmEpKGUpLmNhbGwodGhpcyx0LE9iamVjdC5hc3NpZ24oe30scix7aWQ6YX0pKSkpLmJ1ZmZlcj1udWxsLG4uYnVmZmVyVmFsdWU9bnVsbCxuLmlzRGVmYXVsdEFycmF5PXIuaXNEZWZhdWx0QXJyYXl8fCExLG4uaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3QocC5hKShuKSksbn1yZXR1cm4gT2JqZWN0KG0uYSkoZSx0KSxPYmplY3QoYS5hKShlLG51bGwsW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIWUuY29uc3RhbnRBdHRyaWJ1dGVaZXJvfHwoT2JqZWN0KG8uZykodCl8fCJDaHJvbWUiPT09UygpKX19LHtrZXk6ImdldERlZmF1bHRBcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5kZWZhdWx0VmVydGV4QXJyYXl8fCh0Lmx1bWEuZGVmYXVsdFZlcnRleEFycmF5PW5ldyBlKHQse2hhbmRsZTpudWxsLGlzRGVmYXVsdEFycmF5OiEwfSkpLHQubHVtYS5kZWZhdWx0VmVydGV4QXJyYXl9fSx7a2V5OiJnZXRNYXhBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5NQVhfQVRUUklCVVRFUz1lLk1BWF9BVFRSSUJVVEVTfHx0LmdldFBhcmFtZXRlcigzNDkyMSksZS5NQVhfQVRUUklCVVRFU319LHtrZXk6InNldENvbnN0YW50Iix2YWx1ZTpmdW5jdGlvbih0LG4scil7c3dpdGNoKHIuY29uc3RydWN0b3Ipe2Nhc2UgRmxvYXQzMkFycmF5OmUuX3NldENvbnN0YW50RmxvYXRBcnJheSh0LG4scik7YnJlYWs7Y2FzZSBJbnQzMkFycmF5OmUuX3NldENvbnN0YW50SW50QXJyYXkodCxuLHIpO2JyZWFrO2Nhc2UgVWludDMyQXJyYXk6ZS5fc2V0Q29uc3RhbnRVaW50QXJyYXkodCxuLHIpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KGMuYSkoITEpfX19XSksT2JqZWN0KGEuYSkoZSxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe09iamVjdCh5LmEpKE9iamVjdChnLmEpKGUucHJvdG90eXBlKSwiZGVsZXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuYnVmZmVyJiZ0aGlzLmJ1ZmZlci5kZWxldGUoKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB0aGlzLnNldFByb3BzKHQpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzfX0se2tleToic2V0RWxlbWVudEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gT2JqZWN0KGMuYSkoIWV8fDM0OTYzPT09ZS50YXJnZXQsUCksdGhpcy5iaW5kKChmdW5jdGlvbigpe3QuZ2wuYmluZEJ1ZmZlcigzNDk2MyxlP2UuaGFuZGxlOm51bGwpfSkpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZigzNDk2Mz09PWUudGFyZ2V0KXJldHVybiB0aGlzLnNldEVsZW1lbnRCdWZmZXIoZSxuKTt2YXIgcj1uLnNpemUsaT1uLnR5cGUsYT1uLnN0cmlkZSxzPW4ub2Zmc2V0LHU9bi5ub3JtYWxpemVkLGw9bi5pbnRlZ2VyLGg9bi5kaXZpc29yLGY9dGhpcy5nbDtyZXR1cm4gdD1OdW1iZXIodCksdGhpcy5iaW5kKChmdW5jdGlvbigpe2YuYmluZEJ1ZmZlcigzNDk2MixlLmhhbmRsZSksbD8oT2JqZWN0KGMuYSkoT2JqZWN0KG8uZykoZikpLGYudmVydGV4QXR0cmliSVBvaW50ZXIodCxyLGksYSxzKSk6Zi52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQscixpLHUsYSxzKSxmLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLGYudmVydGV4QXR0cmliRGl2aXNvcih0LGh8fDApfSkpLHRoaXN9fSx7a2V5OiJlbmFibGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMscj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9IXImJjA9PT10JiYhZS5pc1N1cHBvcnRlZCh0aGlzLmdsLHtjb25zdGFudEF0dHJpYnV0ZVplcm86ITB9KTtyZXR1cm4gaXx8KHQ9TnVtYmVyKHQpLHRoaXMuYmluZCgoZnVuY3Rpb24oKXtyZXR1cm4gcj9uLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpOm4uZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpfSkpKSx0aGlzfX0se2tleToiZ2V0Q29uc3RhbnRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9ub3JtYWxpemVDb25zdGFudEFycmF5VmFsdWUoZSxuKSxpPXIuYnl0ZUxlbmd0aCp0LGE9ci5sZW5ndGgqdCxvPSF0aGlzLmJ1ZmZlcjtpZih0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlcnx8bmV3IGQuYSh0aGlzLmdsLGkpLG89KG89b3x8dGhpcy5idWZmZXIucmVhbGxvY2F0ZShpKSl8fCF0aGlzLl9jb21wYXJlQ29uc3RhbnRBcnJheVZhbHVlcyhyLHRoaXMuYnVmZmVyVmFsdWUpKXt2YXIgcz1PKGUuY29uc3RydWN0b3IsYSk7IWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnRhcmdldCxuPXQuc291cmNlLHI9dC5zdGFydCxpPXZvaWQgMD09PXI/MDpyLGE9dC5jb3VudCxvPXZvaWQgMD09PWE/MTphLHM9bi5sZW5ndGgsdT1vKnMsYz0wLGw9aTtjPHM7YysrKWVbbCsrXT1uW2NdO2Zvcig7Yzx1OyljPHUtYz8oZS5jb3B5V2l0aGluKGkrYyxpLGkrYyksYyo9Mik6KGUuY29weVdpdGhpbihpK2MsaSxpK3UtYyksYz11KX0oe3RhcmdldDpzLHNvdXJjZTpyLHN0YXJ0OjAsY291bnQ6YX0pLHRoaXMuYnVmZmVyLnN1YkRhdGEocyksdGhpcy5idWZmZXJWYWx1ZT1lfXJldHVybiB0aGlzLmJ1ZmZlcn19LHtrZXk6Il9ub3JtYWxpemVDb25zdGFudEFycmF5VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/bmV3IEZsb2F0MzJBcnJheSh0KTp0fX0se2tleToiX2NvbXBhcmVDb25zdGFudEFycmF5VmFsdWVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCF0fHwhZXx8dC5sZW5ndGghPT1lLmxlbmd0aHx8dC5jb25zdHJ1Y3RvciE9PWUuY29uc3RydWN0b3IpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVZlcnRleEFycmF5KCl9fSx7a2V5OiJfZGVsZXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5kZWxldGVWZXJ0ZXhBcnJheSh0KSxbdGhpcy5lbGVtZW50c119fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5nbC5iaW5kVmVydGV4QXJyYXkodCl9fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1lLmxvY2F0aW9uO3JldHVybiBPYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUocikpLHRoaXMuYmluZCgoZnVuY3Rpb24oKXtzd2l0Y2godCl7Y2FzZSAzNDM3MzpyZXR1cm4gbi5nbC5nZXRWZXJ0ZXhBdHRyaWJPZmZzZXQocix0KTtkZWZhdWx0OnJldHVybiBuLmdsLmdldFZlcnRleEF0dHJpYihyLHQpfX0pKX19LHtrZXk6Ik1BWF9BVFRSSUJVVEVTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRNYXhBdHRyaWJ1dGVzKHRoaXMuZ2wpfX1dLFt7a2V5OiJfc2V0Q29uc3RhbnRGbG9hdEFycmF5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDE6dC52ZXJ0ZXhBdHRyaWIxZnYoZSxuKTticmVhaztjYXNlIDI6dC52ZXJ0ZXhBdHRyaWIyZnYoZSxuKTticmVhaztjYXNlIDM6dC52ZXJ0ZXhBdHRyaWIzZnYoZSxuKTticmVhaztjYXNlIDQ6dC52ZXJ0ZXhBdHRyaWI0ZnYoZSxuKTticmVhaztkZWZhdWx0Ok9iamVjdChjLmEpKCExKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRJbnRBcnJheSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChPYmplY3QoYy5hKShPYmplY3Qoby5nKSh0KSksbi5sZW5ndGgpe2Nhc2UgMTp0LnZlcnRleEF0dHJpYkkxaXYoZSxuKTticmVhaztjYXNlIDI6dC52ZXJ0ZXhBdHRyaWJJMml2KGUsbik7YnJlYWs7Y2FzZSAzOnQudmVydGV4QXR0cmliSTNpdihlLG4pO2JyZWFrO2Nhc2UgNDp0LnZlcnRleEF0dHJpYkk0aXYoZSxuKTticmVhaztkZWZhdWx0Ok9iamVjdChjLmEpKCExKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRVaW50QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2goT2JqZWN0KGMuYSkoT2JqZWN0KG8uZykodCkpLG4ubGVuZ3RoKXtjYXNlIDE6dC52ZXJ0ZXhBdHRyaWJJMXVpdihlLG4pO2JyZWFrO2Nhc2UgMjp0LnZlcnRleEF0dHJpYkkydWl2KGUsbik7YnJlYWs7Y2FzZSAzOnQudmVydGV4QXR0cmliSTN1aXYoZSxuKTticmVhaztjYXNlIDQ6dC52ZXJ0ZXhBdHRyaWJJNHVpdihlLG4pO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KGMuYSkoITEpfX19XSksZX0oYi5hKSxUPW4oMjc0KSxFPS9eKC4rKV9fTE9DQVRJT05fKFswLTldKykkLyxBPVsic2V0QnVmZmVycyIsInNldEdlbmVyaWMiLCJjbGVhckJpbmRpbmdzIiwic2V0TG9jYXRpb25zIiwic2V0R2VuZXJpY1ZhbHVlcyIsInNldERpdmlzb3IiLCJlbmFibGUiLCJkaXNhYmxlIl0sTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O09iamVjdChpLmEpKHRoaXMsdCk7dmFyIHI9bi5pZHx8bi5wcm9ncmFtJiZuLnByb2dyYW0uaWQ7dGhpcy5pZD1yLHRoaXMuZ2w9ZSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmVsZW1lbnRzPW51bGwsdGhpcy5lbGVtZW50c0FjY2Vzc29yPW51bGwsdGhpcy52YWx1ZXM9bnVsbCx0aGlzLmFjY2Vzc29ycz1udWxsLHRoaXMudW51c2VkPW51bGwsdGhpcy5kcmF3UGFyYW1zPW51bGwsdGhpcy5idWZmZXI9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy52ZXJ0ZXhBcnJheU9iamVjdD1uZXcgaihlKSxPYmplY3QoVC5hKSh0aGlzLCJWZXJ0ZXhBcnJheSIsInY2LjAiLEEpLHRoaXMuaW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGEuYSkodCxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYnVmZmVyJiZ0aGlzLmJ1ZmZlci5kZWxldGUoKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LmRlbGV0ZSgpfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmJpbmRPblVzZT0hMSx0aGlzLnNldFByb3BzKHQpfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50cz1udWxsLHRoaXMuZWxlbWVudHNBY2Nlc3Nvcj1udWxsO3ZhciB0PXRoaXMudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7cmV0dXJuIHRoaXMudmFsdWVzPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMuYWNjZXNzb3JzPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMudW51c2VkPXt9LHRoaXMuZHJhd1BhcmFtcz1udWxsLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuInByb2dyYW0iaW4gdCYmKHRoaXMuY29uZmlndXJhdGlvbj10LnByb2dyYW0mJnQucHJvZ3JhbS5jb25maWd1cmF0aW9uKSwiY29uZmlndXJhdGlvbiJpbiB0JiYodGhpcy5jb25maWd1cmF0aW9uPXQuY29uZmlndXJhdGlvbiksImF0dHJpYnV0ZXMiaW4gdCYmdGhpcy5zZXRBdHRyaWJ1dGVzKHQuYXR0cmlidXRlcyksImVsZW1lbnRzImluIHQmJnRoaXMuc2V0RWxlbWVudEJ1ZmZlcih0LmVsZW1lbnRzKSwiYmluZE9uVXNlImluIHQmJih0PXQuYmluZE9uVXNlKSx0aGlzfX0se2tleToiY2xlYXJEcmF3UGFyYW1zIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZHJhd1BhcmFtcz1udWxsfX0se2tleToiZ2V0RHJhd1BhcmFtcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmF3UGFyYW1zPXRoaXMuZHJhd1BhcmFtc3x8dGhpcy5fdXBkYXRlRHJhd1BhcmFtcygpLHRoaXMuZHJhd1BhcmFtc319LHtrZXk6InNldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5hdHRyaWJ1dGVzLHQpLHRoaXMudmVydGV4QXJyYXlPYmplY3QuYmluZCgoZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtlLl9zZXRBdHRyaWJ1dGUobixyKX1lLmdsLmJpbmRCdWZmZXIoMzQ5NjIsbnVsbCl9KSksdGhpc319LHtrZXk6InNldEVsZW1lbnRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHRoaXMuZWxlbWVudHM9dCx0aGlzLmVsZW1lbnRzQWNjZXNzb3I9ZSx0aGlzLmNsZWFyRHJhd1BhcmFtcygpLHRoaXMudmVydGV4QXJyYXlPYmplY3Quc2V0RWxlbWVudEJ1ZmZlcih0LGUpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKDM0OTYzPT09ZS50YXJnZXQpcmV0dXJuIHRoaXMuc2V0RWxlbWVudEJ1ZmZlcihlLG4pO3ZhciByPXRoaXMuX3Jlc29sdmVMb2NhdGlvbkFuZEFjY2Vzc29yKHQsZSxlLmFjY2Vzc29yLG4pLGk9ci5sb2NhdGlvbixhPXIuYWNjZXNzb3I7cmV0dXJuIGk+PTAmJih0aGlzLnZhbHVlc1tpXT1lLHRoaXMuYWNjZXNzb3JzW2ldPWEsdGhpcy5jbGVhckRyYXdQYXJhbXMoKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LnNldEJ1ZmZlcihpLGUsYSkpLHRoaXN9fSx7a2V5OiJzZXRDb25zdGFudCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj10aGlzLl9yZXNvbHZlTG9jYXRpb25BbmRBY2Nlc3Nvcih0LGUsT2JqZWN0LmFzc2lnbih7c2l6ZTplLmxlbmd0aH0sbikpLGk9ci5sb2NhdGlvbixhPXIuYWNjZXNzb3I7cmV0dXJuIGk+PTAmJihlPXRoaXMudmVydGV4QXJyYXlPYmplY3QuX25vcm1hbGl6ZUNvbnN0YW50QXJyYXlWYWx1ZShlLGEpLHRoaXMudmFsdWVzW2ldPWUsdGhpcy5hY2Nlc3NvcnNbaV09YSx0aGlzLmNsZWFyRHJhd1BhcmFtcygpLHRoaXMudmVydGV4QXJyYXlPYmplY3QuZW5hYmxlKGksITEpKSx0aGlzfX0se2tleToidW5iaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnZlcnRleEFycmF5T2JqZWN0LmJpbmQoKGZ1bmN0aW9uKCl7dC5lbGVtZW50cyYmdC52ZXJ0ZXhBcnJheU9iamVjdC5zZXRFbGVtZW50QnVmZmVyKG51bGwpLHQuYnVmZmVyPXQuYnVmZmVyfHxuZXcgZC5hKHQuZ2wse2FjY2Vzc29yOntzaXplOjR9fSk7Zm9yKHZhciBlPTA7ZTx0LnZlcnRleEFycmF5T2JqZWN0Lk1BWF9BVFRSSUJVVEVTO2UrKyl0LnZhbHVlc1tlXWluc3RhbmNlb2YgZC5hJiYodC5nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSksdC5nbC5iaW5kQnVmZmVyKDM0OTYyLHQuYnVmZmVyLmhhbmRsZSksdC5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsMSw1MTI2LCExLDAsMCkpfSkpLHRoaXN9fSx7a2V5OiJiaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnZlcnRleEFycmF5T2JqZWN0LmJpbmQoKGZ1bmN0aW9uKCl7dC5lbGVtZW50cyYmdC5zZXRFbGVtZW50QnVmZmVyKHQuZWxlbWVudHMpO2Zvcih2YXIgZT0wO2U8dC52ZXJ0ZXhBcnJheU9iamVjdC5NQVhfQVRUUklCVVRFUztlKyspe3ZhciBuPXQudmFsdWVzW2VdO24gaW5zdGFuY2VvZiBkLmEmJnQuc2V0QnVmZmVyKGUsbil9fSkpLHRoaXN9fSx7a2V5OiJiaW5kRm9yRHJhdyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9dGhpcztyZXR1cm4gdGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5iaW5kKChmdW5jdGlvbigpe2kuX3NldENvbnN0YW50QXR0cmlidXRlcyh0LGUpLHI9bigpfSkpLHJ9fSx7a2V5OiJfcmVzb2x2ZUxvY2F0aW9uQW5kQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMsYT10aGlzLl9nZXRBdHRyaWJ1dGVJbmRleCh0KSxzPWEubG9jYXRpb24sdT1hLm5hbWU7aWYoIU51bWJlci5pc0Zpbml0ZShzKXx8czwwKXJldHVybiB0aGlzLnVudXNlZFt0XT1lLG8uaC5vbmNlKDMsKGZ1bmN0aW9uKCl7cmV0dXJuInVudXNlZCB2YWx1ZSAiLmNvbmNhdCh0LCIgaW4gIikuY29uY2F0KGkuaWQpfSkpKCksdGhpczt2YXIgbD10aGlzLl9nZXRBdHRyaWJ1dGVJbmZvKHV8fHMpO2lmKCFsKXJldHVybntsb2NhdGlvbjotMSxhY2Nlc3NvcjpudWxsfTt2YXIgaD10aGlzLmFjY2Vzc29yc1tzXXx8e30sZD1mLmEucmVzb2x2ZShsLmFjY2Vzc29yLGgsbixyKSx2PWQuc2l6ZSxwPWQudHlwZTtyZXR1cm4gT2JqZWN0KGMuYSkoTnVtYmVyLmlzRmluaXRlKHYpJiZOdW1iZXIuaXNGaW5pdGUocCkpLHtsb2NhdGlvbjpzLGFjY2Vzc29yOmR9fX0se2tleToiX2dldEF0dHJpYnV0ZUluZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24mJnRoaXMuY29uZmlndXJhdGlvbi5nZXRBdHRyaWJ1dGVJbmZvKHQpfX0se2tleToiX2dldEF0dHJpYnV0ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1OdW1iZXIodCk7aWYoTnVtYmVyLmlzRmluaXRlKGUpKXJldHVybntsb2NhdGlvbjplfTt2YXIgbj1FLmV4ZWModCkscj1uP25bMV06dCxpPW4/TnVtYmVyKG5bMl0pOjA7cmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbj97bG9jYXRpb246dGhpcy5jb25maWd1cmF0aW9uLmdldEF0dHJpYnV0ZUxvY2F0aW9uKHIpK2ksbmFtZTpyfTp7bG9jYXRpb246LTF9fX0se2tleToiX3NldEF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlIGluc3RhbmNlb2YgZC5hKXRoaXMuc2V0QnVmZmVyKHQsZSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmZVswXWluc3RhbmNlb2YgZC5hKXt2YXIgbj1lWzBdLHI9ZVsxXTt0aGlzLnNldEJ1ZmZlcih0LG4scil9ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fEFycmF5LmlzQXJyYXkoZSkpe3ZhciBpPWU7dGhpcy5zZXRDb25zdGFudCh0LGkpfWVsc2V7aWYoIShlLmJ1ZmZlciBpbnN0YW5jZW9mIGQuYSkpdGhyb3cgbmV3IEVycm9yKCJWZXJ0ZXhBcnJheTogYXR0cmlidXRlcyBtdXN0IGJlIEJ1ZmZlcnMgb3IgY29uc3RhbnRzIChpLmUuIHR5cGVkIGFycmF5KSIpO3ZhciBhPWU7dGhpcy5zZXRCdWZmZXIodCxhLmJ1ZmZlcixhKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGgubWF4KDB8dCwwfGUpLHI9dGhpcy52YWx1ZXNbMF07QXJyYXlCdWZmZXIuaXNWaWV3KHIpJiZ0aGlzLl9zZXRDb25zdGFudEF0dHJpYnV0ZVplcm8ocixuKTtmb3IodmFyIGk9MTtpPHRoaXMudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7aSsrKXI9dGhpcy52YWx1ZXNbaV0sQXJyYXlCdWZmZXIuaXNWaWV3KHIpJiZ0aGlzLl9zZXRDb25zdGFudEF0dHJpYnV0ZShpLHIpfX0se2tleToiX3NldENvbnN0YW50QXR0cmlidXRlWmVybyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihqLmlzU3VwcG9ydGVkKHRoaXMuZ2wse2NvbnN0YW50QXR0cmlidXRlWmVybzohMH0pKXRoaXMuX3NldENvbnN0YW50QXR0cmlidXRlKDAsdCk7ZWxzZXt2YXIgbj10aGlzLnZlcnRleEFycmF5T2JqZWN0LmdldENvbnN0YW50QnVmZmVyKGUsdCk7dGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5zZXRCdWZmZXIoMCxuLHRoaXMuYWNjZXNzb3JzWzBdKX19fSx7a2V5OiJfc2V0Q29uc3RhbnRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ai5zZXRDb25zdGFudCh0aGlzLmdsLHQsZSl9fSx7a2V5OiJfdXBkYXRlRHJhd1BhcmFtcyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e2lzSW5kZXhlZDohMSxpc0luc3RhbmNlZDohMSxpbmRleENvdW50OjEvMCx2ZXJ0ZXhDb3VudDoxLzAsaW5zdGFuY2VDb3VudDoxLzB9LGU9MDtlPHRoaXMudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7ZSsrKXRoaXMuX3VwZGF0ZURyYXdQYXJhbXNGb3JMb2NhdGlvbih0LGUpO3JldHVybiB0aGlzLmVsZW1lbnRzJiYodC5lbGVtZW50Q291bnQ9dGhpcy5lbGVtZW50cy5nZXRFbGVtZW50Q291bnQodGhpcy5lbGVtZW50cy5hY2Nlc3NvciksdC5pc0luZGV4ZWQ9ITAsdC5pbmRleFR5cGU9dGhpcy5lbGVtZW50c0FjY2Vzc29yLnR5cGV8fHRoaXMuZWxlbWVudHMuYWNjZXNzb3IudHlwZSx0LmluZGV4T2Zmc2V0PXRoaXMuZWxlbWVudHNBY2Nlc3Nvci5vZmZzZXR8fDApLHQuaW5kZXhDb3VudD09PTEvMCYmKHQuaW5kZXhDb3VudD0wKSx0LnZlcnRleENvdW50PT09MS8wJiYodC52ZXJ0ZXhDb3VudD0wKSx0Lmluc3RhbmNlQ291bnQ9PT0xLzAmJih0Lmluc3RhbmNlQ291bnQ9MCksdH19LHtrZXk6Il91cGRhdGVEcmF3UGFyYW1zRm9yTG9jYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52YWx1ZXNbZV0scj10aGlzLmFjY2Vzc29yc1tlXTtpZihuKXt2YXIgaT1yLmRpdmlzb3I+MDtpZih0LmlzSW5zdGFuY2VkPXQuaXNJbnN0YW5jZWR8fGksbiBpbnN0YW5jZW9mIGQuYSl7dmFyIGE9bjtpZihpKXt2YXIgbz1hLmdldFZlcnRleENvdW50KHIpO3QuaW5zdGFuY2VDb3VudD1NYXRoLm1pbih0Lmluc3RhbmNlQ291bnQsbyl9ZWxzZXt2YXIgcz1hLmdldFZlcnRleENvdW50KHIpO3QudmVydGV4Q291bnQ9TWF0aC5taW4odC52ZXJ0ZXhDb3VudCxzKX19fX19LHtrZXk6InNldEVsZW1lbnRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBvLmguZGVwcmVjYXRlZCgic2V0RWxlbWVudHMiLCJzZXRFbGVtZW50QnVmZmVyIikoKSx0aGlzLnNldEVsZW1lbnRCdWZmZXIodCxlKX19XSksdH0oKSxDPW4oMjg4KSxMPW4oMTA1KSxJPW4oOTQpO2Z1bmN0aW9uIFIodCxlKXtmb3IodmFyIG49ZS5tYXhFbHRzLHI9dm9pZCAwPT09bj8xNjpuLGk9ZS5zaXplLGE9dm9pZCAwPT09aT8xOmksbz0iWyIscz0wO3M8dC5sZW5ndGgmJnM8cjsrK3Mpcz4wJiYobys9IiwiLmNvbmNhdChzJWE9PTA/IiAiOiIiKSksbys9Tih0W3NdLGUpO3ZhciB1PXQubGVuZ3RoPnI/Ii4uLiI6Il0iO3JldHVybiIiLmNvbmNhdChvKS5jb25jYXQodSl9ZnVuY3Rpb24gTih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj0xZS0xNixyPWUuaXNJbnRlZ2VyLGk9dm9pZCAwIT09ciYmcjtpZihBcnJheS5pc0FycmF5KHQpfHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIFIodCxlKTtpZighTnVtYmVyLmlzRmluaXRlKHQpKXJldHVybiBTdHJpbmcodCk7aWYoTWF0aC5hYnModCk8bilyZXR1cm4gaT8iMCI6IjAuIjtpZihpKXJldHVybiB0LnRvRml4ZWQoMCk7aWYoTWF0aC5hYnModCk+MTAwJiZNYXRoLmFicyh0KTwxZTQpcmV0dXJuIHQudG9GaXhlZCgwKTt2YXIgYT10LnRvUHJlY2lzaW9uKDIpLG89YS5pbmRleE9mKCIuMCIpO3JldHVybiBvPT09YS5sZW5ndGgtMj9hLnNsaWNlKDAsLTEpOmF9ZnVuY3Rpb24gRCh0LGUsbixpKXt2YXIgYSxvLHM9dC5nbDtpZighZSlyZXR1cm4gbz17fSxPYmplY3Qoci5hKShvLGksIm51bGwiKSxPYmplY3Qoci5hKShvLCJGb3JtYXQgIiwiTi9BIiksbzt2YXIgdSxjLGwsaD0iTk9UIFBST1ZJREVEIixmPSJOL0EiLHY9Ik4vQSIscD0iTi9BIjtpZihuJiYoaD1uLnR5cGUsZj1uLnNpemUsdT0tMSE9PShoPVN0cmluZyhoKS5yZXBsYWNlKCJBcnJheSIsIiIpKS5pbmRleE9mKCJudCIpKSxlIGluc3RhbmNlb2YgZC5hKXt2YXIgZyx5LG09ZSxiPW0uZ2V0RGVidWdEYXRhKCksXz1iLmRhdGE7aWYoYz1iLm1vZGlmaWVkPyIqIjoiIixsPV8sdj0ocD1tLmJ5dGVMZW5ndGgpL18uQllURVNfUEVSX0VMRU1FTlQvZixuKXt2YXIgTz1uLmRpdmlzb3I+MDt5PSIiLmNvbmNhdChPPyJJICI6IlAgIiwiICIpLmNvbmNhdCh2LCIgKHgiKS5jb25jYXQoZiwiPSIpLmNvbmNhdChwLCIgYnl0ZXMgIikuY29uY2F0KE9iamVjdChMLmEpKHMsaCksIikiKX1lbHNlIHU9ITAseT0iIi5jb25jYXQocCwiIGJ5dGVzIik7cmV0dXJuIGc9e30sT2JqZWN0KHIuYSkoZyxpLCIiLmNvbmNhdChjKS5jb25jYXQoTihsLHtzaXplOmYsaXNJbnRlZ2VyOnV9KSkpLE9iamVjdChyLmEpKGcsIkZvcm1hdCAiLHkpLGd9cmV0dXJuIGw9ZSxmPWUubGVuZ3RoLHU9LTEhPT0oaD1TdHJpbmcoZS5jb25zdHJ1Y3Rvci5uYW1lKS5yZXBsYWNlKCJBcnJheSIsIiIpKS5pbmRleE9mKCJudCIpLGE9e30sT2JqZWN0KHIuYSkoYSxpLCIiLmNvbmNhdChOKGwse3NpemU6Zixpc0ludGVnZXI6dX0pLCIgKGNvbnN0YW50KSIpKSxPYmplY3Qoci5hKShhLCJGb3JtYXQgIiwiIi5jb25jYXQoZiwieCIpLmNvbmNhdChoLCIgKGNvbnN0YW50KSIpKSxhfWZ1bmN0aW9uIEYodCxlKXt2YXIgbj1lLnR5cGUscj1lLnNpemUsaT1PYmplY3QoSS5iKShuLHIpO3JldHVybiBpPyIiLmNvbmNhdCh0LCIgKCIpLmNvbmNhdChpLm5hbWUsIikiKTp0fWZ1bmN0aW9uIHooKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmhlYWRlcixuPXZvaWQgMD09PWU/IlVuaWZvcm1zIjplLGk9dC5wcm9ncmFtLGE9dC51bmlmb3JtcyxvPXQudW5kZWZpbmVkT25seSxzPXZvaWQgMCE9PW8mJm87T2JqZWN0KGMuYSkoaSk7dmFyIHU9Ii4qXy4qIixsPSIuKk1hdHJpeCIsaD1pLl91bmlmb3JtU2V0dGVycyxmPXt9LGQ9T2JqZWN0LmtleXMoaCkuc29ydCgpLHY9MCxwPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgbSxiPWRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0obT1iLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89bS52YWx1ZTtfLm1hdGNoKHUpfHxfLm1hdGNoKGwpfHxCKHt0YWJsZTpmLGhlYWRlcjpuLHVuaWZvcm1zOmEsdW5pZm9ybU5hbWU6Xyx1bmRlZmluZWRPbmx5OnN9KSYmdisrfX1jYXRjaCh0KXtnPSEwLHk9dH1maW5hbGx5e3RyeXtwfHxudWxsPT1iLnJldHVybnx8Yi5yZXR1cm4oKX1maW5hbGx5e2lmKGcpdGhyb3cgeX19dmFyIE89ITAseD0hMSx3PXZvaWQgMDt0cnl7Zm9yKHZhciBrLFM9ZFtTeW1ib2wuaXRlcmF0b3JdKCk7IShPPShrPVMubmV4dCgpKS5kb25lKTtPPSEwKXt2YXIgUD1rLnZhbHVlO1AubWF0Y2gobCkmJkIoe3RhYmxlOmYsaGVhZGVyOm4sdW5pZm9ybXM6YSx1bmlmb3JtTmFtZTpQLHVuZGVmaW5lZE9ubHk6c30pJiZ2Kyt9fWNhdGNoKHQpe3g9ITAsdz10fWZpbmFsbHl7dHJ5e098fG51bGw9PVMucmV0dXJufHxTLnJldHVybigpfWZpbmFsbHl7aWYoeCl0aHJvdyB3fX12YXIgaj0hMCxUPSExLEU9dm9pZCAwO3RyeXtmb3IodmFyIEEsTT1kW1N5bWJvbC5pdGVyYXRvcl0oKTshKGo9KEE9TS5uZXh0KCkpLmRvbmUpO2o9ITApe3ZhciBDPUEudmFsdWU7ZltDXXx8Qih7dGFibGU6ZixoZWFkZXI6bix1bmlmb3JtczphLHVuaWZvcm1OYW1lOkMsdW5kZWZpbmVkT25seTpzfSkmJnYrK319Y2F0Y2godCl7VD0hMCxFPXR9ZmluYWxseXt0cnl7anx8bnVsbD09TS5yZXR1cm58fE0ucmV0dXJuKCl9ZmluYWxseXtpZihUKXRocm93IEV9fXZhciBMPTAsST17fTtpZighcylmb3IodmFyIFIgaW4gYSl7dmFyIEQ9YVtSXTtmW1JdfHwoTCsrLElbUl09T2JqZWN0KHIuYSkoe1R5cGU6Ik5PVCBVU0VEOiAiLmNvbmNhdChEKX0sbixOKEQpKSl9cmV0dXJue3RhYmxlOmYsY291bnQ6dix1bnVzZWRUYWJsZTpJLHVudXNlZENvdW50Okx9fWZ1bmN0aW9uIEIodCl7dmFyIGUsbj10LnRhYmxlLGk9dC5oZWFkZXIsYT10LnVuaWZvcm1zLG89dC51bmlmb3JtTmFtZSxzPXQudW5kZWZpbmVkT25seSx1PWFbb10sYz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0odSk7cmV0dXJuKCFzfHwhYykmJihuW29dPShlPXt9LE9iamVjdChyLmEpKGUsaSxjP04odSk6Ik4vQSIpLE9iamVjdChyLmEpKGUsIlVuaWZvcm0gVHlwZSIsYz91OiJOT1QgUFJPVklERUQiKSxlKSwhMCl9ZnVuY3Rpb24gVSh0KXt2YXIgZT10LmFjY2Vzc29yLG49ZS50eXBlLHI9ZS5zaXplLGk9T2JqZWN0KEkuYikobixyKTtyZXR1cm4gaT8iIi5jb25jYXQoaS5uYW1lLCIgIikuY29uY2F0KHQubmFtZSk6dC5uYW1lfXZhciBWPW4oNDQpLEc9e1BPU0lUSU9OOiJwb3NpdGlvbnMiLE5PUk1BTDoibm9ybWFscyIsQ09MT1JfMDoiY29sb3JzIixURVhDT09SRF8wOiJ0ZXhDb29yZHMiLFRFWENPT1JEXzE6InRleENvb3JkczEiLFRFWENPT1JEXzI6InRleENvb3JkczIifTtmdW5jdGlvbiBXKHQsZSl7dmFyIG49KGV8fHt9KS5hdHRyaWJ1dGVNYXAscj12b2lkIDA9PT1uP0c6bjtyZXR1cm4gciYmclt0XXx8dH1mdW5jdGlvbiBIKHQsZSl7dmFyIG47c3dpdGNoKHQpe2Nhc2UidGV4Q29vcmRzIjpjYXNlInRleENvb3JkMSI6Y2FzZSJ0ZXhDb29yZDIiOmNhc2UidGV4Q29vcmQzIjpuPSJ1dnMiO2JyZWFrO2Nhc2UidmVydGljZXMiOmNhc2UicG9zaXRpb25zIjpjYXNlIm5vcm1hbHMiOmNhc2UicGlja2luZ0NvbG9ycyI6bj0idmVjdG9ycyJ9c3dpdGNoKG4pe2Nhc2UidmVjdG9ycyI6ZS5zaXplPWUuc2l6ZXx8MzticmVhaztjYXNlInV2cyI6ZS5zaXplPWUuc2l6ZXx8Mn1PYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUoZS5zaXplKSwiYXR0cmlidXRlICIuY29uY2F0KHQsIiBuZWVkcyBzaXplIikpfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gWn0pKTt2YXIgcT1mdW5jdGlvbigpe30sWD17fSxaPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KGkuYSkodGhpcyx0KTt2YXIgcj1uLmlkLGE9dm9pZCAwPT09cj9PYmplY3QodS5jKSgibW9kZWwiKTpyO09iamVjdChjLmEpKE9iamVjdChvLmYpKGUpKSx0aGlzLmlkPWEsdGhpcy5nbD1lLHRoaXMuaWQ9bi5pZHx8T2JqZWN0KHUuYykoIk1vZGVsIiksdGhpcy5sYXN0TG9nVGltZT0wLHRoaXMuaW5pdGlhbGl6ZShuKX1yZXR1cm4gT2JqZWN0KGEuYSkodCxbe2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wcm9wcz17fSx0aGlzLnByb2dyYW1NYW5hZ2VyPXQucHJvZ3JhbU1hbmFnZXJ8fHMuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIodGhpcy5nbCksdGhpcy5fcHJvZ3JhbU1hbmFnZXJTdGF0ZT0tMSx0aGlzLl9tYW5hZ2VkUHJvZ3JhbT0hMTt2YXIgZT10LnByb2dyYW0sbj12b2lkIDA9PT1lP251bGw6ZSxyPXQudnMsaT10LmZzLGE9dC5tb2R1bGVzLG89dC5kZWZpbmVzLHU9dC5pbmplY3QsbD10LnZhcnlpbmdzLGg9dC5idWZmZXJNb2RlLGY9dC50cmFuc3BpbGVUb0dMU0wxMDA7dGhpcy5wcm9ncmFtUHJvcHM9e3Byb2dyYW06bix2czpyLGZzOmksbW9kdWxlczphLGRlZmluZXM6byxpbmplY3Q6dSx2YXJ5aW5nczpsLGJ1ZmZlck1vZGU6aCx0cmFuc3BpbGVUb0dMU0wxMDA6Zn0sdGhpcy5wcm9ncmFtPW51bGwsdGhpcy52ZXJ0ZXhBcnJheT1udWxsLHRoaXMuX3Byb2dyYW1EaXJ0eT0hMCx0aGlzLnVzZXJEYXRhPXt9LHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy5fYXR0cmlidXRlcz17fSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy51bmlmb3Jtcz17fSx0aGlzLnBpY2thYmxlPSEwLHRoaXMuX2NoZWNrUHJvZ3JhbSgpLHRoaXMuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldE1vZHVsZVVuaWZvcm1zKHQubW9kdWxlU2V0dGluZ3MpKSksdGhpcy5kcmF3TW9kZT12b2lkIDAhPT10LmRyYXdNb2RlP3QuZHJhd01vZGU6NCx0aGlzLnZlcnRleENvdW50PXQudmVydGV4Q291bnR8fDAsdGhpcy5nZW9tZXRyeUJ1ZmZlcnM9e30sdGhpcy5pc0luc3RhbmNlZD10LmlzSW5zdGFuY2VkfHx0Lmluc3RhbmNlZHx8dC5pbnN0YW5jZUNvdW50PjAsdGhpcy5fc2V0TW9kZWxQcm9wcyh0KSx0aGlzLmdlb21ldHJ5PXt9LE9iamVjdChjLmEpKHZvaWQgMCE9PXRoaXMuZHJhd01vZGUmJk51bWJlci5pc0Zpbml0ZSh0aGlzLnZlcnRleENvdW50KSwiTW9kZWwgbmVlZHMgZHJhd01vZGUgYW5kIHZlcnRleENvdW50Iil9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fc2V0TW9kZWxQcm9wcyh0KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fYXR0cmlidXRlcyl0aGlzLl9hdHRyaWJ1dGVzW3RdIT09dGhpcy5hdHRyaWJ1dGVzW3RdJiZ0aGlzLl9hdHRyaWJ1dGVzW3RdLmRlbGV0ZSgpO3RoaXMuX21hbmFnZWRQcm9ncmFtJiZ0aGlzLnByb2dyYW1NYW5hZ2VyLnJlbGVhc2UodGhpcy5wcm9ncmFtKSx0aGlzLnZlcnRleEFycmF5LmRlbGV0ZSgpLHRoaXMuX2RlbGV0ZUdlb21ldHJ5QnVmZmVycygpfX0se2tleToiZ2V0RHJhd01vZGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd01vZGV9fSx7a2V5OiJnZXRWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0ZXhDb3VudH19LHtrZXk6ImdldEluc3RhbmNlQ291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VDb3VudH19LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc319LHtrZXk6ImdldFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvZ3JhbX19LHtrZXk6InNldFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvZ3JhbSxuPXQudnMscj10LmZzLGk9dC5tb2R1bGVzLGE9dC5kZWZpbmVzLG89dC5pbmplY3Qscz10LnZhcnlpbmdzLHU9dC5idWZmZXJNb2RlLGM9dC50cmFuc3BpbGVUb0dMU0wxMDA7dGhpcy5wcm9ncmFtUHJvcHM9e3Byb2dyYW06ZSx2czpuLGZzOnIsbW9kdWxlczppLGRlZmluZXM6YSxpbmplY3Q6byx2YXJ5aW5nczpzLGJ1ZmZlck1vZGU6dSx0cmFuc3BpbGVUb0dMU0wxMDA6Y30sdGhpcy5fcHJvZ3JhbURpcnR5PSEwfX0se2tleToiZ2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXN9fSx7a2V5OiJzZXREcmF3TW9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZHJhd01vZGU9dCx0aGlzfX0se2tleToic2V0VmVydGV4Q291bnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUodCkpLHRoaXMudmVydGV4Q291bnQ9dCx0aGlzfX0se2tleToic2V0SW5zdGFuY2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLmEpKE51bWJlci5pc0Zpbml0ZSh0KSksdGhpcy5pbnN0YW5jZUNvdW50PXQsdGhpc319LHtrZXk6InNldEdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kcmF3TW9kZT10LmRyYXdNb2RlLHRoaXMudmVydGV4Q291bnQ9dC5nZXRWZXJ0ZXhDb3VudCgpLHRoaXMuX2RlbGV0ZUdlb21ldHJ5QnVmZmVycygpLHRoaXMuZ2VvbWV0cnlCdWZmZXJzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj17fSxpPWUuaW5kaWNlcztmb3IodmFyIGEgaW4gZS5hdHRyaWJ1dGVzKXt2YXIgbz1lLmF0dHJpYnV0ZXNbYV0scz1XKGEsbik7aWYoImluZGljZXMiPT09YSlpPW87ZWxzZSBpZihvLmNvbnN0YW50KXJbc109by52YWx1ZTtlbHNle3ZhciB1PW8udmFsdWUsbD1PYmplY3QoVi5hKSh7fSxvKTtkZWxldGUgbC52YWx1ZSxyW3NdPVtuZXcgZC5hKHQsdSksbF0sSChhLGwpfX1pZihpKXt2YXIgaD1pLnZhbHVlfHxpO09iamVjdChjLmEpKGggaW5zdGFuY2VvZiBVaW50MTZBcnJheXx8aCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5LCdhdHRyaWJ1dGUgYXJyYXkgZm9yICJpbmRpY2VzIiBtdXN0IGJlIG9mIGludGVnZXIgdHlwZScpO3ZhciBmPXtzaXplOjEsaXNJbmRleGVkOnZvaWQgMD09PWkuaXNJbmRleGVkfHxpLmlzSW5kZXhlZH07ci5pbmRpY2VzPVtuZXcgZC5hKHQse2RhdGE6aCx0YXJnZXQ6MzQ5NjN9KSxmXX1yZXR1cm4gcn0odGhpcy5nbCx0KSx0aGlzLnZlcnRleEFycmF5LnNldEF0dHJpYnV0ZXModGhpcy5nZW9tZXRyeUJ1ZmZlcnMpLHRoaXN9fSx7a2V5OiJzZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihPYmplY3QodS5hKSh0KSlyZXR1cm4gdGhpczt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtlW25dPXIuZ2V0VmFsdWU/ci5nZXRWYWx1ZSgpOnJ9cmV0dXJuIHRoaXMudmVydGV4QXJyYXkuc2V0QXR0cmlidXRlcyhlKSx0aGlzfX0se2tleToic2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBPYmplY3QuYXNzaWduKHRoaXMudW5pZm9ybXMsdCksdGhpc319LHtrZXk6ImdldE1vZHVsZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jaGVja1Byb2dyYW0oKTt2YXIgZT10aGlzLnByb2dyYW1NYW5hZ2VyLmdldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSk7cmV0dXJuIGU/ZSh0KTp7fX19LHtrZXk6InVwZGF0ZU1vZHVsZVNldHRpbmdzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1vZHVsZVVuaWZvcm1zKHR8fHt9KTtyZXR1cm4gdGhpcy5zZXRVbmlmb3JtcyhlKX19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGwuYSkodGhpcy5wcm9ncmFtLmdsLHQpLHRoaXN9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9jaGVja1Byb2dyYW0oKTt2YXIgZSxuPXQubW9kdWxlU2V0dGluZ3Mscj12b2lkIDA9PT1uP251bGw6bixpPXQuZnJhbWVidWZmZXIsYT10LnVuaWZvcm1zLHM9dm9pZCAwPT09YT97fTphLHU9dC5hdHRyaWJ1dGVzLGM9dm9pZCAwPT09dT97fTp1LGw9dC50cmFuc2Zvcm1GZWVkYmFjayxoPXZvaWQgMD09PWw/dGhpcy50cmFuc2Zvcm1GZWVkYmFjazpsLGY9dC5wYXJhbWV0ZXJzLGQ9dm9pZCAwPT09Zj97fTpmLHY9dC52ZXJ0ZXhBcnJheSxwPXZvaWQgMD09PXY/dGhpcy52ZXJ0ZXhBcnJheTp2O3RoaXMuc2V0QXR0cmlidXRlcyhjKSx0aGlzLnVwZGF0ZU1vZHVsZVNldHRpbmdzKHIpLHRoaXMuc2V0VW5pZm9ybXMocyksby5oLnByaW9yaXR5Pj0yJiYoZT10aGlzLl9sb2dEcmF3Q2FsbFN0YXJ0KDIpKTt2YXIgZz10aGlzLnZlcnRleEFycmF5LmdldERyYXdQYXJhbXMoKSx5PXRoaXMucHJvcHMsbT15LmlzSW5kZXhlZCxiPXZvaWQgMD09PW0/Zy5pc0luZGV4ZWQ6bSxfPXkuaW5kZXhUeXBlLE89dm9pZCAwPT09Xz9nLmluZGV4VHlwZTpfLHg9eS5pbmRleE9mZnNldCx3PXZvaWQgMD09PXg/Zy5pbmRleE9mZnNldDp4LGs9eS52ZXJ0ZXhBcnJheUluc3RhbmNlZCxTPXZvaWQgMD09PWs/Zy5pc0luc3RhbmNlZDprO1MmJiF0aGlzLmlzSW5zdGFuY2VkJiZvLmgud2FybigiRm91bmQgaW5zdGFuY2VkIGF0dHJpYnV0ZXMgb24gbm9uLWluc3RhbmNlZCBtb2RlbCIsdGhpcy5pZCkoKTt2YXIgUD10aGlzLmlzSW5zdGFuY2VkLGo9dGhpcy5pbnN0YW5jZUNvdW50LFQ9dGhpcy5wcm9wcyxFPVQub25CZWZvcmVSZW5kZXIsQT12b2lkIDA9PT1FP3E6RSxNPVQub25BZnRlclJlbmRlcixDPXZvaWQgMD09PU0/cTpNO0EoKSx0aGlzLnByb2dyYW0uc2V0VW5pZm9ybXModGhpcy51bmlmb3Jtcyk7dmFyIEw9dGhpcy5wcm9ncmFtLmRyYXcoT2JqZWN0LmFzc2lnbihYLHQse2xvZ1ByaW9yaXR5OmUsdW5pZm9ybXM6bnVsbCxmcmFtZWJ1ZmZlcjppLHBhcmFtZXRlcnM6ZCxkcmF3TW9kZTp0aGlzLmdldERyYXdNb2RlKCksdmVydGV4Q291bnQ6dGhpcy5nZXRWZXJ0ZXhDb3VudCgpLHZlcnRleEFycmF5OnAsdHJhbnNmb3JtRmVlZGJhY2s6aCxpc0luZGV4ZWQ6YixpbmRleFR5cGU6Tyxpc0luc3RhbmNlZDpQLGluc3RhbmNlQ291bnQ6aixvZmZzZXQ6Yj93OjB9KSk7cmV0dXJuIEMoKSxvLmgucHJpb3JpdHk+PTImJnRoaXMuX2xvZ0RyYXdDYWxsRW5kKGUscCxpKSxMfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZGlzY2FyZCxuPXZvaWQgMD09PWV8fGUsaT10LmZlZWRiYWNrQnVmZmVycyxhPXQudW5iaW5kTW9kZWxzLG89dm9pZCAwPT09YT9bXTphLHM9dC5wYXJhbWV0ZXJzO2kmJnRoaXMuX3NldEZlZWRiYWNrQnVmZmVycyhpKSxuJiYocz1PYmplY3QuYXNzaWduKHt9LHMsT2JqZWN0KHIuYSkoe30sMzU5NzcsbikpKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZlcnRleEFycmF5LnVuYmluZEJ1ZmZlcnMoKX0pKTt0cnl7dGhpcy5kcmF3KE9iamVjdC5hc3NpZ24oe30sdCx7cGFyYW1ldGVyczpzfSkpfWZpbmFsbHl7by5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC52ZXJ0ZXhBcnJheS5iaW5kQnVmZmVycygpfSkpfXJldHVybiB0aGlzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gby5oLndhcm4oIk1vZGVsLnJlbmRlcigpIGlzIGRlcHJlY2F0ZWQuIFVzZSBNb2RlbC5zZXRVbmlmb3JtcygpIGFuZCBNb2RlbC5kcmF3KCkiKSgpLHRoaXMuc2V0VW5pZm9ybXModCkuZHJhdygpfX0se2tleToiX3NldE1vZGVsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KSwidW5pZm9ybXMiaW4gdCYmdGhpcy5zZXRVbmlmb3Jtcyh0LnVuaWZvcm1zKSwicGlja2FibGUiaW4gdCYmKHRoaXMucGlja2FibGU9dC5waWNrYWJsZSksImluc3RhbmNlQ291bnQiaW4gdCYmKHRoaXMuaW5zdGFuY2VDb3VudD10Lmluc3RhbmNlQ291bnQpLCJnZW9tZXRyeSJpbiB0JiZ0aGlzLnNldEdlb21ldHJ5KHQuZ2VvbWV0cnkpLCJhdHRyaWJ1dGVzImluIHQmJnRoaXMuc2V0QXR0cmlidXRlcyh0LmF0dHJpYnV0ZXMpLCJfZmVlZGJhY2tCdWZmZXJzImluIHQmJnRoaXMuX3NldEZlZWRiYWNrQnVmZmVycyh0Ll9mZWVkYmFja0J1ZmZlcnMpfX0se2tleToiX2NoZWNrUHJvZ3JhbSIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3ZhciB0PXRoaXMuX3Byb2dyYW1EaXJ0eXx8dGhpcy5wcm9ncmFtTWFuYWdlci5zdGF0ZUhhc2ghPT10aGlzLl9wcm9ncmFtTWFuYWdlclN0YXRlO2lmKHQpe3ZhciBlPXRoaXMucHJvZ3JhbVByb3BzLnByb2dyYW07aWYoZSl0aGlzLl9tYW5hZ2VkUHJvZ3JhbT0hMTtlbHNle3ZhciBuPXRoaXMucHJvZ3JhbVByb3BzLHI9bi52cyxpPW4uZnMsYT1uLm1vZHVsZXMsbz1uLmluamVjdCxzPW4uZGVmaW5lcyx1PW4udmFyeWluZ3MsbD1uLmJ1ZmZlck1vZGUsZj1uLnRyYW5zcGlsZVRvR0xTTDEwMDtlPXRoaXMucHJvZ3JhbU1hbmFnZXIuZ2V0KHt2czpyLGZzOmksbW9kdWxlczphLGluamVjdDpvLGRlZmluZXM6cyx2YXJ5aW5nczp1LGJ1ZmZlck1vZGU6bCx0cmFuc3BpbGVUb0dMU0wxMDA6Zn0pLHRoaXMucHJvZ3JhbSYmdGhpcy5fbWFuYWdlZFByb2dyYW0mJnRoaXMucHJvZ3JhbU1hbmFnZXIucmVsZWFzZSh0aGlzLnByb2dyYW0pLHRoaXMuX3Byb2dyYW1NYW5hZ2VyU3RhdGU9dGhpcy5wcm9ncmFtTWFuYWdlci5zdGF0ZUhhc2gsdGhpcy5fbWFuYWdlZFByb2dyYW09ITB9T2JqZWN0KGMuYSkoZSBpbnN0YW5jZW9mIGguYSwiTW9kZWwgbmVlZHMgYSBwcm9ncmFtIiksdGhpcy5fcHJvZ3JhbURpcnR5PSExLGUhPT10aGlzLnByb2dyYW0mJih0aGlzLnByb2dyYW09ZSx0aGlzLnZlcnRleEFycmF5P3RoaXMudmVydGV4QXJyYXkuc2V0UHJvcHMoe3Byb2dyYW06dGhpcy5wcm9ncmFtLGF0dHJpYnV0ZXM6dGhpcy52ZXJ0ZXhBcnJheS5hdHRyaWJ1dGVzfSk6dGhpcy52ZXJ0ZXhBcnJheT1uZXcgTSh0aGlzLmdsLHtwcm9ncmFtOnRoaXMucHJvZ3JhbX0pLHRoaXMuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldE1vZHVsZVVuaWZvcm1zKCkpKSl9fX0se2tleToiX2RlbGV0ZUdlb21ldHJ5QnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5nZW9tZXRyeUJ1ZmZlcnMpe3ZhciBlPXRoaXMuZ2VvbWV0cnlCdWZmZXJzW3RdWzBdfHx0aGlzLmdlb21ldHJ5QnVmZmVyc1t0XTtlIGluc3RhbmNlb2YgZC5hJiZlLmRlbGV0ZSgpfX19LHtrZXk6Il9zZXRBbmltYXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5hbmltYXRlZCl7T2JqZWN0KGMuYSkodCwiTW9kZWwuZHJhdygpOiBhbmltYXRlZCB1bmlmb3JtcyBidXQgbm8gYW5pbWF0aW9uUHJvcHMiKTt2YXIgZT10aGlzLl9ldmFsdWF0ZUFuaW1hdGVVbmlmb3Jtcyh0KTtPYmplY3QuYXNzaWduKHRoaXMudW5pZm9ybXMsZSl9fX0se2tleToiX3NldEZlZWRiYWNrQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYoT2JqZWN0KHUuYSkodCkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5wcm9ncmFtLmdsO3JldHVybiB0aGlzLnRyYW5zZm9ybUZlZWRiYWNrPXRoaXMudHJhbnNmb3JtRmVlZGJhY2t8fG5ldyBDLmEoZSx7cHJvZ3JhbTp0aGlzLnByb2dyYW19KSx0aGlzLnRyYW5zZm9ybUZlZWRiYWNrLnNldEJ1ZmZlcnModCksdGhpc319LHtrZXk6Il9sb2dEcmF3Q2FsbFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10PjM/MDoxZTQ7aWYoIShEYXRlLm5vdygpLXRoaXMubGFzdExvZ1RpbWU8ZSkpcmV0dXJuIHRoaXMubGFzdExvZ1RpbWU9RGF0ZS5ub3coKSxvLmguZ3JvdXAoMiwiPj4+IERSQVdJTkcgTU9ERUwgIi5jb25jYXQodGhpcy5pZCkse2NvbGxhcHNlZDpvLmgubGV2ZWw8PTJ9KSgpLHR9fSx7a2V5OiJfbG9nRHJhd0NhbGxFbmQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLGkpe2lmKHZvaWQgMCE9PXQpe3ZhciBhPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC52ZXJ0ZXhBcnJheSxuPXQuaGVhZGVyLHI9dm9pZCAwPT09bj8iQXR0cmlidXRlcyI6bjtpZighZS5jb25maWd1cmF0aW9uKXJldHVybnt9O3ZhciBpPXt9O2UuZWxlbWVudHMmJihpLkVMRU1FTlRfQVJSQVlfQlVGRkVSPUQoZSxlLmVsZW1lbnRzLG51bGwscikpO3ZhciBhPWUudmFsdWVzO2Zvcih2YXIgbyBpbiBhKXt2YXIgcz1lLl9nZXRBdHRyaWJ1dGVJbmZvKG8pO2lmKHMpe3ZhciB1PSIiLmNvbmNhdChvLCI6ICIpLmNvbmNhdChzLm5hbWUpLGM9ZS5hY2Nlc3NvcnNbcy5sb2NhdGlvbl07YyYmKHU9IiIuY29uY2F0KG8sIjogIikuY29uY2F0KEYocy5uYW1lLGMpKSksaVt1XT1EKGUsYVtvXSxjLHIpfX1yZXR1cm4gaX0oe3ZlcnRleEFycmF5OmUsaGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgYXR0cmlidXRlcyIpLGF0dHJpYnV0ZXM6dGhpcy5fYXR0cmlidXRlc30pLHM9eih7aGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgdW5pZm9ybXMiKSxwcm9ncmFtOnRoaXMucHJvZ3JhbSx1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3JhbS51bmlmb3JtcyxuKX0pLHU9cy50YWJsZSxjPXMudW51c2VkVGFibGUsbD1zLnVudXNlZENvdW50LGg9eih7aGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgdW5pZm9ybXMiKSxwcm9ncmFtOnRoaXMucHJvZ3JhbSx1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3JhbS51bmlmb3JtcyxuKSx1bmRlZmluZWRPbmx5OiEwfSksZj1oLnRhYmxlO2guY291bnQ+MCYmby5oLmxvZygiTUlTU0lORyBVTklGT1JNUyIsT2JqZWN0LmtleXMoZikpKCksbD4wJiZvLmgubG9nKCJVTlVTRUQgVU5JRk9STVMiLE9iamVjdC5rZXlzKGMpKSgpO3ZhciBkPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49IkFjY2Vzc29ycyBmb3IgIi5jb25jYXQodC5pZCksaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT10LmF0dHJpYnV0ZUluZm9zW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7aWYoYyl7dmFyIGw9VShjKTtlWyJpbiAiLmNvbmNhdChsKV09T2JqZWN0KHIuYSkoe30sbixKU09OLnN0cmluZ2lmeShjLmFjY2Vzc29yKSl9fX1jYXRjaCh0KXthPSEwLG89dH1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319dmFyIGg9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9dC52YXJ5aW5nSW5mb3NbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaD0odj1wLm5leHQoKSkuZG9uZSk7aD0hMCl7dmFyIGc9di52YWx1ZTtpZihnKXt2YXIgeT1VKGcpO2VbIm91dCAiLmNvbmNhdCh5KV09T2JqZWN0KHIuYSkoe30sbixKU09OLnN0cmluZ2lmeShnLmFjY2Vzc29yKSl9fX1jYXRjaCh0KXtmPSEwLGQ9dH1maW5hbGx5e3RyeXtofHxudWxsPT1wLnJldHVybnx8cC5yZXR1cm4oKX1maW5hbGx5e2lmKGYpdGhyb3cgZH19cmV0dXJuIGV9KHRoaXMudmVydGV4QXJyYXkuY29uZmlndXJhdGlvbik7by5oLnRhYmxlKHQsYSkoKSxvLmgudGFibGUodCx1KSgpLG8uaC50YWJsZSh0KzEsZCkoKSxpJiZpLmxvZyh7bG9nTGV2ZWw6MixtZXNzYWdlOiJSZW5kZXJlZCB0byAiLmNvbmNhdChpLmlkKX0pLG8uaC5ncm91cEVuZCgyLCI+Pj4gRFJBV0lORyBNT0RFTCAiLmNvbmNhdCh0aGlzLmlkKSkoKX19fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwic2hhZGVydG9vbHM6IGFzc2VydGlvbiBmYWlsZWQuIil9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigzMSksaT1uKDExKSxhPW4oNzYpLG89bigyOCk7ZnVuY3Rpb24gcyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLmZyYW1lYnVmZmVyLHI9dm9pZCAwPT09bj9udWxsOm4sYT1lLmNvbG9yLHM9dm9pZCAwPT09YT9udWxsOmEsdT1lLmRlcHRoLGM9dm9pZCAwPT09dT9udWxsOnUsbD1lLnN0ZW5jaWwsaD12b2lkIDA9PT1sP251bGw6bCxmPXt9O3ImJihmLmZyYW1lYnVmZmVyPXIpO3ZhciBkPTA7cyYmKGR8PTE2Mzg0LCEwIT09cyYmKGYuY2xlYXJDb2xvcj1zKSksYyYmKGR8PTI1NiwhMCE9PWMmJihmLmNsZWFyRGVwdGg9YykpLGgmJihkfD0xMDI0LCEwIT09YyYmKGYuY2xlYXJTdGVuY2lsPWMpKSxPYmplY3Qoby5hKSgwIT09ZCwiY2xlYXI6IGJhZCBhcmd1bWVudHMiKSxPYmplY3QoaS5sKSh0LGYsKGZ1bmN0aW9uKCl7dC5jbGVhcihkKX0pKX1mdW5jdGlvbiB1KHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuZnJhbWVidWZmZXIscz12b2lkIDA9PT1uP251bGw6bix1PWUuYnVmZmVyLGM9dm9pZCAwPT09dT82MTQ0OnUsbD1lLmRyYXdCdWZmZXIsaD12b2lkIDA9PT1sPzA6bCxmPWUudmFsdWUsZD12b2lkIDA9PT1mP1swLDAsMCwwXTpmO09iamVjdChhLmEpKHQpLE9iamVjdChpLmwpKHQse2ZyYW1lYnVmZmVyOnN9LChmdW5jdGlvbigpe3N3aXRjaChjKXtjYXNlIDYxNDQ6c3dpdGNoKGQuY29uc3RydWN0b3Ipe2Nhc2UgSW50MzJBcnJheTp0LmNsZWFyQnVmZmVyaXYoYyxoLGQpO2JyZWFrO2Nhc2UgVWludDMyQXJyYXk6dC5jbGVhckJ1ZmZlcnVpdihjLGgsZCk7YnJlYWs7Y2FzZSBGbG9hdDMyQXJyYXk6ZGVmYXVsdDp0LmNsZWFyQnVmZmVyZnYoYyxoLGQpfWJyZWFrO2Nhc2UgNjE0NTp0LmNsZWFyQnVmZmVyZnYoNjE0NSwwLFtkXSk7YnJlYWs7Y2FzZSA2MTQ2OnQuY2xlYXJCdWZmZXJpdig2MTQ2LDAsW2RdKTticmVhaztjYXNlIDM0MDQxOnZhciBlPU9iamVjdChyLmEpKGQsMiksbj1lWzBdLGk9ZVsxXTt0LmNsZWFyQnVmZmVyZmkoMzQwNDEsMCxuLGkpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KG8uYSkoITEsImNsZWFyOiBiYWQgYXJndW1lbnRzIil9fSkpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixpPW4oMCksYT1uKDkxKSxvPW4oMTc2KTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcz0ocj17fSxPYmplY3QoaS5hKShyLGEuYiwiI2lmZGVmIE1PRFVMRV9MT0dERVBUSFxuICBsb2dkZXB0aF9hZGp1c3RQb3NpdGlvbihnbF9Qb3NpdGlvbik7XG4jZW5kaWZcbiIpLE9iamVjdChpLmEpKHIsYS5hLCIjaWZkZWYgTU9EVUxFX01BVEVSSUFMXG4gIGdsX0ZyYWdDb2xvciA9IG1hdGVyaWFsX2ZpbHRlckNvbG9yKGdsX0ZyYWdDb2xvcik7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9MSUdIVElOR1xuICBnbF9GcmFnQ29sb3IgPSBsaWdodGluZ19maWx0ZXJDb2xvcihnbF9GcmFnQ29sb3IpO1xuI2VuZGlmXG5cbiNpZmRlZiBNT0RVTEVfRk9HXG4gIGdsX0ZyYWdDb2xvciA9IGZvZ19maWx0ZXJDb2xvcihnbF9GcmFnQ29sb3IpO1xuI2VuZGlmXG5cbiNpZmRlZiBNT0RVTEVfUElDS0lOR1xuICBnbF9GcmFnQ29sb3IgPSBwaWNraW5nX2ZpbHRlckhpZ2hsaWdodENvbG9yKGdsX0ZyYWdDb2xvcik7XG4gIGdsX0ZyYWdDb2xvciA9IHBpY2tpbmdfZmlsdGVyUGlja2luZ0NvbG9yKGdsX0ZyYWdDb2xvcik7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9MT0dERVBUSFxuICBsb2dkZXB0aF9zZXRGcmFnRGVwdGgoKTtcbiNlbmRpZlxuIiksciksdT0iX19MVU1BX0lOSkVDVF9ERUNMQVJBVElPTlNfXyIsYz0vdm9pZFxzK21haW5ccypcKFteKV0qXClccypce1xuPy8sbD0vfVxuP1tee31dKiQvLGg9W107ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1lPT09YS5iLG89ZnVuY3Rpb24oZSl7dmFyIHI9bltlXTtyLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub3JkZXItZS5vcmRlcn0pKSxoLmxlbmd0aD1yLmxlbmd0aDtmb3IodmFyIGE9MCxvPXIubGVuZ3RoO2E8bzsrK2EpaFthXT1yW2FdLmluamVjdGlvbjt2YXIgcz0iIi5jb25jYXQoaC5qb2luKCJcbiIpLCJcbiIpO3N3aXRjaChlKXtjYXNlInZzOiNkZWNsIjppJiYodD10LnJlcGxhY2UodSxzKSk7YnJlYWs7Y2FzZSJ2czojbWFpbi1zdGFydCI6aSYmKHQ9dC5yZXBsYWNlKGMsKGZ1bmN0aW9uKHQpe3JldHVybiB0K3N9KSkpO2JyZWFrO2Nhc2UidnM6I21haW4tZW5kIjppJiYodD10LnJlcGxhY2UobCwoZnVuY3Rpb24odCl7cmV0dXJuIHMrdH0pKSk7YnJlYWs7Y2FzZSJmczojZGVjbCI6aXx8KHQ9dC5yZXBsYWNlKHUscykpO2JyZWFrO2Nhc2UiZnM6I21haW4tc3RhcnQiOml8fCh0PXQucmVwbGFjZShjLChmdW5jdGlvbih0KXtyZXR1cm4gdCtzfSkpKTticmVhaztjYXNlImZzOiNtYWluLWVuZCI6aXx8KHQ9dC5yZXBsYWNlKGwsKGZ1bmN0aW9uKHQpe3JldHVybiBzK3R9KSkpO2JyZWFrO2RlZmF1bHQ6dD10LnJlcGxhY2UoZSwoZnVuY3Rpb24odCl7cmV0dXJuIHQrc30pKX19O2Zvcih2YXIgZiBpbiBuKW8oZik7cmV0dXJuIHQ9dC5yZXBsYWNlKHUsIiIpLHImJih0PXQucmVwbGFjZSgvXH1ccyokLywoZnVuY3Rpb24odCl7cmV0dXJuIHQrc1tlXX0pKSksdH1mdW5jdGlvbiBkKHQpe3ZhciBlPXt9O3JldHVybiBPYmplY3Qoby5hKShBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4xKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09ZVtuXT8iIi5jb25jYXQoZVtuXSwiXG4iKS5jb25jYXQodFtuXSk6dFtuXX0pKSxlfX0sLCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTMzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kZWZhdWx0PWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYib2JqZWN0Ij09PSgwLGkuZGVmYXVsdCkod2luZG93LnByb2Nlc3MpJiYicmVuZGVyZXIiPT09d2luZG93LnByb2Nlc3MudHlwZSlyZXR1cm4hMDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT09KDAsaS5kZWZhdWx0KShwcm9jZXNzLnZlcnNpb25zKSYmQm9vbGVhbihwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKSlyZXR1cm4hMDt2YXIgZT0ib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcj8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKG5hdmlnYXRvcikpJiYic3RyaW5nIj09dHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQsbj10fHxlO2lmKG4mJm4uaW5kZXhPZigiRWxlY3Ryb24iKT49MClyZXR1cm4hMDtyZXR1cm4hMX07dmFyIGk9cihuKDQxKSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtpZighdHx8IXQuUE9TSVRJT04pcmV0dXJuIG51bGw7dmFyIGU9MS8wLG49MS8wLHI9MS8wLGk9LTEvMCxhPS0xLzAsbz0tMS8wLHM9dC5QT1NJVElPTi52YWx1ZSx1PXMmJnMubGVuZ3RoO2lmKCF1KXJldHVybiBudWxsO2Zvcih2YXIgYz0wO2M8dTtjKz0zKXt2YXIgbD1zW2NdLGg9c1tjKzFdLGY9c1tjKzJdO2U9bDxlP2w6ZSxuPWg8bj9oOm4scj1mPHI/ZjpyLGk9bD5pP2w6aSxhPWg+YT9oOmEsbz1mPm8/ZjpvfXJldHVybltbZSxuLHJdLFtpLGEsb11dfW4uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9bigyMTcpO24uZChlLCJTaW1wbGVNZXNoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSk7dmFyIGk9bigyMTMpO24uZChlLCJTY2VuZWdyYXBoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigxMTgpLGc9big0NSkseT1uKDc1KSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRTdWJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZSYmdGhpcy5pbnRlcm5hbFN0YXRlLnN1YkxheWVyc3x8W119fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToic2V0U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2YoKShsKCkoZS5wcm90b3R5cGUpLCJzZXRTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuc2V0TmVlZHNVcGRhdGUoKX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmluZm8sbj1lLm9iamVjdDtyZXR1cm4gbiYmbi5fX3NvdXJjZSYmbi5fX3NvdXJjZS5wYXJlbnQmJm4uX19zb3VyY2UucGFyZW50LmlkPT09dGhpcy5pZD9PYmplY3QuYXNzaWduKGUse29iamVjdDpuLl9fc291cmNlLm9iamVjdCxpbmRleDpuLl9fc291cmNlLmluZGV4fSk6ZX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNob3VsZFJlbmRlclN1YkxheWVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucHJvcHMuX3N1YkxheWVyUHJvcHM7cmV0dXJuIGUmJmUubGVuZ3RofHxuJiZuW3RdfX0se2tleToiZ2V0U3ViTGF5ZXJDbGFzcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnByb3BzLl9zdWJMYXllclByb3BzO3JldHVybiBuJiZuW3RdJiZuW3RdLnR5cGV8fGV9fSx7a2V5OiJnZXRTdWJMYXllclJvdyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Ll9fc291cmNlPXtwYXJlbnQ6dGhpcyxvYmplY3Q6ZSxpbmRleDpufSx0fX0se2tleToiZ2V0U3ViTGF5ZXJBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe3ZhciBlPXtkYXRhOnRoaXMucHJvcHMuZGF0YSx0YXJnZXQ6W119O3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBuLl9fc291cmNlPyhlLmluZGV4PW4uX19zb3VyY2UuaW5kZXgsdChuLl9fc291cmNlLm9iamVjdCxlKSk6dChuLHIpfX1yZXR1cm4gdH19LHtrZXk6ImdldFN1YkxheWVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5wcm9wcyxuPWUub3BhY2l0eSxyPWUucGlja2FibGUsaT1lLnZpc2libGUsYT1lLnBhcmFtZXRlcnMsbz1lLmdldFBvbHlnb25PZmZzZXQscz1lLmhpZ2hsaWdodGVkT2JqZWN0SW5kZXgsdT1lLmF1dG9IaWdobGlnaHQsYz1lLmhpZ2hsaWdodENvbG9yLGw9ZS5jb29yZGluYXRlU3lzdGVtLGg9ZS5jb29yZGluYXRlT3JpZ2luLGY9ZS53cmFwTG9uZ2l0dWRlLGQ9ZS5wb3NpdGlvbkZvcm1hdCx2PWUubW9kZWxNYXRyaXgscD1lLmV4dGVuc2lvbnMsZz1lLl9zdWJMYXllclByb3BzLHk9e29wYWNpdHk6bixwaWNrYWJsZTpyLHZpc2libGU6aSxwYXJhbWV0ZXJzOmEsZ2V0UG9seWdvbk9mZnNldDpvLGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6cyxhdXRvSGlnaGxpZ2h0OnUsaGlnaGxpZ2h0Q29sb3I6Yyxjb29yZGluYXRlU3lzdGVtOmwsY29vcmRpbmF0ZU9yaWdpbjpoLHdyYXBMb25naXR1ZGU6Zixwb3NpdGlvbkZvcm1hdDpkLG1vZGVsTWF0cml4OnYsZXh0ZW5zaW9uczpwfSxtPWcmJmdbdC5pZF0sYj1tJiZtLnVwZGF0ZVRyaWdnZXJzLF89dC5pZHx8InN1YmxheWVyIjtpZihtKXt2YXIgTz10aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXM7Zm9yKHZhciB4IGluIG0pe3ZhciB3PU9beF07dyYmImFjY2Vzc29yIj09PXcudHlwZSYmKG1beF09dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKG1beF0pKX19T2JqZWN0LmFzc2lnbih5LHQsbSx7aWQ6IiIuY29uY2F0KHRoaXMucHJvcHMuaWQsIi0iKS5jb25jYXQoXyksdXBkYXRlVHJpZ2dlcnM6T2JqZWN0LmFzc2lnbih7YWxsOnRoaXMucHJvcHMudXBkYXRlVHJpZ2dlcnMuYWxsfSx0LnVwZGF0ZVRyaWdnZXJzLGIpfSk7dmFyIGs9ITAsUz0hMSxQPXZvaWQgMDt0cnl7Zm9yKHZhciBqLFQ9cFtTeW1ib2wuaXRlcmF0b3JdKCk7IShrPShqPVQubmV4dCgpKS5kb25lKTtrPSEwKXt2YXIgRT1qLnZhbHVlLEE9RS5nZXRTdWJMYXllclByb3BzLmNhbGwodGhpcyxFKTtBJiZPYmplY3QuYXNzaWduKHksQSx7dXBkYXRlVHJpZ2dlcnM6T2JqZWN0LmFzc2lnbih5LnVwZGF0ZVRyaWdnZXJzLEEudXBkYXRlVHJpZ2dlcnMpfSl9fWNhdGNoKHQpe1M9ITAsUD10fWZpbmFsbHl7dHJ5e2t8fG51bGw9PVQucmV0dXJufHxULnJldHVybigpfWZpbmFsbHl7aWYoUyl0aHJvdyBQfX1yZXR1cm4geX19LHtrZXk6Il9nZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiX3JlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmludGVybmFsU3RhdGUuc3ViTGF5ZXJzLGU9IXR8fHRoaXMubmVlZHNVcGRhdGUoKTtlJiYodD10aGlzLnJlbmRlckxheWVycygpLHQ9T2JqZWN0KHkuYikodCxCb29sZWFuKSx0aGlzLmludGVybmFsU3RhdGUuc3ViTGF5ZXJzPXQpLE9iamVjdChnLmEpKCJjb21wb3NpdGVMYXllci5yZW5kZXJMYXllcnMiLHRoaXMsZSx0KTt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe2EudmFsdWUucGFyZW50PXRoaXN9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19fSx7a2V5OiJpc0NvbXBvc2l0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYoKShsKCkoZS5wcm90b3R5cGUpLCJpc0xvYWRlZCIsdGhpcykmJnRoaXMuZ2V0U3ViTGF5ZXJzKCkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTG9hZGVkfSkpfX1dKSxlfShwLmEpO20ubGF5ZXJOYW1lPSJDb21wb3NpdGVMYXllciJ9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMTcpLGk9bigyODkpLGE9bigzNSksbz1uKDIzKSxzPW4oNDUpO3ZhciB1PXtuYW1lOiJKU09OIixleHRlbnNpb25zOlsianNvbiIsImdlb2pzb24iXSx0ZXN0VGV4dDpmdW5jdGlvbih0KXt2YXIgZT10WzBdLG49dFt0Lmxlbmd0aC0xXTtyZXR1cm4ieyI9PT1lJiYifSI9PT1ufHwiWyI9PT1lJiYiXSI9PT1ufSxwYXJzZVRleHRTeW5jOkpTT04ucGFyc2V9LGM9YS5nbG9iYWwuZGVjayYmYS5nbG9iYWwuZGVjay5WRVJTSU9OO2lmKGMmJiI4LjEuNiIhPT1jKXRocm93IG5ldyBFcnJvcigiZGVjay5nbCAtIG11bHRpcGxlIHZlcnNpb25zIGRldGVjdGVkOiAiLmNvbmNhdChjLCIgdnMgIikuY29uY2F0KCI4LjEuNiIpKTtjfHwoYS5nbG9iYWwuZGVjaz1PYmplY3QuYXNzaWduKGEuZ2xvYmFsLmRlY2t8fHt9LHtWRVJTSU9OOiI4LjEuNiIsdmVyc2lvbjoiOC4xLjYiLGxvZzpvLmEsX3JlZ2lzdGVyTG9nZ2VyczpzLmJ9KSxPYmplY3Qoci5jKShbdSxpLmFdKSk7ZS5hPWEuZ2xvYmFsLmRlY2t9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByLGk9bigwKSxhPW4oODIpLG89bigxMjcpLHM9e1dFQkdMMjoiV0VCR0wyIixWRVJURVhfQVJSQVlfT0JKRUNUOiJWRVJURVhfQVJSQVlfT0JKRUNUIixUSU1FUl9RVUVSWToiVElNRVJfUVVFUlkiLElOU1RBTkNFRF9SRU5ERVJJTkc6IklOU1RBTkNFRF9SRU5ERVJJTkciLE1VTFRJUExFX1JFTkRFUl9UQVJHRVRTOiJNVUxUSVBMRV9SRU5ERVJfVEFSR0VUUyIsRUxFTUVOVF9JTkRFWF9VSU5UMzI6IkVMRU1FTlRfSU5ERVhfVUlOVDMyIixCTEVORF9FUVVBVElPTl9NSU5NQVg6IkJMRU5EX0VRVUFUSU9OX01JTk1BWCIsRkxPQVRfQkxFTkQ6IkZMT0FUX0JMRU5EIixDT0xPUl9FTkNPRElOR19TUkdCOiJDT0xPUl9FTkNPRElOR19TUkdCIixURVhUVVJFX0RFUFRIOiJURVhUVVJFX0RFUFRIIixURVhUVVJFX0ZMT0FUOiJURVhUVVJFX0ZMT0FUIixURVhUVVJFX0hBTEZfRkxPQVQ6IlRFWFRVUkVfSEFMRl9GTE9BVCIsVEVYVFVSRV9GSUxURVJfTElORUFSX0ZMT0FUOiJURVhUVVJFX0ZJTFRFUl9MSU5FQVJfRkxPQVQiLFRFWFRVUkVfRklMVEVSX0xJTkVBUl9IQUxGX0ZMT0FUOiJURVhUVVJFX0ZJTFRFUl9MSU5FQVJfSEFMRl9GTE9BVCIsVEVYVFVSRV9GSUxURVJfQU5JU09UUk9QSUM6IlRFWFRVUkVfRklMVEVSX0FOSVNPVFJPUElDIixDT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkY6IkNPTE9SX0FUVEFDSE1FTlRfUkdCQTMyRiIsQ09MT1JfQVRUQUNITUVOVF9GTE9BVDoiQ09MT1JfQVRUQUNITUVOVF9GTE9BVCIsQ09MT1JfQVRUQUNITUVOVF9IQUxGX0ZMT0FUOiJDT0xPUl9BVFRBQ0hNRU5UX0hBTEZfRkxPQVQiLEdMU0xfRlJBR19EQVRBOiJHTFNMX0ZSQUdfREFUQSIsR0xTTF9GUkFHX0RFUFRIOiJHTFNMX0ZSQUdfREVQVEgiLEdMU0xfREVSSVZBVElWRVM6IkdMU0xfREVSSVZBVElWRVMiLEdMU0xfVEVYVFVSRV9MT0Q6IkdMU0xfVEVYVFVSRV9MT0QifTtlLmI9KHI9e30sT2JqZWN0KGkuYSkocixzLldFQkdMMixbITEsITBdKSxPYmplY3QoaS5hKShyLHMuVkVSVEVYX0FSUkFZX09CSkVDVCxbIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiwhMF0pLE9iamVjdChpLmEpKHIscy5USU1FUl9RVUVSWSxbIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIsIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiXSksT2JqZWN0KGkuYSkocixzLklOU1RBTkNFRF9SRU5ERVJJTkcsWyJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiwhMF0pLE9iamVjdChpLmEpKHIscy5NVUxUSVBMRV9SRU5ERVJfVEFSR0VUUyxbIldFQkdMX2RyYXdfYnVmZmVycyIsITBdKSxPYmplY3QoaS5hKShyLHMuRUxFTUVOVF9JTkRFWF9VSU5UMzIsWyJPRVNfZWxlbWVudF9pbmRleF91aW50IiwhMF0pLE9iamVjdChpLmEpKHIscy5CTEVORF9FUVVBVElPTl9NSU5NQVgsWyJFWFRfYmxlbmRfbWlubWF4IiwhMF0pLE9iamVjdChpLmEpKHIscy5GTE9BVF9CTEVORCxbIkVYVF9mbG9hdF9ibGVuZCJdKSxPYmplY3QoaS5hKShyLHMuQ09MT1JfRU5DT0RJTkdfU1JHQixbIkVYVF9zUkdCIiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0RFUFRILFsiV0VCR0xfZGVwdGhfdGV4dHVyZSIsITBdKSxPYmplY3QoaS5hKShyLHMuVEVYVFVSRV9GTE9BVCxbIk9FU190ZXh0dXJlX2Zsb2F0IiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0hBTEZfRkxPQVQsWyJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0ZJTFRFUl9MSU5FQVJfRkxPQVQsWyJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiXSksT2JqZWN0KGkuYSkocixzLlRFWFRVUkVfRklMVEVSX0xJTkVBUl9IQUxGX0ZMT0FULFsiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiXSksT2JqZWN0KGkuYSkocixzLlRFWFRVUkVfRklMVEVSX0FOSVNPVFJPUElDLFsiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIl0pLE9iamVjdChpLmEpKHIscy5DT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkYsW2Z1bmN0aW9uKHQpe3ZhciBlPW5ldyBvLmEodCx7Zm9ybWF0OjY0MDgsdHlwZTo1MTI2LGRhdGFGb3JtYXQ6NjQwOH0pLG49bmV3IGEuYSh0LHtpZDoidGVzdC1mcmFtZWJ1ZmZlciIsY2hlY2s6ITEsYXR0YWNobWVudHM6T2JqZWN0KGkuYSkoe30sMzYwNjQsZSl9KSxyPW4uZ2V0U3RhdHVzKCk7cmV0dXJuIGUuZGVsZXRlKCksbi5kZWxldGUoKSwzNjA1Mz09PXJ9LCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Il0pLE9iamVjdChpLmEpKHIscy5DT0xPUl9BVFRBQ0hNRU5UX0ZMT0FULFshMSwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCJdKSxPYmplY3QoaS5hKShyLHMuQ09MT1JfQVRUQUNITUVOVF9IQUxGX0ZMT0FULFsiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Il0pLE9iamVjdChpLmEpKHIscy5HTFNMX0ZSQUdfREFUQSxbIldFQkdMX2RyYXdfYnVmZmVycyIsITBdKSxPYmplY3QoaS5hKShyLHMuR0xTTF9GUkFHX0RFUFRILFsiRVhUX2ZyYWdfZGVwdGgiLCEwXSksT2JqZWN0KGkuYSkocixzLkdMU0xfREVSSVZBVElWRVMsWyJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiLCEwXSksT2JqZWN0KGkuYSkocixzLkdMU0xfVEVYVFVSRV9MT0QsWyJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIiwhMF0pLHIpfSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyksYT1uKDE3Niksbz1uKDI1KSxzPXtudW1iZXI6e3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KSYmKCEoIm1heCJpbiBlKXx8dDw9ZS5tYXgpJiYoISgibWluImluIGUpfHx0Pj1lLm1pbil9fSxhcnJheTp7dmFsaWRhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfX19O2Z1bmN0aW9uIHUodCl7dmFyIGU9Yyh0KTtyZXR1cm4ib2JqZWN0Ij09PWU/dD8idHlwZSJpbiB0P09iamVjdC5hc3NpZ24oe30sdCxzW3QudHlwZV0pOiJ2YWx1ZSJpbiB0PyhlPWModC52YWx1ZSksT2JqZWN0LmFzc2lnbih7dHlwZTplfSx0LHNbZV0pKTp7dHlwZToib2JqZWN0Iix2YWx1ZTp0fTp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsfTpPYmplY3QuYXNzaWduKHt0eXBlOmUsdmFsdWU6dH0sc1tlXSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpPyJhcnJheSI6T2JqZWN0KG8uYSkodCl9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5uYW1lLGk9ZS52cyxvPWUuZnMscz1lLmRlcGVuZGVuY2llcyxjPXZvaWQgMD09PXM/W106cyxsPWUudW5pZm9ybXMsaD1lLmdldFVuaWZvcm1zLGY9ZS5kZXByZWNhdGlvbnMsZD12b2lkIDA9PT1mP1tdOmYsdj1lLmRlZmluZXMscD12b2lkIDA9PT12P3t9OnYsZz1lLmluamVjdCx5PXZvaWQgMD09PWc/e306ZyxtPWUudmVydGV4U2hhZGVyLGI9ZS5mcmFnbWVudFNoYWRlcjtPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChhLmEpKCJzdHJpbmciPT10eXBlb2YgbiksdGhpcy5uYW1lPW4sdGhpcy52cz1pfHxtLHRoaXMuZnM9b3x8Yix0aGlzLmdldE1vZHVsZVVuaWZvcm1zPWgsdGhpcy5kZXBlbmRlbmNpZXM9Yyx0aGlzLmRlcHJlY2F0aW9ucz10aGlzLl9wYXJzZURlcHJlY2F0aW9uRGVmaW5pdGlvbnMoZCksdGhpcy5kZWZpbmVzPXAsdGhpcy5pbmplY3Rpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXt2czp7fSxmczp7fX07Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl0saT1uLnNsaWNlKDAsMik7InN0cmluZyI9PXR5cGVvZiByJiYocj17aW5qZWN0aW9uOnJ9KSxlW2ldW25dPXJ9cmV0dXJuIGV9KHkpLGwmJih0aGlzLnVuaWZvcm1zPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KXt2YXIgcj11KHRbbl0pO2Vbbl09cn1yZXR1cm4gZX0obCkpfXJldHVybiBPYmplY3QoaS5hKSh0LFt7a2V5OiJnZXRNb2R1bGVTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3N3aXRjaCh0KXtjYXNlInZzIjplPXRoaXMudnN8fCIiO2JyZWFrO2Nhc2UiZnMiOmU9dGhpcy5mc3x8IiI7YnJlYWs7ZGVmYXVsdDpPYmplY3QoYS5hKSghMSl9cmV0dXJuIiNkZWZpbmUgTU9EVUxFXyIuY29uY2F0KHRoaXMubmFtZS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoL1teMC05YS16XS9naSwiXyIpLCJcbiIpLmNvbmNhdChlLCIvLyBFTkQgTU9EVUxFXyIpLmNvbmNhdCh0aGlzLm5hbWUsIlxuXG4iKX19LHtrZXk6ImdldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldE1vZHVsZVVuaWZvcm1zP3RoaXMuZ2V0TW9kdWxlVW5pZm9ybXModCxlKTp0aGlzLnVuaWZvcm1zP3RoaXMuX2RlZmF1bHRHZXRVbmlmb3Jtcyh0KTp7fX19LHtrZXk6ImdldERlZmluZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmaW5lc319LHtrZXk6ImNoZWNrRGVwcmVjYXRpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZGVwcmVjYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKG4pe24ucmVnZXgudGVzdCh0KSYmKG4uZGVwcmVjYXRlZD9lLmRlcHJlY2F0ZWQobi5vbGQsbi5uZXcpKCk6ZS5yZW1vdmVkKG4ub2xkLG4ubmV3KSgpKX0pKX19LHtrZXk6Il9wYXJzZURlcHJlY2F0aW9uRGVmaW5pdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2UiZnVuY3Rpb24iOnQucmVnZXg9bmV3IFJlZ0V4cCgiXFxiIi5jb25jYXQodC5vbGQsIlxcKCIpKTticmVhaztkZWZhdWx0OnQucmVnZXg9bmV3IFJlZ0V4cCgiIi5jb25jYXQodC50eXBlLCIgIikuY29uY2F0KHQub2xkLCI7IikpfX0pKSx0fX0se2tleToiX2RlZmF1bHRHZXRVbmlmb3JtcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT17fSxuPXRoaXMudW5pZm9ybXM7Zm9yKHZhciByIGluIG4pe3ZhciBpPW5bcl07ciBpbiB0JiYhaS5wcml2YXRlPyhpLnZhbGlkYXRlJiZPYmplY3QoYS5hKShpLnZhbGlkYXRlKHRbcl0saSksIiIuY29uY2F0KHRoaXMubmFtZSwiOiBpbnZhbGlkICIpLmNvbmNhdChyKSksZVtyXT10W3JdKTplW3JdPWkudmFsdWV9cmV0dXJuIGV9fV0pLHR9KCk7ZnVuY3Rpb24gaCh0KXtpZighdC5ub3JtYWxpemVkJiYodC5ub3JtYWxpemVkPSEwLHQudW5pZm9ybXMmJiF0LmdldFVuaWZvcm1zKSl7dmFyIGU9bmV3IGwodCk7dC5nZXRVbmlmb3Jtcz1lLmdldFVuaWZvcm1zLmJpbmQoZSl9cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDgpLGk9big4MiksYT1uKDY2KSxvPW4oMTEpLHM9big3NiksdT1uKDk5KSxjPW4oMjgpO2Z1bmN0aW9uIGwodCl7c3dpdGNoKHQpe2Nhc2UgNjQwNjpjYXNlIDMzMzI2OmNhc2UgNjQwMzpyZXR1cm4gMTtjYXNlIDMzMzI4OmNhc2UgMzMzMTk6cmV0dXJuIDI7Y2FzZSA2NDA3OmNhc2UgMzQ4Mzc6cmV0dXJuIDM7Y2FzZSA2NDA4OmNhc2UgMzQ4MzY6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGMuYSkoITEpLDB9fXZhciBoPW4oMjIxKTtmdW5jdGlvbiBmKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuc291cmNlWCxyPXZvaWQgMD09PW4/MDpuLGk9ZS5zb3VyY2VZLGE9dm9pZCAwPT09aT8wOmksbz1lLnNvdXJjZUZvcm1hdCxzPXZvaWQgMD09PW8/NjQwODpvLGw9ZS5zb3VyY2VBdHRhY2htZW50LGg9dm9pZCAwPT09bD8zNjA2NDpsLGY9ZS50YXJnZXQsZD12b2lkIDA9PT1mP251bGw6Zix2PWUuc291cmNlV2lkdGgscD1lLnNvdXJjZUhlaWdodCxtPWUuc291cmNlVHlwZSxiPWcodCksXz1iLmZyYW1lYnVmZmVyLE89Yi5kZWxldGVGcmFtZWJ1ZmZlcjtPYmplY3QoYy5hKShfKTt2YXIgeD1fLmdsLHc9Xy5oYW5kbGUsaz1fLmF0dGFjaG1lbnRzO3Y9dnx8Xy53aWR0aCxwPXB8fF8uaGVpZ2h0LDM2MDY0PT09aCYmbnVsbD09PXcmJihoPTEwMjgpLE9iamVjdChjLmEpKGtbaF0pLGQ9eShkLG09bXx8a1toXS50eXBlLHMsdixwKSxtPW18fE9iamVjdCh1LmIpKGQpO3ZhciBTPXguYmluZEZyYW1lYnVmZmVyKDM2MTYwLHcpO3JldHVybiB4LnJlYWRQaXhlbHMocixhLHYscCxzLG0sZCkseC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsU3x8bnVsbCksTyYmXy5kZWxldGUoKSxkfWZ1bmN0aW9uIGQodCxlKXt2YXIgbj1lLnNvdXJjZVgsaT12b2lkIDA9PT1uPzA6bixhPWUuc291cmNlWSx1PXZvaWQgMD09PWE/MDphLGg9ZS5zb3VyY2VGb3JtYXQsZj12b2lkIDA9PT1oPzY0MDg6aCxkPWUudGFyZ2V0LHY9dm9pZCAwPT09ZD9udWxsOmQscD1lLnRhcmdldEJ5dGVPZmZzZXQseT12b2lkIDA9PT1wPzA6cCxtPWUuc291cmNlV2lkdGgsYj1lLnNvdXJjZUhlaWdodCxfPWUuc291cmNlVHlwZSxPPWcodCkseD1PLmZyYW1lYnVmZmVyLHc9Ty5kZWxldGVGcmFtZWJ1ZmZlcjtPYmplY3QoYy5hKSh4KTt2YXIgaz14LmdsO2lmKG09bXx8eC53aWR0aCxiPWJ8fHguaGVpZ2h0LE9iamVjdChzLmEpKGspLF89X3x8KHY/di50eXBlOjUxMjEpLCF2KXt2YXIgUz1sKGYpLFA9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgNTEyMTpyZXR1cm4gMTtjYXNlIDMzNjM1OmNhc2UgMzI4MTk6Y2FzZSAzMjgyMDpyZXR1cm4gMjtjYXNlIDUxMjY6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGMuYSkoITEpLDB9fShfKSxqPXkrbSpiKlMqUDt2PW5ldyByLmEoayx7Ynl0ZUxlbmd0aDpqLGFjY2Vzc29yOnt0eXBlOl8sc2l6ZTpTfX0pfXJldHVybiB2LmJpbmQoe3RhcmdldDozNTA1MX0pLE9iamVjdChvLmwpKGsse2ZyYW1lYnVmZmVyOnh9LChmdW5jdGlvbigpe2sucmVhZFBpeGVscyhpLHUsbSxiLGYsXyx5KX0pKSx2LnVuYmluZCh7dGFyZ2V0OjM1MDUxfSksdyYmeC5kZWxldGUoKSx2fWZ1bmN0aW9uIHYodCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuc291cmNlQXR0YWNobWVudCxyPXZvaWQgMD09PW4/MzYwNjQ6bixpPWUudGFyZ2V0TWF4SGVpZ2h0LGE9dm9pZCAwPT09aT9OdW1iZXIuTUFYX1NBRkVfSU5URUdFUjppLG89Zih0LHtzb3VyY2VBdHRhY2htZW50OnJ9KSxzPXQud2lkdGgsYz10LmhlaWdodDtjPmE7KXt2YXIgbD1PYmplY3QodS5kKSh7ZGF0YTpvLHdpZHRoOnMsaGVpZ2h0OmN9KTtvPWwuZGF0YSxzPWwud2lkdGgsYz1sLmhlaWdodH1PYmplY3QodS5hKSh7ZGF0YTpvLHdpZHRoOnMsaGVpZ2h0OmN9KTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtoLndpZHRoPXMsaC5oZWlnaHQ9Yzt2YXIgZD1oLmdldENvbnRleHQoIjJkIiksdj1kLmNyZWF0ZUltYWdlRGF0YShzLGMpO3JldHVybiB2LmRhdGEuc2V0KG8pLGQucHV0SW1hZ2VEYXRhKHYsMCwwKSxoLnRvRGF0YVVSTCgpfWZ1bmN0aW9uIHAodCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1uLnNvdXJjZVgsaT12b2lkIDA9PT1yPzA6cixvPW4uc291cmNlWSxzPXZvaWQgMD09PW8/MDpvLHU9bi50YXJnZXRYLGw9bi50YXJnZXRZLGg9bi50YXJnZXRaLGY9bi50YXJnZXRNaXBtYXBsZXZlbCxkPXZvaWQgMD09PWY/MDpmLHY9bi50YXJnZXRJbnRlcm5hbEZvcm1hdCxwPXZvaWQgMD09PXY/NjQwODp2LHk9bi53aWR0aCxtPW4uaGVpZ2h0LGI9Zyh0KSxfPWIuZnJhbWVidWZmZXIsTz1iLmRlbGV0ZUZyYW1lYnVmZmVyO09iamVjdChjLmEpKF8pO3ZhciB4PV8uZ2wsdz1fLmhhbmRsZSxrPXZvaWQgMCE9PXV8fHZvaWQgMCE9PWx8fHZvaWQgMCE9PWg7dT11fHwwLGw9bHx8MCxoPWh8fDA7dmFyIFM9eC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdyk7T2JqZWN0KGMuYSkoZSk7dmFyIFA9bnVsbDtpZihlIGluc3RhbmNlb2YgYS5hJiYoUD1lLHk9TnVtYmVyLmlzRmluaXRlKHkpP3k6UC53aWR0aCxtPU51bWJlci5pc0Zpbml0ZShtKT9tOlAuaGVpZ2h0LFAuYmluZCgwKSxlPVAudGFyZ2V0KSxrKXN3aXRjaChlKXtjYXNlIDM1NTM6Y2FzZSAzNDA2Nzp4LmNvcHlUZXhTdWJJbWFnZTJEKGUsZCx1LGwsaSxzLHksbSk7YnJlYWs7Y2FzZSAzNTg2NjpjYXNlIDMyODc5OnguY29weVRleFN1YkltYWdlM0QoZSxkLHUsbCxoLGkscyx5LG0pfWVsc2UgeC5jb3B5VGV4SW1hZ2UyRChlLGQscCxpLHMseSxtLDApO3JldHVybiBQJiZQLnVuYmluZCgpLHguYmluZEZyYW1lYnVmZmVyKDM2MTYwLFN8fG51bGwpLE8mJl8uZGVsZXRlKCksUH1mdW5jdGlvbiBnKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaS5hP3tmcmFtZWJ1ZmZlcjp0LGRlbGV0ZUZyYW1lYnVmZmVyOiExfTp7ZnJhbWVidWZmZXI6T2JqZWN0KGguYikodCksZGVsZXRlRnJhbWVidWZmZXI6ITB9fWZ1bmN0aW9uIHkodCxlLG4scixpKXtyZXR1cm4gdHx8KGU9ZXx8NTEyMSxuZXcoT2JqZWN0KHUuYykoZSx7Y2xhbXBlZDohMX0pKShyKmkqbChuKSkpfW4uZChlLCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMSk7ZnVuY3Rpb24gaSh0LGUsbil7dmFyIGk9bi5yZW1vdmVkUHJvcHMsYT12b2lkIDA9PT1pP3t9Omksbz1uLmRlcHJlY2F0ZWRQcm9wcyxzPXZvaWQgMD09PW8/e306byx1PW4ucmVwbGFjZWRQcm9wcyxjPXZvaWQgMD09PXU/e306dTtmb3IodmFyIGwgaW4gYSlpZihsIGluIGUpe3ZhciBoPWFbbF0/IiIuY29uY2F0KHQsIi4iKS5jb25jYXQoYVtsXSk6Ik4vQSI7ci5oLnJlbW92ZWQoIiIuY29uY2F0KHQsIi4iKS5jb25jYXQobCksaCkoKX1mb3IodmFyIGYgaW4gcylpZihmIGluIGUpe3ZhciBkPXNbZl07ci5oLmRlcHJlY2F0ZWQoIiIuY29uY2F0KHQsIi4iKS5jb25jYXQoZiksIiIuY29uY2F0KHQsIi4iKS5jb25jYXQoZCkpKCl9dmFyIHY9bnVsbDtmb3IodmFyIHAgaW4gYylpZihwIGluIGUpe3ZhciBnPWNbcF07ci5oLmRlcHJlY2F0ZWQoIiIuY29uY2F0KHQsIi4iKS5jb25jYXQocCksIiIuY29uY2F0KHQsIi4iKS5jb25jYXQoZykpKCksKHY9dnx8T2JqZWN0LmFzc2lnbih7fSxlKSlbZ109ZVtwXSxkZWxldGUgdltwXX1yZXR1cm4gdnx8ZX19LCwsLGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmNvbnNvbGU9ZS5wcm9jZXNzPWUuZG9jdW1lbnQ9ZS5nbG9iYWw9ZS53aW5kb3c9ZS5zZWxmPXZvaWQgMDt2YXIgaT1yKG4oNDEpKSxhPXtzZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZix3aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdyxnbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCxkb2N1bWVudDoidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCxwcm9jZXNzOiJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHByb2Nlc3MpKSYmcHJvY2Vzc30sbz1hLnNlbGZ8fGEud2luZG93fHxhLmdsb2JhbDtlLnNlbGY9bzt2YXIgcz1hLndpbmRvd3x8YS5zZWxmfHxhLmdsb2JhbDtlLndpbmRvdz1zO3ZhciB1PWEuZ2xvYmFsfHxhLnNlbGZ8fGEud2luZG93O2UuZ2xvYmFsPXU7dmFyIGM9YS5kb2N1bWVudHx8e307ZS5kb2N1bWVudD1jO3ZhciBsPWEucHJvY2Vzc3x8e307ZS5wcm9jZXNzPWw7dmFyIGg9Y29uc29sZTtlLmNvbnNvbGU9aH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1vLGUuaXNCcm93c2VyTWFpblRocmVhZD1mdW5jdGlvbigpe3JldHVybiBvKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnR9O3ZhciBpPXIobig0MSkpLGE9cihuKDE4MSkpO2Z1bmN0aW9uIG8oKXtyZXR1cm4hKCJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHByb2Nlc3MpKSYmIltvYmplY3QgcHJvY2Vzc10iPT09U3RyaW5nKHByb2Nlc3MpJiYhcHJvY2Vzcy5icm93c2VyKXx8KDAsYS5kZWZhdWx0KSgpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSk7dmFyIHI9bigzMSksaT1uKDYpLGE9bigxNyksbz1uKDE1KSxzPW4oNyksdT1uKDE4KSxjPW4oMjcpLGw9bigxNjgpLGg9big4OSksZj1uKDM5KSxkPW4oNjcpLHY9bigzNikscD1uKDQ5KSxnPU9iamVjdC5mcmVlemUoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSx5PU9iamVjdC5mcmVlemUoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdKSxtPU9iamVjdC5mcmVlemUoe0NPTDBST1cwOjAsQ09MMFJPVzE6MSxDT0wwUk9XMjoyLENPTDBST1czOjMsQ09MMVJPVzA6NCxDT0wxUk9XMTo1LENPTDFST1cyOjYsQ09MMVJPVzM6NyxDT0wyUk9XMDo4LENPTDJST1cxOjksQ09MMlJPVzI6MTAsQ09MMlJPVzM6MTEsQ09MM1JPVzA6MTIsQ09MM1JPVzE6MTMsQ09MM1JPVzI6MTQsQ09MM1JPVzM6MTV9KSxiPXt9LF89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyxlKSxuPU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkoZSkuY2FsbCh0aGlzLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wKSksMT09PWFyZ3VtZW50cy5sZW5ndGgmJkFycmF5LmlzQXJyYXkodCk/bi5jb3B5KHQpOm4uaWRlbnRpdHkoKSxufXJldHVybiBPYmplY3QodS5hKShlLHQpLE9iamVjdChzLmEpKGUsW3trZXk6IklORElDRVMiLGdldDpmdW5jdGlvbigpe3JldHVybiBtfX0se2tleToiRUxFTUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiAxNn19LHtrZXk6IlJBTksiLGdldDpmdW5jdGlvbigpe3JldHVybiA0fX1dLFt7a2V5OiJJREVOVElUWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuSURFTlRJVFk9Yi5JREVOVElUWXx8T2JqZWN0LmZyZWV6ZShuZXcgZShnKSksYi5JREVOVElUWX19LHtrZXk6IlpFUk8iLGdldDpmdW5jdGlvbigpe3JldHVybiBiLlpFUk89Yi5aRVJPfHxPYmplY3QuZnJlZXplKG5ldyBlKHkpKSxiLlpFUk99fV0pLE9iamVjdChzLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpc1s0XT10WzRdLHRoaXNbNV09dFs1XSx0aGlzWzZdPXRbNl0sdGhpc1s3XT10WzddLHRoaXNbOF09dFs4XSx0aGlzWzldPXRbOV0sdGhpc1sxMF09dFsxMF0sdGhpc1sxMV09dFsxMV0sdGhpc1sxMl09dFsxMl0sdGhpc1sxM109dFsxM10sdGhpc1sxNF09dFsxNF0sdGhpc1sxNV09dFsxNV0sdGhpcy5jaGVjaygpfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXNbNF09aSx0aGlzWzVdPWEsdGhpc1s2XT1vLHRoaXNbN109cyx0aGlzWzhdPXUsdGhpc1s5XT1jLHRoaXNbMTBdPWwsdGhpc1sxMV09aCx0aGlzWzEyXT1mLHRoaXNbMTNdPWQsdGhpc1sxNF09dix0aGlzWzE1XT1wLHRoaXMuY2hlY2soKX19LHtrZXk6InNldFJvd01ham9yIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdixwKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09aSx0aGlzWzJdPXUsdGhpc1szXT1mLHRoaXNbNF09ZSx0aGlzWzVdPWEsdGhpc1s2XT1jLHRoaXNbN109ZCx0aGlzWzhdPW4sdGhpc1s5XT1vLHRoaXNbMTBdPWwsdGhpc1sxMV09dix0aGlzWzEyXT1yLHRoaXNbMTNdPXMsdGhpc1sxNF09aCx0aGlzWzE1XT1wLHRoaXMuY2hlY2soKX19LHtrZXk6InRvUm93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPXRoaXNbMF0sdFsxXT10aGlzWzRdLHRbMl09dGhpc1s4XSx0WzNdPXRoaXNbMTJdLHRbNF09dGhpc1sxXSx0WzVdPXRoaXNbNV0sdFs2XT10aGlzWzldLHRbN109dGhpc1sxM10sdFs4XT10aGlzWzJdLHRbOV09dGhpc1s2XSx0WzEwXT10aGlzWzEwXSx0WzExXT10aGlzWzE0XSx0WzEyXT10aGlzWzNdLHRbMTNdPXRoaXNbN10sdFsxNF09dGhpc1sxMV0sdFsxNV09dGhpc1sxNV0sdH19LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHkoZyl9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuYih0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImZydXN0dW0iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQubGVmdCxyPXQucmlnaHQsaT10LmJvdHRvbSxhPXQudG9wLG89dC5uZWFyLHM9dC5mYXI7cmV0dXJuIHM9PT0xLzA/ZS5fY29tcHV0ZUluZmluaXRlUGVyc3BlY3RpdmVPZmZDZW50ZXIodGhpcyxuLHIsaSxhLG8pOmYuYyh0aGlzLG4scixpLGEsbyxzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJsb29rQXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9dDt0PXIuZXllLGU9ci5jZW50ZXIsbj1yLnVwfXJldHVybiBlPWV8fFswLDAsMF0sbj1ufHxbMCwxLDBdLGYuZSh0aGlzLHQsZSxuKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJvcnRobyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LG49dC5yaWdodCxyPXQuYm90dG9tLGk9dC50b3AsYT10Lm5lYXIsbz12b2lkIDA9PT1hPy4xOmEscz10LmZhcix1PXZvaWQgMD09PXM/NTAwOnM7cmV0dXJuIGYuZyh0aGlzLGUsbixyLGksbyx1KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJvcnRob2dyYXBoaWMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQuZm92eSxyPXZvaWQgMD09PW4/NDUqTWF0aC5QSS8xODA6bixpPXQuYXNwZWN0LGE9dm9pZCAwPT09aT8xOmksbz10LmZvY2FsRGlzdGFuY2Uscz12b2lkIDA9PT1vPzE6byx1PXQubmVhcixjPXZvaWQgMD09PXU/LjE6dSxsPXQuZmFyLGg9dm9pZCAwPT09bD81MDA6bDtpZihyPjIqTWF0aC5QSSl0aHJvdyBFcnJvcigicmFkaWFucyIpO3ZhciBmPXIvMixkPXMqTWF0aC50YW4oZiksdj1kKmE7cmV0dXJuKG5ldyBlKS5vcnRobyh7bGVmdDotdixyaWdodDp2LGJvdHRvbTotZCx0b3A6ZCxuZWFyOmMsZmFyOmh9KX19LHtrZXk6InBlcnNwZWN0aXZlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuZm92eSxuPXQuZm92LHI9dm9pZCAwPT09bj80NSpNYXRoLlBJLzE4MDpuLGk9dC5hc3BlY3QsYT12b2lkIDA9PT1pPzE6aSxvPXQubmVhcixzPXZvaWQgMD09PW8/LjE6byx1PXQuZmFyLGM9dm9pZCAwPT09dT81MDA6dTtpZigoZT1lfHxyKT4yKk1hdGguUEkpdGhyb3cgRXJyb3IoInJhZGlhbnMiKTtyZXR1cm4gZi5oKHRoaXMsZSxhLHMsYyksdGhpcy5jaGVjaygpfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuYSh0aGlzKX19LHtrZXk6ImdldFNjYWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTBdO3JldHVybiB0WzBdPU1hdGguc3FydCh0aGlzWzBdKnRoaXNbMF0rdGhpc1sxXSp0aGlzWzFdK3RoaXNbMl0qdGhpc1syXSksdFsxXT1NYXRoLnNxcnQodGhpc1s0XSp0aGlzWzRdK3RoaXNbNV0qdGhpc1s1XSt0aGlzWzZdKnRoaXNbNl0pLHRbMl09TWF0aC5zcXJ0KHRoaXNbOF0qdGhpc1s4XSt0aGlzWzldKnRoaXNbOV0rdGhpc1sxMF0qdGhpc1sxMF0pLHR9fSx7a2V5OiJnZXRUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06Wy0wLC0wLC0wXTtyZXR1cm4gdFswXT10aGlzWzEyXSx0WzFdPXRoaXNbMTNdLHRbMl09dGhpc1sxNF0sdH19LHtrZXk6ImdldFJvdGF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTBdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLmdldFNjYWxlKGV8fFstMCwtMCwtMF0pLHI9MS9uWzBdLGk9MS9uWzFdLGE9MS9uWzJdO3JldHVybiB0WzBdPXRoaXNbMF0qcix0WzFdPXRoaXNbMV0qaSx0WzJdPXRoaXNbMl0qYSx0WzNdPTAsdFs0XT10aGlzWzRdKnIsdFs1XT10aGlzWzVdKmksdFs2XT10aGlzWzZdKmEsdFs3XT0wLHRbOF09dGhpc1s4XSpyLHRbOV09dGhpc1s5XSppLHRbMTBdPXRoaXNbMTBdKmEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9fSx7a2V5OiJnZXRSb3RhdGlvbk1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlstMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMF0sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxuPXRoaXMuZ2V0U2NhbGUoZXx8Wy0wLC0wLC0wXSkscj0xL25bMF0saT0xL25bMV0sYT0xL25bMl07cmV0dXJuIHRbMF09dGhpc1swXSpyLHRbMV09dGhpc1sxXSppLHRbMl09dGhpc1syXSphLHRbM109dGhpc1s0XSpyLHRbNF09dGhpc1s1XSppLHRbNV09dGhpc1s2XSphLHRbNl09dGhpc1s4XSpyLHRbN109dGhpc1s5XSppLHRbOF09dGhpc1sxMF0qYSx0fX0se2tleToidHJhbnNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmLm8odGhpcyx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJpbnZlcnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZCh0aGlzLHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5TGVmdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZih0aGlzLHQsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlSaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuZih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuaih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYuayh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYubCh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWFlaIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1PYmplY3Qoci5hKSh0LDMpLG49ZVswXSxpPWVbMV0sYT1lWzJdO3JldHVybiB0aGlzLnJvdGF0ZVgobikucm90YXRlWShpKS5yb3RhdGVaKGEpfX0se2tleToicm90YXRlQXhpcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZi5pKHRoaXMsdGhpcyx0LGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9mLm0odGhpcyx0aGlzLHQpOmYubSh0aGlzLHRoaXMsW3QsdCx0XSksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZi5uKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDQ9PT10Lmxlbmd0aD8oZT1wLm4oZXx8Wy0wLC0wLC0wLC0wXSx0LHRoaXMpLE9iamVjdChjLmIpKGUsNCksZSk6dGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAyOmU9ZC5mKGV8fFstMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDM6ZT12Lm4oZXx8Wy0wLC0wLC0wXSx0LHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXJldHVybiBPYmplY3QoYy5iKShlLHQubGVuZ3RoKSxlfX0se2tleToidHJhbnNmb3JtQXNWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDI6ZT1PYmplY3QoaC5hKShlfHxbLTAsLTBdLHQsdGhpcyk7YnJlYWs7Y2FzZSAzOmU9T2JqZWN0KGguYykoZXx8Wy0wLC0wLC0wXSx0LHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXJldHVybiBPYmplY3QoYy5iKShlLHQubGVuZ3RoKSxlfX0se2tleToibWFrZVJvdGF0aW9uWCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaWRlbnRpdHkoKS5yb3RhdGVYKHQpfX0se2tleToibWFrZVRyYW5zbGF0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuaWRlbnRpdHkoKS50cmFuc2xhdGUoW3QsZSxuXSl9fSx7a2V5OiJ0cmFuc2Zvcm1Qb2ludCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDQudHJhbnNmb3JtUG9pbnQiLCIzLjAiKSx0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCxlKX19LHtrZXk6InRyYW5zZm9ybVZlY3RvciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDQudHJhbnNmb3JtVmVjdG9yIiwiMy4wIiksdGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1EaXJlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXg0LnRyYW5zZm9ybURpcmVjdGlvbiIsIjMuMCIpLHRoaXMudHJhbnNmb3JtQXNWZWN0b3IodCxlKX19XSxbe2tleToiX2NvbXB1dGVJbmZpbml0ZVBlcnNwZWN0aXZlT2ZmQ2VudGVyIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksYSl7dmFyIG89MiphLyhuLWUpLHM9MiphLyhpLXIpLHU9KG4rZSkvKG4tZSksYz0oaStyKS8oaS1yKSxsPS0yKmE7cmV0dXJuIHRbMF09byx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT1zLHRbNl09MCx0WzddPTAsdFs4XT11LHRbOV09Yyx0WzEwXT0tMSx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNF09bCx0WzE1XT0wLHR9fV0pLGV9KGwuYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oMzgpLHM9big5MyksdT1uKDU5KSxjPW4oMTYxKTtmdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgYTtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKEFycmF5LmlzQXJyYXkobil8fE9iamVjdCh1LmEpKG4pfHwocj1uLG49bnVsbCksYT1lLCJzdHJpbmciIT10eXBlb2YgZSl7dC5uZXh0PTg7YnJlYWt9cmV0dXJuIHQubmV4dD01LE9iamVjdChzLmEpKGUscik7Y2FzZSA1OmE9dC5zZW50LHQubmV4dD05O2JyZWFrO2Nhc2UgODplPW51bGw7Y2FzZSA5OmlmKCFPYmplY3Qoby5kKShlKSl7dC5uZXh0PTE0O2JyZWFrfXJldHVybiB0Lm5leHQ9MTIsT2JqZWN0KHMuYSkoZSxyKTtjYXNlIDEyOmE9dC5zZW50LGU9bnVsbDtjYXNlIDE0OnJldHVybiB0Lm5leHQ9MTYsT2JqZWN0KGMuYSkoYSxuLHIsZSk7Y2FzZSAxNjpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDk2KTtmdW5jdGlvbiBpKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiMi4xLjEiO09iamVjdChyLmEpKHQsIm5vIGxvYWRlciBwcm92aWRlZCIpO3ZhciBuPXQudmVyc2lvbjtlJiZuJiYoZT1hKGUpLG49YShuKSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT10LnNwbGl0KCIuIikubWFwKE51bWJlcik7cmV0dXJue21ham9yOmVbMF0sbWlub3I6ZVsxXX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDI1KTtmdW5jdGlvbiBpKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxvPW58fG5ldyBTZXQ7aWYodCl7aWYoYSh0KSlvLmFkZCh0KTtlbHNlIGlmKGEodC5idWZmZXIpKW8uYWRkKHQuYnVmZmVyKTtlbHNlIGlmKGUmJiJvYmplY3QiPT09T2JqZWN0KHIuYSkodCkpZm9yKHZhciBzIGluIHQpaSh0W3NdLGUsbyl9ZWxzZTtyZXR1cm4gdm9pZCAwPT09bj9BcnJheS5mcm9tKG8pOm51bGx9ZnVuY3Rpb24gYSh0KXtyZXR1cm4hIXQmJih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCgidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VQb3J0JiZ0IGluc3RhbmNlb2YgTWVzc2FnZVBvcnR8fCgidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXB8fCJ1bmRlZmluZWQiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZ0IGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSkpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDExMSk7ZS5hPXtuYW1lOiJwcm9qZWN0MzIiLGRlcGVuZGVuY2llczpbci5hXSx2czoiXG52ZWM0IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKFxuICB2ZWMzIHBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uNjRMb3csIHZlYzMgb2Zmc2V0LCBvdXQgdmVjNCBjb21tb25Qb3NpdGlvblxuKSB7XG4gIHZlYzMgcHJvamVjdGVkUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKHBvc2l0aW9uLCBwb3NpdGlvbjY0TG93KTtcbiAgY29tbW9uUG9zaXRpb24gPSB2ZWM0KHByb2plY3RlZFBvc2l0aW9uICsgb2Zmc2V0LCAxLjApO1xuICByZXR1cm4gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKGNvbW1vblBvc2l0aW9uKTtcbn1cblxudmVjNCBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgdmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0TG93LCB2ZWMzIG9mZnNldFxuKSB7XG4gIHZlYzQgY29tbW9uUG9zaXRpb247XG4gIHJldHVybiBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShwb3NpdGlvbiwgcG9zaXRpb242NExvdywgb2Zmc2V0LCBjb21tb25Qb3NpdGlvbik7XG59XG4ifX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDg0KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpKCkodGhpcyx0KSx0aGlzLm9wdHM9ZX1yZXR1cm4gbygpKHQsW3trZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0aGlzLmNvbnN0cnVjdG9yPT09dC5jb25zdHJ1Y3RvciYmT2JqZWN0KHMuYSkodGhpcy5vcHRzLHQub3B0cyl9fSx7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFN1YkxheWVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29uc3RydWN0b3IuZGVmYXVsdFByb3BzLG49dm9pZCAwPT09ZT97fTplLHI9e3VwZGF0ZVRyaWdnZXJzOnt9fTtmb3IodmFyIGkgaW4gbilpZihpIGluIHRoaXMucHJvcHMpe3ZhciBhPW5baV0sbz10aGlzLnByb3BzW2ldO3JbaV09byxhJiYiYWNjZXNzb3IiPT09YS50eXBlJiYoci51cGRhdGVUcmlnZ2Vyc1tpXT10aGlzLnByb3BzLnVwZGF0ZVRyaWdnZXJzW2ldLCJmdW5jdGlvbiI9PXR5cGVvZiBvJiYocltpXT10aGlzLmdldFN1YkxheWVyQWNjZXNzb3IobywhMCkpKX1yZXR1cm4gcn19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe319XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDY0KSx1PW4oOTUpLGM9bigyOSksbD1uKDQ4KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpKCkodGhpcyx0KTt2YXIgbj1lLmF0dHJpYnV0ZXMscj12b2lkIDA9PT1uP3t9Om47dGhpcy50eXBlZEFycmF5TWFuYWdlcj11LmEsdGhpcy5pbmRleFN0YXJ0cz1udWxsLHRoaXMudmVydGV4U3RhcnRzPW51bGwsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuaW5zdGFuY2VDb3VudD0wLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLl9hdHRyaWJ1dGVEZWZzPXIsdGhpcy5vcHRzPWUsdGhpcy51cGRhdGVHZW9tZXRyeShlKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gbygpKHQsW3trZXk6InVwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbih0KXtPYmplY3QuYXNzaWduKHRoaXMub3B0cyx0KTt2YXIgZT10aGlzLm9wdHMsbj1lLmRhdGEscj1lLmJ1ZmZlcnMsaT12b2lkIDA9PT1yP3t9OnIsYT1lLmdldEdlb21ldHJ5LG89ZS5nZW9tZXRyeUJ1ZmZlcixzPWUucG9zaXRpb25Gb3JtYXQsdT1lLmRhdGFDaGFuZ2VkLGw9ZS5ub3JtYWxpemUsaD12b2lkIDA9PT1sfHxsO2lmKHRoaXMuZGF0YT1uLHRoaXMuZ2V0R2VvbWV0cnk9YSx0aGlzLnBvc2l0aW9uU2l6ZT1vJiZvLnNpemV8fCgiWFkiPT09cz8yOjMpLHRoaXMuYnVmZmVycz1pLHRoaXMubm9ybWFsaXplPWgsbyYmKE9iamVjdChjLmEpKG4uc3RhcnRJbmRpY2VzLCJiaW5hcnkgZGF0YSBtaXNzaW5nIHN0YXJ0SW5kaWNlcyIpLHRoaXMuZ2V0R2VvbWV0cnk9dGhpcy5nZXRHZW9tZXRyeUZyb21CdWZmZXIobyksaHx8KGkucG9zaXRpb25zPW8pKSx0aGlzLmdlb21ldHJ5QnVmZmVyPWkucG9zaXRpb25zLEFycmF5LmlzQXJyYXkodSkpe3ZhciBmPSEwLGQ9ITEsdj12b2lkIDA7dHJ5e2Zvcih2YXIgcCxnPXVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZj0ocD1nLm5leHQoKSkuZG9uZSk7Zj0hMCl7dmFyIHk9cC52YWx1ZTt0aGlzLl9yZWJ1aWxkR2VvbWV0cnkoeSl9fWNhdGNoKHQpe2Q9ITAsdj10fWZpbmFsbHl7dHJ5e2Z8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyB2fX19ZWxzZSB0aGlzLl9yZWJ1aWxkR2VvbWV0cnkoKX19LHtrZXk6InVwZGF0ZVBhcnRpYWxHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGFydFJvdyxuPXQuZW5kUm93O3RoaXMuX3JlYnVpbGRHZW9tZXRyeSh7c3RhcnRSb3c6ZSxlbmRSb3c6bn0pfX0se2tleToidXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19LHtrZXk6ImdldEdlb21ldHJ5U2l6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19LHtrZXk6ImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZXx8dDtyZXR1cm4gT2JqZWN0KGMuYSkoQXJyYXlCdWZmZXIuaXNWaWV3KGUpLCJjYW5ub3QgcmVhZCBnZW9tZXRyaWVzIiksT2JqZWN0KHMuYikoZSx7c2l6ZTp0aGlzLnBvc2l0aW9uU2l6ZSxvZmZzZXQ6dC5vZmZzZXQsc3RyaWRlOnQuc3RyaWRlLHN0YXJ0SW5kaWNlczp0aGlzLmRhdGEuc3RhcnRJbmRpY2VzfSl9fSx7a2V5OiJfYWxsb2NhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLHI9dGhpcy5idWZmZXJzLGk9dGhpcy5fYXR0cmlidXRlRGVmcyxhPXRoaXMudHlwZWRBcnJheU1hbmFnZXI7Zm9yKHZhciBvIGluIGkpaWYobyBpbiByKWEucmVsZWFzZShuW29dKSxuW29dPW51bGw7ZWxzZXt2YXIgcz1pW29dO3MuY29weT1lLG5bb109YS5hbGxvY2F0ZShuW29dLHQscyl9fX0se2tleToiX2ZvckVhY2hHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZGF0YSxpPXRoaXMuZ2V0R2VvbWV0cnksYT1PYmplY3Qocy5hKShyLGUsbiksbz1hLml0ZXJhYmxlLHU9YS5vYmplY3RJbmZvLGM9ITAsbD0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciBmLGQ9b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPWQubmV4dCgpKS5kb25lKTtjPSEwKXt2YXIgdj1mLnZhbHVlO3UuaW5kZXgrKyx0KGkodix1KSx1LmluZGV4KX19Y2F0Y2godCl7bD0hMCxoPXR9ZmluYWxseXt0cnl7Y3x8bnVsbD09ZC5yZXR1cm58fGQucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IGh9fX19LHtrZXk6Il9yZWJ1aWxkR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5kYXRhJiZ0aGlzLmdldEdlb21ldHJ5KXt2YXIgbj10aGlzLmluZGV4U3RhcnRzLHI9dGhpcy52ZXJ0ZXhTdGFydHMsaT10aGlzLmluc3RhbmNlQ291bnQsYT10aGlzLmRhdGEsbz10aGlzLmdlb21ldHJ5QnVmZmVyLHM9dHx8e30sdT1zLnN0YXJ0Um93LGM9dm9pZCAwPT09dT8wOnUsaD1zLmVuZFJvdyxmPXZvaWQgMD09PWg/MS8wOmg7aWYodHx8KG49WzBdLHI9WzBdKSx0aGlzLm5vcm1hbGl6ZXx8IW8pdGhpcy5fZm9yRWFjaEdlb21ldHJ5KChmdW5jdGlvbih0LG4pe3JbbisxXT1yW25dK2UuZ2V0R2VvbWV0cnlTaXplKHQpfSksYyxmKSxpPXJbci5sZW5ndGgtMV07ZWxzZSBpZihvLmJ1ZmZlciBpbnN0YW5jZW9mIGwuYSl7dmFyIGQ9by5zdHJpZGV8fDQqdGhpcy5wb3NpdGlvblNpemU7cj1hLnN0YXJ0SW5kaWNlcyxpPXJbYS5sZW5ndGhdfHxvLmJ1ZmZlci5ieXRlTGVuZ3RoL2R9ZWxzZXt2YXIgdj1vLnZhbHVlfHxvLHA9by5zdHJpZGUvdi5CWVRFU19QRVJfRUxFTUVOVHx8dGhpcy5wb3NpdGlvblNpemU7cj1hLnN0YXJ0SW5kaWNlcyxpPXJbYS5sZW5ndGhdfHx2Lmxlbmd0aC9wfXRoaXMuX2FsbG9jYXRlKGksQm9vbGVhbih0KSksdGhpcy5pbmRleFN0YXJ0cz1uLHRoaXMudmVydGV4U3RhcnRzPXIsdGhpcy5pbnN0YW5jZUNvdW50PWk7dmFyIGc9e307dGhpcy5fZm9yRWFjaEdlb21ldHJ5KChmdW5jdGlvbih0LGEpe2cudmVydGV4U3RhcnQ9clthXSxnLmluZGV4U3RhcnQ9blthXTt2YXIgbz1hPHIubGVuZ3RoLTE/clthKzFdOmk7Zy5nZW9tZXRyeVNpemU9by1yW2FdLGcuZ2VvbWV0cnlJbmRleD1hLGUudXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzKHQsZyl9KSxjLGYpLHRoaXMudmVydGV4Q291bnQ9bltuLmxlbmd0aC0xXX19fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oMjc3KSx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSgpKHRoaXMsZSksdSgpKHRoaXMsbCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGYoKShlLHQpLG8oKShlLFt7a2V5OiJnZXRHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkLmF9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5wcm9wcyxyPW4uZWxldmF0aW9uU2NhbGUsaT1uLmV4dHJ1ZGVkLGE9bi5vZmZzZXQsbz1uLmNvdmVyYWdlLHM9bi5jZWxsU2l6ZSx1PW4uYW5nbGU7dGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhPYmplY3QuYXNzaWduKHt9LGUse3JhZGl1czpzLzIsYW5nbGU6dSxvZmZzZXQ6YSxleHRydWRlZDppLGNvdmVyYWdlOm8sZWxldmF0aW9uU2NhbGU6cixlZGdlRGlzdGFuY2U6MSxpc1dpcmVmcmFtZTohMX0pKS5kcmF3KCl9fV0pLGV9KG4oMTU5KS5hKTt2LmxheWVyTmFtZT0iR3JpZENlbGxMYXllciIsdi5kZWZhdWx0UHJvcHM9e2NlbGxTaXplOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjFlM30sb2Zmc2V0Ont0eXBlOiJhcnJheSIsbWluOjAsdmFsdWU6WzEsMV19fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSk7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTApLGY9bi5uKGgpLGQ9bigyMyksdj1uKDY0KSxwPW4oMTg1KSxnPW4oMTE5KSx5PW4oMTEwKSxtPW4oMTI4KSxiPW4oMTc0KSxfPXtzdHJva2VkOiEwLGZpbGxlZDohMCxleHRydWRlZDohMSxlbGV2YXRpb25TY2FsZToxLHdpcmVmcmFtZTohMSxfbm9ybWFsaXplOiEwLGxpbmVXaWR0aFVuaXRzOiJtZXRlcnMiLGxpbmVXaWR0aFNjYWxlOjEsbGluZVdpZHRoTWluUGl4ZWxzOjAsbGluZVdpZHRoTWF4UGl4ZWxzOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGxpbmVKb2ludFJvdW5kZWQ6ITEsbGluZU1pdGVyTGltaXQ6NCxnZXRQb2x5Z29uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9seWdvbn19LGdldEZpbGxDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMCwyNTVdfSxnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RWxldmF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MWUzfSxtYXRlcmlhbDohMH0sTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9e3BhdGhzOltdfSx0aGlzLnByb3BzLmdldExpbmVEYXNoQXJyYXkmJmQuYS5yZW1vdmVkKCJnZXRMaW5lRGFzaEFycmF5IiwiUGF0aFN0eWxlRXh0ZW5zaW9uIikoKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49KHQub2xkUHJvcHMsdC5wcm9wcyx0LmNoYW5nZUZsYWdzKSxyPW4uZGF0YUNoYW5nZWR8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQb2x5Z29uKTtpZihyJiZBcnJheS5pc0FycmF5KG4uZGF0YUNoYW5nZWQpKXt2YXIgaT10aGlzLnN0YXRlLnBhdGhzLnNsaWNlKCksYT1uLmRhdGFDaGFuZ2VkLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChiLmEpKHtkYXRhOmksZ2V0SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zb3VyY2UuaW5kZXh9LGRhdGFSYW5nZTp0LHJlcGxhY2U6ZS5fZ2V0UGF0aHModCl9KX0pKTt0aGlzLnNldFN0YXRlKHtwYXRoczppLHBhdGhzRGlmZjphfSl9ZWxzZSByJiZ0aGlzLnNldFN0YXRlKHtwYXRoczp0aGlzLl9nZXRQYXRocygpLHBhdGhzRGlmZjpudWxsfSl9fSx7a2V5OiJfZ2V0UGF0aHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5wcm9wcyxuPWUuZGF0YSxyPWUuZ2V0UG9seWdvbixpPWUucG9zaXRpb25Gb3JtYXQsYT1lLl9ub3JtYWxpemUsbz1bXSxzPSJYWSI9PT1pPzI6Myx1PXQuc3RhcnRSb3csYz10LmVuZFJvdyxsPU9iamVjdCh2LmEpKG4sdSxjKSxoPWwuaXRlcmFibGUsZj1sLm9iamVjdEluZm8sZD0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksYj1oW1N5bWJvbC5pdGVyYXRvcl0oKTshKGQ9KHk9Yi5uZXh0KCkpLmRvbmUpO2Q9ITApe3ZhciBfPXkudmFsdWU7Zi5pbmRleCsrO3ZhciBPPXIoXyxmKTthJiYoTz1tLmMoTyxzKSk7dmFyIHg9Tyx3PXguaG9sZUluZGljZXMsaz1PLnBvc2l0aW9uc3x8TztpZih3KWZvcih2YXIgUz0wO1M8PXcubGVuZ3RoO1MrKyl7dmFyIFA9ay5zdWJhcnJheSh3W1MtMV18fDAsd1tTXXx8ay5sZW5ndGgpO28ucHVzaCh0aGlzLmdldFN1YkxheWVyUm93KHtwYXRoOlB9LF8sZi5pbmRleCkpfWVsc2Ugby5wdXNoKHRoaXMuZ2V0U3ViTGF5ZXJSb3coe3BhdGg6a30sXyxmLmluZGV4KSl9fWNhdGNoKHQpe3A9ITAsZz10fWZpbmFsbHl7dHJ5e2R8fG51bGw9PWIucmV0dXJufHxiLnJldHVybigpfWZpbmFsbHl7aWYocCl0aHJvdyBnfX1yZXR1cm4gb319LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC5fZGF0YURpZmYscj10LnN0cm9rZWQsaT10LmZpbGxlZCxhPXQuZXh0cnVkZWQsbz10LndpcmVmcmFtZSxzPXQuX25vcm1hbGl6ZSx1PXQuZWxldmF0aW9uU2NhbGUsYz10LnRyYW5zaXRpb25zLGw9dC5wb3NpdGlvbkZvcm1hdCxoPXRoaXMucHJvcHMsZj1oLmxpbmVXaWR0aFVuaXRzLGQ9aC5saW5lV2lkdGhTY2FsZSx2PWgubGluZVdpZHRoTWluUGl4ZWxzLHA9aC5saW5lV2lkdGhNYXhQaXhlbHMsbT1oLmxpbmVKb2ludFJvdW5kZWQsYj1oLmxpbmVNaXRlckxpbWl0LF89aC5saW5lRGFzaEp1c3RpZmllZCxPPXRoaXMucHJvcHMseD1PLmdldEZpbGxDb2xvcix3PU8uZ2V0TGluZUNvbG9yLGs9Ty5nZXRMaW5lV2lkdGgsUz1PLmdldExpbmVEYXNoQXJyYXksUD1PLmdldEVsZXZhdGlvbixqPU8uZ2V0UG9seWdvbixUPU8udXBkYXRlVHJpZ2dlcnMsRT1PLm1hdGVyaWFsLEE9dGhpcy5zdGF0ZSxNPUEucGF0aHMsQz1BLnBhdGhzRGlmZixMPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiZmlsbCIsZy5hKSxJPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygic3Ryb2tlIix5LmEpLFI9dGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigiZmlsbCIsTSkmJm5ldyBMKHtfZGF0YURpZmY6bixleHRydWRlZDphLGVsZXZhdGlvblNjYWxlOnUsZmlsbGVkOmksd2lyZWZyYW1lOm8sX25vcm1hbGl6ZTpzLGdldEVsZXZhdGlvbjpQLGdldEZpbGxDb2xvcjp4LGdldExpbmVDb2xvcjp3LG1hdGVyaWFsOkUsdHJhbnNpdGlvbnM6Y30sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiZmlsbCIsdXBkYXRlVHJpZ2dlcnM6e2dldFBvbHlnb246VC5nZXRQb2x5Z29uLGdldEVsZXZhdGlvbjpULmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6VC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOlQuZ2V0TGluZUNvbG9yfX0pLHtkYXRhOmUscG9zaXRpb25Gb3JtYXQ6bCxnZXRQb2x5Z29uOmp9KTtyZXR1cm5bIWEmJlIsIWEmJnImJnRoaXMuc2hvdWxkUmVuZGVyU3ViTGF5ZXIoInN0cm9rZSIsTSkmJm5ldyBJKHtfZGF0YURpZmY6QyYmZnVuY3Rpb24oKXtyZXR1cm4gQ30sd2lkdGhVbml0czpmLHdpZHRoU2NhbGU6ZCx3aWR0aE1pblBpeGVsczp2LHdpZHRoTWF4UGl4ZWxzOnAscm91bmRlZDptLG1pdGVyTGltaXQ6YixkYXNoSnVzdGlmaWVkOl8sX3BhdGhUeXBlOiJsb29wIix0cmFuc2l0aW9uczpjJiZ7Z2V0V2lkdGg6Yy5nZXRMaW5lV2lkdGgsZ2V0Q29sb3I6Yy5nZXRMaW5lQ29sb3IsZ2V0UGF0aDpjLmdldFBvbHlnb259LGdldENvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3Nvcih3KSxnZXRXaWR0aDp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoayksZ2V0RGFzaEFycmF5OnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihTKX0sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoic3Ryb2tlIix1cGRhdGVUcmlnZ2Vyczp7Z2V0V2lkdGg6VC5nZXRMaW5lV2lkdGgsZ2V0Q29sb3I6VC5nZXRMaW5lQ29sb3IsZ2V0RGFzaEFycmF5OlQuZ2V0TGluZURhc2hBcnJheX19KSx7ZGF0YTpNLHBvc2l0aW9uRm9ybWF0OmwsZ2V0UGF0aDpmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXRofX0pLGEmJlJdfX1dKSxlfShwLmEpO08ubGF5ZXJOYW1lPSJQb2x5Z29uTGF5ZXIiLE8uZGVmYXVsdFByb3BzPV99LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMTM1KTtmdW5jdGlvbiBpKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBKU09OIGZyb20gZGF0YSBzdGFydGluZyB3aXRoICInLmNvbmNhdChPYmplY3Qoci5hKSh0KSwnIicpKX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNykscz1uKDE4KSx1PW4oMTY4KSxjPW4oMjcpLGw9big4OSksaD1uKDY4KSxmPW4oNjcpLGQ9bigzNiksdj1PYmplY3QuZnJlZXplKFsxLDAsMCwwLDEsMCwwLDAsMV0pLHA9T2JqZWN0LmZyZWV6ZShbMCwwLDAsMCwwLDAsMCwwLDBdKSxnPU9iamVjdC5mcmVlemUoe0NPTDBST1cwOjAsQ09MMFJPVzE6MSxDT0wwUk9XMjoyLENPTDFST1cwOjMsQ09MMVJPVzE6NCxDT0wxUk9XMjo1LENPTDJST1cwOjYsQ09MMlJPVzE6NyxDT0wyUk9XMjo4fSkseT17fSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksbj1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KHQpP24uY29weSh0KTpuLmlkZW50aXR5KCksbn1yZXR1cm4gT2JqZWN0KHMuYSkoZSx0KSxPYmplY3Qoby5hKShlLFt7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDl9fSx7a2V5OiJSQU5LIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6IklORElDRVMiLGdldDpmdW5jdGlvbigpe3JldHVybiBnfX1dLFt7a2V5OiJJREVOVElUWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuSURFTlRJVFk9eS5JREVOVElUWXx8T2JqZWN0LmZyZWV6ZShuZXcgZSh2KSkseS5JREVOVElUWX19LHtrZXk6IlpFUk8iLGdldDpmdW5jdGlvbigpe3JldHVybiB5LlpFUk89eS5aRVJPfHxPYmplY3QuZnJlZXplKG5ldyBlKHApKSx5LlpFUk99fV0pLE9iamVjdChvLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpc1s0XT10WzRdLHRoaXNbNV09dFs1XSx0aGlzWzZdPXRbNl0sdGhpc1s3XT10WzddLHRoaXNbOF09dFs4XSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXNbNF09aSx0aGlzWzVdPWEsdGhpc1s2XT1vLHRoaXNbN109cyx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToic2V0Um93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09cix0aGlzWzJdPW8sdGhpc1szXT1lLHRoaXNbNF09aSx0aGlzWzVdPXMsdGhpc1s2XT1uLHRoaXNbN109YSx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGguYih0aGlzKX19LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHkodil9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGguYyh0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5pKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBoLmQodGhpcyx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUxlZnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmUodGhpcyx0LHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5UmlnaHQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmUodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGguZih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP2guZyh0aGlzLHRoaXMsdCk6aC5nKHRoaXMsdGhpcyxbdCx0LHRdKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBoLmgodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMjplPWYuZShlfHxbLTAsLTBdLHQsdGhpcyk7YnJlYWs7Y2FzZSAzOmU9ZC5tKGV8fFstMCwtMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDQ6ZT1PYmplY3QobC5kKShlfHxbLTAsLTAsLTAsLTBdLHQsdGhpcyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgdmVjdG9yIil9cmV0dXJuIE9iamVjdChjLmIpKGUsdC5sZW5ndGgpLGV9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXgzLnRyYW5zZm9ybVZlY3RvciIpLHRoaXMudHJhbnNmb3JtKHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoYy5jKSgiTWF0cml4My50cmFuc2Zvcm1WZWN0b3IiKSx0aGlzLnRyYW5zZm9ybSh0LGUpfX0se2tleToidHJhbnNmb3JtVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDMudHJhbnNmb3JtVmVjdG9yIiksdGhpcy50cmFuc2Zvcm0odCxlKX19XSksZX0odS5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIHI9bigwKSxpPW4oNiksYT1uKDcpLG89bigxMzEpO2Z1bmN0aW9uIHModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmEpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpzKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBjPXtpZDoicmVxdWVzdC1zY2hlZHVsZXIiLHRocm90dGxlUmVxdWVzdHM6ITAsbWF4UmVxdWVzdHM6Nn0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KGkuYSkodGhpcyx0KSx0aGlzLnByb3BzPXUoe30sYyx7fSxlKSx0aGlzLnJlcXVlc3RRdWV1ZT1bXSx0aGlzLmFjdGl2ZVJlcXVlc3RDb3VudD0wLHRoaXMucmVxdWVzdE1hcD17fSx0aGlzLnN0YXRzPW5ldyBvLmEoe2lkOmUuaWR9KSx0aGlzLnN0YXRzLmdldCgiUXVldWVkIFJlcXVlc3RzIiksdGhpcy5zdGF0cy5nZXQoIkFjdGl2ZSBSZXF1ZXN0cyIpLHRoaXMuc3RhdHMuZ2V0KCJDYW5jZWxsZWQgUmVxdWVzdHMiKSx0aGlzLnN0YXRzLmdldCgiUXVldWVkIFJlcXVlc3RzIEV2ZXIiKSx0aGlzLnN0YXRzLmdldCgiQWN0aXZlIFJlcXVlc3RzIEV2ZXIiKSx0aGlzLl9kZWZlcnJlZFVwZGF0ZT1udWxsfXJldHVybiBPYmplY3QoYS5hKSh0LFt7a2V5OiJzY2hlZHVsZVJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbigpe3JldHVybiAwfTtpZighdGhpcy5wcm9wcy50aHJvdHRsZVJlcXVlc3RzKXJldHVybiBQcm9taXNlLnJlc29sdmUodCk7aWYodGhpcy5yZXF1ZXN0TWFwW3QuaWRdKXJldHVybiB0aGlzLnJlcXVlc3RNYXBbdC5pZF07dmFyIG49bnVsbCxyPW5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3JldHVybiBuPXtoYW5kbGU6dCxjYWxsYmFjazplLHJlc29sdmU6cixyZWplY3Q6aX19KSk7cmV0dXJuIHRoaXMucmVxdWVzdFF1ZXVlLnB1c2godSh7cHJvbWlzZTpyfSxuKSksdGhpcy5yZXF1ZXN0TWFwW3QuaWRdPXIsdGhpcy5faXNzdWVOZXdSZXF1ZXN0cygpLHJ9fSx7a2V5OiJzdGFydFJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlUmVxdWVzdENvdW50Kyt9fSx7a2V5OiJlbmRSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlcXVlc3RNYXBbdC5pZF0mJmRlbGV0ZSB0aGlzLnJlcXVlc3RNYXBbdC5pZF0sdGhpcy5hY3RpdmVSZXF1ZXN0Q291bnQtLSx0aGlzLl9pc3N1ZU5ld1JlcXVlc3RzKCl9fSx7a2V5OiJ0cmFja1JlcXVlc3RQcm9taXNlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5zdGFydFJlcXVlc3QodCksZS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmVuZFJlcXVlc3QodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZW5kUmVxdWVzdCh0KX0pKX19LHtrZXk6Il9pc3N1ZU5ld1JlcXVlc3RzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVmZXJyZWRVcGRhdGV8fCh0aGlzLl9kZWZlcnJlZFVwZGF0ZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0Ll9pc3N1ZU5ld1JlcXVlc3RzQXN5bmMoKX0pLDApKX19LHtrZXk6Il9pc3N1ZU5ld1JlcXVlc3RzQXN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVmZXJyZWRVcGRhdGU9bnVsbDt2YXIgdD1NYXRoLm1heCh0aGlzLnByb3BzLm1heFJlcXVlc3RzLXRoaXMuYWN0aXZlUmVxdWVzdENvdW50LDApO2lmKDAhPT10KXt0aGlzLl91cGRhdGVBbGxSZXF1ZXN0cygpO2Zvcih2YXIgZT0wO2U8dDsrK2Upe2lmKHRoaXMucmVxdWVzdFF1ZXVlLmxlbmd0aD4wKXRoaXMucmVxdWVzdFF1ZXVlLnNoaWZ0KCkucmVzb2x2ZSghMCl9fX19LHtrZXk6Il91cGRhdGVBbGxSZXF1ZXN0cyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yZXF1ZXN0UXVldWUsZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO3RoaXMuX3VwZGF0ZVJlcXVlc3Qobil8fCh0LnNwbGljZShlLDEpLGRlbGV0ZSB0aGlzLnJlcXVlc3RNYXBbbi5oYW5kbGUuaWRdLGUtLSl9dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSl9fSx7a2V5OiJfdXBkYXRlUmVxdWVzdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucHJpb3JpdHk9dC5jYWxsYmFjayh0LmhhbmRsZSksISh0LnByaW9yaXR5PDApfHwodC5yZXNvbHZlKCExKSwhMSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMTEpO2Z1bmN0aW9uIGkodCxlKXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPXQsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sdC5yZWFkRmllbGRzKGEsdGhpcyxlKSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGh9ZnVuY3Rpb24gYSh0LGUsbil7MTU9PT10P2UudmVyc2lvbj1uLnJlYWRWYXJpbnQoKToxPT09dD9lLm5hbWU9bi5yZWFkU3RyaW5nKCk6NT09PXQ/ZS5leHRlbnQ9bi5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5fZmVhdHVyZXMucHVzaChuLnBvcyk6Mz09PXQ/ZS5fa2V5cy5wdXNoKG4ucmVhZFN0cmluZygpKTo0PT09dCYmZS5fdmFsdWVzLnB1c2goZnVuY3Rpb24odCl7dmFyIGU9bnVsbCxuPXQucmVhZFZhcmludCgpK3QucG9zO2Zvcig7dC5wb3M8bjspe3ZhciByPXQucmVhZFZhcmludCgpPj4zO2U9MT09PXI/dC5yZWFkU3RyaW5nKCk6Mj09PXI/dC5yZWFkRmxvYXQoKTozPT09cj90LnJlYWREb3VibGUoKTo0PT09cj90LnJlYWRWYXJpbnQ2NCgpOjU9PT1yP3QucmVhZFZhcmludCgpOjY9PT1yP3QucmVhZFNWYXJpbnQoKTo3PT09cj90LnJlYWRCb29sZWFuKCk6bnVsbH1yZXR1cm4gZX0obikpfXQuZXhwb3J0cz1pLGkucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24odCl7aWYodDwwfHx0Pj10aGlzLl9mZWF0dXJlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlIGluZGV4IG91dCBvZiBib3VuZHMiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW3RdO3ZhciBlPXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IHIodGhpcy5fcGJmLGUsdGhpcy5leHRlbnQsdGhpcy5fa2V5cyx0aGlzLl92YWx1ZXMpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI2NSk7ZnVuY3Rpb24gaSh0LGUsbixyLGkpe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1uLHRoaXMudHlwZT0wLHRoaXMuX3BiZj10LHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9cix0aGlzLl92YWx1ZXM9aSx0LnJlYWRGaWVsZHMoYSx0aGlzLGUpfWZ1bmN0aW9uIGEodCxlLG4pezE9PXQ/ZS5pZD1uLnJlYWRWYXJpbnQoKToyPT10P2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5yZWFkVmFyaW50KCkrdC5wb3M7Zm9yKDt0LnBvczxuOyl7dmFyIHI9ZS5fa2V5c1t0LnJlYWRWYXJpbnQoKV0saT1lLl92YWx1ZXNbdC5yZWFkVmFyaW50KCldO2UucHJvcGVydGllc1tyXT1pfX0obixlKTozPT10P2UudHlwZT1uLnJlYWRWYXJpbnQoKTo0PT10JiYoZS5fZ2VvbWV0cnk9bi5wb3MpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlLG4scj0wLGk9MCxhPXQubGVuZ3RoLG89YS0xO2k8YTtvPWkrKyllPXRbaV0scis9KChuPXRbb10pLngtZS54KSooZS55K24ueSk7cmV0dXJuIHJ9dC5leHBvcnRzPWksaS50eXBlcz1bIlVua25vd24iLCJQb2ludCIsIkxpbmVTdHJpbmciLCJQb2x5Z29uIl0saS5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZSxuPXQucmVhZFZhcmludCgpK3QucG9zLGk9MSxhPTAsbz0wLHM9MCx1PVtdO3QucG9zPG47KXtpZihhPD0wKXt2YXIgYz10LnJlYWRWYXJpbnQoKTtpPTcmYyxhPWM+PjN9aWYoYS0tLDE9PT1pfHwyPT09aSlvKz10LnJlYWRTVmFyaW50KCkscys9dC5yZWFkU1ZhcmludCgpLDE9PT1pJiYoZSYmdS5wdXNoKGUpLGU9W10pLGUucHVzaChuZXcgcihvLHMpKTtlbHNle2lmKDchPT1pKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIraSk7ZSYmZS5wdXNoKGVbMF0uY2xvbmUoKSl9fXJldHVybiBlJiZ1LnB1c2goZSksdX0saS5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BiZjt0LnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIGU9dC5yZWFkVmFyaW50KCkrdC5wb3Msbj0xLHI9MCxpPTAsYT0wLG89MS8wLHM9LTEvMCx1PTEvMCxjPS0xLzA7dC5wb3M8ZTspe2lmKHI8PTApe3ZhciBsPXQucmVhZFZhcmludCgpO249NyZsLHI9bD4+M31pZihyLS0sMT09PW58fDI9PT1uKShpKz10LnJlYWRTVmFyaW50KCkpPG8mJihvPWkpLGk+cyYmKHM9aSksKGErPXQucmVhZFNWYXJpbnQoKSk8dSYmKHU9YSksYT5jJiYoYz1hKTtlbHNlIGlmKDchPT1uKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIrbil9cmV0dXJuW28sdSxzLGNdfSxpLnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24odCxlLG4pe3ZhciByLGEscz10aGlzLmV4dGVudCpNYXRoLnBvdygyLG4pLHU9dGhpcy5leHRlbnQqdCxjPXRoaXMuZXh0ZW50KmUsbD10aGlzLmxvYWRHZW9tZXRyeSgpLGg9aS50eXBlc1t0aGlzLnR5cGVdO2Z1bmN0aW9uIGYodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV0scj0xODAtMzYwKihuLnkrYykvczt0W2VdPVszNjAqKG4ueCt1KS9zLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAocipNYXRoLlBJLzE4MCkpLTkwXX19c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBkPVtdO2ZvcihyPTA7cjxsLmxlbmd0aDtyKyspZFtyXT1sW3JdWzBdO2YobD1kKTticmVhaztjYXNlIDI6Zm9yKHI9MDtyPGwubGVuZ3RoO3IrKylmKGxbcl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD0xKXJldHVyblt0XTtmb3IodmFyIG4scixpPVtdLGE9MDthPGU7YSsrKXt2YXIgcz1vKHRbYV0pOzAhPT1zJiYodm9pZCAwPT09ciYmKHI9czwwKSxyPT09czwwPyhuJiZpLnB1c2gobiksbj1bdFthXV0pOm4ucHVzaCh0W2FdKSl9biYmaS5wdXNoKG4pO3JldHVybiBpfShsKSxyPTA7cjxsLmxlbmd0aDtyKyspZm9yKGE9MDthPGxbcl0ubGVuZ3RoO2ErKylmKGxbcl1bYV0pfTE9PT1sLmxlbmd0aD9sPWxbMF06aD0iTXVsdGkiK2g7dmFyIHY9e3R5cGU6IkZlYXR1cmUiLGdlb21ldHJ5Ont0eXBlOmgsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVybiJpZCJpbiB0aGlzJiYodi5pZD10aGlzLmlkKSx2fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQpLGk9bi5uKHIpLGE9bigxKSxvPW4ubihhKSxzPW4oMiksdT1uLm4ocyksYz1uKDE1MyksbD1uKDI5KSxoPW4oODQpLGY9bigyMyksZD1uKDc1KSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtvKCkodGhpcyx0KSx0aGlzLnZpZXdzPVtdLHRoaXMud2lkdGg9MTAwLHRoaXMuaGVpZ2h0PTEwMCx0aGlzLnZpZXdTdGF0ZT17fSx0aGlzLmNvbnRyb2xsZXJzPXt9LHRoaXMudGltZWxpbmU9ZS50aW1lbGluZSx0aGlzLl92aWV3cG9ydHM9W10sdGhpcy5fdmlld3BvcnRNYXA9e30sdGhpcy5faXNVcGRhdGluZz0hMSx0aGlzLl9uZWVkc1JlZHJhdz0iSW5pdGlhbCByZW5kZXIiLHRoaXMuX25lZWRzVXBkYXRlPSEwLHRoaXMuX2V2ZW50TWFuYWdlcj1lLmV2ZW50TWFuYWdlcix0aGlzLl9ldmVudENhbGxiYWNrcz17b25WaWV3U3RhdGVDaGFuZ2U6ZS5vblZpZXdTdGF0ZUNoYW5nZSxvbkludGVyYWN0aXZlU3RhdGVDaGFuZ2U6ZS5vbkludGVyYWN0aXZlU3RhdGVDaGFuZ2V9LE9iamVjdC5zZWFsKHRoaXMpLHRoaXMuc2V0UHJvcHMoZSl9cmV0dXJuIHUoKSh0LFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5jb250cm9sbGVycyl0aGlzLmNvbnRyb2xsZXJzW3RdJiZ0aGlzLmNvbnRyb2xsZXJzW3RdLmZpbmFsaXplKCk7dGhpcy5jb250cm9sbGVycz17fX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sZT10aGlzLl9uZWVkc1JlZHJhdztyZXR1cm4gdC5jbGVhclJlZHJhd0ZsYWdzJiYodGhpcy5fbmVlZHNSZWRyYXc9ITEpLGV9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy5fbmVlZHNVcGRhdGV8fHQsdGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fHR9fSx7a2V5OiJ1cGRhdGVWaWV3U3RhdGVzIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNvbnRyb2xsZXJzKXt2YXIgZT10aGlzLmNvbnRyb2xsZXJzW3RdO2UmJmUudXBkYXRlVHJhbnNpdGlvbigpfX19LHtrZXk6ImdldFZpZXdwb3J0cyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5fdmlld3BvcnRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGFpbnNQaXhlbCh0KX0pKTp0aGlzLl92aWV3cG9ydHN9fSx7a2V5OiJnZXRWaWV3cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy52aWV3cy5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UuaWRdPWV9KSksdH19LHtrZXk6ImdldFZpZXciLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLnZpZXdzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKTp0fX0se2tleToiZ2V0Vmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFZpZXcodCksbj1lJiZ0aGlzLnZpZXdTdGF0ZVtlLmdldFZpZXdTdGF0ZUlkKCldfHx0aGlzLnZpZXdTdGF0ZTtyZXR1cm4gZT9lLmZpbHRlclZpZXdTdGF0ZShuKTpufX0se2tleToiZ2V0Vmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92aWV3cG9ydE1hcFt0XX19LHtrZXk6InVucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5nZXRWaWV3cG9ydHMoKSxyPXt4OnRbMF0seTp0WzFdfSxpPW4ubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPW5baV07aWYoYS5jb250YWluc1BpeGVsKHIpKXt2YXIgbz10LnNsaWNlKCk7cmV0dXJuIG9bMF0tPWEueCxvWzFdLT1hLnksYS51bnByb2plY3QobyxlKX19cmV0dXJuIG51bGx9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7InZpZXdzImluIHQmJnRoaXMuX3NldFZpZXdzKHQudmlld3MpLCJ2aWV3U3RhdGUiaW4gdCYmdGhpcy5fc2V0Vmlld1N0YXRlKHQudmlld1N0YXRlKSwoIndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCkmJnRoaXMuX3NldFNpemUodC53aWR0aCx0LmhlaWdodCksdGhpcy5faXNVcGRhdGluZ3x8dGhpcy5fdXBkYXRlKCl9fSx7a2V5OiJfdXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzVXBkYXRpbmc9ITAsdGhpcy5fbmVlZHNVcGRhdGUmJih0aGlzLl9uZWVkc1VwZGF0ZT0hMSx0aGlzLl9yZWJ1aWxkVmlld3BvcnRzKCkpLHRoaXMuX25lZWRzVXBkYXRlJiYodGhpcy5fbmVlZHNVcGRhdGU9ITEsdGhpcy5fcmVidWlsZFZpZXdwb3J0cygpKSx0aGlzLl9pc1VwZGF0aW5nPSExfX0se2tleToiX3NldFNpemUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7T2JqZWN0KGwuYSkoTnVtYmVyLmlzRmluaXRlKHQpJiZOdW1iZXIuaXNGaW5pdGUoZSkpLHQ9PT10aGlzLndpZHRoJiZlPT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnNldE5lZWRzVXBkYXRlKCJTaXplIGNoYW5nZWQiKSl9fSx7a2V5OiJfc2V0Vmlld3MiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9T2JqZWN0KGQuYikodCxCb29sZWFuKSx0aGlzLl9kaWZmVmlld3ModCx0aGlzLnZpZXdzKSYmdGhpcy5zZXROZWVkc1VwZGF0ZSgidmlld3MgY2hhbmdlZCIpLHRoaXMudmlld3M9dH19LHtrZXk6Il9zZXRWaWV3U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q/KCFPYmplY3QoaC5hKSh0LHRoaXMudmlld1N0YXRlKSYmdGhpcy5zZXROZWVkc1VwZGF0ZSgidmlld1N0YXRlIGNoYW5nZWQiKSx0aGlzLnZpZXdTdGF0ZT10KTpmLmEud2FybigibWlzc2luZyBgdmlld1N0YXRlYCBvciBgaW5pdGlhbFZpZXdTdGF0ZWAiKSgpfX0se2tleToiX29uVmlld1N0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Uudmlld0lkPXQsdGhpcy5fZXZlbnRDYWxsYmFja3Mub25WaWV3U3RhdGVDaGFuZ2UoZSl9fSx7a2V5OiJfY3JlYXRlQ29udHJvbGxlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldygwLHQudHlwZSkoT2JqZWN0LmFzc2lnbih7dGltZWxpbmU6dGhpcy50aW1lbGluZSxldmVudE1hbmFnZXI6dGhpcy5fZXZlbnRNYW5hZ2VyLG9uVmlld1N0YXRlQ2hhbmdlOnRoaXMuX29uVmlld1N0YXRlQ2hhbmdlLmJpbmQodGhpcyx0LmlkKSxvblN0YXRlQ2hhbmdlOnRoaXMuX2V2ZW50Q2FsbGJhY2tzLm9uSW50ZXJhY3RpdmVTdGF0ZUNoYW5nZX0sdCkpfX0se2tleToiX3VwZGF0ZUNvbnRyb2xsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQuY29udHJvbGxlcil7dmFyIGk9T2JqZWN0LmFzc2lnbih7fSx0LmNvbnRyb2xsZXIsZSx7aWQ6dC5pZCx4Om4ueCx5Om4ueSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH0pO3JldHVybiByP3Iuc2V0UHJvcHMoaSk6cj10aGlzLl9jcmVhdGVDb250cm9sbGVyKGkpLHJ9cmV0dXJuIG51bGx9fSx7a2V5OiJfcmVidWlsZFZpZXdwb3J0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQsbj10aGlzLnZpZXdzLHI9dGhpcy5jb250cm9sbGVyczt0aGlzLl92aWV3cG9ydHM9W10sdGhpcy5jb250cm9sbGVycz17fTtmb3IodmFyIGk9bi5sZW5ndGg7aS0tOyl7dmFyIGE9bltpXSxvPXRoaXMuZ2V0Vmlld1N0YXRlKGEpLHM9YS5tYWtlVmlld3BvcnQoe3dpZHRoOnQsaGVpZ2h0OmUsdmlld1N0YXRlOm99KTt0aGlzLmNvbnRyb2xsZXJzW2EuaWRdPXRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIoYSxvLHMsclthLmlkXSksdGhpcy5fdmlld3BvcnRzLnVuc2hpZnQocyl9Zm9yKHZhciB1IGluIHIpclt1XSYmIXRoaXMuY29udHJvbGxlcnNbdV0mJnJbdV0uZmluYWxpemUoKTt0aGlzLl9idWlsZFZpZXdwb3J0TWFwKCl9fSx7a2V5OiJfYnVpbGRWaWV3cG9ydE1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3ZpZXdwb3J0TWFwPXt9LHRoaXMuX3ZpZXdwb3J0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlkJiYodC5fdmlld3BvcnRNYXBbZS5pZF09dC5fdmlld3BvcnRNYXBbZS5pZF18fGUpfSkpfX0se2tleToiX2RpZmZWaWV3cyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sZW5ndGghPT1lLmxlbmd0aHx8dC5zb21lKChmdW5jdGlvbihuLHIpe3JldHVybiF0W3JdLmVxdWFscyhlW3JdKX0pKX19XSksdH0oKSxwPW4oMTUwKSxnPW4oMTM4KSx5PW5ldyBnLmEsbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtvKCkodGhpcyx0KSx0aGlzLmVmZmVjdHM9W10sdGhpcy5faW50ZXJuYWxFZmZlY3RzPVtdLHRoaXMuX25lZWRzUmVkcmF3PSJJbml0aWFsIHJlbmRlciIsdGhpcy5zZXRFZmZlY3RzKCl9cmV0dXJuIHUoKSh0LFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7ImVmZmVjdHMiaW4gdCYmKHQuZWZmZWN0cy5sZW5ndGg9PT10aGlzLmVmZmVjdHMubGVuZ3RoJiZPYmplY3QoaC5hKSh0LmVmZmVjdHMsdGhpcy5lZmZlY3RzKXx8KHRoaXMuc2V0RWZmZWN0cyh0LmVmZmVjdHMpLHRoaXMuX25lZWRzUmVkcmF3PSJlZmZlY3RzIGNoYW5nZWQiKSl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9LGU9dGhpcy5fbmVlZHNSZWRyYXc7cmV0dXJuIHQuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKSxlfX0se2tleToiZ2V0RWZmZWN0cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxFZmZlY3RzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCl9fSx7a2V5OiJzZXRFZmZlY3RzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTt0aGlzLmNsZWFudXAoKSx0aGlzLmVmZmVjdHM9dCx0aGlzLl9jcmVhdGVJbnRlcm5hbEVmZmVjdHMoKX19LHtrZXk6ImNsZWFudXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5lZmZlY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KHI9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3IudmFsdWUuY2xlYW51cCgpfX1jYXRjaCh0KXtlPSEwLG49dH1maW5hbGx5e3RyeXt0fHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dmFyIGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dGhpcy5faW50ZXJuYWxFZmZlY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3UudmFsdWUuY2xlYW51cCgpfX1jYXRjaCh0KXtvPSEwLHM9dH1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319dGhpcy5lZmZlY3RzLmxlbmd0aD0wLHRoaXMuX2ludGVybmFsRWZmZWN0cy5sZW5ndGg9MH19LHtrZXk6Il9jcmVhdGVJbnRlcm5hbEVmZmVjdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxFZmZlY3RzPXRoaXMuZWZmZWN0cy5zbGljZSgpLHRoaXMuZWZmZWN0cy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGcuYX0pKXx8dGhpcy5faW50ZXJuYWxFZmZlY3RzLnB1c2goeSl9fV0pLHR9KCksYj1uKDEwMiksXz1uKDE2NCksTz1uKDgyKSx4PW4oMTI3KSx3PW4oMTEpLGs9bigxOTEpLFM9bigxNzMpLFA9e3BpY2tlZENvbG9yOm51bGwscGlja2VkTGF5ZXI6bnVsbCxwaWNrZWRPYmplY3RJbmRleDotMX07ZnVuY3Rpb24gaih0KXt2YXIgZT10LnBpY2tlZENvbG9ycyxuPXQubGF5ZXJzLHI9dC5kZXZpY2VYLGk9dC5kZXZpY2VZLGE9dC5kZXZpY2VSYWRpdXMsbz10LmRldmljZVJlY3Q7aWYoZSl7Zm9yKHZhciBzPW8ueCx1PW8ueSxjPW8ud2lkdGgsbD1vLmhlaWdodCxoPWEqYSxkPS0xLHY9MCxwPTA7cDxsO3ArKyl7dmFyIGc9cCt1LWkseT1nKmc7aWYoeT5oKXYrPTQqYztlbHNlIGZvcih2YXIgbT0wO208YzttKyspe2lmKGVbdiszXS0xPj0wKXt2YXIgYj1tK3MtcixfPWIqYit5O188PWgmJihoPV8sZD12KX12Kz00fX1pZihkPj0wKXt2YXIgTz1lW2QrM10tMSx4PWUuc2xpY2UoZCxkKzQpLHc9bltPXTtpZih3KXt2YXIgaz13LmRlY29kZVBpY2tpbmdDb2xvcih4KSxTPU1hdGguZmxvb3IoZC80L2MpO3JldHVybntwaWNrZWRDb2xvcjp4LHBpY2tlZExheWVyOncscGlja2VkT2JqZWN0SW5kZXg6ayxwaWNrZWRYOnMrKGQvNC1TKmMpLHBpY2tlZFk6dStTfX1mLmEuZXJyb3IoIlBpY2tlZCBub24tZXhpc3RlbnQgbGF5ZXIuIElzIHBpY2tpbmcgYnVmZmVyIGNvcnJ1cHQ/IikoKX19cmV0dXJuIFB9ZnVuY3Rpb24gVCh0KXt2YXIgZT10LnBpY2tJbmZvLG49dC5sYXN0UGlja2VkSW5mbyxyPXQubW9kZSxpPXQubGF5ZXJzLGE9dC52aWV3cG9ydHMsbz10Lngscz10LnksdT10LnosYz10LnBpeGVsUmF0aW8sbD1lLnBpY2tlZENvbG9yLGg9ZS5waWNrZWRMYXllcixmPWUucGlja2VkT2JqZWN0SW5kZXgsZD1oP1toXTpbXTtpZigiaG92ZXIiPT09cil7dmFyIHY9bi5pbmRleCxwPW4ubGF5ZXJJZCxnPWgmJmgucHJvcHMuaWQ7aWYoZyE9PXB8fGYhPT12KXtpZihnIT09cCl7dmFyIHk9aS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm9wcy5pZD09PXB9KSk7eSYmZC51bnNoaWZ0KHkpfW4ubGF5ZXJJZD1nLG4uaW5kZXg9ZixuLmluZm89bnVsbH19dmFyIG09e3ZpZXdwb3J0czphfS52aWV3cG9ydHNbMF0sYj1tJiZtLnVucHJvamVjdChbbyxzXSx7dGFyZ2V0Wjp1fSksXz17Y29sb3I6bnVsbCxsYXllcjpudWxsLGluZGV4Oi0xLHBpY2tlZDohMSx4Om8seTpzLHBpeGVsOltvLHNdLGNvb3JkaW5hdGU6YixsbmdMYXQ6YixkZXZpY2VQaXhlbDpbZS5waWNrZWRYLGUucGlja2VkWV0scGl4ZWxSYXRpbzpjfSxPPW5ldyBNYXA7cmV0dXJuIE8uc2V0KG51bGwsXyksZC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1PYmplY3QuYXNzaWduKHt9LF8pO2lmKHQ9PT1oJiYoZS5jb2xvcj1sLGUuaW5kZXg9ZixlLnBpY2tlZD0hMCksZT1FKHtsYXllcjp0LGluZm86ZSxtb2RlOnJ9KSx0PT09aCYmImhvdmVyIj09PXImJihuLmluZm89ZSksZSYmTy5zZXQoZS5sYXllci5pZCxlKSwiaG92ZXIiPT09ciYmdC5wcm9wcy5hdXRvSGlnaGxpZ2h0KXt2YXIgaT17cGlja2luZ1NlbGVjdGVkQ29sb3I6aD09PXQ/bDpudWxsfSxhPXQucHJvcHMuaGlnaGxpZ2h0Q29sb3I7aD09PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoaS5waWNraW5nSGlnaGxpZ2h0Q29sb3I9YShlKSksdC5zZXRNb2R1bGVQYXJhbWV0ZXJzKGkpLHQuc2V0TmVlZHNSZWRyYXcoKX19KSksT31mdW5jdGlvbiBFKHQpe2Zvcih2YXIgZT10LmxheWVyLG49dC5pbmZvLHI9dC5tb2RlO2UmJm47KXt2YXIgaT1uLmxheWVyfHxlO24ubGF5ZXI9ZSxuPWUuZ2V0UGlja2luZ0luZm8oe2luZm86bixtb2RlOnIsc291cmNlTGF5ZXI6aX0pLGU9ZS5wYXJlbnR9cmV0dXJuIG59dmFyIEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe28oKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLnBpY2tpbmdGQk89bnVsbCx0aGlzLnBpY2tMYXllcnNQYXNzPW5ldyBTLmEoZSksdGhpcy5sYXllckZpbHRlcj1udWxsLHRoaXMubGFzdFBpY2tlZEluZm89e2luZGV4Oi0xLGxheWVySWQ6bnVsbCxpbmZvOm51bGx9LHRoaXMuX29uRXJyb3I9bnVsbH1yZXR1cm4gdSgpKHQsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXsibGF5ZXJGaWx0ZXIiaW4gdCYmKHRoaXMubGF5ZXJGaWx0ZXI9dC5sYXllckZpbHRlciksIm9uRXJyb3IiaW4gdCYmKHRoaXMuX29uRXJyb3I9dC5vbkVycm9yKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGlja2luZ0ZCTyYmdGhpcy5waWNraW5nRkJPLmRlbGV0ZSgpLHRoaXMuZGVwdGhGQk8mJih0aGlzLmRlcHRoRkJPLmNvbG9yLmRlbGV0ZSgpLHRoaXMuZGVwdGhGQk8uZGVsZXRlKCkpfX0se2tleToicGlja09iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BpY2tDbG9zZXN0T2JqZWN0KHQpfX0se2tleToicGlja09iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waWNrVmlzaWJsZU9iamVjdHModCl9fSx7a2V5OiJnZXRMYXN0UGlja2VkT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10Lngsbj10Lnkscj10LmxheWVycyxpPXQudmlld3BvcnRzLGE9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMubGFzdFBpY2tlZEluZm8uaW5mbyxvPWEmJmEubGF5ZXImJmEubGF5ZXIuaWQscz1vP3IuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1vfSkpOm51bGwsdT1pWzBdJiZpWzBdLnVucHJvamVjdChbZSxuXSksYz17eDplLHk6bixjb29yZGluYXRlOnUsbG5nTGF0OnUsbGF5ZXI6c307cmV0dXJuIHM/T2JqZWN0LmFzc2lnbih7fSxhLGMpOk9iamVjdC5hc3NpZ24oYyx7Y29sb3I6bnVsbCxvYmplY3Q6bnVsbCxpbmRleDotMX0pfX0se2tleToiX3Jlc2l6ZUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3JldHVybiB0aGlzLnBpY2tpbmdGQk98fCh0aGlzLnBpY2tpbmdGQk89bmV3IE8uYSh0KSxPLmEuaXNTdXBwb3J0ZWQodCx7Y29sb3JCdWZmZXJGbG9hdDohMH0pJiYodGhpcy5kZXB0aEZCTz1uZXcgTy5hKHQpLHRoaXMuZGVwdGhGQk8uYXR0YWNoKGkoKSh7fSwzNjA2NCxuZXcgeC5hKHQse2Zvcm1hdDpPYmplY3Qody5nKSh0KT8zNDgzNjo2NDA4LHR5cGU6NTEyNn0pKSkpKSx0aGlzLnBpY2tpbmdGQk8ucmVzaXplKHt3aWR0aDp0LmNhbnZhcy53aWR0aCxoZWlnaHQ6dC5jYW52YXMuaGVpZ2h0fSksdGhpcy5kZXB0aEZCTyYmdGhpcy5kZXB0aEZCTy5yZXNpemUoe3dpZHRoOnQuY2FudmFzLndpZHRoLGhlaWdodDp0LmNhbnZhcy5oZWlnaHR9KSx0aGlzLnBpY2tpbmdGQk99fSx7a2V5OiJfZ2V0UGlja2FibGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1BpY2thYmxlKCkmJiF0LmlzQ29tcG9zaXRlfSkpO3JldHVybiBlLmxlbmd0aD4yNTU/KGYuYS53YXJuKCJUb28gbWFueSBwaWNrYWJsZSBsYXllcnMsIG9ubHkgcGlja2luZyB0aGUgZmlyc3QgMjU1IikoKSxlLnNsaWNlKDAsMjU1KSk6ZX19LHtrZXk6Il9waWNrQ2xvc2VzdE9iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXllcnMsbj10LnZpZXdwb3J0cyxyPXQueCxpPXQueSxhPXQucmFkaXVzLG89dm9pZCAwPT09YT8wOmEscz10LmRlcHRoLHU9dm9pZCAwPT09cz8xOnMsYz10Lm1vZGUsbD12b2lkIDA9PT1jPyJxdWVyeSI6YyxoPXQudW5wcm9qZWN0M0QsZj10Lm9uVmlld3BvcnRBY3RpdmU7ZT10aGlzLl9nZXRQaWNrYWJsZShlKSx0aGlzLl9yZXNpemVCdWZmZXIoKTtmb3IodmFyIGQsdj1PYmplY3Qody5jKSh0aGlzLmdsKSxwPU9iamVjdCh3LmIpKHRoaXMuZ2wsW3IsaV0sITApLGc9W3AueCtNYXRoLmZsb29yKHAud2lkdGgvMikscC55K01hdGguZmxvb3IocC5oZWlnaHQvMildLHk9TWF0aC5yb3VuZChvKnYpLG09dGhpcy5waWNraW5nRkJPLGI9bS53aWR0aCxfPW0uaGVpZ2h0LE89dGhpcy5fZ2V0UGlja2luZ1JlY3Qoe2RldmljZVg6Z1swXSxkZXZpY2VZOmdbMV0sZGV2aWNlUmFkaXVzOnksZGV2aWNlV2lkdGg6YixkZXZpY2VIZWlnaHQ6X30pLHg9W10saz17fSxTPTA7Uzx1O1MrKyl7dmFyIFA9aih7cGlja2VkQ29sb3JzOk8mJnRoaXMuX2RyYXdBbmRTYW1wbGUoe2xheWVyczplLHZpZXdwb3J0czpuLG9uVmlld3BvcnRBY3RpdmU6ZixkZXZpY2VSZWN0Ok8scGFzczoicGlja2luZzoiLmNvbmNhdChsKSxyZWRyYXdSZWFzb246bH0pLGxheWVyczplLGRldmljZVg6Z1swXSxkZXZpY2VZOmdbMV0sZGV2aWNlUmFkaXVzOnksZGV2aWNlUmVjdDpPfSksRT12b2lkIDA7aWYoUC5waWNrZWRMYXllciYmaCYmdGhpcy5kZXB0aEZCTylFPXRoaXMuX2RyYXdBbmRTYW1wbGUoe2xheWVyczpbUC5waWNrZWRMYXllcl0sdmlld3BvcnRzOm4sb25WaWV3cG9ydEFjdGl2ZTpmLGRldmljZVJlY3Q6e3g6UC5waWNrZWRYLHk6UC5waWNrZWRZLHdpZHRoOjEsaGVpZ2h0OjF9LHBhc3M6InBpY2tpbmc6Ii5jb25jYXQobCkscmVkcmF3UmVhc29uOiJwaWNrLXoiLHBpY2taOiEwfSlbMF0qblswXS5kaXN0YW5jZVNjYWxlcy5tZXRlcnNQZXJVbml0WzJdK25bMF0ucG9zaXRpb25bMl07aWYoUC5waWNrZWRDb2xvciYmUysxPHUpe3ZhciBBPVAucGlja2VkQ29sb3JbM10tMTtrW0FdPSEwLGVbQV0uY2xlYXJQaWNraW5nQ29sb3IoUC5waWNrZWRDb2xvcil9ZD1UKHtwaWNrSW5mbzpQLGxhc3RQaWNrZWRJbmZvOnRoaXMubGFzdFBpY2tlZEluZm8sbW9kZTpsLGxheWVyczplLHZpZXdwb3J0czpuLHg6cix5OmksejpFLHBpeGVsUmF0aW86dn0pO3ZhciBNPSEwLEM9ITEsTD12b2lkIDA7dHJ5e2Zvcih2YXIgSSxSPWQudmFsdWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoTT0oST1SLm5leHQoKSkuZG9uZSk7TT0hMCl7dmFyIE49SS52YWx1ZTtOLmxheWVyJiZ4LnB1c2goTil9fWNhdGNoKHQpe0M9ITAsTD10fWZpbmFsbHl7dHJ5e018fG51bGw9PVIucmV0dXJufHxSLnJldHVybigpfWZpbmFsbHl7aWYoQyl0aHJvdyBMfX1pZighUC5waWNrZWRDb2xvcilicmVha31mb3IodmFyIEQgaW4gayllW0RdLnJlc3RvcmVQaWNraW5nQ29sb3JzKCk7cmV0dXJue3Jlc3VsdDp4LGVtcHR5SW5mbzpkJiZkLmdldChudWxsKX19fSx7a2V5OiJfcGlja1Zpc2libGVPYmplY3RzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxheWVycyxuPXQudmlld3BvcnRzLHI9dC54LGk9dC55LGE9dC53aWR0aCxvPXZvaWQgMD09PWE/MTphLHM9dC5oZWlnaHQsdT12b2lkIDA9PT1zPzE6cyxjPXQubW9kZSxsPXZvaWQgMD09PWM/InF1ZXJ5IjpjLGg9dC5vblZpZXdwb3J0QWN0aXZlO2U9dGhpcy5fZ2V0UGlja2FibGUoZSksdGhpcy5fcmVzaXplQnVmZmVyKCk7dmFyIGQ9T2JqZWN0KHcuYykodGhpcy5nbCksdj1PYmplY3Qody5iKSh0aGlzLmdsLFtyLGldLCEwKSxwPXYueCxnPXYueSt2LmhlaWdodCx5PU9iamVjdCh3LmIpKHRoaXMuZ2wsW3IrbyxpK3VdLCEwKSxtPXkueCt5LndpZHRoLGI9eS55LF89e3g6cCx5OmIsd2lkdGg6bS1wLGhlaWdodDpnLWJ9LE89ZnVuY3Rpb24odCl7dmFyIGU9dC5waWNrZWRDb2xvcnMsbj10LmxheWVycyxyPW5ldyBNYXA7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krPTQpe3ZhciBhPWVbaSszXS0xO2lmKGE+PTApe3ZhciBvPWUuc2xpY2UoaSxpKzQpLHM9by5qb2luKCIsIik7aWYoIXIuaGFzKHMpKXt2YXIgdT1uW2FdO3U/ci5zZXQocyx7cGlja2VkQ29sb3I6byxwaWNrZWRMYXllcjp1LHBpY2tlZE9iamVjdEluZGV4OnUuZGVjb2RlUGlja2luZ0NvbG9yKG8pfSk6Zi5hLmVycm9yKCJQaWNrZWQgbm9uLWV4aXN0ZW50IGxheWVyLiBJcyBwaWNraW5nIGJ1ZmZlciBjb3JydXB0PyIpKCl9fX1yZXR1cm4gQXJyYXkuZnJvbShyLnZhbHVlcygpKX0oe3BpY2tlZENvbG9yczp0aGlzLl9kcmF3QW5kU2FtcGxlKHtsYXllcnM6ZSx2aWV3cG9ydHM6bixvblZpZXdwb3J0QWN0aXZlOmgsZGV2aWNlUmVjdDpfLHBhc3M6InBpY2tpbmc6Ii5jb25jYXQobCkscmVkcmF3UmVhc29uOmx9KSxsYXllcnM6ZX0pLHg9bmV3IE1hcDtyZXR1cm4gTy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT17Y29sb3I6dC5waWNrZWRDb2xvcixsYXllcjpudWxsLGluZGV4OnQucGlja2VkT2JqZWN0SW5kZXgscGlja2VkOiEwLHg6cix5Omksd2lkdGg6byxoZWlnaHQ6dSxwaXhlbFJhdGlvOmR9O2U9RSh7bGF5ZXI6dC5waWNrZWRMYXllcixpbmZvOmUsbW9kZTpsfSkseC5oYXMoZS5vYmplY3QpfHx4LnNldChlLm9iamVjdCxlKX0pKSxBcnJheS5mcm9tKHgudmFsdWVzKCkpfX0se2tleToiX2RyYXdBbmRTYW1wbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubGF5ZXJzLG49dC52aWV3cG9ydHMscj10Lm9uVmlld3BvcnRBY3RpdmUsaT10LmRldmljZVJlY3QsYT10LnBhc3Msbz10LnJlZHJhd1JlYXNvbixzPXQucGlja1o7aWYoT2JqZWN0KGwuYSkoaS53aWR0aD4wJiZpLmhlaWdodD4wKSxlLmxlbmd0aDwxKXJldHVybiBudWxsO3ZhciB1PXM/dGhpcy5kZXB0aEZCTzp0aGlzLnBpY2tpbmdGQk87dGhpcy5waWNrTGF5ZXJzUGFzcy5yZW5kZXIoe2xheWVyczplLGxheWVyRmlsdGVyOnRoaXMubGF5ZXJGaWx0ZXIsb25FcnJvcjp0aGlzLl9vbkVycm9yLHZpZXdwb3J0czpuLG9uVmlld3BvcnRBY3RpdmU6cixwaWNraW5nRkJPOnUsZGV2aWNlUmVjdDppLHBhc3M6YSxyZWRyYXdSZWFzb246byxwaWNrWjpzfSk7dmFyIGM9aS54LGg9aS55LGY9aS53aWR0aCxkPWkuaGVpZ2h0LHY9bmV3KHM/RmxvYXQzMkFycmF5OlVpbnQ4QXJyYXkpKGYqZCo0KTtyZXR1cm4gT2JqZWN0KGsuYykodSx7c291cmNlWDpjLHNvdXJjZVk6aCxzb3VyY2VXaWR0aDpmLHNvdXJjZUhlaWdodDpkLHRhcmdldDp2fSksdn19LHtrZXk6Il9nZXRQaWNraW5nUmVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZXZpY2VYLG49dC5kZXZpY2VZLHI9dC5kZXZpY2VSYWRpdXMsaT10LmRldmljZVdpZHRoLGE9dC5kZXZpY2VIZWlnaHQsbz1NYXRoLm1heCgwLGUtcikscz1NYXRoLm1heCgwLG4tciksdT1NYXRoLm1pbihpLGUrcisxKS1vLGM9TWF0aC5taW4oYSxuK3IrMSktcztyZXR1cm4gdTw9MHx8Yzw9MD9udWxsOnt4Om8seTpzLHdpZHRoOnUsaGVpZ2h0OmN9fX1dKSx0fSgpLE09e3pJbmRleDoxLHBvc2l0aW9uOiJhYnNvbHV0ZSIscG9pbnRlckV2ZW50czoibm9uZSIsY29sb3I6IiNhMGE3YjQiLGJhY2tncm91bmRDb2xvcjoiIzI5MzIzYyIscGFkZGluZzoiMTBweCIsdG9wOjAsbGVmdDowLGRpc3BsYXk6Im5vbmUifSxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtvKCkodGhpcyx0KTt2YXIgbj1lLnBhcmVudEVsZW1lbnQ7biYmKHRoaXMuZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbC5jbGFzc05hbWU9ImRlY2stdG9vbHRpcCIsT2JqZWN0LmFzc2lnbih0aGlzLmVsLnN0eWxlLE0pLG4uYXBwZW5kQ2hpbGQodGhpcy5lbCkpfXJldHVybiB1KCkodCxbe2tleToic2V0VG9vbHRpcCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZWw7aWYoInN0cmluZyI9PXR5cGVvZiB0KXIuaW5uZXJUZXh0PXQ7ZWxzZXtpZighdClyZXR1cm4gdm9pZChyLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTsidGV4dCJpbiB0JiYoci5pbm5lclRleHQ9dC50ZXh0KSwiaHRtbCJpbiB0JiYoci5pbm5lckhUTUw9dC5odG1sKSwiY2xhc3NOYW1lImluIHQmJihyLmNsYXNzTmFtZT10LmNsYXNzTmFtZSksT2JqZWN0LmFzc2lnbihyLnN0eWxlLHQuc3R5bGUpfXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLHIuc3R5bGUudHJhbnNmb3JtPSJ0cmFuc2xhdGUoIi5jb25jYXQoZSwicHgsICIpLmNvbmNhdChuLCJweCkiKX19LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsJiZ0aGlzLmVsLnJlbW92ZSgpfX1dKSx0fSgpLEw9bigxODYpLEk9bigzNSksUj1uKDI1KSxOPW4oNSksRD1uLm4oTiksRj1uKDEzKSx6PW4oNiksQj1uKDcpLFU9bigxNDQpLFY9bigyOCksRz1uKDE3KSxXPW4oMTUpLEg9big0NykscT1uKDE4KSxYPW4oNTIpLFo9bigyNzUpLFk9bigxODcpLEs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHouYSkodGhpcyxlKSwobj1PYmplY3QoRy5hKSh0aGlzLE9iamVjdChXLmEpKGUpLmNhbGwodGhpcyx0LHIpKSkudGFyZ2V0PW51bGwsbi5fcXVlcnlQZW5kaW5nPSExLG4uX3BvbGxpbmdQcm9taXNlPW51bGwsT2JqZWN0LnNlYWwoT2JqZWN0KEguYSkobikpLG59cmV0dXJuIE9iamVjdChxLmEpKGUsdCksT2JqZWN0KEIuYSkoZSxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49T2JqZWN0KHcuZykodCkscj1PYmplY3QoWi5jKSh0LFkuYS5USU1FUl9RVUVSWSksaT1ufHxyLGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShhPSh1PWMubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgbD11LnZhbHVlO3N3aXRjaChsKXtjYXNlInF1ZXJpZXMiOmk9aSYmbjticmVhaztjYXNlInRpbWVycyI6aT1pJiZyO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KFYuYSkoITEpfX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fXJldHVybiBpfX1dKSxPYmplY3QoQi5hKShlLFt7a2V5OiJiZWdpblRpbWVFbGFwc2VkUXVlcnkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4oMzUwMDcpfX0se2tleToiYmVnaW5PY2NsdXNpb25RdWVyeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNvbnNlcnZhdGl2ZSxuPXZvaWQgMCE9PWUmJmU7cmV0dXJuIHRoaXMuYmVnaW4obj8zNjIwMjozNTg4Nyl9fSx7a2V5OiJiZWdpblRyYW5zZm9ybUZlZWRiYWNrUXVlcnkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4oMzU5NzYpfX0se2tleToiYmVnaW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9xdWVyeVBlbmRpbmc/dGhpczoodGhpcy50YXJnZXQ9dCx0aGlzLmdsLmJlZ2luUXVlcnkodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLHRoaXMpfX0se2tleToiZW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWVyeVBlbmRpbmc/dGhpczoodGhpcy50YXJnZXQmJih0aGlzLmdsLmVuZFF1ZXJ5KHRoaXMudGFyZ2V0KSx0aGlzLnRhcmdldD1udWxsLHRoaXMuX3F1ZXJ5UGVuZGluZz0hMCksdGhpcyl9fSx7a2V5OiJpc1Jlc3VsdEF2YWlsYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5fcXVlcnlQZW5kaW5nKXJldHVybiExO3ZhciB0PXRoaXMuZ2wuZ2V0UXVlcnlQYXJhbWV0ZXIodGhpcy5oYW5kbGUsMzQ5MTkpO3JldHVybiB0JiYodGhpcy5fcXVlcnlQZW5kaW5nPSExKSx0fX0se2tleToiaXNUaW1lckRpc2pvaW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmdldFBhcmFtZXRlcigzNjc5NSl9fSx7a2V5OiJnZXRSZXN1bHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0UXVlcnlQYXJhbWV0ZXIodGhpcy5oYW5kbGUsMzQ5MTgpfX0se2tleToiZ2V0VGltZXJNaWxsaXNlY29uZHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVzdWx0KCkvMWU2fX0se2tleToiY3JlYXRlUG9sbCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOk51bWJlci5QT1NJVElWRV9JTkZJTklUWTtpZih0aGlzLl9wb2xsaW5nUHJvbWlzZSlyZXR1cm4gdGhpcy5fcG9sbGluZ1Byb21pc2U7dmFyIG49MDtyZXR1cm4gdGhpcy5fcG9sbGluZ1Byb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbiBhKCl7dC5pc1Jlc3VsdEF2YWlsYWJsZSgpPyhyKHQuZ2V0UmVzdWx0KCkpLHQuX3BvbGxpbmdQcm9taXNlPW51bGwpOm4rKz5lPyhpKCJUaW1lZCBvdXQiKSx0Ll9wb2xsaW5nUHJvbWlzZT1udWxsKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9KSl9KSksdGhpcy5fcG9sbGluZ1Byb21pc2V9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmlzU3VwcG9ydGVkKHRoaXMuZ2wpP3RoaXMuZ2wuY3JlYXRlUXVlcnkoKTpudWxsfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVF1ZXJ5KHRoaXMuaGFuZGxlKX19XSksZX0oWC5hKTtmdW5jdGlvbiBRKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU/d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQpOmNsZWFyVGltZW91dCh0KX12YXIgSiwkLHR0PU9iamVjdChJLmlzQnJvd3NlcikoKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCxldD0wLG50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpO3ZhciBuPWUub25DcmVhdGVDb250ZXh0LHI9dm9pZCAwPT09bj9mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHcuYSkodCl9Om4saT1lLm9uQWRkSFRNTCxhPXZvaWQgMD09PWk/bnVsbDppLG89ZS5vbkluaXRpYWxpemUscz12b2lkIDA9PT1vP2Z1bmN0aW9uKCl7fTpvLHU9ZS5vblJlbmRlcixjPXZvaWQgMD09PXU/ZnVuY3Rpb24oKXt9OnUsbD1lLm9uRmluYWxpemUsaD12b2lkIDA9PT1sP2Z1bmN0aW9uKCl7fTpsLGY9ZS5vbkVycm9yLGQ9ZS5nbCx2PXZvaWQgMD09PWQ/bnVsbDpkLHA9ZS5nbE9wdGlvbnMsZz12b2lkIDA9PT1wP3t9OnAseT1lLmRlYnVnLG09dm9pZCAwIT09eSYmeSxiPWUuY3JlYXRlRnJhbWVidWZmZXIsXz12b2lkIDAhPT1iJiZiLE89ZS5hdXRvUmVzaXplVmlld3BvcnQseD12b2lkIDA9PT1PfHxPLGs9ZS5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlcixTPXZvaWQgMD09PWt8fGssUD1lLnN0YXRzLGo9dm9pZCAwPT09UD9VLmEuZ2V0KCJhbmltYXRpb24tbG9vcC0iLmNvbmNhdChldCsrKSk6UCxUPWUudXNlRGV2aWNlUGl4ZWxzLEU9dm9pZCAwPT09VHx8VDsidXNlRGV2aWNlUGl4ZWxSYXRpbyJpbiBlJiYody5oLmRlcHJlY2F0ZWQoInVzZURldmljZVBpeGVsUmF0aW8iLCJ1c2VEZXZpY2VQaXhlbHMiKSgpLEU9ZS51c2VEZXZpY2VQaXhlbFJhdGlvKSx0aGlzLnByb3BzPXtvbkNyZWF0ZUNvbnRleHQ6cixvbkFkZEhUTUw6YSxvbkluaXRpYWxpemU6cyxvblJlbmRlcjpjLG9uRmluYWxpemU6aCxvbkVycm9yOmYsZ2w6dixnbE9wdGlvbnM6ZyxkZWJ1ZzptLGNyZWF0ZUZyYW1lYnVmZmVyOl99LHRoaXMuZ2w9dix0aGlzLm5lZWRzUmVkcmF3PW51bGwsdGhpcy50aW1lbGluZT1udWxsLHRoaXMuc3RhdHM9aix0aGlzLmNwdVRpbWU9dGhpcy5zdGF0cy5nZXQoIkNQVSBUaW1lIiksdGhpcy5ncHVUaW1lPXRoaXMuc3RhdHMuZ2V0KCJHUFUgVGltZSIpLHRoaXMuZnJhbWVSYXRlPXRoaXMuc3RhdHMuZ2V0KCJGcmFtZSBSYXRlIiksdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5fcnVubmluZz0hMSx0aGlzLl9hbmltYXRpb25GcmFtZUlkPW51bGwsdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCx0aGlzLl9jcHVTdGFydFRpbWU9MCx0aGlzLnNldFByb3BzKHthdXRvUmVzaXplVmlld3BvcnQ6eCxhdXRvUmVzaXplRHJhd2luZ0J1ZmZlcjpTLHVzZURldmljZVBpeGVsczpFfSksdGhpcy5zdGFydD10aGlzLnN0YXJ0LmJpbmQodGhpcyksdGhpcy5zdG9wPXRoaXMuc3RvcC5iaW5kKHRoaXMpLHRoaXMuX3BhZ2VMb2FkUHJvbWlzZT1udWxsLHRoaXMuX29uTW91c2Vtb3ZlPXRoaXMuX29uTW91c2Vtb3ZlLmJpbmQodGhpcyksdGhpcy5fb25Nb3VzZWxlYXZlPXRoaXMuX29uTW91c2VsZWF2ZS5iaW5kKHRoaXMpfXZhciBlO3JldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5fc2V0RGlzcGxheShudWxsKX19LHtrZXk6InNldE5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFYuYSkoInN0cmluZyI9PXR5cGVvZiB0KSx0aGlzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXd8fHQsdGhpc319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4iYXV0b1Jlc2l6ZVZpZXdwb3J0ImluIHQmJih0aGlzLmF1dG9SZXNpemVWaWV3cG9ydD10LmF1dG9SZXNpemVWaWV3cG9ydCksImF1dG9SZXNpemVEcmF3aW5nQnVmZmVyImluIHQmJih0aGlzLmF1dG9SZXNpemVEcmF3aW5nQnVmZmVyPXQuYXV0b1Jlc2l6ZURyYXdpbmdCdWZmZXIpLCJ1c2VEZXZpY2VQaXhlbHMiaW4gdCYmKHRoaXMudXNlRGV2aWNlUGl4ZWxzPXQudXNlRGV2aWNlUGl4ZWxzKSx0aGlzfX0se2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZih0aGlzLl9ydW5uaW5nKXJldHVybiB0aGlzO3RoaXMuX3J1bm5pbmc9ITA7dmFyIG49dGhpcy5fZ2V0UGFnZUxvYWRQcm9taXNlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4hdC5fcnVubmluZ3x8dC5faW5pdGlhbGl6ZWQ/bnVsbDoodC5fY3JlYXRlV2ViR0xDb250ZXh0KGUpLHQuX2NyZWF0ZUZyYW1lYnVmZmVyKCksdC5fc3RhcnRFdmVudEhhbmRsaW5nKCksdC5faW5pdGlhbGl6ZUNhbGxiYWNrRGF0YSgpLHQuX3VwZGF0ZUNhbGxiYWNrRGF0YSgpLHQuX3Jlc2l6ZUNhbnZhc0RyYXdpbmdCdWZmZXIoKSx0Ll9yZXNpemVWaWV3cG9ydCgpLHQuX2dwdVRpbWVRdWVyeT1LLmlzU3VwcG9ydGVkKHQuZ2wsWyJ0aW1lcnMiXSk/bmV3IEsodC5nbCk6bnVsbCx0Ll9pbml0aWFsaXplZD0hMCx0Lm9uSW5pdGlhbGl6ZSh0LmFuaW1hdGlvblByb3BzKSl9KSkudGhlbigoZnVuY3Rpb24oZSl7dC5fcnVubmluZyYmKHQuX2FkZENhbGxiYWNrRGF0YShlfHx7fSksITEhPT1lJiZ0Ll9zdGFydExvb3AoKSl9KSk7cmV0dXJuIHRoaXMucHJvcHMub25FcnJvciYmbi5jYXRjaCh0aGlzLnByb3BzLm9uRXJyb3IpLHRoaXN9fSx7a2V5OiJyZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JlZ2luVGltZXJzKCksdGhpcy5fc2V0dXBGcmFtZSgpLHRoaXMuX3VwZGF0ZUNhbGxiYWNrRGF0YSgpLHRoaXMuX3JlbmRlckZyYW1lKHRoaXMuYW5pbWF0aW9uUHJvcHMpLHRoaXMuX2NsZWFyTmVlZHNSZWRyYXcoKSx0aGlzLm9mZlNjcmVlbiYmdGhpcy5nbC5jb21taXQmJnRoaXMuZ2wuY29tbWl0KCksdGhpcy5fcmVzb2x2ZU5leHRGcmFtZSYmKHRoaXMuX3Jlc29sdmVOZXh0RnJhbWUodGhpcyksdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCksdGhpcy5fZW5kVGltZXJzKCksdGhpc319LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bm5pbmcmJih0aGlzLl9maW5hbGl6ZUNhbGxiYWNrRGF0YSgpLFEodGhpcy5fYW5pbWF0aW9uRnJhbWVJZCksdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCx0aGlzLl9hbmltYXRpb25GcmFtZUlkPW51bGwsdGhpcy5fcnVubmluZz0hMSksdGhpc319LHtrZXk6ImF0dGFjaFRpbWVsaW5lIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lbGluZT10LHRoaXMudGltZWxpbmV9fSx7a2V5OiJkZXRhY2hUaW1lbGluZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRpbWVsaW5lPW51bGx9fSx7a2V5OiJ3YWl0Rm9yUmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuc2V0TmVlZHNSZWRyYXcoIndhaXRGb3JSZW5kZXIiKSx0aGlzLl9uZXh0RnJhbWVQcm9taXNlfHwodGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5fcmVzb2x2ZU5leHRGcmFtZT1lfSkpKSx0aGlzLl9uZXh0RnJhbWVQcm9taXNlfX0se2tleToidG9EYXRhVVJMIix2YWx1ZTooZT1PYmplY3QoRi5hKShELmEubWFyaygoZnVuY3Rpb24gdCgpe3JldHVybiBELmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuc2V0TmVlZHNSZWRyYXcoInRvRGF0YVVSTCIpLHQubmV4dD0zLHRoaXMud2FpdEZvclJlbmRlcigpO2Nhc2UgMzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdGhpcy5nbC5jYW52YXMudG9EYXRhVVJMKCkpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Im9uQ3JlYXRlQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLnByb3BzKS5vbkNyZWF0ZUNvbnRleHQuYXBwbHkodCxhcmd1bWVudHMpfX0se2tleToib25Jbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMucHJvcHMpLm9uSW5pdGlhbGl6ZS5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OiJvblJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLnByb3BzKS5vblJlbmRlci5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OiJvbkZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMucHJvcHMpLm9uRmluYWxpemUuYXBwbHkodCxhcmd1bWVudHMpfX0se2tleToiZ2V0SFRNTENvbnRyb2xWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtyZXR1cm4gbj9OdW1iZXIobi52YWx1ZSk6ZX19LHtrZXk6InNldFZpZXdQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB3LmgucmVtb3ZlZCgiQW5pbWF0aW9uTG9vcC5zZXRWaWV3UGFyYW1ldGVycyIsIkFuaW1hdGlvbkxvb3Auc2V0UHJvcHMiKSgpLHRoaXN9fSx7a2V5OiJfc3RhcnRMb29wIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7USh0aGlzLl9hbmltYXRpb25GcmFtZUlkKSx0aGlzLl9hbmltYXRpb25GcmFtZUlkPXRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24gZSgpe3QuX3J1bm5pbmcmJih0LnJlZHJhdygpLHQuX2FuaW1hdGlvbkZyYW1lSWQ9dC5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpKX0pKX19LHtrZXk6Il9nZXRQYWdlTG9hZFByb21pc2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZ2VMb2FkUHJvbWlzZXx8KHRoaXMuX3BhZ2VMb2FkUHJvbWlzZT10dD9uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXt0dCYmImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/dChkb2N1bWVudCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbigpe3QoZG9jdW1lbnQpfSkpfSkpOlByb21pc2UucmVzb2x2ZSh7fSkpLHRoaXMuX3BhZ2VMb2FkUHJvbWlzZX19LHtrZXk6Il9zZXREaXNwbGF5Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmRpc3BsYXkmJih0aGlzLmRpc3BsYXkuZGVsZXRlKCksdGhpcy5kaXNwbGF5LmFuaW1hdGlvbkxvb3A9bnVsbCksdCYmKHQuYW5pbWF0aW9uTG9vcD10aGlzKSx0aGlzLmRpc3BsYXk9dH19LHtrZXk6Il9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuZGlzcGxheSYmdGhpcy5kaXNwbGF5LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KXx8KGU9dCwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnNldFRpbWVvdXQoZSwxZTMvNjApKX19LHtrZXk6Il9yZW5kZXJGcmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmRpc3BsYXk/KHQ9dGhpcy5kaXNwbGF5KS5fcmVuZGVyRnJhbWUuYXBwbHkodCxhcmd1bWVudHMpOnRoaXMub25SZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0se2tleToiX2NsZWFyTmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5uZWVkc1JlZHJhdz1udWxsfX0se2tleToiX3NldHVwRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fb25TZXR1cEZyYW1lP3RoaXMuX29uU2V0dXBGcmFtZSh0aGlzLmFuaW1hdGlvblByb3BzKToodGhpcy5fcmVzaXplQ2FudmFzRHJhd2luZ0J1ZmZlcigpLHRoaXMuX3Jlc2l6ZVZpZXdwb3J0KCksdGhpcy5fcmVzaXplRnJhbWVidWZmZXIoKSl9fSx7a2V5OiJfaW5pdGlhbGl6ZUNhbGxiYWNrRGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvblByb3BzPXtnbDp0aGlzLmdsLHN0b3A6dGhpcy5zdG9wLGNhbnZhczp0aGlzLmdsLmNhbnZhcyxmcmFtZWJ1ZmZlcjp0aGlzLmZyYW1lYnVmZmVyLHVzZURldmljZVBpeGVsczp0aGlzLnVzZURldmljZVBpeGVscyxuZWVkc1JlZHJhdzpudWxsLHN0YXJ0VGltZTpEYXRlLm5vdygpLGVuZ2luZVRpbWU6MCx0aWNrOjAsdG9jazowLHRpbWU6MCxfdGltZWxpbmU6dGhpcy50aW1lbGluZSxfbG9vcDp0aGlzLF9hbmltYXRpb25Mb29wOnRoaXMsX21vdXNlUG9zaXRpb246bnVsbH19fSx7a2V5OiJfdXBkYXRlQ2FsbGJhY2tEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFNpemVBbmRBc3BlY3QoKSxlPXQud2lkdGgsbj10LmhlaWdodCxyPXQuYXNwZWN0O2U9PT10aGlzLmFuaW1hdGlvblByb3BzLndpZHRoJiZuPT09dGhpcy5hbmltYXRpb25Qcm9wcy5oZWlnaHR8fHRoaXMuc2V0TmVlZHNSZWRyYXcoImRyYXdpbmcgYnVmZmVyIHJlc2l6ZWQiKSxyIT09dGhpcy5hbmltYXRpb25Qcm9wcy5hc3BlY3QmJnRoaXMuc2V0TmVlZHNSZWRyYXcoImRyYXdpbmcgYnVmZmVyIGFzcGVjdCBjaGFuZ2VkIiksdGhpcy5hbmltYXRpb25Qcm9wcy53aWR0aD1lLHRoaXMuYW5pbWF0aW9uUHJvcHMuaGVpZ2h0PW4sdGhpcy5hbmltYXRpb25Qcm9wcy5hc3BlY3Q9cix0aGlzLmFuaW1hdGlvblByb3BzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXcsdGhpcy5hbmltYXRpb25Qcm9wcy5lbmdpbmVUaW1lPURhdGUubm93KCktdGhpcy5hbmltYXRpb25Qcm9wcy5zdGFydFRpbWUsdGhpcy50aW1lbGluZSYmdGhpcy50aW1lbGluZS51cGRhdGUodGhpcy5hbmltYXRpb25Qcm9wcy5lbmdpbmVUaW1lKSx0aGlzLmFuaW1hdGlvblByb3BzLnRpY2s9TWF0aC5mbG9vcih0aGlzLmFuaW1hdGlvblByb3BzLnRpbWUvMWUzKjYwKSx0aGlzLmFuaW1hdGlvblByb3BzLnRvY2srKyx0aGlzLmFuaW1hdGlvblByb3BzLnRpbWU9dGhpcy50aW1lbGluZT90aGlzLnRpbWVsaW5lLmdldFRpbWUoKTp0aGlzLmFuaW1hdGlvblByb3BzLmVuZ2luZVRpbWUsdGhpcy5hbmltYXRpb25Qcm9wcy5fb2ZmU2NyZWVuPXRoaXMub2ZmU2NyZWVufX0se2tleToiX2ZpbmFsaXplQ2FsbGJhY2tEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub25GaW5hbGl6ZSh0aGlzLmFuaW1hdGlvblByb3BzKX19LHtrZXk6Il9hZGRDYWxsYmFja0RhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpeyJvYmplY3QiPT09T2JqZWN0KFIuYSkodCkmJm51bGwhPT10JiYodGhpcy5hbmltYXRpb25Qcm9wcz1PYmplY3QuYXNzaWduKHt9LHRoaXMuYW5pbWF0aW9uUHJvcHMsdCkpfX0se2tleToiX2NyZWF0ZVdlYkdMQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5vZmZTY3JlZW49dC5jYW52YXMmJiJ1bmRlZmluZWQiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZ0LmNhbnZhcyBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcyx0PU9iamVjdC5hc3NpZ24oe30sdCx0aGlzLnByb3BzLmdsT3B0aW9ucyksdGhpcy5nbD10aGlzLnByb3BzLmdsP09iamVjdCh3LmUpKHRoaXMucHJvcHMuZ2wsdCk6dGhpcy5vbkNyZWF0ZUNvbnRleHQodCksIU9iamVjdCh3LmYpKHRoaXMuZ2wpKXRocm93IG5ldyBFcnJvcigiQW5pbWF0aW9uTG9vcC5vbkNyZWF0ZUNvbnRleHQgLSBpbGxlZ2FsIGNvbnRleHQgcmV0dXJuZWQiKTtPYmplY3Qody5pKSh0aGlzLmdsKSx0aGlzLl9jcmVhdGVJbmZvRGl2KCl9fSx7a2V5OiJfY3JlYXRlSW5mb0RpdiIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmdsLmNhbnZhcyYmdGhpcy5wcm9wcy5vbkFkZEhUTUwpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksdC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlLnN0eWxlLmxlZnQ9IjEwcHgiLGUuc3R5bGUuYm90dG9tPSIxMHB4IixlLnN0eWxlLndpZHRoPSIzMDBweCIsZS5zdHlsZS5iYWNrZ3JvdW5kPSJ3aGl0ZSIsdC5hcHBlbmRDaGlsZCh0aGlzLmdsLmNhbnZhcyksdC5hcHBlbmRDaGlsZChlKTt2YXIgbj10aGlzLnByb3BzLm9uQWRkSFRNTChlKTtuJiYoZS5pbm5lckhUTUw9bil9fX0se2tleToiX2dldFNpemVBbmRBc3BlY3QiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsZT10aGlzLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsbj0xLHI9dGhpcy5nbC5jYW52YXM7cmV0dXJuIHImJnIuY2xpZW50SGVpZ2h0P249ci5jbGllbnRXaWR0aC9yLmNsaWVudEhlaWdodDp0PjAmJmU+MCYmKG49dC9lKSx7d2lkdGg6dCxoZWlnaHQ6ZSxhc3BlY3Q6bn19fSx7a2V5OiJfcmVzaXplVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hdXRvUmVzaXplVmlld3BvcnQmJnRoaXMuZ2wudmlld3BvcnQoMCwwLHRoaXMuZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLHRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCl9fSx7a2V5OiJfcmVzaXplQ2FudmFzRHJhd2luZ0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9SZXNpemVEcmF3aW5nQnVmZmVyJiZPYmplY3Qody5qKSh0aGlzLmdsLHt1c2VEZXZpY2VQaXhlbHM6dGhpcy51c2VEZXZpY2VQaXhlbHN9KX19LHtrZXk6Il9jcmVhdGVGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLmNyZWF0ZUZyYW1lYnVmZmVyJiYodGhpcy5mcmFtZWJ1ZmZlcj1uZXcgTy5hKHRoaXMuZ2wpKX19LHtrZXk6Il9yZXNpemVGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyYW1lYnVmZmVyJiZ0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh7d2lkdGg6dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsaGVpZ2h0OnRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH0pfX0se2tleToiX2JlZ2luVGltZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJhbWVSYXRlLnRpbWVFbmQoKSx0aGlzLmZyYW1lUmF0ZS50aW1lU3RhcnQoKSx0aGlzLl9ncHVUaW1lUXVlcnkmJnRoaXMuX2dwdVRpbWVRdWVyeS5pc1Jlc3VsdEF2YWlsYWJsZSgpJiYhdGhpcy5fZ3B1VGltZVF1ZXJ5LmlzVGltZXJEaXNqb2ludCgpJiZ0aGlzLnN0YXRzLmdldCgiR1BVIFRpbWUiKS5hZGRUaW1lKHRoaXMuX2dwdVRpbWVRdWVyeS5nZXRUaW1lck1pbGxpc2Vjb25kcygpKSx0aGlzLl9ncHVUaW1lUXVlcnkmJnRoaXMuX2dwdVRpbWVRdWVyeS5iZWdpblRpbWVFbGFwc2VkUXVlcnkoKSx0aGlzLmNwdVRpbWUudGltZVN0YXJ0KCl9fSx7a2V5OiJfZW5kVGltZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY3B1VGltZS50aW1lRW5kKCksdGhpcy5fZ3B1VGltZVF1ZXJ5JiZ0aGlzLl9ncHVUaW1lUXVlcnkuZW5kKCl9fSx7a2V5OiJfc3RhcnRFdmVudEhhbmRsaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2wuY2FudmFzO3QmJih0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZW1vdmUpLHQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsdGhpcy5fb25Nb3VzZWxlYXZlKSl9fSx7a2V5OiJfb25Nb3VzZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9uUHJvcHMuX21vdXNlUG9zaXRpb249W3Qub2Zmc2V0WCx0Lm9mZnNldFldfX0se2tleToiX29uTW91c2VsZWF2ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25Qcm9wcy5fbW91c2VQb3NpdGlvbj1udWxsfX1dKSx0fSgpLHJ0PW4oMjc2KSxpdD1uKDEzMSksYXQ9bigzMSksb3Q9bigxNDUpLHN0PW4ubihvdCksdXQ9e21vdXNlZG93bjoxLG1vdXNlbW92ZToyLG1vdXNldXA6NH07Sj1zdC5hLlBvaW50ZXJFdmVudElucHV0LCQ9Si5wcm90b3R5cGUuaGFuZGxlcixKLnByb3RvdHlwZS5oYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcmU7dC5idXR0b24+MCYmKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoZSh0W25dKSlyZXR1cm4hMDtyZXR1cm4hMX0oZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUucG9pbnRlcklkPT09dC5wb2ludGVySWR9KSl8fGUucHVzaCh0KSksJC5jYWxsKHRoaXMsdCl9LHN0LmEuTW91c2VJbnB1dC5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT11dFt0LnR5cGVdOzEmZSYmdC5idXR0b24+PTAmJih0aGlzLnByZXNzZWQ9ITApLDImZSYmMD09PXQud2hpY2gmJihlPTQpLHRoaXMucHJlc3NlZCYmKDQmZSYmKHRoaXMucHJlc3NlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6W3RdLGNoYW5nZWRQb2ludGVyczpbdF0scG9pbnRlclR5cGU6Im1vdXNlIixzcmNFdmVudDp0fSkpfTt2YXIgY3Q9c3QuYS5NYW5hZ2VyLGx0PXN0LmEsaHQ9bHQ/W1tsdC5Sb3RhdGUse2VuYWJsZTohMX1dLFtsdC5QaW5jaCx7ZW5hYmxlOiExfV0sW2x0LlN3aXBlLHtlbmFibGU6ITF9XSxbbHQuUGFuLHt0aHJlc2hvbGQ6MCxlbmFibGU6ITF9XSxbbHQuUHJlc3Mse2VuYWJsZTohMX1dLFtsdC5UYXAse2V2ZW50OiJkb3VibGV0YXAiLHRhcHM6MixlbmFibGU6ITF9XSxbbHQuVGFwLHtldmVudDoiYW55dGFwIixlbmFibGU6ITF9XSxbbHQuVGFwLHtlbmFibGU6ITF9XV06bnVsbCxmdD17cm90YXRlOlsicGluY2giXSxwYW46WyJwcmVzcyIsImRvdWJsZXRhcCIsImFueXRhcCIsInRhcCJdLGRvdWJsZXRhcDpbImFueXRhcCJdLGFueXRhcDpbInRhcCJdfSxkdD17ZG91YmxldGFwOlsidGFwIl19LHZ0PXtwb2ludGVyZG93bjoicG9pbnRlcmRvd24iLHBvaW50ZXJtb3ZlOiJwb2ludGVybW92ZSIscG9pbnRlcnVwOiJwb2ludGVydXAiLHRvdWNoc3RhcnQ6InBvaW50ZXJkb3duIix0b3VjaG1vdmU6InBvaW50ZXJtb3ZlIix0b3VjaGVuZDoicG9pbnRlcnVwIixtb3VzZWRvd246InBvaW50ZXJkb3duIixtb3VzZW1vdmU6InBvaW50ZXJtb3ZlIixtb3VzZXVwOiJwb2ludGVydXAifSxwdD1bImtleWRvd24iLCJrZXl1cCJdLGd0PVsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2VsZWF2ZSJdLHl0PVsid2hlZWwiLCJtb3VzZXdoZWVsIiwiRE9NTW91c2VTY3JvbGwiXSxtdD17dGFwOiJ0YXAiLGFueXRhcDoiYW55dGFwIixkb3VibGV0YXA6ImRvdWJsZXRhcCIscHJlc3M6InByZXNzIixwaW5jaDoicGluY2giLHBpbmNoaW46InBpbmNoIixwaW5jaG91dDoicGluY2giLHBpbmNoc3RhcnQ6InBpbmNoIixwaW5jaG1vdmU6InBpbmNoIixwaW5jaGVuZDoicGluY2giLHBpbmNoY2FuY2VsOiJwaW5jaCIscm90YXRlOiJyb3RhdGUiLHJvdGF0ZXN0YXJ0OiJyb3RhdGUiLHJvdGF0ZW1vdmU6InJvdGF0ZSIscm90YXRlZW5kOiJyb3RhdGUiLHJvdGF0ZWNhbmNlbDoicm90YXRlIixwYW46InBhbiIscGFuc3RhcnQ6InBhbiIscGFubW92ZToicGFuIixwYW51cDoicGFuIixwYW5kb3duOiJwYW4iLHBhbmxlZnQ6InBhbiIscGFucmlnaHQ6InBhbiIscGFuZW5kOiJwYW4iLHBhbmNhbmNlbDoicGFuIixzd2lwZToic3dpcGUiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIixzd2lwZXVwOiJzd2lwZSIsc3dpcGVkb3duOiJzd2lwZSJ9LGJ0PXtjbGljazoidGFwIixhbnljbGljazoiYW55dGFwIixkYmxjbGljazoiZG91YmxldGFwIixtb3VzZWRvd246InBvaW50ZXJkb3duIixtb3VzZW1vdmU6InBvaW50ZXJtb3ZlIixtb3VzZXVwOiJwb2ludGVydXAiLG1vdXNlb3ZlcjoicG9pbnRlcm92ZXIiLG1vdXNlb3V0OiJwb2ludGVyb3V0Iixtb3VzZWxlYXZlOiJwb2ludGVybGVhdmUifSxfdD0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk6IiIsT3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCx4dD0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdywidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCwhMSk7dHJ5e3ZhciB3dD17Z2V0IHBhc3NpdmUoKXtyZXR1cm4geHQ9ITAsITB9fTtPdC5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0Iix3dCx3dCksT3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsd3Qsd3QpfWNhdGNoKHQpe312YXIga3Q9LTEhPT1fdC5pbmRleE9mKCJmaXJlZm94IiksU3Q9eXQsUHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpLHRoaXMuZWxlbWVudD1lLHRoaXMuY2FsbGJhY2s9bix0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZW5hYmxlOiEwfSxpKSx0aGlzLmV2ZW50cz1TdC5jb25jYXQoaS5ldmVudHN8fFtdKSx0aGlzLmhhbmRsZUV2ZW50PXRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzKSx0aGlzLmV2ZW50cy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQsci5oYW5kbGVFdmVudCwhIXh0JiZ7cGFzc2l2ZTohMX0pfSkpfXJldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5oYW5kbGVFdmVudCl9KSl9fSx7a2V5OiJlbmFibGVFdmVudFR5cGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7IndoZWVsIj09PXQmJih0aGlzLm9wdGlvbnMuZW5hYmxlPWUpfX0se2tleToiaGFuZGxlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5lbmFibGUpe3ZhciBlPXQuZGVsdGFZO090LldoZWVsRXZlbnQmJihrdCYmdC5kZWx0YU1vZGU9PT1PdC5XaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCYmKGUvPU90LmRldmljZVBpeGVsUmF0aW8pLHQuZGVsdGFNb2RlPT09T3QuV2hlZWxFdmVudC5ET01fREVMVEFfTElORSYmKGUqPTQwKSk7dmFyIG49e3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfTswIT09ZSYmZSU0LjAwMDI0NDE0MDYyNT09MCYmKGU9TWF0aC5mbG9vcihlLzQuMDAwMjQ0MTQwNjI1KSksdC5zaGlmdEtleSYmZSYmKGUqPS4yNSksdGhpcy5fb25XaGVlbCh0LC1lLG4pfX19LHtrZXk6Il9vbldoZWVsIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5jYWxsYmFjayh7dHlwZToid2hlZWwiLGNlbnRlcjpuLGRlbHRhOmUsc3JjRXZlbnQ6dCxwb2ludGVyVHlwZToibW91c2UiLHRhcmdldDp0LnRhcmdldH0pfX1dKSx0fSgpLGp0PWd0LFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307T2JqZWN0KHouYSkodGhpcyx0KSx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNhbGxiYWNrPW4sdGhpcy5wcmVzc2VkPSExLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHtlbmFibGU6ITB9LGkpLHRoaXMuZW5hYmxlTW92ZUV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5lbmFibGVMZWF2ZUV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5lbmFibGVPdXRFdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZW5hYmxlT3ZlckV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5ldmVudHM9anQuY29uY2F0KGkuZXZlbnRzfHxbXSksdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksdGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcih0LHIuaGFuZGxlRXZlbnQpfSkpfXJldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdC5oYW5kbGVFdmVudCl9KSl9fSx7a2V5OiJlbmFibGVFdmVudFR5cGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7InBvaW50ZXJtb3ZlIj09PXQmJih0aGlzLmVuYWJsZU1vdmVFdmVudD1lKSwicG9pbnRlcm92ZXIiPT09dCYmKHRoaXMuZW5hYmxlT3ZlckV2ZW50PWUpLCJwb2ludGVyb3V0Ij09PXQmJih0aGlzLmVuYWJsZU91dEV2ZW50PWUpLCJwb2ludGVybGVhdmUiPT09dCYmKHRoaXMuZW5hYmxlTGVhdmVFdmVudD1lKX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZU92ZXJFdmVudCh0KSx0aGlzLmhhbmRsZU91dEV2ZW50KHQpLHRoaXMuaGFuZGxlTGVhdmVFdmVudCh0KSx0aGlzLmhhbmRsZU1vdmVFdmVudCh0KX19LHtrZXk6ImhhbmRsZU92ZXJFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lbmFibGVPdmVyRXZlbnQmJiJtb3VzZW92ZXIiPT09dC50eXBlJiZ0aGlzLmNhbGxiYWNrKHt0eXBlOiJwb2ludGVyb3ZlciIsc3JjRXZlbnQ6dCxwb2ludGVyVHlwZToibW91c2UiLHRhcmdldDp0LnRhcmdldH0pfX0se2tleToiaGFuZGxlT3V0RXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW5hYmxlT3V0RXZlbnQmJiJtb3VzZW91dCI9PT10LnR5cGUmJnRoaXMuY2FsbGJhY2soe3R5cGU6InBvaW50ZXJvdXQiLHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KX19LHtrZXk6ImhhbmRsZUxlYXZlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW5hYmxlTGVhdmVFdmVudCYmIm1vdXNlbGVhdmUiPT09dC50eXBlJiZ0aGlzLmNhbGxiYWNrKHt0eXBlOiJwb2ludGVybGVhdmUiLHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KX19LHtrZXk6ImhhbmRsZU1vdmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5lbmFibGVNb3ZlRXZlbnQpc3dpdGNoKHQudHlwZSl7Y2FzZSJtb3VzZWRvd24iOnQuYnV0dG9uPj0wJiYodGhpcy5wcmVzc2VkPSEwKTticmVhaztjYXNlIm1vdXNlbW92ZSI6MD09PXQud2hpY2gmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMucHJlc3NlZHx8dGhpcy5jYWxsYmFjayh7dHlwZToicG9pbnRlcm1vdmUiLHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KTticmVhaztjYXNlIm1vdXNldXAiOnRoaXMucHJlc3NlZD0hMX19fV0pLHR9KCksRXQ9cHQsQXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpLHRoaXMuZWxlbWVudD1lLHRoaXMuY2FsbGJhY2s9bix0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZW5hYmxlOiEwfSxpKSx0aGlzLmVuYWJsZURvd25FdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZW5hYmxlVXBFdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZXZlbnRzPUV0LmNvbmNhdChpLmV2ZW50c3x8W10pLHRoaXMuaGFuZGxlRXZlbnQ9dGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpLGUudGFiSW5kZXg9MSxlLnN0eWxlLm91dGxpbmU9Im5vbmUiLHRoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIodCxyLmhhbmRsZUV2ZW50KX0pKX1yZXR1cm4gT2JqZWN0KEIuYSkodCxbe2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQuaGFuZGxlRXZlbnQpfSkpfX0se2tleToiZW5hYmxlRXZlbnRUeXBlIix2YWx1ZTpmdW5jdGlvbih0LGUpeyJrZXlkb3duIj09PXQmJih0aGlzLmVuYWJsZURvd25FdmVudD1lKSwia2V5dXAiPT09dCYmKHRoaXMuZW5hYmxlVXBFdmVudD1lKX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldHx8dC5zcmNFbGVtZW50OyJJTlBVVCI9PT1lLnRhZ05hbWUmJiJ0ZXh0Ij09PWUudHlwZXx8IlRFWFRBUkVBIj09PWUudGFnTmFtZXx8KHRoaXMuZW5hYmxlRG93bkV2ZW50JiYia2V5ZG93biI9PT10LnR5cGUmJnRoaXMuY2FsbGJhY2soe3R5cGU6ImtleWRvd24iLHNyY0V2ZW50OnQsa2V5OnQua2V5LHRhcmdldDp0LnRhcmdldH0pLHRoaXMuZW5hYmxlVXBFdmVudCYmImtleXVwIj09PXQudHlwZSYmdGhpcy5jYWxsYmFjayh7dHlwZToia2V5dXAiLHNyY0V2ZW50OnQsa2V5OnQua2V5LHRhcmdldDp0LnRhcmdldH0pKX19XSksdH0oKSxNdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307T2JqZWN0KHouYSkodGhpcyx0KSx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNhbGxiYWNrPW4sdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe2VuYWJsZTohMH0sciksdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5oYW5kbGVFdmVudCl9cmV0dXJuIE9iamVjdChCLmEpKHQsW3trZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLmhhbmRsZUV2ZW50KX19LHtrZXk6ImVuYWJsZUV2ZW50VHlwZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXsiY29udGV4dG1lbnUiPT09dCYmKHRoaXMub3B0aW9ucy5lbmFibGU9ZSl9fSx7a2V5OiJoYW5kbGVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLmVuYWJsZSYmdGhpcy5jYWxsYmFjayh7dHlwZToiY29udGV4dG1lbnUiLGNlbnRlcjp7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LHNyY0V2ZW50OnQscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6dC50YXJnZXR9KX19XSksdH0oKSxDdD17cG9pbnRlcmRvd246MSxwb2ludGVybW92ZToyLHBvaW50ZXJ1cDo0LG1vdXNlZG93bjoxLG1vdXNlbW92ZToyLG1vdXNldXA6NH07dmFyIEx0PXtzcmNFbGVtZW50OiJyb290Iixwcmlvcml0eTowfSxJdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7T2JqZWN0KHouYSkodGhpcyx0KSx0aGlzLmV2ZW50TWFuYWdlcj1lLHRoaXMuaGFuZGxlcnM9W10sdGhpcy5oYW5kbGVyc0J5RWxlbWVudD1uZXcgTWFwLHRoaXMuaGFuZGxlRXZlbnQ9dGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpfXJldHVybiBPYmplY3QoQi5hKSh0LFt7a2V5OiJpc0VtcHR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5oYW5kbGVycy5sZW5ndGh9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGk9dGhpcy5oYW5kbGVycyxhPXRoaXMuaGFuZGxlcnNCeUVsZW1lbnQ7biYmKCJvYmplY3QiIT09T2JqZWN0KFIuYSkobil8fG4uYWRkRXZlbnRMaXN0ZW5lcikmJihuPXtzcmNFbGVtZW50Om59KSxuPW4/T2JqZWN0LmFzc2lnbih7fSxMdCxuKTpMdDt2YXIgbz1hLmdldChuLnNyY0VsZW1lbnQpO298fChvPVtdLGEuc2V0KG4uc3JjRWxlbWVudCxvKSk7dmFyIHM9e3R5cGU6dCxoYW5kbGVyOmUsc3JjRWxlbWVudDpuLnNyY0VsZW1lbnQscHJpb3JpdHk6bi5wcmlvcml0eSxvbmNlOnJ9O2kucHVzaChzKTtmb3IodmFyIHU9by5sZW5ndGgtMTt1Pj0wJiYhKG9bdV0ucHJpb3JpdHk+PXMucHJpb3JpdHkpOyl1LS07by5zcGxpY2UodSsxLDAscyl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuaGFuZGxlcnMscj10aGlzLmhhbmRsZXJzQnlFbGVtZW50LGk9bi5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGE9bltpXTtpZihhLnR5cGU9PT10JiZhLmhhbmRsZXI9PT1lKXtuLnNwbGljZShpLDEpO3ZhciBvPXIuZ2V0KGEuc3JjRWxlbWVudCk7by5zcGxpY2Uoby5pbmRleE9mKGEpLDEpLDA9PT1vLmxlbmd0aCYmci5kZWxldGUoYS5zcmNFbGVtZW50KX19fX0se2tleToiaGFuZGxlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzRW1wdHkoKSl7Zm9yKHZhciBlPXRoaXMuX25vcm1hbGl6ZUV2ZW50KHQpLG49dC5zcmNFdmVudC50YXJnZXQ7biYmbiE9PWUucm9vdEVsZW1lbnQ7KXtpZih0aGlzLl9lbWl0KGUsbiksZS5oYW5kbGVkKXJldHVybjtuPW4ucGFyZW50Tm9kZX10aGlzLl9lbWl0KGUsInJvb3QiKX19fSx7a2V5OiJfZW1pdCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmhhbmRsZXJzQnlFbGVtZW50LmdldChlKTtpZihuKXtmb3IodmFyIHI9ITEsaT1mdW5jdGlvbigpe3QuaGFuZGxlZD0hMH0sYT1mdW5jdGlvbigpe3QuaGFuZGxlZD0hMCxyPSEwfSxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIHU9bltzXSxjPXUudHlwZSxsPXUuaGFuZGxlcixoPXUub25jZTtpZihsKE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpjLHN0b3BQcm9wYWdhdGlvbjppLHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjphfSkpLGgmJm8ucHVzaChuW3NdKSxyKWJyZWFrfWZvcih2YXIgZj0wO2Y8by5sZW5ndGg7ZisrKXt2YXIgZD1vW2ZdO2M9ZC50eXBlLGw9ZC5oYW5kbGVyO3RoaXMucmVtb3ZlKGMsbCl9fX19LHtrZXk6Il9ub3JtYWxpemVFdmVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ldmVudE1hbmFnZXIuZWxlbWVudDtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0LGZ1bmN0aW9uKHQpe3ZhciBlPUN0W3Quc3JjRXZlbnQudHlwZV07aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49dC5zcmNFdmVudCxyPW4uYnV0dG9ucyxpPW4uYnV0dG9uLGE9bi53aGljaCxvPSExLHM9ITEsdT0hMTtyZXR1cm4gND09PWV8fDI9PT1lJiYhTnVtYmVyLmlzRmluaXRlKHIpPyhvPTE9PT1hLHM9Mj09PWEsdT0zPT09YSk6Mj09PWU/KG89Qm9vbGVhbigxJnIpLHM9Qm9vbGVhbig0JnIpLHU9Qm9vbGVhbigyJnIpKToxPT09ZSYmKG89MD09PWkscz0xPT09aSx1PTI9PT1pKSx7bGVmdEJ1dHRvbjpvLG1pZGRsZUJ1dHRvbjpzLHJpZ2h0QnV0dG9uOnV9fSh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuc3JjRXZlbnQ7aWYoIXQuY2VudGVyJiYhTnVtYmVyLmlzRmluaXRlKG4uY2xpZW50WCkpcmV0dXJuIG51bGw7dmFyIHI9dC5jZW50ZXJ8fHt4Om4uY2xpZW50WCx5Om4uY2xpZW50WX0saT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9aS53aWR0aC9lLm9mZnNldFdpZHRoLG89aS5oZWlnaHQvZS5vZmZzZXRIZWlnaHQ7cmV0dXJue2NlbnRlcjpyLG9mZnNldENlbnRlcjp7eDooci54LWkubGVmdC1lLmNsaWVudExlZnQpL2EseTooci55LWkudG9wLWUuY2xpZW50VG9wKS9vfX19KHQsZSkse2hhbmRsZWQ6ITEscm9vdEVsZW1lbnQ6ZX0pfX1dKSx0fSgpLFJ0PXtldmVudHM6bnVsbCxyZWNvZ25pemVyczpudWxsLHJlY29nbml6ZXJPcHRpb25zOnt9LE1hbmFnZXI6Y3QsdG91Y2hBY3Rpb246Im5vbmUifSxOdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoei5hKSh0aGlzLHQpLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LFJ0LG4pLHRoaXMuZXZlbnRzPW5ldyBNYXAsdGhpcy5fb25CYXNpY0lucHV0PXRoaXMuX29uQmFzaWNJbnB1dC5iaW5kKHRoaXMpLHRoaXMuX29uT3RoZXJFdmVudD10aGlzLl9vbk90aGVyRXZlbnQuYmluZCh0aGlzKSx0aGlzLnNldEVsZW1lbnQoZSk7dmFyIHI9bi5ldmVudHM7ciYmdGhpcy5vbihyKX1yZXR1cm4gT2JqZWN0KEIuYSkodCxbe2tleToic2V0RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmVsZW1lbnQmJnRoaXMuZGVzdHJveSgpLHRoaXMuZWxlbWVudD10LHQpe3ZhciBuPXRoaXMub3B0aW9ucyxyPW4uTWFuYWdlcjtmb3IodmFyIGkgaW4gdGhpcy5tYW5hZ2VyPW5ldyByKHQse3RvdWNoQWN0aW9uOm4udG91Y2hBY3Rpb24scmVjb2duaXplcnM6bi5yZWNvZ25pemVyc3x8aHR9KS5vbigiaGFtbWVyLmlucHV0Iix0aGlzLl9vbkJhc2ljSW5wdXQpLG4ucmVjb2duaXplcnN8fE9iamVjdC5rZXlzKGZ0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1lLm1hbmFnZXIuZ2V0KHQpO24mJmZ0W3RdLmZvckVhY2goKGZ1bmN0aW9uKHQpe24ucmVjb2duaXplV2l0aCh0KX0pKX0pKSxuLnJlY29nbml6ZXJPcHRpb25zKXt2YXIgYT10aGlzLm1hbmFnZXIuZ2V0KGkpO2lmKGEpe3ZhciBvPW4ucmVjb2duaXplck9wdGlvbnNbaV07ZGVsZXRlIG8uZW5hYmxlLGEuc2V0KG8pfX10aGlzLndoZWVsSW5wdXQ9bmV3IFB0KHQsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KSx0aGlzLm1vdmVJbnB1dD1uZXcgVHQodCx0aGlzLl9vbk90aGVyRXZlbnQse2VuYWJsZTohMX0pLHRoaXMua2V5SW5wdXQ9bmV3IEF0KHQsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KSx0aGlzLmNvbnRleHRtZW51SW5wdXQ9bmV3IE10KHQsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KTt2YXIgcz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD10aGlzLmV2ZW50c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1PYmplY3QoYXQuYSkobC52YWx1ZSwyKSxkPWZbMF0sdj1mWzFdO3YuaXNFbXB0eSgpfHwodGhpcy5fdG9nZ2xlUmVjb2duaXplcih2LnJlY29nbml6ZXJOYW1lLCEwKSx0aGlzLm1hbmFnZXIub24oZCx2LmhhbmRsZUV2ZW50KSl9fWNhdGNoKHQpe3U9ITAsYz10fWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX19fX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJih0aGlzLndoZWVsSW5wdXQuZGVzdHJveSgpLHRoaXMubW92ZUlucHV0LmRlc3Ryb3koKSx0aGlzLmtleUlucHV0LmRlc3Ryb3koKSx0aGlzLmNvbnRleHRtZW51SW5wdXQuZGVzdHJveSgpLHRoaXMubWFuYWdlci5kZXN0cm95KCksdGhpcy53aGVlbElucHV0PW51bGwsdGhpcy5tb3ZlSW5wdXQ9bnVsbCx0aGlzLmtleUlucHV0PW51bGwsdGhpcy5jb250ZXh0bWVudUlucHV0PW51bGwsdGhpcy5tYW5hZ2VyPW51bGwsdGhpcy5lbGVtZW50PW51bGwpfX0se2tleToib24iLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9hZGRFdmVudEhhbmRsZXIodCxlLG4sITEpfX0se2tleToib25jZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2FkZEV2ZW50SGFuZGxlcih0LGUsbiwhMCl9fSx7a2V5OiJvZmYiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVyKHQsZSl9fSx7a2V5OiJfdG9nZ2xlUmVjb2duaXplciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1hbmFnZXI7aWYobil7dmFyIHI9bi5nZXQodCk7aWYociYmci5vcHRpb25zLmVuYWJsZSE9PWUpe3Iuc2V0KHtlbmFibGU6ZX0pO3ZhciBpPWR0W3RdO2kmJiF0aGlzLm9wdGlvbnMucmVjb2duaXplcnMmJmkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGE9bi5nZXQoaSk7ZT8oYS5yZXF1aXJlRmFpbHVyZSh0KSxyLmRyb3BSZXF1aXJlRmFpbHVyZShpKSk6YS5kcm9wUmVxdWlyZUZhaWx1cmUodCl9KSl9dGhpcy53aGVlbElucHV0LmVuYWJsZUV2ZW50VHlwZSh0LGUpLHRoaXMubW92ZUlucHV0LmVuYWJsZUV2ZW50VHlwZSh0LGUpLHRoaXMua2V5SW5wdXQuZW5hYmxlRXZlbnRUeXBlKHQsZSksdGhpcy5jb250ZXh0bWVudUlucHV0LmVuYWJsZUV2ZW50VHlwZSh0LGUpfX19LHtrZXk6Il9hZGRFdmVudEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGk9dGhpcy5tYW5hZ2VyLGE9dGhpcy5ldmVudHMsbz1idFt0XXx8dCxzPWEuZ2V0KG8pO3N8fChzPW5ldyBJdCh0aGlzKSxhLnNldChvLHMpLHMucmVjb2duaXplck5hbWU9bXRbb118fG8saSYmaS5vbihvLHMuaGFuZGxlRXZlbnQpKSx0aGlzLl90b2dnbGVSZWNvZ25pemVyKHMucmVjb2duaXplck5hbWUsITApLHMuYWRkKHQsZSxuLHIpfWVsc2UgZm9yKHZhciB1IGluIG49ZSx0KXRoaXMuX2FkZEV2ZW50SGFuZGxlcih1LHRbdV0sbixyKX19LHtrZXk6Il9yZW1vdmVFdmVudEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgbj10aGlzLmV2ZW50cyxyPWJ0W3RdfHx0LGk9bi5nZXQocik7aWYoaSYmKGkucmVtb3ZlKHQsZSksaS5pc0VtcHR5KCkpKXt2YXIgYT1pLnJlY29nbml6ZXJOYW1lLG89ITEscz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD1uLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KGw9aC5uZXh0KCkpLmRvbmUpO3M9ITApe3ZhciBmPWwudmFsdWU7aWYoZi5yZWNvZ25pemVyTmFtZT09PWEmJiFmLmlzRW1wdHkoKSl7bz0hMDticmVha319fWNhdGNoKHQpe3U9ITAsYz10fWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1vfHx0aGlzLl90b2dnbGVSZWNvZ25pemVyKGEsITEpfX1lbHNlIGZvcih2YXIgZCBpbiB0KXRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcihkLHRbZF0pfX0se2tleToiX29uQmFzaWNJbnB1dCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcmNFdmVudCxuPXZ0W2UudHlwZV07biYmdGhpcy5tYW5hZ2VyLmVtaXQobix0KX19LHtrZXk6Il9vbk90aGVyRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubWFuYWdlci5lbWl0KHQudHlwZSx0KX19XSksdH0oKSxEdD1uKDIyKTtmdW5jdGlvbiBGdCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24genQoKXt9bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBVdH0pKTt2YXIgQnQ9e2lkOiJkZWNrZ2wtb3ZlcmxheSIsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSIscGlja2luZ1JhZGl1czowLGxheWVyRmlsdGVyOm51bGwsZ2xPcHRpb25zOnt9LGdsOm51bGwsbGF5ZXJzOltdLGVmZmVjdHM6W10sdmlld3M6bnVsbCxjb250cm9sbGVyOm51bGwsdXNlRGV2aWNlUGl4ZWxzOiEwLHRvdWNoQWN0aW9uOiJub25lIixfZnJhbWVidWZmZXI6bnVsbCxfYW5pbWF0ZTohMSxvbldlYkdMSW5pdGlhbGl6ZWQ6enQsb25SZXNpemU6enQsb25WaWV3U3RhdGVDaGFuZ2U6enQsb25CZWZvcmVSZW5kZXI6enQsb25BZnRlclJlbmRlcjp6dCxvbkxvYWQ6enQsb25FcnJvcjpudWxsLF9vbk1ldHJpY3M6bnVsbCxnZXRDdXJzb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNEcmFnZ2luZz8iZ3JhYmJpbmciOiJncmFiIn0sZGVidWc6ITEsZHJhd1BpY2tpbmdDb2xvcnM6ITF9LFV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtvKCkodGhpcyx0KSxlPU9iamVjdC5hc3NpZ24oe30sQnQsZSksdGhpcy5wcm9wcz17fSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLnZpZXdNYW5hZ2VyPW51bGwsdGhpcy5sYXllck1hbmFnZXI9bnVsbCx0aGlzLmVmZmVjdE1hbmFnZXI9bnVsbCx0aGlzLmRlY2tSZW5kZXJlcj1udWxsLHRoaXMuZGVja1BpY2tlcj1udWxsLHRoaXMuX25lZWRzUmVkcmF3PSEwLHRoaXMuX3BpY2tSZXF1ZXN0PXt9LHRoaXMuX2xhc3RQb2ludGVyRG93bkluZm89bnVsbCx0aGlzLnZpZXdTdGF0ZT1udWxsLHRoaXMuaW50ZXJhY3RpdmVTdGF0ZT17aXNEcmFnZ2luZzohMX0sdGhpcy5fb25FdmVudD10aGlzLl9vbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fb25Qb2ludGVyRG93bj10aGlzLl9vblBvaW50ZXJEb3duLmJpbmQodGhpcyksdGhpcy5fb25Qb2ludGVyTW92ZT10aGlzLl9vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyksdGhpcy5fcGlja0FuZENhbGxiYWNrPXRoaXMuX3BpY2tBbmRDYWxsYmFjay5iaW5kKHRoaXMpLHRoaXMuX29uUmVuZGVyZXJJbml0aWFsaXplZD10aGlzLl9vblJlbmRlcmVySW5pdGlhbGl6ZWQuYmluZCh0aGlzKSx0aGlzLl9vblJlbmRlckZyYW1lPXRoaXMuX29uUmVuZGVyRnJhbWUuYmluZCh0aGlzKSx0aGlzLl9vblZpZXdTdGF0ZUNoYW5nZT10aGlzLl9vblZpZXdTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuX29uSW50ZXJhY3RpdmVTdGF0ZUNoYW5nZT10aGlzLl9vbkludGVyYWN0aXZlU3RhdGVDaGFuZ2UuYmluZCh0aGlzKSxlLnZpZXdTdGF0ZSYmZS5pbml0aWFsVmlld1N0YXRlJiZmLmEud2FybigiVmlldyBzdGF0ZSB0cmFja2luZyBpcyBkaXNhYmxlZC4gVXNlIGVpdGhlciBgaW5pdGlhbFZpZXdTdGF0ZWAgZm9yIGF1dG8gdXBkYXRlIG9yIGB2aWV3U3RhdGVgIGZvciBtYW51YWwgdXBkYXRlLiIpKCksIklFIj09PU9iamVjdChJLmdldEJyb3dzZXIpKCkmJmYuYS53YXJuKCJJRSAxMSBzdXBwb3J0IHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB2OC4wIikoKSxlLmdsfHwidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiYodGhpcy5jYW52YXM9dGhpcy5fY3JlYXRlQ2FudmFzKGUpKSx0aGlzLmFuaW1hdGlvbkxvb3A9dGhpcy5fY3JlYXRlQW5pbWF0aW9uTG9vcChlKSx0aGlzLnN0YXRzPW5ldyBpdC5hKHtpZDoiZGVjay5nbCJ9KSx0aGlzLm1ldHJpY3M9e2ZwczowLHNldFByb3BzVGltZTowLHVwZGF0ZUF0dHJpYnV0ZXNUaW1lOjAsZnJhbWVzUmVkcmF3bjowLHBpY2tUaW1lOjAscGlja0NvdW50OjAsZ3B1VGltZTowLGdwdVRpbWVQZXJGcmFtZTowLGNwdVRpbWU6MCxjcHVUaW1lUGVyRnJhbWU6MCxidWZmZXJNZW1vcnk6MCx0ZXh0dXJlTWVtb3J5OjAscmVuZGVyYnVmZmVyTWVtb3J5OjAsZ3B1TWVtb3J5OjB9LHRoaXMuX21ldHJpY3NDb3VudGVyPTAsdGhpcy5zZXRQcm9wcyhlKSx0aGlzLmFuaW1hdGlvbkxvb3Auc3RhcnQoKX1yZXR1cm4gdSgpKHQsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uTG9vcC5zdG9wKCksdGhpcy5hbmltYXRpb25Mb29wPW51bGwsdGhpcy5fbGFzdFBvaW50ZXJEb3duSW5mbz1udWxsLHRoaXMubGF5ZXJNYW5hZ2VyJiYodGhpcy5sYXllck1hbmFnZXIuZmluYWxpemUoKSx0aGlzLmxheWVyTWFuYWdlcj1udWxsLHRoaXMudmlld01hbmFnZXIuZmluYWxpemUoKSx0aGlzLnZpZXdNYW5hZ2VyPW51bGwsdGhpcy5lZmZlY3RNYW5hZ2VyLmZpbmFsaXplKCksdGhpcy5lZmZlY3RNYW5hZ2VyPW51bGwsdGhpcy5kZWNrUmVuZGVyZXIuZmluYWxpemUoKSx0aGlzLmRlY2tSZW5kZXJlcj1udWxsLHRoaXMuZGVja1BpY2tlci5maW5hbGl6ZSgpLHRoaXMuZGVja1BpY2tlcj1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLmV2ZW50TWFuYWdlcj1udWxsLHRoaXMudG9vbHRpcC5yZW1vdmUoKSx0aGlzLnRvb2x0aXA9bnVsbCksdGhpcy5wcm9wcy5jYW52YXN8fHRoaXMucHJvcHMuZ2x8fCF0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMuY2FudmFzPW51bGwpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdHMuZ2V0KCJzZXRQcm9wcyBUaW1lIikudGltZVN0YXJ0KCksIm9uTGF5ZXJIb3ZlciJpbiB0JiZmLmEucmVtb3ZlZCgib25MYXllckhvdmVyIiwib25Ib3ZlciIpKCksIm9uTGF5ZXJDbGljayJpbiB0JiZmLmEucmVtb3ZlZCgib25MYXllckNsaWNrIiwib25DbGljayIpKCksdC5pbml0aWFsVmlld1N0YXRlJiYhT2JqZWN0KGguYSkodGhpcy5wcm9wcy5pbml0aWFsVmlld1N0YXRlLHQuaW5pdGlhbFZpZXdTdGF0ZSkmJih0aGlzLnZpZXdTdGF0ZT10LmluaXRpYWxWaWV3U3RhdGUpLE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KSx0aGlzLl9zZXRDYW52YXNTaXplKHRoaXMucHJvcHMpO3ZhciBlPU9iamVjdC5jcmVhdGUodGhpcy5wcm9wcyk7T2JqZWN0LmFzc2lnbihlLHt2aWV3czp0aGlzLl9nZXRWaWV3cygpLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHZpZXdTdGF0ZTp0aGlzLl9nZXRWaWV3U3RhdGUoKX0pLHRoaXMuYW5pbWF0aW9uTG9vcC5zZXRQcm9wcyhlKSx0aGlzLmxheWVyTWFuYWdlciYmKHRoaXMudmlld01hbmFnZXIuc2V0UHJvcHMoZSksdGhpcy5sYXllck1hbmFnZXIuc2V0UHJvcHMoZSksdGhpcy5lZmZlY3RNYW5hZ2VyLnNldFByb3BzKGUpLHRoaXMuZGVja1JlbmRlcmVyLnNldFByb3BzKGUpLHRoaXMuZGVja1BpY2tlci5zZXRQcm9wcyhlKSksdGhpcy5zdGF0cy5nZXQoInNldFByb3BzIFRpbWUiKS50aW1lRW5kKCl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9O2lmKHRoaXMucHJvcHMuX2FuaW1hdGUpcmV0dXJuIkRlY2suX2FuaW1hdGUiO3ZhciBlPXRoaXMuX25lZWRzUmVkcmF3O3QuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKTt2YXIgbj10aGlzLnZpZXdNYW5hZ2VyLm5lZWRzUmVkcmF3KHQpLHI9dGhpcy5sYXllck1hbmFnZXIubmVlZHNSZWRyYXcodCksaT10aGlzLmVmZmVjdE1hbmFnZXIubmVlZHNSZWRyYXcodCksYT10aGlzLmRlY2tSZW5kZXJlci5uZWVkc1JlZHJhdyh0KTtyZXR1cm4gZT1lfHxufHxyfHxpfHxhfX0se2tleToicmVkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmxheWVyTWFuYWdlcil7dmFyIGU9dHx8dGhpcy5uZWVkc1JlZHJhdyh7Y2xlYXJSZWRyYXdGbGFnczohMH0pO2UmJih0aGlzLnN0YXRzLmdldCgiUmVkcmF3IENvdW50IikuaW5jcmVtZW50Q291bnQoKSx0aGlzLnByb3BzLl9jdXN0b21SZW5kZXI/dGhpcy5wcm9wcy5fY3VzdG9tUmVuZGVyKGUpOnRoaXMuX2RyYXdMYXllcnMoZSkpfX19LHtrZXk6ImdldFZpZXdzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdNYW5hZ2VyLnZpZXdzfX0se2tleToiZ2V0Vmlld3BvcnRzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHModCl9fSx7a2V5OiJwaWNrT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9waWNrKCJwaWNrT2JqZWN0IiwicGlja09iamVjdCBUaW1lIix0KS5yZXN1bHQ7cmV0dXJuIGUubGVuZ3RoP2VbMF06bnVsbH19LHtrZXk6InBpY2tNdWx0aXBsZU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmRlcHRoPXQuZGVwdGh8fDEwLHRoaXMuX3BpY2soInBpY2tPYmplY3QiLCJwaWNrTXVsdGlwbGVPYmplY3RzIFRpbWUiLHQpLnJlc3VsdH19LHtrZXk6InBpY2tPYmplY3RzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGljaygicGlja09iamVjdHMiLCJwaWNrT2JqZWN0cyBUaW1lIix0KX19LHtrZXk6Il9waWNrIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zdGF0cztyLmdldCgiUGljayBDb3VudCIpLmluY3JlbWVudENvdW50KCksci5nZXQoZSkudGltZVN0YXJ0KCk7dmFyIGk9dGhpcy5kZWNrUGlja2VyW3RdKE9iamVjdC5hc3NpZ24oe2xheWVyczp0aGlzLmxheWVyTWFuYWdlci5nZXRMYXllcnMobiksdmlld3BvcnRzOnRoaXMuZ2V0Vmlld3BvcnRzKG4pLG9uVmlld3BvcnRBY3RpdmU6dGhpcy5sYXllck1hbmFnZXIuYWN0aXZhdGVWaWV3cG9ydH0sbikpO3JldHVybiByLmdldChlKS50aW1lRW5kKCksaX19LHtrZXk6Il9jcmVhdGVDYW52YXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY2FudmFzOygic3RyaW5nIj09dHlwZW9mIGUmJihlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLE9iamVjdChsLmEpKGUpKSxlKXx8KGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksKHQucGFyZW50fHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChlKSk7dmFyIG49dC5pZCxyPXQuc3R5bGU7cmV0dXJuIGUuaWQ9bixPYmplY3QuYXNzaWduKGUuc3R5bGUsciksZX19LHtrZXk6Il9zZXRDYW52YXNTaXplIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmNhbnZhcyl7dmFyIGU9dC53aWR0aCxuPXQuaGVpZ2h0OyhlfHwwPT09ZSkmJihlPU51bWJlci5pc0Zpbml0ZShlKT8iIi5jb25jYXQoZSwicHgiKTplLHRoaXMuY2FudmFzLnN0eWxlLndpZHRoPWUpLChufHwwPT09bikmJihuPU51bWJlci5pc0Zpbml0ZShuKT8iIi5jb25jYXQobiwicHgiKTpuLHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PW4pfX19LHtrZXk6Il91cGRhdGVDYW52YXNTaXplIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NoZWNrRm9yQ2FudmFzU2l6ZUNoYW5nZSgpKXt2YXIgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQ7dGhpcy52aWV3TWFuYWdlci5zZXRQcm9wcyh7d2lkdGg6dCxoZWlnaHQ6ZX0pLHRoaXMucHJvcHMub25SZXNpemUoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSl9fX0se2tleToiX2NoZWNrRm9yQ2FudmFzU2l6ZUNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNhbnZhcztpZighdClyZXR1cm4hMTt2YXIgZT10LmNsaWVudFdpZHRofHx0LndpZHRoLG49dC5jbGllbnRIZWlnaHR8fHQuaGVpZ2h0O3JldHVybihlIT09dGhpcy53aWR0aHx8biE9PXRoaXMuaGVpZ2h0KSYmKHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1uLCEwKX19LHtrZXk6Il9jcmVhdGVBbmltYXRpb25Mb29wIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC53aWR0aCxyPXQuaGVpZ2h0LGk9dC5nbCxhPXQuZ2xPcHRpb25zLG89dC5kZWJ1ZyxzPXQudXNlRGV2aWNlUGl4ZWxzLHU9dC5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlcjtyZXR1cm4gbmV3IG50KHt3aWR0aDpuLGhlaWdodDpyLHVzZURldmljZVBpeGVsczpzLGF1dG9SZXNpemVEcmF3aW5nQnVmZmVyOnUsYXV0b1Jlc2l6ZVZpZXdwb3J0OiExLGdsOmksb25DcmVhdGVDb250ZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qody5hKShPYmplY3QuYXNzaWduKHt9LGEsdCx7Y2FudmFzOmUuY2FudmFzLGRlYnVnOm99KSl9LG9uSW5pdGlhbGl6ZTp0aGlzLl9vblJlbmRlcmVySW5pdGlhbGl6ZWQsb25SZW5kZXI6dGhpcy5fb25SZW5kZXJGcmFtZSxvbkJlZm9yZVJlbmRlcjp0Lm9uQmVmb3JlUmVuZGVyLG9uQWZ0ZXJSZW5kZXI6dC5vbkFmdGVyUmVuZGVyfSl9fSx7a2V5OiJfZ2V0Vmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnZpZXdTdGF0ZXx8dGhpcy52aWV3U3RhdGV9fSx7a2V5OiJfZ2V0Vmlld3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcy52aWV3c3x8W25ldyBwLmEoe2lkOiJkZWZhdWx0LXZpZXcifSldO3JldHVybih0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmxlbmd0aCYmdGhpcy5wcm9wcy5jb250cm9sbGVyJiYodFswXS5wcm9wcy5jb250cm9sbGVyPXRoaXMucHJvcHMuY29udHJvbGxlciksdH19LHtrZXk6Il9vblBvaW50ZXJNb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9waWNrUmVxdWVzdDtpZigicG9pbnRlcmxlYXZlIj09PXQudHlwZSllLng9LTEsZS55PS0xLGUucmFkaXVzPTA7ZWxzZXtpZih0LmxlZnRCdXR0b258fHQucmlnaHRCdXR0b24pcmV0dXJuO3ZhciBuPXQub2Zmc2V0Q2VudGVyO2lmKCFuKXJldHVybjtlLng9bi54LGUueT1uLnksZS5yYWRpdXM9dGhpcy5wcm9wcy5waWNraW5nUmFkaXVzfXRoaXMubGF5ZXJNYW5hZ2VyJiYodGhpcy5sYXllck1hbmFnZXIuY29udGV4dC5tb3VzZVBvc2l0aW9uPXt4OmUueCx5OmUueX0pLGUuZXZlbnQ9dCxlLm1vZGU9ImhvdmVyIn19LHtrZXk6Il9waWNrQW5kQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGlja1JlcXVlc3Q7aWYodC5ldmVudCl7dmFyIGU9dGhpcy5fcGljaygicGlja09iamVjdCIsInBpY2tPYmplY3QgVGltZSIsdCksbj1lLnJlc3VsdCxyPWUuZW1wdHlJbmZvLGk9blswXXx8cjtpZih0aGlzLnByb3BzLmdldFRvb2x0aXApe3ZhciBhPXRoaXMucHJvcHMuZ2V0VG9vbHRpcChpKTt0aGlzLnRvb2x0aXAuc2V0VG9vbHRpcChhLGkueCxpLnkpfXZhciBvPSExO2kubGF5ZXImJihvPWkubGF5ZXIub25Ib3ZlcihpLHQuZXZlbnQpKSwhbyYmdGhpcy5wcm9wcy5vbkhvdmVyJiZ0aGlzLnByb3BzLm9uSG92ZXIoaSx0LmV2ZW50KSx0LmV2ZW50PW51bGx9fX0se2tleToiX3VwZGF0ZUN1cnNvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLnBhcmVudHx8dGhpcy5jYW52YXM7dCYmKHQuc3R5bGUuY3Vyc29yPXRoaXMucHJvcHMuZ2V0Q3Vyc29yKHRoaXMuaW50ZXJhY3RpdmVTdGF0ZSkpfX0se2tleToiX3NldEdMQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMubGF5ZXJNYW5hZ2VyKXt0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPXQuY2FudmFzLE9iamVjdCh3LmUpKHQse2VuYWJsZTohMCxjb3B5U3RhdGU6ITB9KSksdGhpcy50b29sdGlwPW5ldyBDKHRoaXMuY2FudmFzKSxPYmplY3Qody5rKSh0LHtibGVuZDohMCxibGVuZEZ1bmM6Wzc3MCw3NzEsMSw3NzFdLHBvbHlnb25PZmZzZXRGaWxsOiEwLGRlcHRoVGVzdDohMCxkZXB0aEZ1bmM6NTE1fSksdGhpcy5wcm9wcy5vbldlYkdMSW5pdGlhbGl6ZWQodCk7dmFyIGU9bmV3IHJ0LmE7Zm9yKHZhciBuIGluIGUucGxheSgpLHRoaXMuYW5pbWF0aW9uTG9vcC5hdHRhY2hUaW1lbGluZShlKSx0aGlzLmV2ZW50TWFuYWdlcj1uZXcgTnQodGhpcy5wcm9wcy5wYXJlbnR8fHQuY2FudmFzLHt0b3VjaEFjdGlvbjp0aGlzLnByb3BzLnRvdWNoQWN0aW9uLGV2ZW50czp7cG9pbnRlcmRvd246dGhpcy5fb25Qb2ludGVyRG93bixwb2ludGVybW92ZTp0aGlzLl9vblBvaW50ZXJNb3ZlLHBvaW50ZXJsZWF2ZTp0aGlzLl9vblBvaW50ZXJNb3ZlfX0pLER0LmIpdGhpcy5ldmVudE1hbmFnZXIub24obix0aGlzLl9vbkV2ZW50KTt0aGlzLnZpZXdNYW5hZ2VyPW5ldyB2KHt0aW1lbGluZTplLGV2ZW50TWFuYWdlcjp0aGlzLmV2ZW50TWFuYWdlcixvblZpZXdTdGF0ZUNoYW5nZTp0aGlzLl9vblZpZXdTdGF0ZUNoYW5nZSxvbkludGVyYWN0aXZlU3RhdGVDaGFuZ2U6dGhpcy5fb25JbnRlcmFjdGl2ZVN0YXRlQ2hhbmdlLHZpZXdzOnRoaXMuX2dldFZpZXdzKCksdmlld1N0YXRlOnRoaXMuX2dldFZpZXdTdGF0ZSgpLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSk7dmFyIHI9dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoKVswXTt0aGlzLmxheWVyTWFuYWdlcj1uZXcgYy5hKHQse2RlY2s6dGhpcyxzdGF0czp0aGlzLnN0YXRzLHZpZXdwb3J0OnIsdGltZWxpbmU6ZX0pLHRoaXMuZWZmZWN0TWFuYWdlcj1uZXcgbSx0aGlzLmRlY2tSZW5kZXJlcj1uZXcgXy5hKHQpLHRoaXMuZGVja1BpY2tlcj1uZXcgQSh0KSx0aGlzLnNldFByb3BzKHRoaXMucHJvcHMpLHRoaXMuX3VwZGF0ZUNhbnZhc1NpemUoKSx0aGlzLnByb3BzLm9uTG9hZCgpfX19LHtrZXk6Il9kcmF3TGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubGF5ZXJNYW5hZ2VyLmNvbnRleHQuZ2w7T2JqZWN0KHcuaykobix0aGlzLnByb3BzLnBhcmFtZXRlcnMpLHRoaXMucHJvcHMub25CZWZvcmVSZW5kZXIoe2dsOm59KSx0aGlzLmRlY2tSZW5kZXJlci5yZW5kZXJMYXllcnMoT2JqZWN0LmFzc2lnbih7dGFyZ2V0OnRoaXMucHJvcHMuX2ZyYW1lYnVmZmVyLGxheWVyczp0aGlzLmxheWVyTWFuYWdlci5nZXRMYXllcnMoKSx2aWV3cG9ydHM6dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoKSxvblZpZXdwb3J0QWN0aXZlOnRoaXMubGF5ZXJNYW5hZ2VyLmFjdGl2YXRlVmlld3BvcnQsdmlld3M6dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cygpLHBhc3M6InNjcmVlbiIscmVkcmF3UmVhc29uOnQsZWZmZWN0czp0aGlzLmVmZmVjdE1hbmFnZXIuZ2V0RWZmZWN0cygpfSxlKSksdGhpcy5wcm9wcy5vbkFmdGVyUmVuZGVyKHtnbDpufSl9fSx7a2V5OiJfb25SZW5kZXJlckluaXRpYWxpemVkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdsO3RoaXMuX3NldEdMQ29udGV4dChlKX19LHtrZXk6Il9vblJlbmRlckZyYW1lIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9nZXRGcmFtZVN0YXRzKCksdGhpcy5fbWV0cmljc0NvdW50ZXIrKyU2MD09MCYmKHRoaXMuX2dldE1ldHJpY3MoKSx0aGlzLnN0YXRzLnJlc2V0KCksZi5hLnRhYmxlKDQsdGhpcy5tZXRyaWNzKSgpLHRoaXMucHJvcHMuX29uTWV0cmljcyYmdGhpcy5wcm9wcy5fb25NZXRyaWNzKHRoaXMubWV0cmljcykpLHRoaXMuX3VwZGF0ZUNhbnZhc1NpemUoKSx0aGlzLl91cGRhdGVDdXJzb3IoKSx0aGlzLmxheWVyTWFuYWdlci51cGRhdGVMYXllcnMoKSx0aGlzLl9waWNrQW5kQ2FsbGJhY2soKSx0aGlzLnJlZHJhdyghMSksdGhpcy52aWV3TWFuYWdlciYmdGhpcy52aWV3TWFuYWdlci51cGRhdGVWaWV3U3RhdGVzKCl9fSx7a2V5OiJfb25WaWV3U3RhdGVDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMub25WaWV3U3RhdGVDaGFuZ2UodCl8fHQudmlld1N0YXRlO3RoaXMudmlld1N0YXRlJiYodGhpcy52aWV3U3RhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RnQoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkZ0KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSx0aGlzLnZpZXdTdGF0ZSxpKCkoe30sdC52aWV3SWQsZSkpLHRoaXMucHJvcHMudmlld1N0YXRlfHx0aGlzLnZpZXdNYW5hZ2VyLnNldFByb3BzKHt2aWV3U3RhdGU6dGhpcy52aWV3U3RhdGV9KSl9fSx7a2V5OiJfb25JbnRlcmFjdGl2ZVN0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmlzRHJhZ2dpbmcsbj12b2lkIDAhPT1lJiZlO24hPT10aGlzLmludGVyYWN0aXZlU3RhdGUuaXNEcmFnZ2luZyYmKHRoaXMuaW50ZXJhY3RpdmVTdGF0ZS5pc0RyYWdnaW5nPW4pfX0se2tleToiX29uRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPUR0LmJbdC50eXBlXSxuPXQub2Zmc2V0Q2VudGVyO2lmKGUmJm4pe3ZhciByPXRoaXMubGF5ZXJNYW5hZ2VyLmdldExheWVycygpLGk9dGhpcy5kZWNrUGlja2VyLmdldExhc3RQaWNrZWRPYmplY3Qoe3g6bi54LHk6bi55LGxheWVyczpyLHZpZXdwb3J0czp0aGlzLmdldFZpZXdwb3J0cyhuKX0sdGhpcy5fbGFzdFBvaW50ZXJEb3duSW5mbyksYT1pLmxheWVyLG89YSYmKGFbZS5oYW5kbGVyXXx8YS5wcm9wc1tlLmhhbmRsZXJdKSxzPXRoaXMucHJvcHNbZS5oYW5kbGVyXSx1PSExO28mJih1PW8uY2FsbChhLGksdCkpLCF1JiZzJiZzKGksdCl9fX0se2tleToiX29uUG9pbnRlckRvd24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0Q2VudGVyO3RoaXMuX2xhc3RQb2ludGVyRG93bkluZm89dGhpcy5waWNrT2JqZWN0KHt4OmUueCx5OmUueSxyYWRpdXM6dGhpcy5wcm9wcy5waWNraW5nUmFkaXVzfSl9fSx7a2V5OiJfZ2V0RnJhbWVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRzO3QuZ2V0KCJmcmFtZVJhdGUiKS50aW1lRW5kKCksdC5nZXQoImZyYW1lUmF0ZSIpLnRpbWVTdGFydCgpO3ZhciBlPXRoaXMuYW5pbWF0aW9uTG9vcC5zdGF0czt0LmdldCgiR1BVIFRpbWUiKS5hZGRUaW1lKGUuZ2V0KCJHUFUgVGltZSIpLmxhc3RUaW1pbmcpLHQuZ2V0KCJDUFUgVGltZSIpLmFkZFRpbWUoZS5nZXQoIkNQVSBUaW1lIikubGFzdFRpbWluZyl9fSx7a2V5OiJfZ2V0TWV0cmljcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1ldHJpY3MsZT10aGlzLnN0YXRzO3QuZnBzPWUuZ2V0KCJmcmFtZVJhdGUiKS5nZXRIeigpLHQuc2V0UHJvcHNUaW1lPWUuZ2V0KCJzZXRQcm9wcyBUaW1lIikudGltZSx0LnVwZGF0ZUF0dHJpYnV0ZXNUaW1lPWUuZ2V0KCJVcGRhdGUgQXR0cmlidXRlcyIpLnRpbWUsdC5mcmFtZXNSZWRyYXduPWUuZ2V0KCJSZWRyYXcgQ291bnQiKS5jb3VudCx0LnBpY2tUaW1lPWUuZ2V0KCJwaWNrT2JqZWN0IFRpbWUiKS50aW1lK2UuZ2V0KCJwaWNrTXVsdGlwbGVPYmplY3RzIFRpbWUiKS50aW1lK2UuZ2V0KCJwaWNrT2JqZWN0cyBUaW1lIikudGltZSx0LnBpY2tDb3VudD1lLmdldCgiUGljayBDb3VudCIpLmNvdW50LHQuZ3B1VGltZT1lLmdldCgiR1BVIFRpbWUiKS50aW1lLHQuY3B1VGltZT1lLmdldCgiQ1BVIFRpbWUiKS50aW1lLHQuZ3B1VGltZVBlckZyYW1lPWUuZ2V0KCJHUFUgVGltZSIpLmdldEF2ZXJhZ2VUaW1lKCksdC5jcHVUaW1lUGVyRnJhbWU9ZS5nZXQoIkNQVSBUaW1lIikuZ2V0QXZlcmFnZVRpbWUoKTt2YXIgbj1VLmEuZ2V0KCJNZW1vcnkgVXNhZ2UiKTt0LmJ1ZmZlck1lbW9yeT1uLmdldCgiQnVmZmVyIE1lbW9yeSIpLmNvdW50LHQudGV4dHVyZU1lbW9yeT1uLmdldCgiVGV4dHVyZSBNZW1vcnkiKS5jb3VudCx0LnJlbmRlcmJ1ZmZlck1lbW9yeT1uLmdldCgiUmVuZGVyYnVmZmVyIE1lbW9yeSIpLmNvdW50LHQuZ3B1TWVtb3J5PW4uZ2V0KCJHUFUgTWVtb3J5IikuY291bnR9fV0pLHR9KCk7VXQuZ2V0UHJvcFR5cGVzPWZ1bmN0aW9uKHQpe3JldHVybntpZDp0LnN0cmluZyx3aWR0aDp0Lm9uZU9mVHlwZShbdC5udW1iZXIsdC5zdHJpbmddKSxoZWlnaHQ6dC5vbmVPZlR5cGUoW3QubnVtYmVyLHQuc3RyaW5nXSksbGF5ZXJzOnQub25lT2ZUeXBlKFt0Lm9iamVjdCx0LmFycmF5XSksbGF5ZXJGaWx0ZXI6dC5mdW5jLHZpZXdzOnQub25lT2ZUeXBlKFt0Lm9iamVjdCx0LmFycmF5XSksdmlld1N0YXRlOnQub2JqZWN0LGVmZmVjdHM6dC5hcnJheU9mKHQuaW5zdGFuY2VPZihiLmEpKSxjb250cm9sbGVyOnQub25lT2ZUeXBlKFt0LmZ1bmMsdC5ib29sLHQub2JqZWN0XSksZ2w6dC5vYmplY3QsZ2xPcHRpb25zOnQub2JqZWN0LHBhcmFtZXRlcnM6dC5vYmplY3QscGlja2luZ1JhZGl1czp0Lm51bWJlcix1c2VEZXZpY2VQaXhlbHM6dC5vbmVPZlR5cGUoW3QuYm9vbCx0Lm51bWJlcl0pLHRvdWNoQWN0aW9uOnQuc3RyaW5nLG9uV2ViR0xJbml0aWFsaXplZDp0LmZ1bmMsb25SZXNpemU6dC5mdW5jLG9uVmlld1N0YXRlQ2hhbmdlOnQuZnVuYyxvbkJlZm9yZVJlbmRlcjp0LmZ1bmMsb25BZnRlclJlbmRlcjp0LmZ1bmMsb25Mb2FkOnQuZnVuYyxvbkVycm9yOnQuZnVuYyxkZWJ1Zzp0LmJvb2wsZHJhd1BpY2tpbmdDb2xvcnM6dC5ib29sLF9mcmFtZWJ1ZmZlcjp0Lm9iamVjdCxfYW5pbWF0ZTp0LmJvb2x9fSxVdC5kZWZhdWx0UHJvcHM9QnQsVXQuVkVSU0lPTj1MLmEuVkVSU0lPTn0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oNDEpLGc9bi5uKHApLHk9bigyMyksbT1uKDIwMiksYj1uKDIyMCksXz1uKDExOCksTz1uKDExKSx4PXtuYW1lOiJwYnIiLHZzOiJ1bmlmb3JtIG1hdDQgdV9NVlBNYXRyaXg7XG51bmlmb3JtIG1hdDQgdV9Nb2RlbE1hdHJpeDtcbnVuaWZvcm0gbWF0NCB1X05vcm1hbE1hdHJpeDtcblxudmFyeWluZyB2ZWMzIHBicl92UG9zaXRpb247XG52YXJ5aW5nIHZlYzIgcGJyX3ZVVjtcblxuI2lmZGVmIEhBU19OT1JNQUxTXG4jIGlmZGVmIEhBU19UQU5HRU5UU1xudmFyeWluZyBtYXQzIHBicl92VEJOO1xuIyBlbHNlXG52YXJ5aW5nIHZlYzMgcGJyX3ZOb3JtYWw7XG4jIGVuZGlmXG4jZW5kaWZcblxudm9pZCBwYnJfc2V0UG9zaXRpb25Ob3JtYWxUYW5nZW50VVYodmVjNCBwb3NpdGlvbiwgdmVjNCBub3JtYWwsIHZlYzQgdGFuZ2VudCwgdmVjMiB1dilcbntcbiAgdmVjNCBwb3MgPSB1X01vZGVsTWF0cml4ICogcG9zaXRpb247XG4gIHBicl92UG9zaXRpb24gPSB2ZWMzKHBvcy54eXopIC8gcG9zLnc7XG5cbiNpZmRlZiBIQVNfTk9STUFMU1xuI2lmZGVmIEhBU19UQU5HRU5UU1xuICB2ZWMzIG5vcm1hbFcgPSBub3JtYWxpemUodmVjMyh1X05vcm1hbE1hdHJpeCAqIHZlYzQobm9ybWFsLnh5eiwgMC4wKSkpO1xuICB2ZWMzIHRhbmdlbnRXID0gbm9ybWFsaXplKHZlYzModV9Nb2RlbE1hdHJpeCAqIHZlYzQodGFuZ2VudC54eXosIDAuMCkpKTtcbiAgdmVjMyBiaXRhbmdlbnRXID0gY3Jvc3Mobm9ybWFsVywgdGFuZ2VudFcpICogdGFuZ2VudC53O1xuICBwYnJfdlRCTiA9IG1hdDModGFuZ2VudFcsIGJpdGFuZ2VudFcsIG5vcm1hbFcpO1xuI2Vsc2VcbiAgcGJyX3ZOb3JtYWwgPSBub3JtYWxpemUodmVjMyh1X01vZGVsTWF0cml4ICogdmVjNChub3JtYWwueHl6LCAwLjApKSk7XG4jZW5kaWZcbiNlbmRpZlxuXG4jaWZkZWYgSEFTX1VWXG4gIHBicl92VVYgPSB1djtcbiNlbHNlXG4gIHBicl92VVYgPSB2ZWMyKDAuLDAuKTtcbiNlbmRpZlxufVxuIixmczoiI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZDogZW5hYmxlXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxuI2VuZGlmXG5cblxuI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiAgI2RlZmluZSBTTUFSVF9GT1IoSU5JVCwgV0VCR0wxQ09ORCwgV0VCR0wyQ09ORCwgSU5DUikgZm9yIChJTklUOyBXRUJHTDFDT05EOyBJTkNSKVxuI2Vsc2VcbiAgI2RlZmluZSBTTUFSVF9GT1IoSU5JVCwgV0VCR0wxQ09ORCwgV0VCR0wyQ09ORCwgSU5DUikgZm9yIChJTklUOyBXRUJHTDJDT05EOyBJTkNSKVxuI2VuZGlmXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuI2lmZGVmIFVTRV9JQkxcbnVuaWZvcm0gc2FtcGxlckN1YmUgdV9EaWZmdXNlRW52U2FtcGxlcjtcbnVuaWZvcm0gc2FtcGxlckN1YmUgdV9TcGVjdWxhckVudlNhbXBsZXI7XG51bmlmb3JtIHNhbXBsZXIyRCB1X2JyZGZMVVQ7XG51bmlmb3JtIHZlYzIgdV9TY2FsZUlCTEFtYmllbnQ7XG4jZW5kaWZcblxuI2lmZGVmIEhBU19CQVNFQ09MT1JNQVBcbnVuaWZvcm0gc2FtcGxlcjJEIHVfQmFzZUNvbG9yU2FtcGxlcjtcbiNlbmRpZlxuI2lmZGVmIEhBU19OT1JNQUxNQVBcbnVuaWZvcm0gc2FtcGxlcjJEIHVfTm9ybWFsU2FtcGxlcjtcbnVuaWZvcm0gZmxvYXQgdV9Ob3JtYWxTY2FsZTtcbiNlbmRpZlxuI2lmZGVmIEhBU19FTUlTU0lWRU1BUFxudW5pZm9ybSBzYW1wbGVyMkQgdV9FbWlzc2l2ZVNhbXBsZXI7XG51bmlmb3JtIHZlYzMgdV9FbWlzc2l2ZUZhY3RvcjtcbiNlbmRpZlxuI2lmZGVmIEhBU19NRVRBTFJPVUdITkVTU01BUFxudW5pZm9ybSBzYW1wbGVyMkQgdV9NZXRhbGxpY1JvdWdobmVzc1NhbXBsZXI7XG4jZW5kaWZcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXG51bmlmb3JtIHNhbXBsZXIyRCB1X09jY2x1c2lvblNhbXBsZXI7XG51bmlmb3JtIGZsb2F0IHVfT2NjbHVzaW9uU3RyZW5ndGg7XG4jZW5kaWZcblxuI2lmZGVmIEFMUEhBX0NVVE9GRlxudW5pZm9ybSBmbG9hdCB1X0FscGhhQ3V0b2ZmO1xuI2VuZGlmXG5cbnVuaWZvcm0gdmVjMiB1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzO1xudW5pZm9ybSB2ZWM0IHVfQmFzZUNvbG9yRmFjdG9yO1xuXG51bmlmb3JtIHZlYzMgdV9DYW1lcmE7XG4jaWZkZWYgUEJSX0RFQlVHXG51bmlmb3JtIHZlYzQgdV9TY2FsZURpZmZCYXNlTVI7XG51bmlmb3JtIHZlYzQgdV9TY2FsZUZHRFNwZWM7XG4jZW5kaWZcblxudmFyeWluZyB2ZWMzIHBicl92UG9zaXRpb247XG5cbnZhcnlpbmcgdmVjMiBwYnJfdlVWO1xuXG4jaWZkZWYgSEFTX05PUk1BTFNcbiNpZmRlZiBIQVNfVEFOR0VOVFNcbnZhcnlpbmcgbWF0MyBwYnJfdlRCTjtcbiNlbHNlXG52YXJ5aW5nIHZlYzMgcGJyX3ZOb3JtYWw7XG4jZW5kaWZcbiNlbmRpZlxuXG5cbnN0cnVjdCBQQlJJbmZvXG57XG4gIGZsb2F0IE5kb3RMO1xuICBmbG9hdCBOZG90VjtcbiAgZmxvYXQgTmRvdEg7XG4gIGZsb2F0IExkb3RIO1xuICBmbG9hdCBWZG90SDtcbiAgZmxvYXQgcGVyY2VwdHVhbFJvdWdobmVzcztcbiAgZmxvYXQgbWV0YWxuZXNzO1xuICB2ZWMzIHJlZmxlY3RhbmNlMDtcbiAgdmVjMyByZWZsZWN0YW5jZTkwO1xuICBmbG9hdCBhbHBoYVJvdWdobmVzcztcbiAgdmVjMyBkaWZmdXNlQ29sb3I7XG4gIHZlYzMgc3BlY3VsYXJDb2xvcjtcbiAgdmVjMyBuO1xuICB2ZWMzIHY7XG59O1xuXG5jb25zdCBmbG9hdCBNX1BJID0gMy4xNDE1OTI2NTM1ODk3OTM7XG5jb25zdCBmbG9hdCBjX01pblJvdWdobmVzcyA9IDAuMDQ7XG5cbnZlYzQgU1JHQnRvTElORUFSKHZlYzQgc3JnYkluKVxue1xuI2lmZGVmIE1BTlVBTF9TUkdCXG4jaWZkZWYgU1JHQl9GQVNUX0FQUFJPWElNQVRJT05cbiAgdmVjMyBsaW5PdXQgPSBwb3coc3JnYkluLnh5eix2ZWMzKDIuMikpO1xuI2Vsc2VcbiAgdmVjMyBiTGVzcyA9IHN0ZXAodmVjMygwLjA0MDQ1KSxzcmdiSW4ueHl6KTtcbiAgdmVjMyBsaW5PdXQgPSBtaXgoIHNyZ2JJbi54eXovdmVjMygxMi45MiksIHBvdygoc3JnYkluLnh5eit2ZWMzKDAuMDU1KSkvdmVjMygxLjA1NSksdmVjMygyLjQpKSwgYkxlc3MgKTtcbiNlbmRpZlxuICByZXR1cm4gdmVjNChsaW5PdXQsc3JnYkluLncpOztcbiNlbHNlXG4gIHJldHVybiBzcmdiSW47XG4jZW5kaWZcbn1cblxudmVjMyBnZXROb3JtYWwoKVxue1xuI2lmbmRlZiBIQVNfVEFOR0VOVFNcbiAgdmVjMyBwb3NfZHggPSBkRmR4KHBicl92UG9zaXRpb24pO1xuICB2ZWMzIHBvc19keSA9IGRGZHkocGJyX3ZQb3NpdGlvbik7XG4gIHZlYzMgdGV4X2R4ID0gZEZkeCh2ZWMzKHBicl92VVYsIDAuMCkpO1xuICB2ZWMzIHRleF9keSA9IGRGZHkodmVjMyhwYnJfdlVWLCAwLjApKTtcbiAgdmVjMyB0ID0gKHRleF9keS50ICogcG9zX2R4IC0gdGV4X2R4LnQgKiBwb3NfZHkpIC8gKHRleF9keC5zICogdGV4X2R5LnQgLSB0ZXhfZHkucyAqIHRleF9keC50KTtcblxuI2lmZGVmIEhBU19OT1JNQUxTXG4gIHZlYzMgbmcgPSBub3JtYWxpemUocGJyX3ZOb3JtYWwpO1xuI2Vsc2VcbiAgdmVjMyBuZyA9IGNyb3NzKHBvc19keCwgcG9zX2R5KTtcbiNlbmRpZlxuXG4gIHQgPSBub3JtYWxpemUodCAtIG5nICogZG90KG5nLCB0KSk7XG4gIHZlYzMgYiA9IG5vcm1hbGl6ZShjcm9zcyhuZywgdCkpO1xuICBtYXQzIHRibiA9IG1hdDModCwgYiwgbmcpO1xuI2Vsc2VcbiAgbWF0MyB0Ym4gPSBwYnJfdlRCTjtcbiNlbmRpZlxuXG4jaWZkZWYgSEFTX05PUk1BTE1BUFxuICB2ZWMzIG4gPSB0ZXh0dXJlMkQodV9Ob3JtYWxTYW1wbGVyLCBwYnJfdlVWKS5yZ2I7XG4gIG4gPSBub3JtYWxpemUodGJuICogKCgyLjAgKiBuIC0gMS4wKSAqIHZlYzModV9Ob3JtYWxTY2FsZSwgdV9Ob3JtYWxTY2FsZSwgMS4wKSkpO1xuI2Vsc2VcbiAgdmVjMyBuID0gbm9ybWFsaXplKHRiblsyXS54eXopO1xuI2VuZGlmXG5cbiAgcmV0dXJuIG47XG59XG5cblxuI2lmZGVmIFVTRV9JQkxcbnZlYzMgZ2V0SUJMQ29udHJpYnV0aW9uKFBCUkluZm8gcGJySW5wdXRzLCB2ZWMzIG4sIHZlYzMgcmVmbGVjdGlvbilcbntcbiAgZmxvYXQgbWlwQ291bnQgPSA5LjA7XG4gIGZsb2F0IGxvZCA9IChwYnJJbnB1dHMucGVyY2VwdHVhbFJvdWdobmVzcyAqIG1pcENvdW50KTtcbiAgdmVjMyBicmRmID0gU1JHQnRvTElORUFSKHRleHR1cmUyRCh1X2JyZGZMVVQsXG4gICAgdmVjMihwYnJJbnB1dHMuTmRvdFYsIDEuMCAtIHBicklucHV0cy5wZXJjZXB0dWFsUm91Z2huZXNzKSkpLnJnYjtcbiAgdmVjMyBkaWZmdXNlTGlnaHQgPSBTUkdCdG9MSU5FQVIodGV4dHVyZUN1YmUodV9EaWZmdXNlRW52U2FtcGxlciwgbikpLnJnYjtcblxuI2lmZGVmIFVTRV9URVhfTE9EXG4gIHZlYzMgc3BlY3VsYXJMaWdodCA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlQ3ViZUxvZEVYVCh1X1NwZWN1bGFyRW52U2FtcGxlciwgcmVmbGVjdGlvbiwgbG9kKSkucmdiO1xuI2Vsc2VcbiAgdmVjMyBzcGVjdWxhckxpZ2h0ID0gU1JHQnRvTElORUFSKHRleHR1cmVDdWJlKHVfU3BlY3VsYXJFbnZTYW1wbGVyLCByZWZsZWN0aW9uKSkucmdiO1xuI2VuZGlmXG5cbiAgdmVjMyBkaWZmdXNlID0gZGlmZnVzZUxpZ2h0ICogcGJySW5wdXRzLmRpZmZ1c2VDb2xvcjtcbiAgdmVjMyBzcGVjdWxhciA9IHNwZWN1bGFyTGlnaHQgKiAocGJySW5wdXRzLnNwZWN1bGFyQ29sb3IgKiBicmRmLnggKyBicmRmLnkpO1xuICBkaWZmdXNlICo9IHVfU2NhbGVJQkxBbWJpZW50Lng7XG4gIHNwZWN1bGFyICo9IHVfU2NhbGVJQkxBbWJpZW50Lnk7XG5cbiAgcmV0dXJuIGRpZmZ1c2UgKyBzcGVjdWxhcjtcbn1cbiNlbmRpZlxuXG5cbnZlYzMgZGlmZnVzZShQQlJJbmZvIHBicklucHV0cylcbntcbiAgcmV0dXJuIHBicklucHV0cy5kaWZmdXNlQ29sb3IgLyBNX1BJO1xufVxuXG52ZWMzIHNwZWN1bGFyUmVmbGVjdGlvbihQQlJJbmZvIHBicklucHV0cylcbntcbiAgcmV0dXJuIHBicklucHV0cy5yZWZsZWN0YW5jZTAgK1xuICAgIChwYnJJbnB1dHMucmVmbGVjdGFuY2U5MCAtIHBicklucHV0cy5yZWZsZWN0YW5jZTApICpcbiAgICBwb3coY2xhbXAoMS4wIC0gcGJySW5wdXRzLlZkb3RILCAwLjAsIDEuMCksIDUuMCk7XG59XG5cblxuXG5mbG9hdCBnZW9tZXRyaWNPY2NsdXNpb24oUEJSSW5mbyBwYnJJbnB1dHMpXG57XG4gIGZsb2F0IE5kb3RMID0gcGJySW5wdXRzLk5kb3RMO1xuICBmbG9hdCBOZG90ViA9IHBicklucHV0cy5OZG90VjtcbiAgZmxvYXQgciA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcblxuICBmbG9hdCBhdHRlbnVhdGlvbkwgPSAyLjAgKiBOZG90TCAvIChOZG90TCArIHNxcnQociAqIHIgKyAoMS4wIC0gciAqIHIpICogKE5kb3RMICogTmRvdEwpKSk7XG4gIGZsb2F0IGF0dGVudWF0aW9uViA9IDIuMCAqIE5kb3RWIC8gKE5kb3RWICsgc3FydChyICogciArICgxLjAgLSByICogcikgKiAoTmRvdFYgKiBOZG90VikpKTtcbiAgcmV0dXJuIGF0dGVudWF0aW9uTCAqIGF0dGVudWF0aW9uVjtcbn1cblxuXG5cblxuXG5mbG9hdCBtaWNyb2ZhY2V0RGlzdHJpYnV0aW9uKFBCUkluZm8gcGJySW5wdXRzKVxue1xuICBmbG9hdCByb3VnaG5lc3NTcSA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcyAqIHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcbiAgZmxvYXQgZiA9IChwYnJJbnB1dHMuTmRvdEggKiByb3VnaG5lc3NTcSAtIHBicklucHV0cy5OZG90SCkgKiBwYnJJbnB1dHMuTmRvdEggKyAxLjA7XG4gIHJldHVybiByb3VnaG5lc3NTcSAvIChNX1BJICogZiAqIGYpO1xufVxuXG52b2lkIFBCUkluZm9fc2V0QW1iaWVudExpZ2h0KGlub3V0IFBCUkluZm8gcGJySW5wdXRzKSB7XG4gIHBicklucHV0cy5OZG90TCA9IDEuMDtcbiAgcGJySW5wdXRzLk5kb3RIID0gMC4wO1xuICBwYnJJbnB1dHMuTGRvdEggPSAwLjA7XG4gIHBicklucHV0cy5WZG90SCA9IDEuMDtcbn1cblxudm9pZCBQQlJJbmZvX3NldERpcmVjdGlvbmFsTGlnaHQoaW5vdXQgUEJSSW5mbyBwYnJJbnB1dHMsIHZlYzMgbGlnaHREaXJlY3Rpb24pIHtcbiAgdmVjMyBuID0gcGJySW5wdXRzLm47XG4gIHZlYzMgdiA9IHBicklucHV0cy52O1xuICB2ZWMzIGwgPSBub3JtYWxpemUobGlnaHREaXJlY3Rpb24pO1xuICB2ZWMzIGggPSBub3JtYWxpemUobCt2KTtcblxuICBwYnJJbnB1dHMuTmRvdEwgPSBjbGFtcChkb3QobiwgbCksIDAuMDAxLCAxLjApO1xuICBwYnJJbnB1dHMuTmRvdEggPSBjbGFtcChkb3QobiwgaCksIDAuMCwgMS4wKTtcbiAgcGJySW5wdXRzLkxkb3RIID0gY2xhbXAoZG90KGwsIGgpLCAwLjAsIDEuMCk7XG4gIHBicklucHV0cy5WZG90SCA9IGNsYW1wKGRvdCh2LCBoKSwgMC4wLCAxLjApO1xufVxuXG52b2lkIFBCUkluZm9fc2V0UG9pbnRMaWdodChpbm91dCBQQlJJbmZvIHBicklucHV0cywgUG9pbnRMaWdodCBwb2ludExpZ2h0KSB7XG4gIHZlYzMgbGlnaHRfZGlyZWN0aW9uID0gbm9ybWFsaXplKHBvaW50TGlnaHQucG9zaXRpb24gLSBwYnJfdlBvc2l0aW9uKTtcbiAgUEJSSW5mb19zZXREaXJlY3Rpb25hbExpZ2h0KHBicklucHV0cywgbGlnaHRfZGlyZWN0aW9uKTtcbn1cblxudmVjMyBjYWxjdWxhdGVGaW5hbENvbG9yKFBCUkluZm8gcGJySW5wdXRzLCB2ZWMzIGxpZ2h0Q29sb3IpIHtcbiAgdmVjMyBGID0gc3BlY3VsYXJSZWZsZWN0aW9uKHBicklucHV0cyk7XG4gIGZsb2F0IEcgPSBnZW9tZXRyaWNPY2NsdXNpb24ocGJySW5wdXRzKTtcbiAgZmxvYXQgRCA9IG1pY3JvZmFjZXREaXN0cmlidXRpb24ocGJySW5wdXRzKTtcbiAgdmVjMyBkaWZmdXNlQ29udHJpYiA9ICgxLjAgLSBGKSAqIGRpZmZ1c2UocGJySW5wdXRzKTtcbiAgdmVjMyBzcGVjQ29udHJpYiA9IEYgKiBHICogRCAvICg0LjAgKiBwYnJJbnB1dHMuTmRvdEwgKiBwYnJJbnB1dHMuTmRvdFYpO1xuICByZXR1cm4gcGJySW5wdXRzLk5kb3RMICogbGlnaHRDb2xvciAqIChkaWZmdXNlQ29udHJpYiArIHNwZWNDb250cmliKTtcbn1cblxudmVjNCBwYnJfZmlsdGVyQ29sb3IodmVjNCBjb2xvclVudXNlZClcbntcblxuXG4gIGZsb2F0IHBlcmNlcHR1YWxSb3VnaG5lc3MgPSB1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzLnk7XG4gIGZsb2F0IG1ldGFsbGljID0gdV9NZXRhbGxpY1JvdWdobmVzc1ZhbHVlcy54O1xuI2lmZGVmIEhBU19NRVRBTFJPVUdITkVTU01BUFxuXG4gIHZlYzQgbXJTYW1wbGUgPSB0ZXh0dXJlMkQodV9NZXRhbGxpY1JvdWdobmVzc1NhbXBsZXIsIHBicl92VVYpO1xuICBwZXJjZXB0dWFsUm91Z2huZXNzID0gbXJTYW1wbGUuZyAqIHBlcmNlcHR1YWxSb3VnaG5lc3M7XG4gIG1ldGFsbGljID0gbXJTYW1wbGUuYiAqIG1ldGFsbGljO1xuI2VuZGlmXG4gIHBlcmNlcHR1YWxSb3VnaG5lc3MgPSBjbGFtcChwZXJjZXB0dWFsUm91Z2huZXNzLCBjX01pblJvdWdobmVzcywgMS4wKTtcbiAgbWV0YWxsaWMgPSBjbGFtcChtZXRhbGxpYywgMC4wLCAxLjApO1xuXG4gIGZsb2F0IGFscGhhUm91Z2huZXNzID0gcGVyY2VwdHVhbFJvdWdobmVzcyAqIHBlcmNlcHR1YWxSb3VnaG5lc3M7XG4jaWZkZWYgSEFTX0JBU0VDT0xPUk1BUFxuICB2ZWM0IGJhc2VDb2xvciA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlMkQodV9CYXNlQ29sb3JTYW1wbGVyLCBwYnJfdlVWKSkgKiB1X0Jhc2VDb2xvckZhY3RvcjtcbiNlbHNlXG4gIHZlYzQgYmFzZUNvbG9yID0gdV9CYXNlQ29sb3JGYWN0b3I7XG4jZW5kaWZcblxuI2lmZGVmIEFMUEhBX0NVVE9GRlxuICBpZiAoYmFzZUNvbG9yLmEgPCB1X0FscGhhQ3V0b2ZmKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuI2VuZGlmXG5cbiAgdmVjMyBmMCA9IHZlYzMoMC4wNCk7XG4gIHZlYzMgZGlmZnVzZUNvbG9yID0gYmFzZUNvbG9yLnJnYiAqICh2ZWMzKDEuMCkgLSBmMCk7XG4gIGRpZmZ1c2VDb2xvciAqPSAxLjAgLSBtZXRhbGxpYztcbiAgdmVjMyBzcGVjdWxhckNvbG9yID0gbWl4KGYwLCBiYXNlQ29sb3IucmdiLCBtZXRhbGxpYyk7XG4gIGZsb2F0IHJlZmxlY3RhbmNlID0gbWF4KG1heChzcGVjdWxhckNvbG9yLnIsIHNwZWN1bGFyQ29sb3IuZyksIHNwZWN1bGFyQ29sb3IuYik7XG5cblxuXG4gIGZsb2F0IHJlZmxlY3RhbmNlOTAgPSBjbGFtcChyZWZsZWN0YW5jZSAqIDI1LjAsIDAuMCwgMS4wKTtcbiAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjAgPSBzcGVjdWxhckNvbG9yLnJnYjtcbiAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjkwID0gdmVjMygxLjAsIDEuMCwgMS4wKSAqIHJlZmxlY3RhbmNlOTA7XG5cbiAgdmVjMyBuID0gZ2V0Tm9ybWFsKCk7XG4gIHZlYzMgdiA9IG5vcm1hbGl6ZSh1X0NhbWVyYSAtIHBicl92UG9zaXRpb24pO1xuXG4gIGZsb2F0IE5kb3RWID0gY2xhbXAoYWJzKGRvdChuLCB2KSksIDAuMDAxLCAxLjApO1xuICB2ZWMzIHJlZmxlY3Rpb24gPSAtbm9ybWFsaXplKHJlZmxlY3QodiwgbikpO1xuXG4gIFBCUkluZm8gcGJySW5wdXRzID0gUEJSSW5mbyhcbiAgICAwLjAsXG4gICAgTmRvdFYsXG4gICAgMC4wLFxuICAgIDAuMCxcbiAgICAwLjAsXG4gICAgcGVyY2VwdHVhbFJvdWdobmVzcyxcbiAgICBtZXRhbGxpYyxcbiAgICBzcGVjdWxhckVudmlyb25tZW50UjAsXG4gICAgc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxcbiAgICBhbHBoYVJvdWdobmVzcyxcbiAgICBkaWZmdXNlQ29sb3IsXG4gICAgc3BlY3VsYXJDb2xvcixcbiAgICBuLFxuICAgIHZcbiAgKTtcblxuICB2ZWMzIGNvbG9yID0gdmVjMygwLCAwLCAwKTtcblxuI2lmZGVmIFVTRV9MSUdIVFNcbiAgUEJSSW5mb19zZXRBbWJpZW50TGlnaHQocGJySW5wdXRzKTtcbiAgY29sb3IgKz0gY2FsY3VsYXRlRmluYWxDb2xvcihwYnJJbnB1dHMsIGxpZ2h0aW5nX3VBbWJpZW50TGlnaHQuY29sb3IpO1xuICBTTUFSVF9GT1IoaW50IGkgPSAwLCBpIDwgTUFYX0xJR0hUUywgaSA8IGxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0Q291bnQsIGkrKykge1xuICAgIGlmIChpIDwgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudCkge1xuICAgICAgUEJSSW5mb19zZXREaXJlY3Rpb25hbExpZ2h0KHBicklucHV0cywgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV0uZGlyZWN0aW9uKTtcbiAgICAgIGNvbG9yICs9IGNhbGN1bGF0ZUZpbmFsQ29sb3IocGJySW5wdXRzLCBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodFtpXS5jb2xvcik7XG4gICAgfVxuICB9XG4gIFNNQVJUX0ZPUihpbnQgaSA9IDAsIGkgPCBNQVhfTElHSFRTLCBpIDwgbGlnaHRpbmdfdVBvaW50TGlnaHRDb3VudCwgaSsrKSB7XG4gICAgaWYgKGkgPCBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICBQQlJJbmZvX3NldFBvaW50TGlnaHQocGJySW5wdXRzLCBsaWdodGluZ191UG9pbnRMaWdodFtpXSk7XG4gICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IGdldFBvaW50TGlnaHRBdHRlbnVhdGlvbihsaWdodGluZ191UG9pbnRMaWdodFtpXSwgZGlzdGFuY2UobGlnaHRpbmdfdVBvaW50TGlnaHRbaV0ucG9zaXRpb24sIHBicl92UG9zaXRpb24pKTtcbiAgICAgIGNvbG9yICs9IGNhbGN1bGF0ZUZpbmFsQ29sb3IocGJySW5wdXRzLCBsaWdodGluZ191UG9pbnRMaWdodFtpXS5jb2xvciAvIGF0dGVudWF0aW9uKTtcbiAgICB9XG4gIH1cbiNlbmRpZlxuI2lmZGVmIFVTRV9JQkxcbiAgY29sb3IgKz0gZ2V0SUJMQ29udHJpYnV0aW9uKHBicklucHV0cywgbiwgcmVmbGVjdGlvbik7XG4jZW5kaWZcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXG4gIGZsb2F0IGFvID0gdGV4dHVyZTJEKHVfT2NjbHVzaW9uU2FtcGxlciwgcGJyX3ZVVikucjtcbiAgY29sb3IgPSBtaXgoY29sb3IsIGNvbG9yICogYW8sIHVfT2NjbHVzaW9uU3RyZW5ndGgpO1xuI2VuZGlmXG5cbiNpZmRlZiBIQVNfRU1JU1NJVkVNQVBcbiAgdmVjMyBlbWlzc2l2ZSA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlMkQodV9FbWlzc2l2ZVNhbXBsZXIsIHBicl92VVYpKS5yZ2IgKiB1X0VtaXNzaXZlRmFjdG9yO1xuICBjb2xvciArPSBlbWlzc2l2ZTtcbiNlbmRpZlxuXG4jaWZkZWYgUEJSX0RFQlVHXG5cblxuXG5cblxuICBjb2xvciA9IG1peChjb2xvciwgYmFzZUNvbG9yLnJnYiwgdV9TY2FsZURpZmZCYXNlTVIueSk7XG4gIGNvbG9yID0gbWl4KGNvbG9yLCB2ZWMzKG1ldGFsbGljKSwgdV9TY2FsZURpZmZCYXNlTVIueik7XG4gIGNvbG9yID0gbWl4KGNvbG9yLCB2ZWMzKHBlcmNlcHR1YWxSb3VnaG5lc3MpLCB1X1NjYWxlRGlmZkJhc2VNUi53KTtcbiNlbmRpZlxuXG4gIHJldHVybiB2ZWM0KHBvdyhjb2xvcix2ZWMzKDEuMC8yLjIpKSwgYmFzZUNvbG9yLmEpO1xufVxuIixkZWZpbmVzOntMSUdIVElOR19GUkFHTUVOVDoxfSxkZXBlbmRlbmNpZXM6W24oMTQzKS5hXX0sdz1uKDYpLGs9big3KSxTPW4oOCksUD1uKDExNSksaj1uKDI4KSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qody5hKSh0aGlzLHQpO3ZhciBuPWUuaWQ7dGhpcy5pZD1ufHxPYmplY3QoUC5jKSh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpLHRoaXMuZGlzcGxheT0hMCx0aGlzLnBvc2l0aW9uPW5ldyBTLmQsdGhpcy5yb3RhdGlvbj1uZXcgUy5kLHRoaXMuc2NhbGU9bmV3IFMuZCgxLDEsMSksdGhpcy5tYXRyaXg9bmV3IFMuYSx0aGlzLnVzZXJEYXRhPXt9LHRoaXMucHJvcHM9e30sdGhpcy5fc2V0U2NlbmVncmFwaE5vZGVQcm9wcyhlKX1yZXR1cm4gT2JqZWN0KGsuYSkodCxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0U2NlbmVncmFwaE5vZGVQcm9wcyh0KSx0aGlzfX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInt0eXBlOiBTY2VuZWdyYXBoTm9kZSwgaWQ6ICIuY29uY2F0KHRoaXMuaWQsIil9Iil9fSx7a2V5OiJzZXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT10Lmxlbmd0aCwic2V0UG9zaXRpb24gcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5wb3NpdGlvbj10LHRoaXN9fSx7a2V5OiJzZXRSb3RhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT10Lmxlbmd0aCwic2V0Um90YXRpb24gcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5yb3RhdGlvbj10LHRoaXN9fSx7a2V5OiJzZXRTY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT10Lmxlbmd0aCwic2V0U2NhbGUgcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5zY2FsZT10LHRoaXN9fSx7a2V5OiJzZXRNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07ZT90aGlzLm1hdHJpeC5jb3B5KHQpOnRoaXMubWF0cml4PXR9fSx7a2V5OiJzZXRNYXRyaXhDb21wb25lbnRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnBvc2l0aW9uLG49dC5yb3RhdGlvbixyPXQuc2NhbGUsaT10LnVwZGF0ZSxhPXZvaWQgMD09PWl8fGk7cmV0dXJuIGUmJnRoaXMuc2V0UG9zaXRpb24oZSksbiYmdGhpcy5zZXRSb3RhdGlvbihuKSxyJiZ0aGlzLnNldFNjYWxlKHIpLGEmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpc319LHtrZXk6InVwZGF0ZU1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uLGU9dGhpcy5yb3RhdGlvbixuPXRoaXMuc2NhbGU7cmV0dXJuIHRoaXMubWF0cml4LmlkZW50aXR5KCksdGhpcy5tYXRyaXgudHJhbnNsYXRlKHQpLHRoaXMubWF0cml4LnJvdGF0ZVhZWihlKSx0aGlzLm1hdHJpeC5zY2FsZShuKSx0aGlzfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQucG9zaXRpb24sbj10LnJvdGF0aW9uLHI9dC5zY2FsZTtyZXR1cm4gZSYmdGhpcy5zZXRQb3NpdGlvbihlKSxuJiZ0aGlzLnNldFJvdGF0aW9uKG4pLHImJnRoaXMuc2V0U2NhbGUociksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzfX0se2tleToiZ2V0Q29vcmRpbmF0ZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0LGUpe09iamVjdChqLmEpKHQpLGU9ZXx8dGhpcy5tYXRyaXg7dmFyIG49bmV3IFMuYSh0KS5tdWx0aXBseVJpZ2h0KGUpLHI9bi5pbnZlcnQoKSxpPXIudHJhbnNwb3NlKCk7cmV0dXJue3ZpZXdNYXRyaXg6dCxtb2RlbE1hdHJpeDplLG9iamVjdE1hdHJpeDplLHdvcmxkTWF0cml4Om4sd29ybGRJbnZlcnNlTWF0cml4OnIsd29ybGRJbnZlcnNlVHJhbnNwb3NlTWF0cml4Oml9fX0se2tleToiX3NldFNjZW5lZ3JhcGhOb2RlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJkaXNwbGF5ImluIHQmJih0aGlzLmRpc3BsYXk9dC5kaXNwbGF5KSwicG9zaXRpb24iaW4gdCYmdGhpcy5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKSwicm90YXRpb24iaW4gdCYmdGhpcy5zZXRSb3RhdGlvbih0LnJvdGF0aW9uKSwic2NhbGUiaW4gdCYmdGhpcy5zZXRTY2FsZSh0LnNjYWxlKSwibWF0cml4ImluIHQmJnRoaXMuc2V0TWF0cml4KHQubWF0cml4KSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsdCl9fV0pLHR9KCksRT1uKDQ4KSxBPW4oNzIpLE09bigyNiksQz1uKDE3KSxMPW4oMTUpLEk9big4OCksUj1uKDE4KSxOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qody5hKSh0aGlzLGUpO3ZhciByPW49QXJyYXkuaXNBcnJheShuKT97Y2hpbGRyZW46bn06bixpPXIuY2hpbGRyZW4sYT12b2lkIDA9PT1pP1tdOmk7cmV0dXJuIE8uaC5hc3NlcnQoYS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBUfSkpLCJldmVyeSBjaGlsZCBtdXN0IGFuIGluc3RhbmNlIG9mIFNjZW5lZ3JhcGhOb2RlIiksKHQ9T2JqZWN0KEMuYSkodGhpcyxPYmplY3QoTC5hKShlKS5jYWxsKHRoaXMsbikpKS5jaGlsZHJlbj1hLHR9cmV0dXJuIE9iamVjdChSLmEpKGUsdCksT2JqZWN0KGsuYSkoZSxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXTtBcnJheS5pc0FycmF5KGEpP3RoaXMuYWRkLmFwcGx5KHRoaXMsT2JqZWN0KE0uYSkoYSkpOnRoaXMuY2hpbGRyZW4ucHVzaChhKX1yZXR1cm4gdGhpc319LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZHJlbixuPWUuaW5kZXhPZih0KTtyZXR1cm4gbj4tMSYmZS5zcGxpY2UobiwxKSx0aGlzfX0se2tleToicmVtb3ZlQWxsIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuPVtdLHRoaXN9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWxldGUoKX0pKSx0aGlzLnJlbW92ZUFsbCgpLE9iamVjdChJLmEpKE9iamVjdChMLmEpKGUucHJvdG90eXBlKSwiZGVsZXRlIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToidHJhdmVyc2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4ud29ybGRNYXRyaXgsaT12b2lkIDA9PT1yP25ldyBTLmE6cixhPW5ldyBTLmEoaSkubXVsdGlwbHlSaWdodCh0aGlzLm1hdHJpeCksbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD10aGlzLmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWU7aCBpbnN0YW5jZW9mIGU/aC50cmF2ZXJzZSh0LHt3b3JsZE1hdHJpeDphfSk6dChoLHt3b3JsZE1hdHJpeDphfSl9fWNhdGNoKHQpe3M9ITAsdT10fWZpbmFsbHl7dHJ5e298fG51bGw9PWwucmV0dXJufHxsLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyB1fX19fV0pLGV9KFQpLEQ9e1NDQUxBUjoxLFZFQzI6MixWRUMzOjMsVkVDNDo0LE1BVDI6NCxNQVQzOjksTUFUNDoxNn0sRj17NTEyMDpJbnQ4QXJyYXksNTEyMTpVaW50OEFycmF5LDUxMjI6SW50MTZBcnJheSw1MTIzOlVpbnQxNkFycmF5LDUxMjU6VWludDMyQXJyYXksNTEyNjpGbG9hdDMyQXJyYXl9O2Z1bmN0aW9uIHoodCl7aWYoIXQuX2FuaW1hdGlvbil7dmFyIGU9Rlt0LmNvbXBvbmVudFR5cGVdLG49RFt0LnR5cGVdLHI9bip0LmNvdW50LGk9dC5idWZmZXJWaWV3LmRhdGEsYT1uZXcgZShpLmJ1ZmZlcixpLmJ5dGVPZmZzZXQrKHQuYnl0ZU9mZnNldHx8MCkscik7aWYoMT09PW4pdC5fYW5pbWF0aW9uPUFycmF5LmZyb20oYSk7ZWxzZXtmb3IodmFyIG89W10scz0wO3M8YS5sZW5ndGg7cys9bilvLnB1c2goQXJyYXkuZnJvbShhLnNsaWNlKHMscytuKSkpO3QuX2FuaW1hdGlvbj1vfX1yZXR1cm4gdC5fYW5pbWF0aW9ufXZhciBCPW5ldyBTLmE7dmFyIFU9bmV3IFMuYjtmdW5jdGlvbiBWKHQsZSxuLHIpe3ZhciBpPWUuaW5wdXQsYT1lLmludGVycG9sYXRpb24sbz1lLm91dHB1dCxzPXQlaVtpLmxlbmd0aC0xXSx1PWkuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdD49c30pKSxjPU1hdGgubWF4KDAsdS0xKTtpZighQXJyYXkuaXNBcnJheShuW3JdKSlzd2l0Y2gocil7Y2FzZSJ0cmFuc2xhdGlvbiI6bltyXT1bMCwwLDBdO2JyZWFrO2Nhc2Uicm90YXRpb24iOm5bcl09WzAsMCwwLDFdO2JyZWFrO2Nhc2Uic2NhbGUiOm5bcl09WzEsMSwxXTticmVhaztkZWZhdWx0Ok8uaC53YXJuKCJCYWQgYW5pbWF0aW9uIHBhdGggIi5jb25jYXQocikpKCl9T2JqZWN0KGouYSkobltyXS5sZW5ndGg9PT1vW2NdLmxlbmd0aCk7dmFyIGw9aVtjXSxoPWlbdV07c3dpdGNoKGEpe2Nhc2UiU1RFUCI6IWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl0W2VdW3JdPW5bcl19KG4scixvW2NdKTticmVhaztjYXNlIkxJTkVBUiI6aWYoaD5sKXt2YXIgZj0ocy1sKS8oaC1sKTshZnVuY3Rpb24odCxlLG4scixpKXtpZigicm90YXRpb24iPT09ZSl7VS5zbGVycCh7c3RhcnQ6bix0YXJnZXQ6cixyYXRpbzppfSk7Zm9yKHZhciBhPTA7YTxVLmxlbmd0aDthKyspdFtlXVthXT1VW2FdfWVsc2UgZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspdFtlXVtvXT1pKnJbb10rKDEtaSkqbltvXX0obixyLG9bY10sb1t1XSxmKX1icmVhaztjYXNlIkNVQklDU1BMSU5FIjppZihoPmwpe3ZhciBkPShzLWwpLyhoLWwpLHY9aC1sOyFmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4ucDAsaT1uLm91dFRhbmdlbnQwLGE9bi5pblRhbmdlbnQxLG89bi5wMSxzPW4udERpZmYsdT1uLnJhdGlvLGM9MDtjPHRbZV0ubGVuZ3RoO2MrKyl7dmFyIGw9aVtjXSpzLGg9YVtjXSpzO3RbZV1bY109KDIqTWF0aC5wb3codSwzKS0zKk1hdGgucG93KHUsMikrMSkqcltjXSsoTWF0aC5wb3codSwzKS0yKk1hdGgucG93KHUsMikrdSkqbCsoLTIqTWF0aC5wb3codSwzKSszKk1hdGgucG93KHUsMikpKm9bY10rKE1hdGgucG93KHUsMyktTWF0aC5wb3codSwyKSkqaH19KG4scix7cDA6b1szKmMrMV0sb3V0VGFuZ2VudDA6b1szKmMrMl0saW5UYW5nZW50MTpvWzMqdSswXSxwMTpvWzMqdSsxXSx0RGlmZjp2LHJhdGlvOmR9KX1icmVhaztkZWZhdWx0Ok8uaC53YXJuKCJJbnRlcnBvbGF0aW9uICIuY29uY2F0KGEsIiBub3Qgc3VwcG9ydGVkIikpKCl9fXZhciBHPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtPYmplY3Qody5hKSh0aGlzLHQpLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5wbGF5aW5nPSEwLHRoaXMuc3BlZWQ9MSxPYmplY3QuYXNzaWduKHRoaXMsZSl9cmV0dXJuIE9iamVjdChrLmEpKHQsW3trZXk6ImFuaW1hdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMucGxheWluZyl7dmFyIGU9KHQvMWUzLXRoaXMuc3RhcnRUaW1lKSp0aGlzLnNwZWVkO3RoaXMuY2hhbm5lbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dC5zYW1wbGVyLHI9dC50YXJnZXQsaT10LnBhdGg7VihlLG4scixpKSxmdW5jdGlvbih0LGUpe2lmKGUubWF0cml4LmlkZW50aXR5KCksdC50cmFuc2xhdGlvbiYmZS5tYXRyaXgudHJhbnNsYXRlKHQudHJhbnNsYXRpb24pLHQucm90YXRpb24pe3ZhciBuPUIuZnJvbVF1YXRlcm5pb24odC5yb3RhdGlvbik7ZS5tYXRyaXgubXVsdGlwbHlSaWdodChuKX10LnNjYWxlJiZlLm1hdHJpeC5zY2FsZSh0LnNjYWxlKX0ocixyLl9ub2RlKX0pKX19fV0pLHR9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7T2JqZWN0KHcuYSkodGhpcyx0KSx0aGlzLmFuaW1hdGlvbnM9ZS5hbmltYXRpb25zLm1hcCgoZnVuY3Rpb24odCxuKXt2YXIgcj10Lm5hbWV8fCJBbmltYXRpb24tIi5jb25jYXQobiksaT10LnNhbXBsZXJzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49dC5pbnB1dCxyPXQuaW50ZXJwb2xhdGlvbixpPXZvaWQgMD09PXI/IkxJTkVBUiI6cixhPXQub3V0cHV0O3JldHVybntpbnB1dDp6KGUuYWNjZXNzb3JzW25dKSxpbnRlcnBvbGF0aW9uOmksb3V0cHV0OnooZS5hY2Nlc3NvcnNbYV0pfX0pKSxhPXQuY2hhbm5lbHMubWFwKChmdW5jdGlvbih0KXt2YXIgbj10LnNhbXBsZXIscj10LnRhcmdldDtyZXR1cm57c2FtcGxlcjppW25dLHRhcmdldDplLm5vZGVzW3Iubm9kZV0scGF0aDpyLnBhdGh9fSkpO3JldHVybiBuZXcgRyh7bmFtZTpyLGNoYW5uZWxzOmF9KX0pKX1yZXR1cm4gT2JqZWN0KGsuYSkodCxbe2tleToiYW5pbWF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zZXRUaW1lKHQpfX0se2tleToic2V0VGltZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFuaW1hdGUodCl9KSl9fSx7a2V5OiJnZXRBbmltYXRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuaW1hdGlvbnN9fV0pLHR9KCksSD1uKDE3NSkscT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qody5hKSh0aGlzLGUpLChuPU9iamVjdChDLmEpKHRoaXMsT2JqZWN0KEwuYSkoZSkuY2FsbCh0aGlzLHIpKSkub25CZWZvcmVSZW5kZXI9bnVsbCxuLkFmdGVyUmVuZGVyPW51bGwsdCBpbnN0YW5jZW9mIEguYT8obi5tb2RlbD10LG4uX3NldE1vZGVsTm9kZVByb3BzKHIpKTpuLm1vZGVsPW5ldyBILmEodCxyKSxuLm1hbmFnZWRSZXNvdXJjZXM9ci5tYW5hZ2VkUmVzb3VyY2VzfHxbXSxufXJldHVybiBPYmplY3QoUi5hKShlLHQpLE9iamVjdChrLmEpKGUsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEkuYSkoT2JqZWN0KEwuYSkoZS5wcm90b3R5cGUpLCJzZXRQcm9wcyIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuX3NldE1vZGVsTm9kZVByb3BzKHQpLHRoaXN9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbCYmKHRoaXMubW9kZWwuZGVsZXRlKCksdGhpcy5tb2RlbD1udWxsKSx0aGlzLm1hbmFnZWRSZXNvdXJjZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlKCl9KSksdGhpcy5tYW5hZ2VkUmVzb3VyY2VzPVtdfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLm1vZGVsKS5kcmF3LmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6InNldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMubW9kZWwpLnNldFVuaWZvcm1zLmFwcGx5KHQsYXJndW1lbnRzKSx0aGlzfX0se2tleToic2V0QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLm1vZGVsKS5zZXRBdHRyaWJ1dGVzLmFwcGx5KHQsYXJndW1lbnRzKSx0aGlzfX0se2tleToidXBkYXRlTW9kdWxlU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5tb2RlbCkudXBkYXRlTW9kdWxlU2V0dGluZ3MuYXBwbHkodCxhcmd1bWVudHMpLHRoaXN9fSx7a2V5OiJfc2V0TW9kZWxOb2RlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwuc2V0UHJvcHModCl9fV0pLGV9KFQpLFg9bigwKSxaPW4oMjc1KSxZPW4oMTg3KSxLPW4oMTI3KSxRPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPW4uYXR0cmlidXRlcyxpPW4ubWF0ZXJpYWwsYT1uLnBickRlYnVnLG89bi5pbWFnZUJhc2VkTGlnaHRpbmdFbnZpcm9ubWVudCxzPW4ubGlnaHRzLHU9bi51c2VUYW5nZW50cztPYmplY3Qody5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmRlZmluZXM9e01BTlVBTF9TUkdCOjEsU1JHQl9GQVNUX0FQUFJPWElNQVRJT046MX0sT2JqZWN0KFouYikoZSxZLmEuR0xTTF9URVhUVVJFX0xPRCkmJih0aGlzLmRlZmluZXMuVVNFX1RFWF9MT0Q9MSksdGhpcy51bmlmb3Jtcz17dV9DYW1lcmE6WzAsMCwwXSx1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzOlsxLDFdfSx0aGlzLnBhcmFtZXRlcnM9e30sdGhpcy5nZW5lcmF0ZWRUZXh0dXJlcz1bXSxvJiYodGhpcy51bmlmb3Jtcy51X0RpZmZ1c2VFbnZTYW1wbGVyPW8uZ2V0RGlmZnVzZUVudlNhbXBsZXIoKSx0aGlzLnVuaWZvcm1zLnVfU3BlY3VsYXJFbnZTYW1wbGVyPW8uZ2V0U3BlY3VsYXJFbnZTYW1wbGVyKCksdGhpcy51bmlmb3Jtcy51X2JyZGZMVVQ9by5nZXRCcmRmVGV4dHVyZSgpLHRoaXMudW5pZm9ybXMudV9TY2FsZUlCTEFtYmllbnQ9WzEsMV0pLGEmJih0aGlzLnVuaWZvcm1zLnVfU2NhbGVEaWZmQmFzZU1SPVswLDAsMCwwXSx0aGlzLnVuaWZvcm1zLnVfU2NhbGVGR0RTcGVjPVswLDAsMCwwXSksdGhpcy5kZWZpbmVJZlByZXNlbnQoci5OT1JNQUwsIkhBU19OT1JNQUxTIiksdGhpcy5kZWZpbmVJZlByZXNlbnQoci5UQU5HRU5UJiZ1LCJIQVNfVEFOR0VOVFMiKSx0aGlzLmRlZmluZUlmUHJlc2VudChyLlRFWENPT1JEXzAsIkhBU19VViIpLHRoaXMuZGVmaW5lSWZQcmVzZW50KG8sIlVTRV9JQkwiKSx0aGlzLmRlZmluZUlmUHJlc2VudChzLCJVU0VfTElHSFRTIiksdGhpcy5kZWZpbmVJZlByZXNlbnQoYSwiUEJSX0RFQlVHIiksaSYmdGhpcy5wYXJzZU1hdGVyaWFsKGkpfXJldHVybiBPYmplY3Qoay5hKSh0LFt7a2V5OiJkZWZpbmVJZlByZXNlbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dCYmKHRoaXMuZGVmaW5lc1tlXT0xKX19LHtrZXk6InBhcnNlVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPXQudGV4dHVyZSYmdC50ZXh0dXJlLnNhbXBsZXImJnQudGV4dHVyZS5zYW1wbGVyLnBhcmFtZXRlcnN8fHt9LGk9bmV3IEsuYSh0aGlzLmdsLHtpZDp0Lm5hbWV8fHQuaWQscGFyYW1ldGVyczpyLHBpeGVsU3RvcmU6T2JqZWN0KFguYSkoe30sdGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKSxkYXRhOnQudGV4dHVyZS5zb3VyY2UuaW1hZ2V9KTt0aGlzLnVuaWZvcm1zW2VdPWksdGhpcy5kZWZpbmVJZlByZXNlbnQobixuKSx0aGlzLmdlbmVyYXRlZFRleHR1cmVzLnB1c2goaSl9fSx7a2V5OiJwYXJzZVBick1ldGFsbGljUm91Z2huZXNzIix2YWx1ZTpmdW5jdGlvbih0KXt0LmJhc2VDb2xvclRleHR1cmUmJnRoaXMucGFyc2VUZXh0dXJlKHQuYmFzZUNvbG9yVGV4dHVyZSwidV9CYXNlQ29sb3JTYW1wbGVyIiwiSEFTX0JBU0VDT0xPUk1BUCIpLHRoaXMudW5pZm9ybXMudV9CYXNlQ29sb3JGYWN0b3I9dC5iYXNlQ29sb3JGYWN0b3J8fFsxLDEsMSwxXSx0Lm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSYmdGhpcy5wYXJzZVRleHR1cmUodC5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsInVfTWV0YWxsaWNSb3VnaG5lc3NTYW1wbGVyIiwiSEFTX01FVEFMUk9VR0hORVNTTUFQIik7dmFyIGU9dC5tZXRhbGxpY0ZhY3RvcixuPXZvaWQgMD09PWU/MTplLHI9dC5yb3VnaG5lc3NGYWN0b3IsaT12b2lkIDA9PT1yPzE6cjt0aGlzLnVuaWZvcm1zLnVfTWV0YWxsaWNSb3VnaG5lc3NWYWx1ZXM9W24saV19fSx7a2V5OiJwYXJzZU1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LnBick1ldGFsbGljUm91Z2huZXNzJiZ0aGlzLnBhcnNlUGJyTWV0YWxsaWNSb3VnaG5lc3ModC5wYnJNZXRhbGxpY1JvdWdobmVzcyksdC5ub3JtYWxUZXh0dXJlKXt0aGlzLnBhcnNlVGV4dHVyZSh0Lm5vcm1hbFRleHR1cmUsInVfTm9ybWFsU2FtcGxlciIsIkhBU19OT1JNQUxNQVAiKTt2YXIgZT10Lm5vcm1hbFRleHR1cmUuc2NhbGUsbj12b2lkIDA9PT1lPzE6ZTt0aGlzLnVuaWZvcm1zLnVfTm9ybWFsU2NhbGU9bn1pZih0Lm9jY2x1c2lvblRleHR1cmUpe3RoaXMucGFyc2VUZXh0dXJlKHQub2NjbHVzaW9uVGV4dHVyZSwidV9PY2NsdXNpb25TYW1wbGVyIiwiSEFTX09DQ0xVU0lPTk1BUCIpO3ZhciByPXQub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCxpPXZvaWQgMD09PXI/MTpyO3RoaXMudW5pZm9ybXMudV9PY2NsdXNpb25TdHJlbmd0aD1pfWlmKHQuZW1pc3NpdmVUZXh0dXJlJiYodGhpcy5wYXJzZVRleHR1cmUodC5lbWlzc2l2ZVRleHR1cmUsInVfRW1pc3NpdmVTYW1wbGVyIiwiSEFTX0VNSVNTSVZFTUFQIiksdGhpcy51bmlmb3Jtcy51X0VtaXNzaXZlRmFjdG9yPXQuZW1pc3NpdmVGYWN0b3J8fFswLDAsMF0pLCJNQVNLIj09PXQuYWxwaGFNb2RlKXt2YXIgYT10LmFscGhhQ3V0b2ZmLG89dm9pZCAwPT09YT8uNTphO3RoaXMuZGVmaW5lcy5BTFBIQV9DVVRPRkY9MSx0aGlzLnVuaWZvcm1zLnVfQWxwaGFDdXRvZmY9b31lbHNlIkJMRU5EIj09PXQuYWxwaGFNb2RlJiYoTy5oLndhcm4oIkJMRU5EIGFscGhhTW9kZSBtaWdodCBub3Qgd29yayB3ZWxsIGJlY2F1c2UgaXQgcmVxdWlyZXMgbWVzaCBzb3J0aW5nIikoKSxPYmplY3QuYXNzaWduKHRoaXMucGFyYW1ldGVycyx7YmxlbmQ6ITAsYmxlbmRFcXVhdGlvbjp0aGlzLmdsLkZVTkNfQURELGJsZW5kRnVuYzpbdGhpcy5nbC5TUkNfQUxQSEEsdGhpcy5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuZ2wuT05FLHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQV19KSl9fV0pLHR9KCk7ZnVuY3Rpb24gSih0LGUpe3JldHVybiBPYmplY3QoTy5nKSh0KT8iI3ZlcnNpb24gMzAwIGVzXG4iLmNvbmNhdChlKTplfXZhciAkPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LHR0PXttb2RlbE9wdGlvbnM6e30scGJyRGVidWc6ITEsaW1hZ2VCYXNlZExpZ2h0aW5nRW52aXJvbm1lbnQ6bnVsbCxsaWdodHM6ITAsdXNlVGFuZ2VudHM6ITF9LGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHcuYSkodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdHQsbil9cmV0dXJuIE9iamVjdChrLmEpKHQsW3trZXk6Imluc3RhbnRpYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmdsdGY9dCwodC5zY2VuZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZVNjZW5lKHQpfSkpfX0se2tleToiY3JlYXRlQW5pbWF0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5nbHRmLmFuaW1hdGlvbnMpP25ldyBXKHRoaXMuZ2x0Zik6bnVsbH19LHtrZXk6ImNyZWF0ZVNjZW5lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49KHQubm9kZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZU5vZGUodCl9KSk7cmV0dXJuIG5ldyBOKHtpZDp0Lm5hbWV8fHQuaWQsY2hpbGRyZW46bn0pfX0se2tleToiY3JlYXRlTm9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdC5fbm9kZSl7dmFyIG49KHQuY2hpbGRyZW58fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZU5vZGUodCl9KSk7dC5tZXNoJiZuLnB1c2godGhpcy5jcmVhdGVNZXNoKHQubWVzaCkpO3ZhciByPW5ldyBOKHtpZDp0Lm5hbWV8fHQuaWQsY2hpbGRyZW46bn0pO2lmKHQubWF0cml4KXIuc2V0TWF0cml4KHQubWF0cml4KTtlbHNle2lmKHIubWF0cml4LmlkZW50aXR5KCksdC50cmFuc2xhdGlvbiYmci5tYXRyaXgudHJhbnNsYXRlKHQudHJhbnNsYXRpb24pLHQucm90YXRpb24pe3ZhciBpPShuZXcgUy5hKS5mcm9tUXVhdGVybmlvbih0LnJvdGF0aW9uKTtyLm1hdHJpeC5tdWx0aXBseVJpZ2h0KGkpfXQuc2NhbGUmJnIubWF0cml4LnNjYWxlKHQuc2NhbGUpfXQuX25vZGU9cn1yZXR1cm4gdC5fbm9kZX19LHtrZXk6ImNyZWF0ZU1lc2giLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXQuX21lc2gpe3ZhciBuPSh0LnByaW1pdGl2ZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGUuY3JlYXRlUHJpbWl0aXZlKG4scix0KX0pKSxyPW5ldyBOKHtpZDp0Lm5hbWV8fHQuaWQsY2hpbGRyZW46bn0pO3QuX21lc2g9cn1yZXR1cm4gdC5fbWVzaH19LHtrZXk6ImdldFZlcnRleENvdW50Iix2YWx1ZTpmdW5jdGlvbih0KXtPLmgud2FybigiZ2V0VmVydGV4Q291bnQoKSBub3QgZm91bmQiKSgpfX0se2tleToiY3JlYXRlUHJpbWl0aXZlIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5pZCxyPWUuZHJhd01vZGUsaT1lLnZlcnRleENvdW50LGE9ZS5hdHRyaWJ1dGVzLG89ZS5tb2RlbE9wdGlvbnMscz1uZXcgUSh0LGUpO08uaC5pbmZvKDQsImNyZWF0ZUdMVEZNb2RlbCBkZWZpbmVzOiAiLHMuZGVmaW5lcykoKTt2YXIgdT1bXTt1LnB1c2guYXBwbHkodSxPYmplY3QoTS5hKShzLmdlbmVyYXRlZFRleHR1cmVzKSksdS5wdXNoLmFwcGx5KHUsT2JqZWN0KE0uYSkoT2JqZWN0LnZhbHVlcyhhKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJ1ZmZlcn0pKSkpO3ZhciBjPW5ldyBxKHQsT2JqZWN0LmFzc2lnbih7aWQ6bixkcmF3TW9kZTpyLHZlcnRleENvdW50OmksbW9kdWxlczpbeF0sZGVmaW5lczpzLmRlZmluZXMscGFyYW1ldGVyczpzLnBhcmFtZXRlcnMsdnM6Sih0LCJcbiNpZiAoX19WRVJTSU9OX18gPCAzMDApXG4gICNkZWZpbmUgX2F0dHIgYXR0cmlidXRlXG4jZWxzZVxuICAjZGVmaW5lIF9hdHRyIGluXG4jZW5kaWZcblxuICBfYXR0ciB2ZWM0IFBPU0lUSU9OO1xuXG4gICNpZmRlZiBIQVNfTk9STUFMU1xuICAgIF9hdHRyIHZlYzQgTk9STUFMO1xuICAjZW5kaWZcblxuICAjaWZkZWYgSEFTX1RBTkdFTlRTXG4gICAgX2F0dHIgdmVjNCBUQU5HRU5UO1xuICAjZW5kaWZcblxuICAjaWZkZWYgSEFTX1VWXG4gICAgX2F0dHIgdmVjMiBURVhDT09SRF8wO1xuICAjZW5kaWZcblxuICB2b2lkIG1haW4odm9pZCkge1xuICAgIHZlYzQgX05PUk1BTCA9IHZlYzQoMC4pO1xuICAgIHZlYzQgX1RBTkdFTlQgPSB2ZWM0KDAuKTtcbiAgICB2ZWMyIF9URVhDT09SRF8wID0gdmVjMigwLik7XG5cbiAgICAjaWZkZWYgSEFTX05PUk1BTFNcbiAgICAgIF9OT1JNQUwgPSBOT1JNQUw7XG4gICAgI2VuZGlmXG5cbiAgICAjaWZkZWYgSEFTX1RBTkdFTlRTXG4gICAgICBfVEFOR0VOVCA9IFRBTkdFTlQ7XG4gICAgI2VuZGlmXG5cbiAgICAjaWZkZWYgSEFTX1VWXG4gICAgICBfVEVYQ09PUkRfMCA9IFRFWENPT1JEXzA7XG4gICAgI2VuZGlmXG5cbiAgICBwYnJfc2V0UG9zaXRpb25Ob3JtYWxUYW5nZW50VVYoUE9TSVRJT04sIF9OT1JNQUwsIF9UQU5HRU5ULCBfVEVYQ09PUkRfMCk7XG4gICAgZ2xfUG9zaXRpb24gPSB1X01WUE1hdHJpeCAqIFBPU0lUSU9OO1xuICB9XG4iKSxmczpKKHQsIlxuI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiAgI2RlZmluZSBmcmFnbWVudENvbG9yIGdsX0ZyYWdDb2xvclxuI2Vsc2VcbiAgb3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcbiNlbmRpZlxuXG4gIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgZnJhZ21lbnRDb2xvciA9IHBicl9maWx0ZXJDb2xvcih2ZWM0KDApKTtcbiAgfVxuIiksbWFuYWdlZFJlc291cmNlczp1fSxvKSk7cmV0dXJuIGMuc2V0UHJvcHMoe2F0dHJpYnV0ZXM6YX0pLGMuc2V0VW5pZm9ybXMocy51bmlmb3JtcyksY30odGhpcy5nbCxPYmplY3QuYXNzaWduKHtpZDp0Lm5hbWV8fCIiLmNvbmNhdChuLm5hbWV8fG4uaWQsIi1wcmltaXRpdmUtIikuY29uY2F0KGUpLGRyYXdNb2RlOnQubW9kZXx8NCx2ZXJ0ZXhDb3VudDp0LmluZGljZXM/dC5pbmRpY2VzLmNvdW50OnRoaXMuZ2V0VmVydGV4Q291bnQodC5hdHRyaWJ1dGVzKSxhdHRyaWJ1dGVzOnRoaXMuY3JlYXRlQXR0cmlidXRlcyh0LmF0dHJpYnV0ZXMsdC5pbmRpY2VzKSxtYXRlcmlhbDp0Lm1hdGVyaWFsfSx0aGlzLm9wdGlvbnMpKX19LHtrZXk6ImNyZWF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyW2VdPW4uY3JlYXRlQWNjZXNzb3IodFtlXSxuLmNyZWF0ZUJ1ZmZlcih0W2VdLG4uZ2wuQVJSQVlfQlVGRkVSKSl9KSksZSYmKHIuaW5kaWNlcz10aGlzLmNyZWF0ZUFjY2Vzc29yKGUsdGhpcy5jcmVhdGVCdWZmZXIoZSx0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSkpLE8uaC5pbmZvKDQsImdsVEYgQXR0cmlidXRlcyIse2F0dHJpYnV0ZXM6dCxpbmRpY2VzOmUsZ2VuZXJhdGVkOnJ9KSgpLHJ9fSx7a2V5OiJjcmVhdGVCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5idWZmZXJWaWV3fHwodC5idWZmZXJWaWV3PXt9KTt2YXIgbj10LmJ1ZmZlclZpZXc7cmV0dXJuIG4ubHVtYUJ1ZmZlcnN8fChuLmx1bWFCdWZmZXJzPXt9KSxuLmx1bWFCdWZmZXJzW2VdfHwobi5sdW1hQnVmZmVyc1tlXT1uZXcgRS5hKHRoaXMuZ2wse2lkOiJmcm9tLSIuY29uY2F0KG4uaWQpLGRhdGE6bi5kYXRhfHx0LnZhbHVlLHRhcmdldDplfSkpLG4ubHVtYUJ1ZmZlcnNbZV19fSx7a2V5OiJjcmVhdGVBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEEuYSh7YnVmZmVyOmUsb2Zmc2V0OnQuYnl0ZU9mZnNldHx8MCxzdHJpZGU6dC5idWZmZXJWaWV3LmJ5dGVTdHJpZGV8fDAsdHlwZTp0LmNvbXBvbmVudFR5cGUsc2l6ZTokW3QudHlwZV19KX19LHtrZXk6ImNyZWF0ZVNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0fX0se2tleToibmVlZHNQT1QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fV0pLHR9KCk7dmFyIG50PW4oNSkscnQ9bi5uKG50KSxpdD1uKDExMiksYXQ9bi5uKGl0KTtmdW5jdGlvbiBvdCgpe3JldHVybihvdD1hdCgpKHJ0LmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbjtyZXR1cm4gcnQuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1bXSxlLnNjZW5lcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtPYmplY3QudmFsdWVzKHQubW9kZWwuZ2V0VW5pZm9ybXMoKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ITE9PT10LmxvYWRlZCYmbi5wdXNoKHQpfSkpfSkpfSkpLHQubmV4dD00LHN0KChmdW5jdGlvbigpe3JldHVybiBuLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiF0LmxvYWRlZH0pKX0pKTtjYXNlIDQ6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc3QodCl7cmV0dXJuIHV0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1dCgpe3JldHVybih1dD1hdCgpKHJ0LmEubWFyaygoZnVuY3Rpb24gdChlKXtyZXR1cm4gcnQuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZighZSgpKXt0Lm5leHQ9NTticmVha31yZXR1cm4gdC5uZXh0PTMsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCl9KSk7Y2FzZSAzOnQubmV4dD0wO2JyZWFrO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjdD1uKDEzMCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKTt2YXIgbHQ9WzI1NSwyNTUsMjU1LDI1NV0saHQ9e3NjZW5lZ3JhcGg6e3R5cGU6Im9iamVjdCIsdmFsdWU6bnVsbCxhc3luYzohMH0sZ2V0U2NlbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuc2NlbmVzPyJvYmplY3QiPT09ZygpKHQuc2NlbmUpP3Quc2NlbmU6dC5zY2VuZXNbdC5zY2VuZXx8MF06dH0sZ2V0QW5pbWF0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuYW5pbWF0b3J9LF9hbmltYXRpb25zOm51bGwsc2l6ZVNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHNpemVNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sc2l6ZU1heFBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0sZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3NpdGlvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bHR9LF9saWdodGluZzoiZmxhdCIsX2ltYWdlQmFzZWRMaWdodGluZ0Vudmlyb25tZW50Om51bGwsZ2V0T3JpZW50YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDBdfSxnZXRTY2FsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlsxLDEsMV19LGdldFRyYW5zbGF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwXX0sZ2V0VHJhbnNmb3JtTWF0cml4Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6W119fSxmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksYWNjZXNzb3I6ImdldFBvc2l0aW9uIix0cmFuc2l0aW9uOiEwfSxpbnN0YW5jZUNvbG9yczp7dHlwZTo1MTIxLHNpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsYWNjZXNzb3I6ImdldENvbG9yIixub3JtYWxpemVkOiEwLGRlZmF1bHRWYWx1ZTpsdCx0cmFuc2l0aW9uOiEwfSxpbnN0YW5jZU1vZGVsTWF0cml4OmN0LmF9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgbj10LnByb3BzLHI9dC5vbGRQcm9wcztuLnNjZW5lZ3JhcGghPT1yLnNjZW5lZ3JhcGg/dGhpcy5fdXBkYXRlU2NlbmVncmFwaChuKTpuLl9hbmltYXRpb25zIT09ci5fYW5pbWF0aW9ucyYmdGhpcy5fYXBwbHlBbmltYXRpb25zUHJvcCh0aGlzLnN0YXRlLnNjZW5lZ3JhcGgsdGhpcy5zdGF0ZS5hbmltYXRvcixuLl9hbmltYXRpb25zKX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7ZigpKGwoKShlLnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5fZGVsZXRlU2NlbmVncmFwaCgpfX0se2tleToiX3VwZGF0ZVNjZW5lZ3JhcGgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcyxyPXRoaXMuY29udGV4dC5nbDtpZih0LnNjZW5lZ3JhcGggaW5zdGFuY2VvZiBUKWU9e3NjZW5lczpbdC5zY2VuZWdyYXBoXX07ZWxzZSBpZih0LnNjZW5lZ3JhcGgmJiF0LnNjZW5lZ3JhcGguZ2x0Zil7dmFyIGk9dC5zY2VuZWdyYXBoLGE9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBldCh0LG4pO3JldHVybntzY2VuZXM6ci5pbnN0YW50aWF0ZShlKSxhbmltYXRvcjpyLmNyZWF0ZUFuaW1hdG9yKCl9fShyLGksdGhpcy5nZXRMb2FkT3B0aW9ucygpKTtlPU9iamVjdC5hc3NpZ24oe2dsdGY6aX0sYSksZnVuY3Rpb24odCl7cmV0dXJuIG90LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0oYSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXROZWVkc1JlZHJhdygpfSkpfWVsc2UgeS5hLmRlcHJlY2F0ZWQoIlNjZW5lZ3JhcGhMYXllci5wcm9wcy5zY2VuZWdyYXBoIiwiVXNlIEdMVEZMb2FkZXIgaW5zdGVhZCBvZiBHTFRGU2NlbmVncmFwaExvYWRlciIpKCksZT10LnNjZW5lZ3JhcGg7dmFyIG89e2xheWVyOnRoaXMsZ2w6cn0scz10LmdldFNjZW5lKGUsbyksdT10LmdldEFuaW1hdG9yKGUsbyk7cyBpbnN0YW5jZW9mIFQ/KHRoaXMuX2RlbGV0ZVNjZW5lZ3JhcGgoKSx0aGlzLl9hcHBseUFsbEF0dHJpYnV0ZXMocyksdGhpcy5fYXBwbHlBbmltYXRpb25zUHJvcChzLHUsdC5fYW5pbWF0aW9ucyksdGhpcy5zZXRTdGF0ZSh7c2NlbmVncmFwaDpzLGFuaW1hdG9yOnV9KSk6bnVsbCE9PXMmJnkuYS53YXJuKCJpbnZhbGlkIHNjZW5lZ3JhcGg6IixzKSgpfX0se2tleToiX2FwcGx5QWxsQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLnN0YXRlLmF0dHJpYnV0ZXNBdmFpbGFibGUpe3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmdldEF0dHJpYnV0ZXMoKTt0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtlLl9zZXRNb2RlbEF0dHJpYnV0ZXModC5tb2RlbCxuKX0pKX19fSx7a2V5OiJfYXBwbHlBbmltYXRpb25zUHJvcCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKHQmJmUmJm4pe3ZhciByPWUuZ2V0QW5pbWF0aW9ucygpO09iamVjdC5rZXlzKG4pLnNvcnQoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1uW3RdO2lmKCIqIj09PXQpci5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuYXNzaWduKHQsZSl9KSk7ZWxzZSBpZihOdW1iZXIuaXNGaW5pdGUoTnVtYmVyKHQpKSl7dmFyIGk9TnVtYmVyKHQpO2k+PTAmJmk8ci5sZW5ndGg/T2JqZWN0LmFzc2lnbihyW2ldLGUpOnkuYS53YXJuKCJhbmltYXRpb24gIi5jb25jYXQodCwiIG5vdCBmb3VuZCIpKSgpfWVsc2V7dmFyIGE9ci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09dH0pKTthP09iamVjdC5hc3NpZ24oYSxlKTp5LmEud2FybigiYW5pbWF0aW9uICIuY29uY2F0KHQsIiBub3QgZm91bmQiKSkoKX19KSl9fX0se2tleToiX2RlbGV0ZVNjZW5lZ3JhcGgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS5zY2VuZWdyYXBoO3QgaW5zdGFuY2VvZiBUJiZ0LmRlbGV0ZSgpfX0se2tleToiZ2V0TG9hZE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W20uYSxiLmFdLGU9dGhpcy5wcm9wcyxuPWUuX2xpZ2h0aW5nLHI9ZS5faW1hZ2VCYXNlZExpZ2h0aW5nRW52aXJvbm1lbnQ7InBiciI9PT1uJiZ0LnB1c2goeCk7dmFyIGk9bnVsbDtyZXR1cm4gciYmKGk9ImZ1bmN0aW9uIj09dHlwZW9mIHI/cih7Z2w6dGhpcy5jb250ZXh0LmdsLGxheWVyOnRoaXN9KTpyKSx7Z2w6dGhpcy5jb250ZXh0LmdsLHdhaXRGb3JGdWxsTG9hZDohMCxpbWFnZUJhc2VkTGlnaHRpbmdFbnZpcm9ubWVudDppLG1vZGVsT3B0aW9uczp7dnM6IiN2ZXJzaW9uIDMwMCBlc1xuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmluIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmluIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5pbiB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmluIG1hdDMgaW5zdGFuY2VNb2RlbE1hdHJpeDtcbmluIHZlYzMgaW5zdGFuY2VUcmFuc2xhdGlvbjtcbnVuaWZvcm0gZmxvYXQgc2l6ZVNjYWxlO1xudW5pZm9ybSBmbG9hdCBzaXplTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzaXplTWF4UGl4ZWxzO1xudW5pZm9ybSBtYXQ0IHNjZW5lTW9kZWxNYXRyaXg7XG51bmlmb3JtIGJvb2wgY29tcG9zZU1vZGVsTWF0cml4O1xuaW4gdmVjNCBQT1NJVElPTjtcblxuI2lmZGVmIEhBU19VVlxuICBpbiB2ZWMyIFRFWENPT1JEXzA7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9QQlJcbiAgI2lmZGVmIEhBU19OT1JNQUxTXG4gICAgaW4gdmVjNCBOT1JNQUw7XG4gICNlbmRpZlxuI2VuZGlmXG5vdXQgdmVjNCB2Q29sb3I7XG4jaWZuZGVmIE1PRFVMRV9QQlJcbiAgI2lmZGVmIEhBU19VVlxuICAgIG91dCB2ZWMyIHZURVhDT09SRF8wO1xuICAjZW5kaWZcbiNlbmRpZlxudm9pZCBtYWluKHZvaWQpIHtcbiAgI2lmIGRlZmluZWQoSEFTX1VWKSAmJiAhZGVmaW5lZChNT0RVTEVfUEJSKVxuICAgIHZURVhDT09SRF8wID0gVEVYQ09PUkRfMDtcbiAgICBnZW9tZXRyeS51diA9IHZURVhDT09SRF8wO1xuICAjZW5kaWZcblxuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxuICAjaWZkZWYgTU9EVUxFX1BCUlxuICAgICNpZmRlZiBIQVNfTk9STUFMU1xuICAgICAgcGJyX3ZOb3JtYWwgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU1vZGVsTWF0cml4ICogKHNjZW5lTW9kZWxNYXRyaXggKiB2ZWM0KE5PUk1BTC54eXosIDAuMCkpLnh5eik7XG4gICAgICBnZW9tZXRyeS5ub3JtYWwgPSBwYnJfdk5vcm1hbDtcbiAgICAjZW5kaWZcblxuICAgICNpZmRlZiBIQVNfVVZcbiAgICAgIHBicl92VVYgPSBURVhDT09SRF8wO1xuICAgICNlbHNlXG4gICAgICBwYnJfdlVWID0gdmVjMigwLiwgMC4pO1xuICAgICNlbmRpZlxuICAgIGdlb21ldHJ5LnV2ID0gcGJyX3ZVVjtcbiAgI2VuZGlmXG5cbiAgZmxvYXQgb3JpZ2luYWxTaXplID0gcHJvamVjdF9zaXplX3RvX3BpeGVsKHNpemVTY2FsZSk7XG4gIGZsb2F0IGNsYW1wZWRTaXplID0gY2xhbXAob3JpZ2luYWxTaXplLCBzaXplTWluUGl4ZWxzLCBzaXplTWF4UGl4ZWxzKTtcblxuICB2ZWMzIHBvcyA9IChpbnN0YW5jZU1vZGVsTWF0cml4ICogKHNjZW5lTW9kZWxNYXRyaXggKiBQT1NJVElPTikueHl6KSAqIHNpemVTY2FsZSAqIChjbGFtcGVkU2l6ZSAvIG9yaWdpbmFsU2l6ZSkgKyBpbnN0YW5jZVRyYW5zbGF0aW9uO1xuICBpZihjb21wb3NlTW9kZWxNYXRyaXgpIHtcbiAgICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShwb3MgKyBpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIH1cbiAgZWxzZSB7XG4gICAgcG9zID0gcHJvamVjdF9zaXplKHBvcyk7XG4gICAgREVDS0dMX0ZJTFRFUl9TSVpFKHBvcywgZ2VvbWV0cnkpO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHBvcywgZ2VvbWV0cnkucG9zaXRpb24pO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICAjaWZkZWYgTU9EVUxFX1BCUlxuICAgIHBicl92UG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbi54eXo7XG4gICNlbmRpZlxuXG4gIHZDb2xvciA9IGluc3RhbmNlQ29sb3JzO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI3ZlcnNpb24gMzAwIGVzXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG5pbiB2ZWM0IHZDb2xvcjtcblxub3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcbiNpZm5kZWYgTU9EVUxFX1BCUlxuICAjaWYgZGVmaW5lZChIQVNfVVYpICYmIGRlZmluZWQoSEFTX0JBU0VDT0xPUk1BUClcbiAgICBpbiB2ZWMyIHZURVhDT09SRF8wO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfQmFzZUNvbG9yU2FtcGxlcjtcbiAgI2VuZGlmXG4jZW5kaWZcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgI2lmZGVmIE1PRFVMRV9QQlJcbiAgICBmcmFnbWVudENvbG9yID0gdkNvbG9yICogcGJyX2ZpbHRlckNvbG9yKHZlYzQoMCkpO1xuICAgIGdlb21ldHJ5LnV2ID0gcGJyX3ZVVjtcbiAgI2Vsc2VcbiAgICAjaWYgZGVmaW5lZChIQVNfVVYpICYmIGRlZmluZWQoSEFTX0JBU0VDT0xPUk1BUClcbiAgICAgIGZyYWdtZW50Q29sb3IgPSB2Q29sb3IgKiB0ZXh0dXJlMkQodV9CYXNlQ29sb3JTYW1wbGVyLCB2VEVYQ09PUkRfMCk7XG4gICAgICBnZW9tZXRyeS51diA9IHZURVhDT09SRF8wO1xuICAgICNlbHNlXG4gICAgICBmcmFnbWVudENvbG9yID0gdkNvbG9yO1xuICAgICNlbmRpZlxuICAjZW5kaWZcblxuICBmcmFnbWVudENvbG9yLmEgKj0gb3BhY2l0eTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihmcmFnbWVudENvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6dCxpc0luc3RhbmNlZDohMCx0cmFuc3BpbGVUb0dMU0wxMDA6IU9iamVjdChPLmcpKHRoaXMuY29udGV4dC5nbCl9LHVzZVRhbmdlbnRzOiExfX19LHtrZXk6InVwZGF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5zZXRTdGF0ZSh7YXR0cmlidXRlc0F2YWlsYWJsZTohMH0pLHRoaXMuc3RhdGUuc2NlbmVncmFwaCYmdGhpcy5zdGF0ZS5zY2VuZWdyYXBoLnRyYXZlcnNlKChmdW5jdGlvbihuKXtlLl9zZXRNb2RlbEF0dHJpYnV0ZXMobi5tb2RlbCx0KX0pKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kdWxlUGFyYW1ldGVycyxuPXZvaWQgMD09PWU/bnVsbDplLHI9dC5wYXJhbWV0ZXJzLGk9dm9pZCAwPT09cj97fTpyLGE9dC5jb250ZXh0O2lmKHRoaXMuc3RhdGUuc2NlbmVncmFwaCl7dGhpcy5wcm9wcy5fYW5pbWF0aW9ucyYmdGhpcy5zdGF0ZS5hbmltYXRvciYmdGhpcy5zdGF0ZS5hbmltYXRvci5hbmltYXRlKGEuYW5pbWF0aW9uUHJvcHMudGltZSk7dmFyIG89dGhpcy5jb250ZXh0LnZpZXdwb3J0LHM9dGhpcy5wcm9wcyx1PXMuc2l6ZVNjYWxlLGM9cy5zaXplTWluUGl4ZWxzLGw9cy5zaXplTWF4UGl4ZWxzLGg9cy5vcGFjaXR5LGY9cy5jb29yZGluYXRlU3lzdGVtLGQ9dGhpcy5nZXROdW1JbnN0YW5jZXMoKTt0aGlzLnN0YXRlLnNjZW5lZ3JhcGgudHJhdmVyc2UoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS53b3JsZE1hdHJpeDt0Lm1vZGVsLnNldEluc3RhbmNlQ291bnQoZCksdC51cGRhdGVNb2R1bGVTZXR0aW5ncyhuKSx0LmRyYXcoe3BhcmFtZXRlcnM6aSx1bmlmb3Jtczp7c2l6ZVNjYWxlOnUsb3BhY2l0eTpoLHNpemVNaW5QaXhlbHM6YyxzaXplTWF4UGl4ZWxzOmwsY29tcG9zZU1vZGVsTWF0cml4Ok9iamVjdChjdC5iKShvLGYpLHNjZW5lTW9kZWxNYXRyaXg6cix1X0NhbWVyYTp0Lm1vZGVsLmdldFVuaWZvcm1zKCkucHJvamVjdF91Q2FtZXJhUG9zaXRpb259fSl9KSl9fX1dKSxlfShfLmEpO2Z0LmxheWVyTmFtZT0iU2NlbmVncmFwaExheWVyIixmdC5kZWZhdWx0UHJvcHM9aHR9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIyMCksZz1uKDExOCkseT1uKDE3NSksbT1uKDcxKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSk7dmFyIGI9WzAsMCwwLDI1NV0sXz17Z2V0U291cmNlUG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbn19LGdldFRhcmdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFyZ2V0UG9zaXRpb259fSxnZXRTb3VyY2VDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmJ9LGdldFRhcmdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Yn0sZ2V0V2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRIZWlnaHQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRUaWx0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sd2lkdGhVbml0czoicGl4ZWxzIix3aWR0aFNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHdpZHRoTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LHdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG1pbjowfX0sTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZigpKGwoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgYXJjLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VTb3VyY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZVRhcmdldENvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVdpZHRocztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZUhlaWdodHM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VUaWx0cztcblxudW5pZm9ybSBmbG9hdCBudW1TZWdtZW50cztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhTY2FsZTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWF4UGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG5mbG9hdCBwYXJhYm9sb2lkKHZlYzMgc291cmNlLCB2ZWMzIHRhcmdldCwgZmxvYXQgcmF0aW8pIHtcblxuICB2ZWMzIGRlbHRhID0gdGFyZ2V0IC0gc291cmNlO1xuICBmbG9hdCBkaCA9IGxlbmd0aChkZWx0YS54eSkgKiBpbnN0YW5jZUhlaWdodHM7XG4gIGZsb2F0IHVuaXRaID0gZGVsdGEueiAvIGRoO1xuICBmbG9hdCBwMiA9IHVuaXRaICogdW5pdFogKyAxLjA7XG4gIGZsb2F0IGRpciA9IHN0ZXAoZGVsdGEueiwgMC4wKTtcbiAgZmxvYXQgejAgPSBtaXgoc291cmNlLnosIHRhcmdldC56LCBkaXIpO1xuICBmbG9hdCByID0gbWl4KHJhdGlvLCAxLjAgLSByYXRpbywgZGlyKTtcbiAgcmV0dXJuIHNxcnQociAqIChwMiAtIHIpKSAqIGRoICsgejA7XG59XG52ZWMyIGdldEV4dHJ1c2lvbk9mZnNldCh2ZWMyIGxpbmVfY2xpcHNwYWNlLCBmbG9hdCBvZmZzZXRfZGlyZWN0aW9uLCBmbG9hdCB3aWR0aCkge1xuICB2ZWMyIGRpcl9zY3JlZW5zcGFjZSA9IG5vcm1hbGl6ZShsaW5lX2NsaXBzcGFjZSAqIHByb2plY3RfdVZpZXdwb3J0U2l6ZSk7XG4gIGRpcl9zY3JlZW5zcGFjZSA9IHZlYzIoLWRpcl9zY3JlZW5zcGFjZS55LCBkaXJfc2NyZWVuc3BhY2UueCk7XG5cbiAgcmV0dXJuIGRpcl9zY3JlZW5zcGFjZSAqIG9mZnNldF9kaXJlY3Rpb24gKiB3aWR0aCAvIDIuMDtcbn1cblxuZmxvYXQgZ2V0U2VnbWVudFJhdGlvKGZsb2F0IGluZGV4KSB7XG4gIHJldHVybiBzbW9vdGhzdGVwKDAuMCwgMS4wLCBpbmRleCAvIChudW1TZWdtZW50cyAtIDEuMCkpO1xufVxuXG52ZWMzIGdldFBvcyh2ZWMzIHNvdXJjZSwgdmVjMyB0YXJnZXQsIGZsb2F0IHNlZ21lbnRSYXRpbykge1xuICBmbG9hdCB6ID0gcGFyYWJvbG9pZChzb3VyY2UsIHRhcmdldCwgc2VnbWVudFJhdGlvKTtcblxuICBmbG9hdCB0aWx0QW5nbGUgPSByYWRpYW5zKGluc3RhbmNlVGlsdHMpO1xuICB2ZWMyIHRpbHREaXJlY3Rpb24gPSBub3JtYWxpemUodGFyZ2V0Lnh5IC0gc291cmNlLnh5KTtcbiAgdmVjMiB0aWx0ID0gdmVjMigtdGlsdERpcmVjdGlvbi55LCB0aWx0RGlyZWN0aW9uLngpICogeiAqIHNpbih0aWx0QW5nbGUpO1xuXG4gIHJldHVybiB2ZWMzKFxuICAgIG1peChzb3VyY2UueHksIHRhcmdldC54eSwgc2VnbWVudFJhdGlvKSArIHRpbHQsXG4gICAgeiAqIGNvcyh0aWx0QW5nbGUpXG4gICk7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucztcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdCA9IGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuXG4gIHZlYzMgc291cmNlID0gcHJvamVjdF9wb3NpdGlvbihpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucywgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdyk7XG4gIHZlYzMgdGFyZ2V0ID0gcHJvamVjdF9wb3NpdGlvbihpbnN0YW5jZVRhcmdldFBvc2l0aW9ucywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdyk7XG5cbiAgZmxvYXQgc2VnbWVudEluZGV4ID0gcG9zaXRpb25zLng7XG4gIGZsb2F0IHNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXgpO1xuICBmbG9hdCBpbmRleERpciA9IG1peCgtMS4wLCAxLjAsIHN0ZXAoc2VnbWVudEluZGV4LCAwLjApKTtcbiAgZmxvYXQgbmV4dFNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXggKyBpbmRleERpcik7XG5cbiAgdmVjMyBjdXJyUG9zID0gZ2V0UG9zKHNvdXJjZSwgdGFyZ2V0LCBzZWdtZW50UmF0aW8pO1xuICB2ZWMzIG5leHRQb3MgPSBnZXRQb3Moc291cmNlLCB0YXJnZXQsIG5leHRTZWdtZW50UmF0aW8pO1xuICB2ZWM0IGN1cnIgPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UodmVjNChjdXJyUG9zLCAxLjApKTtcbiAgdmVjNCBuZXh0ID0gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHZlYzQobmV4dFBvcywgMS4wKSk7XG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gdmVjNChjdXJyUG9zLCAxLjApO1xuICB1diA9IHZlYzIoc2VnbWVudFJhdGlvLCBwb3NpdGlvbnMueSk7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgZmxvYXQgd2lkdGhQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VXaWR0aHMgKiB3aWR0aFNjYWxlKSxcbiAgICB3aWR0aE1pblBpeGVscywgd2lkdGhNYXhQaXhlbHNcbiAgKTtcbiAgdmVjMyBvZmZzZXQgPSB2ZWMzKFxuICAgIGdldEV4dHJ1c2lvbk9mZnNldCgobmV4dC54eSAtIGN1cnIueHkpICogaW5kZXhEaXIsIHBvc2l0aW9ucy55LCB3aWR0aFBpeGVscyksXG4gICAgMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9TSVpFKG9mZnNldCwgZ2VvbWV0cnkpO1xuICBnbF9Qb3NpdGlvbiA9IGN1cnIgKyB2ZWM0KHByb2plY3RfcGl4ZWxfc2l6ZV90b19jbGlwc3BhY2Uob2Zmc2V0Lnh5KSwgMC4wLCAwLjApO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG5cbiAgdmVjNCBjb2xvciA9IG1peChpbnN0YW5jZVNvdXJjZUNvbG9ycywgaW5zdGFuY2VUYXJnZXRDb2xvcnMsIHNlZ21lbnRSYXRpbyk7XG4gIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGFyYy1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihnbF9GcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbcC5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0U291cmNlUG9zaXRpb24ifSxpbnN0YW5jZVRhcmdldFBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRUYXJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlU291cmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFNvdXJjZUNvbG9yIixkZWZhdWx0VmFsdWU6Yn0saW5zdGFuY2VUYXJnZXRDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0VGFyZ2V0Q29sb3IiLGRlZmF1bHRWYWx1ZTpifSxpbnN0YW5jZVdpZHRoczp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFdpZHRoIixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VIZWlnaHRzOntzaXplOjEsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0SGVpZ2h0IixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VUaWx0czp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFRpbHQiLGRlZmF1bHRWYWx1ZTowfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncztpZihmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIud2lkdGhVbml0cyxhPXIud2lkdGhTY2FsZSxvPXIud2lkdGhNaW5QaXhlbHMscz1yLndpZHRoTWF4UGl4ZWxzLHU9InBpeGVscyI9PT1pP24ubWV0ZXJzUGVyUGl4ZWw6MTt0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSx7d2lkdGhTY2FsZTphKnUsd2lkdGhNaW5QaXhlbHM6byx3aWR0aE1heFBpeGVsczpzfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPDUwO24rKyllPWUuY29uY2F0KFtuLC0xLDAsbiwxLDBdKTt2YXIgcj1uZXcgeS5hKHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgbS5hKHtkcmF3TW9kZTo1LGF0dHJpYnV0ZXM6e3Bvc2l0aW9uczpuZXcgRmxvYXQzMkFycmF5KGUpfX0pLGlzSW5zdGFuY2VkOiEwfSkpO3JldHVybiByLnNldFVuaWZvcm1zKHtudW1TZWdtZW50czo1MH0pLHJ9fV0pLGV9KGcuYSk7Ty5sYXllck5hbWU9IkFyY0xheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMDIpLGc9bigyMjApLHk9bigxMTgpLG09bigxNzUpLGI9big3MSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpO3ZhciBfPXtnZXRTb3VyY2VQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNvdXJjZVBvc2l0aW9ufX0sZ2V0VGFyZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXRQb3NpdGlvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwLDI1NV19LGdldFdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sd2lkdGhVbml0czoicGl4ZWxzIix3aWR0aFNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHdpZHRoTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LHdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG1pbjowfX0sTz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZigpKGwoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbGluZS1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlV2lkdGhzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1heFBpeGVscztcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB1djtcbnZlYzIgZ2V0RXh0cnVzaW9uT2Zmc2V0KHZlYzIgbGluZV9jbGlwc3BhY2UsIGZsb2F0IG9mZnNldF9kaXJlY3Rpb24sIGZsb2F0IHdpZHRoKSB7XG4gIHZlYzIgZGlyX3NjcmVlbnNwYWNlID0gbm9ybWFsaXplKGxpbmVfY2xpcHNwYWNlICogcHJvamVjdF91Vmlld3BvcnRTaXplKTtcbiAgZGlyX3NjcmVlbnNwYWNlID0gdmVjMigtZGlyX3NjcmVlbnNwYWNlLnksIGRpcl9zY3JlZW5zcGFjZS54KTtcblxuICByZXR1cm4gZGlyX3NjcmVlbnNwYWNlICogb2Zmc2V0X2RpcmVjdGlvbiAqIHdpZHRoIC8gMi4wO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZVRhcmdldFBvc2l0aW9ucztcbiAgdmVjNCBzb3VyY2VfY29tbW9uc3BhY2U7XG4gIHZlYzQgdGFyZ2V0X2NvbW1vbnNwYWNlO1xuICB2ZWM0IHNvdXJjZSA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlU291cmNlUG9zaXRpb25zLCBpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuKSwgc291cmNlX2NvbW1vbnNwYWNlKTtcbiAgdmVjNCB0YXJnZXQgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVRhcmdldFBvc2l0aW9ucywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdywgdmVjMygwLiksIHRhcmdldF9jb21tb25zcGFjZSk7XG4gIGZsb2F0IHdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGluc3RhbmNlV2lkdGhzICogd2lkdGhTY2FsZSksXG4gICAgd2lkdGhNaW5QaXhlbHMsIHdpZHRoTWF4UGl4ZWxzXG4gICk7XG4gIGZsb2F0IHNlZ21lbnRJbmRleCA9IHBvc2l0aW9ucy54O1xuICB2ZWM0IHAgPSBtaXgoc291cmNlLCB0YXJnZXQsIHNlZ21lbnRJbmRleCk7XG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gbWl4KHNvdXJjZV9jb21tb25zcGFjZSwgdGFyZ2V0X2NvbW1vbnNwYWNlLCBzZWdtZW50SW5kZXgpO1xuICB1diA9IHBvc2l0aW9ucy54eTtcbiAgZ2VvbWV0cnkudXYgPSB1djtcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuICB2ZWMzIG9mZnNldCA9IHZlYzMoXG4gICAgZ2V0RXh0cnVzaW9uT2Zmc2V0KHRhcmdldC54eSAtIHNvdXJjZS54eSwgcG9zaXRpb25zLnksIHdpZHRoUGl4ZWxzKSxcbiAgICAwLjApO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gcCArIHZlYzQocHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZShvZmZzZXQueHkpLCAwLjAsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcbiAgdkNvbG9yID0gdmVjNChpbnN0YW5jZUNvbG9ycy5yZ2IsIGluc3RhbmNlQ29sb3JzLmEgKiBvcGFjaXR5KTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUih2Q29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbGluZS1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltwLmEsZy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0U291cmNlUG9zaXRpb24ifSxpbnN0YW5jZVRhcmdldFBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRUYXJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldENvbG9yIixkZWZhdWx0VmFsdWU6WzAsMCwwLDI1NV19LGluc3RhbmNlV2lkdGhzOntzaXplOjEsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0V2lkdGgiLGRlZmF1bHRWYWx1ZToxfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dC5jaGFuZ2VGbGFncztpZihmKCkobCgpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIud2lkdGhVbml0cyxhPXIud2lkdGhTY2FsZSxvPXIud2lkdGhNaW5QaXhlbHMscz1yLndpZHRoTWF4UGl4ZWxzLHU9InBpeGVscyI9PT1pP24ubWV0ZXJzUGVyUGl4ZWw6MTt0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSx7d2lkdGhTY2FsZTphKnUsd2lkdGhNaW5QaXhlbHM6byx3aWR0aE1heFBpeGVsczpzfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBtLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBiLmEoe2RyYXdNb2RlOjUsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsLTEsMCwwLDEsMCwxLC0xLDAsMSwxLDBdKX19KSxpc0luc3RhbmNlZDohMH0pKX19XSksZX0oeS5hKTtPLmxheWVyTmFtZT0iTGluZUxheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMDIpLGc9bigyOTMpLHk9bigyMjApLG09bigxMTgpLGI9bigxNzUpLF89big3MSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBrfSkpO3ZhciBPPVswLDAsMCwyNTVdLHg9WzAsMCwxXSx3PXtzaXplVW5pdHM6InBpeGVscyIscG9pbnRTaXplOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjEwfSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0Tm9ybWFsOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6eH0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpPfSxtYXRlcmlhbDohMCxyYWRpdXNQaXhlbHM6e2RlcHJlY2F0ZWRGb3I6InBvaW50U2l6ZSJ9fTt2YXIgaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkoZSx0KSxvKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGYoKShsKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHBvaW50LWNsb3VkLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VOb3JtYWxzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzUGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHVuaXRQb3NpdGlvbjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IGluc3RhbmNlUG9zaXRpb25zO1xuICBnZW9tZXRyeS5ub3JtYWwgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU5vcm1hbHMpO1xuICB1bml0UG9zaXRpb24gPSBwb3NpdGlvbnMueHk7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhwb3NpdGlvbnMueHkgKiByYWRpdXNQaXhlbHMsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcblxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBnbF9Qb3NpdGlvbi54eSArPSBwcm9qZWN0X3BpeGVsX3NpemVfdG9fY2xpcHNwYWNlKG9mZnNldC54eSk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcbiAgdmVjMyBsaWdodENvbG9yID0gbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcihpbnN0YW5jZUNvbG9ycy5yZ2IsIHByb2plY3RfdUNhbWVyYVBvc2l0aW9uLCBnZW9tZXRyeS5wb3NpdGlvbi54eXosIGdlb21ldHJ5Lm5vcm1hbCk7XG4gIHZDb2xvciA9IHZlYzQobGlnaHRDb2xvciwgaW5zdGFuY2VDb2xvcnMuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI2RlZmluZSBTSEFERVJfTkFNRSBwb2ludC1jbG91ZC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHVuaXRQb3NpdGlvbjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB1bml0UG9zaXRpb247XG5cbiAgZmxvYXQgZGlzdFRvQ2VudGVyID0gbGVuZ3RoKHVuaXRQb3NpdGlvbik7XG5cbiAgaWYgKGRpc3RUb0NlbnRlciA+IDEuMCkge1xuICAgIGRpc2NhcmQ7XG4gIH1cblxuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZU5vcm1hbHM6e3NpemU6Myx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXROb3JtYWwiLGRlZmF1bHRWYWx1ZTp4fSxpbnN0YW5jZUNvbG9yczp7c2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0eXBlOjUxMjEsbm9ybWFsaXplZDohMCx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsZGVmYXVsdFZhbHVlOk99fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG4scixpLGE9dC5wcm9wcyxvPXQub2xkUHJvcHMscz10LmNoYW5nZUZsYWdzO2lmKGYoKShsKCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczphLG9sZFByb3BzOm8sY2hhbmdlRmxhZ3M6c30pLHMuZXh0ZW5zaW9uc0NoYW5nZWQpe3ZhciB1PXRoaXMuY29udGV4dC5nbDt0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHUpfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfXMuZGF0YUNoYW5nZWQmJihuPWEuZGF0YSxyPW4uaGVhZGVyLGk9bi5hdHRyaWJ1dGVzLHImJmkmJihuLmxlbmd0aD1yLnZlcnRleENvdW50LGkuUE9TSVRJT04mJihpLmluc3RhbmNlUG9zaXRpb25zPWkuUE9TSVRJT04pLGkuTk9STUFMJiYoaS5pbnN0YW5jZU5vcm1hbHM9aS5OT1JNQUwpLGkuQ09MT1JfMCYmKGkuaW5zdGFuY2VDb2xvcnM9aS5DT0xPUl8wKSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMuY29udGV4dC52aWV3cG9ydCxyPXRoaXMucHJvcHMsaT1yLnBvaW50U2l6ZSxhPSJtZXRlcnMiPT09ci5zaXplVW5pdHM/MS9uLm1ldGVyc1BlclBpeGVsOjE7dGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhPYmplY3QuYXNzaWduKHt9LGUse3JhZGl1c1BpeGVsczppKmF9KSkuZHJhdygpfX0se2tleToiX2dldE1vZGVsIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248MztuKyspe3ZhciByPW4vMypNYXRoLlBJKjI7ZS5wdXNoKDIqTWF0aC5jb3MociksMipNYXRoLnNpbihyKSwwKX1yZXR1cm4gbmV3IGIuYSh0LE9iamVjdC5hc3NpZ24oe30sdGhpcy5nZXRTaGFkZXJzKCkse2lkOnRoaXMucHJvcHMuaWQsZ2VvbWV0cnk6bmV3IF8uYSh7ZHJhd01vZGU6NCxhdHRyaWJ1dGVzOntwb3NpdGlvbnM6bmV3IEZsb2F0MzJBcnJheShlKX19KSxpc0luc3RhbmNlZDohMH0pKX19XSksZX0obS5hKTtrLmxheWVyTmFtZT0iUG9pbnRDbG91ZExheWVyIixrLmRlZmF1bHRQcm9wcz13fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMSksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oMyksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMyksZz1uKDIwMikseT1uKDI5MyksbT1uKDIyMCksYj1uKDExOCksXz1uKDEyNyksTz1uKDcxKSx4PW4oMTEpLHc9bigxNzUpLGs9bigyNzUpLFM9bigxODcpLFA9bigxMzApO2Z1bmN0aW9uIGoodCl7cC5hLmFzc2VydCh0LnBvc2l0aW9uc3x8dC5QT1NJVElPTiwnU2ltcGxlTWVzaExheWVyIHJlcXVpcmVzICJwb3N0aW9ucyIgb3IgIlBPU0lUSU9OIiBhdHRyaWJ1dGUgaW4gbWVzaCBwcm9wZXJ0eS4nKX1mdW5jdGlvbiBUKHQpe2lmKHQuYXR0cmlidXRlcylyZXR1cm4gaih0LmF0dHJpYnV0ZXMpLHQgaW5zdGFuY2VvZiBPLmE/dDpuZXcgTy5hKHQpO2lmKHQucG9zaXRpb25zfHx0LlBPU0lUSU9OKXJldHVybiBqKHQpLG5ldyBPLmEoe2F0dHJpYnV0ZXM6dH0pO3Rocm93IEVycm9yKCJJbnZhbGlkIG1lc2giKX1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIEU9e21lc2g6e3ZhbHVlOm51bGwsdHlwZToib2JqZWN0Iixhc3luYzohMH0sdGV4dHVyZTp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsLGFzeW5jOiEwfSxzaXplU2NhbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MSxtaW46MH0scGFyYW1ldGVyczp7ZGVwdGhUZXN0OiEwLGRlcHRoRnVuYzo1MTV9LF9pbnN0YW5jZWQ6ITAsd2lyZWZyYW1lOiExLG1hdGVyaWFsOiEwLGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxnZXRDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMCwyNTVdfSxnZXRPcmllbnRhdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMF19LGdldFNjYWxlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzEsMSwxXX0sZ2V0VHJhbnNsYXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDBdfSxnZXRUcmFuc2Zvcm1NYXRyaXg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbXX19LEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IU9iamVjdCh4LmcpKHRoaXMuY29udGV4dC5nbCksbj17fTtyZXR1cm4gT2JqZWN0KGsuYikodGhpcy5jb250ZXh0LmdsLFMuYS5HTFNMX0RFUklWQVRJVkVTKSYmKG4uREVSSVZBVElWRVNfQVZBSUxBQkxFPTEpLGYoKShsKCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgc2ltcGxlLW1lc2gtbGF5ZXItdnNcbnVuaWZvcm0gZmxvYXQgc2l6ZVNjYWxlO1xudW5pZm9ybSBib29sIGNvbXBvc2VNb2RlbE1hdHJpeDtcbmluIHZlYzMgcG9zaXRpb25zO1xuaW4gdmVjMyBub3JtYWxzO1xuaW4gdmVjMiB0ZXhDb29yZHM7XG5pbiB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9uczY0TG93O1xuaW4gdmVjNCBpbnN0YW5jZUNvbG9ycztcbmluIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuaW4gbWF0MyBpbnN0YW5jZU1vZGVsTWF0cml4O1xuaW4gdmVjMyBpbnN0YW5jZVRyYW5zbGF0aW9uO1xub3V0IHZlYzIgdlRleENvb3JkO1xub3V0IHZlYzMgY2FtZXJhUG9zaXRpb247XG5vdXQgdmVjMyBub3JtYWxzX2NvbW1vbnNwYWNlO1xub3V0IHZlYzQgcG9zaXRpb25fY29tbW9uc3BhY2U7XG5vdXQgdmVjNCB2Q29sb3I7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVBvc2l0aW9ucztcbiAgZ2VvbWV0cnkudXYgPSB0ZXhDb29yZHM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxuICB2VGV4Q29vcmQgPSB0ZXhDb29yZHM7XG4gIGNhbWVyYVBvc2l0aW9uID0gcHJvamVjdF91Q2FtZXJhUG9zaXRpb247XG4gIG5vcm1hbHNfY29tbW9uc3BhY2UgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU1vZGVsTWF0cml4ICogbm9ybWFscyk7XG4gIHZDb2xvciA9IGluc3RhbmNlQ29sb3JzO1xuICBnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxzX2NvbW1vbnNwYWNlO1xuXG4gIHZlYzMgcG9zID0gKGluc3RhbmNlTW9kZWxNYXRyaXggKiBwb3NpdGlvbnMpICogc2l6ZVNjYWxlICsgaW5zdGFuY2VUcmFuc2xhdGlvbjtcblxuICBpZiAoY29tcG9zZU1vZGVsTWF0cml4KSB7XG4gICAgREVDS0dMX0ZJTFRFUl9TSVpFKHBvcywgZ2VvbWV0cnkpO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zICsgaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHZlYzMoMC4wKSwgcG9zaXRpb25fY29tbW9uc3BhY2UpO1xuICB9XG4gIGVsc2Uge1xuICAgIHBvcyA9IHByb2plY3Rfc2l6ZShwb3MpO1xuICAgIERFQ0tHTF9GSUxURVJfU0laRShwb3MsIGdlb21ldHJ5KTtcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCBwb3MsIHBvc2l0aW9uX2NvbW1vbnNwYWNlKTtcbiAgfVxuXG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gcG9zaXRpb25fY29tbW9uc3BhY2U7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI3ZlcnNpb24gMzAwIGVzXG4jZGVmaW5lIFNIQURFUl9OQU1FIHNpbXBsZS1tZXNoLWxheWVyLWZzXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBib29sIGhhc1RleHR1cmU7XG51bmlmb3JtIHNhbXBsZXIyRCBzYW1wbGVyO1xudW5pZm9ybSBib29sIGZsYXRTaGFkaW5nO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG5pbiB2ZWMyIHZUZXhDb29yZDtcbmluIHZlYzMgY2FtZXJhUG9zaXRpb247XG5pbiB2ZWMzIG5vcm1hbHNfY29tbW9uc3BhY2U7XG5pbiB2ZWM0IHBvc2l0aW9uX2NvbW1vbnNwYWNlO1xuaW4gdmVjNCB2Q29sb3I7XG5cbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB2VGV4Q29vcmQ7XG5cbiAgdmVjMyBub3JtYWw7XG4gIGlmIChmbGF0U2hhZGluZykge1xuI2lmZGVmIERFUklWQVRJVkVTX0FWQUlMQUJMRVxuICAgIG5vcm1hbCA9IG5vcm1hbGl6ZShjcm9zcyhkRmR4KHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiksIGRGZHkocG9zaXRpb25fY29tbW9uc3BhY2UueHl6KSkpO1xuI2Vsc2VcbiAgICBub3JtYWwgPSB2ZWMzKDAuMCwgMC4wLCAxLjApO1xuI2VuZGlmXG4gIH0gZWxzZSB7XG4gICAgbm9ybWFsID0gbm9ybWFsc19jb21tb25zcGFjZTtcbiAgfVxuXG4gIHZlYzQgY29sb3IgPSBoYXNUZXh0dXJlID8gdGV4dHVyZShzYW1wbGVyLCB2VGV4Q29vcmQpIDogdkNvbG9yO1xuICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgY2FtZXJhUG9zaXRpb24sIHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiwgbm9ybWFsKTtcbiAgZnJhZ0NvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvci5hICogb3BhY2l0eSk7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihmcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbZy5hLHkuYixtLmFdLHRyYW5zcGlsZVRvR0xTTDEwMDp0LGRlZmluZXM6bn0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3RyYW5zaXRpb246ITAsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHNpemU6MyxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZUNvbG9yczp7dHlwZTo1MTIxLHRyYW5zaXRpb246ITAsc2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCxub3JtYWxpemVkOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsZGVmYXVsdFZhbHVlOlswLDAsMCwyNTVdfSxpbnN0YW5jZU1vZGVsTWF0cml4OlAuYX0pLHRoaXMuc2V0U3RhdGUoe2VtcHR5VGV4dHVyZTpuZXcgXy5hKHRoaXMuY29udGV4dC5nbCx7ZGF0YTpuZXcgVWludDhBcnJheSg0KSx3aWR0aDoxLGhlaWdodDoxfSl9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnByb3BzLHI9dC5vbGRQcm9wcyxpPXQuY2hhbmdlRmxhZ3M7aWYoZigpKGwoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse3Byb3BzOm4sb2xkUHJvcHM6cixjaGFuZ2VGbGFnczppfSksbi5tZXNoIT09ci5tZXNofHxpLmV4dGVuc2lvbnNDaGFuZ2VkKXtpZih0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLG4ubWVzaCl7dGhpcy5zZXRTdGF0ZSh7bW9kZWw6dGhpcy5nZXRNb2RlbChuLm1lc2gpfSk7dmFyIGE9bi5tZXNoLmF0dHJpYnV0ZXN8fG4ubWVzaDt0aGlzLnNldFN0YXRlKHtoYXNOb3JtYWxzOkJvb2xlYW4oYS5OT1JNQUx8fGEubm9ybWFscyl9KX10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5pbnZhbGlkYXRlQWxsKCl9bi50ZXh0dXJlIT09ci50ZXh0dXJlJiZ0aGlzLnNldFRleHR1cmUobi50ZXh0dXJlKSx0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLnNldERyYXdNb2RlKHRoaXMucHJvcHMud2lyZWZyYW1lPzM6NCl9fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe2YoKShsKCkoZS5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc3RhdGUuZW1wdHlUZXh0dXJlLmRlbGV0ZSgpLHRoaXMuc3RhdGUudGV4dHVyZSYmdGhpcy5zdGF0ZS50ZXh0dXJlLmRlbGV0ZSgpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcztpZih0aGlzLnN0YXRlLm1vZGVsKXt2YXIgbj10aGlzLmNvbnRleHQudmlld3BvcnQscj10aGlzLnByb3BzLGk9ci5zaXplU2NhbGUsYT1yLmNvb3JkaW5hdGVTeXN0ZW0sbz1yLl9pbnN0YW5jZWQ7dGhpcy5zdGF0ZS5tb2RlbC5kcmF3KHt1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LGUse3NpemVTY2FsZTppLGNvbXBvc2VNb2RlbE1hdHJpeDohb3x8T2JqZWN0KFAuYikobixhKSxmbGF0U2hhZGluZzohdGhpcy5zdGF0ZS5oYXNOb3JtYWxzfSl9KX19fSx7a2V5OiJnZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHcuYSh0aGlzLmNvbnRleHQuZ2wsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpUKHQpLGlzSW5zdGFuY2VkOiEwfSkpLG49dGhpcy5zdGF0ZSxyPW4udGV4dHVyZSxpPW4uZW1wdHlUZXh0dXJlO3JldHVybiBlLnNldFVuaWZvcm1zKHtzYW1wbGVyOnJ8fGksaGFzVGV4dHVyZTpCb29sZWFuKHIpfSksZX19LHtrZXk6InNldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbCxuPXRoaXMuc3RhdGUscj1uLmVtcHR5VGV4dHVyZSxpPW4ubW9kZWw7dGhpcy5zdGF0ZS50ZXh0dXJlJiZ0aGlzLnN0YXRlLnRleHR1cmUuZGVsZXRlKCk7dmFyIGE9dD9mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUgaW5zdGFuY2VvZiBfLmE/ZTpuZXcgXy5hKHQsT2JqZWN0LmFzc2lnbih7ZGF0YTplfSxuKSl9KGUsdCk6bnVsbDt0aGlzLnNldFN0YXRlKHt0ZXh0dXJlOmF9KSxpJiZpLnNldFVuaWZvcm1zKHtzYW1wbGVyOmF8fHIsaGFzVGV4dHVyZTpCb29sZWFuKGEpfSl9fV0pLGV9KGIuYSk7QS5sYXllck5hbWU9IlNpbXBsZU1lc2hMYXllciIsQS5kZWZhdWx0UHJvcHM9RX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDIzKSx2PW4oMTg1KSxwPW4oMTYwKSxnPW4oMTEwKSx5PW4oMTE5KSxtPW4oMTc0KTtmdW5jdGlvbiBiKHQsZSl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPXtwb2ludEZlYXR1cmVzOltdLGxpbmVGZWF0dXJlczpbXSxwb2x5Z29uRmVhdHVyZXM6W10scG9seWdvbk91dGxpbmVGZWF0dXJlczpbXX0saT1uLnN0YXJ0Um93LGE9dm9pZCAwPT09aT8wOmksbz1uLmVuZFJvdyxzPXZvaWQgMD09PW8/dC5sZW5ndGg6byx1PWE7dTxzO3UrKyl7dmFyIGM9dFt1XTtkLmEuYXNzZXJ0KGMmJmMuZ2VvbWV0cnksIkdlb0pTT04gZG9lcyBub3QgaGF2ZSBnZW9tZXRyeSIpO3ZhciBsPWMuZ2VvbWV0cnk7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1sLnR5cGUpe2QuYS5hc3NlcnQoQXJyYXkuaXNBcnJheShsLmdlb21ldHJpZXMpLCJHZW9KU09OIGRvZXMgbm90IGhhdmUgZ2VvbWV0cmllcyBhcnJheSIpO2Zvcih2YXIgaD1sLmdlb21ldHJpZXMsZj0wO2Y8aC5sZW5ndGg7ZisrKXt2YXIgdj1oW2ZdO18odixyLGUsYyx1KX19ZWxzZSBfKGwscixlLGMsdSl9cmV0dXJuIHJ9ZnVuY3Rpb24gXyh0LGUsbixyLGkpe3ZhciBhPXQudHlwZSxvPXQuY29vcmRpbmF0ZXMscz1lLnBvaW50RmVhdHVyZXMsdT1lLmxpbmVGZWF0dXJlcyxjPWUucG9seWdvbkZlYXR1cmVzLGw9ZS5wb2x5Z29uT3V0bGluZUZlYXR1cmVzO2lmKGZ1bmN0aW9uKHQsZSl7dmFyIG49T1t0XTtkLmEuYXNzZXJ0KG4sIlVua25vd24gR2VvSlNPTiB0eXBlICIuY29uY2F0KHQpKTtmb3IoO2UmJi0tbj4wOyllPWVbMF07cmV0dXJuIGUmJk51bWJlci5pc0Zpbml0ZShlWzBdKX0oYSxvKSlzd2l0Y2goYSl7Y2FzZSJQb2ludCI6cy5wdXNoKG4oe2dlb21ldHJ5OnR9LHIsaSkpO2JyZWFrO2Nhc2UiTXVsdGlQb2ludCI6by5mb3JFYWNoKChmdW5jdGlvbih0KXtzLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IlBvaW50Iixjb29yZGluYXRlczp0fX0scixpKSl9KSk7YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjp1LnB1c2gobih7Z2VvbWV0cnk6dH0scixpKSk7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOm8uZm9yRWFjaCgoZnVuY3Rpb24odCl7dS5wdXNoKG4oe2dlb21ldHJ5Ont0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczp0fX0scixpKSl9KSk7YnJlYWs7Y2FzZSJQb2x5Z29uIjpjLnB1c2gobih7Z2VvbWV0cnk6dH0scixpKSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtsLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9fSxyLGkpKX0pKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6by5mb3JFYWNoKChmdW5jdGlvbih0KXtjLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IlBvbHlnb24iLGNvb3JkaW5hdGVzOnR9fSxyLGkpKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2wucHVzaChuKHtnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dH19LHIsaSkpfSkpfSkpfWVsc2UgZC5hLndhcm4oIiIuY29uY2F0KGEsIiBjb29yZGluYXRlcyBhcmUgbWFsZm9ybWVkIikpKCl9dmFyIE89e1BvaW50OjEsTXVsdGlQb2ludDoyLExpbmVTdHJpbmc6MixNdWx0aUxpbmVTdHJpbmc6MyxQb2x5Z29uOjMsTXVsdGlQb2x5Z29uOjR9O24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKTt2YXIgeD17c3Ryb2tlZDohMCxmaWxsZWQ6ITAsZXh0cnVkZWQ6ITEsd2lyZWZyYW1lOiExLGxpbmVXaWR0aFVuaXRzOiJtZXRlcnMiLGxpbmVXaWR0aFNjYWxlOjEsbGluZVdpZHRoTWluUGl4ZWxzOjAsbGluZVdpZHRoTWF4UGl4ZWxzOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGxpbmVKb2ludFJvdW5kZWQ6ITEsbGluZU1pdGVyTGltaXQ6NCxlbGV2YXRpb25TY2FsZToxLHBvaW50UmFkaXVzU2NhbGU6MSxwb2ludFJhZGl1c01pblBpeGVsczowLHBvaW50UmFkaXVzTWF4UGl4ZWxzOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGdldExpbmVDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDAsMCwyNTVdfSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0UmFkaXVzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RWxldmF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MWUzfSxtYXRlcmlhbDohMH07ZnVuY3Rpb24gdyh0KXtyZXR1cm4gdC5nZW9tZXRyeS5jb29yZGluYXRlc312YXIgaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkoKSh0aGlzLGUpLHUoKSh0aGlzLGwoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBmKCkoZSx0KSxvKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9e2ZlYXR1cmVzOnt9fSx0aGlzLnByb3BzLmdldExpbmVEYXNoQXJyYXkmJmQuYS5yZW1vdmVkKCJnZXRMaW5lRGFzaEFycmF5IiwiUGF0aFN0eWxlRXh0ZW5zaW9uIikoKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5jaGFuZ2VGbGFncztpZihuLmRhdGFDaGFuZ2VkKXt2YXIgcj1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O3N3aXRjaChkLmEuYXNzZXJ0KHQudHlwZSwiR2VvSlNPTiBkb2VzIG5vdCBoYXZlIHR5cGUiKSx0LnR5cGUpe2Nhc2UiRmVhdHVyZSI6cmV0dXJuW3RdO2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiBkLmEuYXNzZXJ0KEFycmF5LmlzQXJyYXkodC5mZWF0dXJlcyksIkdlb0pTT04gZG9lcyBub3QgaGF2ZSBmZWF0dXJlcyBhcnJheSIpLHQuZmVhdHVyZXM7ZGVmYXVsdDpyZXR1cm5be2dlb21ldHJ5OnR9XX19KGUuZGF0YSksaT10aGlzLmdldFN1YkxheWVyUm93LmJpbmQodGhpcyk7aWYoQXJyYXkuaXNBcnJheShuLmRhdGFDaGFuZ2VkKSl7dmFyIGE9dGhpcy5zdGF0ZS5mZWF0dXJlcyxvPXt9LHM9e307Zm9yKHZhciB1IGluIGEpb1t1XT1hW3VdLnNsaWNlKCksc1t1XT1bXTt2YXIgYz0hMCxsPSExLGg9dm9pZCAwO3RyeXtmb3IodmFyIGYsdj1uLmRhdGFDaGFuZ2VkW1N5bWJvbC5pdGVyYXRvcl0oKTshKGM9KGY9di5uZXh0KCkpLmRvbmUpO2M9ITApe3ZhciBwPWYudmFsdWUsZz1iKHIsaSxwKTtmb3IodmFyIHkgaW4gYSlzW3ldLnB1c2goT2JqZWN0KG0uYSkoe2RhdGE6b1t5XSxnZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3NvdXJjZS5pbmRleH0sZGF0YVJhbmdlOnAscmVwbGFjZTpnW3ldfSkpfX1jYXRjaCh0KXtsPSEwLGg9dH1maW5hbGx5e3RyeXtjfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgaH19dGhpcy5zZXRTdGF0ZSh7ZmVhdHVyZXM6byxmZWF0dXJlc0RpZmY6c30pfWVsc2UgdGhpcy5zZXRTdGF0ZSh7ZmVhdHVyZXM6YihyLGkpLGZlYXR1cmVzRGlmZjp7fX0pfX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC5mZWF0dXJlcyxuPXQuZmVhdHVyZXNEaWZmLHI9ZS5wb2ludEZlYXR1cmVzLGk9ZS5saW5lRmVhdHVyZXMsYT1lLnBvbHlnb25GZWF0dXJlcyxvPWUucG9seWdvbk91dGxpbmVGZWF0dXJlcyxzPXRoaXMucHJvcHMsdT1zLnN0cm9rZWQsYz1zLmZpbGxlZCxsPXMuZXh0cnVkZWQsaD1zLndpcmVmcmFtZSxmPXMubWF0ZXJpYWwsZD1zLnRyYW5zaXRpb25zLHY9dGhpcy5wcm9wcyxtPXYubGluZVdpZHRoVW5pdHMsYj12LmxpbmVXaWR0aFNjYWxlLF89di5saW5lV2lkdGhNaW5QaXhlbHMsTz12LmxpbmVXaWR0aE1heFBpeGVscyx4PXYubGluZUpvaW50Um91bmRlZCxrPXYubGluZU1pdGVyTGltaXQsUz12LnBvaW50UmFkaXVzU2NhbGUsUD12LnBvaW50UmFkaXVzTWluUGl4ZWxzLGo9di5wb2ludFJhZGl1c01heFBpeGVscyxUPXYuZWxldmF0aW9uU2NhbGUsRT12LmxpbmVEYXNoSnVzdGlmaWVkLEE9dGhpcy5wcm9wcyxNPUEuZ2V0TGluZUNvbG9yLEM9QS5nZXRGaWxsQ29sb3IsTD1BLmdldFJhZGl1cyxJPUEuZ2V0TGluZVdpZHRoLFI9QS5nZXRMaW5lRGFzaEFycmF5LE49QS5nZXRFbGV2YXRpb24sRD1BLnVwZGF0ZVRyaWdnZXJzLEY9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJwb2x5Z29ucy1maWxsIix5LmEpLHo9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJwb2x5Z29ucy1zdHJva2UiLGcuYSksQj10aGlzLmdldFN1YkxheWVyQ2xhc3MoImxpbmUtc3RyaW5ncyIsZy5hKSxVPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygicG9pbnRzIixwLmEpLFY9dGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigicG9seWdvbnMtZmlsbCIsYSkmJm5ldyBGKHtfZGF0YURpZmY6bi5wb2x5Z29uRmVhdHVyZXMmJmZ1bmN0aW9uKCl7cmV0dXJuIG4ucG9seWdvbkZlYXR1cmVzfSxleHRydWRlZDpsLGVsZXZhdGlvblNjYWxlOlQsZmlsbGVkOmMsd2lyZWZyYW1lOmgsbWF0ZXJpYWw6ZixnZXRFbGV2YXRpb246dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKE4pLGdldEZpbGxDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoQyksZ2V0TGluZUNvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihNKSx0cmFuc2l0aW9uczpkJiZ7Z2V0UG9seWdvbjpkLmdlb21ldHJ5LGdldEVsZXZhdGlvbjpkLmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6ZC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOmQuZ2V0TGluZUNvbG9yfX0sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoicG9seWdvbnMtZmlsbCIsdXBkYXRlVHJpZ2dlcnM6e2dldEVsZXZhdGlvbjpELmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6RC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOkQuZ2V0TGluZUNvbG9yfX0pLHtkYXRhOmEsZ2V0UG9seWdvbjp3fSk7cmV0dXJuWyFsJiZWLCFsJiZ1JiZ0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJwb2x5Z29ucy1zdHJva2UiLG8pJiZuZXcgeih7X2RhdGFEaWZmOm4ucG9seWdvbk91dGxpbmVGZWF0dXJlcyYmZnVuY3Rpb24oKXtyZXR1cm4gbi5wb2x5Z29uT3V0bGluZUZlYXR1cmVzfSx3aWR0aFVuaXRzOm0sd2lkdGhTY2FsZTpiLHdpZHRoTWluUGl4ZWxzOl8sd2lkdGhNYXhQaXhlbHM6Tyxyb3VuZGVkOngsbWl0ZXJMaW1pdDprLGRhc2hKdXN0aWZpZWQ6RSxnZXRDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTSksZ2V0V2lkdGg6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKEkpLGdldERhc2hBcnJheTp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoUiksdHJhbnNpdGlvbnM6ZCYme2dldFBhdGg6ZC5nZW9tZXRyeSxnZXRDb2xvcjpkLmdldExpbmVDb2xvcixnZXRXaWR0aDpkLmdldExpbmVXaWR0aH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InBvbHlnb25zLXN0cm9rZSIsdXBkYXRlVHJpZ2dlcnM6e2dldENvbG9yOkQuZ2V0TGluZUNvbG9yLGdldFdpZHRoOkQuZ2V0TGluZVdpZHRoLGdldERhc2hBcnJheTpELmdldExpbmVEYXNoQXJyYXl9fSkse2RhdGE6byxnZXRQYXRoOnd9KSx0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJsaW5lc3RyaW5ncyIsaSkmJm5ldyBCKHtfZGF0YURpZmY6bi5saW5lRmVhdHVyZXMmJmZ1bmN0aW9uKCl7cmV0dXJuIG4ubGluZUZlYXR1cmVzfSx3aWR0aFVuaXRzOm0sd2lkdGhTY2FsZTpiLHdpZHRoTWluUGl4ZWxzOl8sd2lkdGhNYXhQaXhlbHM6Tyxyb3VuZGVkOngsbWl0ZXJMaW1pdDprLGRhc2hKdXN0aWZpZWQ6RSxnZXRDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTSksZ2V0V2lkdGg6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKEkpLGdldERhc2hBcnJheTp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoUiksdHJhbnNpdGlvbnM6ZCYme2dldFBhdGg6ZC5nZW9tZXRyeSxnZXRDb2xvcjpkLmdldExpbmVDb2xvcixnZXRXaWR0aDpkLmdldExpbmVXaWR0aH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImxpbmUtc3RyaW5ncyIsdXBkYXRlVHJpZ2dlcnM6e2dldENvbG9yOkQuZ2V0TGluZUNvbG9yLGdldFdpZHRoOkQuZ2V0TGluZVdpZHRoLGdldERhc2hBcnJheTpELmdldExpbmVEYXNoQXJyYXl9fSkse2RhdGE6aSxnZXRQYXRoOnd9KSx0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJwb2ludHMiLHIpJiZuZXcgVSh7X2RhdGFEaWZmOm4ucG9pbnRGZWF0dXJlcyYmZnVuY3Rpb24oKXtyZXR1cm4gbi5wb2ludEZlYXR1cmVzfSxzdHJva2VkOnUsZmlsbGVkOmMscmFkaXVzU2NhbGU6UyxyYWRpdXNNaW5QaXhlbHM6UCxyYWRpdXNNYXhQaXhlbHM6aixsaW5lV2lkdGhVbml0czptLGxpbmVXaWR0aFNjYWxlOmIsbGluZVdpZHRoTWluUGl4ZWxzOl8sbGluZVdpZHRoTWF4UGl4ZWxzOk8sZ2V0RmlsbENvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihDKSxnZXRMaW5lQ29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKE0pLGdldFJhZGl1czp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTCksZ2V0TGluZVdpZHRoOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihJKSx0cmFuc2l0aW9uczpkJiZ7Z2V0UG9zaXRpb246ZC5nZW9tZXRyeSxnZXRGaWxsQ29sb3I6ZC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOmQuZ2V0TGluZUNvbG9yLGdldFJhZGl1czpkLmdldFJhZGl1cyxnZXRMaW5lV2lkdGg6ZC5nZXRMaW5lV2lkdGh9fSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJwb2ludHMiLHVwZGF0ZVRyaWdnZXJzOntnZXRGaWxsQ29sb3I6RC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOkQuZ2V0TGluZUNvbG9yLGdldFJhZGl1czpELmdldFJhZGl1cyxnZXRMaW5lV2lkdGg6RC5nZXRMaW5lV2lkdGh9fSkse2RhdGE6cixnZXRQb3NpdGlvbjp3LGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6dGhpcy5fZ2V0SGlnaGxpZ2h0ZWRJbmRleChyKX0pLGwmJlZdfX0se2tleToiX2dldEhpZ2hsaWdodGVkSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuaGlnaGxpZ2h0ZWRPYmplY3RJbmRleDtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGUpP3QuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3NvdXJjZS5pbmRleD09PWV9KSk6bnVsbH19XSksZX0odi5hKTtrLmxheWVyTmFtZT0iR2VvSnNvbkxheWVyIixrLmRlZmF1bHRQcm9wcz14fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNiksaT1uKDcpLGE9bigxNyksbz1uKDE1KSxzPW4oMTgpLHU9bigxMjYpLGM9bigyNyksbD1uKDgzKSxoPW4oMTQpLGY9big2OCksZD1uKDM2KSx2PW4oNDkpO2Z1bmN0aW9uIHAoKXt2YXIgdD1uZXcgaC5hKDQpO3JldHVybiBoLmEhPUZsb2F0MzJBcnJheSYmKHRbMF09MCx0WzFdPTAsdFsyXT0wKSx0WzNdPTEsdH1mdW5jdGlvbiBnKHQsZSxuKXtuKj0uNTt2YXIgcj1NYXRoLnNpbihuKTtyZXR1cm4gdFswXT1yKmVbMF0sdFsxXT1yKmVbMV0sdFsyXT1yKmVbMl0sdFszXT1NYXRoLmNvcyhuKSx0fWZ1bmN0aW9uIHkodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1uWzBdLHU9blsxXSxjPW5bMl0sbD1uWzNdO3JldHVybiB0WzBdPXIqbCtvKnMraSpjLWEqdSx0WzFdPWkqbCtvKnUrYSpzLXIqYyx0WzJdPWEqbCtvKmMrcip1LWkqcyx0WzNdPW8qbC1yKnMtaSp1LWEqYyx0fWZ1bmN0aW9uIG0odCxlLG4scil7dmFyIGksYSxvLHMsdSxjPWVbMF0sbD1lWzFdLGY9ZVsyXSxkPWVbM10sdj1uWzBdLHA9blsxXSxnPW5bMl0seT1uWzNdO3JldHVybihhPWMqditsKnArZipnK2QqeSk8MCYmKGE9LWEsdj0tdixwPS1wLGc9LWcseT0teSksMS1hPmguYj8oaT1NYXRoLmFjb3MoYSksbz1NYXRoLnNpbihpKSxzPU1hdGguc2luKCgxLXIpKmkpL28sdT1NYXRoLnNpbihyKmkpL28pOihzPTEtcix1PXIpLHRbMF09cypjK3Uqdix0WzFdPXMqbCt1KnAsdFsyXT1zKmYrdSpnLHRbM109cypkK3UqeSx0fWZ1bmN0aW9uIGIodCxlKXt2YXIgbixyPWVbMF0rZVs0XStlWzhdO2lmKHI+MCluPU1hdGguc3FydChyKzEpLHRbM109LjUqbixuPS41L24sdFswXT0oZVs1XS1lWzddKSpuLHRbMV09KGVbNl0tZVsyXSkqbix0WzJdPShlWzFdLWVbM10pKm47ZWxzZXt2YXIgaT0wO2VbNF0+ZVswXSYmKGk9MSksZVs4XT5lWzMqaStpXSYmKGk9Mik7dmFyIGE9KGkrMSklMyxvPShpKzIpJTM7bj1NYXRoLnNxcnQoZVszKmkraV0tZVszKmErYV0tZVszKm8rb10rMSksdFtpXT0uNSpuLG49LjUvbix0WzNdPShlWzMqYStvXS1lWzMqbythXSkqbix0W2FdPShlWzMqYStpXStlWzMqaSthXSkqbix0W29dPShlWzMqbytpXStlWzMqaStvXSkqbn1yZXR1cm4gdH12LmIsdi5nLHYuYyx2Lmw7dmFyIF8sTyx4LHcsayxTLFA9di5hLGo9di5rLFQ9di5kLEU9di5pLEE9di5oLE09di5tLEM9di5qLEw9KHYuZix2LmUsXz1kLmIoKSxPPWQuZSgxLDAsMCkseD1kLmUoMCwxLDApLGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLmQoZSxuKTtyZXR1cm4gcjwtLjk5OTk5OT8oZC5jKF8sTyxlKSxkLmYoXyk8MWUtNiYmZC5jKF8seCxlKSxkLmgoXyxfKSxnKHQsXyxNYXRoLlBJKSx0KTpyPi45OTk5OTk/KHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MSx0KTooZC5jKF8sZSxuKSx0WzBdPV9bMF0sdFsxXT1fWzFdLHRbMl09X1syXSx0WzNdPTErcixDKHQsdCkpfSk7dz1wKCksaz1wKCksUz1mLmEoKTtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSk7dmFyIEk9WzAsMCwwLDFdLFI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksdD1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCwtMCkpLEFycmF5LmlzQXJyYXkobikmJjE9PT1hcmd1bWVudHMubGVuZ3RoP3QuY29weShuKTp0LnNldChuLGkscyx1KSx0fXJldHVybiBPYmplY3Qocy5hKShlLHQpLE9iamVjdChpLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpcy5jaGVjaygpfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21NYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYih0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMpWzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdGhpcy5jaGVjaygpfX0se2tleToiZnJvbUF4aXNSb3RhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZyh0aGlzLHQsZSksdGhpcy5jaGVjaygpfX0se2tleToic2V0QXhpc0FuZ2xlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyb21BeGlzUm90YXRpb24odCxlKX19LHtrZXk6ImxlbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzKX19LHtrZXk6Imxlbmd0aFNxdWFyZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNKHRoaXMpfX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IEVycm9yKCJRdWF0ZXJuaW9uLmRvdCBvbmx5IHRha2VzIG9uZSBhcmd1bWVudCIpO3JldHVybiBUKHRoaXMsdCl9fSx7a2V5OiJyb3RhdGlvblRvIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBMKHRoaXMsdCxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlF1YXRlcm5pb24uYWRkIG9ubHkgdGFrZXMgb25lIGFyZ3VtZW50Iik7cmV0dXJuIFAodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImNhbGN1bGF0ZVciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtyZXR1cm4gdD10aGlzLG49KGU9dGhpcylbMF0scj1lWzFdLGk9ZVsyXSx0WzBdPW4sdFsxXT1yLHRbMl09aSx0WzNdPU1hdGguc3FydChNYXRoLmFicygxLW4qbi1yKnItaSppKSksdGhpcy5jaGVjaygpfX0se2tleToiY29uanVnYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIGU9dGhpcywodD10aGlzKVswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdFszXT1lWzNdLHRoaXMuY2hlY2soKX19LHtrZXk6ImludmVydCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLGEsbyxzO3JldHVybiB0PXRoaXMsbj0oZT10aGlzKVswXSxyPWVbMV0saT1lWzJdLGE9ZVszXSxzPShvPW4qbityKnIraSppK2EqYSk/MS9vOjAsdFswXT0tbipzLHRbMV09LXIqcyx0WzJdPS1pKnMsdFszXT1hKnMsdGhpcy5jaGVjaygpfX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBFKHRoaXMsdCxlLG4pLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5UmlnaHQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChsLmEpKCFlKSx5KHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUxlZnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChsLmEpKCFlKSx5KHRoaXMsdCx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJub3JtYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW4oKSxlPXQ+MD8xL3Q6MDtyZXR1cm4gdGhpc1swXT10aGlzWzBdKmUsdGhpc1sxXT10aGlzWzFdKmUsdGhpc1syXT10aGlzWzJdKmUsdGhpc1szXT10aGlzWzNdKmUsMD09PXQmJih0aGlzWzNdPTEpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7bio9LjU7dmFyIHI9ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPU1hdGguc2luKG4pLHU9TWF0aC5jb3Mobik7dFswXT1yKnUrbypzLHRbMV09aSp1K2Eqcyx0WzJdPWEqdS1pKnMsdFszXT1vKnUtcipzfSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtuKj0uNTt2YXIgcj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9TWF0aC5zaW4obiksdT1NYXRoLmNvcyhuKTt0WzBdPXIqdS1hKnMsdFsxXT1pKnUrbypzLHRbMl09YSp1K3Iqcyx0WzNdPW8qdS1pKnN9KHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVaIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe24qPS41O3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1NYXRoLnNpbihuKSx1PU1hdGguY29zKG4pO3RbMF09cip1K2kqcyx0WzFdPWkqdS1yKnMsdFsyXT1hKnUrbypzLHRbM109byp1LWEqc30odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaih0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToic2xlcnAiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOnZhciByPWFyZ3VtZW50c1swXSxpPXIuc3RhcnQ7dD12b2lkIDA9PT1pP0k6aSxlPXIudGFyZ2V0LG49ci5yYXRpbzticmVhaztjYXNlIDI6dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlPWFbMF0sbj1hWzFdLHQ9dGhpc31yZXR1cm4gbSh0aGlzLHQsZSxuKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3I0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dDtyZXR1cm4gdi5vKGUsdCx0aGlzKSxPYmplY3QoYy5iKShlLDQpfX0se2tleToibGVuZ3RoU3EiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoU3F1YXJlZCgpfX0se2tleToic2V0RnJvbUF4aXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRBeGlzQW5nbGUodCxlKX19LHtrZXk6InByZW11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm11bHRpcGx5TGVmdCh0LGUpfX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlSaWdodCh0LGUpfX0se2tleToiRUxFTUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiA0fX0se2tleToieCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF19LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT1PYmplY3QoYy5hKSh0KX19LHtrZXk6InkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzFdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMV09T2JqZWN0KGMuYSkodCl9fSx7a2V5OiJ6IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1syXX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzJdPU9iamVjdChjLmEpKHQpfX0se2tleToidyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbM119LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1szXT1PYmplY3QoYy5hKSh0KX19XSksZX0odS5hKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17cGlja2luZ1NlbGVjdGVkQ29sb3I6bnVsbCxwaWNraW5nSGlnaGxpZ2h0Q29sb3I6bmV3IFVpbnQ4QXJyYXkoWzAsMjU1LDI1NSwyNTVdKSxwaWNraW5nQWN0aXZlOiExLHBpY2tpbmdBdHRyaWJ1dGU6ITF9O3ZhciBpPXtuYW1lOiJwaWNraW5nIix2czoidW5pZm9ybSBib29sIHBpY2tpbmdfdUFjdGl2ZTtcbnVuaWZvcm0gYm9vbCBwaWNraW5nX3VBdHRyaWJ1dGU7XG51bmlmb3JtIHZlYzMgcGlja2luZ191U2VsZWN0ZWRDb2xvcjtcbnVuaWZvcm0gYm9vbCBwaWNraW5nX3VTZWxlY3RlZENvbG9yVmFsaWQ7XG5cbm91dCB2ZWM0IHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZDtcblxuY29uc3QgZmxvYXQgQ09MT1JfU0NBTEUgPSAxLiAvIDI1NS47XG5cbmJvb2wgcGlja2luZ19pc0NvbG9yVmFsaWQodmVjMyBjb2xvcikge1xuICByZXR1cm4gZG90KGNvbG9yLCB2ZWMzKDEuMCkpID4gMC4wMDE7XG59XG5cbmJvb2wgaXNWZXJ0ZXhQaWNrZWQodmVjMyB2ZXJ0ZXhDb2xvcikge1xuICByZXR1cm5cbiAgICBwaWNraW5nX3VTZWxlY3RlZENvbG9yVmFsaWQgJiZcbiAgICAhcGlja2luZ19pc0NvbG9yVmFsaWQoYWJzKHZlcnRleENvbG9yIC0gcGlja2luZ191U2VsZWN0ZWRDb2xvcikpO1xufVxuXG52b2lkIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKHZlYzMgcGlja2luZ0NvbG9yKSB7XG4gIGlmIChwaWNraW5nX3VBY3RpdmUpIHtcbiAgICBwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQuYSA9IGZsb2F0KHBpY2tpbmdfaXNDb2xvclZhbGlkKHBpY2tpbmdDb2xvcikpO1xuXG4gICAgaWYgKCFwaWNraW5nX3VBdHRyaWJ1dGUpIHtcbiAgICAgIHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZC5yZ2IgPSBwaWNraW5nQ29sb3IgKiBDT0xPUl9TQ0FMRTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLmEgPSBmbG9hdChpc1ZlcnRleFBpY2tlZChwaWNraW5nQ29sb3IpKTtcbiAgfVxufVxuXG52b2lkIHBpY2tpbmdfc2V0UGlja2luZ0F0dHJpYnV0ZShmbG9hdCB2YWx1ZSkge1xuICBpZiAocGlja2luZ191QXR0cmlidXRlKSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLnIgPSB2YWx1ZTtcbiAgfVxufVxudm9pZCBwaWNraW5nX3NldFBpY2tpbmdBdHRyaWJ1dGUodmVjMiB2YWx1ZSkge1xuICBpZiAocGlja2luZ191QXR0cmlidXRlKSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLnJnID0gdmFsdWU7XG4gIH1cbn1cbnZvaWQgcGlja2luZ19zZXRQaWNraW5nQXR0cmlidXRlKHZlYzMgdmFsdWUpIHtcbiAgaWYgKHBpY2tpbmdfdUF0dHJpYnV0ZSkge1xuICAgIHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZC5yZ2IgPSB2YWx1ZTtcbiAgfVxufVxuIixmczoidW5pZm9ybSBib29sIHBpY2tpbmdfdUFjdGl2ZTtcbnVuaWZvcm0gdmVjMyBwaWNraW5nX3VTZWxlY3RlZENvbG9yO1xudW5pZm9ybSB2ZWM0IHBpY2tpbmdfdUhpZ2hsaWdodENvbG9yO1xuXG5pbiB2ZWM0IHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZDtcbnZlYzQgcGlja2luZ19maWx0ZXJIaWdobGlnaHRDb2xvcih2ZWM0IGNvbG9yKSB7XG4gIGlmIChwaWNraW5nX3VBY3RpdmUpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgYm9vbCBzZWxlY3RlZCA9IGJvb2wocGlja2luZ192UkdCY29sb3JfQXZhbGlkLmEpO1xuXG4gIGlmIChzZWxlY3RlZCkge1xuICAgIGZsb2F0IGhpZ2hMaWdodEFscGhhID0gcGlja2luZ191SGlnaGxpZ2h0Q29sb3IuYTtcbiAgICBmbG9hdCBibGVuZGVkQWxwaGEgPSBoaWdoTGlnaHRBbHBoYSArIGNvbG9yLmEgKiAoMS4wIC0gaGlnaExpZ2h0QWxwaGEpO1xuICAgIGZsb2F0IGhpZ2hMaWdodFJhdGlvID0gaGlnaExpZ2h0QWxwaGEgLyBibGVuZGVkQWxwaGE7XG5cbiAgICB2ZWMzIGJsZW5kZWRSR0IgPSBtaXgoY29sb3IucmdiLCBwaWNraW5nX3VIaWdobGlnaHRDb2xvci5yZ2IsIGhpZ2hMaWdodFJhdGlvKTtcbiAgICByZXR1cm4gdmVjNChibGVuZGVkUkdCLCBibGVuZGVkQWxwaGEpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxufVxudmVjNCBwaWNraW5nX2ZpbHRlclBpY2tpbmdDb2xvcih2ZWM0IGNvbG9yKSB7XG4gIGlmIChwaWNraW5nX3VBY3RpdmUpIHtcbiAgICBpZiAocGlja2luZ192UkdCY29sb3JfQXZhbGlkLmEgPT0gMC4wKSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgICByZXR1cm4gcGlja2luZ192UkdCY29sb3JfQXZhbGlkO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbnZlYzQgcGlja2luZ19maWx0ZXJDb2xvcih2ZWM0IGNvbG9yKSB7XG4gIHZlYzQgaGlnaGlnaHRDb2xvciA9IHBpY2tpbmdfZmlsdGVySGlnaGxpZ2h0Q29sb3IoY29sb3IpO1xuICByZXR1cm4gcGlja2luZ19maWx0ZXJQaWNraW5nQ29sb3IoaGlnaGlnaHRDb2xvcik7XG59XG5cbiIsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cixlPXt9O2lmKHZvaWQgMCE9PXQucGlja2luZ1NlbGVjdGVkQ29sb3IpaWYodC5waWNraW5nU2VsZWN0ZWRDb2xvcil7dmFyIG49dC5waWNraW5nU2VsZWN0ZWRDb2xvci5zbGljZSgwLDMpO2UucGlja2luZ191U2VsZWN0ZWRDb2xvclZhbGlkPTEsZS5waWNraW5nX3VTZWxlY3RlZENvbG9yPW59ZWxzZSBlLnBpY2tpbmdfdVNlbGVjdGVkQ29sb3JWYWxpZD0wO2lmKHQucGlja2luZ0hpZ2hsaWdodENvbG9yKXt2YXIgaT1BcnJheS5mcm9tKHQucGlja2luZ0hpZ2hsaWdodENvbG9yLChmdW5jdGlvbih0KXtyZXR1cm4gdC8yNTV9KSk7TnVtYmVyLmlzRmluaXRlKGlbM10pfHwoaVszXT0xKSxlLnBpY2tpbmdfdUhpZ2hsaWdodENvbG9yPWl9cmV0dXJuIHZvaWQgMCE9PXQucGlja2luZ0FjdGl2ZSYmKGUucGlja2luZ191QWN0aXZlPUJvb2xlYW4odC5waWNraW5nQWN0aXZlKSxlLnBpY2tpbmdfdUF0dHJpYnV0ZT1Cb29sZWFuKHQucGlja2luZ0F0dHJpYnV0ZSkpLGV9fTtlLmE9T2JqZWN0LmFzc2lnbih7aW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICAgIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGdlb21ldHJ5LnBpY2tpbmdDb2xvcik7XG4gICAgLy8gZm9yIHBpY2tpbmcgZGVwdGggdmFsdWVzXG4gICAgcGlja2luZ19zZXRQaWNraW5nQXR0cmlidXRlKGdlb21ldHJ5LnBvc2l0aW9uLnopO1xuICAgICIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOntvcmRlcjo5OSxpbmplY3Rpb246IlxuICAgIC8vIHVzZSBoaWdobGlnaHQgY29sb3IgaWYgdGhpcyBmcmFnbWVudCBiZWxvbmdzIHRvIHRoZSBzZWxlY3RlZCBvYmplY3QuXG4gICAgY29sb3IgPSBwaWNraW5nX2ZpbHRlckhpZ2hsaWdodENvbG9yKGNvbG9yKTtcblxuICAgIC8vIHVzZSBwaWNraW5nIGNvbG9yIGlmIHJlbmRlcmluZyB0byBwaWNraW5nIEZCTy5cbiAgICBjb2xvciA9IHBpY2tpbmdfZmlsdGVyUGlja2luZ0NvbG9yKGNvbG9yKTtcbiAgICAgICJ9fX0saSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgcj1uKDApLGk9bigxMjcpLGE9bigyMjIpLG89bigyMjMpLHM9big4MiksdT1uKDI4KTtmdW5jdGlvbiBjKHQsZSl7T2JqZWN0KHUuYSkodCBpbnN0YW5jZW9mIGkuYXx8dCBpbnN0YW5jZW9mIGEuYXx8dCBpbnN0YW5jZW9mIG8uYSk7dmFyIG49dC5jb25zdHJ1Y3RvcixyPXQuZ2wscz10LndpZHRoLGM9dC5oZWlnaHQsbD10LmZvcm1hdCxoPXQudHlwZSxmPXQuZGF0YUZvcm1hdCxkPXQuYm9yZGVyLHY9dC5taXBtYXBzO3JldHVybiBuZXcgbihyLE9iamVjdC5hc3NpZ24oe3dpZHRoOnMsaGVpZ2h0OmMsZm9ybWF0OmwsdHlwZTpoLGRhdGFGb3JtYXQ6Zixib3JkZXI6ZCxtaXBtYXBzOnZ9LGUpKX1mdW5jdGlvbiBsKHQsZSl7dmFyIG49dC5nbCxpPXQud2lkdGgsYT10LmhlaWdodCxvPXQuaWQ7cmV0dXJuIG5ldyBzLmEobixPYmplY3QuYXNzaWduKHt9LGUse2lkOiJmcmFtZWJ1ZmZlci1mb3ItIi5jb25jYXQobyksd2lkdGg6aSxoZWlnaHQ6YSxhdHRhY2htZW50czpPYmplY3Qoci5hKSh7fSwzNjA2NCx0KX0pKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKSxvPW4oNikscz1uKDcpLHU9bigxNyksYz1uKDE1KSxsPW4oNDcpLGg9bigxOCksZj1uKDExKSxkPW4oNjYpLHY9big3NikscD1bMzQwNjksMzQwNzAsMzQwNzEsMzQwNzIsMzQwNzMsMzQwNzRdLGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KG8uYSkodGhpcyxlKSxPYmplY3Qodi5iKSh0KSwobj1PYmplY3QodS5hKSh0aGlzLE9iamVjdChjLmEpKGUpLmNhbGwodGhpcyx0LE9iamVjdC5hc3NpZ24oe30scix7dGFyZ2V0OjM0MDY3fSkpKSkuaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3QobC5hKShuKSksbn12YXIgbjtyZXR1cm4gT2JqZWN0KGguYSkoZSx0KSxPYmplY3Qocy5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLm1pcG1hcHMscj12b2lkIDA9PT1ufHxuLGk9ZS5wYXJhbWV0ZXJzLGE9dm9pZCAwPT09aT97fTppO3RoaXMub3B0cz1lLHRoaXMuc2V0Q3ViZU1hcEltYWdlRGF0YShlKS50aGVuKChmdW5jdGlvbigpe3QubG9hZGVkPSEwLHImJnQuZ2VuZXJhdGVNaXBtYXAoZSksdC5zZXRQYXJhbWV0ZXJzKGEpfSkpfX0se2tleToic3ViSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZmFjZSxuPXQuZGF0YSxyPXQueCxpPXZvaWQgMD09PXI/MDpyLGE9dC55LG89dm9pZCAwPT09YT8wOmEscz10Lm1pcG1hcExldmVsLHU9dm9pZCAwPT09cz8wOnM7cmV0dXJuIHRoaXMuX3N1YkltYWdlKHt0YXJnZXQ6ZSxkYXRhOm4seDppLHk6byxtaXBtYXBMZXZlbDp1fSl9fSx7a2V5OiJzZXRDdWJlTWFwSW1hZ2VEYXRhIix2YWx1ZToobj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxzLHUsYyxsLGgsZCx2LGcseSxtPXRoaXM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1lLndpZHRoLHI9ZS5oZWlnaHQsYT1lLnBpeGVscyxvPWUuZGF0YSxzPWUuYm9yZGVyLHU9dm9pZCAwPT09cz8wOnMsYz1lLmZvcm1hdCxsPXZvaWQgMD09PWM/NjQwODpjLGg9ZS50eXBlLGQ9dm9pZCAwPT09aD81MTIxOmgsdj10aGlzLmdsLGc9YXx8byx0Lm5leHQ9NSxQcm9taXNlLmFsbChwLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9Z1t0XTtyZXR1cm4gUHJvbWlzZS5hbGwoQXJyYXkuaXNBcnJheShlKT9lOltlXSl9KSkpO2Nhc2UgNTp5PXQuc2VudCx0aGlzLmJpbmQoKSxwLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7eVtlXS5sZW5ndGg+MSYmITEhPT1tLm9wdHMubWlwbWFwcyYmZi5oLndhcm4oIiIuY29uY2F0KG0uaWQsIiBoYXMgbWlwbWFwIGFuZCBtdWx0aXBsZSBMT0RzLiIpKSgpLHlbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtuJiZyP3YudGV4SW1hZ2UyRCh0LGksbCxuLHIsdSxsLGQsZSk6di50ZXhJbWFnZTJEKHQsaSxsLGwsZCxlKX0pKX0pKSx0aGlzLnVuYmluZCgpO2Nhc2UgOTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKHQpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJzZXRJbWFnZURhdGFGb3JGYWNlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5mYWNlLHI9dC53aWR0aCxpPXQuaGVpZ2h0LGE9dC5waXhlbHMsbz10LmRhdGEscz10LmJvcmRlcix1PXZvaWQgMD09PXM/MDpzLGM9dC5mb3JtYXQsbD12b2lkIDA9PT1jPzY0MDg6YyxoPXQudHlwZSxmPXZvaWQgMD09PWg/NTEyMTpoLGQ9dGhpcy5nbCx2PWF8fG87cmV0dXJuIHRoaXMuYmluZCgpLHYgaW5zdGFuY2VvZiBQcm9taXNlP3YudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIGUuc2V0SW1hZ2VEYXRhRm9yRmFjZShPYmplY3QuYXNzaWduKHt9LHQse2ZhY2U6bixkYXRhOnIscGl4ZWxzOnJ9KSl9KSk6dGhpcy53aWR0aHx8dGhpcy5oZWlnaHQ/ZC50ZXhJbWFnZTJEKG4sMCxsLHIsaSx1LGwsZix2KTpkLnRleEltYWdlMkQobiwwLGwsbCxmLHYpLHRoaXN9fV0pLGV9KGQuYSk7Zy5GQUNFUz1wfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNDcpLHM9big3KSx1PW4oMTgpLGM9bigxMSksbD1uKDc2KSxoPW4oNjYpLGY9big5NyksZD1uKDQ4KSx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsZSksT2JqZWN0KGwuYSkodCkscz1PYmplY3QuYXNzaWduKHtkZXB0aDoxfSxzLHt0YXJnZXQ6MzI4NzksdW5wYWNrRmxpcFk6ITF9KSwobj1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKGUpLmNhbGwodGhpcyx0LHMpKSkuaW5pdGlhbGl6ZShzKSxPYmplY3Quc2VhbChPYmplY3Qoby5hKShuKSksbn1yZXR1cm4gT2JqZWN0KHUuYSkoZSx0KSxPYmplY3Qocy5hKShlLG51bGwsW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGMuZykodCl9fV0pLE9iamVjdChzLmEpKGUsW3trZXk6InNldEltYWdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubGV2ZWwscj12b2lkIDA9PT1uPzA6bixpPXQuZGF0YUZvcm1hdCxhPXZvaWQgMD09PWk/NjQwODppLG89dC53aWR0aCxzPXQuaGVpZ2h0LHU9dC5kZXB0aCxsPXZvaWQgMD09PXU/MTp1LGg9dC5ib3JkZXIsdj12b2lkIDA9PT1oPzA6aCxwPXQuZm9ybWF0LGc9dC50eXBlLHk9dm9pZCAwPT09Zz81MTIxOmcsbT10Lm9mZnNldCxiPXZvaWQgMD09PW0/MDptLF89dC5kYXRhLE89dC5wYXJhbWV0ZXJzLHg9dm9pZCAwPT09Tz97fTpPO2lmKHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoIlRleHR1cmUiKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKSxPYmplY3QoYy5sKSh0aGlzLmdsLHgsKGZ1bmN0aW9uKCl7QXJyYXlCdWZmZXIuaXNWaWV3KF8pJiZlLmdsLnRleEltYWdlM0QoZS50YXJnZXQscixhLG8scyxsLHYscCx5LF8pLF8gaW5zdGFuY2VvZiBkLmEmJihlLmdsLmJpbmRCdWZmZXIoMzUwNTIsXy5oYW5kbGUpLGUuZ2wudGV4SW1hZ2UzRChlLnRhcmdldCxyLGEsbyxzLGwsdixwLHksYikpfSkpLF8mJl8uYnl0ZUxlbmd0aCl0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShfLmJ5dGVMZW5ndGgsIlRleHR1cmUiKTtlbHNle3ZhciB3PWYuYVt0aGlzLmRhdGFGb3JtYXRdfHw0LGs9Zi5jW3RoaXMudHlwZV18fDE7dGhpcy5fdHJhY2tBbGxvY2F0ZWRNZW1vcnkodGhpcy53aWR0aCp0aGlzLmhlaWdodCp0aGlzLmRlcHRoKncqaywiVGV4dHVyZSIpfXJldHVybiB0aGlzLmxvYWRlZD0hMCx0aGlzfX1dKSxlfShoLmEpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG4saSxhPXIodCxlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2ZvcihpPTA7aTxvLmxlbmd0aDtpKyspbj1vW2ldLGUuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQsbikmJihhW25dPXRbbl0pfXJldHVybiBhfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wpe2lmKFN5bWJvbC5hc3luY0l0ZXJhdG9yJiZudWxsIT0oZT10W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkpcmV0dXJuIGUuY2FsbCh0KTtpZihTeW1ib2wuaXRlcmF0b3ImJm51bGwhPShlPXRbU3ltYm9sLml0ZXJhdG9yXSkpcmV0dXJuIGUuY2FsbCh0KX10aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlIil9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDMxKSxpPW4oOTgpOyJJbnZhbGlkIE1JTUUgdHlwZS4gU3VwcG9ydGVkIE1JTUUgdHlwZXMgYXJlOiAiLmNvbmNhdChBcnJheS5mcm9tKGkuZS5rZXlzKCkpLmpvaW4oIiwgIikpO2Z1bmN0aW9uIGEodCl7dmFyIGU9byh0KSxuPSEwLGE9ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPWkuZS5lbnRyaWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0odT1jLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGw9T2JqZWN0KHIuYSkodS52YWx1ZSwyKSxoPWxbMF07aWYoKDAsbFsxXS50ZXN0KShlKSlyZXR1cm4gaH19Y2F0Y2godCl7YT0hMCxzPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHN9fXJldHVybiBudWxsfWZ1bmN0aW9uIG8odCl7aWYoKHQ9dC5idWZmZXJ8fHQpaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IERhdGFWaWV3KHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSlyZXR1cm4gbmV3IERhdGFWaWV3KHQuYnVmZmVyKTt0aHJvdyBuZXcgRXJyb3IoInRvRGF0YVZpZXciKX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUsbil7bj1ufHwyO3ZhciByLHMsdSxjLGwsZCx2LGc9ZSYmZS5sZW5ndGgseT1nP2VbMF0qbjp0Lmxlbmd0aCxtPWkodCwwLHksbiwhMCksYj1bXTtpZighbXx8bS5uZXh0PT09bS5wcmV2KXJldHVybiBiO2lmKGcmJihtPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvLHMsdSxjLGwsZD1bXTtmb3Iobz0wLHM9ZS5sZW5ndGg7bzxzO28rKyl1PWVbb10qcixjPW88cy0xP2VbbysxXSpyOnQubGVuZ3RoLChsPWkodCx1LGMsciwhMSkpPT09bC5uZXh0JiYobC5zdGVpbmVyPSEwKSxkLnB1c2gocChsKSk7Zm9yKGQuc29ydChoKSxvPTA7bzxkLmxlbmd0aDtvKyspZihkW29dLG4pLG49YShuLG4ubmV4dCk7cmV0dXJuIG59KHQsZSxtLG4pKSx0Lmxlbmd0aD44MCpuKXtyPXU9dFswXSxzPWM9dFsxXTtmb3IodmFyIF89bjtfPHk7Xys9bikobD10W19dKTxyJiYocj1sKSwoZD10W18rMV0pPHMmJihzPWQpLGw+dSYmKHU9bCksZD5jJiYoYz1kKTt2PTAhPT0odj1NYXRoLm1heCh1LXIsYy1zKSk/MS92OjB9cmV0dXJuIG8obSxiLG4scixzLHYpLGJ9ZnVuY3Rpb24gaSh0LGUsbixyLGkpe3ZhciBhLG87aWYoaT09PVQodCxlLG4scik+MClmb3IoYT1lO2E8bjthKz1yKW89UyhhLHRbYV0sdFthKzFdLG8pO2Vsc2UgZm9yKGE9bi1yO2E+PWU7YS09cilvPVMoYSx0W2FdLHRbYSsxXSxvKTtyZXR1cm4gbyYmYihvLG8ubmV4dCkmJihQKG8pLG89by5uZXh0KSxvfWZ1bmN0aW9uIGEodCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgbixyPXQ7ZG97aWYobj0hMSxyLnN0ZWluZXJ8fCFiKHIsci5uZXh0KSYmMCE9PW0oci5wcmV2LHIsci5uZXh0KSlyPXIubmV4dDtlbHNle2lmKFAociksKHI9ZT1yLnByZXYpPT09ci5uZXh0KWJyZWFrO249ITB9fXdoaWxlKG58fHIhPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBvKHQsZSxuLHIsaSxoLGYpe2lmKHQpeyFmJiZoJiZmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10O2Rve251bGw9PT1pLnomJihpLno9dihpLngsaS55LGUsbixyKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHR9d2hpbGUoaSE9PXQpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYSxvLHMsdSxjPTE7ZG97Zm9yKG49dCx0PW51bGwsYT1udWxsLG89MDtuOyl7Zm9yKG8rKyxyPW4scz0wLGU9MDtlPGMmJihzKysscj1yLm5leHRaKTtlKyspO2Zvcih1PWM7cz4wfHx1PjAmJnI7KTAhPT1zJiYoMD09PXV8fCFyfHxuLno8PXIueik/KGk9bixuPW4ubmV4dFoscy0tKTooaT1yLHI9ci5uZXh0Wix1LS0pLGE/YS5uZXh0Wj1pOnQ9aSxpLnByZXZaPWEsYT1pO249cn1hLm5leHRaPW51bGwsYyo9Mn13aGlsZShvPjEpfShpKX0odCxyLGksaCk7Zm9yKHZhciBkLHAsZz10O3QucHJldiE9PXQubmV4dDspaWYoZD10LnByZXYscD10Lm5leHQsaD91KHQscixpLGgpOnModCkpZS5wdXNoKGQuaS9uKSxlLnB1c2godC5pL24pLGUucHVzaChwLmkvbiksUCh0KSx0PXAubmV4dCxnPXAubmV4dDtlbHNlIGlmKCh0PXApPT09Zyl7Zj8xPT09Zj9vKHQ9YyhhKHQpLGUsbiksZSxuLHIsaSxoLDIpOjI9PT1mJiZsKHQsZSxuLHIsaSxoKTpvKGEodCksZSxuLHIsaSxoLDEpO2JyZWFrfX19ZnVuY3Rpb24gcyh0KXt2YXIgZT10LnByZXYsbj10LHI9dC5uZXh0O2lmKG0oZSxuLHIpPj0wKXJldHVybiExO2Zvcih2YXIgaT10Lm5leHQubmV4dDtpIT09dC5wcmV2Oyl7aWYoZyhlLngsZS55LG4ueCxuLnksci54LHIueSxpLngsaS55KSYmbShpLnByZXYsaSxpLm5leHQpPj0wKXJldHVybiExO2k9aS5uZXh0fXJldHVybiEwfWZ1bmN0aW9uIHUodCxlLG4scil7dmFyIGk9dC5wcmV2LGE9dCxvPXQubmV4dDtpZihtKGksYSxvKT49MClyZXR1cm4hMTtmb3IodmFyIHM9aS54PGEueD9pLng8by54P2kueDpvLng6YS54PG8ueD9hLng6by54LHU9aS55PGEueT9pLnk8by55P2kueTpvLnk6YS55PG8ueT9hLnk6by55LGM9aS54PmEueD9pLng+by54P2kueDpvLng6YS54Pm8ueD9hLng6by54LGw9aS55PmEueT9pLnk+by55P2kueTpvLnk6YS55Pm8ueT9hLnk6by55LGg9dihzLHUsZSxuLHIpLGY9dihjLGwsZSxuLHIpLGQ9dC5wcmV2WixwPXQubmV4dFo7ZCYmZC56Pj1oJiZwJiZwLno8PWY7KXtpZihkIT09dC5wcmV2JiZkIT09dC5uZXh0JiZnKGkueCxpLnksYS54LGEueSxvLngsby55LGQueCxkLnkpJiZtKGQucHJldixkLGQubmV4dCk+PTApcmV0dXJuITE7aWYoZD1kLnByZXZaLHAhPT10LnByZXYmJnAhPT10Lm5leHQmJmcoaS54LGkueSxhLngsYS55LG8ueCxvLnkscC54LHAueSkmJm0ocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4hMTtwPXAubmV4dFp9Zm9yKDtkJiZkLno+PWg7KXtpZihkIT09dC5wcmV2JiZkIT09dC5uZXh0JiZnKGkueCxpLnksYS54LGEueSxvLngsby55LGQueCxkLnkpJiZtKGQucHJldixkLGQubmV4dCk+PTApcmV0dXJuITE7ZD1kLnByZXZafWZvcig7cCYmcC56PD1mOyl7aWYocCE9PXQucHJldiYmcCE9PXQubmV4dCYmZyhpLngsaS55LGEueCxhLnksby54LG8ueSxwLngscC55KSYmbShwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiExO3A9cC5uZXh0Wn1yZXR1cm4hMH1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj10O2Rve3ZhciBpPXIucHJldixvPXIubmV4dC5uZXh0OyFiKGksbykmJl8oaSxyLHIubmV4dCxvKSYmdyhpLG8pJiZ3KG8saSkmJihlLnB1c2goaS5pL24pLGUucHVzaChyLmkvbiksZS5wdXNoKG8uaS9uKSxQKHIpLFAoci5uZXh0KSxyPXQ9bykscj1yLm5leHR9d2hpbGUociE9PXQpO3JldHVybiBhKHIpfWZ1bmN0aW9uIGwodCxlLG4scixpLHMpe3ZhciB1PXQ7ZG97Zm9yKHZhciBjPXUubmV4dC5uZXh0O2MhPT11LnByZXY7KXtpZih1LmkhPT1jLmkmJnkodSxjKSl7dmFyIGw9ayh1LGMpO3JldHVybiB1PWEodSx1Lm5leHQpLGw9YShsLGwubmV4dCksbyh1LGUsbixyLGkscyksdm9pZCBvKGwsZSxuLHIsaSxzKX1jPWMubmV4dH11PXUubmV4dH13aGlsZSh1IT09dCl9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiB0LngtZS54fWZ1bmN0aW9uIGYodCxlKXtpZihlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1lLGk9dC54LGE9dC55LG89LTEvMDtkb3tpZihhPD1yLnkmJmE+PXIubmV4dC55JiZyLm5leHQueSE9PXIueSl7dmFyIHM9ci54KyhhLXIueSkqKHIubmV4dC54LXIueCkvKHIubmV4dC55LXIueSk7aWYoczw9aSYmcz5vKXtpZihvPXMscz09PWkpe2lmKGE9PT1yLnkpcmV0dXJuIHI7aWYoYT09PXIubmV4dC55KXJldHVybiByLm5leHR9bj1yLng8ci5uZXh0Lng/cjpyLm5leHR9fXI9ci5uZXh0fXdoaWxlKHIhPT1lKTtpZighbilyZXR1cm4gbnVsbDtpZihpPT09bylyZXR1cm4gbjt2YXIgdSxjPW4sbD1uLngsaD1uLnksZj0xLzA7cj1uO2Rve2k+PXIueCYmci54Pj1sJiZpIT09ci54JiZnKGE8aD9pOm8sYSxsLGgsYTxoP286aSxhLHIueCxyLnkpJiYodT1NYXRoLmFicyhhLXIueSkvKGktci54KSx3KHIsdCkmJih1PGZ8fHU9PT1mJiYoci54Pm4ueHx8ci54PT09bi54JiZkKG4scikpKSYmKG49cixmPXUpKSxyPXIubmV4dH13aGlsZShyIT09Yyk7cmV0dXJuIG59KHQsZSkpe3ZhciBuPWsoZSx0KTthKG4sbi5uZXh0KX19ZnVuY3Rpb24gZCh0LGUpe3JldHVybiBtKHQucHJldix0LGUucHJldik8MCYmbShlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gdih0LGUsbixyLGkpe3JldHVybih0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9MzI3NjcqKHQtbikqaSl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpfChlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9MzI3NjcqKGUtcikqaSl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIHAodCl7dmFyIGU9dCxuPXQ7ZG97KGUueDxuLnh8fGUueD09PW4ueCYmZS55PG4ueSkmJihuPWUpLGU9ZS5uZXh0fXdoaWxlKGUhPT10KTtyZXR1cm4gbn1mdW5jdGlvbiBnKHQsZSxuLHIsaSxhLG8scyl7cmV0dXJuKGktbykqKGUtcyktKHQtbykqKGEtcyk+PTAmJih0LW8pKihyLXMpLShuLW8pKihlLXMpPj0wJiYobi1vKSooYS1zKS0oaS1vKSooci1zKT49MH1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuIHQubmV4dC5pIT09ZS5pJiZ0LnByZXYuaSE9PWUuaSYmIWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtkb3tpZihuLmkhPT10LmkmJm4ubmV4dC5pIT09dC5pJiZuLmkhPT1lLmkmJm4ubmV4dC5pIT09ZS5pJiZfKG4sbi5uZXh0LHQsZSkpcmV0dXJuITA7bj1uLm5leHR9d2hpbGUobiE9PXQpO3JldHVybiExfSh0LGUpJiYodyh0LGUpJiZ3KGUsdCkmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPSExLGk9KHQueCtlLngpLzIsYT0odC55K2UueSkvMjtkb3tuLnk+YSE9bi5uZXh0Lnk+YSYmbi5uZXh0LnkhPT1uLnkmJmk8KG4ubmV4dC54LW4ueCkqKGEtbi55KS8obi5uZXh0Lnktbi55KStuLngmJihyPSFyKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIHJ9KHQsZSkmJihtKHQucHJldix0LGUucHJldil8fG0odCxlLnByZXYsZSkpfHxiKHQsZSkmJm0odC5wcmV2LHQsdC5uZXh0KT4wJiZtKGUucHJldixlLGUubmV4dCk+MCl9ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuKGUueS10LnkpKihuLngtZS54KS0oZS54LXQueCkqKG4ueS1lLnkpfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4gdC54PT09ZS54JiZ0Lnk9PT1lLnl9ZnVuY3Rpb24gXyh0LGUsbixyKXt2YXIgaT14KG0odCxlLG4pKSxhPXgobSh0LGUscikpLG89eChtKG4scix0KSkscz14KG0obixyLGUpKTtyZXR1cm4gaSE9PWEmJm8hPT1zfHwoISgwIT09aXx8IU8odCxuLGUpKXx8KCEoMCE9PWF8fCFPKHQscixlKSl8fCghKDAhPT1vfHwhTyhuLHQscikpfHwhKDAhPT1zfHwhTyhuLGUscikpKSkpfWZ1bmN0aW9uIE8odCxlLG4pe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxuLngpJiZlLng+PU1hdGgubWluKHQueCxuLngpJiZlLnk8PU1hdGgubWF4KHQueSxuLnkpJiZlLnk+PU1hdGgubWluKHQueSxuLnkpfWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQ+MD8xOnQ8MD8tMTowfWZ1bmN0aW9uIHcodCxlKXtyZXR1cm4gbSh0LnByZXYsdCx0Lm5leHQpPDA/bSh0LGUsdC5uZXh0KT49MCYmbSh0LHQucHJldixlKT49MDptKHQsZSx0LnByZXYpPDB8fG0odCx0Lm5leHQsZSk8MH1mdW5jdGlvbiBrKHQsZSl7dmFyIG49bmV3IGoodC5pLHQueCx0LnkpLHI9bmV3IGooZS5pLGUueCxlLnkpLGk9dC5uZXh0LGE9ZS5wcmV2O3JldHVybiB0Lm5leHQ9ZSxlLnByZXY9dCxuLm5leHQ9aSxpLnByZXY9bixyLm5leHQ9bixuLnByZXY9cixhLm5leHQ9cixyLnByZXY9YSxyfWZ1bmN0aW9uIFModCxlLG4scil7dmFyIGk9bmV3IGoodCxlLG4pO3JldHVybiByPyhpLm5leHQ9ci5uZXh0LGkucHJldj1yLHIubmV4dC5wcmV2PWksci5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiBQKHQpe3QubmV4dC5wcmV2PXQucHJldix0LnByZXYubmV4dD10Lm5leHQsdC5wcmV2WiYmKHQucHJldloubmV4dFo9dC5uZXh0WiksdC5uZXh0WiYmKHQubmV4dFoucHJldlo9dC5wcmV2Wil9ZnVuY3Rpb24gaih0LGUsbil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gVCh0LGUsbixyKXtmb3IodmFyIGk9MCxhPWUsbz1uLXI7YTxuO2ErPXIpaSs9KHRbb10tdFthXSkqKHRbYSsxXSt0W28rMV0pLG89YTtyZXR1cm4gaX10LmV4cG9ydHM9cix0LmV4cG9ydHMuZGVmYXVsdD1yLHIuZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUmJmUubGVuZ3RoLGE9aT9lWzBdKm46dC5sZW5ndGgsbz1NYXRoLmFicyhUKHQsMCxhLG4pKTtpZihpKWZvcih2YXIgcz0wLHU9ZS5sZW5ndGg7czx1O3MrKyl7dmFyIGM9ZVtzXSpuLGw9czx1LTE/ZVtzKzFdKm46dC5sZW5ndGg7by09TWF0aC5hYnMoVCh0LGMsbCxuKSl9dmFyIGg9MDtmb3Iocz0wO3M8ci5sZW5ndGg7cys9Myl7dmFyIGY9cltzXSpuLGQ9cltzKzFdKm4sdj1yW3MrMl0qbjtoKz1NYXRoLmFicygodFtmXS10W3ZdKSoodFtkKzFdLXRbZisxXSktKHRbZl0tdFtkXSkqKHRbdisxXS10W2YrMV0pKX1yZXR1cm4gMD09PW8mJjA9PT1oPzA6TWF0aC5hYnMoKGgtbykvbyl9LHIuZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgsbj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxyPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIGE9MDthPHRbaV0ubGVuZ3RoO2ErKylmb3IodmFyIG89MDtvPGU7bysrKW4udmVydGljZXMucHVzaCh0W2ldW2FdW29dKTtpPjAmJihyKz10W2ktMV0ubGVuZ3RoLG4uaG9sZXMucHVzaChyKSl9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1yLHQuZXhwb3J0cy5kZWZhdWx0PXI7ZnVuY3Rpb24gcih0LGUsbixyLGksYSl7dGhpcy5mb250U2l6ZT10fHwyNCx0aGlzLmJ1ZmZlcj12b2lkIDA9PT1lPzM6ZSx0aGlzLmN1dG9mZj1yfHwuMjUsdGhpcy5mb250RmFtaWx5PWl8fCJzYW5zLXNlcmlmIix0aGlzLmZvbnRXZWlnaHQ9YXx8Im5vcm1hbCIsdGhpcy5yYWRpdXM9bnx8ODt2YXIgbz10aGlzLnNpemU9dGhpcy5mb250U2l6ZSsyKnRoaXMuYnVmZmVyO3RoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzLmhlaWdodD1vLHRoaXMuY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIiksdGhpcy5jdHguZm9udD10aGlzLmZvbnRXZWlnaHQrIiAiK3RoaXMuZm9udFNpemUrInB4ICIrdGhpcy5mb250RmFtaWx5LHRoaXMuY3R4LnRleHRCYXNlbGluZT0ibWlkZGxlIix0aGlzLmN0eC5maWxsU3R5bGU9ImJsYWNrIix0aGlzLmdyaWRPdXRlcj1uZXcgRmxvYXQ2NEFycmF5KG8qbyksdGhpcy5ncmlkSW5uZXI9bmV3IEZsb2F0NjRBcnJheShvKm8pLHRoaXMuZj1uZXcgRmxvYXQ2NEFycmF5KG8pLHRoaXMuZD1uZXcgRmxvYXQ2NEFycmF5KG8pLHRoaXMuej1uZXcgRmxvYXQ2NEFycmF5KG8rMSksdGhpcy52PW5ldyBJbnQxNkFycmF5KG8pLHRoaXMubWlkZGxlPU1hdGgucm91bmQoby8yKihuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkdlY2tvLyIpPj0wPzEuMjoxKSl9ZnVuY3Rpb24gaSh0LGUsbixyLGksbyxzKXtmb3IodmFyIHU9MDt1PGU7dSsrKXtmb3IodmFyIGM9MDtjPG47YysrKXJbY109dFtjKmUrdV07Zm9yKGEocixpLG8scyxuKSxjPTA7YzxuO2MrKyl0W2MqZSt1XT1pW2NdfWZvcihjPTA7YzxuO2MrKyl7Zm9yKHU9MDt1PGU7dSsrKXJbdV09dFtjKmUrdV07Zm9yKGEocixpLG8scyxlKSx1PTA7dTxlO3UrKyl0W2MqZSt1XT1NYXRoLnNxcnQoaVt1XSl9fWZ1bmN0aW9uIGEodCxlLG4scixpKXtuWzBdPTAsclswXT0tMWUyMCxyWzFdPTFlMjA7Zm9yKHZhciBhPTEsbz0wO2E8aTthKyspe2Zvcih2YXIgcz0odFthXSthKmEtKHRbbltvXV0rbltvXSpuW29dKSkvKDIqYS0yKm5bb10pO3M8PXJbb107KW8tLSxzPSh0W2FdK2EqYS0odFtuW29dXStuW29dKm5bb10pKS8oMiphLTIqbltvXSk7blsrK29dPWEscltvXT1zLHJbbysxXT0xZTIwfWZvcihhPTAsbz0wO2E8aTthKyspe2Zvcig7cltvKzFdPGE7KW8rKztlW2FdPShhLW5bb10pKihhLW5bb10pK3RbbltvXV19fXIucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSx0aGlzLmN0eC5maWxsVGV4dCh0LHRoaXMuYnVmZmVyLHRoaXMubWlkZGxlKTtmb3IodmFyIGU9dGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSxuPW5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUqdGhpcy5zaXplKSxyPTA7cjx0aGlzLnNpemUqdGhpcy5zaXplO3IrKyl7dmFyIGE9ZS5kYXRhWzQqciszXS8yNTU7dGhpcy5ncmlkT3V0ZXJbcl09MT09PWE/MDowPT09YT8xZTIwOk1hdGgucG93KE1hdGgubWF4KDAsLjUtYSksMiksdGhpcy5ncmlkSW5uZXJbcl09MT09PWE/MWUyMDowPT09YT8wOk1hdGgucG93KE1hdGgubWF4KDAsYS0uNSksMil9Zm9yKGkodGhpcy5ncmlkT3V0ZXIsdGhpcy5zaXplLHRoaXMuc2l6ZSx0aGlzLmYsdGhpcy5kLHRoaXMudix0aGlzLnopLGkodGhpcy5ncmlkSW5uZXIsdGhpcy5zaXplLHRoaXMuc2l6ZSx0aGlzLmYsdGhpcy5kLHRoaXMudix0aGlzLnopLHI9MDtyPHRoaXMuc2l6ZSp0aGlzLnNpemU7cisrKXt2YXIgbz10aGlzLmdyaWRPdXRlcltyXS10aGlzLmdyaWRJbm5lcltyXTtuW3JdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQoMjU1LTI1NSooby90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpKSl9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzLlZlY3RvclRpbGU9bigyNjQpLHQuZXhwb3J0cy5WZWN0b3JUaWxlRmVhdHVyZT1uKDIxMSksdC5leHBvcnRzLlZlY3RvclRpbGVMYXllcj1uKDIxMCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWk7dmFyIHI9bigyNjYpO2Z1bmN0aW9uIGkodCl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpuZXcgVWludDhBcnJheSh0fHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aH1pLlZhcmludD0wLGkuRml4ZWQ2ND0xLGkuQnl0ZXM9MixpLkZpeGVkMzI9NTt2YXIgYT0idW5kZWZpbmVkIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC50eXBlPT09aS5CeXRlcz90LnJlYWRWYXJpbnQoKSt0LnBvczp0LnBvcysxfWZ1bmN0aW9uIHModCxlLG4pe3JldHVybiBuPzQyOTQ5NjcyOTYqZSsodD4+PjApOjQyOTQ5NjcyOTYqKGU+Pj4wKSsodD4+PjApfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPWU8PTE2MzgzPzE6ZTw9MjA5NzE1MT8yOmU8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2coZSkvKDcqTWF0aC5MTjIpKTtuLnJlYWxsb2Mocik7Zm9yKHZhciBpPW4ucG9zLTE7aT49dDtpLS0pbi5idWZbaStyXT1uLmJ1ZltpXX1mdW5jdGlvbiBjKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZVZhcmludCh0W25dKX1mdW5jdGlvbiBsKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZVNWYXJpbnQodFtuXSl9ZnVuY3Rpb24gaCh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUud3JpdGVGbG9hdCh0W25dKX1mdW5jdGlvbiBmKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZURvdWJsZSh0W25dKX1mdW5jdGlvbiBkKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS53cml0ZUJvb2xlYW4odFtuXSl9ZnVuY3Rpb24gdih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUud3JpdGVGaXhlZDMyKHRbbl0pfWZ1bmN0aW9uIHAodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllLndyaXRlU0ZpeGVkMzIodFtuXSl9ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUud3JpdGVGaXhlZDY0KHRbbl0pfWZ1bmN0aW9uIHkodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllLndyaXRlU0ZpeGVkNjQodFtuXSl9ZnVuY3Rpb24gbSh0LGUpe3JldHVybih0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsxNjc3NzIxNip0W2UrM119ZnVuY3Rpb24gYih0LGUsbil7dFtuXT1lLHRbbisxXT1lPj4+OCx0W24rMl09ZT4+PjE2LHRbbiszXT1lPj4+MjR9ZnVuY3Rpb24gXyh0LGUpe3JldHVybih0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsodFtlKzNdPDwyNCl9aS5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmJ1Zj1udWxsfSxyZWFkRmllbGRzOmZ1bmN0aW9uKHQsZSxuKXtmb3Iobj1ufHx0aGlzLmxlbmd0aDt0aGlzLnBvczxuOyl7dmFyIHI9dGhpcy5yZWFkVmFyaW50KCksaT1yPj4zLGE9dGhpcy5wb3M7dGhpcy50eXBlPTcmcix0KGksZSx0aGlzKSx0aGlzLnBvcz09PWEmJnRoaXMuc2tpcChyKX1yZXR1cm4gZX0scmVhZE1lc3NhZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWFkRmllbGRzKHQsZSx0aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyl9LHJlYWRGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9bSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWRTRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PV8odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciB0PW0odGhpcy5idWYsdGhpcy5wb3MpKzQyOTQ5NjcyOTYqbSh0aGlzLmJ1Zix0aGlzLnBvcys0KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9bSh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5NipfKHRoaXMuYnVmLHRoaXMucG9zKzQpO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgdD1yLnJlYWQodGhpcy5idWYsdGhpcy5wb3MsITAsMjMsNCk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWREb3VibGU6ZnVuY3Rpb24oKXt2YXIgdD1yLnJlYWQodGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbixyPXRoaXMuYnVmO3JldHVybiBlPTEyNyYobj1yW3RoaXMucG9zKytdKSxuPDEyOD9lOihlfD0oMTI3JihuPXJbdGhpcy5wb3MrK10pKTw8NyxuPDEyOD9lOihlfD0oMTI3JihuPXJbdGhpcy5wb3MrK10pKTw8MTQsbjwxMjg/ZTooZXw9KDEyNyYobj1yW3RoaXMucG9zKytdKSk8PDIxLG48MTI4P2U6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGksYT1uLmJ1ZjtpZihpPWFbbi5wb3MrK10scj0oMTEyJmkpPj40LGk8MTI4KXJldHVybiBzKHQscixlKTtpZihpPWFbbi5wb3MrK10scnw9KDEyNyZpKTw8MyxpPDEyOClyZXR1cm4gcyh0LHIsZSk7aWYoaT1hW24ucG9zKytdLHJ8PSgxMjcmaSk8PDEwLGk8MTI4KXJldHVybiBzKHQscixlKTtpZihpPWFbbi5wb3MrK10scnw9KDEyNyZpKTw8MTcsaTwxMjgpcmV0dXJuIHModCxyLGUpO2lmKGk9YVtuLnBvcysrXSxyfD0oMTI3JmkpPDwyNCxpPDEyOClyZXR1cm4gcyh0LHIsZSk7aWYoaT1hW24ucG9zKytdLHJ8PSgxJmkpPDwzMSxpPDEyOClyZXR1cm4gcyh0LHIsZSk7dGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcyIpfShlfD0oMTUmKG49clt0aGlzLnBvc10pKTw8MjgsdCx0aGlzKSkpKX0scmVhZFZhcmludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZFZhcmludCghMCl9LHJlYWRTVmFyaW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCk7cmV0dXJuIHQlMj09MT8odCsxKS8tMjp0LzJ9LHJlYWRCb29sZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3M9dCx0LWU+PTEyJiZhP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYS5kZWNvZGUodC5zdWJhcnJheShlLG4pKX0odGhpcy5idWYsZSx0KTpmdW5jdGlvbih0LGUsbil7dmFyIHI9IiIsaT1lO2Zvcig7aTxuOyl7dmFyIGEsbyxzLHU9dFtpXSxjPW51bGwsbD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKGkrbD5uKWJyZWFrOzE9PT1sP3U8MTI4JiYoYz11KToyPT09bD8xMjg9PSgxOTImKGE9dFtpKzFdKSkmJihjPSgzMSZ1KTw8Nnw2MyZhKTw9MTI3JiYoYz1udWxsKTozPT09bD8oYT10W2krMV0sbz10W2krMl0sMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImbykmJigoYz0oMTUmdSk8PDEyfCg2MyZhKTw8Nnw2MyZvKTw9MjA0N3x8Yz49NTUyOTYmJmM8PTU3MzQzKSYmKGM9bnVsbCkpOjQ9PT1sJiYoYT10W2krMV0sbz10W2krMl0scz10W2krM10sMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImbykmJjEyOD09KDE5MiZzKSYmKChjPSgxNSZ1KTw8MTh8KDYzJmEpPDwxMnwoNjMmbyk8PDZ8NjMmcyk8PTY1NTM1fHxjPj0xMTE0MTEyKSYmKGM9bnVsbCkpLG51bGw9PT1jPyhjPTY1NTMzLGw9MSk6Yz42NTUzNSYmKGMtPTY1NTM2LHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoYz4+PjEwJjEwMjN8NTUyOTYpLGM9NTYzMjB8MTAyMyZjKSxyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGMpLGkrPWx9cmV0dXJuIHJ9KHRoaXMuYnVmLGUsdCl9LHJlYWRCeXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLGU9dGhpcy5idWYuc3ViYXJyYXkodGhpcy5wb3MsdCk7cmV0dXJuIHRoaXMucG9zPXQsZX0scmVhZFBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRWYXJpbnQoZSkpO3ZhciBuPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8bjspdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGbG9hdDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIGU9byh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTt2YXIgZT1vKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIGU9byh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO3ZhciBlPW8odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7dmFyIGU9byh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7cmV0dXJuIHR9LHNraXA6ZnVuY3Rpb24odCl7dmFyIGU9NyZ0O2lmKGU9PT1pLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYoZT09PWkuQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZihlPT09aS5GaXhlZDMyKXRoaXMucG9zKz00O2Vsc2V7aWYoZSE9PWkuRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoIlVuaW1wbGVtZW50ZWQgdHlwZTogIitlKTt0aGlzLnBvcys9OH19LHdyaXRlVGFnOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludCh0PDwzfGUpfSxyZWFsbG9jOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmxlbmd0aHx8MTY7ZTx0aGlzLnBvcyt0OyllKj0yO2lmKGUhPT10aGlzLmxlbmd0aCl7dmFyIG49bmV3IFVpbnQ4QXJyYXkoZSk7bi5zZXQodGhpcy5idWYpLHRoaXMuYnVmPW4sdGhpcy5sZW5ndGg9ZX19LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLGIodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlU0ZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLGIodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlRml4ZWQ2NDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoOCksYih0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxiKHRoaXMuYnVmLE1hdGguZmxvb3IodCooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlU0ZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLGIodGhpcy5idWYsLTEmdCx0aGlzLnBvcyksYih0aGlzLmJ1ZixNYXRoLmZsb29yKHQqKDEvNDI5NDk2NzI5NikpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04fSx3cml0ZVZhcmludDpmdW5jdGlvbih0KXsodD0rdHx8MCk+MjY4NDM1NDU1fHx0PDA/ZnVuY3Rpb24odCxlKXt2YXIgbixyO3Q+PTA/KG49dCU0Mjk0OTY3Mjk2fDAscj10LzQyOTQ5NjcyOTZ8MCk6KHI9figtdC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1XihuPX4oLXQlNDI5NDk2NzI5NikpP249bisxfDA6KG49MCxyPXIrMXwwKSk7aWYodD49MHgxMDAwMDAwMDAwMDAwMDAwMHx8dDwtMHgxMDAwMDAwMDAwMDAwMDAwMCl0aHJvdyBuZXcgRXJyb3IoIkdpdmVuIHZhcmludCBkb2Vzbid0IGZpdCBpbnRvIDEwIGJ5dGVzIik7ZS5yZWFsbG9jKDEwKSxmdW5jdGlvbih0LGUsbil7bi5idWZbbi5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxuLmJ1ZltuLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LG4uYnVmW24ucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsbi5idWZbbi5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxuLmJ1ZltuLnBvc109MTI3JnR9KG4sMCxlKSxmdW5jdGlvbih0LGUpe3ZhciBuPSg3JnQpPDw0O2lmKGUuYnVmW2UucG9zKytdfD1ufCgodD4+Pj0zKT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2lmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksIXQpcmV0dXJuO2UuYnVmW2UucG9zKytdPTEyNyZ0fShyLGUpfSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpfSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24odCl7dGhpcy53cml0ZVZhcmludCh0PDA/MiotdC0xOjIqdCl9LHdyaXRlQm9vbGVhbjpmdW5jdGlvbih0KXt0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4odCkpfSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLGksYT0wO2E8ZS5sZW5ndGg7YSsrKXtpZigocj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZyPDU3MzQ0KXtpZighaSl7cj41NjMxOXx8YSsxPT09ZS5sZW5ndGg/KHRbbisrXT0yMzksdFtuKytdPTE5MSx0W24rK109MTg5KTppPXI7Y29udGludWV9aWYocjw1NjMyMCl7dFtuKytdPTIzOSx0W24rK109MTkxLHRbbisrXT0xODksaT1yO2NvbnRpbnVlfXI9aS01NTI5Njw8MTB8ci01NjMyMHw2NTUzNixpPW51bGx9ZWxzZSBpJiYodFtuKytdPTIzOSx0W24rK109MTkxLHRbbisrXT0xODksaT1udWxsKTtyPDEyOD90W24rK109cjoocjwyMDQ4P3RbbisrXT1yPj42fDE5Mjoocjw2NTUzNj90W24rK109cj4+MTJ8MjI0Oih0W24rK109cj4+MTh8MjQwLHRbbisrXT1yPj4xMiY2M3wxMjgpLHRbbisrXT1yPj42JjYzfDEyOCksdFtuKytdPTYzJnJ8MTI4KX1yZXR1cm4gbn0odGhpcy5idWYsdCx0aGlzLnBvcyk7dmFyIG49dGhpcy5wb3MtZTtuPj0xMjgmJnUoZSxuLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1ufSx3cml0ZUZsb2F0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg0KSxyLndyaXRlKHRoaXMuYnVmLHQsdGhpcy5wb3MsITAsMjMsNCksdGhpcy5wb3MrPTR9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxyLndyaXRlKHRoaXMuYnVmLHQsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTh9LHdyaXRlQnl0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7dGhpcy53cml0ZVZhcmludChlKSx0aGlzLnJlYWxsb2MoZSk7Zm9yKHZhciBuPTA7bjxlO24rKyl0aGlzLmJ1Zlt0aGlzLnBvcysrXT10W25dfSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciBuPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgcj10aGlzLnBvcy1uO3I+PTEyOCYmdShuLHIsdGhpcyksdGhpcy5wb3M9bi0xLHRoaXMud3JpdGVWYXJpbnQociksdGhpcy5wb3MrPXJ9LHdyaXRlTWVzc2FnZTpmdW5jdGlvbih0LGUsbil7dGhpcy53cml0ZVRhZyh0LGkuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUsbil9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsYyxlKX0sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsbCxlKX0sd3JpdGVQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsZCxlKX0sd3JpdGVQYWNrZWRGbG9hdDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGgsZSl9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsZixlKX0sd3JpdGVQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsdixlKX0sd3JpdGVQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LHAsZSl9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGcsZSl9LHdyaXRlUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCx5LGUpfSx3cml0ZUJ5dGVzRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsaS5CeXRlcyksdGhpcy53cml0ZUJ5dGVzKGUpfSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkMzIpLHRoaXMud3JpdGVGaXhlZDMyKGUpfSx3cml0ZVNGaXhlZDMyRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsaS5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSl9LHdyaXRlRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGkuRml4ZWQ2NCksdGhpcy53cml0ZUZpeGVkNjQoZSl9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkNjQpLHRoaXMud3JpdGVTRml4ZWQ2NChlKX0sd3JpdGVWYXJpbnRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLlZhcmludCksdGhpcy53cml0ZVZhcmludChlKX0sd3JpdGVTVmFyaW50RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsaS5WYXJpbnQpLHRoaXMud3JpdGVTVmFyaW50KGUpfSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGkuQnl0ZXMpLHRoaXMud3JpdGVTdHJpbmcoZSl9LHdyaXRlRmxvYXRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKX0sd3JpdGVEb3VibGVGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxpLkZpeGVkNjQpLHRoaXMud3JpdGVEb3VibGUoZSl9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSl9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYpLGk9big3KSxhPW4oMzEpLG89bigwKSxzPW4oOTEpLHU9bigxOTApLGM9bigxNzYpO2Z1bmN0aW9uIGwodCl7cmV0dXJuIGgoZnVuY3Rpb24gdChlLG4pe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB1LmE/ZTooT2JqZWN0KGMuYSkoInN0cmluZyIhPXR5cGVvZiBlLCJTaGFkZXIgbW9kdWxlIHVzZSBieSBuYW1lIGlzIGRlcHJlY2F0ZWQuIEltcG9ydCBzaGFkZXIgbW9kdWxlICciLmNvbmNhdChlLCInIGFuZCB1c2UgaXQgZGlyZWN0bHkuIikpLE9iamVjdChjLmEpKGUubmFtZSwic2hhZGVyIG1vZHVsZSBoYXMgbm8gbmFtZSIpLChlPW5ldyB1LmEoZSkpLmRlcGVuZGVuY2llcz10KGUuZGVwZW5kZW5jaWVzKSxlKX0pKX0odCkpfWZ1bmN0aW9uIGgodCl7dmFyIGU9e30sbj17fTtyZXR1cm4gZih7bW9kdWxlczp0LGxldmVsOjAsbW9kdWxlTWFwOmUsbW9kdWxlRGVwdGg6bn0pLE9iamVjdC5rZXlzKG4pLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5bZV0tblt0XX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpfWZ1bmN0aW9uIGYodCl7dmFyIGU9dC5tb2R1bGVzLG49dC5sZXZlbCxyPXQubW9kdWxlTWFwLGk9dC5tb2R1bGVEZXB0aDtpZihuPj01KXRocm93IG5ldyBFcnJvcigiUG9zc2libGUgbG9vcCBpbiBzaGFkZXIgZGVwZW5kZW5jeSBncmFwaCIpO3ZhciBhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0odT1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGw9dS52YWx1ZTtyW2wubmFtZV09bCwodm9pZCAwPT09aVtsLm5hbWVdfHxpW2wubmFtZV08bikmJihpW2wubmFtZV09bil9fWNhdGNoKHQpe289ITAscz10fWZpbmFsbHl7dHJ5e2F8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBzfX12YXIgaD0hMCxkPSExLHY9dm9pZCAwO3RyeXtmb3IodmFyIHAsZz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGg9KHA9Zy5uZXh0KCkpLmRvbmUpO2g9ITApe3ZhciB5PXAudmFsdWU7eS5kZXBlbmRlbmNpZXMmJmYoe21vZHVsZXM6eS5kZXBlbmRlbmNpZXMsbGV2ZWw6bisxLG1vZHVsZU1hcDpyLG1vZHVsZURlcHRoOml9KX19Y2F0Y2godCl7ZD0hMCx2PXR9ZmluYWxseXt0cnl7aHx8bnVsbD09Zy5yZXR1cm58fGcucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IHZ9fX1mdW5jdGlvbiBkKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3J8fHt9LG49dC51c2VyQWdlbnR8fGUudXNlckFnZW50fHwiIixyPS0xIT09bi5pbmRleE9mKCJNU0lFICIpLGk9LTEhPT1uLmluZGV4T2YoIlRyaWRlbnQvIik7cmV0dXJuIHJ8fGl9dmFyIHY9e0dMU0xfRlJBR19EQVRBOlsiV0VCR0xfZHJhd19idWZmZXJzIiwhMF0sR0xTTF9GUkFHX0RFUFRIOlsiRVhUX2ZyYWdfZGVwdGgiLCEwXSxHTFNMX0RFUklWQVRJVkVTOlsiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIiwhMF0sR0xTTF9URVhUVVJFX0xPRDpbIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiLCEwXX0scD17fTtPYmplY3Qua2V5cyh2KS5mb3JFYWNoKChmdW5jdGlvbih0KXtwW3RdPXR9KSk7dmFyIGc9e307ZnVuY3Rpb24geSh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPXZbZV07aWYoT2JqZWN0KGMuYSkocixlKSwhZChuKSlyZXR1cm4hMDtpZihlIGluIGcpcmV0dXJuIGdbZV07dmFyIGk9clswXSxhPW4uYmVoYXZpb3J8fCJlbmFibGUiLG89IiNleHRlbnNpb24gR0xfIi5jb25jYXQoaSwiIDogIikuY29uY2F0KGEsIlxudm9pZCBtYWluKHZvaWQpIHt9Iikscz10LmNyZWF0ZVNoYWRlcigzNTYzMyk7dC5zaGFkZXJTb3VyY2UocyxvKSx0LmNvbXBpbGVTaGFkZXIocyk7dmFyIHU9dC5nZXRTaGFkZXJQYXJhbWV0ZXIocywzNTcxMyk7cmV0dXJuIHQuZGVsZXRlU2hhZGVyKHMpLGdbZV09dSx1fWZ1bmN0aW9uIG0odCxlKXt2YXIgbj12W2VdO09iamVjdChjLmEpKG4sZSk7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIEJvb2xlYW4odCYmMj09PXQuX3ZlcnNpb24pfSh0KSYmblsxXXx8blswXSxpPSJzdHJpbmciPT10eXBlb2Ygcj9Cb29sZWFuKHQuZ2V0RXh0ZW5zaW9uKHIpKTpyO3JldHVybiBPYmplY3QoYy5hKSghMT09PWl8fCEwPT09aSksaX1mdW5jdGlvbiBiKHQsZSl7cmV0dXJuKGU9QXJyYXkuaXNBcnJheShlKT9lOltlXSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBtKHQsZSl9KSl9dmFyIF89bigxNzgpO2Z1bmN0aW9uIE8odCxlLG4pe3N3aXRjaChlKXtjYXNlIDMwMDpyZXR1cm4gbj9mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eKCN2ZXJzaW9uWyBcdF0rKDEwMHwzMDBbIFx0XStlcykpP1sgXHRdKlxuLywiI3ZlcnNpb24gMzAwIGVzXG4iKS5yZXBsYWNlKC9eWyBcdF0qYXR0cmlidXRlWyBcdF0rKC4rOykvZ20sImluICQxIikucmVwbGFjZSgvXlsgXHRdKnZhcnlpbmdbIFx0XSsoLis7KS9nbSwib3V0ICQxIikucmVwbGFjZSgvXGJ0ZXh0dXJlMkRcKC9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZUN1YmVcKCsvZywidGV4dHVyZSgiKS5yZXBsYWNlKC9cYnRleHR1cmUyRExvZEVYVFwoL2csInRleHR1cmVMb2QoIikucmVwbGFjZSgvXGJ0ZXh0dXJlQ3ViZUxvZEVYVFwoL2csInRleHR1cmVMb2QoIil9KHQpOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL14oI3ZlcnNpb25bIFx0XSsoMTAwfDMwMFsgXHRdK2VzKSk/WyBcdF0qXG4vLCIjdmVyc2lvbiAzMDAgZXNcbiIpLnJlcGxhY2UoL15bIFx0XSp2YXJ5aW5nWyBcdF0rKC4rOykvZ20sImluICQxIikucmVwbGFjZSgvXGJ0ZXh0dXJlMkRcKC9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZUN1YmVcKC9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZTJETG9kRVhUXCgvZywidGV4dHVyZUxvZCgiKS5yZXBsYWNlKC9cYnRleHR1cmVDdWJlTG9kRVhUXCgvZywidGV4dHVyZUxvZCgiKX0odCk7Y2FzZSAxMDA6cmV0dXJuIG4/ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXiN2ZXJzaW9uWyBcdF0rMzAwWyBcdF0rZXMvLCIjdmVyc2lvbiAxMDAiKS5yZXBsYWNlKC9eWyBcdF0qaW5bIFx0XSsoLis7KS9nbSwiYXR0cmlidXRlICQxIikucmVwbGFjZSgvXlsgXHRdKm91dFsgXHRdKyguKzspL2dtLCJ2YXJ5aW5nICQxIikucmVwbGFjZSgvXGJ0ZXh0dXJlXCgvZywidGV4dHVyZTJEKCIpLnJlcGxhY2UoL1xidGV4dHVyZUxvZFwoL2csInRleHR1cmUyRExvZEVYVCgiKX0odCk6ZnVuY3Rpb24odCl7dmFyIGU9KHQ9dC5yZXBsYWNlKC9eI3ZlcnNpb25bIFx0XSszMDBbIFx0XStlcy8sIiN2ZXJzaW9uIDEwMCIpLnJlcGxhY2UoL15bIFx0XSppblsgXHRdKy9nbSwidmFyeWluZyAiKS5yZXBsYWNlKC9cYnRleHR1cmVcKC9nLCJ0ZXh0dXJlMkQoIikucmVwbGFjZSgvXGJ0ZXh0dXJlTG9kXCgvZywidGV4dHVyZTJETG9kRVhUKCIpKS5tYXRjaCh3KTtpZihlKXt2YXIgbj1lWzFdO3Q9dC5yZXBsYWNlKHcsIiIpLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFxiIi5jb25jYXQobiwiXFxiIiksImciKSwiZ2xfRnJhZ0NvbG9yIil9cmV0dXJuIHR9KHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIEdMU0wgdmVyc2lvbiAiLmNvbmNhdChlKSl9fXZhciB4LHc9L15bIFx0XSpvdXRbIFx0XSt2ZWM0WyBcdF0rKFx3KylbIFx0XSo7XHMrL207dmFyIGs9IlxuXG4iLmNvbmNhdChfLmEsIlxuXG4iKSxTPSh4PXt9LE9iamVjdChvLmEpKHgscy5iLCJ2ZXJ0ZXgiKSxPYmplY3Qoby5hKSh4LHMuYSwiZnJhZ21lbnQiKSx4KTtmdW5jdGlvbiBQKHQsZSl7dmFyIG49ZS52cyxyPWUuZnMsaT1sKGUubW9kdWxlc3x8W10pO3JldHVybntnbDp0LHZzOmoodCxPYmplY3QuYXNzaWduKHt9LGUse3NvdXJjZTpuLHR5cGU6cy5iLG1vZHVsZXM6aX0pKSxmczpqKHQsT2JqZWN0LmFzc2lnbih7fSxlLHtzb3VyY2U6cix0eXBlOnMuYSxtb2R1bGVzOml9KSksZ2V0VW5pZm9ybXM6VChpKX19ZnVuY3Rpb24gaih0LGUpe3ZhciBuPWUuaWQscj1lLnNvdXJjZSxpPWUudHlwZSxvPWUubW9kdWxlcyx1PWUuZGVmaW5lcyxsPXZvaWQgMD09PXU/e306dSxoPWUuaG9va0Z1bmN0aW9ucyxmPXZvaWQgMD09PWg/W106aCxkPWUuaW5qZWN0LHY9dm9pZCAwPT09ZD97fTpkLGc9ZS50cmFuc3BpbGVUb0dMU0wxMDAsbT12b2lkIDAhPT1nJiZnLHg9ZS5wcm9sb2d1ZSx3PXZvaWQgMD09PXh8fHgsUD1lLmxvZztPYmplY3QoYy5hKSgic3RyaW5nIj09dHlwZW9mIHIsInNoYWRlciBzb3VyY2UgbXVzdCBiZSBhIHN0cmluZyIpO3ZhciBqPWk9PT1zLmIsVD1yLnNwbGl0KCJcbiIpLEU9MTAwLEE9IiIsTT1yOzA9PT1UWzBdLmluZGV4T2YoIiN2ZXJzaW9uICIpPyhFPTMwMCxBPVRbMF0sTT1ULnNsaWNlKDEpLmpvaW4oIlxuIikpOkE9IiN2ZXJzaW9uICIuY29uY2F0KEUpO3ZhciBDPXt9O28uZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbihDLHQuZ2V0RGVmaW5lcygpKX0pKSxPYmplY3QuYXNzaWduKEMsbCk7dmFyIEw9dz8iIi5jb25jYXQoQSwiXG4iKS5jb25jYXQoZnVuY3Rpb24odCl7dmFyIGU9dC5pZCxuPXQuc291cmNlLHI9dC50eXBlO3JldHVybiBlJiYic3RyaW5nIj09dHlwZW9mIGUmJi0xPT09bi5pbmRleE9mKCJTSEFERVJfTkFNRSIpPyJcbiNkZWZpbmUgU0hBREVSX05BTUUgIi5jb25jYXQoZSwiXyIpLmNvbmNhdChTW3JdLCJcblxuIik6IiJ9KHtpZDpuLHNvdXJjZTpyLHR5cGU6aX0pLCJcbiIpLmNvbmNhdChmdW5jdGlvbih0KXt2YXIgZT10LnR5cGU7cmV0dXJuIlxuI2RlZmluZSBTSEFERVJfVFlQRV8iLmNvbmNhdChTW2VdLnRvVXBwZXJDYXNlKCksIlxuIil9KHt0eXBlOml9KSwiXG4iKS5jb25jYXQoZnVuY3Rpb24odCl7c3dpdGNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIiksbj10LmdldFBhcmFtZXRlcihlJiZlLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTHx8NzkzNikscj10LmdldFBhcmFtZXRlcihlJiZlLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMfHw3OTM3KTtyZXR1cm57Z3B1VmVuZG9yOmZ1bmN0aW9uKHQsZSl7aWYodC5tYXRjaCgvTlZJRElBL2kpfHxlLm1hdGNoKC9OVklESUEvaSkpcmV0dXJuIk5WSURJQSI7aWYodC5tYXRjaCgvSU5URUwvaSl8fGUubWF0Y2goL0lOVEVML2kpKXJldHVybiJJTlRFTCI7aWYodC5tYXRjaCgvQU1EL2kpfHxlLm1hdGNoKC9BTUQvaSl8fHQubWF0Y2goL0FUSS9pKXx8ZS5tYXRjaCgvQVRJL2kpKXJldHVybiJBTUQiO3JldHVybiJVTktOT1dOIEdQVSJ9KG4sciksdmVuZG9yOm4scmVuZGVyZXI6cix2ZXJzaW9uOnQuZ2V0UGFyYW1ldGVyKDc5MzgpLHNoYWRpbmdMYW5ndWFnZVZlcnNpb246dC5nZXRQYXJhbWV0ZXIoMzU3MjQpfX0odCkuZ3B1VmVuZG9yLnRvTG93ZXJDYXNlKCkpe2Nhc2UibnZpZGlhIjpyZXR1cm4iI2RlZmluZSBOVklESUFfR1BVXG4vLyBOdmlkaWEgb3B0aW1pemVzIGF3YXkgdGhlIGNhbGN1bGF0aW9uIG5lY2Vzc2FyeSBmb3IgZW11bGF0ZWQgZnA2NFxuI2RlZmluZSBMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EIDFcbiI7Y2FzZSJpbnRlbCI6cmV0dXJuIiNkZWZpbmUgSU5URUxfR1BVXG4vLyBJbnRlbCBvcHRpbWl6ZXMgYXdheSB0aGUgY2FsY3VsYXRpb24gbmVjZXNzYXJ5IGZvciBlbXVsYXRlZCBmcDY0XG4jZGVmaW5lIExVTUFfRlA2NF9DT0RFX0VMSU1JTkFUSU9OX1dPUktBUk9VTkQgMVxuLy8gSW50ZWwncyBidWlsdC1pbiAndGFuJyBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgYWNjZXB0YWJsZSBwcmVjaXNpb25cbiNkZWZpbmUgTFVNQV9GUDMyX1RBTl9QUkVDSVNJT05fV09SS0FST1VORCAxXG4vLyBJbnRlbCBHUFUgZG9lc24ndCBoYXZlIGZ1bGwgMzIgYml0cyBwcmVjaXNpb24gaW4gc2FtZSBjYXNlcywgY2F1c2VzIG92ZXJmbG93XG4jZGVmaW5lIExVTUFfRlA2NF9ISUdIX0JJVFNfT1ZFUkZMT1dfV09SS0FST1VORCAxXG4iO2Nhc2UiYW1kIjpyZXR1cm4iI2RlZmluZSBBTURfR1BVXG4iO2RlZmF1bHQ6cmV0dXJuIiNkZWZpbmUgREVGQVVMVF9HUFVcbi8vIFByZXZlbnQgZHJpdmVyIGZyb20gb3B0aW1pemluZyBhd2F5IHRoZSBjYWxjdWxhdGlvbiBuZWNlc3NhcnkgZm9yIGVtdWxhdGVkIGZwNjRcbiNkZWZpbmUgTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORCAxXG4vLyBJbnRlbCdzIGJ1aWx0LWluICd0YW4nIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSBhY2NlcHRhYmxlIHByZWNpc2lvblxuI2RlZmluZSBMVU1BX0ZQMzJfVEFOX1BSRUNJU0lPTl9XT1JLQVJPVU5EIDFcbi8vIEludGVsIEdQVSBkb2Vzbid0IGhhdmUgZnVsbCAzMiBiaXRzIHByZWNpc2lvbiBpbiBzYW1lIGNhc2VzLCBjYXVzZXMgb3ZlcmZsb3dcbiNkZWZpbmUgTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EIDFcbiJ9fSh0KSwiXG4iKS5jb25jYXQoZnVuY3Rpb24odCxlLG4pe3ZhciByPSIjaWYgKF9fVkVSU0lPTl9fID4gMTIwKVxuXG4jIGRlZmluZSBGUkFHX0RFUFRIXG4jIGRlZmluZSBERVJJVkFUSVZFU1xuIyBkZWZpbmUgRFJBV19CVUZGRVJTXG4jIGRlZmluZSBURVhUVVJFX0xPRFxuXG4jZW5kaWYgLy8gX19WRVJTSU9OXG4iO3JldHVybiBiKHQscC5HTFNMX0ZSQUdfREVQVEgpJiYocis9Ii8vIEZSQUdfREVQVEggPT4gZ2xfRnJhZ0RlcHRoIGlzIGF2YWlsYWJsZVxuI2lmZGVmIEdMX0VYVF9mcmFnX2RlcHRoXG4jZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlXG4jIGRlZmluZSBGUkFHX0RFUFRIXG4jIGRlZmluZSBnbF9GcmFnRGVwdGggZ2xfRnJhZ0RlcHRoRVhUXG4jZW5kaWZcbiIpLGIodCxwLkdMU0xfREVSSVZBVElWRVMpJiZ5KHQscC5HTFNMX0RFUklWQVRJVkVTKSYmKHIrPSIvLyBERVJJVkFUSVZFUyA9PiBkeGRGLCBkeGRZIGFuZCBmd2lkdGggYXJlIGF2YWlsYWJsZVxuI2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1xuI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcbiMgZGVmaW5lIERFUklWQVRJVkVTXG4jZW5kaWZcbiIpLGIodCxwLkdMU0xfRlJBR19EQVRBKSYmeSh0LHAuR0xTTF9GUkFHX0RBVEEse2JlaGF2aW9yOiJyZXF1aXJlIn0pJiYocis9Ii8vIERSQVdfQlVGRkVSUyA9PiBnbF9GcmFnRGF0YVtdIGlzIGF2YWlsYWJsZVxuI2lmZGVmIEdMX0VYVF9kcmF3X2J1ZmZlcnNcbiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcbiNkZWZpbmUgRFJBV19CVUZGRVJTXG4jZW5kaWZcbiIpLGIodCxwLkdMU0xfVEVYVFVSRV9MT0QpJiYocis9Ii8vIFRFWFRVUkVfTE9EID0+IHRleHR1cmUyRExvZCBldGMgYXJlIGF2YWlsYWJsZVxuI2lmZGVmIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2RcbiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IGVuYWJsZVxuIyBkZWZpbmUgVEVYVFVSRV9MT0RcbiNkZWZpbmUgdGV4dHVyZTJETG9kIHRleHR1cmUyRExvZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kIHRleHR1cmUyRFByb2pMb2RFWFRcbiNkZWZpbmUgdGV4dHVyZTJEUHJvakxvZCB0ZXh0dXJlMkRQcm9qTG9kRVhUXG4jZGVmaW5lIHRleHR1cmVDdWJlTG9kIHRleHR1cmVDdWJlTG9kRVhUXG4jZGVmaW5lIHRleHR1cmUyREdyYWQgdGV4dHVyZTJER3JhZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZCB0ZXh0dXJlMkRQcm9qR3JhZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZCB0ZXh0dXJlMkRQcm9qR3JhZEVYVFxuI2RlZmluZSB0ZXh0dXJlQ3ViZUdyYWQgdGV4dHVyZUN1YmVHcmFkRVhUXG4jZW5kaWZcbiIpLHJ9KHQpLCJcbiIpLmNvbmNhdChmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPTAsbj0iIjtmb3IodmFyIHIgaW4gdCl7MD09PWUmJihuKz0iXG4vLyBBUFBMSUNBVElPTiBERUZJTkVTXG4iKSxlKys7dmFyIGk9dFtyXTsoaXx8TnVtYmVyLmlzRmluaXRlKGkpKSYmKG4rPSIjZGVmaW5lICIuY29uY2F0KHIudG9VcHBlckNhc2UoKSwiICIpLmNvbmNhdCh0W3JdLCJcbiIpKX0wPT09ZSYmKG4rPSJcbiIpO3JldHVybiBufShDKSwiXG4iKS5jb25jYXQoaj8iIjoicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4iLCJcbiIpOiIiLmNvbmNhdChBLCJcbiIpO2Y9ZnVuY3Rpb24odCl7dmFyIGU9e3ZzOnt9LGZzOnt9fTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbjsic3RyaW5nIiE9dHlwZW9mIHQ/dD0obj10KS5ob29rOm49e307dmFyIHI9KHQ9dC50cmltKCkpLnNwbGl0KCI6IiksaT1PYmplY3QoYS5hKShyLDIpLG89aVswXSxzPWlbMV0sdT10LnJlcGxhY2UoL1woLisvLCIiKTtlW29dW3VdPU9iamVjdC5hc3NpZ24obix7c2lnbmF0dXJlOnN9KX0pKSxlfShmKTt2YXIgST17fSxSPXt9LE49e307Zm9yKHZhciBEIGluIHYpe3ZhciBGPSJzdHJpbmciPT10eXBlb2YgdltEXT97aW5qZWN0aW9uOnZbRF0sb3JkZXI6MH06dltEXSx6PUQubWF0Y2goL14odnxmKXM6KCMpPyhbXHctXSspJC8pO2lmKHope3ZhciBCPXpbMl0sVT16WzNdO0I/ImRlY2wiPT09VT9SW0RdPVtGXTpOW0RdPVtGXTpJW0RdPVtGXX1lbHNlIE5bRF09W0ZdfXZhciBWPSEwLEc9ITEsVz12b2lkIDA7dHJ5e2Zvcih2YXIgSCxxPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoVj0oSD1xLm5leHQoKSkuZG9uZSk7Vj0hMCl7dmFyIFg9SC52YWx1ZTtQJiZYLmNoZWNrRGVwcmVjYXRpb25zKE0sUCksTCs9WC5nZXRNb2R1bGVTb3VyY2UoaSxFKTt2YXIgWj1YLmluamVjdGlvbnNbaV07Zm9yKHZhciBZIGluIFope3ZhciBLPVkubWF0Y2goL14odnxmKXM6IyhbXHctXSspJC8pO2lmKEspe3ZhciBRPSJkZWNsIj09PUtbMl0/UjpOO1FbWV09UVtZXXx8W10sUVtZXS5wdXNoKFpbWV0pfWVsc2UgSVtZXT1JW1ldfHxbXSxJW1ldLnB1c2goWltZXSl9fX1jYXRjaCh0KXtHPSEwLFc9dH1maW5hbGx5e3RyeXtWfHxudWxsPT1xLnJldHVybnx8cS5yZXR1cm4oKX1maW5hbGx5e2lmKEcpdGhyb3cgV319cmV0dXJuIEwrPWssTD1PYmplY3QoXy5jKShMLGksUiksTCs9ZnVuY3Rpb24odCxlKXt2YXIgbj0iIjtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtpZihuKz0idm9pZCAiLmNvbmNhdChpLnNpZ25hdHVyZSwiIHtcbiIpLGkuaGVhZGVyJiYobis9IiAgIi5jb25jYXQoaS5oZWFkZXIpKSxlW3JdKXt2YXIgYT1lW3JdO2Euc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vcmRlci1lLm9yZGVyfSkpO3ZhciBvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPWFbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtuKz0iICAiLmNvbmNhdChoLmluamVjdGlvbiwiXG4iKX19Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fX1pLmZvb3RlciYmKG4rPSIgICIuY29uY2F0KGkuZm9vdGVyKSksbis9In1cbiJ9cmV0dXJuIG59KGZbaV0sSSksTCs9TSxMPU8oTD1PYmplY3QoXy5jKShMLGksTiksbT8xMDA6RSxqKX1mdW5jdGlvbiBUKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj17fSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZS5nZXRVbmlmb3JtcyhlLG4pO09iamVjdC5hc3NpZ24obix1KX19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufX12YXIgRT1uKDI5MCk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpO3ZhciBBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLl9wcm9ncmFtQ2FjaGU9e30sdGhpcy5fZ2V0VW5pZm9ybXM9e30sdGhpcy5fcmVnaXN0ZXJlZE1vZHVsZXM9e30sdGhpcy5faG9va0Z1bmN0aW9ucz1bXSx0aGlzLl9kZWZhdWx0TW9kdWxlcz1bXSx0aGlzLl9oYXNoZXM9e30sdGhpcy5faGFzaENvdW50ZXI9MCx0aGlzLnN0YXRlSGFzaD0wLHRoaXMuX3VzZUNvdW50cz17fX1yZXR1cm4gT2JqZWN0KGkuYSkodCxudWxsLFt7a2V5OiJnZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmx1bWE9ZS5sdW1hfHx7fSxlLmx1bWEuZGVmYXVsdFByb2dyYW1NYW5hZ2VyPWUubHVtYS5kZWZhdWx0UHJvZ3JhbU1hbmFnZXJ8fG5ldyB0KGUpLGUubHVtYS5kZWZhdWx0UHJvZ3JhbU1hbmFnZXJ9fV0pLE9iamVjdChpLmEpKHQsW3trZXk6ImFkZERlZmF1bHRNb2R1bGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRNb2R1bGVzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10Lm5hbWV9KSl8fHRoaXMuX2RlZmF1bHRNb2R1bGVzLnB1c2godCksdGhpcy5zdGF0ZUhhc2grK319LHtrZXk6InJlbW92ZURlZmF1bHRNb2R1bGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSJzdHJpbmciPT10eXBlb2YgdD90OnQubmFtZTt0aGlzLl9kZWZhdWx0TW9kdWxlcz10aGlzLl9kZWZhdWx0TW9kdWxlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWUhPT1lfSkpLHRoaXMuc3RhdGVIYXNoKyt9fSx7a2V5OiJhZGRTaGFkZXJIb29rIix2YWx1ZTpmdW5jdGlvbih0LGUpe2UmJih0PU9iamVjdC5hc3NpZ24oZSx7aG9vazp0fSkpLHRoaXMuX2hvb2tGdW5jdGlvbnMucHVzaCh0KSx0aGlzLnN0YXRlSGFzaCsrfX0se2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1lLnZzLHI9dm9pZCAwPT09bj8iIjpuLGk9ZS5mcyxhPXZvaWQgMD09PWk/IiI6aSxvPWUuZGVmaW5lcyxzPXZvaWQgMD09PW8/e306byx1PWUuaW5qZWN0LGM9dm9pZCAwPT09dT97fTp1LGw9ZS52YXJ5aW5ncyxoPXZvaWQgMD09PWw/W106bCxmPWUuYnVmZmVyTW9kZSxkPXZvaWQgMD09PWY/MzU5ODE6Zix2PWUudHJhbnNwaWxlVG9HTFNMMTAwLHA9dm9pZCAwIT09diYmdixnPXRoaXMuX2dldE1vZHVsZUxpc3QoZS5tb2R1bGVzKSx5PXRoaXMuX2dldEhhc2gociksbT10aGlzLl9nZXRIYXNoKGEpLGI9Zy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9nZXRIYXNoKGUubmFtZSl9KSkuc29ydCgpLF89aC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9nZXRIYXNoKGUpfSkpLE89T2JqZWN0LmtleXMocykuc29ydCgpLHg9T2JqZWN0LmtleXMoYykuc29ydCgpLHc9W10saz1bXSxTPSEwLGo9ITEsVD12b2lkIDA7dHJ5e2Zvcih2YXIgQSxNPU9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoUz0oQT1NLm5leHQoKSkuZG9uZSk7Uz0hMCl7dmFyIEM9QS52YWx1ZTt3LnB1c2godGhpcy5fZ2V0SGFzaChDKSksdy5wdXNoKHRoaXMuX2dldEhhc2goc1tDXSkpfX1jYXRjaCh0KXtqPSEwLFQ9dH1maW5hbGx5e3RyeXtTfHxudWxsPT1NLnJldHVybnx8TS5yZXR1cm4oKX1maW5hbGx5e2lmKGopdGhyb3cgVH19dmFyIEw9ITAsST0hMSxSPXZvaWQgMDt0cnl7Zm9yKHZhciBOLEQ9eFtTeW1ib2wuaXRlcmF0b3JdKCk7IShMPShOPUQubmV4dCgpKS5kb25lKTtMPSEwKXt2YXIgRj1OLnZhbHVlO2sucHVzaCh0aGlzLl9nZXRIYXNoKEYpKSxrLnB1c2godGhpcy5fZ2V0SGFzaChjW0ZdKSl9fWNhdGNoKHQpe0k9ITAsUj10fWZpbmFsbHl7dHJ5e0x8fG51bGw9PUQucmV0dXJufHxELnJldHVybigpfWZpbmFsbHl7aWYoSSl0aHJvdyBSfX12YXIgej0iIi5jb25jYXQoeSwiLyIpLmNvbmNhdChtLCJEIikuY29uY2F0KHcuam9pbigiLyIpLCJNIikuY29uY2F0KGIuam9pbigiLyIpLCJJIikuY29uY2F0KGsuam9pbigiLyIpLCJWIikuY29uY2F0KF8uam9pbigiLyIpLCJIIikuY29uY2F0KHRoaXMuc3RhdGVIYXNoLCJCIikuY29uY2F0KGQpLmNvbmNhdChwPyJUIjoiIik7aWYoIXRoaXMuX3Byb2dyYW1DYWNoZVt6XSl7dmFyIEI9UCh0aGlzLmdsLHt2czpyLGZzOmEsbW9kdWxlczpnLGluamVjdDpjLGRlZmluZXM6cyxob29rRnVuY3Rpb25zOnRoaXMuX2hvb2tGdW5jdGlvbnMsdHJhbnNwaWxlVG9HTFNMMTAwOnB9KTt0aGlzLl9wcm9ncmFtQ2FjaGVbel09bmV3IEUuYSh0aGlzLmdsLHtoYXNoOnosdnM6Qi52cyxmczpCLmZzLHZhcnlpbmdzOmgsYnVmZmVyTW9kZTpkfSksdGhpcy5fZ2V0VW5pZm9ybXNbel09Qi5nZXRVbmlmb3Jtc3x8ZnVuY3Rpb24odCl7fSx0aGlzLl91c2VDb3VudHNbel09MH1yZXR1cm4gdGhpcy5fdXNlQ291bnRzW3pdKyssdGhpcy5fcHJvZ3JhbUNhY2hlW3pdfX0se2tleToiZ2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRVbmlmb3Jtc1t0Lmhhc2hdfHxudWxsfX0se2tleToicmVsZWFzZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5oYXNoO3RoaXMuX3VzZUNvdW50c1tlXS0tLDA9PT10aGlzLl91c2VDb3VudHNbZV0mJih0aGlzLl9wcm9ncmFtQ2FjaGVbZV0uZGVsZXRlKCksZGVsZXRlIHRoaXMuX3Byb2dyYW1DYWNoZVtlXSxkZWxldGUgdGhpcy5fZ2V0VW5pZm9ybXNbZV0sZGVsZXRlIHRoaXMuX3VzZUNvdW50c1tlXSl9fSx7a2V5OiJfZ2V0SGFzaCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2hhc2hlc1t0XSYmKHRoaXMuX2hhc2hlc1t0XT10aGlzLl9oYXNoQ291bnRlcisrKSx0aGlzLl9oYXNoZXNbdF19fSx7a2V5OiJfZ2V0TW9kdWxlTGlzdCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9bmV3IEFycmF5KHRoaXMuX2RlZmF1bHRNb2R1bGVzLmxlbmd0aCt0Lmxlbmd0aCksbj17fSxyPTAsaT0wLGE9dGhpcy5fZGVmYXVsdE1vZHVsZXMubGVuZ3RoO2k8YTsrK2kpe3ZhciBvPXRoaXMuX2RlZmF1bHRNb2R1bGVzW2ldLHM9by5uYW1lO2VbcisrXT1vLG5bc109ITB9Zm9yKHZhciB1PTAsYz10Lmxlbmd0aDt1PGM7Kyt1KXt2YXIgbD10W3VdLGg9bC5uYW1lO25baF18fChlW3IrK109bCxuW2hdPSEwKX1yZXR1cm4gZS5sZW5ndGg9cixlfX1dKSx0fSgpfSwsLCwsLCwsZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjQ3KTtPYmplY3QuYXNzaWduKHIsbig3MyksbigyNjgpLG4oMjY5KSxuKDI2NyksbigyNzEpLG4oMTgzKSxuKDI3MikpLHQuZXhwb3J0cz1yfSwsLCwsLCwsZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjcwKSxpPW4oMjApLGE9bigyNzMpLmRlZmF1bHQsbz1uKDkyKSxzPW8ucmVnaXN0ZXJMb2FkZXJzLHU9by5sb2FkLGM9by5wYXJzZSxsPW8uZmV0Y2hGaWxlLGg9InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/Z2xvYmFsOndpbmRvdztoLmRlY2s9aC5kZWNrfHx7fSxoLmx1bWE9aC5sdW1hfHx7fSxoLmxvYWRlcnM9aC5sb2FkZXJzfHx7fSxPYmplY3QuYXNzaWduKGguZGVjayxpLHtEZWNrR0w6YX0pLE9iamVjdC5hc3NpZ24oaC5sdW1hLHIpLE9iamVjdC5hc3NpZ24oaC5sb2FkZXJzLHtyZWdpc3RlckxvYWRlcnM6cyxsb2FkOnUscGFyc2U6YyxmZXRjaEZpbGU6bH0pLHQuZXhwb3J0cz1oLmRlY2t9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzMpLGk9bigyNDkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2VsZiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuc2VsZn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwid2luZG93Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS53aW5kb3d9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImdsb2JhbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2xvYmFsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJkb2N1bWVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZG9jdW1lbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb2Nlc3MiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLnByb2Nlc3N9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImNvbnNvbGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmNvbnNvbGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImlzQnJvd3NlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNCcm93c2VyTWFpblRocmVhZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uaXNCcm93c2VyTWFpblRocmVhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZ2V0QnJvd3NlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNNb2JpbGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmlzTW9iaWxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJpc0VsZWN0cm9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5kZWZhdWx0fX0pO3ZhciBhPW4oMTk2KSxvPWkobigxOTcpKSxzPWkobigyNTApKSx1PXIobigxODEpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpO2Z1bmN0aW9uIGkoKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcDtyZXR1cm4gaT1mdW5jdGlvbigpe3JldHVybiB0fSx0fXQuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7aWYobnVsbD09PXR8fCJvYmplY3QiIT09cih0KSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJue2RlZmF1bHQ6dH07dmFyIGU9aSgpO2lmKGUmJmUuaGFzKHQpKXJldHVybiBlLmdldCh0KTt2YXIgbj17fSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSl7dmFyIHM9YT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixvLHMpOm5bb109dFtvXX1yZXR1cm4gbi5kZWZhdWx0PXQsZSYmZS5zZXQodCxuKSxufX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaXNNb2JpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09aS53aW5kb3cub3JpZW50YXRpb259LGUuZGVmYXVsdD1mdW5jdGlvbih0KXtpZighdCYmISgwLGEuZGVmYXVsdCkoKSlyZXR1cm4iTm9kZSI7aWYoKDAsby5kZWZhdWx0KSh0KSlyZXR1cm4iRWxlY3Ryb24iO3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvcjp7fSxuPXR8fGUudXNlckFnZW50fHwiIjtpZihuLmluZGV4T2YoIkVkZ2UiKT4tMSlyZXR1cm4iRWRnZSI7dmFyIHI9LTEhPT1uLmluZGV4T2YoIk1TSUUgIikscz0tMSE9PW4uaW5kZXhPZigiVHJpZGVudC8iKTtpZihyfHxzKXJldHVybiJJRSI7aWYoaS53aW5kb3cuY2hyb21lKXJldHVybiJDaHJvbWUiO2lmKGkud2luZG93LnNhZmFyaSlyZXR1cm4iU2FmYXJpIjtpZihpLndpbmRvdy5tb3pJbm5lclNjcmVlblgpcmV0dXJuIkZpcmVmb3giO3JldHVybiJVbmtub3duIn07dmFyIGk9bigxOTYpLGE9cihuKDE5NykpLG89cihuKDE4MSkpfSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT1PYmplY3QucHJvdG90eXBlLG49ZS5oYXNPd25Qcm9wZXJ0eSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9ci5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9ci5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixvPXIudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBzKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbD9lOmwsYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxvPW5ldyB4KHJ8fFtdKTtyZXR1cm4gYS5faW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0ic3VzcGVuZGVkU3RhcnQiO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKCJleGVjdXRpbmciPT09cil0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZigiY29tcGxldGVkIj09PXIpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJuIGsoKX1mb3Iobi5tZXRob2Q9aSxuLmFyZz1hOzspe3ZhciBvPW4uZGVsZWdhdGU7aWYobyl7dmFyIHM9YihvLG4pO2lmKHMpe2lmKHM9PT1jKWNvbnRpbnVlO3JldHVybiBzfX1pZigibmV4dCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1uLm1ldGhvZCl7aWYoInN1c3BlbmRlZFN0YXJ0Ij09PXIpdGhyb3cgcj0iY29tcGxldGVkIixuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlInJldHVybiI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoInJldHVybiIsbi5hcmcpO3I9ImV4ZWN1dGluZyI7dmFyIGw9dSh0LGUsbik7aWYoIm5vcm1hbCI9PT1sLnR5cGUpe2lmKHI9bi5kb25lPyJjb21wbGV0ZWQiOiJzdXNwZW5kZWRZaWVsZCIsbC5hcmc9PT1jKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpsLmFyZyxkb25lOm4uZG9uZX19InRocm93Ij09PWwudHlwZSYmKHI9ImNvbXBsZXRlZCIsbi5tZXRob2Q9InRocm93IixuLmFyZz1sLmFyZyl9fX0odCxuLG8pLGF9ZnVuY3Rpb24gdSh0LGUsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6dH19fXQud3JhcD1zO3ZhciBjPXt9O2Z1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gaCgpe31mdW5jdGlvbiBmKCl7fXZhciBkPXt9O2RbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIHY9T2JqZWN0LmdldFByb3RvdHlwZU9mLHA9diYmdih2KHcoW10pKSk7cCYmcCE9PWUmJm4uY2FsbChwLGkpJiYoZD1wKTt2YXIgZz1mLnByb3RvdHlwZT1sLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQpO2Z1bmN0aW9uIHkodCl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX19KSl9ZnVuY3Rpb24gbSh0KXt2YXIgZTt0aGlzLl9pbnZva2U9ZnVuY3Rpb24ocixpKXtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGEpeyFmdW5jdGlvbiBlKHIsaSxhLG8pe3ZhciBzPXUodFtyXSx0LGkpO2lmKCJ0aHJvdyIhPT1zLnR5cGUpe3ZhciBjPXMuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmIm9iamVjdCI9PXR5cGVvZiBsJiZuLmNhbGwobCwiX19hd2FpdCIpP1Byb21pc2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe2UoIm5leHQiLHQsYSxvKX0pLChmdW5jdGlvbih0KXtlKCJ0aHJvdyIsdCxhLG8pfSkpOlByb21pc2UucmVzb2x2ZShsKS50aGVuKChmdW5jdGlvbih0KXtjLnZhbHVlPXQsYShjKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZSgidGhyb3ciLHQsYSxvKX0pKX1vKHMuYXJnKX0ocixpLGUsYSl9KSl9cmV0dXJuIGU9ZT9lLnRoZW4oYSxhKTphKCl9fWZ1bmN0aW9uIGIodCxlKXt2YXIgbj10Lml0ZXJhdG9yW2UubWV0aG9kXTtpZih2b2lkIDA9PT1uKXtpZihlLmRlbGVnYXRlPW51bGwsInRocm93Ij09PWUubWV0aG9kKXtpZih0Lml0ZXJhdG9yLnJldHVybiYmKGUubWV0aG9kPSJyZXR1cm4iLGUuYXJnPXZvaWQgMCxiKHQsZSksInRocm93Ij09PWUubWV0aG9kKSlyZXR1cm4gYztlLm1ldGhvZD0idGhyb3ciLGUuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gY312YXIgcj11KG4sdC5pdGVyYXRvcixlLmFyZyk7aWYoInRocm93Ij09PXIudHlwZSlyZXR1cm4gZS5tZXRob2Q9InRocm93IixlLmFyZz1yLmFyZyxlLmRlbGVnYXRlPW51bGwsYzt2YXIgaT1yLmFyZztyZXR1cm4gaT9pLmRvbmU/KGVbdC5yZXN1bHROYW1lXT1pLnZhbHVlLGUubmV4dD10Lm5leHRMb2MsInJldHVybiIhPT1lLm1ldGhvZCYmKGUubWV0aG9kPSJuZXh0IixlLmFyZz12b2lkIDApLGUuZGVsZWdhdGU9bnVsbCxjKTppOihlLm1ldGhvZD0idGhyb3ciLGUuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksZS5kZWxlZ2F0ZT1udWxsLGMpfWZ1bmN0aW9uIF8odCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gTyh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT0ibm9ybWFsIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24geCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sdC5mb3JFYWNoKF8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdyh0KXtpZih0KXt2YXIgZT10W2ldO2lmKGUpcmV0dXJuIGUuY2FsbCh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciByPS0xLGE9ZnVuY3Rpb24gZSgpe2Zvcig7KytyPHQubGVuZ3RoOylpZihuLmNhbGwodCxyKSlyZXR1cm4gZS52YWx1ZT10W3JdLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPXZvaWQgMCxlLmRvbmU9ITAsZX07cmV0dXJuIGEubmV4dD1hfX1yZXR1cm57bmV4dDprfX1mdW5jdGlvbiBrKCl7cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1yZXR1cm4gaC5wcm90b3R5cGU9Zy5jb25zdHJ1Y3Rvcj1mLGYuY29uc3RydWN0b3I9aCxmW29dPWguZGlzcGxheU5hbWU9IkdlbmVyYXRvckZ1bmN0aW9uIix0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWh8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LHQubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGYpOih0Ll9fcHJvdG9fXz1mLG8gaW4gdHx8KHRbb109IkdlbmVyYXRvckZ1bmN0aW9uIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZyksdH0sdC5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seShtLnByb3RvdHlwZSksbS5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5Bc3luY0l0ZXJhdG9yPW0sdC5hc3luYz1mdW5jdGlvbihlLG4scixpKXt2YXIgYT1uZXcgbShzKGUsbixyLGkpKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSx5KGcpLGdbb109IkdlbmVyYXRvciIsZ1tpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9LHQua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCllLnB1c2gobik7cmV0dXJuIGUucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO2UubGVuZ3RoOyl7dmFyIHI9ZS5wb3AoKTtpZihyIGluIHQpcmV0dXJuIG4udmFsdWU9cixuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSx0LnZhbHVlcz13LHgucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp4LHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXZvaWQgMCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz12b2lkIDAsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goTyksIXQpZm9yKHZhciBlIGluIHRoaXMpInQiPT09ZS5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLGUpJiYhaXNOYU4oK2Uuc2xpY2UoMSkpJiYodGhpc1tlXT12b2lkIDApfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIGU9dGhpcztmdW5jdGlvbiByKG4scil7cmV0dXJuIG8udHlwZT0idGhyb3ciLG8uYXJnPXQsZS5uZXh0PW4sciYmKGUubWV0aG9kPSJuZXh0IixlLmFyZz12b2lkIDApLCEhcn1mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0sbz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPW4uY2FsbChhLCJjYXRjaExvYyIpLHU9bi5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihzJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihzKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBpPXRoaXMudHJ5RW50cmllc1tyXTtpZihpLnRyeUxvYzw9dGhpcy5wcmV2JiZuLmNhbGwoaSwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8aS5maW5hbGx5TG9jKXt2YXIgYT1pO2JyZWFrfX1hJiYoImJyZWFrIj09PXR8fCJjb250aW51ZSI9PT10KSYmYS50cnlMb2M8PWUmJmU8PWEuZmluYWxseUxvYyYmKGE9bnVsbCk7dmFyIG89YT9hLmNvbXBsZXRpb246e307cmV0dXJuIG8udHlwZT10LG8uYXJnPWUsYT8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1hLmZpbmFsbHlMb2MsYyk6dGhpcy5jb21wbGV0ZShvKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiJicmVhayI9PT10LnR5cGV8fCJjb250aW51ZSI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOiJyZXR1cm4iPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSxjfSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLE8obiksY319LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgaT1yLmFyZztPKG4pfXJldHVybiBpfX10aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6dyh0KSxyZXN1bHROYW1lOmUsbmV4dExvYzpufSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXZvaWQgMCksY319LHR9KHQuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1yfWNhdGNoKHQpe0Z1bmN0aW9uKCJyIiwicmVnZW5lcmF0b3JSdW50aW1lID0gciIpKHIpfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUscil7cmV0dXJuIHQuZXhwb3J0cz1uPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxuKGUscil9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49bmV3IEFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIEFycmF5LmZyb20odCl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7dmFyIG49W10scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKG8udmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PXIodCkpOyk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG4scixpPXt9LGE9T2JqZWN0LmtleXModCk7Zm9yKHI9MDtyPGEubGVuZ3RoO3IrKyluPWFbcl0sZS5pbmRleE9mKG4pPj0wfHwoaVtuXT10W25dKTtyZXR1cm4gaX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNjMpO2Z1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gYSgpe31hLnJlc2V0V2FybmluZ0NhY2hlPWksdC5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLGEsbyl7aWYobyE9PXIpe3ZhciBzPW5ldyBFcnJvcigiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcyIpO3Rocm93IHMubmFtZT0iSW52YXJpYW50IFZpb2xhdGlvbiIsc319ZnVuY3Rpb24gZSgpe3JldHVybiB0fXQuaXNSZXF1aXJlZD10O3ZhciBuPXthcnJheTp0LGJvb2w6dCxmdW5jOnQsbnVtYmVyOnQsb2JqZWN0OnQsc3RyaW5nOnQsc3ltYm9sOnQsYW55OnQsYXJyYXlPZjplLGVsZW1lbnQ6dCxlbGVtZW50VHlwZTp0LGluc3RhbmNlT2Y6ZSxub2RlOnQsb2JqZWN0T2Y6ZSxvbmVPZjplLG9uZU9mVHlwZTplLHNoYXBlOmUsZXhhY3Q6ZSxjaGVja1Byb3BUeXBlczphLHJlc2V0V2FybmluZ0NhY2hlOml9O3JldHVybiBuLlByb3BUeXBlcz1uLG59fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3QuZXhwb3J0cz0iU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQifSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjEwKTtmdW5jdGlvbiBpKHQsZSxuKXtpZigzPT09dCl7dmFyIGk9bmV3IHIobixuLnJlYWRWYXJpbnQoKStuLnBvcyk7aS5sZW5ndGgmJihlW2kubmFtZV09aSl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3RoaXMubGF5ZXJzPXQucmVhZEZpZWxkcyhpLHt9LGUpfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7dGhpcy54PXQsdGhpcy55PWV9dC5leHBvcnRzPXIsci5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHQpfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxtdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludCh0KX0sZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHQpfSxtdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQodCl9LGRpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYodCl9LHJvdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUodCl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZCh0LGUpfSxtYXRNdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQodCl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxkaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHQpKX0sZGlzdFNxcjpmdW5jdGlvbih0KXt2YXIgZT10LngtdGhpcy54LG49dC55LXRoaXMueTtyZXR1cm4gZSplK24qbn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktdC55LHRoaXMueC10LngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKHQueCx0LnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqZS10aGlzLnkqdCx0aGlzLngqdCt0aGlzLnkqZSl9LF9tYXRNdWx0OmZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0qdGhpcy54K3RbMV0qdGhpcy55LG49dFsyXSp0aGlzLngrdFszXSp0aGlzLnk7cmV0dXJuIHRoaXMueD1lLHRoaXMueT1uLHRoaXN9LF9hZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LF9zdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LF9kaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tdCx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCkscj1lKnRoaXMueC1uKnRoaXMueSxpPW4qdGhpcy54K2UqdGhpcy55O3JldHVybiB0aGlzLng9cix0aGlzLnk9aSx0aGlzfSxfcm90YXRlQXJvdW5kOmZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KSxpPWUueCtuKih0aGlzLngtZS54KS1yKih0aGlzLnktZS55KSxhPWUueStyKih0aGlzLngtZS54KStuKih0aGlzLnktZS55KTtyZXR1cm4gdGhpcy54PWksdGhpcy55PWEsdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sci5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygcj90OkFycmF5LmlzQXJyYXkodCk/bmV3IHIodFswXSx0WzFdKTp0fX0sZnVuY3Rpb24odCxlKXtlLnJlYWQ9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgYSxvLHM9OCppLXItMSx1PSgxPDxzKS0xLGM9dT4+MSxsPS03LGg9bj9pLTE6MCxmPW4/LTE6MSxkPXRbZStoXTtmb3IoaCs9ZixhPWQmKDE8PC1sKS0xLGQ+Pj0tbCxsKz1zO2w+MDthPTI1NiphK3RbZStoXSxoKz1mLGwtPTgpO2ZvcihvPWEmKDE8PC1sKS0xLGE+Pj0tbCxsKz1yO2w+MDtvPTI1NipvK3RbZStoXSxoKz1mLGwtPTgpO2lmKDA9PT1hKWE9MS1jO2Vsc2V7aWYoYT09PXUpcmV0dXJuIG8/TmFOOjEvMCooZD8tMToxKTtvKz1NYXRoLnBvdygyLHIpLGEtPWN9cmV0dXJuKGQ/LTE6MSkqbypNYXRoLnBvdygyLGEtcil9LGUud3JpdGU9ZnVuY3Rpb24odCxlLG4scixpLGEpe3ZhciBvLHMsdSxjPTgqYS1pLTEsbD0oMTw8YyktMSxoPWw+PjEsZj0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGQ9cj8wOmEtMSx2PXI/MTotMSxwPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8ocz1pc05hTihlKT8xOjAsbz1sKToobz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKih1PU1hdGgucG93KDIsLW8pKTwxJiYoby0tLHUqPTIpLChlKz1vK2g+PTE/Zi91OmYqTWF0aC5wb3coMiwxLWgpKSp1Pj0yJiYobysrLHUvPTIpLG8raD49bD8ocz0wLG89bCk6bytoPj0xPyhzPShlKnUtMSkqTWF0aC5wb3coMixpKSxvKz1oKToocz1lKk1hdGgucG93KDIsaC0xKSpNYXRoLnBvdygyLGkpLG89MCkpO2k+PTg7dFtuK2RdPTI1NSZzLGQrPXYscy89MjU2LGktPTgpO2ZvcihvPW88PGl8cyxjKz1pO2M+MDt0W24rZF09MjU1Jm8sZCs9dixvLz0yNTYsYy09OCk7dFtuK2Qtdl18PTEyOCpwfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHI9e307bi5yKHIpLG4uZChyLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiBXYX0pKSxuLmQociwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcWF9KSk7dmFyIGk9e307bi5yKGkpLG4uZChpLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiBKYX0pKSxuLmQoaSwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gJGF9KSk7dmFyIGE9e307bi5yKGEpLG4uZChhLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiB0b30pKSxuLmQoYSwiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZW99KSk7dmFyIG89e307bi5yKG8pLG4uZChvLCJkZWNvZGUiLChmdW5jdGlvbigpe3JldHVybiBub30pKSxuLmQobywiZW5jb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcm99KSk7dmFyIHM9bigxKSx1PW4ubihzKSxjPW4oMiksbD1uLm4oYyksaD1uKDkpLGY9bi5uKGgpLGQ9bigzKSx2PW4ubihkKSxwPW4oMTIpLGc9bi5uKHApLHk9bigxMCksbT1uLm4oeSksYj1uKDIyMCksXz1uKDIwMiksTz1uKDIxNCkseD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxnKCkodigpKGUucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzKSx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgZ3JlYXQtY2lyY2xlLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VTb3VyY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZVRhcmdldENvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVdpZHRocztcblxudW5pZm9ybSBmbG9hdCBudW1TZWdtZW50cztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhTY2FsZTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWF4UGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xudmVjMiBnZXRFeHRydXNpb25PZmZzZXQodmVjMiBsaW5lX2NsaXBzcGFjZSwgZmxvYXQgb2Zmc2V0X2RpcmVjdGlvbiwgZmxvYXQgd2lkdGgpIHtcbiAgdmVjMiBkaXJfc2NyZWVuc3BhY2UgPSBub3JtYWxpemUobGluZV9jbGlwc3BhY2UgKiBwcm9qZWN0X3VWaWV3cG9ydFNpemUpO1xuICBkaXJfc2NyZWVuc3BhY2UgPSB2ZWMyKC1kaXJfc2NyZWVuc3BhY2UueSwgZGlyX3NjcmVlbnNwYWNlLngpO1xuXG4gIHJldHVybiBkaXJfc2NyZWVuc3BhY2UgKiBvZmZzZXRfZGlyZWN0aW9uICogd2lkdGggLyAyLjA7XG59XG5cbmZsb2F0IGdldFNlZ21lbnRSYXRpbyhmbG9hdCBpbmRleCkge1xuICByZXR1cm4gc21vb3Roc3RlcCgwLjAsIDEuMCwgaW5kZXggLyAobnVtU2VnbWVudHMgLSAxLjApKTtcbn1cbmZsb2F0IGdldEFuZ3VsYXJEaXN0ICh2ZWMyIHNvdXJjZSwgdmVjMiB0YXJnZXQpIHtcbiAgdmVjMiBkZWx0YSA9IHNvdXJjZSAtIHRhcmdldDtcbiAgdmVjMiBzaW5faGFsZl9kZWx0YSA9IHNpbihkZWx0YSAvIDIuMCk7XG4gIGZsb2F0IGEgPVxuICAgIHNpbl9oYWxmX2RlbHRhLnkgKiBzaW5faGFsZl9kZWx0YS55ICtcbiAgICBjb3Moc291cmNlLnkpICogY29zKHRhcmdldC55KSAqXG4gICAgc2luX2hhbGZfZGVsdGEueCAqIHNpbl9oYWxmX2RlbHRhLng7XG4gIHJldHVybiAyLjAgKiBhdGFuKHNxcnQoYSksIHNxcnQoMS4wIC0gYSkpO1xufVxuXG52ZWMyIGludGVycG9sYXRlICh2ZWMyIHNvdXJjZSwgdmVjMiB0YXJnZXQsIGZsb2F0IGFuZ3VsYXJEaXN0LCBmbG9hdCB0KSB7XG4gIGlmKGFicyhhbmd1bGFyRGlzdCAtIFBJKSA8IDAuMDAxKSB7XG4gICAgcmV0dXJuICgxLjAgLSB0KSAqIHNvdXJjZSArIHQgKiB0YXJnZXQ7XG4gIH1cblxuICBmbG9hdCBhID0gc2luKCgxLjAgLSB0KSAqIGFuZ3VsYXJEaXN0KSAvIHNpbihhbmd1bGFyRGlzdCk7XG4gIGZsb2F0IGIgPSBzaW4odCAqIGFuZ3VsYXJEaXN0KSAvIHNpbihhbmd1bGFyRGlzdCk7XG4gIHZlYzIgc2luX3NvdXJjZSA9IHNpbihzb3VyY2UpO1xuICB2ZWMyIGNvc19zb3VyY2UgPSBjb3Moc291cmNlKTtcbiAgdmVjMiBzaW5fdGFyZ2V0ID0gc2luKHRhcmdldCk7XG4gIHZlYzIgY29zX3RhcmdldCA9IGNvcyh0YXJnZXQpO1xuXG4gIGZsb2F0IHggPSBhICogY29zX3NvdXJjZS55ICogY29zX3NvdXJjZS54ICsgYiAqIGNvc190YXJnZXQueSAqIGNvc190YXJnZXQueDtcbiAgZmxvYXQgeSA9IGEgKiBjb3Nfc291cmNlLnkgKiBzaW5fc291cmNlLnggKyBiICogY29zX3RhcmdldC55ICogc2luX3RhcmdldC54O1xuICBmbG9hdCB6ID0gYSAqIHNpbl9zb3VyY2UueSArIGIgKiBzaW5fdGFyZ2V0Lnk7XG4gIHJldHVybiB2ZWMyKGF0YW4oeSwgeCksIGF0YW4oeiwgc3FydCh4ICogeCArIHkgKiB5KSkpO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZVRhcmdldFBvc2l0aW9ucztcblxuICBmbG9hdCBzZWdtZW50SW5kZXggPSBwb3NpdGlvbnMueDtcbiAgZmxvYXQgc2VnbWVudFJhdGlvID0gZ2V0U2VnbWVudFJhdGlvKHNlZ21lbnRJbmRleCk7XG4gIHV2ID0gdmVjMihzZWdtZW50UmF0aW8sIHBvc2l0aW9ucy55KTtcbiAgZ2VvbWV0cnkudXYgPSB1djtcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuICBmbG9hdCBpbmRleERpciA9IG1peCgtMS4wLCAxLjAsIHN0ZXAoc2VnbWVudEluZGV4LCAwLjApKTtcbiAgZmxvYXQgbmV4dFNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXggKyBpbmRleERpcik7XG4gIFxuICB2ZWMyIHNvdXJjZSA9IHJhZGlhbnMoaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnMueHkpO1xuICB2ZWMyIHRhcmdldCA9IHJhZGlhbnMoaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnMueHkpO1xuICBcbiAgZmxvYXQgYW5ndWxhckRpc3QgPSBnZXRBbmd1bGFyRGlzdChzb3VyY2UsIHRhcmdldCk7XG5cbiAgdmVjMyBjdXJyUG9zID0gdmVjMyhkZWdyZWVzKGludGVycG9sYXRlKHNvdXJjZSwgdGFyZ2V0LCBhbmd1bGFyRGlzdCwgc2VnbWVudFJhdGlvKSksIDAuMCk7XG4gIHZlYzMgbmV4dFBvcyA9IHZlYzMoZGVncmVlcyhpbnRlcnBvbGF0ZShzb3VyY2UsIHRhcmdldCwgYW5ndWxhckRpc3QsIG5leHRTZWdtZW50UmF0aW8pKSwgMC4wKTtcblxuICB2ZWMzIGN1cnJQb3M2NExvdyA9IG1peChpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCBpbnN0YW5jZVRhcmdldFBvc2l0aW9uczY0TG93LCBzZWdtZW50UmF0aW8pO1xuICB2ZWMzIG5leHRQb3M2NExvdyA9IG1peChpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCBpbnN0YW5jZVRhcmdldFBvc2l0aW9uczY0TG93LCBuZXh0U2VnbWVudFJhdGlvKTtcblxuICB2ZWM0IGN1cnIgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjdXJyUG9zLCBjdXJyUG9zNjRMb3csIHZlYzMoMC4wKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICB2ZWM0IG5leHQgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShuZXh0UG9zLCBuZXh0UG9zNjRMb3csIHZlYzMoMC4wKSk7XG4gIGZsb2F0IHdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGluc3RhbmNlV2lkdGhzICogd2lkdGhTY2FsZSksXG4gICAgd2lkdGhNaW5QaXhlbHMsIHdpZHRoTWF4UGl4ZWxzXG4gICk7XG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhcbiAgICBnZXRFeHRydXNpb25PZmZzZXQoKG5leHQueHkgLSBjdXJyLnh5KSAqIGluZGV4RGlyLCBwb3NpdGlvbnMueSwgd2lkdGhQaXhlbHMpLFxuICAgIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcbiAgZ2xfUG9zaXRpb24gPSBjdXJyICsgdmVjNChwcm9qZWN0X3BpeGVsX3NpemVfdG9fY2xpcHNwYWNlKG9mZnNldC54eSksIDAuMCwgMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihnbF9Qb3NpdGlvbiwgZ2VvbWV0cnkpO1xuXG4gIHZlYzQgY29sb3IgPSBtaXgoaW5zdGFuY2VTb3VyY2VDb2xvcnMsIGluc3RhbmNlVGFyZ2V0Q29sb3JzLCBzZWdtZW50UmF0aW8pO1xuICB2Q29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltiLmEsXy5hXX0pfX1dKSxlfShPLmEpO3gubGF5ZXJOYW1lPSJHcmVhdENpcmNsZUxheWVyIjt2YXIgdz1uKDE4NSksaz1uKDIwNiksUz1uKDE5KSxQPW4ubihTKSxqPW4oMTI5KSxUPW4ubihqKSxFPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIEEodCxlLG4pe3ZhciByPTE8PGU7cmV0dXJuWyh0WzBdK25bMF0pL3IsKHRbMV0rblsxXSkvcl19ZnVuY3Rpb24gTSh0KXtyZXR1cm4gdD49LjU/MS8zKig0KnQqdC0xKToxLzMqKDEtNCooMS10KSooMS10KSl9ZnVuY3Rpb24gQyh0KXtyZXR1cm5bTSh0WzBdKSxNKHRbMV0pXX1mdW5jdGlvbiBMKHQsZSl7dmFyIG49UCgpKGUsMikscj1uWzBdLGk9blsxXTtzd2l0Y2godCl7Y2FzZSAwOnJldHVyblsxLHIsaV07Y2FzZSAxOnJldHVyblstciwxLGldO2Nhc2UgMjpyZXR1cm5bLXIsLWksMV07Y2FzZSAzOnJldHVyblstMSwtaSwtcl07Y2FzZSA0OnJldHVybltpLC0xLC1yXTtjYXNlIDU6cmV0dXJuW2ksciwtMV07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZmFjZSIpfX1mdW5jdGlvbiBJKHQsZSxuLHIpe2lmKDA9PT1yKXsxPT09biYmKGVbMF09dC0xLWVbMF0sZVsxXT10LTEtZVsxXSk7dmFyIGk9ZVswXTtlWzBdPWVbMV0sZVsxXT1pfX1mdW5jdGlvbiBSKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYodC5pbmRleE9mKCIvIik+MClyZXR1cm4gdDt0PWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFkRW5kKDE2LCIwIik7cmV0dXJuIFQuYS5mcm9tU3RyaW5nKGUsMTYpfSh0KX1yZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPVQuYS5mcm9tU3RyaW5nKHQsITAsMTApLnRvU3RyaW5nKDIpO2UubGVuZ3RoPDY0OyllPSIwIitlO2Zvcih2YXIgbj1lLmxhc3RJbmRleE9mKCIxIikscj1lLnN1YnN0cmluZygwLDMpLGk9ZS5zdWJzdHJpbmcoMyxuKSxhPWkubGVuZ3RoLzIsbz1ULmEuZnJvbVN0cmluZyhyLCEwLDIpLnRvU3RyaW5nKDEwKSxzPVQuYS5mcm9tU3RyaW5nKGksITAsMikudG9TdHJpbmcoNCk7cy5sZW5ndGg8YTspcz0iMCIrcztyZXR1cm4iIi5jb25jYXQobywiLyIpLmNvbmNhdChzKX0odC50b1N0cmluZygpKX1mdW5jdGlvbiBOKHQpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGUsbixyLGksYSxvLHM9dC5mYWNlLHU9dC5paixjPXQubGV2ZWwsbD1bWzAsMF0sWzAsMV0sWzEsMV0sWzEsMF0sWzAsMF1dLGg9TWF0aC5tYXgoMSxNYXRoLmNlaWwoMTAwKk1hdGgucG93KDIsLWMpKSksZj1uZXcgRmxvYXQ2NEFycmF5KDQqaCoyKzIpLGQ9MCx2PTA7djw0O3YrKylmb3IodmFyIHA9bFt2XS5zbGljZSgwKSxnPWxbdisxXSx5PShnWzBdLXBbMF0pL2gsbT0oZ1sxXS1wWzFdKS9oLGI9MDtiPGg7YisrKXtwWzBdKz15LHBbMV0rPW07dmFyIF89TChzLEMoQSh1LGMscCkpKSxPPShlPV8sbj12b2lkIDAscj12b2lkIDAsaT12b2lkIDAsYT12b2lkIDAsbz12b2lkIDAsbj1QKCkoZSwzKSxyPW5bMF0saT1uWzFdLGE9blsyXSxvPU1hdGguYXRhbjIoYSxNYXRoLnNxcnQocipyK2kqaSkpLFtNYXRoLmF0YW4yKGkscikqRSxvKkVdKTtmW2QrK109T1swXSxmW2QrK109T1sxXX1yZXR1cm4gZltkKytdPWZbMF0sZltkKytdPWZbMV0sZn0oZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5zcGxpdCgiLyIpLHI9cGFyc2VJbnQoblswXSwxMCksaT1uWzFdLGE9aS5sZW5ndGgsbz1bMCwwXSxzPWEtMTtzPj0wO3MtLSl7ZT1hLXM7dmFyIHU9aVtzXSxjPTAsbD0wOyIxIj09PXU/bD0xOiIyIj09PXU/KGM9MSxsPTEpOiIzIj09PXUmJihjPTEpO3ZhciBoPU1hdGgucG93KDIsZS0xKTtJKGgsbyxjLGwpLG9bMF0rPWgqYyxvWzFdKz1oKmx9aWYociUyPT0xKXt2YXIgZj1vWzBdO29bMF09b1sxXSxvWzFdPWZ9cmV0dXJue2ZhY2U6cixpajpvLGxldmVsOmV9fShSKHQpKSl9dmFyIEQ9T2JqZWN0LmFzc2lnbih7Z2V0UzJUb2tlbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRva2VufX19LGsuYS5kZWZhdWx0UHJvcHMpLEY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC5nZXRTMlRva2VuLHI9dGhpcy5wcm9wcyxpPXIuZWxldmF0aW9uU2NhbGUsYT1yLmV4dHJ1ZGVkLG89ci53aXJlZnJhbWUscz1yLmZpbGxlZCx1PXIuc3Ryb2tlZCxjPXIubGluZVdpZHRoVW5pdHMsbD1yLmxpbmVXaWR0aFNjYWxlLGg9ci5saW5lV2lkdGhNaW5QaXhlbHMsZj1yLmxpbmVXaWR0aE1heFBpeGVscyxkPXIubGluZUpvaW50Um91bmRlZCx2PXIubGluZU1pdGVyTGltaXQscD1yLmxpbmVEYXNoSnVzdGlmaWVkLGc9ci5nZXRFbGV2YXRpb24seT1yLmdldEZpbGxDb2xvcixtPXIuZ2V0TGluZUNvbG9yLGI9ci5nZXRMaW5lV2lkdGgsXz1yLmdldExpbmVEYXNoQXJyYXksTz10aGlzLnByb3BzLHg9Ty51cGRhdGVUcmlnZ2Vycyx3PU8ubWF0ZXJpYWw7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoImNlbGwiLGsuYSkpKHtmaWxsZWQ6cyx3aXJlZnJhbWU6byxleHRydWRlZDphLGVsZXZhdGlvblNjYWxlOmksc3Ryb2tlZDp1LGxpbmVXaWR0aFVuaXRzOmMsbGluZVdpZHRoU2NhbGU6bCxsaW5lV2lkdGhNaW5QaXhlbHM6aCxsaW5lV2lkdGhNYXhQaXhlbHM6ZixsaW5lSm9pbnRSb3VuZGVkOmQsbGluZU1pdGVyTGltaXQ6dixsaW5lRGFzaEp1c3RpZmllZDpwLG1hdGVyaWFsOncsZ2V0RWxldmF0aW9uOmcsZ2V0RmlsbENvbG9yOnksZ2V0TGluZUNvbG9yOm0sZ2V0TGluZVdpZHRoOmIsZ2V0TGluZURhc2hBcnJheTpffSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjZWxsIix1cGRhdGVUcmlnZ2Vyczp7Z2V0RWxldmF0aW9uOnguZ2V0RWxldmF0aW9uLGdldEZpbGxDb2xvcjp4LmdldEZpbGxDb2xvcixnZXRMaW5lQ29sb3I6eC5nZXRMaW5lQ29sb3IsZ2V0TGluZVdpZHRoOnguZ2V0TGluZVdpZHRoLGdldExpbmVEYXNoQXJyYXk6eC5nZXRMaW5lRGFzaEFycmF5fX0pLHtkYXRhOmUsX25vcm1hbGl6ZTohMSxwb3NpdGlvbkZvcm1hdDoiWFkiLGdldFBvbHlnb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gTihuKHQsZSkpfX0pfX1dKSxlfSh3LmEpO0YubGF5ZXJOYW1lPSJTMkxheWVyIixGLmRlZmF1bHRQcm9wcz1EO3ZhciB6PW4oNzUpLEI9bigyMTgpLFU9bigyMyksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS54LHI9ZS55LGk9ZS56LGE9ZS5vblRpbGVMb2FkLG89ZS5vblRpbGVFcnJvcjt1KCkodGhpcyx0KSx0aGlzLng9bix0aGlzLnk9cix0aGlzLno9aSx0aGlzLmlzVmlzaWJsZT0hMSx0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49W10sdGhpcy5jb250ZW50PW51bGwsdGhpcy5faXNMb2FkZWQ9ITEsdGhpcy5vblRpbGVMb2FkPWEsdGhpcy5vblRpbGVFcnJvcj1vfXJldHVybiBsKCkodCxbe2tleToibG9hZERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLngscj10aGlzLnksaT10aGlzLnosYT10aGlzLmJib3g7dCYmKHRoaXMuX2xvYWRlcj1Qcm9taXNlLnJlc29sdmUodCh7eDpuLHk6cix6OmksYmJveDphfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbnRlbnQ9dCxlLl9pc0xvYWRlZD0hMCxlLm9uVGlsZUxvYWQoZSksdH0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZS5faXNMb2FkZWQ9ITAsZS5vblRpbGVFcnJvcih0KX0pKSl9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2FkZWQ/dGhpcy5jb250ZW50OnRoaXMuX2xvYWRlcn19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2FkZWR9fSx7a2V5OiJieXRlTGVuZ3RoIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnQ/dGhpcy5jb250ZW50LmJ5dGVMZW5ndGg6MDtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQpfHxVLmEuZXJyb3IoImJ5dGVMZW5ndGggbm90IGRlZmluZWQgaW4gdGlsZSBkYXRhIikoKSx0fX1dKSx0fSgpLEc9big1MyksVz1uLm4oRyksSD1uKDM0KSxxPXt0eXBlOiJ1cmwiLHZhbHVlOiIiLHZhbGlkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdHx8QXJyYXkuaXNBcnJheSh0KSYmdC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fSkpfSxlcXVhbHM6ZnVuY3Rpb24odCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0KXx8IUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuITE7dmFyIG49dC5sZW5ndGg7aWYobiE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bjtyKyspaWYodFtyXSE9PWVbcl0pcmV0dXJuITE7cmV0dXJuITB9fTtmdW5jdGlvbiBYKHQsZSl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gbnVsbDtBcnJheS5pc0FycmF5KHQpJiYodD10W01hdGguYWJzKGUueCtlLnkpJXQubGVuZ3RoXSk7cmV0dXJuIHQucmVwbGFjZSgvXHsgKihbXHdfLV0rKSAqXH0vZywoZnVuY3Rpb24odCxuKXtyZXR1cm4gZVtuXX0pKX1mdW5jdGlvbiBaKHQsZSl7dmFyIG47aWYoZSYmMj09PWUubGVuZ3RoKXt2YXIgcj1QKCkoZSwyKSxpPXt0YXJnZXRaOnJbMF19LGE9e3RhcmdldFo6clsxXX07bj1bdC51bnByb2plY3QoWzAsMF0saSksdC51bnByb2plY3QoW3Qud2lkdGgsMF0saSksdC51bnByb2plY3QoWzAsdC5oZWlnaHRdLGkpLHQudW5wcm9qZWN0KFt0LndpZHRoLHQuaGVpZ2h0XSxpKSx0LnVucHJvamVjdChbMCwwXSxhKSx0LnVucHJvamVjdChbdC53aWR0aCwwXSxhKSx0LnVucHJvamVjdChbMCx0LmhlaWdodF0sYSksdC51bnByb2plY3QoW3Qud2lkdGgsdC5oZWlnaHRdLGEpXX1lbHNlIG49W3QudW5wcm9qZWN0KFswLDBdKSx0LnVucHJvamVjdChbdC53aWR0aCwwXSksdC51bnByb2plY3QoWzAsdC5oZWlnaHRdKSx0LnVucHJvamVjdChbdC53aWR0aCx0LmhlaWdodF0pXTtyZXR1cm5bTWF0aC5taW4uYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpKSksTWF0aC5taW4uYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpKSksTWF0aC5tYXguYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpKSksTWF0aC5tYXguYXBwbHkoTWF0aCxXKCkobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpKSldfWZ1bmN0aW9uIFkodCxlKXt2YXIgbj1PYmplY3QoSC5qKSh0KSxyPVAoKShuLDIpLGk9clswXSxhPXJbMV07cmV0dXJuW2kqPWUvNTEyLGE9KDEtYS81MTIpKmVdfWZ1bmN0aW9uIEsodCxlKXt2YXIgbj1QKCkodCwyKTtyZXR1cm5bblswXSplLzUxMixuWzFdKmUvNTEyXX1mdW5jdGlvbiBRKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1MTI7cmV0dXJuIDUxMipNYXRoLnBvdygyLHQpL2V9ZnVuY3Rpb24gSih0LGUsbil7dmFyIHI9UShuKSxpPXQvciozNjAtMTgwLGE9TWF0aC5QSS0yKk1hdGguUEkqZS9yO3JldHVybltpLDE4MC9NYXRoLlBJKk1hdGguYXRhbiguNSooTWF0aC5leHAoYSktTWF0aC5leHAoLWEpKSldfWZ1bmN0aW9uICQodCxlLG4scil7dmFyIGk9UShuLHIpO3JldHVyblt0L2kqNTEyLGUvaSo1MTJdfWZ1bmN0aW9uIHR0KHQsZSxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTo1MTI7aWYodC5pc0dlb3NwYXRpYWwpe3ZhciBhPUooZSxuLHIpLG89UCgpKGEsMikscz1vWzBdLHU9b1sxXSxjPUooZSsxLG4rMSxyKSxsPVAoKShjLDIpLGg9bFswXSxmPWxbMV07cmV0dXJue3dlc3Q6cyxub3J0aDp1LGVhc3Q6aCxzb3V0aDpmfX12YXIgZD0kKGUsbixyLGkpLHY9UCgpKGQsMikscD12WzBdLGc9dlsxXSx5PSQoZSsxLG4rMSxyLGkpLG09UCgpKHksMiksYj1tWzBdLF89bVsxXTtyZXR1cm57bGVmdDpwLHRvcDpnLHJpZ2h0OmIsYm90dG9tOl99fWZ1bmN0aW9uIGV0KHQsZSxuKXtmb3IodmFyIHI9Wih0KSxpPVEoZSxuKSxhPUsoW3JbMF0sclsxXV0saSksbz1QKCkoYSwyKSxzPW9bMF0sdT1vWzFdLGM9SyhbclsyXSxyWzNdXSxpKSxsPVAoKShjLDIpLGg9bFswXSxmPWxbMV0sZD1bXSx2PU1hdGguZmxvb3Iocyk7djxoO3YrKylmb3IodmFyIHA9TWF0aC5mbG9vcih1KTtwPGY7cCsrKWQucHVzaCh7eDp2LHk6cCx6OmV9KTtyZXR1cm4gZH1mdW5jdGlvbiBudCh0LGUsbil7dmFyIHI9Wih0LG4pLGk9UShlKSxhPVkoW3JbMF0sclszXV0saSksbz1QKCkoYSwyKSxzPW9bMF0sdT1vWzFdLGM9WShbclsyXSxyWzFdXSxpKSxsPVAoKShjLDIpLGg9bFswXSxmPWxbMV0sZD1bXTtzPU1hdGguZmxvb3IocyksaD1NYXRoLm1pbihzK2ksaCksdT1NYXRoLm1heCgwLE1hdGguZmxvb3IodSkpLGY9TWF0aC5taW4oaSxmKTtmb3IodmFyIHY9czt2PGg7disrKWZvcih2YXIgcD11O3A8ZjtwKyspe3ZhciBnPXYtTWF0aC5mbG9vcih2L2kpKmk7ZC5wdXNoKHt4OmcseTpwLHo6ZX0pfXJldHVybiBkfXZhciBydD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpczt1KCkodGhpcyx0KSx0aGlzLm9wdHM9ZSx0aGlzLl9nZXRUaWxlRGF0YT1lLmdldFRpbGVEYXRhLHRoaXMub25UaWxlRXJyb3I9ZS5vblRpbGVFcnJvcix0aGlzLm9uVGlsZUxvYWQ9ZnVuY3Rpb24odCl7ZS5vblRpbGVMb2FkKHQpLG4ub3B0cy5tYXhDYWNoZUJ5dGVTaXplJiYobi5fY2FjaGVCeXRlU2l6ZSs9dC5ieXRlTGVuZ3RoLG4uX3Jlc2l6ZUNhY2hlKCkpfSx0aGlzLl9jYWNoZT1uZXcgTWFwLHRoaXMuX3RpbGVzPVtdLHRoaXMuX2RpcnR5PSExLHRoaXMuX2NhY2hlQnl0ZVNpemU9MCx0aGlzLl92aWV3cG9ydD1udWxsLHRoaXMuX3NlbGVjdGVkVGlsZXM9bnVsbCx0aGlzLl9mcmFtZU51bWJlcj0wLHRoaXMuc2V0T3B0aW9ucyhlKX1yZXR1cm4gbCgpKHQsW3trZXk6InNldE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5vcHRzLHQpLE51bWJlci5pc0Zpbml0ZSh0Lm1heFpvb20pJiYodGhpcy5fbWF4Wm9vbT1NYXRoLmZsb29yKHQubWF4Wm9vbSkpLE51bWJlci5pc0Zpbml0ZSh0Lm1pblpvb20pJiYodGhpcy5fbWluWm9vbT1NYXRoLmNlaWwodC5taW5ab29tKSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLnpSYW5nZTtpZih0IT09dGhpcy5fdmlld3BvcnQpe3RoaXMuX3ZpZXdwb3J0PXQ7dmFyIGk9dGhpcy5nZXRUaWxlSW5kaWNlcyh7dmlld3BvcnQ6dCxtYXhab29tOnRoaXMuX21heFpvb20sbWluWm9vbTp0aGlzLl9taW5ab29tLHpSYW5nZTpyfSk7dGhpcy5fc2VsZWN0ZWRUaWxlcz1pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2dldFRpbGUodCwhMCl9KSksdGhpcy5fZGlydHkmJnRoaXMuX3JlYnVpbGRUcmVlKCl9dmFyIGE9dGhpcy51cGRhdGVUaWxlU3RhdGVzKCk7cmV0dXJuIHRoaXMuX2RpcnR5JiZ0aGlzLl9yZXNpemVDYWNoZSgpLGEmJnRoaXMuX2ZyYW1lTnVtYmVyKyssdGhpcy5fZnJhbWVOdW1iZXJ9fSx7a2V5OiJnZXRUaWxlSW5kaWNlcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTo1MTIsYT1NYXRoLmNlaWwodC56b29tKTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKG4pJiZhPG4/W106KE51bWJlci5pc0Zpbml0ZShlKSYmYT5lJiYoYT1lKSx0LmlzR2Vvc3BhdGlhbD9udCh0LGEscik6ZXQodCxhLGkpKX0odC52aWV3cG9ydCx0Lm1heFpvb20sdC5taW5ab29tLHQuelJhbmdlLHRoaXMub3B0cy50aWxlU2l6ZSl9fSx7a2V5OiJnZXRUaWxlTWV0YWRhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQueCxuPXQueSxyPXQuejtyZXR1cm57YmJveDp0dCh0aGlzLl92aWV3cG9ydCxlLG4scix0aGlzLm9wdHMudGlsZVNpemUpfX19LHtrZXk6ImdldFBhcmVudEluZGV4Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PU1hdGguZmxvb3IodC54LzIpLHQueT1NYXRoLmZsb29yKHQueS8yKSx0LnotPTEsdH19LHtrZXk6InVwZGF0ZVRpbGVTdGF0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlVGlsZVN0YXRlcyh0aGlzLnNlbGVjdGVkVGlsZXMpO3ZhciB0PSExLGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dGhpcy5fY2FjaGUudmFsdWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZSxzPUJvb2xlYW4oMSZvLnN0YXRlKTtvLmlzVmlzaWJsZSE9PXMmJih0PSEwLG8uaXNWaXNpYmxlPXMpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19cmV0dXJuIHR9fSx7a2V5OiJfcmVidWlsZFRyZWUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGUsZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10LnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KGk9YS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBvPWkudmFsdWU7by5wYXJlbnQ9bnVsbCxvLmNoaWxkcmVuLmxlbmd0aD0wfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19dmFyIHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9dC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlLGQ9dGhpcy5fZ2V0TmVhcmVzdEFuY2VzdG9yKGYueCxmLnksZi56KTtmLnBhcmVudD1kLGQmJmQuY2hpbGRyZW4ucHVzaChmKX19Y2F0Y2godCl7dT0hMCxjPXR9ZmluYWxseXt0cnl7c3x8bnVsbD09aC5yZXR1cm58fGgucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IGN9fX19LHtrZXk6Il91cGRhdGVUaWxlU3RhdGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jYWNoZSxuPXRoaXMub3B0cy5yZWZpbmVtZW50U3RyYXRlZ3l8fCJiZXN0LWF2YWlsYWJsZSIscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1lLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe28udmFsdWUuc3RhdGU9MH19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXZhciB1PSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgaCxmPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oaD1mLm5leHQoKSkuZG9uZSk7dT0hMCl7aC52YWx1ZS5zdGF0ZT01fX1jYXRjaCh0KXtjPSEwLGw9dH1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19aWYoIm5ldmVyIiE9PW4pe3ZhciBkPSEwLHY9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgZyx5PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZD0oZz15Lm5leHQoKSkuZG9uZSk7ZD0hMCl7YXQoZy52YWx1ZSxuKX19Y2F0Y2godCl7dj0hMCxwPXR9ZmluYWxseXt0cnl7ZHx8bnVsbD09eS5yZXR1cm58fHkucmV0dXJuKCl9ZmluYWxseXtpZih2KXRocm93IHB9fXZhciBtPSEwLGI9ITEsXz12b2lkIDA7dHJ5e2Zvcih2YXIgTyx4PXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobT0oTz14Lm5leHQoKSkuZG9uZSk7bT0hMCl7dmFyIHc9Ty52YWx1ZTtpdCh3KSYmb3Qodyl9fWNhdGNoKHQpe2I9ITAsXz10fWZpbmFsbHl7dHJ5e218fG51bGw9PXgucmV0dXJufHx4LnJldHVybigpfWZpbmFsbHl7aWYoYil0aHJvdyBffX19fX0se2tleToiX3Jlc2l6ZUNhY2hlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NhY2hlLGU9dGhpcy5vcHRzLG49ZS5tYXhDYWNoZVNpemV8fChlLm1heENhY2hlQnl0ZVNpemU/MS8wOjUqdGhpcy5zZWxlY3RlZFRpbGVzLmxlbmd0aCkscj1lLm1heENhY2hlQnl0ZVNpemV8fDEvMDtpZih0LnNpemU+bnx8dGhpcy5fY2FjaGVCeXRlU2l6ZT5yKXt2YXIgaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPVAoKShzLnZhbHVlLDIpLGw9Y1swXSxoPWNbMV07aWYoaC5pc1Zpc2libGV8fCh0aGlzLl9jYWNoZUJ5dGVTaXplLT1lLm1heENhY2hlQnl0ZVNpemU/aC5ieXRlTGVuZ3RoOjAsdC5kZWxldGUobCkpLHQuc2l6ZTw9biYmdGhpcy5fY2FjaGVCeXRlU2l6ZTw9cilicmVha319Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fXRoaXMuX3JlYnVpbGRUcmVlKCksdGhpcy5fZGlydHk9ITB9dGhpcy5fZGlydHkmJih0aGlzLl90aWxlcz1BcnJheS5mcm9tKHRoaXMuX2NhY2hlLnZhbHVlcygpKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnotZS56fSkpLHRoaXMuX2RpcnR5PSExKX19LHtrZXk6Il9nZXRUaWxlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQueCxyPXQueSxpPXQueixhPSIiLmNvbmNhdChuLCIsIikuY29uY2F0KHIsIiwiKS5jb25jYXQoaSksbz10aGlzLl9jYWNoZS5nZXQoYSk7cmV0dXJuIW8mJmUmJihvPW5ldyBWKHt4Om4seTpyLHo6aSxvblRpbGVMb2FkOnRoaXMub25UaWxlTG9hZCxvblRpbGVFcnJvcjp0aGlzLm9uVGlsZUVycm9yfSksT2JqZWN0LmFzc2lnbihvLHRoaXMuZ2V0VGlsZU1ldGFkYXRhKG8pKSxvLmxvYWREYXRhKHRoaXMuX2dldFRpbGVEYXRhKSx0aGlzLl9jYWNoZS5zZXQoYSxvKSx0aGlzLl9kaXJ0eT0hMCksb319LHtrZXk6Il9nZXROZWFyZXN0QW5jZXN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dGhpcy5fbWluWm9vbSxpPXZvaWQgMD09PXI/MDpyLGE9e3g6dCx5OmUsejpufTthLno+aTspe2E9dGhpcy5nZXRQYXJlbnRJbmRleChhKTt2YXIgbz10aGlzLl9nZXRUaWxlKGEpO2lmKG8pcmV0dXJuIG99cmV0dXJuIG51bGx9fSx7a2V5OiJ0aWxlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbGVzfX0se2tleToic2VsZWN0ZWRUaWxlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkVGlsZXN9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkVGlsZXMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTG9hZGVkfSkpfX1dKSx0fSgpO2Z1bmN0aW9uIGl0KHQpe2Zvcih2YXIgZT10O2U7KXtpZighMSZlLnN0YXRlKXJldHVybiEwO2lmKGUuaXNMb2FkZWQpcmV0dXJuITE7ZT1lLnBhcmVudH1yZXR1cm4hMH1mdW5jdGlvbiBhdCh0LGUpe2Zvcih2YXIgbixyPTM7bj10LnBhcmVudDspe2lmKHQuaXNMb2FkZWQmJihyPTQsImJlc3QtYXZhaWxhYmxlIj09PWUpKXJldHVybjtuLnN0YXRlPU1hdGgubWF4KG4uc3RhdGUsciksdD1ufX1mdW5jdGlvbiBvdCh0KXt2YXIgZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10LmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KGk9YS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBvPWkudmFsdWU7by5zdGF0ZT1NYXRoLm1heChvLnN0YXRlLDMpLG8uaXNMb2FkZWR8fG90KG8pfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fXZhciBzdD17ZGF0YTpbXSxkYXRhQ29tcGFyYXRvcjpxLmVxdWFscyxyZW5kZXJTdWJMYXllcnM6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEIuYSh0KX0sY29tcGFyZTohMX0sZ2V0VGlsZURhdGE6e3R5cGU6ImZ1bmN0aW9uIixvcHRpb25hbDohMCx2YWx1ZTpudWxsLGNvbXBhcmU6ITF9LG9uVmlld3BvcnRMb2FkOnt0eXBlOiJmdW5jdGlvbiIsb3B0aW9uYWw6ITAsdmFsdWU6bnVsbCxjb21wYXJlOiExfSxvblRpbGVMb2FkOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7fSxjb21wYXJlOiExfSxvblRpbGVFcnJvcjp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLmVycm9yKHQpfSxjb21wYXJlOiExfSx0aWxlU2l6ZTo1MTIsbWF4Wm9vbTpudWxsLG1pblpvb206MCxtYXhDYWNoZVNpemU6bnVsbCxtYXhDYWNoZUJ5dGVTaXplOm51bGwscmVmaW5lbWVudFN0cmF0ZWd5OiJiZXN0LWF2YWlsYWJsZSIselJhbmdlOm51bGx9LHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17dGlsZXM6W10saXNMb2FkZWQ6ITF9fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPSh0Lm9sZFByb3BzLHQuY29udGV4dCx0LmNoYW5nZUZsYWdzKSxyPXRoaXMuc3RhdGUudGlsZXNldCxpPSFyfHxuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0VGlsZURhdGEpO2lmKGkpe3ZhciBhPWUubWF4Wm9vbSxvPWUubWluWm9vbSxzPWUudGlsZVNpemUsdT1lLm1heENhY2hlU2l6ZSxjPWUubWF4Q2FjaGVCeXRlU2l6ZSxsPWUucmVmaW5lbWVudFN0cmF0ZWd5O3I9bmV3IHJ0KHtnZXRUaWxlRGF0YTp0aGlzLmdldFRpbGVEYXRhLmJpbmQodGhpcyksbWF4Q2FjaGVTaXplOnUsbWF4Q2FjaGVCeXRlU2l6ZTpjLG1heFpvb206YSxtaW5ab29tOm8sdGlsZVNpemU6cyxyZWZpbmVtZW50U3RyYXRlZ3k6bCxvblRpbGVMb2FkOnRoaXMuX29uVGlsZUxvYWQuYmluZCh0aGlzKSxvblRpbGVFcnJvcjp0aGlzLl9vblRpbGVFcnJvci5iaW5kKHRoaXMpfSksdGhpcy5zZXRTdGF0ZSh7dGlsZXNldDpyfSl9ZWxzZSBuLnByb3BzQ2hhbmdlZCYmKHIuc2V0T3B0aW9ucyhlKSx0aGlzLnN0YXRlLnRpbGVzZXQudGlsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5sYXllcnM9bnVsbH0pKSk7KGl8fG4udmlld3BvcnRDaGFuZ2VkKSYmdGhpcy5fdXBkYXRlVGlsZXNldCgpfX0se2tleToiX3VwZGF0ZVRpbGVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS50aWxlc2V0LGU9dGhpcy5wcm9wcyxuPWUub25WaWV3cG9ydExvYWQscj1lLnpSYW5nZSxpPXQudXBkYXRlKHRoaXMuY29udGV4dC52aWV3cG9ydCx7elJhbmdlOnJ9KSxhPXQuaXNMb2FkZWQsbz10aGlzLnN0YXRlLmlzTG9hZGVkIT09YSxzPXRoaXMuc3RhdGUuZnJhbWVOdW1iZXIhPT1pO2EmJm4mJihvfHxzKSYmbih0LnNlbGVjdGVkVGlsZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSkpKSxzJiZ0aGlzLnNldFN0YXRlKHtmcmFtZU51bWJlcjppfSksdGhpcy5zdGF0ZS5pc0xvYWRlZD1hfX0se2tleToiX29uVGlsZUxvYWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q3VycmVudExheWVyKCk7ZS5wcm9wcy5vblRpbGVMb2FkKHQpLGUuX3VwZGF0ZVRpbGVzZXQoKX19LHtrZXk6Il9vblRpbGVFcnJvciIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDdXJyZW50TGF5ZXIoKTtlLnByb3BzLm9uVGlsZUVycm9yKHQpLGUuX3VwZGF0ZVRpbGVzZXQoKX19LHtrZXk6ImdldFRpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3BzLG49ZS5nZXRUaWxlRGF0YSxyPWUuZmV0Y2gsaT1lLmRhdGE7cmV0dXJuIHQudXJsPVgoaSx0KSxuP24odCk6dC51cmw/cih0LnVybCx7bGF5ZXI6dGhpc30pOm51bGx9fSx7a2V5OiJyZW5kZXJTdWJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb3BzLnJlbmRlclN1YkxheWVycyh0KX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmluZm8sbj10LnNvdXJjZUxheWVyO3JldHVybiBlLnNvdXJjZUxheWVyPW4sZS50aWxlPW4ucHJvcHMudGlsZSxlfX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnByb3BzLnZpc2libGU7cmV0dXJuIHRoaXMuc3RhdGUudGlsZXNldC50aWxlcy5tYXAoKGZ1bmN0aW9uKG4pe3ZhciByPWUmJm4uaXNWaXNpYmxlO2lmKG4ubGF5ZXJzKW4ubGF5ZXJzWzBdJiZuLmxheWVyc1swXS5wcm9wcy52aXNpYmxlIT09ciYmKG4ubGF5ZXJzPW4ubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvbmUoe3Zpc2libGU6cn0pfSkpKTtlbHNle3ZhciBpPXQucmVuZGVyU3ViTGF5ZXJzKE9iamVjdC5hc3NpZ24oe30sdC5wcm9wcyx7aWQ6IiIuY29uY2F0KHQuaWQsIi0iKS5jb25jYXQobi54LCItIikuY29uY2F0KG4ueSwiLSIpLmNvbmNhdChuLnopLGRhdGE6bi5kYXRhLHZpc2libGU6cixfb2Zmc2V0OjAsdGlsZTpufSkpO24ubGF5ZXJzPU9iamVjdCh6LmIpKGksQm9vbGVhbil9cmV0dXJuIG4ubGF5ZXJzfSkpfX0se2tleToiaXNMb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLnRpbGVzZXQuc2VsZWN0ZWRUaWxlcy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGF5ZXJzJiZ0LmxheWVycy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNMb2FkZWR9KSl9KSl9fV0pLGV9KHcuYSk7dXQubGF5ZXJOYW1lPSJUaWxlTGF5ZXIiLHV0LmRlZmF1bHRQcm9wcz1zdDt2YXIgY3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ZygpKHYoKShlLnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHQuaW5qZWN0PXsidnM6I2RlY2wiOiJ1bmlmb3JtIGZsb2F0IHRyYWlsTGVuZ3RoO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlVGltZXN0YW1wcztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZU5leHRUaW1lc3RhbXBzO1xudmFyeWluZyBmbG9hdCB2VGltZTtcbiIsInZzOiNtYWluLWVuZCI6InZUaW1lID0gaW5zdGFuY2VUaW1lc3RhbXBzICsgKGluc3RhbmNlTmV4dFRpbWVzdGFtcHMgLSBpbnN0YW5jZVRpbWVzdGFtcHMpICogdlBhdGhQb3NpdGlvbi55IC8gdlBhdGhMZW5ndGg7XG4iLCJmczojZGVjbCI6InVuaWZvcm0gZmxvYXQgdHJhaWxMZW5ndGg7XG51bmlmb3JtIGZsb2F0IGN1cnJlbnRUaW1lO1xudmFyeWluZyBmbG9hdCB2VGltZTtcbiIsImZzOiNtYWluLXN0YXJ0IjoiaWYodlRpbWUgPiBjdXJyZW50VGltZSB8fCB2VGltZSA8IGN1cnJlbnRUaW1lIC0gdHJhaWxMZW5ndGgpIHtcbiAgZGlzY2FyZDtcbn1cbiIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOiJjb2xvci5hICo9IDEuMCAtIChjdXJyZW50VGltZSAtIHZUaW1lKSAvIHRyYWlsTGVuZ3RoOyJ9LHR9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGRJbnN0YW5jZWQoe3RpbWVzdGFtcHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0VGltZXN0YW1wcyIsc2hhZGVyQXR0cmlidXRlczp7aW5zdGFuY2VUaW1lc3RhbXBzOnt2ZXJ0ZXhPZmZzZXQ6MH0saW5zdGFuY2VOZXh0VGltZXN0YW1wczp7dmVydGV4T2Zmc2V0OjF9fX19KX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucHJvcHMscj1uLnRyYWlsTGVuZ3RoLGk9bi5jdXJyZW50VGltZTt0LnVuaWZvcm1zPU9iamVjdC5hc3NpZ24oe30sdC51bmlmb3Jtcyx7dHJhaWxMZW5ndGg6cixjdXJyZW50VGltZTppfSksZygpKHYoKShlLnByb3RvdHlwZSksImRyYXciLHRoaXMpLmNhbGwodGhpcyx0KX19XSksZX0obigxMTApLmEpO2N0LmxheWVyTmFtZT0iVHJpcHNMYXllciIsY3QuZGVmYXVsdFByb3BzPXt0cmFpbExlbmd0aDp7dHlwZToibnVtYmVyIix2YWx1ZToxMjAsbWluOjB9LGN1cnJlbnRUaW1lOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LGdldFRpbWVzdGFtcHM6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpudWxsfX07dmFyIGx0PW4oNjkpLGh0PW4oNjQpLGZ0PU9iamVjdC5hc3NpZ24oe2dldEhleGFnb25zOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaGV4YWdvbnN9fX0say5hLmRlZmF1bHRQcm9wcyksZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49KHQub2xkUHJvcHMsdC5jaGFuZ2VGbGFncyk7aWYobi5kYXRhQ2hhbmdlZHx8bi51cGRhdGVUcmlnZ2VycyYmbi51cGRhdGVUcmlnZ2Vycy5nZXRIZXhhZ29ucyl7dmFyIHI9ZS5kYXRhLGk9ZS5nZXRIZXhhZ29ucyxhPVtdLG89T2JqZWN0KGh0LmEpKHIpLHM9by5pdGVyYWJsZSx1PW8ub2JqZWN0SW5mbyxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTt1LmluZGV4Kys7dmFyIHA9aSh2LHUpLGc9T2JqZWN0KGx0LmgzU2V0VG9NdWx0aVBvbHlnb24pKHAsITApLHk9ITAsbT0hMSxiPXZvaWQgMDt0cnl7Zm9yKHZhciBfLE89Z1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh5PShfPU8ubmV4dCgpKS5kb25lKTt5PSEwKXt2YXIgeD1fLnZhbHVlO2EucHVzaCh0aGlzLmdldFN1YkxheWVyUm93KHtwb2x5Z29uOnh9LHYsdS5pbmRleCkpfX1jYXRjaCh0KXttPSEwLGI9dH1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19fX1jYXRjaCh0KXtsPSEwLGg9dH1maW5hbGx5e3RyeXtjfHxudWxsPT1kLnJldHVybnx8ZC5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgaH19dGhpcy5zZXRTdGF0ZSh7cG9seWdvbnM6YX0pfX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5lbGV2YXRpb25TY2FsZSxuPXQuZXh0cnVkZWQscj10LndpcmVmcmFtZSxpPXQuZmlsbGVkLGE9dC5zdHJva2VkLG89dC5saW5lV2lkdGhTY2FsZSxzPXQubGluZVdpZHRoTWluUGl4ZWxzLHU9dC5saW5lV2lkdGhNYXhQaXhlbHMsYz10LmxpbmVKb2ludFJvdW5kZWQsbD10LmxpbmVNaXRlckxpbWl0LGg9dC5saW5lRGFzaEp1c3RpZmllZCxmPXQubWF0ZXJpYWwsZD10LmdldEZpbGxDb2xvcix2PXQuZ2V0TGluZUNvbG9yLHA9dC5nZXRMaW5lV2lkdGgsZz10LmdldExpbmVEYXNoQXJyYXkseT10LmdldEVsZXZhdGlvbixtPXQudXBkYXRlVHJpZ2dlcnM7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoImNsdXN0ZXItcmVnaW9uIixrLmEpKSh7ZmlsbGVkOmksd2lyZWZyYW1lOnIsZXh0cnVkZWQ6bixlbGV2YXRpb25TY2FsZTplLHN0cm9rZWQ6YSxsaW5lV2lkdGhTY2FsZTpvLGxpbmVXaWR0aE1pblBpeGVsczpzLGxpbmVXaWR0aE1heFBpeGVsczp1LGxpbmVKb2ludFJvdW5kZWQ6YyxsaW5lTWl0ZXJMaW1pdDpsLGxpbmVEYXNoSnVzdGlmaWVkOmgsbWF0ZXJpYWw6ZixnZXRGaWxsQ29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKGQpLGdldExpbmVDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IodiksZ2V0TGluZVdpZHRoOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihwKSxnZXRMaW5lRGFzaEFycmF5OnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihnKSxnZXRFbGV2YXRpb246dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKHkpfSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjbHVzdGVyLXJlZ2lvbiIsdXBkYXRlVHJpZ2dlcnM6bX0pLHtkYXRhOnRoaXMuc3RhdGUucG9seWdvbnMsZ2V0UG9seWdvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb2x5Z29ufX0pfX1dKSxlfSh3LmEpO2R0LmRlZmF1bHRQcm9wcz1mdCxkdC5sYXllck5hbWU9IkgzQ2x1c3RlckxheWVyIjt2YXIgdnQ9big0MSkscHQ9bi5uKHZ0KSxndD1uKDgpLHl0PW4oMTU5KTtmdW5jdGlvbiBtdCh0LGUpe2U9dm9pZCAwPT09ZT90WzBdWzBdOmU7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlLHU9c1swXS1lO3U+MTgwP3NbMF0tPTM2MDp1PC0xODAmJihzWzBdKz0zNjApfX1jYXRjaCh0KXtyPSEwLGk9dH1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19fWZ1bmN0aW9uIGJ0KHQsZSxuKXt2YXIgcj1PYmplY3QobHQuaDNUb0dlbykodCksaT1QKCkociwyKSxhPWlbMF0sbz1pWzFdLHM9ZS5sZW5ndGg7bXQoZSxvKTtmb3IodmFyIHU9ZVswXT09PWVbcy0xXT9zLTE6cyxjPTA7Yzx1O2MrKyllW2NdWzBdPU9iamVjdChndC5sKShvLGVbY11bMF0sbiksZVtjXVsxXT1PYmplY3QoZ3QubCkoYSxlW2NdWzFdLG4pfWZ1bmN0aW9uIF90KHQsZSxuKXt2YXIgcj10KGUsbiksaT1PYmplY3QobHQuaDNUb0dlbykociksYT1QKCkoaSwyKSxvPWFbMF07cmV0dXJuW2FbMV0sb119ZnVuY3Rpb24gT3QodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxyPU9iamVjdChsdC5oM1RvR2VvQm91bmRhcnkpKHQsITApO2lmKDEhPT1lP2J0KHQscixlKTptdChyKSxuKXt2YXIgaT1uZXcgRmxvYXQ2NEFycmF5KDIqci5sZW5ndGgpLGE9MCxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtpW2ErK109aFswXSxpW2ErK109aFsxXX19Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fXJldHVybiBpfXJldHVybiByfXZhciB4dD1PYmplY3QuYXNzaWduKHt9LGsuYS5kZWZhdWx0UHJvcHMse2hpZ2hQcmVjaXNpb246ITEsY292ZXJhZ2U6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjEsdmFsdWU6MX0sY2VudGVySGV4YWdvbjpudWxsLGdldEhleGFnb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5oZXhhZ29ufX0sZXh0cnVkZWQ6ITB9KTtkZWxldGUgeHQuZ2V0TGluZURhc2hBcnJheTt2YXIgd3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNoYW5nZUZsYWdzO3JldHVybiB0aGlzLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uKCk/ZS5wcm9wc09yRGF0YUNoYW5nZWQ6ZS5zb21ldGhpbmdDaGFuZ2VkfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj0odC5vbGRQcm9wcyx0LmNoYW5nZUZsYWdzKTtpZihuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzJiZuLnVwZGF0ZVRyaWdnZXJzLmdldEhleGFnb24pe3ZhciByPS0xLGk9ITEsYT0hMSxvPU9iamVjdChodC5hKShlLmRhdGEpLHM9by5pdGVyYWJsZSx1PW8ub2JqZWN0SW5mbyxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTt1LmluZGV4Kys7dmFyIHA9ZS5nZXRIZXhhZ29uKHYsdSksZz1PYmplY3QobHQuaDNHZXRSZXNvbHV0aW9uKShwKTtpZihyPDApcj1nO2Vsc2UgaWYociE9PWcpe2E9ITA7YnJlYWt9aWYoT2JqZWN0KGx0LmgzSXNQZW50YWdvbikocCkpe2k9ITA7YnJlYWt9fX1jYXRjaCh0KXtsPSEwLGg9dH1maW5hbGx5e3RyeXtjfHxudWxsPT1kLnJldHVybnx8ZC5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgaH19dGhpcy5zZXRTdGF0ZSh7cmVzb2x1dGlvbjpyLGVkZ2VMZW5ndGhLTTpyPj0wP09iamVjdChsdC5lZGdlTGVuZ3RoKShyLGx0LlVOSVRTLmttKTowLGhhc011bHRpcGxlUmVzOmEsaGFzUGVudGFnb246aX0pfXRoaXMuX3VwZGF0ZVZlcnRpY2VzKHRoaXMuY29udGV4dC52aWV3cG9ydCl9fSx7a2V5OiJfc2hvdWxkVXNlSGlnaFByZWNpc2lvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC5yZXNvbHV0aW9uLG49dC5oYXNQZW50YWdvbixyPXQuaGFzTXVsdGlwbGVSZXM7cmV0dXJuIHRoaXMucHJvcHMuaGlnaFByZWNpc2lvbnx8cnx8bnx8ZT49MCYmZTw9NX19LHtrZXk6Il91cGRhdGVWZXJ0aWNlcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb24oKSl7dmFyIGU9dGhpcy5zdGF0ZSxuPWUucmVzb2x1dGlvbixyPWUuZWRnZUxlbmd0aEtNLGk9ZS5jZW50ZXJIZXg7aWYoIShuPDApKXt2YXIgYT10aGlzLnByb3BzLmNlbnRlckhleGFnb258fE9iamVjdChsdC5nZW9Ub0gzKSh0LmxhdGl0dWRlLHQubG9uZ2l0dWRlLG4pO2lmKGkhPT1hKXtpZihpKXt2YXIgbz1PYmplY3QobHQuaDNEaXN0YW5jZSkoaSxhKTtpZihvPj0wJiZvKnI8MTApcmV0dXJufXZhciBzPXQuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlcix1PU90KGEpLGM9T2JqZWN0KGx0LmgzVG9HZW8pKGEpLGw9UCgpKGMsMiksaD1sWzBdLGY9bFsxXSxkPXQucHJvamVjdEZsYXQoW2YsaF0pLHY9UCgpKGQsMikscD12WzBdLGc9dlsxXTt1PXUubWFwKChmdW5jdGlvbihlKXt2YXIgbj10LnByb2plY3RGbGF0KGUpO3JldHVybiBuWzBdPShuWzBdLXApL3NbMF0sblsxXT0oblsxXS1nKS9zWzFdLG59KSksdGhpcy5zZXRTdGF0ZSh7Y2VudGVySGV4OmEsdmVydGljZXM6dX0pfX19fX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uKCk/dGhpcy5fcmVuZGVyUG9seWdvbkxheWVyKCk6dGhpcy5fcmVuZGVyQ29sdW1uTGF5ZXIoKX19LHtrZXk6Il9nZXRGb3J3YXJkUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuZWxldmF0aW9uU2NhbGUsbj10Lm1hdGVyaWFsLHI9dC5jb3ZlcmFnZSxpPXQuZXh0cnVkZWQsYT10LndpcmVmcmFtZSxvPXQuc3Ryb2tlZCxzPXQuZmlsbGVkLHU9dC5saW5lV2lkdGhVbml0cyxjPXQubGluZVdpZHRoU2NhbGUsbD10LmxpbmVXaWR0aE1pblBpeGVscyxoPXQubGluZVdpZHRoTWF4UGl4ZWxzLGY9dC5nZXRGaWxsQ29sb3IsZD10LmdldEVsZXZhdGlvbix2PXQuZ2V0TGluZUNvbG9yLHA9dC5nZXRMaW5lV2lkdGgsZz10LnVwZGF0ZVRyaWdnZXJzO3JldHVybntlbGV2YXRpb25TY2FsZTplLGV4dHJ1ZGVkOmksY292ZXJhZ2U6cix3aXJlZnJhbWU6YSxzdHJva2VkOm8sZmlsbGVkOnMsbGluZVdpZHRoVW5pdHM6dSxsaW5lV2lkdGhTY2FsZTpjLGxpbmVXaWR0aE1pblBpeGVsczpsLGxpbmVXaWR0aE1heFBpeGVsczpoLG1hdGVyaWFsOm4sZ2V0RWxldmF0aW9uOmQsZ2V0RmlsbENvbG9yOmYsZ2V0TGluZUNvbG9yOnYsZ2V0TGluZVdpZHRoOnAsdXBkYXRlVHJpZ2dlcnM6e2dldEZpbGxDb2xvcjpnLmdldEZpbGxDb2xvcixnZXRFbGV2YXRpb246Zy5nZXRFbGV2YXRpb24sZ2V0TGluZUNvbG9yOmcuZ2V0TGluZUNvbG9yLGdldExpbmVXaWR0aDpnLmdldExpbmVXaWR0aH19fX0se2tleToiX3JlbmRlclBvbHlnb25MYXllciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC5nZXRIZXhhZ29uLHI9dC51cGRhdGVUcmlnZ2VycyxpPXQuY292ZXJhZ2UsYT10aGlzLmdldFN1YkxheWVyQ2xhc3MoImhleGFnb24tY2VsbC1oaWZpIixrLmEpLG89dGhpcy5fZ2V0Rm9yd2FyZFByb3BzKCk7cmV0dXJuIG8udXBkYXRlVHJpZ2dlcnMuZ2V0UG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P2U6Im9iamVjdCI9PT1wdCgpKHQpP09iamVjdC5hc3NpZ24oe30sdCx7Y292ZXJhZ2U6ZX0pOntnZXRIZXhhZ29uOnQsY292ZXJhZ2U6ZX19KHIuZ2V0SGV4YWdvbixpKSxuZXcgYShvLHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImhleGFnb24tY2VsbC1oaWZpIix1cGRhdGVUcmlnZ2VyczpvLnVwZGF0ZVRyaWdnZXJzfSkse2RhdGE6ZSxfbm9ybWFsaXplOiExLHBvc2l0aW9uRm9ybWF0OiJYWSIsZ2V0UG9seWdvbjpmdW5jdGlvbih0LGUpe3JldHVybiBPdChuKHQsZSksaSwhMCl9fSl9fSx7a2V5OiJfcmVuZGVyQ29sdW1uTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuZGF0YSxuPXQuZ2V0SGV4YWdvbixyPXQudXBkYXRlVHJpZ2dlcnMsaT10aGlzLmdldFN1YkxheWVyQ2xhc3MoImhleGFnb24tY2VsbCIseXQuYSksYT10aGlzLl9nZXRGb3J3YXJkUHJvcHMoKTtyZXR1cm4gYS51cGRhdGVUcmlnZ2Vycy5nZXRQb3NpdGlvbj1yLmdldEhleGFnb24sbmV3IGkoYSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJoZXhhZ29uLWNlbGwiLHVwZGF0ZVRyaWdnZXJzOmEudXBkYXRlVHJpZ2dlcnN9KSx7ZGF0YTplLGRpc2tSZXNvbHV0aW9uOjYscmFkaXVzOjEsdmVydGljZXM6dGhpcy5zdGF0ZS52ZXJ0aWNlcyxnZXRQb3NpdGlvbjpfdC5iaW5kKG51bGwsbil9KX19XSksZX0ody5hKTt3dC5kZWZhdWx0UHJvcHM9eHQsd3QubGF5ZXJOYW1lPSJIM0hleGFnb25MYXllciI7dmFyIGt0PW4oNSksU3Q9bi5uKGt0KSxQdD1uKDQpLGp0PW4ubihQdCksVHQ9bigxMTIpLEV0PW4ubihUdCksQXQ9bigxNDgpLE10PW4oNzEpLEN0PW4oMjIpLEx0PW4oMjE2KSxJdD1uKDIxMyksUnQ9bigyMTcpLE50PW4oMTk5KSxEdD1uKDEzKSxGdD1uKDApLHp0PW4oNiksQnQ9big3KSxVdD1uKDE5OCksVnQ9bigzMSksR3Q9bigzNiksV3Q9KE1hdGgubWF4KDYzNzgxMzcsNjM3ODEzNyw2MzU2NzUyLjMxNDI0NTE3OSksZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxIdD1uZXcgZ3QuZDtmdW5jdGlvbiBxdCh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpXdDtyZXR1cm4gT2JqZWN0KGd0LmspKHQpPyhlWzBdPW4odFswXSksZVsxXT1uKHRbMV0pLGVbMl09dFsyXSk6ImxvbmdpdHVkZSJpbiB0PyhlWzBdPW4odC5sb25naXR1ZGUpLGVbMV09bih0LmxhdGl0dWRlKSxlWzJdPXQuaGVpZ2h0KTooZVswXT1uKHQueCksZVsxXT1uKHQueSksZVsyXT10LnopLGV9ZnVuY3Rpb24gWHQodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkh0O3JldHVybiBxdCh0LGUsZ3QuaS5jYXJ0b2dyYXBoaWNSYWRpYW5zP1d0Omd0Lm4pfWZ1bmN0aW9uIFp0KHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOld0O3JldHVybiBPYmplY3QoZ3QuaykoZSk/KGVbMF09bih0WzBdKSxlWzFdPW4odFsxXSksZVsyXT10WzJdKToibG9uZ2l0dWRlImluIGU/KGUubG9uZ2l0dWRlPW4odFswXSksZS5sYXRpdHVkZT1uKHRbMV0pLGUuaGVpZ2h0PXRbMl0pOihlLng9bih0WzBdKSxlLnk9bih0WzFdKSxlLno9dFsyXSksZX1mdW5jdGlvbiBZdCh0LGUpe3JldHVybiBadCh0LGUsZ3QuaS5jYXJ0b2dyYXBoaWNSYWRpYW5zP1d0Omd0Lm0pfXZhciBLdD1uZXcgZ3QuZCxRdD1uZXcgZ3QuZCxKdD1uZXcgZ3QuZDt2YXIgJHQ9bmV3IGd0LmQsdGU9e3VwOntzb3V0aDoiZWFzdCIsbm9ydGg6Indlc3QiLHdlc3Q6InNvdXRoIixlYXN0OiJub3J0aCJ9LGRvd246e3NvdXRoOiJ3ZXN0Iixub3J0aDoiZWFzdCIsd2VzdDoibm9ydGgiLGVhc3Q6InNvdXRoIn0sc291dGg6e3VwOiJ3ZXN0Iixkb3duOiJlYXN0Iix3ZXN0OiJkb3duIixlYXN0OiJ1cCJ9LG5vcnRoOnt1cDoiZWFzdCIsZG93bjoid2VzdCIsd2VzdDoidXAiLGVhc3Q6ImRvd24ifSx3ZXN0Ont1cDoibm9ydGgiLGRvd246InNvdXRoIixub3J0aDoiZG93biIsc291dGg6InVwIn0sZWFzdDp7dXA6InNvdXRoIixkb3duOiJub3J0aCIsbm9ydGg6InVwIixzb3V0aDoiZG93biJ9fSxlZT17bm9ydGg6Wy0xLDAsMF0sZWFzdDpbMCwxLDBdLHVwOlswLDAsMV0sc291dGg6WzEsMCwwXSx3ZXN0OlswLC0xLDBdLGRvd246WzAsMCwtMV19LG5lPXtlYXN0Om5ldyBndC5kLG5vcnRoOm5ldyBndC5kLHVwOm5ldyBndC5kLHdlc3Q6bmV3IGd0LmQsc291dGg6bmV3IGd0LmQsZG93bjpuZXcgZ3QuZH0scmU9bmV3IGd0LmQsaWU9bmV3IGd0LmQsYWU9bmV3IGd0LmQ7ZnVuY3Rpb24gb2UodCxlLG4scixpLGEpe3ZhciBvLHMsdSxjPXRlW2VdJiZ0ZVtlXVtuXTtPYmplY3QoZ3QuZykoYyYmKCFyfHxyPT09YykpO3ZhciBsPSR0LmNvcHkoaSk7aWYoT2JqZWN0KGd0LmopKGwueCwwLDFlLTE0KSYmT2JqZWN0KGd0LmopKGwueSwwLDFlLTE0KSl7dmFyIGg9TWF0aC5zaWduKGwueik7bz1yZS5mcm9tQXJyYXkoZWVbZV0pLCJlYXN0IiE9PWUmJiJ3ZXN0IiE9PWUmJm8uc2NhbGUoaCkscz1pZS5mcm9tQXJyYXkoZWVbbl0pLCJlYXN0IiE9PW4mJiJ3ZXN0IiE9PW4mJnMuc2NhbGUoaCksdT1hZS5mcm9tQXJyYXkoZWVbcl0pLCJlYXN0IiE9PXImJiJ3ZXN0IiE9PXImJnUuc2NhbGUoaCl9ZWxzZXt2YXIgZj1uZS51cCxkPW5lLmVhc3Qsdj1uZS5ub3J0aDtkLnNldCgtbC55LGwueCwwKS5ub3JtYWxpemUoKSx0Lmdlb2RldGljU3VyZmFjZU5vcm1hbChsLGYpLHYuY29weShmKS5jcm9zcyhkKTt2YXIgcD1uZS53ZXN0LGc9bmUuc291dGg7bmUuZG93bi5jb3B5KGYpLnNjYWxlKC0xKSxwLmNvcHkoZCkuc2NhbGUoLTEpLGcuY29weSh2KS5zY2FsZSgtMSksbz1uZVtlXSxzPW5lW25dLHU9bmVbcl19cmV0dXJuIGFbMF09by54LGFbMV09by55LGFbMl09by56LGFbM109MCxhWzRdPXMueCxhWzVdPXMueSxhWzZdPXMueixhWzddPTAsYVs4XT11LngsYVs5XT11LnksYVsxMF09dS56LGFbMTFdPTAsYVsxMl09bC54LGFbMTNdPWwueSxhWzE0XT1sLnosYVsxNV09MSxhfXZhciBzZSx1ZT1uZXcgZ3QuZCxjZT1uZXcgZ3QuZCxsZT1uZXcgZ3QuZCxoZT1uZXcgZ3QuZCxmZT1uZXcgZ3QuZCxkZT1uZXcgZ3QuZCx2ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7T2JqZWN0KHp0LmEpKHRoaXMsdCksT2JqZWN0KGd0LmcpKGU+PTApLE9iamVjdChndC5nKShuPj0wKSxPYmplY3QoZ3QuZykocj49MCksdGhpcy5yYWRpaT1uZXcgZ3QuZChlLG4sciksdGhpcy5yYWRpaVNxdWFyZWQ9bmV3IGd0LmQoZSplLG4qbixyKnIpLHRoaXMucmFkaWlUb1RoZUZvdXJ0aD1uZXcgZ3QuZChlKmUqZSplLG4qbipuKm4scipyKnIqciksdGhpcy5vbmVPdmVyUmFkaWk9bmV3IGd0LmQoMD09PWU/MDoxL2UsMD09PW4/MDoxL24sMD09PXI/MDoxL3IpLHRoaXMub25lT3ZlclJhZGlpU3F1YXJlZD1uZXcgZ3QuZCgwPT09ZT8wOjEvKGUqZSksMD09PW4/MDoxLyhuKm4pLDA9PT1yPzA6MS8ocipyKSksdGhpcy5taW5pbXVtUmFkaXVzPU1hdGgubWluKGUsbixyKSx0aGlzLm1heGltdW1SYWRpdXM9TWF0aC5tYXgoZSxuLHIpLHRoaXMuY2VudGVyVG9sZXJhbmNlU3F1YXJlZD1ndC5lLkVQU0lMT04xLDAhPT10aGlzLnJhZGlpU3F1YXJlZC56JiYodGhpcy5zcXVhcmVkWE92ZXJTcXVhcmVkWj10aGlzLnJhZGlpU3F1YXJlZC54L3RoaXMucmFkaWlTcXVhcmVkLnopLE9iamVjdC5mcmVlemUodGhpcyl9cmV0dXJuIE9iamVjdChCdC5hKSh0LG51bGwsW3trZXk6IldHUzg0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc2U9c2V8fG5ldyB0KDYzNzgxMzcsNjM3ODEzNyw2MzU2NzUyLjMxNDI0NTE3OSl9fV0pLE9iamVjdChCdC5hKSh0LFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8Qm9vbGVhbih0JiZ0aGlzLnJhZGlpLmVxdWFscyh0LnJhZGlpKSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYWRpaS50b1N0cmluZygpfX0se2tleToiY2FydG9ncmFwaGljVG9DYXJ0ZXNpYW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49Y2Uscj1sZSxpPU9iamVjdChWdC5hKSh0LDMpLGE9aVsyXTt0aGlzLmdlb2RldGljU3VyZmFjZU5vcm1hbENhcnRvZ3JhcGhpYyh0LG4pLHIuY29weSh0aGlzLnJhZGlpU3F1YXJlZCkuc2NhbGUobik7dmFyIG89TWF0aC5zcXJ0KG4uZG90KHIpKTtyZXR1cm4gci5zY2FsZSgxL28pLG4uc2NhbGUoYSksci5hZGQobiksci50byhlKX19LHtrZXk6ImNhcnRlc2lhblRvQ2FydG9ncmFwaGljIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzAsMCwwXTtkZS5mcm9tKHQpO3ZhciBuPXRoaXMuc2NhbGVUb0dlb2RldGljU3VyZmFjZShkZSxoZSk7aWYobil7dmFyIHI9dGhpcy5nZW9kZXRpY1N1cmZhY2VOb3JtYWwobixjZSksaT1mZTtpLmNvcHkoZGUpLnN1YnRyYWN0KG4pO3ZhciBhPU1hdGguYXRhbjIoci55LHIueCksbz1NYXRoLmFzaW4oci56KSxzPU1hdGguc2lnbihHdC5kKGksZGUpKSpHdC5nKGkpO3JldHVybiBZdChbYSxvLHNdLGUpfX19LHtrZXk6ImVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IGd0LmE7cmV0dXJuIG9lKHRoaXMsImVhc3QiLCJub3J0aCIsInVwIix0LGUpfX0se2tleToibG9jYWxGcmFtZVRvRml4ZWRGcmFtZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOm5ldyBndC5hO3JldHVybiBvZSh0aGlzLHQsZSxuLHIsaSl9fSx7a2V5OiJnZW9jZW50cmljU3VyZmFjZU5vcm1hbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIHVlLmZyb20odCkubm9ybWFsaXplKCkudG8oZSl9fSx7a2V5OiJnZW9kZXRpY1N1cmZhY2VOb3JtYWxDYXJ0b2dyYXBoaWMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49WHQodCkscj1uWzBdLGk9blsxXSxhPU1hdGguY29zKGkpO3JldHVybiB1ZS5zZXQoYSpNYXRoLmNvcyhyKSxhKk1hdGguc2luKHIpLE1hdGguc2luKGkpKS5ub3JtYWxpemUoKSx1ZS50byhlKX19LHtrZXk6Imdlb2RldGljU3VyZmFjZU5vcm1hbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIHVlLmZyb20odCkuc2NhbGUodGhpcy5vbmVPdmVyUmFkaWlTcXVhcmVkKS5ub3JtYWxpemUoKS50byhlKX19LHtrZXk6InNjYWxlVG9HZW9kZXRpY1N1cmZhY2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm5ldyBndC5kLHI9ZS5vbmVPdmVyUmFkaWksaT1lLm9uZU92ZXJSYWRpaVNxdWFyZWQsYT1lLmNlbnRlclRvbGVyYW5jZVNxdWFyZWQ7S3QuZnJvbSh0KTt2YXIgbz10Lngscz10LnksdT10LnosYz1yLngsbD1yLnksaD1yLnosZj1vKm8qYypjLGQ9cypzKmwqbCx2PXUqdSpoKmgscD1mK2QrdixnPU1hdGguc3FydCgxL3ApO2lmKE51bWJlci5pc0Zpbml0ZShnKSl7dmFyIHk9UXQ7aWYoeS5jb3B5KHQpLnNjYWxlKGcpLHA8YSlyZXR1cm4geS50byhuKTt2YXIgbT1pLngsYj1pLnksXz1pLnosTz1KdDtPLnNldCh5LngqbSoyLHkueSpiKjIseS56Kl8qMik7dmFyIHgsdyxrLFMsUD0oMS1nKSp0LmxlbigpLyguNSpPLmxlbigpKSxqPTA7ZG97dmFyIFQ9KHg9MS8oMSsoUC09aikqbSkpKngsRT0odz0xLygxK1AqYikpKncsQT0oaz0xLygxK1AqXykpKmssTT1UKngsQz1FKncsTD1BKmssST1mKk0qbStkKkMqYit2KkwqXyxSPS0yKkk7aj0oUz1mKlQrZCpFK3YqQS0xKS9SfXdoaWxlKE1hdGguYWJzKFMpPmd0LmUuRVBTSUxPTjEyKTtyZXR1cm4gS3Quc2NhbGUoW3gsdyxrXSkudG8obil9fSh0LHRoaXMsZSl9fSx7a2V5OiJzY2FsZVRvR2VvY2VudHJpY1N1cmZhY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO2hlLmZyb20odCk7dmFyIG49aGUueCxyPWhlLnksaT1oZS56LGE9dGhpcy5vbmVPdmVyUmFkaWlTcXVhcmVkLG89MS9NYXRoLnNxcnQobipuKmEueCtyKnIqYS55K2kqaSphLnopO3JldHVybiBoZS5tdWx0aXBseVNjYWxhcihvKS50byhlKX19LHtrZXk6InRyYW5zZm9ybVBvc2l0aW9uVG9TY2FsZWRTcGFjZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIGhlLmZyb20odCkuc2NhbGUodGhpcy5vbmVPdmVyUmFkaWkpLnRvKGUpfX0se2tleToidHJhbnNmb3JtUG9zaXRpb25Gcm9tU2NhbGVkU3BhY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO3JldHVybiBoZS5mcm9tKHQpLnNjYWxlKHRoaXMucmFkaWkpLnRvKGUpfX0se2tleToiZ2V0U3VyZmFjZU5vcm1hbEludGVyc2VjdGlvbldpdGhaQXhpcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzAsMCwwXTtPYmplY3QoZ3QuZykoT2JqZWN0KGd0LmopKHRoaXMucmFkaWkueCx0aGlzLnJhZGlpLnksZ3QuZS5FUFNJTE9OMTUpKSxPYmplY3QoZ3QuZykodGhpcy5yYWRpaS56PjApLGhlLmZyb20odCk7dmFyIHI9aGUueiooMS10aGlzLnNxdWFyZWRYT3ZlclNxdWFyZWRaKTtpZighKE1hdGguYWJzKHIpPj10aGlzLnJhZGlpLnotZSkpcmV0dXJuIGhlLnNldCgwLDAscikudG8obil9fV0pLHR9KCkscGU9bigxMzEpLGdlPW4oOTYpLHllPW4oMzIpLG1lPW4oMjA5KSxiZT1mdW5jdGlvbiB0KGUsbixyKXtPYmplY3QoenQuYSkodGhpcyx0KSx0aGlzLml0ZW09ZSx0aGlzLnByZXZpb3VzPW4sdGhpcy5uZXh0PXJ9LF9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMuX2xlbmd0aD0wfXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgYmUodCx0aGlzLnRhaWwsbnVsbCk7cmV0dXJuIHRoaXMudGFpbD8odGhpcy50YWlsLm5leHQ9ZSx0aGlzLnRhaWw9ZSk6KHRoaXMuaGVhZD1lLHRoaXMudGFpbD1lKSwrK3RoaXMuX2xlbmd0aCxlfX0se2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbih0KXt0JiYodC5wcmV2aW91cyYmdC5uZXh0Pyh0LnByZXZpb3VzLm5leHQ9dC5uZXh0LHQubmV4dC5wcmV2aW91cz10LnByZXZpb3VzKTp0LnByZXZpb3VzPyh0LnByZXZpb3VzLm5leHQ9bnVsbCx0aGlzLnRhaWw9dC5wcmV2aW91cyk6dC5uZXh0Pyh0Lm5leHQucHJldmlvdXM9bnVsbCx0aGlzLmhlYWQ9dC5uZXh0KToodGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwpLHQubmV4dD1udWxsLHQucHJldmlvdXM9bnVsbCwtLXRoaXMuX2xlbmd0aCl9fSx7a2V5OiJzcGxpY2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dCE9PWUmJih0aGlzLnJlbW92ZShlKSx0aGlzLl9pbnNlcnQodCxlKSl9fSx7a2V5OiJfaW5zZXJ0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQubmV4dDt0Lm5leHQ9ZSx0aGlzLnRhaWw9PT10P3RoaXMudGFpbD1lOm4ucHJldmlvdXM9ZSxlLm5leHQ9bixlLnByZXZpb3VzPXQsKyt0aGlzLl9sZW5ndGh9fSx7a2V5OiJsZW5ndGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9fV0pLHR9KCk7ZnVuY3Rpb24gT2UodCl7cmV0dXJuIG51bGwhPXR9dmFyIHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuX2xpc3Q9bmV3IF9lLHRoaXMuX3NlbnRpbmVsPXRoaXMuX2xpc3QuYWRkKCJzZW50aW5lbCIpLHRoaXMuX3RyaW1UaWxlcz0hMX1yZXR1cm4gT2JqZWN0KEJ0LmEpKHQsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3Quc3BsaWNlKHRoaXMuX2xpc3QudGFpbCx0aGlzLl9zZW50aW5lbCl9fSx7a2V5OiJ0b3VjaCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5fY2FjaGVOb2RlO09lKGUpJiZ0aGlzLl9saXN0LnNwbGljZSh0aGlzLl9zZW50aW5lbCxlKX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe09lKGUuX2NhY2hlTm9kZSl8fChlLl9jYWNoZU5vZGU9dGhpcy5fbGlzdC5hZGQoZSksbiYmbih0LGUpKX19LHtrZXk6InVubG9hZFRpbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLl9jYWNoZU5vZGU7T2UocikmJih0aGlzLl9saXN0LnJlbW92ZShyKSxlLl9jYWNoZU5vZGU9dm9pZCAwLG4mJm4odCxlKSl9fSx7a2V5OiJ1bmxvYWRUaWxlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl90cmltVGlsZXM7dGhpcy5fdHJpbVRpbGVzPSExO2Zvcih2YXIgcj10aGlzLl9saXN0LGk9MTAyNCp0Lm1heGltdW1NZW1vcnlVc2FnZSoxMDI0LGE9dGhpcy5fc2VudGluZWwsbz1yLmhlYWQ7byE9PWEmJih0LmdwdU1lbW9yeVVzYWdlSW5CeXRlcz5pfHxuKTspe3ZhciBzPW8uaXRlbTtvPW8ubmV4dCx0aGlzLnVubG9hZFRpbGUodCxzLGUpfX19LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpbVRpbGVzPSEwfX1dKSx0fSgpO3ZhciB3ZT1PYmplY3QuZnJlZXplKHtPVVRTSURFOi0xLElOVEVSU0VDVElORzowLElOU0lERToxfSksa2U9bigzNyksU2U9bigzMyksUGU9big2MiksamU9big1NSksVGU9big2MyksRWU9bigxMjMpO2Z1bmN0aW9uIEFlKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gTWUodCxlLG4pe3JldHVybihNZT1BZSgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsZSk7dmFyIGk9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIG4mJk9iamVjdChFZS5hKShpLG4ucHJvdG90eXBlKSxpfSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIENlKHQpe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuKENlPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwobj10LC0xPT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChuKS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIikpKXJldHVybiB0O3ZhciBuO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7aWYodm9pZCAwIT09ZSl7aWYoZS5oYXModCkpcmV0dXJuIGUuZ2V0KHQpO2Uuc2V0KHQscil9ZnVuY3Rpb24gcigpe3JldHVybiBNZSh0LGFyZ3VtZW50cyxPYmplY3QoamUuYSkodGhpcykuY29uc3RydWN0b3IpfXJldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QoRWUuYSkocix0KX0pKHQpfW4oMTM5KTtmdW5jdGlvbiBMZSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigibWF0aC5nbCBhc3NlcnRpb24gIi5jb25jYXQoZSkpfU1hdGguUEksTWF0aC5QSTt2YXIgSWU9e307ZnVuY3Rpb24gUmUodCl7cmV0dXJuIE1hdGgucm91bmQodC9JZS5FUFNJTE9OKSpJZS5FUFNJTE9OfWZ1bmN0aW9uIE5lKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUucHJlY2lzaW9uLHI9dm9pZCAwPT09bj9JZS5wcmVjaXNpb258fDQ6bjtyZXR1cm4gdD1SZSh0KSwiIi5jb25jYXQocGFyc2VGbG9hdCh0LnRvUHJlY2lzaW9uKHIpKSl9ZnVuY3Rpb24gRGUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSYmdm9pZCAwIT09dC5sZW5ndGh9ZnVuY3Rpb24gRmUodCxlLG4pe3ZhciByPUllLkVQU0lMT047biYmKEllLkVQU0lMT049bik7dHJ5e2lmKHQ9PT1lKXJldHVybiEwO2lmKERlKHQpJiZEZShlKSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSlpZighRmUodFtpXSxlW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gdCYmdC5lcXVhbHM/dC5lcXVhbHMoZSk6ZSYmZS5lcXVhbHM/ZS5lcXVhbHModCk6ISghTnVtYmVyLmlzRmluaXRlKHQpfHwhTnVtYmVyLmlzRmluaXRlKGUpKSYmTWF0aC5hYnModC1lKTw9SWUuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHQpLE1hdGguYWJzKGUpKX1maW5hbGx5e0llLkVQU0lMT049cn19SWUuRVBTSUxPTj0xZS0xMixJZS5kZWJ1Zz0hMSxJZS5wcmVjaXNpb249NCxJZS5wcmludFR5cGVzPSExLEllLnByaW50RGVncmVlcz0hMSxJZS5wcmludFJvd01ham9yPSEwO3ZhciB6ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLE9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoVGUuYSkoZSx0KSxPYmplY3QoU2UuYSkoZSxbe2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX0se2tleToiZnJvbSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dGhpcy5jb3B5KHQpOnRoaXMuZnJvbU9iamVjdCh0KX19LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09dFtuK2VdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0byIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzP3RoaXM6RGUodCk/dGhpcy50b0FycmF5KHQpOnRoaXMudG9PYmplY3QodCl9fSx7a2V5OiJ0b1RhcmdldCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy50byh0KTp0aGlzfX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdFtlK25dPXRoaXNbbl07cmV0dXJuIHR9fSx7a2V5OiJ0b0Zsb2F0MzJBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdFN0cmluZyhJZSl9fSx7a2V5OiJmb3JtYXRTdHJpbmciLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0iIixuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillKz0obj4wPyIsICI6IiIpK05lKHRoaXNbbl0sdCk7cmV0dXJuIiIuY29uY2F0KHQucHJpbnRUeXBlcz90aGlzLmNvbnN0cnVjdG9yLm5hbWU6IiIsIlsiKS5jb25jYXQoZSwiXSIpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8dGhpcy5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKWlmKCFGZSh0aGlzW2VdLHRbZV0pKXJldHVybiExO3JldHVybiEwfX0se2tleToiZXhhY3RFcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0fHx0aGlzLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpaWYodGhpc1tlXSE9PXRbZV0pcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OiJuZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLkVMRU1FTlRTOysrdCl0aGlzW3RdPS10aGlzW3RdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZXJwIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ZSxlPXQsdD10aGlzKTtmb3IodmFyIHI9MDtyPHRoaXMuRUxFTUVOVFM7KytyKXt2YXIgaT10W3JdO3RoaXNbcl09aStuKihlW3JdLWkpfXJldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtaW4iLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpdGhpc1tlXT1NYXRoLm1pbih0W2VdLHRoaXNbZV0pO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtYXgiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5FTEVNRU5UUzsrK2UpdGhpc1tlXT1NYXRoLm1heCh0W2VdLHRoaXNbZV0pO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09TWF0aC5taW4oTWF0aC5tYXgodGhpc1tuXSx0W25dKSxlW25dKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dKz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWJ0cmFjdCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXS09YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXMubXVsdGlwbHkodCk7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdKj10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1YnRyYWN0KHQpfX0se2tleToic2V0U2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV09dDtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiYWRkU2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV0rPXQ7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6InN1YlNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWRkU2NhbGFyKC10KX19LHtrZXk6Im11bHRpcGx5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuRUxFTUVOVFM7KytlKXRoaXNbZV0qPXQ7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImRpdmlkZVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGUoMS90KX19LHtrZXk6ImNsYW1wU2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdGhpc1tuXT1NYXRoLm1pbihNYXRoLm1heCh0aGlzW25dLHQpLGUpO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUJ5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2FsZSh0KX19LHtrZXk6ImNoZWNrIix2YWx1ZTpmdW5jdGlvbigpe2lmKEllLmRlYnVnJiYhdGhpcy52YWxpZGF0ZSh0aGlzKSl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2w6ICIuY29uY2F0KHRoaXMuY29uc3RydWN0b3IubmFtZSwiIHNvbWUgZmllbGRzIHNldCB0byBpbnZhbGlkIG51bWJlcnMnIikpO3JldHVybiB0aGlzfX0se2tleToidmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoPT09dGhpcy5FTEVNRU5UUyxlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0PXQmJk51bWJlci5pc0Zpbml0ZSh0aGlzW2VdKTtyZXR1cm4gdH19LHtrZXk6ImVsZW1lbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319XSksZX0oQ2UoQXJyYXkpKTtmdW5jdGlvbiBCZSh0KXtpZighTnVtYmVyLmlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBudW1iZXIgIi5jb25jYXQodCkpO3JldHVybiB0fWZ1bmN0aW9uIFVlKHQsZSxuKXtpZihJZS5kZWJ1ZyYmIWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWlmKCFOdW1iZXIuaXNGaW5pdGUodFtuXSkpcmV0dXJuITE7cmV0dXJuITB9KHQsZSkpdGhyb3cgbmV3IEVycm9yKCJtYXRoLmdsOiAiLmNvbmNhdCgiInxuLCIgc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycyciKSk7cmV0dXJuIHR9dmFyIFZlPXt9O2Z1bmN0aW9uIEdlKHQsZSl7VmVbdF18fChWZVt0XT0hMCxjb25zb2xlLndhcm4oIiIuY29uY2F0KHQsIiBoYXMgYmVlbiByZW1vdmVkIGluIHZlcnNpb24gIikuY29uY2F0KGUsIiwgc2VlIHVwZ3JhZGUgZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb24iKSkpfXZhciBXZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLE9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoVGUuYSkoZSx0KSxPYmplY3QoU2UuYSkoZSxbe2tleToibGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfX0se2tleToibWFnbml0dWRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbigpfX0se2tleToibGVuZ3RoU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0Kz10aGlzW2VdKnRoaXNbZV07cmV0dXJuIHR9fSx7a2V5OiJtYWduaXR1ZGVTcXVhcmVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKX19LHtrZXk6ImRpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkKHQpKX19LHtrZXk6ImRpc3RhbmNlU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pe3ZhciByPXRoaXNbbl0tdFtuXTtlKz1yKnJ9cmV0dXJuIEJlKGUpfX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillKz10aGlzW25dKnRbbl07cmV0dXJuIEJlKGUpfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWFnbml0dWRlKCk7aWYoMCE9PXQpZm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdLz10O3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXSo9YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiZGl2aWRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dLz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGhTcXVhcmVkKCl9fSx7a2V5OiJkaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZSh0KX19LHtrZXk6ImRpc3RhbmNlVG9TcXVhcmVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxdWFyZWQodCl9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBMZSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLEJlKHRoaXNbdF0pfX0se2tleToic2V0Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBMZSh0Pj0wJiZ0PHRoaXMuRUxFTUVOVFMsImluZGV4IGlzIG91dCBvZiByYW5nZSIpLHRoaXNbdF09ZSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJhZGRWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkuYWRkKGUpfX0se2tleToic3ViVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb3B5KHQpLnN1YnRyYWN0KGUpfX0se2tleToibXVsdGlwbHlWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHkodCkubXVsdGlwbHkoZSl9fSx7a2V5OiJhZGRTY2FsZWRWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQpLm11bHRpcGx5U2NhbGFyKGUpKX19LHtrZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09QmUodCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxXX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzFdPUJlKHQpfX1dKSxlfSh6ZSksSGU9big2MSk7ZnVuY3Rpb24gcWUodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPW5bM10qcituWzddKmkrblsxMV0qYXx8MTtyZXR1cm4gdFswXT0oblswXSpyK25bNF0qaStuWzhdKmEpL28sdFsxXT0oblsxXSpyK25bNV0qaStuWzldKmEpL28sdFsyXT0oblsyXSpyK25bNl0qaStuWzEwXSphKS9vLHR9dmFyIFhlPVswLDAsMF0sWmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowO3JldHVybiBPYmplY3Qoa2UuYSkodGhpcyxlKSx0PU9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5jYWxsKHRoaXMsLTAsLTAsLTApKSwxPT09YXJndW1lbnRzLmxlbmd0aCYmRGUobik/dC5jb3B5KG4pOihJZS5kZWJ1ZyYmKEJlKG4pLEJlKHIpLEJlKGkpKSx0WzBdPW4sdFsxXT1yLHRbMl09aSksdH1yZXR1cm4gT2JqZWN0KFRlLmEpKGUsdCksT2JqZWN0KFNlLmEpKGUsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzWzBdPXQsdGhpc1sxXT1lLHRoaXNbMl09bix0aGlzLmNoZWNrKCl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT10WzBdLHRoaXNbMV09dFsxXSx0aGlzWzJdPXRbMl0sdGhpcy5jaGVjaygpfX0se2tleToiZnJvbU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEllLmRlYnVnJiYoQmUodC54KSxCZSh0LnkpLEJlKHQueikpLHRoaXNbMF09dC54LHRoaXNbMV09dC55LHRoaXNbMl09dC56LHRoaXMuY2hlY2soKX19LHtrZXk6InRvT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PXRoaXNbMF0sdC55PXRoaXNbMV0sdC56PXRoaXNbMl0sdH19LHtrZXk6ImFuZ2xlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSGUuYSh0aGlzLHQpfX0se2tleToiY3Jvc3MiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBIZS5iKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVYIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/WGU6bjtyZXR1cm4gSGUuZCh0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVZIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/WGU6bjtyZXR1cm4gSGUuZSh0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVaIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnJhZGlhbnMsbj10Lm9yaWdpbixyPXZvaWQgMD09PW4/WGU6bjtyZXR1cm4gSGUuZih0aGlzLHRoaXMscixlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSGUuaCh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQXNWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBxZSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gSGUuZyh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtQnlNYXRyaXgyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxhO3JldHVybiBlPXRoaXMscj10LGk9KG49dGhpcylbMF0sYT1uWzFdLGVbMF09clswXSppK3JbMl0qYSxlWzFdPXJbMV0qaStyWzNdKmEsZVsyXT1uWzJdLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybUJ5UXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEhlLmkodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMl09QmUodCl9fV0pLGV9KFdlKSxZZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLE9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoVGUuYSkoZSx0KSxPYmplY3QoU2UuYSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IlsiO2lmKEllLnByaW50Um93TWFqb3Ipe3QrPSJyb3ctbWFqb3I6Ijtmb3IodmFyIGU9MDtlPHRoaXMuUkFOSzsrK2UpZm9yKHZhciBuPTA7bjx0aGlzLlJBTks7KytuKXQrPSIgIi5jb25jYXQodGhpc1tuKnRoaXMuUkFOSytlXSl9ZWxzZXt0Kz0iY29sdW1uLW1ham9yOiI7Zm9yKHZhciByPTA7cjx0aGlzLkVMRU1FTlRTOysrcil0Kz0iICIuY29uY2F0KHRoaXNbcl0pfXJldHVybiB0Kz0iXSJ9fSx7a2V5OiJnZXRFbGVtZW50SW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUqdGhpcy5SQU5LK3R9fSx7a2V5OiJnZXRFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzW2UqdGhpcy5SQU5LK3RdfX0se2tleToic2V0RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzW2UqdGhpcy5SQU5LK3RdPUJlKG4pLHRoaXN9fSx7a2V5OiJnZXRDb2x1bW4iLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IEFycmF5KHRoaXMuUkFOSykuZmlsbCgtMCksbj10KnRoaXMuUkFOSyxyPTA7cjx0aGlzLlJBTks7KytyKWVbcl09dGhpc1tuK3JdO3JldHVybiBlfX0se2tleToic2V0Q29sdW1uIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10KnRoaXMuUkFOSyxyPTA7cjx0aGlzLlJBTks7KytyKXRoaXNbbityXT1lW3JdO3JldHVybiB0aGlzfX1dKSxlfSh6ZSk7bigxNik7ZnVuY3Rpb24gS2UodCxlLG4pe3ZhciByPWVbMF0saT1lWzFdLGE9ZVsyXSxvPWVbM10scz1lWzRdLHU9ZVs1XSxjPWVbNl0sbD1lWzddLGg9ZVs4XSxmPW5bMF0sZD1uWzFdLHY9blsyXSxwPW5bM10sZz1uWzRdLHk9bls1XSxtPW5bNl0sYj1uWzddLF89bls4XTtyZXR1cm4gdFswXT1mKnIrZCpvK3YqYyx0WzFdPWYqaStkKnMrdipsLHRbMl09ZiphK2QqdSt2KmgsdFszXT1wKnIrZypvK3kqYyx0WzRdPXAqaStnKnMreSpsLHRbNV09cCphK2cqdSt5KmgsdFs2XT1tKnIrYipvK18qYyx0WzddPW0qaStiKnMrXypsLHRbOF09bSphK2IqdStfKmgsdH1mdW5jdGlvbiBRZSh0LGUsbil7dmFyIHI9blswXSxpPW5bMV07cmV0dXJuIHRbMF09ciplWzBdLHRbMV09ciplWzFdLHRbMl09ciplWzJdLHRbM109aSplWzNdLHRbNF09aSplWzRdLHRbNV09aSplWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFs4XT1lWzhdLHR9dmFyIEplPW4oNjApLCRlPU9iamVjdC5mcmVlemUoWzEsMCwwLDAsMSwwLDAsMCwxXSksdG49T2JqZWN0LmZyZWV6ZShbMCwwLDAsMCwwLDAsMCwwLDBdKSxlbj1PYmplY3QuZnJlZXplKHtDT0wwUk9XMDowLENPTDBST1cxOjEsQ09MMFJPVzI6MixDT0wxUk9XMDozLENPTDFST1cxOjQsQ09MMVJPVzI6NSxDT0wyUk9XMDo2LENPTDJST1cxOjcsQ09MMlJPVzI6OH0pLG5uPXt9LHJuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIE9iamVjdChrZS5hKSh0aGlzLGUpLG49T2JqZWN0KFBlLmEpKHRoaXMsT2JqZWN0KGplLmEpKGUpLmNhbGwodGhpcywtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KHQpP24uY29weSh0KTpuLmlkZW50aXR5KCksbn1yZXR1cm4gT2JqZWN0KFRlLmEpKGUsdCksT2JqZWN0KFNlLmEpKGUsW3trZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gOX19LHtrZXk6IlJBTksiLGdldDpmdW5jdGlvbigpe3JldHVybiAzfX0se2tleToiSU5ESUNFUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVufX1dLFt7a2V5OiJJREVOVElUWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5uLklERU5USVRZPW5uLklERU5USVRZfHxPYmplY3QuZnJlZXplKG5ldyBlKCRlKSksbm4uSURFTlRJVFl9fSx7a2V5OiJaRVJPIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbm4uWkVSTz1ubi5aRVJPfHxPYmplY3QuZnJlZXplKG5ldyBlKHRuKSksbm4uWkVST319XSksT2JqZWN0KFNlLmEpKGUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzWzNdPXRbM10sdGhpc1s0XT10WzRdLHRoaXNbNV09dFs1XSx0aGlzWzZdPXRbNl0sdGhpc1s3XT10WzddLHRoaXNbOF09dFs4XSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09ZSx0aGlzWzJdPW4sdGhpc1szXT1yLHRoaXNbNF09aSx0aGlzWzVdPWEsdGhpc1s2XT1vLHRoaXNbN109cyx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToic2V0Um93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1KXtyZXR1cm4gdGhpc1swXT10LHRoaXNbMV09cix0aGlzWzJdPW8sdGhpc1szXT1lLHRoaXNbNF09aSx0aGlzWzVdPXMsdGhpc1s2XT1uLHRoaXNbN109YSx0aGlzWzhdPXUsdGhpcy5jaGVjaygpfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9KHQ9dGhpcylbMF0sbj10WzFdLHI9dFsyXSxpPXRbM10sYT10WzRdLG89dFs1XSxzPXRbNl0sdT10WzddLGM9dFs4XSxlKihjKmEtbyp1KStuKigtYyppK28qcykrcioodSppLWEqcyk7dmFyIHQsZSxuLHIsaSxhLG8scyx1LGN9fSx7a2V5OiJpZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5KCRlKX19LHtrZXk6ImZyb21RdWF0ZXJuaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1lWzNdLG89bituLHM9cityLHU9aStpLGM9bipvLGw9cipvLGg9cipzLGY9aSpvLGQ9aSpzLHY9aSp1LHA9YSpvLGc9YSpzLHk9YSp1O3RbMF09MS1oLXYsdFszXT1sLXksdFs2XT1mK2csdFsxXT1sK3ksdFs0XT0xLWMtdix0WzddPWQtcCx0WzJdPWYtZyx0WzVdPWQrcCx0WzhdPTEtYy1ofSh0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZih0PT09ZSl7dmFyIG49ZVsxXSxyPWVbMl0saT1lWzVdO3RbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1uLHRbNV09ZVs3XSx0WzZdPXIsdFs3XT1pfWVsc2UgdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF19KHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gdD10aGlzLG49KGU9dGhpcylbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1lWzRdLHM9ZVs1XSx1PWVbNl0sYz1lWzddLGw9ZVs4XSwodj1uKihoPWwqby1zKmMpK3IqKGY9LWwqYStzKnUpK2kqKGQ9YyphLW8qdSkpJiYodj0xL3YsdFswXT1oKnYsdFsxXT0oLWwqcitpKmMpKnYsdFsyXT0ocypyLWkqbykqdix0WzNdPWYqdix0WzRdPShsKm4taSp1KSp2LHRbNV09KC1zKm4raSphKSp2LHRbNl09ZCp2LHRbN109KC1jKm4rcip1KSp2LHRbOF09KG8qbi1yKmEpKnYpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5TGVmdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEtlKHRoaXMsdCx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseVJpZ2h0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gS2UodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gZT10aGlzLHI9dCxpPShuPXRoaXMpWzBdLGE9blsxXSxvPW5bMl0scz1uWzNdLHU9bls0XSxjPW5bNV0sbD1uWzZdLGg9bls3XSxmPW5bOF0sZD1NYXRoLnNpbihyKSx2PU1hdGguY29zKHIpLGVbMF09dippK2QqcyxlWzFdPXYqYStkKnUsZVsyXT12Km8rZCpjLGVbM109dipzLWQqaSxlWzRdPXYqdS1kKmEsZVs1XT12KmMtZCpvLGVbNl09bCxlWzddPWgsZVs4XT1mLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9RZSh0aGlzLHRoaXMsdCk6UWUodGhpcyx0aGlzLFt0LHQsdF0pLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gZT10aGlzLHI9dCxpPShuPXRoaXMpWzBdLGE9blsxXSxvPW5bMl0scz1uWzNdLHU9bls0XSxjPW5bNV0sbD1uWzZdLGg9bls3XSxmPW5bOF0sZD1yWzBdLHY9clsxXSxlWzBdPWksZVsxXT1hLGVbMl09byxlWzNdPXMsZVs0XT11LGVbNV09YyxlWzZdPWQqaSt2KnMrbCxlWzddPWQqYSt2KnUraCxlWzhdPWQqbyt2KmMrZix0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDI6ZT1KZS5nKGV8fFstMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDM6ZT1IZS5nKGV8fFstMCwtMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDQ6bj1lfHxbLTAsLTAsLTAsLTBdLGk9dGhpcyxhPShyPXQpWzBdLG89clsxXSxzPXJbMl0sblswXT1pWzBdKmEraVszXSpvK2lbNl0qcyxuWzFdPWlbMV0qYStpWzRdKm8raVs3XSpzLG5bMl09aVsyXSphK2lbNV0qbytpWzhdKnMsblszXT1yWzNdLGU9bjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB2ZWN0b3IiKX12YXIgbixyLGksYSxvLHM7cmV0dXJuIFVlKGUsdC5sZW5ndGgpLGV9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdlKCJNYXRyaXgzLnRyYW5zZm9ybVZlY3RvciIpLHRoaXMudHJhbnNmb3JtKHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBHZSgiTWF0cml4My50cmFuc2Zvcm1WZWN0b3IiKSx0aGlzLnRyYW5zZm9ybSh0LGUpfX0se2tleToidHJhbnNmb3JtVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gR2UoIk1hdHJpeDMudHJhbnNmb3JtVmVjdG9yIiksdGhpcy50cmFuc2Zvcm0odCxlKX19XSksZX0oWWUpLGFuPW4oNTEpLG9uPW4oMzApLHNuPW4oMTQxKSx1bj1PYmplY3QuZnJlZXplKFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSksY249T2JqZWN0LmZyZWV6ZShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0pLGxuPU9iamVjdC5mcmVlemUoe0NPTDBST1cwOjAsQ09MMFJPVzE6MSxDT0wwUk9XMjoyLENPTDBST1czOjMsQ09MMVJPVzA6NCxDT0wxUk9XMTo1LENPTDFST1cyOjYsQ09MMVJPVzM6NyxDT0wyUk9XMDo4LENPTDJST1cxOjksQ09MMlJPVzI6MTAsQ09MMlJPVzM6MTEsQ09MM1JPVzA6MTIsQ09MM1JPVzE6MTMsQ09MM1JPVzI6MTQsQ09MM1JPVzM6MTV9KSxobj17fSxmbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiBPYmplY3Qoa2UuYSkodGhpcyxlKSxuPU9iamVjdChQZS5hKSh0aGlzLE9iamVjdChqZS5hKShlKS5jYWxsKHRoaXMsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTApKSwxPT09YXJndW1lbnRzLmxlbmd0aCYmQXJyYXkuaXNBcnJheSh0KT9uLmNvcHkodCk6bi5pZGVudGl0eSgpLG59cmV0dXJuIE9iamVjdChUZS5hKShlLHQpLE9iamVjdChTZS5hKShlLFt7a2V5OiJJTkRJQ0VTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbG59fSx7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE2fX0se2tleToiUkFOSyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDR9fV0sW3trZXk6IklERU5USVRZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG4uSURFTlRJVFk9aG4uSURFTlRJVFl8fE9iamVjdC5mcmVlemUobmV3IGUodW4pKSxobi5JREVOVElUWX19LHtrZXk6IlpFUk8iLGdldDpmdW5jdGlvbigpe3JldHVybiBobi5aRVJPPWhuLlpFUk98fE9iamVjdC5mcmVlemUobmV3IGUoY24pKSxobi5aRVJPfX1dKSxPYmplY3QoU2UuYSkoZSxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbMF09dFswXSx0aGlzWzFdPXRbMV0sdGhpc1syXT10WzJdLHRoaXNbM109dFszXSx0aGlzWzRdPXRbNF0sdGhpc1s1XT10WzVdLHRoaXNbNl09dFs2XSx0aGlzWzddPXRbN10sdGhpc1s4XT10WzhdLHRoaXNbOV09dFs5XSx0aGlzWzEwXT10WzEwXSx0aGlzWzExXT10WzExXSx0aGlzWzEyXT10WzEyXSx0aGlzWzEzXT10WzEzXSx0aGlzWzE0XT10WzE0XSx0aGlzWzE1XT10WzE1XSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1LGMsbCxoLGYsZCx2LHApe3JldHVybiB0aGlzWzBdPXQsdGhpc1sxXT1lLHRoaXNbMl09bix0aGlzWzNdPXIsdGhpc1s0XT1pLHRoaXNbNV09YSx0aGlzWzZdPW8sdGhpc1s3XT1zLHRoaXNbOF09dSx0aGlzWzldPWMsdGhpc1sxMF09bCx0aGlzWzExXT1oLHRoaXNbMTJdPWYsdGhpc1sxM109ZCx0aGlzWzE0XT12LHRoaXNbMTVdPXAsdGhpcy5jaGVjaygpfX0se2tleToic2V0Um93TWFqb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxhLG8scyx1LGMsbCxoLGYsZCx2LHApe3JldHVybiB0aGlzWzBdPXQsdGhpc1sxXT1pLHRoaXNbMl09dSx0aGlzWzNdPWYsdGhpc1s0XT1lLHRoaXNbNV09YSx0aGlzWzZdPWMsdGhpc1s3XT1kLHRoaXNbOF09bix0aGlzWzldPW8sdGhpc1sxMF09bCx0aGlzWzExXT12LHRoaXNbMTJdPXIsdGhpc1sxM109cyx0aGlzWzE0XT1oLHRoaXNbMTVdPXAsdGhpcy5jaGVjaygpfX0se2tleToidG9Sb3dNYWpvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09dGhpc1swXSx0WzFdPXRoaXNbNF0sdFsyXT10aGlzWzhdLHRbM109dGhpc1sxMl0sdFs0XT10aGlzWzFdLHRbNV09dGhpc1s1XSx0WzZdPXRoaXNbOV0sdFs3XT10aGlzWzEzXSx0WzhdPXRoaXNbMl0sdFs5XT10aGlzWzZdLHRbMTBdPXRoaXNbMTBdLHRbMTFdPXRoaXNbMTRdLHRbMTJdPXRoaXNbM10sdFsxM109dGhpc1s3XSx0WzE0XT10aGlzWzExXSx0WzE1XT10aGlzWzE1XSx0fX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weSh1bil9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG9uLmModGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJmcnVzdHVtIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LmxlZnQscj10LnJpZ2h0LGk9dC5ib3R0b20sYT10LnRvcCxvPXQubmVhcixzPXQuZmFyO3JldHVybiBzPT09MS8wP2UuX2NvbXB1dGVJbmZpbml0ZVBlcnNwZWN0aXZlT2ZmQ2VudGVyKHRoaXMsbixyLGksYSxvKTpvbi5kKHRoaXMsbixyLGksYSxvLHMpLHRoaXMuY2hlY2soKX19LHtrZXk6Imxvb2tBdCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj10O3Q9ci5leWUsZT1yLmNlbnRlcixuPXIudXB9cmV0dXJuIGU9ZXx8WzAsMCwwXSxuPW58fFswLDEsMF0sb24uZyh0aGlzLHQsZSxuKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJvcnRobyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LG49dC5yaWdodCxyPXQuYm90dG9tLGk9dC50b3AsYT10Lm5lYXIsbz12b2lkIDA9PT1hPy4xOmEscz10LmZhcix1PXZvaWQgMD09PXM/NTAwOnM7cmV0dXJuIG9uLmkodGhpcyxlLG4scixpLG8sdSksdGhpcy5jaGVjaygpfX0se2tleToib3J0aG9ncmFwaGljIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LmZvdnkscj12b2lkIDA9PT1uPzQ1Kk1hdGguUEkvMTgwOm4saT10LmFzcGVjdCxhPXZvaWQgMD09PWk/MTppLG89dC5mb2NhbERpc3RhbmNlLHM9dm9pZCAwPT09bz8xOm8sdT10Lm5lYXIsYz12b2lkIDA9PT11Py4xOnUsbD10LmZhcixoPXZvaWQgMD09PWw/NTAwOmw7aWYocj4yKk1hdGguUEkpdGhyb3cgRXJyb3IoInJhZGlhbnMiKTt2YXIgZj1yLzIsZD1zKk1hdGgudGFuKGYpLHY9ZCphO3JldHVybihuZXcgZSkub3J0aG8oe2xlZnQ6LXYscmlnaHQ6dixib3R0b206LWQsdG9wOmQsbmVhcjpjLGZhcjpofSl9fSx7a2V5OiJwZXJzcGVjdGl2ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmZvdnksbj10LmZvdixyPXZvaWQgMD09PW4/NDUqTWF0aC5QSS8xODA6bixpPXQuYXNwZWN0LGE9dm9pZCAwPT09aT8xOmksbz10Lm5lYXIscz12b2lkIDA9PT1vPy4xOm8sdT10LmZhcixjPXZvaWQgMD09PXU/NTAwOnU7aWYoKGU9ZXx8cik+MipNYXRoLlBJKXRocm93IEVycm9yKCJyYWRpYW5zIik7cmV0dXJuIG9uLmoodGhpcyxlLGEscyxjKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJkZXRlcm1pbmFudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gb24uYSh0aGlzKX19LHtrZXk6ImdldFNjYWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTBdO3JldHVybiB0WzBdPU1hdGguc3FydCh0aGlzWzBdKnRoaXNbMF0rdGhpc1sxXSp0aGlzWzFdK3RoaXNbMl0qdGhpc1syXSksdFsxXT1NYXRoLnNxcnQodGhpc1s0XSp0aGlzWzRdK3RoaXNbNV0qdGhpc1s1XSt0aGlzWzZdKnRoaXNbNl0pLHRbMl09TWF0aC5zcXJ0KHRoaXNbOF0qdGhpc1s4XSt0aGlzWzldKnRoaXNbOV0rdGhpc1sxMF0qdGhpc1sxMF0pLHR9fSx7a2V5OiJnZXRUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06Wy0wLC0wLC0wXTtyZXR1cm4gdFswXT10aGlzWzEyXSx0WzFdPXRoaXNbMTNdLHRbMl09dGhpc1sxNF0sdH19LHtrZXk6ImdldFJvdGF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTBdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLmdldFNjYWxlKGV8fFstMCwtMCwtMF0pLHI9MS9uWzBdLGk9MS9uWzFdLGE9MS9uWzJdO3JldHVybiB0WzBdPXRoaXNbMF0qcix0WzFdPXRoaXNbMV0qaSx0WzJdPXRoaXNbMl0qYSx0WzNdPTAsdFs0XT10aGlzWzRdKnIsdFs1XT10aGlzWzVdKmksdFs2XT10aGlzWzZdKmEsdFs3XT0wLHRbOF09dGhpc1s4XSpyLHRbOV09dGhpc1s5XSppLHRbMTBdPXRoaXNbMTBdKmEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9fSx7a2V5OiJnZXRSb3RhdGlvbk1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlstMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMF0sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxuPXRoaXMuZ2V0U2NhbGUoZXx8Wy0wLC0wLC0wXSkscj0xL25bMF0saT0xL25bMV0sYT0xL25bMl07cmV0dXJuIHRbMF09dGhpc1swXSpyLHRbMV09dGhpc1sxXSppLHRbMl09dGhpc1syXSphLHRbM109dGhpc1s0XSpyLHRbNF09dGhpc1s1XSppLHRbNV09dGhpc1s2XSphLHRbNl09dGhpc1s4XSpyLHRbN109dGhpc1s5XSppLHRbOF09dGhpc1sxMF0qYSx0fX0se2tleToidHJhbnNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBvbi5xKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBvbi5mKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlMZWZ0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gb24uaCh0aGlzLHQsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlSaWdodCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG9uLmgodGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBvbi5sKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVZIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gb24ubSh0aGlzLHRoaXMsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG9uLm4odGhpcyx0aGlzLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVhZWiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KGFuLmEpKHQsMyksbj1lWzBdLHI9ZVsxXSxpPWVbMl07cmV0dXJuIHRoaXMucm90YXRlWChuKS5yb3RhdGVZKHIpLnJvdGF0ZVooaSl9fSx7a2V5OiJyb3RhdGVBeGlzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBvbi5rKHRoaXMsdGhpcyx0LGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9vbi5vKHRoaXMsdGhpcyx0KTpvbi5vKHRoaXMsdGhpcyxbdCx0LHRdKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBvbi5wKHRoaXMsdGhpcyx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDQ9PT10Lmxlbmd0aD8oVWUoZT1zbi5iKGV8fFstMCwtMCwtMCwtMF0sdCx0aGlzKSw0KSxlKTp0aGlzLnRyYW5zZm9ybUFzUG9pbnQodCxlKX19LHtrZXk6InRyYW5zZm9ybUFzUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDI6ZT1KZS5oKGV8fFstMCwtMF0sdCx0aGlzKTticmVhaztjYXNlIDM6ZT1IZS5oKGV8fFstMCwtMCwtMF0sdCx0aGlzKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB2ZWN0b3IiKX1yZXR1cm4gVWUoZSx0Lmxlbmd0aCksZX19LHtrZXk6InRyYW5zZm9ybUFzVmVjdG9yIix2YWx1ZTpmdW5jdGlvbih0LGUpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAyOm49ZXx8Wy0wLC0wXSxpPXRoaXMsYT0ocj10KVswXSxvPXJbMV0scz1pWzNdKmEraVs3XSpvfHwxLG5bMF09KGlbMF0qYStpWzRdKm8pL3MsblsxXT0oaVsxXSphK2lbNV0qbykvcyxlPW47YnJlYWs7Y2FzZSAzOmU9cWUoZXx8Wy0wLC0wLC0wXSx0LHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXZhciBuLHIsaSxhLG8scztyZXR1cm4gVWUoZSx0Lmxlbmd0aCksZX19LHtrZXk6Im1ha2VSb3RhdGlvblgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlkZW50aXR5KCkucm90YXRlWCh0KX19LHtrZXk6Im1ha2VUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmlkZW50aXR5KCkudHJhbnNsYXRlKFt0LGUsbl0pfX0se2tleToidHJhbnNmb3JtUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdlKCJNYXRyaXg0LnRyYW5zZm9ybVBvaW50IiwiMy4wIiksdGhpcy50cmFuc2Zvcm1Bc1BvaW50KHQsZSl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdlKCJNYXRyaXg0LnRyYW5zZm9ybVZlY3RvciIsIjMuMCIpLHRoaXMudHJhbnNmb3JtQXNQb2ludCh0LGUpfX0se2tleToidHJhbnNmb3JtRGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBHZSgiTWF0cml4NC50cmFuc2Zvcm1EaXJlY3Rpb24iLCIzLjAiKSx0aGlzLnRyYW5zZm9ybUFzVmVjdG9yKHQsZSl9fV0sW3trZXk6Il9jb21wdXRlSW5maW5pdGVQZXJzcGVjdGl2ZU9mZkNlbnRlciIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLGEpe3ZhciBvPTIqYS8obi1lKSxzPTIqYS8oaS1yKSx1PShuK2UpLyhuLWUpLGM9KGkrcikvKGktciksbD0tMiphO3JldHVybiB0WzBdPW8sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09cyx0WzZdPTAsdFs3XT0wLHRbOF09dSx0WzldPWMsdFsxMF09LTEsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPWwsdFsxNV09MCx0fX1dKSxlfShZZSksZG49MWUtMTUsdm49MWUtMjAscG49KE1hdGguUEksTWF0aC5QSSxNYXRoLlBJLE1hdGguUEkse3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsfSk7KHBuLmdsb2JhbHx8cG4uc2VsZnx8cG4ud2luZG93KS5tYXRoZ2w9e2NvbmZpZzpJZX07dmFyIGduPW5ldyBaZSx5bj1uZXcgWmUsbW49KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF0scj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbDtPYmplY3Qoa2UuYSkodGhpcyx0KSxyPXJ8fGduLmNvcHkoZSkuYWRkKG4pLnNjYWxlKC41KSx0aGlzLm1pbmltdW09bmV3IFplKGUpLHRoaXMubWF4aW11bT1uZXcgWmUobiksdGhpcy5jZW50ZXI9bmV3IFplKHIpfU9iamVjdChTZS5hKSh0LFt7a2V5OiJmcm9tUG9pbnRzIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiB0aGlzLm1pbmltdW0uc2V0KDAsMCwwKSx0aGlzLm1heGltdW0uc2V0KDAsMCwwKSx0aGlzLmNlbnRlci5zZXQoMCwwLDApLHRoaXM7dmFyIGU9dFswXVswXSxuPXRbMF1bMV0scj10WzBdWzJdLGk9dFswXVswXSxhPXRbMF1bMV0sbz10WzBdWzJdLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlLGQ9ZlswXSx2PWZbMV0scD1mWzJdO2U9TWF0aC5taW4oZCxlKSxpPU1hdGgubWF4KGQsaSksbj1NYXRoLm1pbih2LG4pLGE9TWF0aC5tYXgodixhKSxyPU1hdGgubWluKHAsciksbz1NYXRoLm1heChwLG8pfX1jYXRjaCh0KXt1PSEwLGM9dH1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319cmV0dXJuIHRoaXMubWluaW11bS5zZXQoZSxuLHIpLHRoaXMubWF4aW11bS5zZXQoaSxhLG8pLHRoaXMuY2VudGVyLmNvcHkodGhpcy5taW5pbXVtKS5hZGQodGhpcy5tYXhpbXVtKS5zY2FsZSguNSksdGhpc319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLm1pbmltdW0sdGhpcy5tYXhpbXVtLHRoaXMuY2VudGVyKX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHxCb29sZWFuKHQpJiZ0aGlzLmNlbnRlci5lcXVhbHModC5jZW50ZXIpJiZ0aGlzLm1pbmltdW0uZXF1YWxzKHQubWluaW11bSkmJnRoaXMubWF4aW11bS5lcXVhbHModC5tYXhpbXVtKX19LHtrZXk6ImludGVyc2VjdFBsYW5lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1nbi5jb3B5KHRoaXMubWF4aW11bSkuc3VidHJhY3QodGhpcy5taW5pbXVtKS5zY2FsZSguNSksbj15bi5mcm9tKHQubm9ybWFsKSxyPWUueCpNYXRoLmFicyhuLngpK2UueSpNYXRoLmFicyhuLnkpK2UueipNYXRoLmFicyhuLnopLGk9dGhpcy5jZW50ZXIuZG90KG4pK3QuZGlzdGFuY2U7cmV0dXJuIGktcj4wP3dlLklOU0lERTppK3I8MD93ZS5PVVRTSURFOndlLklOVEVSU0VDVElOR319XSl9KCksbmV3IFplKSxibj1uZXcgWmUsX249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlswLDAsMF0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtPYmplY3Qoa2UuYSkodGhpcyx0KSx0aGlzLnJhZGl1cz0tMCx0aGlzLmNlbnRlcj1uZXcgWmUsdGhpcy5mcm9tQ2VudGVyUmFkaXVzKGUsbil9cmV0dXJuIE9iamVjdChTZS5hKSh0LFt7a2V5OiJmcm9tQ2VudGVyUmFkaXVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNlbnRlci5mcm9tKHQpLHRoaXMucmFkaXVzPWUsdGhpc319LHtrZXk6ImZyb21Db3JuZXJQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9bW4uZnJvbShlKSx0aGlzLmNlbnRlcj0obmV3IFplKS5mcm9tKHQpLmFkZChlKS5zY2FsZSguNSksdGhpcy5yYWRpdXM9dGhpcy5jZW50ZXIuZGlzdGFuY2UoZSksdGhpc319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHxCb29sZWFuKHQpJiZ0aGlzLmNlbnRlci5lcXVhbHModC5jZW50ZXIpJiZ0aGlzLnJhZGl1cz09PXQucmFkaXVzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuY2VudGVyLHRoaXMucmFkaXVzKX19LHtrZXk6InVuaW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNlbnRlcixuPXRoaXMucmFkaXVzLHI9dC5jZW50ZXIsaT10LnJhZGl1cyxhPW1uLmNvcHkocikuc3VidHJhY3QoZSksbz1hLm1hZ25pdHVkZSgpO2lmKG4+PW8raSlyZXR1cm4gdGhpcy5jbG9uZSgpO2lmKGk+PW8rbilyZXR1cm4gdC5jbG9uZSgpO3ZhciBzPS41KihuK28raSk7cmV0dXJuIGJuLmNvcHkoYSkuc2NhbGUoKC1uK3MpL28pLmFkZChlKSx0aGlzLmNlbnRlci5jb3B5KGJuKSx0aGlzLnJhZGl1cz1zLHRoaXN9fSx7a2V5OiJleHBhbmQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSh0PW1uLmZyb20odCkpLnN1YnRyYWN0KHRoaXMuY2VudGVyKS5tYWduaXR1ZGUoKTtyZXR1cm4gZT50aGlzLnJhZGl1cyYmKHRoaXMucmFkaXVzPWUpLHRoaXN9fSx7a2V5OiJpbnRlcnNlY3RQbGFuZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jZW50ZXIsbj10aGlzLnJhZGl1cyxyPXQubm9ybWFsLmRvdChlKSt0LmRpc3RhbmNlO3JldHVybiByPC1uP3dlLk9VVFNJREU6cjxuP3dlLklOVEVSU0VDVElORzp3ZS5JTlNJREV9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY2VudGVyLnRyYW5zZm9ybSh0KTt2YXIgZT1vbi5lKG1uLHQpO3JldHVybiB0aGlzLnJhZGl1cz1NYXRoLm1heChlWzBdLE1hdGgubWF4KGVbMV0sZVsyXSkpKnRoaXMucmFkaXVzLHRoaXN9fSx7a2V5OiJkaXN0YW5jZVNxdWFyZWRUbyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKHQ9bW4uZnJvbSh0KSkuc3VidHJhY3QodGhpcy5jZW50ZXIpLmxlbmd0aFNxdWFyZWQoKS10aGlzLnJhZGl1cyp0aGlzLnJhZGl1c319LHtrZXk6ImRpc3RhbmNlVG8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxdWFyZWRUbyh0KSl9fV0pLHR9KCksT249bmV3IHJuLHhuPW5ldyBybix3bj1uZXcgcm4sa249bmV3IHJuLFNuPW5ldyBybjtmdW5jdGlvbiBQbih0KXtmb3IodmFyIGU9MCxuPTA7bjw5Oysrbil7dmFyIHI9dFtuXTtlKz1yKnJ9cmV0dXJuIE1hdGguc3FydChlKX12YXIgam49WzEsMCwwXSxUbj1bMiwyLDFdO2Z1bmN0aW9uIEVuKHQpe2Zvcih2YXIgZT0wLG49MDtuPDM7KytuKXt2YXIgcj10W09uLmdldEVsZW1lbnRJbmRleChUbltuXSxqbltuXSldO2UrPTIqcipyfXJldHVybiBNYXRoLnNxcnQoZSl9ZnVuY3Rpb24gQW4odCxlKXtmb3IodmFyIG49ZG4scj0wLGk9MSxhPTA7YTwzOysrYSl7dmFyIG89TWF0aC5hYnModFtPbi5nZXRFbGVtZW50SW5kZXgoVG5bYV0sam5bYV0pXSk7bz5yJiYoaT1hLHI9byl9dmFyIHM9am5baV0sdT1UbltpXSxjPTEsbD0wO2lmKE1hdGguYWJzKHRbT24uZ2V0RWxlbWVudEluZGV4KHUscyldKT5uKXt2YXIgaCxmPSh0W09uLmdldEVsZW1lbnRJbmRleCh1LHUpXS10W09uLmdldEVsZW1lbnRJbmRleChzLHMpXSkvMi90W09uLmdldEVsZW1lbnRJbmRleCh1LHMpXTtsPShoPWY8MD8tMS8oLWYrTWF0aC5zcXJ0KDErZipmKSk6MS8oZitNYXRoLnNxcnQoMStmKmYpKSkqKGM9MS9NYXRoLnNxcnQoMStoKmgpKX1yZXR1cm4gcm4uSURFTlRJVFkudG8oZSksZVtPbi5nZXRFbGVtZW50SW5kZXgocyxzKV09ZVtPbi5nZXRFbGVtZW50SW5kZXgodSx1KV09YyxlW09uLmdldEVsZW1lbnRJbmRleCh1LHMpXT1sLGVbT24uZ2V0RWxlbWVudEluZGV4KHMsdSldPS1sLGV9dmFyIE1uPW5ldyBaZSxDbj1uZXcgWmUsTG49bmV3IFplLEluPW5ldyBaZSxSbj1uZXcgWmUsTm49bmV3IHJuLERuPXtkaWFnb25hbDpuZXcgcm4sdW5pdGFyeTpuZXcgcm59O2Z1bmN0aW9uIEZuKHQsZSl7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm4gZS5oYWxmQXhlcz1uZXcgcm4oWzAsMCwwLDAsMCwwLDAsMCwwXSksZS5jZW50ZXI9bmV3IFplLGU7dmFyIG49dC5sZW5ndGgscj1uZXcgWmUoMCwwLDApLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO3IuYWRkKGMpfX1jYXRjaCh0KXthPSEwLG89dH1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319dmFyIGw9MS9uO3IubXVsdGlwbHlCeVNjYWxhcihsKTt2YXIgaD0wLGY9MCxkPTAsdj0wLHA9MCxnPTAseT0hMCxtPSExLGI9dm9pZCAwO3RyeXtmb3IodmFyIF8sTz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHk9KF89Ty5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciB4PV8udmFsdWUsdz1Nbi5jb3B5KHgpLnN1YnRyYWN0KHIpO2grPXcueCp3LngsZis9dy54KncueSxkKz13Lngqdy56LHYrPXcueSp3LnkscCs9dy55KncueixnKz13Lnoqdy56fX1jYXRjaCh0KXttPSEwLGI9dH1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19aCo9bCxmKj1sLGQqPWwsdio9bCxwKj1sLGcqPWw7dmFyIGs9Tm47a1swXT1oLGtbMV09ZixrWzJdPWQsa1szXT1mLGtbNF09dixrWzVdPXAsa1s2XT1kLGtbN109cCxrWzhdPWc7dmFyIFM9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dm4scj0xMCxpPTAsYT0wLG89eG4scz13bjtvLmlkZW50aXR5KCkscy5jb3B5KHQpO2Zvcih2YXIgdT1uKlBuKHMpO2E8ciYmRW4ocyk+dTspQW4ocyxrbiksU24uY29weShrbikudHJhbnNwb3NlKCkscy5tdWx0aXBseVJpZ2h0KGtuKSxzLm11bHRpcGx5TGVmdChTbiksby5tdWx0aXBseVJpZ2h0KGtuKSwrK2k+MiYmKCsrYSxpPTApO3JldHVybiBlLnVuaXRhcnk9by50b1RhcmdldChlLnVuaXRhcnkpLGUuZGlhZ29uYWw9cy50b1RhcmdldChlLmRpYWdvbmFsKSxlfShrLERuKS51bml0YXJ5LFA9ZS5oYWxmQXhlcy5jb3B5KFMpLGo9UC5nZXRDb2x1bW4oMCxMbiksVD1QLmdldENvbHVtbigxLEluKSxFPVAuZ2V0Q29sdW1uKDIsUm4pLEE9LU51bWJlci5NQVhfVkFMVUUsTT0tTnVtYmVyLk1BWF9WQUxVRSxDPS1OdW1iZXIuTUFYX1ZBTFVFLEw9TnVtYmVyLk1BWF9WQUxVRSxJPU51bWJlci5NQVhfVkFMVUUsUj1OdW1iZXIuTUFYX1ZBTFVFLE49ITAsRD0hMSxGPXZvaWQgMDt0cnl7Zm9yKHZhciB6LEI9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShOPSh6PUIubmV4dCgpKS5kb25lKTtOPSEwKXt2YXIgVT16LnZhbHVlO0E9TWF0aC5tYXgoVS5kb3QoaiksQSksTT1NYXRoLm1heChVLmRvdChUKSxNKSxDPU1hdGgubWF4KFUuZG90KEUpLEMpLEw9TWF0aC5taW4oVS5kb3QoaiksTCksST1NYXRoLm1pbihVLmRvdChUKSxJKSxSPU1hdGgubWluKFUuZG90KEUpLFIpfX1jYXRjaCh0KXtEPSEwLEY9dH1maW5hbGx5e3RyeXtOfHxudWxsPT1CLnJldHVybnx8Qi5yZXR1cm4oKX1maW5hbGx5e2lmKEQpdGhyb3cgRn19aj1qLm11bHRpcGx5QnlTY2FsYXIoLjUqKEwrQSkpLFQ9VC5tdWx0aXBseUJ5U2NhbGFyKC41KihJK00pKSxFPUUubXVsdGlwbHlCeVNjYWxhciguNSooUitDKSksZS5jZW50ZXIuY29weShqKS5hZGQoVCkuYWRkKEUpO3ZhciBWPUNuLnNldChBLUwsTS1JLEMtUikubXVsdGlwbHlCeVNjYWxhciguNSk7cmV0dXJuIGUuaGFsZkF4ZXMubXVsdGlwbHlCeVNjYWxhcihWKSxlfXZhciB6bj1uZXcgWmUsQm49bmV3IFplLFVuPW5ldyBaZSxWbj1uZXcgWmUsR249bmV3IFplLFduPW5ldyBaZSxIbj1uZXcgWmUscW49bmV3IFplLFhuPW5ldyBaZSxabj1uZXcgWmUsWW49bmV3IFplLEtuPTAsUW49MSxKbj0yLCRuPTMsdHI9NCxlcj01LG5yPTYscnI9Nyxpcj04LGFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMCwwLDAsMCwwLDAsMF07T2JqZWN0KGtlLmEpKHRoaXMsdCksdGhpcy5jZW50ZXI9KG5ldyBaZSkuZnJvbShlKSx0aGlzLmhhbGZBeGVzPW5ldyBybihuKX1yZXR1cm4gT2JqZWN0KFNlLmEpKHQsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQodGhpcy5jZW50ZXIsdGhpcy5oYWxmQXhlcyl9fSx7a2V5OiJmcm9tUG9pbnRzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IHQ7cmV0dXJuIEZuKGUsbil9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8Qm9vbGVhbih0KSYmdGhpcy5jZW50ZXIuZXF1YWxzKHQuY2VudGVyKSYmdGhpcy5oYWxmQXhlcy5lcXVhbHModC5oYWxmQXhlcyl9fSx7a2V5OiJnZXRCb3VuZGluZ1NwaGVyZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IF9uLGU9dGhpcy5oYWxmQXhlcyxuPWUuZ2V0Q29sdW1uKDAsWG4pLHI9ZS5nZXRDb2x1bW4oMSxabiksaT1lLmdldENvbHVtbigyLFluKSxhPXpuLmNvcHkobikuYWRkKHIpLmFkZChpKTtyZXR1cm4gdC5jZW50ZXIuY29weSh0aGlzLmNlbnRlciksdC5yYWRpdXM9YS5tYWduaXR1ZGUoKSx0fX0se2tleToiaW50ZXJzZWN0UGxhbmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2VudGVyLG49dC5ub3JtYWwscj10aGlzLmhhbGZBeGVzLGk9bi54LGE9bi55LG89bi56LHM9TWF0aC5hYnMoaSpyW0tuXSthKnJbUW5dK28qcltKbl0pK01hdGguYWJzKGkqclskbl0rYSpyW3RyXStvKnJbZXJdKStNYXRoLmFicyhpKnJbbnJdK2Eqcltycl0rbypyW2lyXSksdT1uLmRvdChlKSt0LmRpc3RhbmNlO3JldHVybiB1PD0tcz93ZS5PVVRTSURFOnU+PXM/d2UuSU5TSURFOndlLklOVEVSU0VDVElOR319LHtrZXk6ImRpc3RhbmNlVG8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxdWFyZWRUbyh0KSl9fSx7a2V5OiJkaXN0YW5jZVNxdWFyZWRUbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9Qm4uZnJvbSh0KS5zdWJ0cmFjdCh0aGlzLmNlbnRlciksbj10aGlzLmhhbGZBeGVzLHI9bi5nZXRDb2x1bW4oMCxVbiksaT1uLmdldENvbHVtbigxLFZuKSxhPW4uZ2V0Q29sdW1uKDIsR24pLG89ci5tYWduaXR1ZGUoKSxzPWkubWFnbml0dWRlKCksdT1hLm1hZ25pdHVkZSgpO3Iubm9ybWFsaXplKCksaS5ub3JtYWxpemUoKSxhLm5vcm1hbGl6ZSgpO3ZhciBjPVduO2MueD1lLmRvdChyKSxjLnk9ZS5kb3QoaSksYy56PWUuZG90KGEpO3ZhciBsLGg9MDtyZXR1cm4gYy54PC1vP2grPShsPWMueCtvKSpsOmMueD5vJiYoaCs9KGw9Yy54LW8pKmwpLGMueTwtcz9oKz0obD1jLnkrcykqbDpjLnk+cyYmKGgrPShsPWMueS1zKSpsKSxjLno8LXU/aCs9KGw9Yy56K3UpKmw6Yy56PnUmJihoKz0obD1jLnotdSkqbCksaH19LHtrZXk6ImNvbXB1dGVQbGFuZURpc3RhbmNlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W1tdLFtdXSxyPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxpPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxhPXRoaXMuY2VudGVyLG89dGhpcy5oYWxmQXhlcyxzPW8uZ2V0Q29sdW1uKDAsVW4pLHU9by5nZXRDb2x1bW4oMSxWbiksYz1vLmdldENvbHVtbigyLEduKSxsPUhuLmNvcHkocykuYWRkKHUpLmFkZChjKS5hZGQoYSksaD1xbi5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCk7cmV0dXJuIHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksbC5jb3B5KGEpLmFkZChzKS5hZGQodSkuc3VidHJhY3QoYyksaC5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxsLmNvcHkoYSkuYWRkKHMpLnN1YnRyYWN0KHUpLmFkZChjKSxoLmNvcHkobCkuc3VidHJhY3QodCksZj1lLmRvdChoKSxyPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLGwuY29weShhKS5hZGQocykuc3VidHJhY3QodSkuc3VidHJhY3QoYyksaC5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxhLmNvcHkobCkuc3VidHJhY3QocykuYWRkKHUpLmFkZChjKSxoLmNvcHkobCkuc3VidHJhY3QodCksZj1lLmRvdChoKSxyPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLGEuY29weShsKS5zdWJ0cmFjdChzKS5hZGQodSkuc3VidHJhY3QoYyksaC5jb3B5KGwpLnN1YnRyYWN0KHQpLGY9ZS5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxhLmNvcHkobCkuc3VidHJhY3Qocykuc3VidHJhY3QodSkuYWRkKGMpLGguY29weShsKS5zdWJ0cmFjdCh0KSxmPWUuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksYS5jb3B5KGwpLnN1YnRyYWN0KHMpLnN1YnRyYWN0KHUpLnN1YnRyYWN0KGMpLGguY29weShsKS5zdWJ0cmFjdCh0KSxmPWUuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksbi5zdGFydD1yLG4uc3RvcD1pLG59fSx7a2V5OiJnZXRUcmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0fSgpLG9yPW5ldyBaZSxzcj1uZXcgWmUsdXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlswLDAsMV0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtPYmplY3Qoa2UuYSkodGhpcyx0KSx0aGlzLm5vcm1hbD1uZXcgWmUsdGhpcy5kaXN0YW5jZT0tMCx0aGlzLmZyb21Ob3JtYWxEaXN0YW5jZShlLG4pfXJldHVybiBPYmplY3QoU2UuYSkodCxbe2tleToiZnJvbU5vcm1hbERpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBMZShOdW1iZXIuaXNGaW5pdGUoZSkpLHRoaXMubm9ybWFsLmZyb20odCkubm9ybWFsaXplKCksdGhpcy5kaXN0YW5jZT1lLHRoaXN9fSx7a2V5OiJmcm9tUG9pbnROb3JtYWwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dD1vci5mcm9tKHQpLHRoaXMubm9ybWFsLmZyb20oZSkubm9ybWFsaXplKCk7dmFyIG49LXRoaXMubm9ybWFsLmRvdCh0KTtyZXR1cm4gdGhpcy5kaXN0YW5jZT1uLHRoaXN9fSx7a2V5OiJmcm9tQ29lZmZpY2llbnRzIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5ub3JtYWwuc2V0KHQsZSxuKSxMZShGZSh0aGlzLm5vcm1hbC5sZW4oKSwxKSksdGhpcy5kaXN0YW5jZT1yLHRoaXN9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMubm9ybWFsLHRoaXMuZGlzdGFuY2UpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRmUodGhpcy5kaXN0YW5jZSx0LmRpc3RhbmNlKSYmRmUodGhpcy5ub3JtYWwsdC5ub3JtYWwpfX0se2tleToiZ2V0UG9pbnREaXN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9ybWFsLmRvdCh0KSt0aGlzLmRpc3RhbmNlfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1zci5jb3B5KHRoaXMubm9ybWFsKS50cmFuc2Zvcm1Bc1ZlY3Rvcih0KS5ub3JtYWxpemUoKSxuPXRoaXMubm9ybWFsLnNjYWxlKC10aGlzLmRpc3RhbmNlKS50cmFuc2Zvcm0odCk7cmV0dXJuIHRoaXMuZnJvbVBvaW50Tm9ybWFsKG4sZSl9fSx7a2V5OiJwcm9qZWN0UG9pbnRPbnRvUGxhbmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO3Q9b3IuZnJvbSh0KTt2YXIgbj10aGlzLmdldFBvaW50RGlzdGFuY2UodCkscj1zci5jb3B5KHRoaXMubm9ybWFsKS5zY2FsZShuKTtyZXR1cm4gdC5zdWJ0cmFjdChyKS50byhlKX19XSksdH0oKSxjcj1bbmV3IFplKFsxLDAsMF0pLG5ldyBaZShbMCwxLDBdKSxuZXcgWmUoWzAsMCwxXSldLGxyPW5ldyBaZSxocj1uZXcgWmUsZnI9KG5ldyB1cihuZXcgWmUoMSwwLDApLDApLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtPYmplY3Qoa2UuYSkodGhpcyx0KSx0aGlzLnBsYW5lcz1lLExlKHRoaXMucGxhbmVzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHVyfSkpKX1yZXR1cm4gT2JqZWN0KFNlLmEpKHQsbnVsbCxbe2tleToiTUFTS19PVVRTSURFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5NX19LHtrZXk6Ik1BU0tfSU5TSURFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6Ik1BU0tfSU5ERVRFUk1JTkFURSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDIxNDc0ODM2NDd9fV0pLE9iamVjdChTZS5hKSh0LFt7a2V5OiJmcm9tQm91bmRpbmdTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGxhbmVzLmxlbmd0aD0yKmNyLmxlbmd0aDt2YXIgZT10LmNlbnRlcixuPXQucmFkaXVzLHI9MCxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PWNyW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWUsbD10aGlzLnBsYW5lc1tyXSxoPXRoaXMucGxhbmVzW3IrMV07bHx8KGw9dGhpcy5wbGFuZXNbcl09bmV3IHVyKSxofHwoaD10aGlzLnBsYW5lc1tyKzFdPW5ldyB1cik7dmFyIGY9bHIuY29weShjKS5zY2FsZSgtbikuYWRkKGUpO2MuZG90KGYpO2wuZnJvbVBvaW50Tm9ybWFsKGYsYyk7dmFyIGQ9bHIuY29weShjKS5zY2FsZShuKS5hZGQoZSksdj1oci5jb3B5KGMpLm5lZ2F0ZSgpO3YuZG90KGQpO2guZnJvbVBvaW50Tm9ybWFsKGQsdikscis9Mn19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fXJldHVybiB0aGlzfX0se2tleToiY29tcHV0ZVZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKHQpe0xlKHQpO3ZhciBlPXdlLklOU0lERSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRoaXMucGxhbmVzW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7c3dpdGNoKHQuaW50ZXJzZWN0UGxhbmUocykpe2Nhc2Ugd2UuT1VUU0lERTpyZXR1cm4gd2UuT1VUU0lERTtjYXNlIHdlLklOVEVSU0VDVElORzplPXdlLklOVEVSU0VDVElOR319fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gZX19LHtrZXk6ImNvbXB1dGVWaXNpYmlsaXR5V2l0aFBsYW5lTWFzayIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtpZihMZShlLCJib3VuZGluZ1ZvbHVtZSBpcyByZXF1aXJlZC4iKSxMZShOdW1iZXIuaXNGaW5pdGUobiksInBhcmVudFBsYW5lTWFzayBpcyByZXF1aXJlZC4iKSxuPT09dC5NQVNLX09VVFNJREV8fG49PT10Lk1BU0tfSU5TSURFKXJldHVybiBuO2Zvcih2YXIgcj10Lk1BU0tfSU5TSURFLGk9dGhpcy5wbGFuZXMsYT0wO2E8dGhpcy5wbGFuZXMubGVuZ3RoOysrYSl7dmFyIG89YTwzMT8xPDxhOjA7aWYoIShhPDMxJiYwPT0obiZvKSkpe3ZhciBzPWlbYV0sdT1lLmludGVyc2VjdFBsYW5lKHMpO2lmKHU9PT13ZS5PVVRTSURFKXJldHVybiB0Lk1BU0tfT1VUU0lERTt1PT09d2UuSU5URVJTRUNUSU5HJiYocnw9byl9fXJldHVybiByfX1dKSx0fSgpKTtmdW5jdGlvbiBkcih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gdnIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHByKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP3ZyKG4sITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RyKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp2cihuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIGdyPW5ldyBaZSx5cj1uZXcgWmUsbXI9bmV3IFplLGJyPW5ldyBaZSxfcj1uZXcgWmUsT3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChrZS5hKSh0aGlzLHQpLGU9cHIoe25lYXI6MSxmYXI6NWU4fSxlKSx0aGlzLmxlZnQ9ZS5sZWZ0LHRoaXMuX2xlZnQ9dm9pZCAwLHRoaXMucmlnaHQ9ZS5yaWdodCx0aGlzLl9yaWdodD12b2lkIDAsdGhpcy50b3A9ZS50b3AsdGhpcy5fdG9wPXZvaWQgMCx0aGlzLmJvdHRvbT1lLmJvdHRvbSx0aGlzLl9ib3R0b209dm9pZCAwLHRoaXMubmVhcj1lLm5lYXIsdGhpcy5fbmVhcj10aGlzLm5lYXIsdGhpcy5mYXI9ZS5mYXIsdGhpcy5fZmFyPXRoaXMuZmFyLHRoaXMuX2N1bGxpbmdWb2x1bWU9bmV3IGZyKFtuZXcgdXIsbmV3IHVyLG5ldyB1cixuZXcgdXIsbmV3IHVyLG5ldyB1cl0pLHRoaXMuX3BlcnNwZWN0aXZlTWF0cml4PW5ldyBmbix0aGlzLl9pbmZpbml0ZVBlcnNwZWN0aXZlPW5ldyBmbn1yZXR1cm4gT2JqZWN0KFNlLmEpKHQsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh7cmlnaHQ6dGhpcy5yaWdodCxsZWZ0OnRoaXMubGVmdCx0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLG5lYXI6dGhpcy5uZWFyLGZhcjp0aGlzLmZhcn0pfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZSBpbnN0YW5jZW9mIHQmJnRoaXMucmlnaHQ9PT1lLnJpZ2h0JiZ0aGlzLmxlZnQ9PT1lLmxlZnQmJnRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubmVhcj09PWUubmVhciYmdGhpcy5mYXI9PT1lLmZhcn19LHtrZXk6ImNvbXB1dGVDdWxsaW5nVm9sdW1lIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7TGUodCwicG9zaXRpb24gaXMgcmVxdWlyZWQuIiksTGUoZSwiZGlyZWN0aW9uIGlzIHJlcXVpcmVkLiIpLExlKG4sInVwIGlzIHJlcXVpcmVkLiIpO3ZhciByPXRoaXMuX2N1bGxpbmdWb2x1bWUucGxhbmVzO249Z3IuY29weShuKS5ub3JtYWxpemUoKTt2YXIgaT15ci5jb3B5KGUpLmNyb3NzKG4pLm5vcm1hbGl6ZSgpLGE9bXIuY29weShlKS5tdWx0aXBseUJ5U2NhbGFyKHRoaXMubmVhcikuYWRkKHQpLG89YnIuY29weShlKS5tdWx0aXBseUJ5U2NhbGFyKHRoaXMuZmFyKS5hZGQodCkscz1fcjtyZXR1cm4gcy5jb3B5KGkpLm11bHRpcGx5QnlTY2FsYXIodGhpcy5sZWZ0KS5hZGQoYSkuc3VidHJhY3QodCkuY3Jvc3MobiksclswXS5mcm9tUG9pbnROb3JtYWwodCxzKSxzLmNvcHkoaSkubXVsdGlwbHlCeVNjYWxhcih0aGlzLnJpZ2h0KS5hZGQoYSkuc3VidHJhY3QodCkuY3Jvc3MobikubmVnYXRlKCksclsxXS5mcm9tUG9pbnROb3JtYWwodCxzKSxzLmNvcHkobikubXVsdGlwbHlCeVNjYWxhcih0aGlzLmJvdHRvbSkuYWRkKGEpLnN1YnRyYWN0KHQpLmNyb3NzKGkpLm5lZ2F0ZSgpLHJbMl0uZnJvbVBvaW50Tm9ybWFsKHQscykscy5jb3B5KG4pLm11bHRpcGx5QnlTY2FsYXIodGhpcy50b3ApLmFkZChhKS5zdWJ0cmFjdCh0KS5jcm9zcyhpKSxyWzNdLmZyb21Qb2ludE5vcm1hbCh0LHMpLHM9KG5ldyBaZSkuY29weShlKSxyWzRdLmZyb21Qb2ludE5vcm1hbChhLHMpLHMubmVnYXRlKCkscls1XS5mcm9tUG9pbnROb3JtYWwobyxzKSx0aGlzLl9jdWxsaW5nVm9sdW1lfX0se2tleToiZ2V0UGl4ZWxEaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt4cih0aGlzKSxMZShOdW1iZXIuaXNGaW5pdGUodCkmJk51bWJlci5pc0Zpbml0ZShlKSksTGUodD4wKSxMZShlPjApLExlKG4+MCksTGUocik7dmFyIGk9MS90aGlzLm5lYXIsYT10aGlzLnRvcCppLG89MipuKmEvZSxzPTIqbiooYT10aGlzLnJpZ2h0KmkpL3Q7cmV0dXJuIHIueD1zLHIueT1vLHJ9fSx7a2V5OiJwcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geHIodGhpcyksdGhpcy5fcGVyc3BlY3RpdmVNYXRyaXh9fSx7a2V5OiJpbmZpbml0ZVByb2plY3Rpb25NYXRyaXgiLGdldDpmdW5jdGlvbigpe3JldHVybiB4cih0aGlzKSx0aGlzLl9pbmZpbml0ZVBlcnNwZWN0aXZlfX1dKSx0fSgpO2Z1bmN0aW9uIHhyKHQpe0xlKE51bWJlci5pc0Zpbml0ZSh0LnJpZ2h0KSYmTnVtYmVyLmlzRmluaXRlKHQubGVmdCkmJk51bWJlci5pc0Zpbml0ZSh0LnRvcCkmJk51bWJlci5pc0Zpbml0ZSh0LmJvdHRvbSkmJk51bWJlci5pc0Zpbml0ZSh0Lm5lYXIpJiZOdW1iZXIuaXNGaW5pdGUodC5mYXIpKTt2YXIgZT10LnRvcCxuPXQuYm90dG9tLHI9dC5yaWdodCxpPXQubGVmdCxhPXQubmVhcixvPXQuZmFyO2U9PT10Ll90b3AmJm49PT10Ll9ib3R0b20mJmk9PT10Ll9sZWZ0JiZyPT09dC5fcmlnaHQmJmE9PT10Ll9uZWFyJiZvPT09dC5fZmFyfHwoTGUodC5uZWFyPjAmJnQubmVhcjx0LmZhciwibmVhciBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIGFuZCBsZXNzIHRoYW4gZmFyLiIpLHQuX2xlZnQ9aSx0Ll9yaWdodD1yLHQuX3RvcD1lLHQuX2JvdHRvbT1uLHQuX25lYXI9YSx0Ll9mYXI9byx0Ll9wZXJzcGVjdGl2ZU1hdHJpeD0obmV3IGZuKS5mcnVzdHVtKHtsZWZ0OmkscmlnaHQ6cixib3R0b206bix0b3A6ZSxuZWFyOmEsZmFyOm99KSx0Ll9pbmZpbml0ZVBlcnNwZWN0aXZlPShuZXcgZm4pLmZydXN0dW0oe2xlZnQ6aSxyaWdodDpyLGJvdHRvbTpuLHRvcDplLG5lYXI6YSxmYXI6MS8wfSkpfWZ1bmN0aW9uIHdyKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBrcih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj93cihuLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtkcih0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6d3IobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KGtlLmEpKHRoaXMsdCksZT1rcih7bmVhcjoxLGZhcjo1ZTgseE9mZnNldDowLHlPZmZzZXQ6MH0sZSksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bT1uZXcgT3IsdGhpcy5mb3Y9ZS5mb3YsdGhpcy5fZm92PXZvaWQgMCx0aGlzLl9mb3Z5PXZvaWQgMCx0aGlzLl9zc2VEZW5vbWluYXRvcj12b2lkIDAsdGhpcy5hc3BlY3RSYXRpbz1lLmFzcGVjdFJhdGlvLHRoaXMuX2FzcGVjdFJhdGlvPXZvaWQgMCx0aGlzLm5lYXI9ZS5uZWFyLHRoaXMuX25lYXI9dGhpcy5uZWFyLHRoaXMuZmFyPWUuZmFyLHRoaXMuX2Zhcj10aGlzLmZhcix0aGlzLnhPZmZzZXQ9ZS54T2Zmc2V0LHRoaXMuX3hPZmZzZXQ9dGhpcy54T2Zmc2V0LHRoaXMueU9mZnNldD1lLnlPZmZzZXQsdGhpcy5feU9mZnNldD10aGlzLnlPZmZzZXR9T2JqZWN0KFNlLmEpKHQsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh7YXNwZWN0UmF0aW86dGhpcy5hc3BlY3RSYXRpbyxmb3Y6dGhpcy5mb3YsbmVhcjp0aGlzLm5lYXIsZmFyOnRoaXMuZmFyfSl9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlIGluc3RhbmNlb2YgdCYmKFNyKHRoaXMpLFNyKGUpLHRoaXMuZm92PT09ZS5mb3YmJnRoaXMuYXNwZWN0UmF0aW89PT1lLmFzcGVjdFJhdGlvJiZ0aGlzLm5lYXI9PT1lLm5lYXImJnRoaXMuZmFyPT09ZS5mYXImJnRoaXMuX29mZkNlbnRlckZydXN0dW0uZXF1YWxzKGUuX29mZkNlbnRlckZydXN0dW0pKX19LHtrZXk6ImNvbXB1dGVDdWxsaW5nVm9sdW1lIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIFNyKHRoaXMpLHRoaXMuX29mZkNlbnRlckZydXN0dW0uY29tcHV0ZUN1bGxpbmdWb2x1bWUodCxlLG4pfX0se2tleToiZ2V0UGl4ZWxEaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5nZXRQaXhlbERpbWVuc2lvbnModCxlLG4scil9fSx7a2V5OiJwcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5wcm9qZWN0aW9uTWF0cml4fX0se2tleToiaW5maW5pdGVQcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5pbmZpbml0ZVByb2plY3Rpb25NYXRyaXh9fSx7a2V5OiJmb3Z5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fZm92eX19LHtrZXk6InNzZURlbm9taW5hdG9yIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3IodGhpcyksdGhpcy5fc3NlRGVub21pbmF0b3J9fV0pfSgpO2Z1bmN0aW9uIFNyKHQpe0xlKE51bWJlci5pc0Zpbml0ZSh0LmZvdikmJk51bWJlci5pc0Zpbml0ZSh0LmFzcGVjdFJhdGlvKSYmTnVtYmVyLmlzRmluaXRlKHQubmVhcikmJk51bWJlci5pc0Zpbml0ZSh0LmZhcikpO3ZhciBlPXQuX29mZkNlbnRlckZydXN0dW07dC5mb3Y9PT10Ll9mb3YmJnQuYXNwZWN0UmF0aW89PT10Ll9hc3BlY3RSYXRpbyYmdC5uZWFyPT09dC5fbmVhciYmdC5mYXI9PT10Ll9mYXImJnQueE9mZnNldD09PXQuX3hPZmZzZXQmJnQueU9mZnNldD09PXQuX3lPZmZzZXR8fChMZSh0LmZvdj49MCYmdC5mb3Y8TWF0aC5QSSksTGUodC5hc3BlY3RSYXRpbz4wKSxMZSh0Lm5lYXI+PTAmJnQubmVhcjx0LmZhciksdC5fYXNwZWN0UmF0aW89dC5hc3BlY3RSYXRpbyx0Ll9mb3Y9dC5mb3YsdC5fZm92eT10LmFzcGVjdFJhdGlvPD0xP3QuZm92OjIqTWF0aC5hdGFuKE1hdGgudGFuKC41KnQuZm92KS90LmFzcGVjdFJhdGlvKSx0Ll9uZWFyPXQubmVhcix0Ll9mYXI9dC5mYXIsdC5fc3NlRGVub21pbmF0b3I9MipNYXRoLnRhbiguNSp0Ll9mb3Z5KSx0Ll94T2Zmc2V0PXQueE9mZnNldCx0Ll95T2Zmc2V0PXQueU9mZnNldCxlLnRvcD10Lm5lYXIqTWF0aC50YW4oLjUqdC5fZm92eSksZS5ib3R0b209LWUudG9wLGUucmlnaHQ9dC5hc3BlY3RSYXRpbyplLnRvcCxlLmxlZnQ9LWUucmlnaHQsZS5uZWFyPXQubmVhcixlLmZhcj10LmZhcixlLnJpZ2h0Kz10LnhPZmZzZXQsZS5sZWZ0Kz10LnhPZmZzZXQsZS50b3ArPXQueU9mZnNldCxlLmJvdHRvbSs9dC55T2Zmc2V0KX1uZXcgWmUsbmV3IFplLG5ldyBaZSxuZXcgWmUsbmV3IFplLG5ldyBaZSxuZXcgWmUsbmV3IFplLG5ldyBaZSxuZXcgWmUsbmV3IFplLG5ldyBaZSxNYXRoLlBJO3ZhciBQcj1uZXcgQXQuYSxqcj1uZXcgQXQuYSxUcj1uZXcgZnIoW25ldyB1cixuZXcgdXIsbmV3IHVyLG5ldyB1cixuZXcgdXIsbmV3IHVyXSk7ZnVuY3Rpb24gRXIodCxlKXt2YXIgbj10LmNhbWVyYURpcmVjdGlvbixyPXQuY2FtZXJhVXAsaT10LmhlaWdodCxhPXQuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdCxvPVt0LmxvbmdpdHVkZSx0LmxhdGl0dWRlLDBdLHM9dmUuV0dTODQuY2FydG9ncmFwaGljVG9DYXJ0ZXNpYW4obyxuZXcgQXQuYSksdT12ZS5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShzKSxjPXQudW5wcm9qZWN0UG9zaXRpb24odC5jYW1lcmFQb3NpdGlvbiksbD12ZS5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihjLG5ldyBBdC5hKSxoPW5ldyBBdC5hKHUudHJhbnNmb3JtQXNWZWN0b3IobmV3IEF0LmEobikuc2NhbGUoYSkpKS5ub3JtYWxpemUoKSxmPW5ldyBBdC5hKHUudHJhbnNmb3JtQXNWZWN0b3IobmV3IEF0LmEocikuc2NhbGUoYSkpKS5ub3JtYWxpemUoKTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEZydXN0dW1QbGFuZXMoKSxyPTA7Zm9yKHZhciBpIGluIG4pe3ZhciBhPW5baV0sbz1hLm5vcm1hbC5kb3QodC5jZW50ZXIpO2pyLmNvcHkoYS5ub3JtYWwpLnNjYWxlKGEuZGlzdGFuY2UtbykuYWRkKHQuY2VudGVyKTt2YXIgcz10LnVucHJvamVjdFBvc2l0aW9uKGpyKSx1PXZlLldHUzg0LmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKHMsbmV3IEF0LmEpO1RyLnBsYW5lc1tyKytdLmZyb21Qb2ludE5vcm1hbCh1LFByLmNvcHkoZSkuc3VidHJhY3QodSkpfX0odCxzKSx7Y2FtZXJhOntwb3NpdGlvbjpsLGRpcmVjdGlvbjpoLHVwOmZ9LHZpZXdwb3J0OnQsaGVpZ2h0OmksY3VsbGluZ1ZvbHVtZTpUcixmcmFtZU51bWJlcjplLHNzZURlbm9taW5hdG9yOjEuMTV9fXZhciBBcj1uZXcgQXQuYTt2YXIgTXI9bigyNSksQ3I9MCxMcj0xLElyPTMsUnI9NCxOcj01LERyPTEsRnI9Mix6cj0iZW1wdHkiLEJyPSJzY2VuZWdyYXBoIixVcj0icG9pbnRjbG91ZCIsVnI9Im1lc2giLEdyPSJJM1MiLFdyPSJUSUxFUzNEIixIcj0iZ2VvbWV0cmljRXJyb3IiLHFyPTE7ZnVuY3Rpb24gWHIodCl7dGhyb3cgbmV3IEVycm9yKCciJyt0KyciIGlzIHJlYWQtb25seScpfXZhciBacj1uKDIwOCksWXI9bigyMSk7ZnVuY3Rpb24gS3IodCl7cmV0dXJuIG51bGwhPXR9bmV3IFpyLmE7dmFyIFFyPW5ldyBBdC5hLEpyPW5ldyBBdC5hLCRyPW5ldyBBdC5hO25ldyBVdC5hO2Z1bmN0aW9uIHRpKHQsZSxuKXtpZihPYmplY3QoZ2UuYSkodCwiM0QgVGlsZTogYm91bmRpbmdWb2x1bWUgbXVzdCBiZSBkZWZpbmVkIiksdC5ib3gpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgQXQuYSh0WzBdLHRbMV0sdFsyXSk7ZS50cmFuc2Zvcm0ocixyKTt2YXIgaT1lLnRyYW5zZm9ybUFzVmVjdG9yKHQuc2xpY2UoMyw2KSksYT1lLnRyYW5zZm9ybUFzVmVjdG9yKHQuc2xpY2UoNiw5KSksbz1lLnRyYW5zZm9ybUFzVmVjdG9yKHQuc2xpY2UoOSwxMikpLHM9bmV3IFpyLmEoW2lbMF0saVsxXSxpWzJdLGFbMF0sYVsxXSxhWzJdLG9bMF0sb1sxXSxvWzJdXSk7aWYoS3IobikpcmV0dXJuIG4uY2VudGVyPXIsbi5oYWxmQXhlcz1zLG47cmV0dXJuIG5ldyBhcihyLHMpfSh0LmJveCxlLG4pO2lmKHQucmVnaW9uKXt2YXIgcj1PYmplY3QoVnQuYSkodC5yZWdpb24sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV0sbD12ZS5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihbT2JqZWN0KFlyLmMpKGkpLE9iamVjdChZci5jKShzKSx1XSxKciksaD12ZS5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihbT2JqZWN0KFlyLmMpKG8pLE9iamVjdChZci5jKShhKSxjXSwkciksZj0obmV3IEF0LmEpLmFkZFZlY3RvcnMobCxoKS5tdWx0aXBseVNjYWxhciguNSksZD0obmV3IEF0LmEpLnN1YlZlY3RvcnMobCxoKS5sZW4oKS8yO3JldHVybiBlaShbZlswXSxmWzFdLGZbMl0sZF0sbmV3IFV0LmEpfWlmKHQuc3BoZXJlKXJldHVybiBlaSh0LnNwaGVyZSxlLG4pO3Rocm93IG5ldyBFcnJvcigiM0QgVGlsZTogYm91bmRpbmdWb2x1bWUgbXVzdCBjb250YWluIGEgc3BoZXJlLCByZWdpb24sIG9yIGJveCIpfWZ1bmN0aW9uIGVpKHQsZSxuKXt2YXIgcj1uZXcgQXQuYSh0WzBdLHRbMV0sdFsyXSk7ZS50cmFuc2Zvcm0ocixyKTt2YXIgaT1lLmdldFNjYWxlKFFyKSxhPU1hdGgubWF4KE1hdGgubWF4KGlbMF0saVsxXSksaVsyXSksbz10WzNdKmE7cmV0dXJuIEtyKG4pPyhuLmNlbnRlcj1yLG4ucmFkaXVzPW8sbik6bmV3IF9uKHIsbyl9bmV3IEF0LmEsbmV3IEF0LmEsbmV3IFV0LmEsbmV3IEF0LmEsbmV3IEF0LmEsbmV3IEF0LmE7ZnVuY3Rpb24gbmkodCxlKXtpZih0LmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yJiZ0Ll9keW5hbWljU2NyZWVuU3BhY2VFcnJvckNvbXB1dGVkRGVuc2l0eSl7dmFyIG49dC5fZHluYW1pY1NjcmVlblNwYWNlRXJyb3JDb21wdXRlZERlbnNpdHkscj10LmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRmFjdG9yO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQqZTtyZXR1cm4gMS1NYXRoLmV4cCgtbipuKX0oZSxuKSpyfXJldHVybiAwfXZhciByaT1NYXRoLlBJLzI7ZnVuY3Rpb24gaWkodCl7dmFyIGU9T2JqZWN0KFZ0LmEpKHQsMyksbj1lWzBdLHI9ZVsxXSxpPWVbMl0sYT1PYmplY3QoWXIuaikobiksbz1PYmplY3QoWXIuaikocikscz0xK2kvNjM3ODEzNyx1PXMqTWF0aC5jb3Mobyk7cmV0dXJuW249dSpNYXRoLmNvcyhhKSxyPXUqTWF0aC5zaW4oYSksaT1zKk1hdGguc2luKG8pXX1mdW5jdGlvbiBhaSh0LGUpe3ZhciBuPU9iamVjdChWdC5hKSh0LDMpLHI9blswXSxpPW5bMV0sYT1uWzJdLG89dm9pZCAwPT09YT8wOmEscz1PYmplY3QoVnQuYSkoZSwzKSx1PXNbMF0sYz1zWzFdLGw9c1syXSxoPWlpKFt1LGMsdm9pZCAwPT09bD8wOmxdKSxmPWlpKFtyLGksb10pLGQ9ZlswXS1oWzBdLHY9ZlsxXS1oWzFdLHA9ZlsyXS1oWzJdO3JldHVybiBkKmQrdip2K3AqcH1mdW5jdGlvbiBvaSh0LGUpe3ZhciBuPWUudmlld3BvcnQscj10LmhlYWRlci5tYnNbMV0saT1bdC5oZWFkZXIubWJzWzBdLHIsdC5oZWFkZXIubWJzWzJdXSxhPXQuaGVhZGVyLm1ic1szXS82Mzc4MTM3LG89YWkobi51bnByb2plY3RQb3NpdGlvbihuLmNhbWVyYVBvc2l0aW9uKSxpKS1hKmE7aWYobzw9MClyZXR1cm4gMTcwMTQxMTc1ZTMwO3ZhciBzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS52aWV3cG9ydCxyPW4ud2lkdGgsaT1uLmhlaWdodCxhPW4ucGl4ZWxQcm9qZWN0aW9uTWF0cml4LG89TWF0aC50YW4oTWF0aC5hdGFuKE1hdGguc3FydCgxLyhhWzBdKmFbMF0pKzEvKGFbNV0qYVs1XSkpKSk7cmV0dXJuIE1hdGguc3FydChpKmkrcipyKS9vfSgwLGUpO3JldHVybiBzKj1hL01hdGguc3FydChvKS9uLnNjYWxlfWZ1bmN0aW9uIHNpKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB1aSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9zaShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6c2koT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIGNpPW5ldyBBdC5hO2Z1bmN0aW9uIGxpKHQpe3JldHVybiB0LmlzVmlzaWJsZT90LmNvbnRlbnRTdGF0ZT09PUNyPy0xOk1hdGgubWF4KDFlNy10Ll9wcmlvcml0eSwwKXx8MDotMX12YXIgaGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyKXtPYmplY3QoenQuYSkodGhpcyx0KSxPYmplY3QoZ2UuYSkoIm9iamVjdCI9PT1PYmplY3QoTXIuYSkobikpLHRoaXMuaGVhZGVyPW4sdGhpcy50aWxlc2V0PWUsdGhpcy5pZD1uLmlkLHRoaXMudXJsPW4udXJsLHRoaXMucGFyZW50PXIsdGhpcy5yZWZpbmU9dGhpcy5fZ2V0UmVmaW5lKG4ucmVmaW5lKSx0aGlzLnR5cGU9bi50eXBlLHRoaXMuY29udGVudFVybD1uLmNvbnRlbnRVcmwsdGhpcy5sb2RNZXRyaWNUeXBlPW51bGwsdGhpcy5sb2RNZXRyaWNWYWx1ZT1udWxsLHRoaXMuYm91bmRpbmdWb2x1bWU9bnVsbCx0aGlzLmNvbnRlbnQ9bnVsbCx0aGlzLmNvbnRlbnRTdGF0ZT1Dcix0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcz0wLHRoaXMuY2hpbGRyZW49W10sdGhpcy5kZXB0aD0wLHRoaXMuX2NhY2hlTm9kZT1udWxsLHRoaXMuX2ZyYW1lTnVtYmVyPW51bGwsdGhpcy5fY2FjaGVOb2RlPW51bGwsdGhpcy5faW5pdGlhbGl6ZUxvZE1ldHJpYyhuKSx0aGlzLl9pbml0aWFsaXplVHJhbnNmb3JtcyhuKSx0aGlzLl9pbml0aWFsaXplQm91bmRpbmdWb2x1bWVzKG4pLHRoaXMuX2luaXRpYWxpemVDb250ZW50KG4pLHRoaXMuX2luaXRpYWxpemVSZW5kZXJpbmdTdGF0ZShuKSx0aGlzLl9sb2RKdWRnZT1udWxsLHRoaXMuX2V4cGlyZURhdGU9bnVsbCx0aGlzLl9leHBpcmVkQ29udGVudD1udWxsLE9iamVjdC5zZWFsKHRoaXMpfXZhciBlO3JldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcj1udWxsfX0se2tleToiaXNEZXN0cm95ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmhlYWRlcn19LHtrZXk6ImdldFNjcmVlblNwYWNlRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHRoaXMudGlsZXNldC50eXBlKXtjYXNlIEdyOnJldHVybiBvaSh0aGlzLHQpO2Nhc2UgV3I6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnRpbGVzZXQsaT10LnBhcmVudCYmdC5wYXJlbnQubG9kTWV0cmljVmFsdWV8fHQubG9kTWV0cmljVmFsdWUsYT1uP2k6dC5sb2RNZXRyaWNWYWx1ZTtpZigwPT09YSlyZXR1cm4gMDt2YXIgbz1NYXRoLm1heCh0Ll9kaXN0YW5jZVRvQ2FtZXJhLDFlLTcpLHM9YSplLmhlaWdodC8obyplLnNzZURlbm9taW5hdG9yKTtyZXR1cm4gcy09bmkocixvKX0odGhpcyx0LGUpO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlVuc3VwcG9ydGVkIHRpbGVzZXQgdHlwZSIpLG51bGx9fX0se2tleToibG9hZENvbnRlbnQiLHZhbHVlOihlPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsaTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZighdGhpcy5oYXNFbXB0eUNvbnRlbnQpe3QubmV4dD0yO2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIiwhMSk7Y2FzZSAyOmlmKCF0aGlzLmNvbnRlbnQpe3QubmV4dD00O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSA0OnJldHVybiB0aGlzLmNvbnRlbnRFeHBpcmVkJiYodGhpcy5fZXhwaXJlRGF0ZT1udWxsKSx0aGlzLmNvbnRlbnRTdGF0ZT1Mcix0Lm5leHQ9OSx0aGlzLnRpbGVzZXQuX3JlcXVlc3RTY2hlZHVsZXIuc2NoZWR1bGVSZXF1ZXN0KHRoaXMsbGkpO2Nhc2UgOTppZih0LnNlbnQpe3QubmV4dD0xMzticmVha31yZXR1cm4gdGhpcy5jb250ZW50U3RhdGU9Q3IsdC5hYnJ1cHQoInJldHVybiIsITEpO2Nhc2UgMTM6cmV0dXJuIHQucHJldj0xMyxlPXRoaXMudGlsZXNldC5nZXRUaWxlVXJsKHRoaXMuY29udGVudFVybCksdGhpcy50aWxlc2V0Ll9yZXF1ZXN0U2NoZWR1bGVyLnN0YXJ0UmVxdWVzdCh0aGlzKSxuPXRoaXMudGlsZXNldC5mZXRjaE9wdGlvbnMscj10aGlzLnRpbGVzZXQubG9hZGVyLGk9dWkoe30sbixPYmplY3QoRnQuYSkoe30sci5pZCx7dGlsZTp0aGlzLmhlYWRlcix0aWxlc2V0OnRoaXMudGlsZXNldC50aWxlc2V0fSkpLHQubmV4dD0yMSxPYmplY3QoTnQuYSkoZSxyLGkpO2Nhc2UgMjE6cmV0dXJuIHRoaXMuY29udGVudD10LnNlbnQsdGhpcy5faXNUaWxlc2V0KCkmJnRoaXMudGlsZXNldC5faW5pdGlhbGl6ZVRpbGVIZWFkZXJzKHRoaXMuY29udGVudCx0aGlzLHllLmEuZGlybmFtZSh0aGlzLmNvbnRlbnRVcmwpKSx0aGlzLmNvbnRlbnRTdGF0ZT1Jcix0aGlzLl9vbkNvbnRlbnRMb2FkZWQoKSx0LmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSAyODp0aHJvdyB0LnByZXY9MjgsdC50MD10LmNhdGNoKDEzKSx0aGlzLmNvbnRlbnRTdGF0ZT1Ocix0LnQwO2Nhc2UgMzI6cmV0dXJuIHQucHJldj0zMix0aGlzLnRpbGVzZXQuX3JlcXVlc3RTY2hlZHVsZXIuZW5kUmVxdWVzdCh0aGlzKSx0LmZpbmlzaCgzMik7Y2FzZSAzNTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyxbWzEzLDI4LDMyLDM1XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJ1bmxvYWRDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQmJnRoaXMuY29udGVudC5kZXN0cm95JiZ0aGlzLmNvbnRlbnQuZGVzdHJveSgpLHRoaXMuY29udGVudD1udWxsLHRoaXMuY29udGVudFN0YXRlPUNyLCEwfX0se2tleToidXBkYXRlVmlzaWJpbGl0eSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5fZnJhbWVOdW1iZXIhPT10LmZyYW1lTnVtYmVyKXt2YXIgZT10aGlzLnBhcmVudCxuPWU/ZS5jb21wdXRlZFRyYW5zZm9ybTp0aGlzLnRpbGVzZXQubW9kZWxNYXRyaXgscj1lP2UuX3Zpc2liaWxpdHlQbGFuZU1hc2s6ZnIuTUFTS19JTkRFVEVSTUlOQVRFO3RoaXMuX3VwZGF0ZVRyYW5zZm9ybShuKSx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPXRoaXMuZGlzdGFuY2VUb1RpbGUodCksdGhpcy5fc2NyZWVuU3BhY2VFcnJvcj10aGlzLmdldFNjcmVlblNwYWNlRXJyb3IodCwhMSksdGhpcy5fdmlzaWJpbGl0eVBsYW5lTWFzaz10aGlzLnZpc2liaWxpdHkodCxyKSx0aGlzLl92aXNpYmxlPXRoaXMuX3Zpc2liaWxpdHlQbGFuZU1hc2shPT1mci5NQVNLX09VVFNJREUsdGhpcy5faW5SZXF1ZXN0Vm9sdW1lPXRoaXMuaW5zaWRlVmlld2VyUmVxdWVzdFZvbHVtZSh0KSx0aGlzLl9wcmlvcml0eT10aGlzLmxvZE1ldHJpY1ZhbHVlLHRoaXMuX2ZyYW1lTnVtYmVyPXQuZnJhbWVOdW1iZXJ9fX0se2tleToidmlzaWJpbGl0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmN1bGxpbmdWb2x1bWUscj10aGlzLmJvdW5kaW5nVm9sdW1lO3JldHVybiBuLmNvbXB1dGVWaXNpYmlsaXR5V2l0aFBsYW5lTWFzayhyLGUpfX0se2tleToiY29udGVudFZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEwfX0se2tleToiZGlzdGFuY2VUb1RpbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm91bmRpbmdWb2x1bWU7cmV0dXJuIE1hdGguc3FydChNYXRoLm1heChlLmRpc3RhbmNlU3F1YXJlZFRvKHQuY2FtZXJhLnBvc2l0aW9uKSwwKSl9fSx7a2V5OiJjYW1lcmFTcGFjZVpEZXB0aCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jYW1lcmEsbj10aGlzLmJvdW5kaW5nVm9sdW1lO3JldHVybiBjaS5zdWJWZWN0b3JzKG4uY2VudGVyLGUucG9zaXRpb24pLGUuZGlyZWN0aW9uLmRvdChjaSl9fSx7a2V5OiJpbnNpZGVWaWV3ZXJSZXF1ZXN0Vm9sdW1lIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3ZXJSZXF1ZXN0Vm9sdW1lO3JldHVybiFlfHwwPT09ZS5kaXN0YW5jZVRvQ2FtZXJhKHQpfX0se2tleToiX2luaXRpYWxpemVMb2RNZXRyaWMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJsb2RNZXRyaWNUeXBlImluIHQ/dGhpcy5sb2RNZXRyaWNUeXBlPXQubG9kTWV0cmljVHlwZToodGhpcy5sb2RNZXRyaWNUeXBlPXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5sb2RNZXRyaWNUeXBlfHx0aGlzLnRpbGVzZXQubG9kTWV0cmljVHlwZSxjb25zb2xlLndhcm4oIjNEIFRpbGU6IFJlcXVpcmVkIHByb3AgbG9kTWV0cmljVHlwZSBpcyB1bmRlZmluZWQuIFVzaW5nIHBhcmVudCBsb2RNZXRyaWNUeXBlIikpLCJsb2RNZXRyaWNWYWx1ZSJpbiB0P3RoaXMubG9kTWV0cmljVmFsdWU9dC5sb2RNZXRyaWNWYWx1ZToodGhpcy5sb2RNZXRyaWNWYWx1ZT10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQubG9kTWV0cmljVmFsdWV8fHRoaXMudGlsZXNldC5sb2RNZXRyaWNWYWx1ZSxjb25zb2xlLndhcm4oIjNEIFRpbGU6IFJlcXVpcmVkIHByb3AgbG9kTWV0cmljVmFsdWUgaXMgdW5kZWZpbmVkLiBVc2luZyBwYXJlbnQgbG9kTWV0cmljVmFsdWUiKSl9fSx7a2V5OiJfaW5pdGlhbGl6ZVRyYW5zZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtPXQudHJhbnNmb3JtP25ldyBVdC5hKHQudHJhbnNmb3JtKTpuZXcgVXQuYTt2YXIgZT10aGlzLnBhcmVudCxuPXRoaXMudGlsZXNldCxyPWUmJmUuY29tcHV0ZWRUcmFuc2Zvcm0/ZS5jb21wdXRlZFRyYW5zZm9ybS5jbG9uZSgpOm4ubW9kZWxNYXRyaXguY2xvbmUoKTt0aGlzLmNvbXB1dGVkVHJhbnNmb3JtPW5ldyBVdC5hKHIpLm11bHRpcGx5UmlnaHQodGhpcy50cmFuc2Zvcm0pO3ZhciBpPWUmJmUuX2luaXRpYWxUcmFuc2Zvcm0/ZS5faW5pdGlhbFRyYW5zZm9ybS5jbG9uZSgpOm5ldyBVdC5hO3RoaXMuX2luaXRpYWxUcmFuc2Zvcm09bmV3IFV0LmEoaSkubXVsdGlwbHlSaWdodCh0aGlzLnRyYW5zZm9ybSl9fSx7a2V5OiJfaW5pdGlhbGl6ZUJvdW5kaW5nVm9sdW1lcyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fY29udGVudEJvdW5kaW5nVm9sdW1lPW51bGwsdGhpcy5fdmlld2VyUmVxdWVzdFZvbHVtZT1udWxsLHRoaXMuX3VwZGF0ZUJvdW5kaW5nVm9sdW1lKHQpfX0se2tleToiX2luaXRpYWxpemVDb250ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbnRlbnQ9e190aWxlc2V0OnRoaXMudGlsZXNldCxfdGlsZTp0aGlzfSx0aGlzLmhhc0VtcHR5Q29udGVudD0hMCx0aGlzLmNvbnRlbnRTdGF0ZT1Dcix0aGlzLmhhc1RpbGVzZXRDb250ZW50PSExLHQuY29udGVudFVybCYmKHRoaXMuY29udGVudD1udWxsLHRoaXMuaGFzRW1wdHlDb250ZW50PSExKX19LHtrZXk6Il9pbml0aWFsaXplUmVuZGVyaW5nU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZGVwdGg9dC5sZXZlbCx0aGlzLl9zaG91bGRSZWZpbmU9ITEsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHRoaXMuX2NlbnRlclpEZXB0aD0wLHRoaXMuX3NjcmVlblNwYWNlRXJyb3I9MCx0aGlzLl92aXNpYmlsaXR5UGxhbmVNYXNrPWZyLk1BU0tfSU5ERVRFUk1JTkFURSx0aGlzLl92aXNpYmxlPSExLHRoaXMuX2luUmVxdWVzdFZvbHVtZT0hMSx0aGlzLl9zdGFja0xlbmd0aD0wLHRoaXMuX3NlbGVjdGlvbkRlcHRoPTAsdGhpcy5fZnJhbWVOdW1iZXI9MCx0aGlzLl90b3VjaGVkRnJhbWU9MCx0aGlzLl92aXNpdGVkRnJhbWU9MCx0aGlzLl9zZWxlY3RlZEZyYW1lPTAsdGhpcy5fcmVxdWVzdGVkRnJhbWU9MCx0aGlzLl9wcmlvcml0eT0wfX0se2tleToiX2dldFJlZmluZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHR8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5yZWZpbmV8fEZyfX0se2tleToiX2lzVGlsZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXRoaXMuY29udGVudFVybC5pbmRleE9mKCIuanNvbiIpfX0se2tleToiX29uQ29udGVudExvYWRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5jb250ZW50JiZ0aGlzLmNvbnRlbnQudHlwZSl7Y2FzZSJ2Y3RyIjpjYXNlImdlb20iOnRoaXMudGlsZXNldC50cmF2ZXJzZXIuZGlzYWJsZVNraXBMZXZlbE9mRGV0YWlsPSEwfXRoaXMuX2lzVGlsZXNldCgpJiYodGhpcy5oYXNUaWxlc2V0Q29udGVudD0hMCl9fSx7a2V5OiJfdXBkYXRlQm91bmRpbmdWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYm91bmRpbmdWb2x1bWU9dGkodC5ib3VuZGluZ1ZvbHVtZSx0aGlzLmNvbXB1dGVkVHJhbnNmb3JtLHRoaXMuYm91bmRpbmdWb2x1bWUpO3ZhciBlPXQuY29udGVudDtlJiYoZS5ib3VuZGluZ1ZvbHVtZSYmKHRoaXMuX2NvbnRlbnRCb3VuZGluZ1ZvbHVtZT10aShlLmJvdW5kaW5nVm9sdW1lLHRoaXMuY29tcHV0ZWRUcmFuc2Zvcm0sdGhpcy5fY29udGVudEJvdW5kaW5nVm9sdW1lKSksdC52aWV3ZXJSZXF1ZXN0Vm9sdW1lJiYodGhpcy5fdmlld2VyUmVxdWVzdFZvbHVtZT10aSh0LnZpZXdlclJlcXVlc3RWb2x1bWUsdGhpcy5jb21wdXRlZFRyYW5zZm9ybSx0aGlzLl92aWV3ZXJSZXF1ZXN0Vm9sdW1lKSkpfX0se2tleToiX3VwZGF0ZVRyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IFV0LmEsZT10LmNsb25lKCkubXVsdGlwbHlSaWdodCh0aGlzLnRyYW5zZm9ybSksbj0hZS5lcXVhbHModGhpcy5jb21wdXRlZFRyYW5zZm9ybSk7biYmKHRoaXMuY29tcHV0ZWRUcmFuc2Zvcm09ZSx0aGlzLl91cGRhdGVCb3VuZGluZ1ZvbHVtZSh0aGlzLmhlYWRlcikpfX0se2tleToidXBkYXRlRXhwaXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl9leHBpcmVEYXRlJiZ0aGlzLmNvbnRlbnRSZWFkeSYmIXRoaXMuaGFzRW1wdHlDb250ZW50KXt2YXIgdD1EYXRlLm5vdygpO0RhdGUubGVzc1RoYW4odGhpcy5fZXhwaXJlRGF0ZSx0KSYmKHRoaXMuY29udGVudFN0YXRlPVJyLHRoaXMuX2V4cGlyZWRDb250ZW50PXRoaXMuY29udGVudCl9fX0se2tleToic2VsZWN0ZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZEZyYW1lPT09dGhpcy50aWxlc2V0Ll9mcmFtZU51bWJlcn19LHtrZXk6ImlzVmlzaWJsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zpc2libGV9fSx7a2V5OiJpc1Zpc2libGVBbmRJblJlcXVlc3RWb2x1bWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aXNpYmxlJiZ0aGlzLl9pblJlcXVlc3RWb2x1bWV9fSx7a2V5OiJoYXNSZW5kZXJDb250ZW50IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNFbXB0eUNvbnRlbnQmJiF0aGlzLmhhc1RpbGVzZXRDb250ZW50fX0se2tleToiaGFzQ2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD4wfHx0aGlzLmhlYWRlci5jaGlsZHJlbiYmdGhpcy5oZWFkZXIuY2hpbGRyZW4ubGVuZ3RoPjB9fSx7a2V5OiJjb250ZW50UmVhZHkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PUlyfHx0aGlzLmhhc0VtcHR5Q29udGVudH19LHtrZXk6ImNvbnRlbnRBdmFpbGFibGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuY29udGVudFJlYWR5JiZ0aGlzLmhhc1JlbmRlckNvbnRlbnR8fHRoaXMuX2V4cGlyZWRDb250ZW50JiYhdGhpcy5jb250ZW50RmFpbGVkKX19LHtrZXk6Imhhc1VubG9hZGVkQ29udGVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUmVuZGVyQ29udGVudCYmdGhpcy5jb250ZW50VW5sb2FkZWR9fSx7a2V5OiJjb250ZW50VW5sb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PUNyfX0se2tleToiY29udGVudEV4cGlyZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PVJyfX0se2tleToiY29udGVudEZhaWxlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudFN0YXRlPT09TnJ9fSx7a2V5OiJleHRyYXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlci5leHRyYXN9fV0pLHR9KCksZmk9bigxNyksZGk9bigxNSksdmk9bigxOCkscGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7T2JqZWN0KHp0LmEpKHRoaXMsdCksdGhpcy5fYXJyYXk9bmV3IEFycmF5KGUpLHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xlbmd0aD1lfXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGdlLmEpKHQ8dGhpcy5fYXJyYXkubGVuZ3RoKSx0aGlzLl9hcnJheVt0XX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtPYmplY3QoZ2UuYSkodD49MCksdD49dGhpcy5sZW5ndGgmJih0aGlzLmxlbmd0aD10KzEpLHRoaXMuX21hcC5oYXModGhpcy5fYXJyYXlbdF0pJiZ0aGlzLl9tYXAuZGVsZXRlKHRoaXMuX2FycmF5W3RdKSx0aGlzLl9hcnJheVt0XT1lLHRoaXMuX21hcC5zZXQoZSx0KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLmdldCh0KTtlPj0wJiYodGhpcy5fYXJyYXkuc3BsaWNlKGUsMSksdGhpcy5fbWFwLmRlbGV0ZSh0KSx0aGlzLmxlbmd0aC0tKX19LHtrZXk6InBlZWsiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5W3RoaXMuX2xlbmd0aC0xXX19LHtrZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9tYXAuaGFzKHQpKXt2YXIgZT10aGlzLmxlbmd0aCsrO3RoaXMuX2FycmF5W2VdPXQsdGhpcy5fbWFwLnNldCh0LGUpfX19LHtrZXk6InBvcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9hcnJheVstLXRoaXMubGVuZ3RoXTtyZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZSh0KSx0fX0se2tleToicmVzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24odCl7T2JqZWN0KGdlLmEpKHQ+PTApLHQ+dGhpcy5fYXJyYXkubGVuZ3RoJiYodGhpcy5fYXJyYXkubGVuZ3RoPXQpfX0se2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbih0KXtPYmplY3QoZ2UuYSkodD49MCksdGhpcy5sZW5ndGg9dH19LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uKHQpe251bGw9PXQmJih0PXRoaXMubGVuZ3RoKSx0aGlzLl9hcnJheS5sZW5ndGg9dH19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2FycmF5PVtdLHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xlbmd0aD0wfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcC5oYXModCl9fSx7a2V5OiJsZW5ndGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZW5ndGg9dCx0PnRoaXMuX2FycmF5Lmxlbmd0aCYmKHRoaXMuX2FycmF5Lmxlbmd0aD10KX19LHtrZXk6InZhbHVlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5fX1dKSx0fSgpO2Z1bmN0aW9uIGdpKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB5aSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9naShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6Z2koT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIG1pPXtsb2FkU2libGluZ3M6ITEsc2tpcExldmVsT2ZEZXRhaWw6ITEsbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6Mn0sYmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMub3B0aW9ucz15aSh7fSxtaSx7fSxlKSx0aGlzLl90cmF2ZXJzYWxTdGFjaz1uZXcgcGksdGhpcy5fZW1wdHlUcmF2ZXJzYWxTdGFjaz1uZXcgcGksdGhpcy5fZnJhbWVOdW1iZXI9bnVsbCx0aGlzLnJvb3Q9bnVsbCx0aGlzLnNlbGVjdGVkVGlsZXM9e30sdGhpcy5yZXF1ZXN0ZWRUaWxlcz17fSx0aGlzLmVtcHR5VGlsZXM9e319cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJ0cmF2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMucm9vdD10LHRoaXMub3B0aW9ucz15aSh7fSx0aGlzLm9wdGlvbnMse30sbiksdGhpcy5yZXNldCgpLHRoaXMudXBkYXRlVGlsZSh0LGUpLHRoaXMuX2ZyYW1lTnVtYmVyPWUuZnJhbWVOdW1iZXIsdGhpcy5leGVjdXRlVHJhdmVyc2FsKHQsZSl9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3RlZFRpbGVzPXt9LHRoaXMuc2VsZWN0ZWRUaWxlcz17fSx0aGlzLmVtcHR5VGlsZXM9e30sdGhpcy5fdHJhdmVyc2FsU3RhY2sucmVzZXQoKSx0aGlzLl9lbXB0eVRyYXZlcnNhbFN0YWNrLnJlc2V0KCl9fSx7a2V5OiJleGVjdXRlVHJhdmVyc2FsIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RyYXZlcnNhbFN0YWNrO2ZvcihuLnB1c2godCk7bi5sZW5ndGg+MDspe3ZhciByPW4ucG9wKCksaT0hMTt0aGlzLmNhblRyYXZlcnNlKHIsZSkmJih0aGlzLnVwZGF0ZUNoaWxkVGlsZXMocixlKSxpPXRoaXMudXBkYXRlQW5kUHVzaENoaWxkcmVuKHIsZSxuKSk7dmFyIGE9ci5wYXJlbnQsbz1Cb29sZWFuKCFhfHxhLl9zaG91bGRSZWZpbmUpLHM9IWk7ci5oYXNSZW5kZXJDb250ZW50P3IucmVmaW5lPT09RHI/KHRoaXMubG9hZFRpbGUocixlKSx0aGlzLnNlbGVjdFRpbGUocixlKSk6ci5yZWZpbmU9PT1GciYmKHRoaXMubG9hZFRpbGUocixlKSxzJiZ0aGlzLnNlbGVjdFRpbGUocixlKSk6KHRoaXMuZW1wdHlUaWxlc1tyLmlkXT1yLHRoaXMubG9hZFRpbGUocixlKSxzJiZ0aGlzLnNlbGVjdFRpbGUocixlKSksdGhpcy50b3VjaFRpbGUocixlKSxyLl9zaG91bGRSZWZpbmU9aSYmb319fSx7a2V5OiJ1cGRhdGVDaGlsZFRpbGVzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuY2hpbGRyZW4scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7dGhpcy51cGRhdGVUaWxlKHUsZSl9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4hMH19LHtrZXk6InVwZGF0ZUFuZFB1c2hDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMub3B0aW9ucyxpPXIubG9hZFNpYmxpbmdzLGE9ci5za2lwTGV2ZWxPZkRldGFpbCxvPXQuY2hpbGRyZW47by5zb3J0KHRoaXMuY29tcGFyZURpc3RhbmNlVG9DYW1lcmEpO3ZhciBzPSFhJiZ0LnJlZmluZT09PUZyJiZ0Lmhhc1JlbmRlckNvbnRlbnQsdT0hMSxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTtpZih2LmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZT8obi5maW5kKHYpJiZuLmRlbGV0ZSh2KSxuLnB1c2godiksdT0hMCk6KHN8fGkpJiYodGhpcy5sb2FkVGlsZSh2LGUpLHRoaXMudG91Y2hUaWxlKHYsZSkpLHMpe3ZhciBwPXZvaWQgMDtpZighKHA9ISF2Ll9pblJlcXVlc3RWb2x1bWUmJih2Lmhhc1JlbmRlckNvbnRlbnQ/di5jb250ZW50QXZhaWxhYmxlOnRoaXMuZXhlY3V0ZUVtcHR5VHJhdmVyc2FsKHYsZSkpKSlyZXR1cm4gcH19fWNhdGNoKHQpe2w9ITAsaD10fWZpbmFsbHl7dHJ5e2N8fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBofX1yZXR1cm4gdX19LHtrZXk6InVwZGF0ZVRpbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy51cGRhdGVUaWxlVmlzaWJpbGl0eSh0LGUpfX0se2tleToic2VsZWN0VGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNob3VsZFNlbGVjdFRpbGUodCxlKSYmKHQuX3NlbGVjdGVkRnJhbWU9ZS5mcmFtZU51bWJlcix0aGlzLnNlbGVjdGVkVGlsZXNbdC5pZF09dCl9fSx7a2V5OiJsb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNob3VsZExvYWRUaWxlKHQsZSkmJih0Ll9yZXF1ZXN0ZWRGcmFtZT1lLmZyYW1lTnVtYmVyLHQuX3ByaW9yaXR5PXRoaXMuZ2V0UHJpb3JpdHkodCksdGhpcy5yZXF1ZXN0ZWRUaWxlc1t0LmlkXT10KX19LHtrZXk6InRvdWNoVGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LnRpbGVzZXQuX2NhY2hlLnRvdWNoKHQpLHQuX3RvdWNoZWRGcmFtZT1lLmZyYW1lTnVtYmVyfX0se2tleToiY2FuVHJhdmVyc2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107cmV0dXJuISghciYmIXQuaXNWaXNpYmxlQW5kSW5SZXF1ZXN0Vm9sdW1lKSYmKCEhdC5oYXNDaGlsZHJlbiYmKHQuaGFzVGlsZXNldENvbnRlbnQ/IXQuY29udGVudEV4cGlyZWQ6dGhpcy5zaG91bGRSZWZpbmUodCxlLG4pKSl9fSx7a2V5OiJzaG91bGRMb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oYXNVbmxvYWRlZENvbnRlbnR8fHQuY29udGVudEV4cGlyZWR9fSx7a2V5OiJzaG91bGRTZWxlY3RUaWxlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbnRlbnRBdmFpbGFibGUmJiF0aGlzLm9wdGlvbnMuc2tpcExldmVsT2ZEZXRhaWx9fSx7a2V5OiJzaG91bGRSZWZpbmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10Ll9zY3JlZW5TcGFjZUVycm9yO3JldHVybiBuJiYocj10LmdldFNjcmVlblNwYWNlRXJyb3IoZSwhMCkpLHI+dGhpcy5vcHRpb25zLm1heGltdW1TY3JlZW5TcGFjZUVycm9yfX0se2tleToidXBkYXRlVGlsZVZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC51cGRhdGVWaXNpYmlsaXR5KGUpfX0se2tleToiY29tcGFyZURpc3RhbmNlVG9DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX2Rpc3RhbmNlVG9DYW1lcmEtZS5fZGlzdGFuY2VUb0NhbWVyYX19LHtrZXk6ImdldFByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnM7c3dpdGNoKHQucmVmaW5lKXtjYXNlIERyOnJldHVybiB0Ll9kaXN0YW5jZVRvQ2FtZXJhO2Nhc2UgRnI6dmFyIG49dC5wYXJlbnQscj1uJiYoIWUuc2tpcExldmVsT2ZEZXRhaWx8fDA9PT10Ll9zY3JlZW5TcGFjZUVycm9yfHxuLmhhc1RpbGVzZXRDb250ZW50KT9uLl9zY3JlZW5TcGFjZUVycm9yOnQuX3NjcmVlblNwYWNlRXJyb3I7cmV0dXJuIHRoaXMucm9vdC5fc2NyZWVuU3BhY2VFcnJvci1yO2RlZmF1bHQ6cmV0dXJuIE9iamVjdChnZS5hKSghMSl9fX0se2tleToiYW55Q2hpbGRyZW5WaXNpYmxlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPSExLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UudXBkYXRlVmlzaWJpbGl0eShlKSxuPW58fHUuaXNWaXNpYmxlQW5kSW5SZXF1ZXN0Vm9sdW1lfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSx7a2V5OiJleGVjdXRlRW1wdHlUcmF2ZXJzYWwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSEwLHI9dGhpcy5fZW1wdHlUcmF2ZXJzYWxTdGFjaztyLmxlbmd0aD4wOyl7dmFyIGk9ci5wb3AoKTt0aGlzLnVwZGF0ZVRpbGUoaSxlKSxpLmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZXx8KHRoaXMubG9hZFRpbGUoaSxlKSx0aGlzLnRvdWNoVGlsZShpLGUpKTt2YXIgYT0haS5oYXNSZW5kZXJDb250ZW50JiZ0aGlzLmNhblRyYXZlcnNlKGksZSwhMSwhMCk7aWYoYXx8aS5jb250ZW50QXZhaWxhYmxlfHwobj0hMSksYSl7dmFyIG89aS5jaGlsZHJlbi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlO3IuZmluZChmKSYmci5kZWxldGUoZiksci5wdXNoKGYpfX1jYXRjaCh0KXt1PSEwLGM9dH1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319fX1yZXR1cm4gbn19XSksdH0oKSxfaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdCh6dC5hKSh0aGlzLGUpLE9iamVjdChmaS5hKSh0aGlzLE9iamVjdChkaS5hKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QodmkuYSkoZSx0KSxPYmplY3QoQnQuYSkoZSxbe2tleToiY29tcGFyZURpc3RhbmNlVG9DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT1lLl9kaXN0YW5jZVRvQ2FtZXJhJiYwPT09dC5fZGlzdGFuY2VUb0NhbWVyYT9lLl9jZW50ZXJaRGVwdGgtdC5fY2VudGVyWkRlcHRoOmUuX2Rpc3RhbmNlVG9DYW1lcmEtdC5fZGlzdGFuY2VUb0NhbWVyYX19LHtrZXk6InVwZGF0ZVRpbGVWaXNpYmlsaXR5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHQudXBkYXRlVmlzaWJpbGl0eShlKSx0LmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZSl7dmFyIG49dC5jaGlsZHJlbi5sZW5ndGg+MDtpZih0Lmhhc1RpbGVzZXRDb250ZW50JiZuKXt2YXIgcj10LmNoaWxkcmVuWzBdO3JldHVybiB0aGlzLnVwZGF0ZVRpbGVWaXNpYmlsaXR5KHIsZSksdm9pZCh0Ll92aXNpYmxlPXIuX3Zpc2libGUpfWlmKHRoaXMubWVldHNTY3JlZW5TcGFjZUVycm9yRWFybHkodCxlKSl0Ll92aXNpYmxlPSExO2Vsc2V7dmFyIGk9dC5yZWZpbmU9PT1GcixhPXQuX29wdGltQ2hpbGRyZW5XaXRoaW5QYXJlbnQ9PT1xcjtpJiZhJiZuJiYhdGhpcy5hbnlDaGlsZHJlblZpc2libGUodCxlKSYmKHQuX3Zpc2libGU9ITEpfX19fSx7a2V5OiJtZWV0c1NjcmVlblNwYWNlRXJyb3JFYXJseSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LnBhcmVudDtyZXR1cm4hKCFufHxuLmhhc1RpbGVzZXRDb250ZW50fHxuLnJlZmluZSE9PURyKSYmIXRoaXMuc2hvdWxkUmVmaW5lKHQsZSwhMCl9fV0pLGV9KGJpKSxPaT0iUkVRVUVTVEVEIix4aT0iQ09NUExFVEVEIix3aT0iRVJST1IiLGtpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuX3N0YXR1c01hcD17fX1yZXR1cm4gT2JqZWN0KEJ0LmEpKHQsW3trZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpczt0aGlzLl9zdGF0dXNNYXBbZV18fCh0aGlzLl9zdGF0dXNNYXBbZV09e3JlcXVlc3Q6dCxjYWxsYmFjazpuLGtleTplLG9wdGlvbnM6cixzdGF0dXM6T2l9LHQoKS50aGVuKChmdW5jdGlvbih0KXtpLl9zdGF0dXNNYXBbZV0uc3RhdHVzPXhpLGkuX3N0YXR1c01hcFtlXS5jYWxsYmFjayh0LHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLl9zdGF0dXNNYXBbZV0uc3RhdHVzPXdpLG4odCl9KSkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3N0YXR1c01hcFt0XSYmKHRoaXMuX3N0YXR1c01hcFt0XS5vcHRpb25zPWUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0YXR1c01hcFt0XX19XSksdH0oKTtmdW5jdGlvbiBTaSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gUGkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/U2koT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlNpKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBqaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiBPYmplY3QoenQuYSkodGhpcyxlKSwobj1PYmplY3QoZmkuYSkodGhpcyxPYmplY3QoZGkuYSkoZSkuY2FsbCh0aGlzLHQpKSkuX3RpbGVNYW5hZ2VyPW5ldyBraSxufXZhciBuO3JldHVybiBPYmplY3QodmkuYSkoZSx0KSxPYmplY3QoQnQuYSkoZSxbe2tleToic2hvdWxkUmVmaW5lIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9sb2RKdWRnZT1mdW5jdGlvbih0LGUpe3ZhciBuPWUudmlld3BvcnQscj1uLm1ldGVyc1BlclBpeGVsLGk9dC5oZWFkZXIubWJzWzFdLGE9dC5oZWFkZXIubWJzWzBdLG89dC5oZWFkZXIubWJzWzJdLHM9dC5oZWFkZXIubWJzWzNdLHU9bi5oZWlnaHQsYz1uLndpZHRoLGw9bi5sYXRpdHVkZSxoPW4ubG9uZ2l0dWRlLGY9W2gsbF0sZD1bYSxpLG9dLHY9W2gsaV0scD1bYSxsXSxnPU1hdGguc3FydCh1KnUrYypjKSpyWzBdLHk9LjUqdStzLzYzNzgxMzcsbT0uNSpjK3MvNjM3ODEzNztpZihhaShmLGQpPmcrcy82Mzc4MTM3KXJldHVybiJPVVQiO2lmKGFpKGYsdik+eSlyZXR1cm4iT1VUIjtpZihhaShmLHApPm0pcmV0dXJuIk9VVCI7aWYoMD09PXQubG9kTWV0cmljVmFsdWUpcmV0dXJuIkRJRyI7dmFyIGI9b2kodCxlKTtyZXR1cm4oYio9cmkpPC41PyJPVVQiOiF0LmhlYWRlci5jaGlsZHJlbnx8Yjw9dC5sb2RNZXRyaWNWYWx1ZT8iRFJBVyI6dC5oZWFkZXIuY2hpbGRyZW4/IkRJRyI6Ik9VVCJ9KHQsZSksIkRJRyI9PT10Ll9sb2RKdWRnZX19LHtrZXk6InVwZGF0ZUNoaWxkVGlsZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuaGVhZGVyLmNoaWxkcmVufHxbXSxpPXQuY2hpbGRyZW4sYT10LnRpbGVzZXQsbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1mdW5jdGlvbigpe3ZhciByPWMudmFsdWUsbz1pJiZpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ci5pZH0pKTtpZihvKW8mJm4udXBkYXRlVGlsZShvLGUpO2Vsc2V7bi5fdGlsZU1hbmFnZXIuZmluZChyLmlkKT9uLl90aWxlTWFuYWdlci51cGRhdGUoci5pZCx7ZnJhbWVOdW1iZXI6ZS5mcmFtZU51bWJlcn0pOm4uX3RpbGVNYW5hZ2VyLmFkZCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5fbG9hZFRpbGUoci5pZCxhKX0pLHIuaWQsKGZ1bmN0aW9uKHIpe3JldHVybiBuLl9vblRpbGVMb2FkKHIsdCxlKX0pLHtmcmFtZU51bWJlcjplLmZyYW1lTnVtYmVyfSl9fSxoPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1oLm5leHQoKSkuZG9uZSk7bz0hMClsKCl9Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09aC5yZXR1cm58fGgucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fX19LHtrZXk6Il9sb2FkVGlsZSIsdmFsdWU6KG49T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1uLmxvYWRlcixpPW4uZ2V0VGlsZVVybCgiIi5jb25jYXQobi51cmwsIi9ub2Rlcy8iKS5jb25jYXQoZSkpLGE9e2kzczpQaSh7fSxuLmZldGNoT3B0aW9ucyx7aXNIZWFkZXI6ITAsbG9hZENvbnRlbnQ6ITF9KX0sdC5uZXh0PTUsT2JqZWN0KE50LmEpKGkscixhKTtjYXNlIDU6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9vblRpbGVMb2FkIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5vcHRpb25zLmJhc2VQYXRoLGk9bmV3IGhpKGUudGlsZXNldCx0LGUscik7ZS5jaGlsZHJlbi5wdXNoKGkpLHRoaXMudXBkYXRlVGlsZShpLG4pLHRoaXMuX2ZyYW1lTnVtYmVyPT09bi5mcmFtZU51bWJlciYmdGhpcy5leGVjdXRlVHJhdmVyc2FsKGksbil9fV0pLGV9KGJpKTtmdW5jdGlvbiBUaSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gRWkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/VGkoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlRpKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBBaT17ZWxsaXBzb2lkOnZlLldHUzg0LG1vZGVsTWF0cml4Om5ldyBVdC5hLHRocm90dGxlUmVxdWVzdHM6ITEsbWF4aW11bU1lbW9yeVVzYWdlOjMyLG9uVGlsZUxvYWQ6ZnVuY3Rpb24oKXt9LG9uVGlsZVVubG9hZDpmdW5jdGlvbigpe30sb25UaWxlRXJyb3I6ZnVuY3Rpb24odCxlLG4pe30sbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6OH0sTWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3QoenQuYSkodGhpcyx0KSxPYmplY3QoZ2UuYSkoZSksdGhpcy5vcHRpb25zPUVpKHt9LEFpLHt9LG4pLHRoaXMudGlsZXNldD1lLHRoaXMubG9hZGVyPWUubG9hZGVyLHRoaXMudHlwZT1lLnR5cGUsdGhpcy51cmw9ZS51cmwsdGhpcy5iYXNlUGF0aD1lLmJhc2VQYXRofHx5ZS5hLmRpcm5hbWUodGhpcy51cmwpLHRoaXMubW9kZWxNYXRyaXg9dGhpcy5vcHRpb25zLm1vZGVsTWF0cml4LHRoaXMuZWxsaXBzb2lkPXRoaXMub3B0aW9ucy5lbGxpcHNvaWQsdGhpcy5sb2RNZXRyaWNUeXBlPWUubG9kTWV0cmljVHlwZSx0aGlzLmxvZE1ldHJpY1ZhbHVlPWUubG9kTWV0cmljVmFsdWUsdGhpcy5yZWZpbmU9ZS5yb290LnJlZmluZSx0aGlzLmZldGNoT3B0aW9ucz10aGlzLm9wdGlvbnMuZmV0Y2hPcHRpb25zfHx7fSx0aGlzLm9wdGlvbnMuaGVhZGVycyYmKHRoaXMuZmV0Y2hPcHRpb25zLmhlYWRlcnM9dGhpcy5vcHRpb25zLmhlYWRlcnMpLHRoaXMub3B0aW9ucy50b2tlbiYmKHRoaXMuZmV0Y2hPcHRpb25zLnRva2VuPXRoaXMub3B0aW9ucy50b2tlbiksdGhpcy5yb290PW51bGwsdGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9bnVsbCx0aGlzLmNhcnRlc2lhbkNlbnRlcj1udWxsLHRoaXMuem9vbT0xLHRoaXMuYm91bmRpbmdWb2x1bWU9bnVsbCx0aGlzLl90cmF2ZXJzZXI9dGhpcy5faW5pdGlhbGl6ZVRyYXZlcnNlcigpLHRoaXMuX2NhY2hlPW5ldyB4ZSx0aGlzLl9yZXF1ZXN0U2NoZWR1bGVyPW5ldyBtZS5hKHt0aHJvdHRsZVJlcXVlc3RzOnRoaXMub3B0aW9ucy50aHJvdHRsZVJlcXVlc3RzfSksdGhpcy5fZnJhbWVOdW1iZXI9MCx0aGlzLl91cGRhdGVGcmFtZU51bWJlcj0wLHRoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuX3RpbGVzPXt9LHRoaXMuc2VsZWN0ZWRUaWxlcz1bXSx0aGlzLl9lbXB0eVRpbGVzPVtdLHRoaXMuX3JlcXVlc3RlZFRpbGVzPVtdLHRoaXMuX3NlbGVjdGVkVGlsZXNUb1N0eWxlPVtdLHRoaXMuX3F1ZXJ5UGFyYW1zPXt9LHRoaXMuX3F1ZXJ5UGFyYW1zU3RyaW5nPW51bGwsdGhpcy5tYXhpbXVtTWVtb3J5VXNhZ2U9dGhpcy5vcHRpb25zLm1heGltdW1NZW1vcnlVc2FnZSx0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcz0wLHRoaXMuc3RhdHM9bmV3IHBlLmEoe2lkOnRoaXMudXJsfSksdGhpcy5faW5pdGlhbGl6ZVN0YXRzKCksdGhpcy5faGFzTWl4ZWRDb250ZW50PSExLHRoaXMuX21heGltdW1TY3JlZW5TcGFjZUVycm9yPXRoaXMub3B0aW9ucy5tYXhpbXVtU2NyZWVuU3BhY2VFcnJvcix0aGlzLl9wcm9wZXJ0aWVzPXZvaWQgMCx0aGlzLl9leHRlbnNpb25zVXNlZD12b2lkIDAsdGhpcy5fZ2x0ZlVwQXhpcz12b2lkIDAsdGhpcy5fZHluYW1pY1NjcmVlblNwYWNlRXJyb3JDb21wdXRlZERlbnNpdHk9MCx0aGlzLmV4dHJhcz1udWxsLHRoaXMuYXNzZXQ9e30sdGhpcy5jcmVkaXRzPXt9LHRoaXMuZGVzY3JpcHRpb249dGhpcy5vcHRpb25zLmRlc2NyaXB0aW9uLHRoaXMuX2RlZmF1bHRHZW9tZXRyeVNjaGVtYT1bXSx0aGlzLl9pbml0aWFsaXplVGlsZVNldChlLHRoaXMub3B0aW9ucyl9dmFyIGU7cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJpc0xvYWRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDb3VudH19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZS5yZXNldCgpLHRoaXMuX2ZyYW1lTnVtYmVyKys7dmFyIGU9RXIodCx0aGlzLl9mcmFtZU51bWJlcik7dGhpcy5fdHJhdmVyc2VyLnRyYXZlcnNlKHRoaXMucm9vdCxlLHRoaXMub3B0aW9ucyk7dmFyIG49T2JqZWN0LnZhbHVlcyh0aGlzLl90cmF2ZXJzZXIuc2VsZWN0ZWRUaWxlcyk7dGhpcy5fdGlsZXNDaGFuZ2VkKHRoaXMuc2VsZWN0ZWRUaWxlcyxuKSYmdGhpcy5fdXBkYXRlRnJhbWVOdW1iZXIrKyx0aGlzLnNlbGVjdGVkVGlsZXM9bjt2YXIgcj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10aGlzLnNlbGVjdGVkVGlsZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTt0aGlzLl90aWxlc1t1LmlkXT11fX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIHRoaXMuX3JlcXVlc3RlZFRpbGVzPU9iamVjdC52YWx1ZXModGhpcy5fdHJhdmVyc2VyLnJlcXVlc3RlZFRpbGVzKSx0aGlzLl9lbXB0eVRpbGVzPU9iamVjdC52YWx1ZXModGhpcy5fdHJhdmVyc2VyLmVtcHR5VGlsZXMpLHRoaXMuX2xvYWRUaWxlcyhlKSx0aGlzLl91bmxvYWRUaWxlcygpLHRoaXMuX3VwZGF0ZVN0YXRzKCksdGhpcy5fdXBkYXRlRnJhbWVOdW1iZXJ9fSx7a2V5OiJnZXRUaWxlVXJsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKCJkYXRhOiIpP3Q6IiIuY29uY2F0KHQpLmNvbmNhdCh0aGlzLnF1ZXJ5UGFyYW1zKX19LHtrZXk6Il90aWxlc0NoYW5nZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMDt2YXIgbj1uZXcgU2V0KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSkscj1uZXcgU2V0KGUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSksaT10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXIuaGFzKHQuaWQpfSkpLmxlbmd0aD4wO3JldHVybiBpPWl8fGUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbi5oYXModC5pZCl9KSkubGVuZ3RoPjB9fSx7a2V5OiJfbG9hZFRpbGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLl9yZXF1ZXN0ZWRUaWxlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1pLnZhbHVlO3RoaXMuX2xvYWRUaWxlKG8sdCl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJfdW5sb2FkVGlsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGUudW5sb2FkVGlsZXModGhpcywoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fdW5sb2FkVGlsZShlKX0pKX19LHtrZXk6Il91cGRhdGVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MCxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRoaXMuc2VsZWN0ZWRUaWxlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO3MuY29udGVudEF2YWlsYWJsZSYmKHQrKyxzLmNvbnRlbnQucG9pbnRDb3VudCYmKGUrPXMuY29udGVudC5wb2ludENvdW50KSl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX10aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gVmlldyIpLmNvdW50PXRoaXMuc2VsZWN0ZWRUaWxlcy5sZW5ndGgsdGhpcy5zdGF0cy5nZXQoIlRpbGVzIFRvIFJlbmRlciIpLmNvdW50PXQsdGhpcy5zdGF0cy5nZXQoIlBvaW50cyIpLmNvdW50PWV9fSx7a2V5OiJfaW5pdGlhbGl6ZVRpbGVTZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucm9vdD10aGlzLl9pbml0aWFsaXplVGlsZUhlYWRlcnModCxudWxsLHRoaXMuYmFzZVBhdGgpLHRoaXMudHlwZT09PVdyJiZ0aGlzLl9pbml0aWFsaXplQ2VzaXVtVGlsZXNldCh0KSx0aGlzLnR5cGU9PT1HciYmdGhpcy5faW5pdGlhbGl6ZUkzU1RpbGVzZXQodCksdGhpcy5fY2FsY3VsYXRlVmlld1Byb3BzKCl9fSx7a2V5OiJfY2FsY3VsYXRlVmlld1Byb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucm9vdCxlPXQuYm91bmRpbmdWb2x1bWUuY2VudGVyO2lmKCFlKXJldHVybiBjb25zb2xlLndhcm4oImNlbnRlciB3YXMgbm90IHByZS1jYWxjdWxhdGVkIGZvciB0aGUgcm9vdCB0aWxlIiksdGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9bmV3IEF0LmEsdm9pZCh0aGlzLnpvb209MSk7dGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9dmUuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoZSxuZXcgQXQuYSksdGhpcy5jYXJ0ZXNpYW5DZW50ZXI9ZSx0aGlzLnpvb209ZnVuY3Rpb24odCl7dmFyIGU9dC5oYWxmQXhlcyxuPXQucmFkaXVzLHI9dC53aWR0aCxpPXQuaGVpZ2h0O2lmKGUpe2UuZ2V0Q29sdW1uKDAsQXIpO3ZhciBhPUFyLmxlbigpO2UuZ2V0Q29sdW1uKDEsQXIpO3ZhciBvPUFyLmxlbigpO2UuZ2V0Q29sdW1uKDIsQXIpO3ZhciBzPWEvMix1PW8vMixjPUFyLmxlbigpLzI7cmV0dXJuKE1hdGgubG9nMig2Mzc4MTM3L3MpK01hdGgubG9nMig2Mzc4MTM3L3UpK01hdGgubG9nMig2MzU2NzUyLjMxNDI0NTE3OS9jKSkvM31yZXR1cm4gbj9NYXRoLmxvZzIoNjM1Njc1Mi4zMTQyNDUxNzkvbik6aSYmcj8oTWF0aC5sb2cyKDYzNzgxMzcvcikrTWF0aC5sb2cyKDYzNzgxMzcvaSkpLzI6MX0odC5ib3VuZGluZ1ZvbHVtZSl9fSx7a2V5OiJfaW5pdGlhbGl6ZVN0YXRzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdHMuZ2V0KCJUaWxlcyBJbiBUaWxlc2V0KHMpIiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIEluIFZpZXciKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgVG8gUmVuZGVyIiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRlZCIpLHRoaXMuc3RhdHMuZ2V0KCJUaWxlcyBVbmxvYWRlZCIpLHRoaXMuc3RhdHMuZ2V0KCJGYWlsZWQgVGlsZSBMb2FkcyIpLHRoaXMuc3RhdHMuZ2V0KCJQb2ludHMiLCJtZW1vcnkiKSx0aGlzLnN0YXRzLmdldCgiVGlsZSBNZW1vcnkgVXNlIiwibWVtb3J5Iil9fSx7a2V5OiJfaW5pdGlhbGl6ZVRpbGVIZWFkZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGhpKHRoaXMsdC5yb290LGUsbik7aWYoZSYmKGUuY2hpbGRyZW4ucHVzaChyKSxyLmRlcHRoPWUuZGVwdGgrMSksdGhpcy50eXBlPT09V3Ipe3ZhciBpPVtdO2ZvcihpLnB1c2gocik7aS5sZW5ndGg+MDspe3ZhciBhPWkucG9wKCk7dGhpcy5zdGF0cy5nZXQoIlRpbGVzIEluIFRpbGVzZXQocykiKS5pbmNyZW1lbnRDb3VudCgpO3ZhciBvPWEuaGVhZGVyLmNoaWxkcmVufHxbXSxzPSEwLHU9ITEsYz12b2lkIDA7dHJ5e2Zvcih2YXIgbCxoPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0obD1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGY9bC52YWx1ZSxkPW5ldyBoaSh0aGlzLGYsYSxuKTthLmNoaWxkcmVuLnB1c2goZCksZC5kZXB0aD1hLmRlcHRoKzEsaS5wdXNoKGQpfX1jYXRjaCh0KXt1PSEwLGM9dH1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319fX1yZXR1cm4gcn19LHtrZXk6Il9pbml0aWFsaXplVHJhdmVyc2VyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgV3I6dD1faTticmVhaztjYXNlIEdyOnQ9amk7YnJlYWs7ZGVmYXVsdDp0PWJpfXJldHVybiBuZXcgdCh7YmFzZVBhdGg6dGhpcy5iYXNlUGF0aH0pfX0se2tleToiX2Rlc3Ryb3lUaWxlSGVhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fZGVzdHJveVN1YnRyZWUodCl9fSx7a2V5OiJfbG9hZFRpbGUiLHZhbHVlOihlPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcjtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdGhpcy5fb25TdGFydFRpbGVMb2FkaW5nKCksdC5uZXh0PTQsZS5sb2FkQ29udGVudChuKTtjYXNlIDQ6cj10LnNlbnQsdC5uZXh0PTEwO2JyZWFrO2Nhc2UgNzp0LnByZXY9Nyx0LnQwPXQuY2F0Y2goMCksdGhpcy5fb25UaWxlTG9hZEVycm9yKGUsdC50MCk7Y2FzZSAxMDpyZXR1cm4gdC5wcmV2PTEwLHRoaXMuX29uRW5kVGlsZUxvYWRpbmcoKSx0aGlzLl9vblRpbGVMb2FkKGUsciksdC5maW5pc2goMTApO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDcsMTAsMTRdXSl9KSkpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9vblRpbGVMb2FkRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5zdGF0cy5nZXQoIkZhaWxlZCBUaWxlIExvYWRzIikuaW5jcmVtZW50Q291bnQoKTt2YXIgbj1lLm1lc3NhZ2V8fGUudG9TdHJpbmcoKSxyPXQudXJsO2NvbnNvbGUuZXJyb3IoIkEgM0QgdGlsZSBmYWlsZWQgdG8gbG9hZDogIi5jb25jYXQodC51cmwsIiAiKS5jb25jYXQobikpLHRoaXMub3B0aW9ucy5vblRpbGVFcnJvcih0LG4scil9fSx7a2V5OiJfb25UaWxlTG9hZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlJiYodCYmdC5jb250ZW50JiZmdW5jdGlvbih0LGUpe09iamVjdChnZS5hKSh0KSxPYmplY3QoZ2UuYSkoZSk7dmFyIG49ZS5ydGNDZW50ZXIscj1lLnJvdGF0ZVl0b1osaT10LmNvbXB1dGVkVHJhbnNmb3JtLGE9dC5ib3VuZGluZ1ZvbHVtZS5jZW50ZXIsbz1uZXcgVXQuYShpKTtpZihuJiZvLnRyYW5zbGF0ZShuKSxyKXt2YXIgcz0obmV3IFV0LmEpLnJvdGF0ZVgoTWF0aC5QSS8yKTtvPW8ubXVsdGlwbHlSaWdodChzKX1lLmlzUXVhbnRpemVkJiZvLnRyYW5zbGF0ZShlLnF1YW50aXplZFZvbHVtZU9mZnNldCkuc2NhbGUoZS5xdWFudGl6ZWRWb2x1bWVTY2FsZSk7dmFyIHU9bmV3IEF0LmEoYSk7ZS5jYXJ0ZXNpYW5Nb2RlbE1hdHJpeD1vLGUuY2FydGVzaWFuT3JpZ2luPXU7dmFyIGM9dmUuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWModSxuZXcgQXQuYSksbD12ZS5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSh1KS5pbnZlcnQoKTtlLmNhcnRvZ3JhcGhpY01vZGVsTWF0cml4PWwubXVsdGlwbHlSaWdodChvKSxlLmNhcnRvZ3JhcGhpY09yaWdpbj1jLGUubW9kZWxNYXRyaXg9ZS5jYXJ0b2dyYXBoaWNNb2RlbE1hdHJpeH0odCx0LmNvbnRlbnQpLHRoaXMuX2FkZFRpbGVUb0NhY2hlKHQpLHRoaXMub3B0aW9ucy5vblRpbGVMb2FkKHQpKX19LHtrZXk6Il9vblN0YXJ0VGlsZUxvYWRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50KyssdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKS5pbmNyZW1lbnRDb3VudCgpfX0se2tleToiX29uRW5kVGlsZUxvYWRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50LS0sdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKS5kZWNyZW1lbnRDb3VudCgpfX0se2tleToiX2FkZFRpbGVUb0NhY2hlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZS5hZGQodGhpcyx0LChmdW5jdGlvbihlKXtyZXR1cm4gZS5fdXBkYXRlQ2FjaGVTdGF0cyh0KX0pKX19LHtrZXk6Il91cGRhdGVDYWNoZVN0YXRzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRzLmdldCgiVGlsZXMgTG9hZGVkIikuaW5jcmVtZW50Q291bnQoKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IikuaW5jcmVtZW50Q291bnQoKSx0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcys9dC5jb250ZW50LmJ5dGVMZW5ndGh8fDAsdGhpcy5zdGF0cy5nZXQoIlRpbGUgTWVtb3J5IFVzZSIpLmNvdW50PXRoaXMuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzfX0se2tleToiX3VubG9hZFRpbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzLT10LmNvbnRlbnQuYnl0ZUxlbmd0aHx8MCx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IikuZGVjcmVtZW50Q291bnQoKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgVW5sb2FkZWQiKS5pbmNyZW1lbnRDb3VudCgpLHRoaXMuc3RhdHMuZ2V0KCJUaWxlIE1lbW9yeSBVc2UiKS5jb3VudD10aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcyx0aGlzLm9wdGlvbnMub25UaWxlVW5sb2FkKHQpLHQudW5sb2FkQ29udGVudCgpfX0se2tleToiX2Rlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHRoaXMucm9vdCYmdC5wdXNoKHRoaXMucm9vdCk7dC5sZW5ndGg+MDspe3ZhciBlPXQucG9wKCksbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lLmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7dC5wdXNoKHMpfX1jYXRjaCh0KXtyPSEwLGk9dH1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19dGhpcy5fZGVzdHJveVRpbGUoZSl9dGhpcy5yb290PW51bGx9fSx7a2V5OiJfZGVzdHJveVN1YnRyZWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQsbj1bXTtmb3Iobi5wdXNoKGUpO24ubGVuZ3RoPjA7KXt0PW4ucG9wKCk7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO24ucHVzaCh1KX19Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXQhPT1lJiZ0aGlzLl9kZXN0cm95VGlsZSh0KX1lLmNoaWxkcmVuPVtdfX0se2tleToiX2Rlc3Ryb3lUaWxlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZS51bmxvYWRUaWxlKHRoaXMsdCksdGhpcy5fdW5sb2FkVGlsZSh0KSx0LmRlc3Ryb3koKX19LHtrZXk6Il9pbml0aWFsaXplQ2VzaXVtVGlsZXNldCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5hc3NldD10LmFzc2V0LCF0aGlzLmFzc2V0KXRocm93IG5ldyBFcnJvcigiVGlsZXNldCBtdXN0IGhhdmUgYW4gYXNzZXQgcHJvcGVydHkuIik7aWYoIjAuMCIhPT10aGlzLmFzc2V0LnZlcnNpb24mJiIxLjAiIT09dGhpcy5hc3NldC52ZXJzaW9uKXRocm93IG5ldyBFcnJvcigiVGhlIHRpbGVzZXQgbXVzdCBiZSAzRCBUaWxlcyB2ZXJzaW9uIDAuMCBvciAxLjAuIik7InRpbGVzZXRWZXJzaW9uImluIHRoaXMuYXNzZXQmJih0aGlzLl9xdWVyeVBhcmFtcy52PXRoaXMuYXNzZXQudGlsZXNldFZlcnNpb24pLHRoaXMuY3JlZGl0cz17YXR0cmlidXRpb25zOnRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbnN8fFtdfSx0aGlzLmRlc2NyaXB0aW9uPXRoaXMub3B0aW9ucy5kZXNjcmlwdGlvbix0aGlzLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzLHRoaXMuZ2VvbWV0cmljRXJyb3I9dC5nZW9tZXRyaWNFcnJvcix0aGlzLl9leHRlbnNpb25zVXNlZD10LmV4dGVuc2lvbnNVc2VkLHRoaXMuZXh0cmFzPXQuZXh0cmFzfX0se2tleToiX2luaXRpYWxpemVJM1NUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXsidG9rZW4iaW4gdGhpcy5vcHRpb25zJiYodGhpcy5fcXVlcnlQYXJhbXMudG9rZW49dGhpcy5vcHRpb25zLnRva2VuKSx0aGlzLl9kZWZhdWx0R2VvbWV0cnlTY2hlbWE9dC5zdG9yZS5kZWZhdWx0R2VvbWV0cnlTY2hlbWF9fSx7a2V5OiJoYXNFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBCb29sZWFuKHRoaXMuX2V4dGVuc2lvbnNVc2VkJiZ0aGlzLl9leHRlbnNpb25zVXNlZC5pbmRleE9mKHQpPi0xKX19LHtrZXk6InRpbGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLl90aWxlcyl9fSx7a2V5OiJxdWVyeVBhcmFtcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1zU3RyaW5nfHwodGhpcy5fcXVlcnlQYXJhbXNTdHJpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPU9iamVjdC5rZXlzKHQpO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO2UucHVzaCgiIi5jb25jYXQoaSwiPSIpLmNvbmNhdCh0W2ldKSl9c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIiI7Y2FzZSAxOnJldHVybiI/Ii5jb25jYXQoZVswXSk7ZGVmYXVsdDpyZXR1cm4iPyIuY29uY2F0KGUuam9pbigiJiIpKX19KHRoaXMuX3F1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbXNTdHJpbmd9fV0pLHR9KCksQ2k9e0NPTVBPU0lURToiY21wdCIsUE9JTlRfQ0xPVUQ6InBudHMiLEJBVENIRURfM0RfTU9ERUw6ImIzZG0iLElOU1RBTkNFRF8zRF9NT0RFTDoiaTNkbSIsR0VPTUVUUlk6Imdlb20iLFZFQ1RPUjoidmVjdCJ9O09iamVjdC5rZXlzKENpKTtmdW5jdGlvbiBMaSh0LGUsbil7T2JqZWN0KGdlLmEpKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7dmFyIHI9bmV3IFRleHREZWNvZGVyKCJ1dGY4IiksaT1uZXcgVWludDhBcnJheSh0LGUsbik7cmV0dXJuIHIuZGVjb2RlKGkpfWZ1bmN0aW9uIElpKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49bmV3IERhdGFWaWV3KHQpO3JldHVybiIiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSswKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSsxKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSsyKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgoZSszKSkpfWZ1bmN0aW9uIFJpKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgTmksRGk9e0JZVEU6NTEyMCxVTlNJR05FRF9CWVRFOjUxMjEsU0hPUlQ6NTEyMixVTlNJR05FRF9TSE9SVDo1MTIzLElOVDo1MTI0LFVOU0lHTkVEX0lOVDo1MTI1LEZMT0FUOjUxMjYsRE9VQkxFOjUxMzB9LEZpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1JpKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KEZ0LmEpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpSaShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30se1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LHt9LERpKSx6aT0oTmk9e30sT2JqZWN0KEZ0LmEpKE5pLERpLkRPVUJMRSxGbG9hdDY0QXJyYXkpLE9iamVjdChGdC5hKShOaSxEaS5GTE9BVCxGbG9hdDMyQXJyYXkpLE9iamVjdChGdC5hKShOaSxEaS5VTlNJR05FRF9TSE9SVCxVaW50MTZBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLlVOU0lHTkVEX0JZVEUsVWludDhBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLkJZVEUsSW50OEFycmF5KSxPYmplY3QoRnQuYSkoTmksRGkuU0hPUlQsSW50MTZBcnJheSksT2JqZWN0KEZ0LmEpKE5pLERpLklOVCxJbnQzMkFycmF5KSxOaSksQmk9e0RPVUJMRTpEaS5ET1VCTEUsRkxPQVQ6RGkuRkxPQVQsVU5TSUdORURfU0hPUlQ6RGkuVU5TSUdORURfU0hPUlQsVU5TSUdORURfSU5UOkRpLlVOU0lHTkVEX0lOVCxVTlNJR05FRF9CWVRFOkRpLlVOU0lHTkVEX0JZVEUsQllURTpEaS5CWVRFLFNIT1JUOkRpLlNIT1JULElOVDpEaS5JTlR9LFVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdCh6dC5hKSh0aGlzLHQpfXJldHVybiBPYmplY3QoQnQuYSkodCxudWxsLFt7a2V5OiJmcm9tVHlwZWRBcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQ9QXJyYXlCdWZmZXIuaXNWaWV3KHQpP3QuY29uc3RydWN0b3I6dCx6aSl7aWYoemlbZV09PT10KXJldHVybiBlfXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGNvbnZlcnQgR0wgdHlwZSIpfX0se2tleToiZnJvbU5hbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPUJpW3RdO2lmKCFlKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGNvbnZlcnQgR0wgdHlwZSIpO3JldHVybiBlfX0se2tleToiZ2V0QXJyYXlUeXBlIix2YWx1ZTpmdW5jdGlvbih0KXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3N3aXRjaCh0KXtjYXNlIERpLlVOU0lHTkVEX1NIT1JUXzVfNl81OmNhc2UgRGkuVU5TSUdORURfU0hPUlRfNF80XzRfNDpjYXNlIERpLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE6cmV0dXJuIFVpbnQxNkFycmF5O2RlZmF1bHQ6dmFyIGU9emlbdF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gY29udmVydCBHTCB0eXBlIik7cmV0dXJuIGV9fX0se2tleToiZ2V0Qnl0ZVNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmdldEFycmF5VHlwZShlKS5CWVRFU19QRVJfRUxFTUVOVH19LHtrZXk6InZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbih0LmdldEFycmF5VHlwZShlKSl9fSx7a2V5OiJjcmVhdGVUeXBlZEFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7dm9pZCAwPT09aSYmKGk9KG4uYnl0ZUxlbmd0aC1yKS90LmdldEJ5dGVTaXplKGUpKTt2YXIgYT10LmdldEFycmF5VHlwZShlKTtyZXR1cm4gbmV3IGEobixyLGkpfX1dKSx0fSgpLFZpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe09iamVjdCh6dC5hKSh0aGlzLHQpLHRoaXMuanNvbj1lLHRoaXMuYnVmZmVyPW4sdGhpcy5mZWF0dXJlc0xlbmd0aD0wLHRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzPXt9fXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZ2V0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnMmJnRoaXMuanNvbi5leHRlbnNpb25zW3RdfX0se2tleToiaGFzUHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBCb29sZWFuKHRoaXMuanNvblt0XSl9fSx7a2V5OiJnZXRHbG9iYWxQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkZpLlVOU0lHTkVEX0lOVCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLHI9dGhpcy5qc29uW3RdO3JldHVybiByJiZOdW1iZXIuaXNGaW5pdGUoci5ieXRlT2Zmc2V0KT90aGlzLl9nZXRUeXBlZEFycmF5RnJvbUJpbmFyeSh0LGUsbiwxLHIuYnl0ZU9mZnNldCk6cn19LHtrZXk6ImdldFByb3BlcnR5QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmpzb25bdF07cmV0dXJuIHImJk51bWJlci5pc0Zpbml0ZShyLmJ5dGVPZmZzZXQpPygiY29tcG9uZW50VHlwZSJpbiByJiYoZT1VaS5mcm9tTmFtZShyLmNvbXBvbmVudFR5cGUpKSx0aGlzLl9nZXRUeXBlZEFycmF5RnJvbUJpbmFyeSh0LGUsbix0aGlzLmZlYXR1cmVzTGVuZ3RoLHIuYnl0ZU9mZnNldCkpOnRoaXMuX2dldFR5cGVkQXJyYXlGcm9tQXJyYXkodCxlLHIpfX0se2tleToiZ2V0UHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIGE9dGhpcy5qc29uW3RdO2lmKCFhKXJldHVybiBhO3ZhciBvPXRoaXMuZ2V0UHJvcGVydHlBcnJheSh0LGUsbik7aWYoMT09PW4pcmV0dXJuIG9bcl07Zm9yKHZhciBzPTA7czxuOysrcylpW3NdPW9bbipyK3NdO3JldHVybiBpfX0se2tleToiX2dldFR5cGVkQXJyYXlGcm9tQmluYXJ5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBhPXRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzLG89YVt0XTtyZXR1cm4gb3x8KG89VWkuY3JlYXRlVHlwZWRBcnJheShlLHRoaXMuYnVmZmVyLmJ1ZmZlcix0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0K2kscipuKSxhW3RdPW8pLG99fSx7a2V5OiJfZ2V0VHlwZWRBcnJheUZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzLGk9clt0XTtyZXR1cm4gaXx8KGk9VWkuY3JlYXRlVHlwZWRBcnJheShlLG4pLHJbdF09aSksaX19XSksdH0oKSxHaT1uKDI2KSxXaT17U0NBTEFSOjEsVkVDMjoyLFZFQzM6MyxWRUM0OjQsTUFUMjo0LE1BVDM6OSxNQVQ0OjE2fSxIaT17U0NBTEFSOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV19LFZFQzI6ZnVuY3Rpb24odCxlKXtyZXR1cm5bdFsyKmUrMF0sdFsyKmUrMV1dfSxWRUMzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuW3RbMyplKzBdLHRbMyplKzFdLHRbMyplKzJdXX0sVkVDNDpmdW5jdGlvbih0LGUpe3JldHVyblt0WzQqZSswXSx0WzQqZSsxXSx0WzQqZSsyXSx0WzQqZSszXV19LE1BVDI6ZnVuY3Rpb24odCxlKXtyZXR1cm5bdFs0KmUrMF0sdFs0KmUrMV0sdFs0KmUrMl0sdFs0KmUrM11dfSxNQVQzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuW3RbOSplKzBdLHRbOSplKzFdLHRbOSplKzJdLHRbOSplKzNdLHRbOSplKzRdLHRbOSplKzVdLHRbOSplKzZdLHRbOSplKzddLHRbOSplKzhdXX0sTUFUNDpmdW5jdGlvbih0LGUpe3JldHVyblt0WzE2KmUrMF0sdFsxNiplKzFdLHRbMTYqZSsyXSx0WzE2KmUrM10sdFsxNiplKzRdLHRbMTYqZSs1XSx0WzE2KmUrNl0sdFsxNiplKzddLHRbMTYqZSs4XSx0WzE2KmUrOV0sdFsxNiplKzEwXSx0WzE2KmUrMTFdLHRbMTYqZSsxMl0sdFsxNiplKzEzXSx0WzE2KmUrMTRdLHRbMTYqZSsxNV1dfX0scWk9e1NDQUxBUjpmdW5jdGlvbih0LGUsbil7ZVtuXT10fSxWRUMyOmZ1bmN0aW9uKHQsZSxuKXtlWzIqbiswXT10WzBdLGVbMipuKzFdPXRbMV19LFZFQzM6ZnVuY3Rpb24odCxlLG4pe2VbMypuKzBdPXRbMF0sZVszKm4rMV09dFsxXSxlWzMqbisyXT10WzJdfSxWRUM0OmZ1bmN0aW9uKHQsZSxuKXtlWzQqbiswXT10WzBdLGVbNCpuKzFdPXRbMV0sZVs0Km4rMl09dFsyXSxlWzQqbiszXT10WzNdfSxNQVQyOmZ1bmN0aW9uKHQsZSxuKXtlWzQqbiswXT10WzBdLGVbNCpuKzFdPXRbMV0sZVs0Km4rMl09dFsyXSxlWzQqbiszXT10WzNdfSxNQVQzOmZ1bmN0aW9uKHQsZSxuKXtlWzkqbiswXT10WzBdLGVbOSpuKzFdPXRbMV0sZVs5Km4rMl09dFsyXSxlWzkqbiszXT10WzNdLGVbOSpuKzRdPXRbNF0sZVs5Km4rNV09dFs1XSxlWzkqbis2XT10WzZdLGVbOSpuKzddPXRbN10sZVs5Km4rOF09dFs4XSxlWzkqbis5XT10WzldfSxNQVQ0OmZ1bmN0aW9uKHQsZSxuKXtlWzE2Km4rMF09dFswXSxlWzE2Km4rMV09dFsxXSxlWzE2Km4rMl09dFsyXSxlWzE2Km4rM109dFszXSxlWzE2Km4rNF09dFs0XSxlWzE2Km4rNV09dFs1XSxlWzE2Km4rNl09dFs2XSxlWzE2Km4rN109dFs3XSxlWzE2Km4rOF09dFs4XSxlWzE2Km4rOV09dFs5XSxlWzE2Km4rMTBdPXRbMTBdLGVbMTYqbisxMV09dFsxMV0sZVsxNipuKzEyXT10WzEyXSxlWzE2Km4rMTNdPXRbMTNdLGVbMTYqbisxNF09dFsxNF0sZVsxNipuKzE1XT10WzE1XX19O3ZhciBYaT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dH07ZnVuY3Rpb24gWmkodCxlLG4pe2lmKCFlKXJldHVybiBudWxsO3ZhciByPXQuZ2V0RXh0ZW5zaW9uKCIzRFRJTEVTX2JhdGNoX3RhYmxlX2hpZXJhcmNoeSIpLGk9ZS5ISUVSQVJDSFk7cmV0dXJuIGkmJihjb25zb2xlLndhcm4oIjNEIFRpbGUgUGFyc2VyOiBISUVSQVJDSFkgaXMgZGVwcmVjYXRlZC4gVXNlIDNEVElMRVNfYmF0Y2hfdGFibGVfaGllcmFyY2h5LiIpLGUuZXh0ZW5zaW9ucz1lLmV4dGVuc2lvbnN8fHt9LGUuZXh0ZW5zaW9uc1siM0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHkiXT1pLHI9aSkscj9mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxhLG89dC5pbnN0YW5jZXNMZW5ndGgscz10LmNsYXNzZXMsdT10LmNsYXNzSWRzLGM9dC5wYXJlbnRDb3VudHMsbD10LnBhcmVudElkcyxoPW87WGkodS5ieXRlT2Zmc2V0KSYmKHUuY29tcG9uZW50VHlwZT1kZWZhdWx0VmFsdWUodS5jb21wb25lbnRUeXBlLEdMLlVOU0lHTkVEX1NIT1JUKSx1LnR5cGU9QXR0cmlidXRlVHlwZS5TQ0FMQVIsaT1nZXRCaW5hcnlBY2Nlc3Nvcih1KSxYcigiY2xhc3NJZHMiKSx1PWkuY3JlYXRlQXJyYXlCdWZmZXJWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCt1LmJ5dGVPZmZzZXQsbykpO2lmKFhpKGMpKWZvcihYaShjLmJ5dGVPZmZzZXQpJiYoYy5jb21wb25lbnRUeXBlPWRlZmF1bHRWYWx1ZShjLmNvbXBvbmVudFR5cGUsR0wuVU5TSUdORURfU0hPUlQpLGMudHlwZT1BdHRyaWJ1dGVUeXBlLlNDQUxBUixpPWdldEJpbmFyeUFjY2Vzc29yKGMpLFhyKCJwYXJlbnRDb3VudHMiKSxjPWkuY3JlYXRlQXJyYXlCdWZmZXJWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCtjLmJ5dGVPZmZzZXQsbykpLGE9bmV3IFVpbnQxNkFycmF5KG8pLFhyKCJwYXJlbnRJZHNMZW5ndGgiKSxoPTAsbj0wO248bzsrK24pYVtuXT1oLGgrPShYcigicGFyZW50SWRzTGVuZ3RoIiksY1tuXSk7WGkobCkmJlhpKGwuYnl0ZU9mZnNldCkmJihsLmNvbXBvbmVudFR5cGU9ZGVmYXVsdFZhbHVlKGwuY29tcG9uZW50VHlwZSxHTC5VTlNJR05FRF9TSE9SVCksbC50eXBlPUF0dHJpYnV0ZVR5cGUuU0NBTEFSLGk9Z2V0QmluYXJ5QWNjZXNzb3IobCksWHIoInBhcmVudElkcyIpLGw9aS5jcmVhdGVBcnJheUJ1ZmZlclZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0K2wuYnl0ZU9mZnNldCxoKSk7dmFyIGY9cy5sZW5ndGg7Zm9yKG49MDtuPGY7KytuKXt2YXIgZD1zW25dLmxlbmd0aCx2PXNbbl0uaW5zdGFuY2VzLHA9Z2V0QmluYXJ5UHJvcGVydGllcyhkLHYsZSk7c1tuXS5pbnN0YW5jZXM9Y29tYmluZShwLHYpfXZhciBnPW5ldyBBcnJheShmKS5maWxsKDApLHk9bmV3IFVpbnQxNkFycmF5KG8pO2ZvcihuPTA7bjxvOysrbilyPXVbbl0seVtuXT1nW3JdLCsrZ1tyXTt2YXIgbT17Y2xhc3NlczpzLGNsYXNzSWRzOnUsY2xhc3NJbmRleGVzOnkscGFyZW50Q291bnRzOmMscGFyZW50SW5kZXhlczphLHBhcmVudElkczpsfTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuY2xhc3NJZHMubGVuZ3RoLG49MDtuPGU7KytuKUtpKHQsbixzdGFjayl9KG0pLG19KHIsbik6bnVsbH1mdW5jdGlvbiBZaSh0LGUsbil7aWYodCl7dmFyIHI9dC5wYXJlbnRDb3VudHM7cmV0dXJuIHQucGFyZW50SWRzP24odCxlKTpyPjA/ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuY2xhc3NJZHMsaT10LnBhcmVudENvdW50cyxhPXQucGFyZW50SWRzLG89dC5wYXJlbnRJbmRleGVzLHM9ci5sZW5ndGgsdT1zY3JhdGNoVmlzaXRlZDt1Lmxlbmd0aD1NYXRoLm1heCh1Lmxlbmd0aCxzKTt2YXIgYz0rK21hcmtlcixsPXNjcmF0Y2hTdGFjaztsLmxlbmd0aD0wLGwucHVzaChlKTtmb3IoO2wubGVuZ3RoPjA7KWlmKGU9bC5wb3AoKSx1W2VdIT09Yyl7dVtlXT1jO3ZhciBoPW4odCxlKTtpZihYaShoKSlyZXR1cm4gaDtmb3IodmFyIGY9aVtlXSxkPW9bZV0sdj0wO3Y8ZjsrK3Ype3ZhciBwPWFbZCt2XTtwIT09ZSYmbC5wdXNoKHApfX1yZXR1cm4gbnVsbH0odCxlLG4pOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMDtmb3IoO3I7KXt2YXIgaT1uKHQsZSk7aWYoWGkoaSkpcmV0dXJuIGk7dmFyIGE9dC5wYXJlbnRJZHNbZV07cj1hIT09ZSxlPWF9dGhyb3cgbmV3IEVycm9yKCJ0cmF2ZXJzZUhpZXJhcmNoeVNpbmdsZVBhcmVudCIpfSh0LGUsbil9fWZ1bmN0aW9uIEtpKHQsZSxuKXt2YXIgcj10LnBhcmVudENvdW50cyxpPXQucGFyZW50SWRzLGE9dC5wYXJlbnRJbmRleGVzLG89dC5jbGFzc0lkcy5sZW5ndGg7aWYoWGkoaSkpe2Fzc2VydChlPG8sIlBhcmVudCBpbmRleCAiLmNvbmNhdChlLCIgZXhjZWVkcyB0aGUgdG90YWwgbnVtYmVyIG9mIGluc3RhbmNlczogIikuY29uY2F0KG8pKSxhc3NlcnQoLTE9PT1uLmluZGV4T2YoZSksIkNpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQgaW4gdGhlIGJhdGNoIHRhYmxlIGhpZXJhcmNoeS4iKSxuLnB1c2goZSk7Zm9yKHZhciBzPVhpKHIpP3JbZV06MSx1PVhpKHIpP2FbZV06ZSxjPTA7YzxzOysrYyl7dmFyIGw9aVt1K2NdO2whPT1lJiZLaSh0LGwsbil9bi5wb3AoZSl9fWZ1bmN0aW9uIFFpKHQpe3JldHVybiBudWxsIT10fXZhciBKaT17SElFUkFSQ0hZOiEwLGV4dGVuc2lvbnM6ITAsZXh0cmFzOiEwfSwkaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTtmb3IodmFyIGEgaW4gT2JqZWN0KHp0LmEpKHRoaXMsdCksT2JqZWN0KGdlLmEpKHI+PTApLHRoaXMuanNvbj1lfHx7fSx0aGlzLmJpbmFyeT1uLHRoaXMuZmVhdHVyZUNvdW50PXIsdGhpcy5fZXh0ZW5zaW9ucz10aGlzLmpzb24mJnRoaXMuanNvbi5leHRlbnNpb25zfHx7fSx0aGlzLl9wcm9wZXJ0aWVzPXt9LHRoaXMuanNvbilKaVthXXx8KHRoaXMuX3Byb3BlcnRpZXNbYV09dGhpcy5qc29uW2FdKTt0aGlzLl9iaW5hcnlQcm9wZXJ0aWVzPXRoaXMuX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0aWVzKCksaVsiM0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHkiXSYmKHRoaXMuX2hpZXJhcmNoeT1aaSh0aGlzLHRoaXMuanNvbix0aGlzLmJpbmFyeSkpfXJldHVybiBPYmplY3QoQnQuYSkodCxbe2tleToiZ2V0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5qc29uJiZ0aGlzLmpzb24uZXh0ZW5zaW9ucyYmdGhpcy5qc29uLmV4dGVuc2lvbnNbdF19fSx7a2V5OiJtZW1vcnlTaXplSW5CeXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6ImlzQ2xhc3MiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NoZWNrQmF0Y2hJZCh0KSxPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLCEhdGhpcy5faGllcmFyY2h5JiZRaShZaSh0aGlzLl9oaWVyYXJjaHksdCwoZnVuY3Rpb24odCxuKXt2YXIgcj10LmNsYXNzSWRzW25dO3JldHVybiB0LmNsYXNzZXNbcl0ubmFtZT09PWV9KSkpfX0se2tleToiaXNFeGFjdENsYXNzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLHRoaXMuZ2V0RXhhY3RDbGFzc05hbWUodCk9PT1lfX0se2tleToiZ2V0RXhhY3RDbGFzc05hbWUiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NoZWNrQmF0Y2hJZCh0KSx0aGlzLl9oaWVyYXJjaHkpe3ZhciBlPXRoaXMuX2hpZXJhcmNoeS5jbGFzc0lkc1t0XTtyZXR1cm4gdGhpcy5faGllcmFyY2h5LmNsYXNzZXNbZV0ubmFtZX19fSx7a2V5OiJoYXNQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fY2hlY2tCYXRjaElkKHQpLE9iamVjdChnZS5hKSgic3RyaW5nIj09dHlwZW9mIGUsZSksUWkodGhpcy5fcHJvcGVydGllc1tlXSl8fHRoaXMuX2hhc1Byb3BlcnR5SW5IaWVyYXJjaHkodCxlKX19LHtrZXk6ImdldFByb3BlcnR5TmFtZXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG47dGhpcy5fY2hlY2tCYXRjaElkKHQpLChlPVFpKGUpP2U6W10pLmxlbmd0aD0wO3ZhciByPU9iamVjdC5rZXlzKHRoaXMuX3Byb3BlcnRpZXMpO3JldHVybihuPWUpLnB1c2guYXBwbHkobixPYmplY3QoR2kuYSkocikpLHRoaXMuX2hpZXJhcmNoeSYmdGhpcy5fZ2V0UHJvcGVydHlOYW1lc0luSGllcmFyY2h5KHQsZSksZX19LHtrZXk6ImdldFByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NoZWNrQmF0Y2hJZCh0KSxPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLHRoaXMuX2JpbmFyeVByb3BlcnRpZXMpe3ZhciBuPXRoaXMuX2JpbmFyeVByb3BlcnRpZXNbZV07aWYoUWkobikpcmV0dXJuIHRoaXMuX2dldEJpbmFyeVByb3BlcnR5KG4sdCl9dmFyIHI9dGhpcy5fcHJvcGVydGllc1tlXTtpZihRaShyKSlyZXR1cm4gclt0XTtpZih0aGlzLl9oaWVyYXJjaHkpe3ZhciBpPXRoaXMuX2dldEhpZXJhcmNoeVByb3BlcnR5KHQsZSk7aWYoUWkoaSkpcmV0dXJuIGl9fX0se2tleToic2V0UHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZlYXR1cmVDb3VudDtpZih0aGlzLl9jaGVja0JhdGNoSWQodCxyKSxPYmplY3QoZ2UuYSkoInN0cmluZyI9PXR5cGVvZiBlLGUpLHRoaXMuX2JpbmFyeVByb3BlcnRpZXMpe3ZhciBpPXRoaXMuX2JpbmFyeVByb3BlcnRpZXNbZV07aWYoaSlyZXR1cm4gdm9pZCB0aGlzLl9zZXRCaW5hcnlQcm9wZXJ0eShpLHQsbil9aWYoIXRoaXMuX2hpZXJhcmNoeXx8IXRoaXMuX3NldEhpZXJhcmNoeVByb3BlcnR5KHRoaXMsdCxlLG4pKXt2YXIgYT10aGlzLl9wcm9wZXJ0aWVzW2VdO1FpKGEpfHwodGhpcy5fcHJvcGVydGllc1tlXT1uZXcgQXJyYXkociksYT10aGlzLl9wcm9wZXJ0aWVzW2VdKSxhW3RdPW59fX0se2tleToiX2NoZWNrQmF0Y2hJZCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISh0Pj0wJiZ0PHRoaXMuZmVhdHVyZUNvdW50KSl0aHJvdyBuZXcgRXJyb3IoImJhdGNoSWQgbm90IGluIHJhbmdlIFswLCBmZWF0dXJlQ291bnQgLSAxXS4iKX19LHtrZXk6Il9nZXRCaW5hcnlQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC51bnBhY2sodC50eXBlZEFycmF5LGUpfX0se2tleToiX3NldEJpbmFyeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dC5wYWNrKG4sdC50eXBlZEFycmF5LGUpfX0se2tleToiX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW51bGw7Zm9yKHZhciBlIGluIHRoaXMuX3Byb3BlcnRpZXMpe3ZhciBuPXRoaXMuX3Byb3BlcnRpZXNbZV0scj10aGlzLl9pbml0aWFsaXplQmluYXJ5UHJvcGVydHkoZSxuKTtyJiYoKHQ9dHx8e30pW2VdPXIpfXJldHVybiB0fX0se2tleToiX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZigiYnl0ZU9mZnNldCJpbiBlKXt2YXIgbj1lO09iamVjdChnZS5hKSh0aGlzLmJpbmFyeSwiUHJvcGVydHkgIi5jb25jYXQodCwiIHJlcXVpcmVzIGEgYmF0Y2ggdGFibGUgYmluYXJ5LiIpKSxPYmplY3QoZ2UuYSkobi50eXBlLCJQcm9wZXJ0eSAiLmNvbmNhdCh0LCIgcmVxdWlyZXMgYSB0eXBlLiIpKTt2YXIgcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LmNvbXBvbmVudFR5cGU7T2JqZWN0KGdlLmEpKHQuY29tcG9uZW50VHlwZSk7dmFyIGE9InN0cmluZyI9PXR5cGVvZiBpP1VpLmZyb21OYW1lKGkpOmksbz1XaVt0LnR5cGVdLHM9SGlbdC50eXBlXSx1PXFpW3QudHlwZV07cmV0dXJuIG4rPXQuYnl0ZU9mZnNldCx7dmFsdWVzOlVpLmNyZWF0ZVR5cGVkQXJyYXkoYSxlLG4sbypyKSx0eXBlOmEsc2l6ZTpvLHVucGFja2VyOnMscGFja2VyOnV9fShuLHRoaXMuYmluYXJ5LmJ1ZmZlciwwfHRoaXMuYmluYXJ5LmJ5dGVPZmZzZXQsdGhpcy5mZWF0dXJlQ291bnQpO3JldHVybnt0eXBlZEFycmF5OnIudmFsdWVzLGNvbXBvbmVudENvdW50OnIuc2l6ZSx1bnBhY2s6ci51bnBhY2tlcixwYWNrOnIucGFja2VyfX1yZXR1cm4gbnVsbH19LHtrZXk6Il9oYXNQcm9wZXJ0eUluSGllcmFyY2h5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9oaWVyYXJjaHkpcmV0dXJuITE7dmFyIG49WWkodGhpcy5faGllcmFyY2h5LHQsKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5jbGFzc0lkc1tuXTtyZXR1cm4gUWkodC5jbGFzc2VzW3JdLmluc3RhbmNlc1tlXSl9KSk7cmV0dXJuIFFpKG4pfX0se2tleToiX2dldFByb3BlcnR5TmFtZXNJbkhpZXJhcmNoeSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtZaSh0aGlzLl9oaWVyYXJjaHksdCwoZnVuY3Rpb24odCxuKXt2YXIgcj10LmNsYXNzSWRzW25dLGk9dC5jbGFzc2VzW3JdLmluc3RhbmNlcztmb3IodmFyIGEgaW4gaSlpLmhhc093blByb3BlcnR5KGEpJiYtMT09PWUuaW5kZXhPZihhKSYmZS5wdXNoKGEpfSkpfX0se2tleToiX2dldEhpZXJhcmNoeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIFlpKHRoaXMuX2hpZXJhcmNoeSx0LChmdW5jdGlvbih0LHIpe3ZhciBpPXQuY2xhc3NJZHNbcl0sYT10LmNsYXNzZXNbaV0sbz10LmNsYXNzSW5kZXhlc1tyXSxzPWEuaW5zdGFuY2VzW2VdO3JldHVybiBRaShzKT9RaShzLnR5cGVkQXJyYXkpP24uX2dldEJpbmFyeVByb3BlcnR5KHMsbyk6c1tvXTpudWxsfSkpfX0se2tleToiX3NldEhpZXJhcmNoeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLGE9WWkodGhpcy5faGllcmFyY2h5LGUsKGZ1bmN0aW9uKHQsYSl7dmFyIG89dC5jbGFzc0lkc1thXSxzPXQuY2xhc3Nlc1tvXSx1PXQuY2xhc3NJbmRleGVzW2FdLGM9cy5pbnN0YW5jZXNbbl07cmV0dXJuISFRaShjKSYmKE9iamVjdChnZS5hKShhPT09ZSwnSW5oZXJpdGVkIHByb3BlcnR5ICInLmNvbmNhdChuLCciIGlzIHJlYWQtb25seS4nKSksUWkoYy50eXBlZEFycmF5KT9pLl9zZXRCaW5hcnlQcm9wZXJ0eShjLHUscik6Y1t1XT1yLCEwKX0pKTtyZXR1cm4gUWkoYSl9fV0pLHR9KCk7ZnVuY3Rpb24gdGEodCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxyPW5ldyBEYXRhVmlldyhlKTtpZih0Lm1hZ2ljPXIuZ2V0VWludDMyKG4sITApLG4rPTQsdC52ZXJzaW9uPXIuZ2V0VWludDMyKG4sITApLG4rPTQsdC5ieXRlTGVuZ3RoPXIuZ2V0VWludDMyKG4sITApLG4rPTQsMSE9PXQudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIjNEIFRpbGUgVmVyc2lvbiAiLmNvbmNhdCh0LnZlcnNpb24sIiBub3Qgc3VwcG9ydGVkIikpO3JldHVybiBufWZ1bmN0aW9uIGVhKHQsZSxuKXt2YXIgcj1uZXcgRGF0YVZpZXcoZSk7cmV0dXJuIHQuaGVhZGVyPXQuaGVhZGVyfHx7fSx0LmhlYWRlci5mZWF0dXJlVGFibGVKc29uQnl0ZUxlbmd0aD1yLmdldFVpbnQzMihuLCEwKSxuKz00LHQuaGVhZGVyLmZlYXR1cmVUYWJsZUJpbmFyeUJ5dGVMZW5ndGg9ci5nZXRVaW50MzIobiwhMCksbis9NCx0LmhlYWRlci5iYXRjaFRhYmxlSnNvbkJ5dGVMZW5ndGg9ci5nZXRVaW50MzIobiwhMCksbis9NCx0LmhlYWRlci5iYXRjaFRhYmxlQmluYXJ5Qnl0ZUxlbmd0aD1yLmdldFVpbnQzMihuLCEwKSxuKz00fWZ1bmN0aW9uIG5hKHQsZSxuLHIpe3JldHVybiBuPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXQuaGVhZGVyLGE9aS5mZWF0dXJlVGFibGVKc29uQnl0ZUxlbmd0aCxvPWkuZmVhdHVyZVRhYmxlQmluYXJ5Qnl0ZUxlbmd0aDtpZih0LmZlYXR1cmVUYWJsZUpzb249e0JBVENIX0xFTkdUSDowfSxhPjApe3ZhciBzPUxpKGUsbixhKTt0LmZlYXR1cmVUYWJsZUpzb249SlNPTi5wYXJzZShzKX1yZXR1cm4gbis9YSx0LmZlYXR1cmVUYWJsZUJpbmFyeT1uZXcgVWludDhBcnJheShlLG4sbyksbis9b30odCxlLG4pLG49ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dC5oZWFkZXIsYT1pLmJhdGNoVGFibGVKc29uQnl0ZUxlbmd0aCxvPWkuYmF0Y2hUYWJsZUJpbmFyeUJ5dGVMZW5ndGg7aWYoYT4wKXt2YXIgcz1MaShlLG4sYSk7dC5iYXRjaFRhYmxlSnNvbj1KU09OLnBhcnNlKHMpLG4rPWEsbz4wJiYodC5iYXRjaFRhYmxlQmluYXJ5PW5ldyBVaW50OEFycmF5KGUsbixvKSx0LmJhdGNoVGFibGVCaW5hcnk9bmV3IFVpbnQ4QXJyYXkodC5iYXRjaFRhYmxlQmluYXJ5KSxuKz1vKX1yZXR1cm4gbn0odCxlLG4pfWZ1bmN0aW9uIHJhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49dD4+MTEmMzEscj10Pj41JjYzLGk9MzEmdDtyZXR1cm4gZVswXT1uPDwzLGVbMV09cjw8MixlWzJdPWk8PDMsZX1mdW5jdGlvbiBpYSh0LGUsbil7aWYoIShlfHx0JiZ0LmJhdGNoSWRzJiZuKSlyZXR1cm4gbnVsbDt2YXIgcj10LmJhdGNoSWRzLGk9dC5pc1JHQjU2NSxhPXQucG9pbnRDb3VudDtpZihyJiZuKXtmb3IodmFyIG89bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDMqYSkscz0wO3M8YTtzKyspe3ZhciB1PXJbc10sYz1uLmdldFByb3BlcnR5KHUsImRpbWVuc2lvbnMiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyNTUqdH0pKTtvWzMqc109Y1swXSxvWzMqcysxXT1jWzFdLG9bMypzKzJdPWNbMl19cmV0dXJue3R5cGU6RmkuVU5TSUdORURfQllURSx2YWx1ZTpvLHNpemU6Myxub3JtYWxpemVkOiEwfX1pZihpKXtmb3IodmFyIGw9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDMqYSksaD0wO2g8YTtoKyspe3ZhciBmPXJhKGVbaF0pO2xbMypoXT1mWzBdLGxbMypoKzFdPWZbMV0sbFszKmgrMl09ZlsyXX1yZXR1cm57dHlwZTpGaS5VTlNJR05FRF9CWVRFLHZhbHVlOmwsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9fXJldHVybiBlJiZlLmxlbmd0aD09PTMqYT97dHlwZTpGaS5VTlNJR05FRF9CWVRFLHZhbHVlOmUsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9Ont0eXBlOkZpLlVOU0lHTkVEX0JZVEUsdmFsdWU6ZSxzaXplOjQsbm9ybWFsaXplZDohMH19ZnVuY3Rpb24gYWEodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2wgYXNzZXJ0aW9uIGZhaWxlZC4gIi5jb25jYXQoZSkpfW5ldyBndC5jLG5ldyBndC5kLG5ldyBndC5jLG5ldyBndC5jLG5ldyBVaW50OEFycmF5KDEpO2Z1bmN0aW9uIG9hKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyNTU7cmV0dXJuIE9iamVjdChndC5oKSh0LDAsZSkvZSoyLTF9ZnVuY3Rpb24gc2EodCl7cmV0dXJuIHQ8MD8tMToxfWZ1bmN0aW9uIHVhKHQsZSxuLHIpe2lmKGFhKHIpLHQ8MHx8dD5ufHxlPDB8fGU+bil0aHJvdyBuZXcgRXJyb3IoInggYW5kIHkgbXVzdCBiZSB1bnNpZ25lZCBub3JtYWxpemVkIGludGVnZXJzIGJldHdlZW4gMCBhbmQgIi5jb25jYXQobikpO2lmKHIueD1vYSh0LG4pLHIueT1vYShlLG4pLHIuej0xLShNYXRoLmFicyhyLngpK01hdGguYWJzKHIueSkpLHIuejwwKXt2YXIgaT1yLng7ci54PSgxLU1hdGguYWJzKHIueSkpKnNhKGkpLHIueT0oMS1NYXRoLmFicyhpKSkqc2Eoci55KX1yZXR1cm4gci5ub3JtYWxpemUoKX1mdW5jdGlvbiBjYSh0LGUsbil7cmV0dXJuIHVhKHQsZSwyNTUsbil9dmFyIGxhPW5ldyBBdC5hO2Z1bmN0aW9uIGhhKHQsZSxuKXtyZXR1cm4gdC5pc1F1YW50aXplZD9uLmRlY29kZVF1YW50aXplZFBvc2l0aW9ucz8odC5pc1F1YW50aXplZD0hMSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgQXQuYSxyPW5ldyBGbG9hdDMyQXJyYXkoMyp0LnBvaW50Q291bnQpLGk9MDtpPHQucG9pbnRDb3VudDtpKyspbi5zZXQoZVszKmldLGVbMyppKzFdLGVbMyppKzJdKS5zY2FsZSgxL3QucXVhbnRpemVkUmFuZ2UpLm11bHRpcGx5KHQucXVhbnRpemVkVm9sdW1lU2NhbGUpLmFkZCh0LnF1YW50aXplZFZvbHVtZU9mZnNldCkudG9BcnJheShyLDMqaSk7cmV0dXJuIHJ9KHQsZSkpOnt0eXBlOkZpLlVOU0lHTkVEX1NIT1JULHZhbHVlOmUsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9OmV9ZnVuY3Rpb24gZmEodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGRhKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ZhKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KEZ0LmEpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpmYShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiB2YSh0LGUsbixyLGkpe3JldHVybiBwYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcGEoKXtyZXR1cm4ocGE9T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHMsdTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj10YShlLG4scixpKSxyPWVhKGUsbixyKSxyPW5hKGUsbixyKSxnYShlKSxvPXlhKGUpLHM9by5mZWF0dXJlVGFibGUsdT1vLmJhdGNoVGFibGUsdC5uZXh0PTcsT2EoZSxzLHUsaSxhKTtjYXNlIDc6cmV0dXJuIG1hKGUscyxpKSxiYShlLHMsdSksX2EoZSxzKSx0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDExOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZ2EodCl7dC5hdHRyaWJ1dGVzPXtwb3NpdGlvbnM6bnVsbCxjb2xvcnM6bnVsbCxub3JtYWxzOm51bGwsYmF0Y2hJZHM6bnVsbH0sdC5pc1F1YW50aXplZD0hMSx0LmlzVHJhbnNsdWNlbnQ9ITEsdC5pc1JHQjU2NT0hMSx0LmlzT2N0RW5jb2RlZDE2UD0hMX1mdW5jdGlvbiB5YSh0KXt2YXIgZT1uZXcgVmkodC5mZWF0dXJlVGFibGVKc29uLHQuZmVhdHVyZVRhYmxlQmluYXJ5KSxuPWUuZ2V0R2xvYmFsUHJvcGVydHkoIlBPSU5UU19MRU5HVEgiKTtpZighTnVtYmVyLmlzRmluaXRlKG4pKXRocm93IG5ldyBFcnJvcigiUE9JTlRTX0xFTkdUSCBtdXN0IGJlIGRlZmluZWQiKTtlLmZlYXR1cmVzTGVuZ3RoPW4sdC5mZWF0dXJlc0xlbmd0aD1uLHQucG9pbnRzTGVuZ3RoPW4sdC5wb2ludENvdW50PW4sdC5ydGNDZW50ZXI9ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiUlRDX0NFTlRFUiIsRmkuRkxPQVQsMyk7dmFyIHI9ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsO2lmKCF0LmJhdGNoSWRzJiZlLmhhc1Byb3BlcnR5KCJCQVRDSF9JRCIpJiYodC5iYXRjaElkcz1lLmdldFByb3BlcnR5QXJyYXkoIkJBVENIX0lEIixGaS5VTlNJR05FRF9TSE9SVCwxKSx0LmJhdGNoSWRzKSl7dmFyIHI9ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiQkFUQ0hfTEVOR1RIIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJHbG9iYWwgcHJvcGVydHk6IEJBVENIX0xFTkdUSCBtdXN0IGJlIGRlZmluZWQgd2hlbiBCQVRDSF9JRCBpcyBkZWZpbmVkLiIpO3ZhciBpPXQuYmF0Y2hUYWJsZUpzb24sYT10LmJhdGNoVGFibGVCaW5hcnk7bj1uZXcgJGkoaSxhLHIpfXJldHVybiBufSh0LGUpO3JldHVybntmZWF0dXJlVGFibGU6ZSxiYXRjaFRhYmxlOnJ9fWZ1bmN0aW9uIG1hKHQsZSxuKXtpZighdC5hdHRyaWJ1dGVzLnBvc2l0aW9ucylpZihlLmhhc1Byb3BlcnR5KCJQT1NJVElPTiIpKXQuYXR0cmlidXRlcy5wb3NpdGlvbnM9ZS5nZXRQcm9wZXJ0eUFycmF5KCJQT1NJVElPTiIsRmkuRkxPQVQsMyk7ZWxzZSBpZihlLmhhc1Byb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiKSl7dmFyIHI9ZS5nZXRQcm9wZXJ0eUFycmF5KCJQT1NJVElPTl9RVUFOVElaRUQiLEZpLlVOU0lHTkVEX1NIT1JULDMpO2lmKHQuaXNRdWFudGl6ZWQ9ITAsdC5xdWFudGl6ZWRSYW5nZT02NTUzNSx0LnF1YW50aXplZFZvbHVtZVNjYWxlPWUuZ2V0R2xvYmFsUHJvcGVydHkoIlFVQU5USVpFRF9WT0xVTUVfU0NBTEUiLEZpLkZMT0FULDMpLCF0LnF1YW50aXplZFZvbHVtZVNjYWxlKXRocm93IG5ldyBFcnJvcigiUVVBTlRJWkVEX1ZPTFVNRV9TQ0FMRSBtdXN0IGJlIGRlZmluZWQgZm9yIHF1YW50aXplZCBwb3NpdGlvbnMuIik7aWYodC5xdWFudGl6ZWRWb2x1bWVPZmZzZXQ9ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiUVVBTlRJWkVEX1ZPTFVNRV9PRkZTRVQiLEZpLkZMT0FULDMpLCF0LnF1YW50aXplZFZvbHVtZU9mZnNldCl0aHJvdyBuZXcgRXJyb3IoIlFVQU5USVpFRF9WT0xVTUVfT0ZGU0VUIG11c3QgYmUgZGVmaW5lZCBmb3IgcXVhbnRpemVkIHBvc2l0aW9ucy4iKTt0LmF0dHJpYnV0ZXMucG9zaXRpb25zPWhhKHQscixuKX1pZighdC5hdHRyaWJ1dGVzLnBvc2l0aW9ucyl0aHJvdyBuZXcgRXJyb3IoIkVpdGhlciBQT1NJVElPTiBvciBQT1NJVElPTl9RVUFOVElaRUQgbXVzdCBiZSBkZWZpbmVkLiIpfWZ1bmN0aW9uIGJhKHQsZSxuKXtpZighdC5hdHRyaWJ1dGVzLmNvbG9ycyl7dmFyIHI9bnVsbDtlLmhhc1Byb3BlcnR5KCJSR0JBIik/KHI9ZS5nZXRQcm9wZXJ0eUFycmF5KCJSR0JBIixGaS5VTlNJR05FRF9CWVRFLDQpLHQuaXNUcmFuc2x1Y2VudD0hMCk6ZS5oYXNQcm9wZXJ0eSgiUkdCIik/cj1lLmdldFByb3BlcnR5QXJyYXkoIlJHQiIsRmkuVU5TSUdORURfQllURSwzKTplLmhhc1Byb3BlcnR5KCJSR0I1NjUiKSYmKHI9ZS5nZXRQcm9wZXJ0eUFycmF5KCJSR0I1NjUiLEZpLlVOU0lHTkVEX1NIT1JULDEpLHQuaXNSR0I1NjU9ITApLHQuYXR0cmlidXRlcy5jb2xvcnM9aWEodCxyLG4pfWUuaGFzUHJvcGVydHkoIkNPTlNUQU5UX1JHQkEiKSYmKHQuY29uc3RhbnRSR0JBPWUuZ2V0R2xvYmFsUHJvcGVydHkoIkNPTlNUQU5UX1JHQkEiLEZpLlVOU0lHTkVEX0JZVEUsNCkpfWZ1bmN0aW9uIF9hKHQsZSl7aWYoIXQuYXR0cmlidXRlcy5ub3JtYWxzKXt2YXIgbj1udWxsO2UuaGFzUHJvcGVydHkoIk5PUk1BTCIpP249ZS5nZXRQcm9wZXJ0eUFycmF5KCJOT1JNQUwiLEZpLkZMT0FULDMpOmUuaGFzUHJvcGVydHkoIk5PUk1BTF9PQ1QxNlAiKSYmKG49ZS5nZXRQcm9wZXJ0eUFycmF5KCJOT1JNQUxfT0NUMTZQIixGaS5VTlNJR05FRF9CWVRFLDIpLHQuaXNPY3RFbmNvZGVkMTZQPSEwKSx0LmF0dHJpYnV0ZXMubm9ybWFscz1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiBudWxsO2lmKHQuaXNPY3RFbmNvZGVkMTZQKXtmb3IodmFyIG49bmV3IEZsb2F0MzJBcnJheSgzKnQucG9pbnRzTGVuZ3RoKSxyPTA7cjx0LnBvaW50c0xlbmd0aDtyKyspY2EoZVsyKnJdLGVbMipyKzFdLGxhKSxsYS50b0FycmF5KG4sMypyKTtyZXR1cm57dHlwZTpGaS5GTE9BVCxzaXplOjIsdmFsdWU6bn19cmV0dXJue3R5cGU6RmkuRkxPQVQsc2l6ZToyLHZhbHVlOmV9fSh0LG4pfX1mdW5jdGlvbiBPYSh0LGUsbixyLGkpe3JldHVybiB4YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geGEoKXtyZXR1cm4oeGE9T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHMsdSxjLGwsaCxmLGQ7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoKGM9ciYmci5nZXRFeHRlbnNpb24oIjNEVElMRVNfZHJhY29fcG9pbnRfY29tcHJlc3Npb24iKSkmJih1PWMucHJvcGVydGllcyksIShsPW4uZ2V0RXh0ZW5zaW9uKCIzRFRJTEVTX2RyYWNvX3BvaW50X2NvbXByZXNzaW9uIikpKXt0Lm5leHQ9MTU7YnJlYWt9aWYocz1sLnByb3BlcnRpZXMsaD1sLmJ5dGVPZmZzZXQsZj1sLmJ5dGVMZW5ndGgscyYmTnVtYmVyLmlzRmluaXRlKGgpJiZmKXt0Lm5leHQ9OTticmVha310aHJvdyBuZXcgRXJyb3IoIkRyYWNvIHByb3BlcnRpZXMsIGJ5dGVPZmZzZXQsIGFuZCBieXRlTGVuZ3RoIG11c3QgYmUgZGVmaW5lZCIpO2Nhc2UgOTpvPWUuZmVhdHVyZVRhYmxlQmluYXJ5LnNsaWNlKGgsaCtmKSxlLmhhc1Bvc2l0aW9ucz1OdW1iZXIuaXNGaW5pdGUocy5QT1NJVElPTiksZS5oYXNDb2xvcnM9TnVtYmVyLmlzRmluaXRlKHMuUkdCKXx8TnVtYmVyLmlzRmluaXRlKHMuUkdCQSksZS5oYXNOb3JtYWxzPU51bWJlci5pc0Zpbml0ZShzLk5PUk1BTCksZS5oYXNCYXRjaElkcz1OdW1iZXIuaXNGaW5pdGUocy5CQVRDSF9JRCksZS5pc1RyYW5zbHVjZW50PU51bWJlci5pc0Zpbml0ZShzLlJHQkEpO2Nhc2UgMTU6aWYobyl7dC5uZXh0PTE3O2JyZWFrfXJldHVybiB0LmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSAxNzpyZXR1cm4gZD17YnVmZmVyOm8scHJvcGVydGllczpkYSh7fSxzLHt9LHUpLGZlYXR1cmVUYWJsZVByb3BlcnRpZXM6cyxiYXRjaFRhYmxlUHJvcGVydGllczp1LGRlcXVhbnRpemVJblNoYWRlcjohMX0sdC5uZXh0PTIwLHdhKGUsZCxpLGEpO2Nhc2UgMjA6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAyMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHdhKHQsZSxuLHIpe3JldHVybiBrYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24ga2EoKXtyZXR1cm4oa2E9T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gYT1pLnBhcnNlLHQubmV4dD0zLGEobi5idWZmZXIse30pO2Nhc2UgMzpvPXQuc2VudCxzPW8uYXR0cmlidXRlcy5QT1NJVElPTiYmby5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLHU9by5hdHRyaWJ1dGVzLkNPTE9SXzAmJm8uYXR0cmlidXRlcy5DT0xPUl8wLnZhbHVlLGM9by5hdHRyaWJ1dGVzLk5PUk1BTCYmby5hdHRyaWJ1dGVzLk5PUk1BTC52YWx1ZSxsPW8uYXR0cmlidXRlcy5CQVRDSF9JRCYmby5hdHRyaWJ1dGVzLkJBVENIX0lELnZhbHVlLGg9cyYmby5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLnF1YW50aXphdGlvbixmPWMmJm8uYXR0cmlidXRlcy5OT1JNQUwudmFsdWUucXVhbnRpemF0aW9uLGgmJihkPW8uUE9TSVRJT04uZGF0YS5xdWFudGl6YXRpb24sdj1kLnJhbmdlLGUucXVhbnRpemVkVm9sdW1lU2NhbGU9bmV3IEF0LmEodix2LHYpLGUucXVhbnRpemVkVm9sdW1lT2Zmc2V0PW5ldyBBdC5hKGQubWluVmFsdWVzKSxlLnF1YW50aXplZFJhbmdlPSgxPDxkLnF1YW50aXphdGlvbkJpdHMpLTEsZS5pc1F1YW50aXplZERyYWNvPSEwKSxmJiYoZS5vY3RFbmNvZGVkUmFuZ2U9KDE8PG8uTk9STUFMLmRhdGEucXVhbnRpemF0aW9uLnF1YW50aXphdGlvbkJpdHMpLTEsZS5pc09jdEVuY29kZWREcmFjbz0hMCksZS5hdHRyaWJ1dGVzPXtwb3NpdGlvbnM6cyxjb2xvcnM6aWEoZSx1KSxub3JtYWxzOmMsYmF0Y2hJZHM6bH07Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBTYT1uKDI4OSksUGE9bigyMDcpLGphPW4oMTM0KTtmdW5jdGlvbiBUYSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiYXNzZXJ0IGZhaWxlZDogZ2x0ZiIpfWZ1bmN0aW9uIEVhKHQsZSl7aWYodC5zdGFydHNXaXRoKCJkYXRhOiIpfHx0LnN0YXJ0c1dpdGgoImh0dHA6Iil8fHQuc3RhcnRzV2l0aCgiaHR0cHM6IikpcmV0dXJuIHQ7dmFyIG49ZS5iYXNlVXJpfHxlLnVyaTtpZighbil0aHJvdyBuZXcgRXJyb3IoIidiYXNlVXJpJyBtdXN0IGJlIHByb3ZpZGVkIHRvIHJlc29sdmUgcmVsYXRpdmUgdXJsICIuY29uY2F0KHQpKTtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIvIikrMSkrdH1mdW5jdGlvbiBBYSh0LGUsbil7dmFyIHI9dC5idWZmZXJWaWV3c1tuXTtUYShyKTt2YXIgaT1lW3IuYnVmZmVyXTtUYShpKTt2YXIgYT0oci5ieXRlT2Zmc2V0fHwwKStpLmJ5dGVPZmZzZXQ7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkuYXJyYXlCdWZmZXIsYSxyLmJ5dGVMZW5ndGgpfXZhciBNYT1uKDIyNiksQ2E9WyJTQ0FMQVIiLCJWRUMyIiwiVkVDMyIsIlZFQzQiXSxMYT1uZXcgTWFwKFtbSW50OEFycmF5LDUxMjBdLFtVaW50OEFycmF5LDUxMjFdLFtJbnQxNkFycmF5LDUxMjJdLFtVaW50MTZBcnJheSw1MTIzXSxbVWludDMyQXJyYXksNTEyNV0sW0Zsb2F0MzJBcnJheSw1MTI2XV0pLElhPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LFJhPXs1MTIwOjEsNTEyMToxLDUxMjI6Miw1MTIzOjIsNTEyNTo0LDUxMjY6NH0sTmE9ezUxMjA6SW50OEFycmF5LDUxMjE6VWludDhBcnJheSw1MTIyOkludDE2QXJyYXksNTEyMzpVaW50MTZBcnJheSw1MTI1OlVpbnQzMkFycmF5LDUxMjY6RmxvYXQzMkFycmF5fTtmdW5jdGlvbiBEYSh0KXtyZXR1cm4gQ2FbdC0xXXx8Q2FbMF19ZnVuY3Rpb24gRmEodCl7dmFyIGU9TGEuZ2V0KHQuY29uc3RydWN0b3IpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB0eXBlZCBhcnJheSIpO3JldHVybiBlfWZ1bmN0aW9uIHphKHQsZSl7dmFyIG49TmFbdC5jb21wb25lbnRUeXBlXSxyPUlhW3QudHlwZV0saT1SYVt0LmNvbXBvbmVudFR5cGVdLGE9dC5jb3VudCpyLG89dC5jb3VudCpyKmk7cmV0dXJuIFRhKG8+PTAmJm88PWUuYnl0ZUxlbmd0aCkse0FycmF5VHlwZTpuLGxlbmd0aDphLGJ5dGVMZW5ndGg6b319dmFyIEJhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpZihPYmplY3QoenQuYSkodGhpcyx0KSxlIGluc3RhbmNlb2YgdClyZXR1cm4gZTtlfHwoZT17anNvbjp7dmVyc2lvbjoyLGJ1ZmZlcnM6W119LGJ1ZmZlcnM6W119KSx0aGlzLmdsdGY9ZSxUYSh0aGlzLmdsdGYuanNvbil9cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJnZXRBcHBsaWNhdGlvbkRhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmpzb25bdF19fSx7a2V5OiJnZXRFeHRyYURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybih0aGlzLmpzb24uZXh0cmFzfHx7fSlbdF19fSx7a2V5OiJnZXRFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VXNlZEV4dGVuc2lvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSksbj10aGlzLmpzb24uZXh0ZW5zaW9uc3x8e307cmV0dXJuIGU/blt0XXx8ITA6bnVsbH19LHtrZXk6ImdldFJlcXVpcmVkRXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRSZXF1aXJlZEV4dGVuc2lvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk/dGhpcy5nZXRFeHRlbnNpb24odCk6bnVsbH19LHtrZXk6ImdldFJlcXVpcmVkRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZHx8W119fSx7a2V5OiJnZXRVc2VkRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkfHxbXX19LHtrZXk6ImdldE9iamVjdEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4odC5leHRlbnNpb25zfHx7fSlbZV19fSx7a2V5OiJnZXRTY2VuZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJzY2VuZXMiLHQpfX0se2tleToiZ2V0Tm9kZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJub2RlcyIsdCl9fSx7a2V5OiJnZXRTa2luIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoInNraW5zIix0KX19LHtrZXk6ImdldE1lc2giLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdCgibWVzaGVzIix0KX19LHtrZXk6ImdldE1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoIm1hdGVyaWFscyIsdCl9fSx7a2V5OiJnZXRBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJhY2Nlc3NvcnMiLHQpfX0se2tleToiZ2V0Q2FtZXJhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdCgidGV4dHVyZXMiLHQpfX0se2tleToiZ2V0U2FtcGxlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJzYW1wbGVycyIsdCl9fSx7a2V5OiJnZXRJbWFnZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJpbWFnZXMiLHQpfX0se2tleToiZ2V0QnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJidWZmZXJWaWV3cyIsdCl9fSx7a2V5OiJnZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE9iamVjdCgiYnVmZmVycyIsdCl9fSx7a2V5OiJnZXRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PT1PYmplY3QoTXIuYSkoZSkpcmV0dXJuIGU7dmFyIG49dGhpcy5qc29uW3RdJiZ0aGlzLmpzb25bdF1bZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJnbFRGIGZpbGUgZXJyb3I6IENvdWxkIG5vdCBmaW5kICIuY29uY2F0KHQsIlsiKS5jb25jYXQoZSwiXSIpKTtyZXR1cm4gbn19LHtrZXk6ImdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0odD10aGlzLmdldEJ1ZmZlclZpZXcodCkpLmJ1ZmZlcixuPXRoaXMuZ2x0Zi5idWZmZXJzW2VdO1RhKG4pO3ZhciByPSh0LmJ5dGVPZmZzZXR8fDApK24uYnl0ZU9mZnNldDtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobi5hcnJheUJ1ZmZlcixyLHQuYnl0ZUxlbmd0aCl9fSx7a2V5OiJnZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXRBY2Nlc3Nvcih0KTt2YXIgZT10aGlzLmdldEJ1ZmZlclZpZXcodC5idWZmZXJWaWV3KSxuPXRoaXMuZ2V0QnVmZmVyKGUuYnVmZmVyKS5kYXRhLHI9emEodCxlKSxpPXIuQXJyYXlUeXBlLGE9ci5sZW5ndGg7cmV0dXJuIG5ldyBpKG4sZS5ieXRlT2Zmc2V0K3QuYnl0ZU9mZnNldCxhKX19LHtrZXk6ImdldFR5cGVkQXJyYXlGb3JJbWFnZURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXRBY2Nlc3Nvcih0KTt2YXIgZT10aGlzLmdldEJ1ZmZlclZpZXcodC5idWZmZXJWaWV3KSxuPXRoaXMuZ2V0QnVmZmVyKGUuYnVmZmVyKS5kYXRhLHI9ZS5ieXRlT2Zmc2V0fHwwO3JldHVybiBuZXcgVWludDhBcnJheShuLHIsZS5ieXRlTGVuZ3RoKX19LHtrZXk6ImFkZEFwcGxpY2F0aW9uRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qc29uW3RdPWUsdGhpc319LHtrZXk6ImFkZEV4dHJhRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qc29uLmV4dHJhcz10aGlzLmpzb24uZXh0cmFzfHx7fSx0aGlzLmpzb24uZXh0cmFzW3RdPWUsdGhpc319LHtrZXk6ImFkZE9iamVjdEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBUYShuKSx0LmV4dGVuc2lvbnM9dC5leHRlbnNpb25zfHx7fSx0LmV4dGVuc2lvbnNbZV09bix0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbihlKSx0aGlzfX0se2tleToicmVtb3ZlT2JqZWN0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBkZWxldGUodC5leHRlbnNpb25zfHx7fSlbZV0sdGhpc319LHtrZXk6ImFkZEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBUYShlKSx0aGlzLmpzb24uZXh0ZW5zaW9ucz10aGlzLmpzb24uZXh0ZW5zaW9uc3x8e30sdGhpcy5qc29uLmV4dGVuc2lvbnNbdF09ZSx0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbih0KSxlfX0se2tleToiYWRkUmVxdWlyZWRFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gVGEoZSksdGhpcy5hZGRFeHRlbnNpb24odCxlKSx0aGlzLnJlZ2lzdGVyUmVxdWlyZWRFeHRlbnNpb24odCksZX19LHtrZXk6InJlZ2lzdGVyVXNlZEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkPXRoaXMuanNvbi5leHRlbnNpb25zVXNlZHx8W10sdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKXx8dGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLnB1c2godCl9fSx7a2V5OiJyZWdpc3RlclJlcXVpcmVkRXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbih0KSx0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkPXRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWR8fFtdLHRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkpfHx0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLnB1c2godCl9fSx7a2V5OiJyZW1vdmVFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQmJnRoaXMuX3JlbW92ZVN0cmluZ0Zyb21BcnJheSh0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLHQpLHRoaXMuanNvbi5leHRlbnNpb25zVXNlZCYmdGhpcy5fcmVtb3ZlU3RyaW5nRnJvbUFycmF5KHRoaXMuanNvbi5leHRlbnNpb25zVXNlZCx0KSx0aGlzLmpzb24uZXh0ZW5zaW9ucyYmZGVsZXRlIHRoaXMuanNvbi5leHRlbnNpb25zW3RdfX0se2tleToic2V0T2JqZWN0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7KHQuZXh0ZW5zaW9uc3x8e30pW2VdPW59fSx7a2V5OiJhZGRNZXNoIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0LHI9dGhpcy5fYWRkQXR0cmlidXRlcyh0KSxpPXtwcmltaXRpdmVzOlt7YXR0cmlidXRlczpyLGluZGljZXM6ZSxtb2RlOm59XX07cmV0dXJuIHRoaXMuanNvbi5tZXNoZXM9dGhpcy5qc29uLm1lc2hlc3x8W10sdGhpcy5qc29uLm1lc2hlcy5wdXNoKGkpLHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRQb2ludENsb3VkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17cHJpbWl0aXZlczpbe2F0dHJpYnV0ZXM6dGhpcy5fYWRkQXR0cmlidXRlcyh0KSxtb2RlOjB9XX07cmV0dXJuIHRoaXMuanNvbi5tZXNoZXM9dGhpcy5qc29uLm1lc2hlc3x8W10sdGhpcy5qc29uLm1lc2hlcy5wdXNoKGUpLHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRJbWFnZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlPWV8fE9iamVjdChNYS5hKSh0KTt2YXIgbj17YnVmZmVyVmlldzp0aGlzLmFkZEJ1ZmZlclZpZXcodCksbWltZVR5cGU6ZX07cmV0dXJuIHRoaXMuanNvbi5pbWFnZXM9dGhpcy5qc29uLmltYWdlc3x8W10sdGhpcy5qc29uLmltYWdlcy5wdXNoKG4pLHRoaXMuanNvbi5pbWFnZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRCdWZmZXJWaWV3Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmJ5dGVMZW5ndGg7VGEoTnVtYmVyLmlzRmluaXRlKGUpKSx0aGlzLnNvdXJjZUJ1ZmZlcnM9dGhpcy5zb3VyY2VCdWZmZXJzfHxbXSx0aGlzLnNvdXJjZUJ1ZmZlcnMucHVzaCh0KTt2YXIgbj17YnVmZmVyOjAsYnl0ZU9mZnNldDp0aGlzLmJ5dGVMZW5ndGgsYnl0ZUxlbmd0aDplfTtyZXR1cm4gdGhpcy5ieXRlTGVuZ3RoKz1PYmplY3QoamEuYykoZSksdGhpcy5qc29uLmJ1ZmZlclZpZXdzPXRoaXMuanNvbi5idWZmZXJWaWV3c3x8W10sdGhpcy5qc29uLmJ1ZmZlclZpZXdzLnB1c2gobiksdGhpcy5qc29uLmJ1ZmZlclZpZXdzLmxlbmd0aC0xfX0se2tleToiYWRkQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49e2J1ZmZlclZpZXc6dCx0eXBlOkRhKGUuc2l6ZSksY29tcG9uZW50VHlwZTplLmNvbXBvbmVudFR5cGUsY291bnQ6ZS5jb3VudH07cmV0dXJuIHRoaXMuanNvbi5hY2Nlc3NvcnM9dGhpcy5qc29uLmFjY2Vzc29yc3x8W10sdGhpcy5qc29uLmFjY2Vzc29ycy5wdXNoKG4pLHRoaXMuanNvbi5hY2Nlc3NvcnMubGVuZ3RoLTF9fSx7a2V5OiJhZGRCaW5hcnlCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7c2l6ZTozfSxuPXRoaXMuYWRkQnVmZmVyVmlldyh0KSxyPXtzaXplOmUuc2l6ZSxjb21wb25lbnRUeXBlOkZhKHQpLGNvdW50Ok1hdGgucm91bmQodC5sZW5ndGgvZS5zaXplKX07cmV0dXJuIHRoaXMuYWRkQWNjZXNzb3IobixPYmplY3QuYXNzaWduKHIsZSkpfX0se2tleToiY3JlYXRlQmluYXJ5Q2h1bmsiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYXJyYXlCdWZmZXIpe2Zvcih2YXIgdD10aGlzLmJ5dGVMZW5ndGgsZT1uZXcgQXJyYXlCdWZmZXIodCksbj1uZXcgVWludDhBcnJheShlKSxyPTAsaT0wO2k8dGhpcy5zb3VyY2VCdWZmZXJzLmxlbmd0aDtpKyspe3ZhciBhPXRoaXMuc291cmNlQnVmZmVyc1tpXTtyPU9iamVjdChqYS5hKShhLG4scil9dGhpcy5qc29uLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aD10LHRoaXMuYXJyYXlCdWZmZXI9ZSx0aGlzLnNvdXJjZUJ1ZmZlcnM9W119fX0se2tleToiX3JlbW92ZVN0cmluZ0Zyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITA7bjspe3ZhciByPXQuaW5kZXhPZihlKTtyPi0xP3Quc3BsaWNlKHIsMSk6bj0hMX19fSx7a2V5OiJqc29uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbHRmLmpzb259fV0pLHR9KCk7ZnVuY3Rpb24gVWEodCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpe3ZhciByPXRbbl07aWYoImluZGljZXMiIT09bil7dmFyIGk9VmEocik7ZVtuXT1pfX1yZXR1cm4gZX1mdW5jdGlvbiBWYSh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPTEsaT0wO3QmJnQudmFsdWUmJihuPXQudmFsdWUscj10LnNpemV8fDEpO24mJihBcnJheUJ1ZmZlci5pc1ZpZXcobil8fChuPWZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighdClyZXR1cm4gbnVsbDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBuZXcgZSh0KTtpZihuJiYhKHQgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUodCk7cmV0dXJuIHR9KG4sRmxvYXQzMkFycmF5KSksaT1uLmxlbmd0aC9yKTtyZXR1cm57YnVmZmVyOm4sc2l6ZTpyLGNvdW50Oml9fSh0KSxyPW4uYnVmZmVyLGk9bi5zaXplO3JldHVybnt2YWx1ZTpyLHNpemU6aSxidWZmZXJWaWV3Om51bGwsYnl0ZU9mZnNldDowLGNvdW50Om4uY291bnQsdHlwZTpEYShpKSxjb21wb25lbnRUeXBlOkZhKHIpfX12YXIgR2E9U3QuYS5tYXJrKFFhKTtmdW5jdGlvbiBXYSh0LGUsbil7cmV0dXJuIEhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBIYSgpe3JldHVybihIYT1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgaSxhLG8scyx1LGMsbCxoO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG4uZ2x0Zi5kZWNvbXByZXNzTWVzaGVzKXt0Lm5leHQ9MjticmVha31yZXR1cm4gdC5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMjpmb3IoaT1uZXcgQmEoZSksYT1bXSxvPSEwLHM9ITEsdT12b2lkIDAsdC5wcmV2PTcsYz1RYShpKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShsPWMubmV4dCgpKS5kb25lKTtvPSEwKWg9bC52YWx1ZSxpLmdldE9iamVjdEV4dGVuc2lvbihoLCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIpJiZhLnB1c2goWGEoaCxpLG4scikpO3QubmV4dD0xNTticmVhaztjYXNlIDExOnQucHJldj0xMSx0LnQwPXQuY2F0Y2goNykscz0hMCx1PXQudDA7Y2FzZSAxNTp0LnByZXY9MTUsdC5wcmV2PTE2LG98fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpO2Nhc2UgMTg6aWYodC5wcmV2PTE4LCFzKXt0Lm5leHQ9MjE7YnJlYWt9dGhyb3cgdTtjYXNlIDIxOnJldHVybiB0LmZpbmlzaCgxOCk7Y2FzZSAyMjpyZXR1cm4gdC5maW5pc2goMTUpO2Nhc2UgMjM6cmV0dXJuIHQubmV4dD0yNSxQcm9taXNlLmFsbChhKTtjYXNlIDI1OmkucmVtb3ZlRXh0ZW5zaW9uKCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIpO2Nhc2UgMjY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1s3LDExLDE1LDIzXSxbMTYsLDE4LDIyXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHFhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPW5ldyBCYSh0KSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPShuLmpzb24ubWVzaGVzfHxbXSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTtZYSh1LGUpLG4uYWRkUmVxdWlyZWRFeHRlbnNpb24oIktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uIil9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX19ZnVuY3Rpb24gWGEodCxlLG4scil7cmV0dXJuIFphLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBaYSgpe3JldHVybihaYT1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGkpe3ZhciBhLG8scyx1LGM7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9bi5nZXRPYmplY3RFeHRlbnNpb24oZSwiS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24iKSxvPW4uZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoYS5idWZmZXJWaWV3KSxzPU9iamVjdChqYS5iKShvLmJ1ZmZlcixvLmJ5dGVPZmZzZXQpLHU9aS5wYXJzZSx0Lm5leHQ9Nix1KHMsW10scixpKTtjYXNlIDY6Yz10LnNlbnQsZS5hdHRyaWJ1dGVzPVVhKGMuYXR0cmlidXRlcyksYy5pbmRpY2VzJiYoZS5pbmRpY2VzPVZhKGMuaW5kaWNlcykpLEthKGUpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBZYSh0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0LHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOnZvaWQgMDtpZighci5EcmFjb1dyaXRlcnx8IXIuRHJhY29Mb2FkZXIpdGhyb3cgbmV3IEVycm9yKCJEcmFjb1dyaXRlci9EcmFjb0xvYWRlciBub3QgYXZhaWxhYmxlIik7dmFyIGE9ci5EcmFjb1dyaXRlci5lbmNvZGVTeW5jKHthdHRyaWJ1dGVzOnR9KSxvPWkucGFyc2VTeW5jLHM9byh7YXR0cmlidXRlczp0fSksdT1yLl9hZGRGYXV4QXR0cmlidXRlcyhzLmF0dHJpYnV0ZXMpLGM9ci5hZGRCdWZmZXJWaWV3KGEpLGw9e3ByaW1pdGl2ZXM6W3thdHRyaWJ1dGVzOnUsbW9kZTpuLGV4dGVuc2lvbnM6T2JqZWN0KEZ0LmEpKHt9LCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIse2J1ZmZlclZpZXc6YyxhdHRyaWJ1dGVzOnV9KX1dfTtyZXR1cm4gbH1mdW5jdGlvbiBLYSh0KXtpZighdC5hdHRyaWJ1dGVzJiZPYmplY3Qua2V5cyh0LmF0dHJpYnV0ZXMpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcigiRW1wdHkgZ2xURiBwcmltaXRpdmUgZGV0ZWN0ZWQ6IERyYWNvIGRlY29tcHJlc3Npb24gZmFpbHVyZT8iKX1mdW5jdGlvbiBRYSh0KXt2YXIgZSxuLHIsaSxhLG8scyx1LGMsbCxoLGY7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24oZCl7Zm9yKDs7KXN3aXRjaChkLnByZXY9ZC5uZXh0KXtjYXNlIDA6ZT0hMCxuPSExLHI9dm9pZCAwLGQucHJldj0zLGk9KHQuanNvbi5tZXNoZXN8fFtdKVtTeW1ib2wuaXRlcmF0b3JdKCk7Y2FzZSA1OmlmKGU9KGE9aS5uZXh0KCkpLmRvbmUpe2QubmV4dD0zNjticmVha31vPWEudmFsdWUscz0hMCx1PSExLGM9dm9pZCAwLGQucHJldj0xMCxsPW8ucHJpbWl0aXZlc1tTeW1ib2wuaXRlcmF0b3JdKCk7Y2FzZSAxMjppZihzPShoPWwubmV4dCgpKS5kb25lKXtkLm5leHQ9MTk7YnJlYWt9cmV0dXJuIGY9aC52YWx1ZSxkLm5leHQ9MTYsZjtjYXNlIDE2OnM9ITAsZC5uZXh0PTEyO2JyZWFrO2Nhc2UgMTk6ZC5uZXh0PTI1O2JyZWFrO2Nhc2UgMjE6ZC5wcmV2PTIxLGQudDA9ZC5jYXRjaCgxMCksdT0hMCxjPWQudDA7Y2FzZSAyNTpkLnByZXY9MjUsZC5wcmV2PTI2LHN8fG51bGw9PWwucmV0dXJufHxsLnJldHVybigpO2Nhc2UgMjg6aWYoZC5wcmV2PTI4LCF1KXtkLm5leHQ9MzE7YnJlYWt9dGhyb3cgYztjYXNlIDMxOnJldHVybiBkLmZpbmlzaCgyOCk7Y2FzZSAzMjpyZXR1cm4gZC5maW5pc2goMjUpO2Nhc2UgMzM6ZT0hMCxkLm5leHQ9NTticmVhaztjYXNlIDM2OmQubmV4dD00MjticmVhaztjYXNlIDM4OmQucHJldj0zOCxkLnQxPWQuY2F0Y2goMyksbj0hMCxyPWQudDE7Y2FzZSA0MjpkLnByZXY9NDIsZC5wcmV2PTQzLGV8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpO2Nhc2UgNDU6aWYoZC5wcmV2PTQ1LCFuKXtkLm5leHQ9NDg7YnJlYWt9dGhyb3cgcjtjYXNlIDQ4OnJldHVybiBkLmZpbmlzaCg0NSk7Y2FzZSA0OTpyZXR1cm4gZC5maW5pc2goNDIpO2Nhc2UgNTA6Y2FzZSJlbmQiOnJldHVybiBkLnN0b3AoKX19KSxHYSxudWxsLFtbMywzOCw0Miw1MF0sWzEwLDIxLDI1LDMzXSxbMjYsLDI4LDMyXSxbNDMsLDQ1LDQ5XV0pfWZ1bmN0aW9uIEphKHQsZSl7dmFyIG49bmV3IEJhKHQpLHI9bi5qc29uLGk9bi5nZXRFeHRlbnNpb24oIktIUl9saWdodHNfcHVuY3R1YWwiKTtpJiYobi5qc29uLmxpZ2h0cz1pLmxpZ2h0cyxuLnJlbW92ZUV4dGVuc2lvbigiS0hSX2xpZ2h0c19wdW5jdHVhbCIpKTt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz0oci5ub2Rlc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWUsaD1uLmdldE9iamVjdEV4dGVuc2lvbihsLCJLSFJfbGlnaHRzX3B1bmN0dWFsIik7aCYmKGwubGlnaHQ9aC5saWdodCksbi5yZW1vdmVPYmplY3RFeHRlbnNpb24obCwiS0hSX2xpZ2h0c19wdW5jdHVhbCIpfX1jYXRjaCh0KXtvPSEwLHM9dH1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319fWZ1bmN0aW9uICRhKHQsZSl7dmFyIG49bmV3IEJhKHQpLHI9bi5qc29uO2lmKHIubGlnaHRzKXt2YXIgaT1uLmFkZEV4dGVuc2lvbigiS0hSX2xpZ2h0c19wdW5jdHVhbCIpO1RhKCFpLmxpZ2h0cyksaS5saWdodHM9ci5saWdodHMsZGVsZXRlIHIubGlnaHRzfWlmKG4uanNvbi5saWdodHMpe3ZhciBhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPW4uanNvbi5saWdodHNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0odT1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGw9dS52YWx1ZSxoPWwubm9kZTtuLmFkZE9iamVjdEV4dGVuc2lvbihoLCJLSFJfbGlnaHRzX3B1bmN0dWFsIixsKX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fWRlbGV0ZSBuLmpzb24ubGlnaHRzfX1mdW5jdGlvbiB0byh0LGUpe3ZhciBuPW5ldyBCYSh0KSxyPW4uanNvbjtuLnJlbW92ZUV4dGVuc2lvbigiS0hSX21hdGVyaWFsc191bmxpdCIpO3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PShyLm1hdGVyaWFsc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7Yy5leHRlbnNpb25zJiZjLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc191bmxpdCYmKGMudW5saXQ9ITApLG4ucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKGMsIktIUl9tYXRlcmlhbHNfdW5saXQiKX19Y2F0Y2godCl7YT0hMCxvPXR9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX1mdW5jdGlvbiBlbyh0LGUpe3ZhciBuPW5ldyBCYSh0KSxyPW4uanNvbjtpZihuLm1hdGVyaWFscyl7dmFyIGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9ci5tYXRlcmlhbHNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtjLnVubGl0JiYoZGVsZXRlIGMudW5saXQsbi5hZGRPYmplY3RFeHRlbnNpb24oYywiS0hSX21hdGVyaWFsc191bmxpdCIpLG4uYWRkRXh0ZW5zaW9uKCJLSFJfbWF0ZXJpYWxzX3VubGl0IikpfX1jYXRjaCh0KXthPSEwLG89dH1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiBubyh0LGUpe3ZhciBuPW5ldyBCYSh0KSxyPW4uanNvbixpPW4uZ2V0RXh0ZW5zaW9uKCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpO2lmKGkpe3ZhciBhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wcm9ncmFtcyxyPXZvaWQgMD09PW4/W106bixpPXQuc2hhZGVycyxhPXZvaWQgMD09PWk/W106aSxvPXQudGVjaG5pcXVlcyxzPXZvaWQgMD09PW8/W106byx1PW5ldyBUZXh0RGVjb2RlcjtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighTnVtYmVyLmlzRmluaXRlKHQuYnVmZmVyVmlldykpdGhyb3cgbmV3IEVycm9yKCJLSFJfdGVjaG5pcXVlc193ZWJnbDogbm8gc2hhZGVyIGNvZGUiKTt0LmNvZGU9dS5kZWNvZGUoZS5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyh0LmJ1ZmZlclZpZXcpKX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZnJhZ21lbnRTaGFkZXI9YVt0LmZyYWdtZW50U2hhZGVyXSx0LnZlcnRleFNoYWRlcj1hW3QudmVydGV4U2hhZGVyXX0pKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucHJvZ3JhbT1yW3QucHJvZ3JhbV19KSksc30oaSxuKSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPShyLm1hdGVyaWFsc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWUsZj1uLmdldE9iamVjdEV4dGVuc2lvbihoLCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpO2YmJihoLnRlY2huaXF1ZT1PYmplY3QuYXNzaWduKHt9LGYsYVtmLnRlY2huaXF1ZV0pLGgudGVjaG5pcXVlLnZhbHVlcz1pbyhoLnRlY2huaXF1ZSxuKSksbi5yZW1vdmVPYmplY3RFeHRlbnNpb24oaCwiS0hSX3RlY2huaXF1ZXNfd2ViZ2wiKX19Y2F0Y2godCl7cz0hMCx1PXR9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fW4ucmVtb3ZlRXh0ZW5zaW9uKCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpfX1mdW5jdGlvbiBybyh0LGUpe31mdW5jdGlvbiBpbyh0LGUpe3ZhciBuPU9iamVjdC5hc3NpZ24oe30sdC52YWx1ZXMpO3JldHVybiBPYmplY3Qua2V5cyh0LnVuaWZvcm1zfHx7fSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IXQudW5pZm9ybXNbZV0udmFsdWV8fGUgaW4gbnx8KG5bZV09dC51bmlmb3Jtc1tlXS52YWx1ZSl9KSksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24odCl7Im9iamVjdCI9PT1PYmplY3QoTXIuYSkoblt0XSkmJnZvaWQgMCE9PW5bdF0uaW5kZXgmJihuW3RdLnRleHR1cmU9ZS5nZXRUZXh0dXJlKG5bdF0uaW5kZXgpKX0pKSxufXZhciBhbz17S0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb246cixLSFJfbGlnaHRzX3B1bmN0dWFsOmksS0hSX21hdGVyaWFsc191bmxpdDphLEtIUl90ZWNobmlxdWVzX3dlYmdsOm99O2Z1bmN0aW9uIG9vKHQpe3JldHVybiBzby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc28oKXtyZXR1cm4oc289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGksYSxvLHM9YXJndW1lbnRzO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOm49cy5sZW5ndGg+MSYmdm9pZCAwIT09c1sxXT9zWzFdOnt9LHI9cy5sZW5ndGg+Mj9zWzJdOnZvaWQgMCxuLmdsdGY9bi5nbHRmfHx7fSx0LnQwPVN0LmEua2V5cyhhbyk7Y2FzZSA0OmlmKCh0LnQxPXQudDAoKSkuZG9uZSl7dC5uZXh0PTE0O2JyZWFrfWlmKGk9dC50MS52YWx1ZSxhPW4uZ2x0Zi5leGNsdWRlRXh0ZW5zaW9uc3x8e30saSBpbiBhJiYhYVtpXSl7dC5uZXh0PTEyO2JyZWFrfXJldHVybiBvPWFvW2ldLHQubmV4dD0xMixvLmRlY29kZShlLG4scik7Y2FzZSAxMjp0Lm5leHQ9NDticmVhaztjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHVvO2Z1bmN0aW9uIGNvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiIiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSswKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSsxKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSsyKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKHQuZ2V0VWludDgoZSszKSkpfWZ1bmN0aW9uIGxvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9bmV3IERhdGFWaWV3KHQpLGk9bi5tYWdpYyxhPXZvaWQgMD09PWk/MTczNTE1MjcxMDppLG89ci5nZXRVaW50MzIoZSwhMSk7cmV0dXJuIG89PT1hfHwxNzM1MTUyNzEwPT09b31mdW5jdGlvbiBobyh0LGUsbixyKXtmb3IoO24rODw9dC5oZWFkZXIuYnl0ZUxlbmd0aDspe3ZhciBpPWUuZ2V0VWludDMyKG4rMCwhMCksYT1lLmdldFVpbnQzMihuKzQsITApO3N3aXRjaChuKz04LGEpe2Nhc2UgMTMxMzgyMTUxNDpmbyh0LGUsbixpLHIpO2JyZWFrO2Nhc2UgNTEzMDU2Mjp2byh0LGUsbixpLHIpO2JyZWFrO2Nhc2UgMDpyLmdsYi5zdHJpY3R8fGZvKHQsZSxuLGkscik7YnJlYWs7Y2FzZSAxOnIuZ2xiLnN0cmljdHx8dm8odCxlLG4saSxyKX1uKz1PYmplY3QoamEuYykoaSl9cmV0dXJuIG59ZnVuY3Rpb24gZm8odCxlLG4scixpKXt2YXIgYT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixuLHIpLG89bmV3IFRleHREZWNvZGVyKCJ1dGY4IikuZGVjb2RlKGEpO3QuanNvbj1KU09OLnBhcnNlKG8pfWZ1bmN0aW9uIHZvKHQsZSxuLHIsaSl7dC5oZWFkZXIuaGFzQmluQ2h1bms9ITAsdC5iaW5DaHVua3MucHVzaCh7Ynl0ZU9mZnNldDpuLGJ5dGVMZW5ndGg6cixhcnJheUJ1ZmZlcjplLmJ1ZmZlcn0pfWZ1bmN0aW9uIHBvKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBnbyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9wbyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cG8oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIHlvPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LG1vPXs1MTIwOjEsNTEyMToxLDUxMjI6Miw1MTIzOjIsNTEyNTo0LDUxMjY6NH0sYm89e1RFWFRVUkVfTUFHX0ZJTFRFUjoxMDI0MCxURVhUVVJFX01JTl9GSUxURVI6MTAyNDEsVEVYVFVSRV9XUkFQX1M6MTAyNDIsVEVYVFVSRV9XUkFQX1Q6MTAyNDMsUkVQRUFUOjEwNDk3LExJTkVBUjo5NzI5LE5FQVJFU1RfTUlQTUFQX0xJTkVBUjo5OTg2fSxfbz17bWFnRmlsdGVyOmJvLlRFWFRVUkVfTUFHX0ZJTFRFUixtaW5GaWx0ZXI6Ym8uVEVYVFVSRV9NSU5fRklMVEVSLHdyYXBTOmJvLlRFWFRVUkVfV1JBUF9TLHdyYXBUOmJvLlRFWFRVUkVfV1JBUF9UfSxPbz0odW89e30sT2JqZWN0KEZ0LmEpKHVvLGJvLlRFWFRVUkVfTUFHX0ZJTFRFUixiby5MSU5FQVIpLE9iamVjdChGdC5hKSh1byxiby5URVhUVVJFX01JTl9GSUxURVIsYm8uTkVBUkVTVF9NSVBNQVBfTElORUFSKSxPYmplY3QoRnQuYSkodW8sYm8uVEVYVFVSRV9XUkFQX1MsYm8uUkVQRUFUKSxPYmplY3QoRnQuYSkodW8sYm8uVEVYVFVSRV9XUkFQXyxiby5SRVBFQVQpLHVvKTt2YXIgeG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7T2JqZWN0KHp0LmEpKHRoaXMsdCl9cmV0dXJuIE9iamVjdChCdC5hKSh0LFt7a2V5OiJwb3N0UHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5qc29uLHI9dC5idWZmZXJzLGk9dm9pZCAwPT09cj9bXTpyLGE9dC5pbWFnZXMsbz12b2lkIDA9PT1hP1tdOmEscz10LmJhc2VVcmksdT12b2lkIDA9PT1zPyIiOnM7cmV0dXJuIFRhKG4pLHRoaXMuYmFzZVVyaT11LHRoaXMuanNvbj1uLHRoaXMuYnVmZmVycz1pLHRoaXMuaW1hZ2VzPW8sdGhpcy5fcmVzb2x2ZVRyZWUodGhpcy5qc29uLGUpLHRoaXMuanNvbn19LHtrZXk6Il9yZXNvbHZlVHJlZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3QuYnVmZmVyVmlld3MmJih0LmJ1ZmZlclZpZXdzPXQuYnVmZmVyVmlld3MubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlQnVmZmVyVmlldyh0LG4pfSkpKSx0LmltYWdlcyYmKHQuaW1hZ2VzPXQuaW1hZ2VzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZUltYWdlKHQsbil9KSkpLHQuc2FtcGxlcnMmJih0LnNhbXBsZXJzPXQuc2FtcGxlcnMubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlU2FtcGxlcih0LG4pfSkpKSx0LnRleHR1cmVzJiYodC50ZXh0dXJlcz10LnRleHR1cmVzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZVRleHR1cmUodCxuKX0pKSksdC5hY2Nlc3NvcnMmJih0LmFjY2Vzc29ycz10LmFjY2Vzc29ycy5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3Jlc29sdmVBY2Nlc3Nvcih0LG4pfSkpKSx0Lm1hdGVyaWFscyYmKHQubWF0ZXJpYWxzPXQubWF0ZXJpYWxzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZU1hdGVyaWFsKHQsbil9KSkpLHQubWVzaGVzJiYodC5tZXNoZXM9dC5tZXNoZXMubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlTWVzaCh0LG4pfSkpKSx0Lm5vZGVzJiYodC5ub2Rlcz10Lm5vZGVzLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fcmVzb2x2ZU5vZGUodCxuKX0pKSksdC5za2lucyYmKHQuc2tpbnM9dC5za2lucy5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3Jlc29sdmVTa2luKHQsbil9KSkpLHQuc2NlbmVzJiYodC5zY2VuZXM9dC5zY2VuZXMubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9yZXNvbHZlU2NlbmUodCxuKX0pKSksdm9pZCAwIT09dC5zY2VuZSYmKHQuc2NlbmU9dC5zY2VuZXNbdGhpcy5qc29uLnNjZW5lXSl9fSx7a2V5OiJnZXRTY2VuZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCgic2NlbmVzIix0KX19LHtrZXk6ImdldE5vZGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoIm5vZGVzIix0KX19LHtrZXk6ImdldFNraW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoInNraW5zIix0KX19LHtrZXk6ImdldE1lc2giLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoIm1lc2hlcyIsdCl9fSx7a2V5OiJnZXRNYXRlcmlhbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCgibWF0ZXJpYWxzIix0KX19LHtrZXk6ImdldEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KCJhY2Nlc3NvcnMiLHQpfX0se2tleToiZ2V0Q2FtZXJhIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoInRleHR1cmVzIix0KX19LHtrZXk6ImdldFNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQoInNhbXBsZXJzIix0KX19LHtrZXk6ImdldEltYWdlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KCJpbWFnZXMiLHQpfX0se2tleToiZ2V0QnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCgiYnVmZmVyVmlld3MiLHQpfX0se2tleToiZ2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KCJidWZmZXJzIix0KX19LHtrZXk6Il9nZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PT1PYmplY3QoTXIuYSkoZSkpcmV0dXJuIGU7dmFyIG49dGhpcy5qc29uW3RdJiZ0aGlzLmpzb25bdF1bZV07cmV0dXJuIG58fGNvbnNvbGUud2FybigiZ2xURiBmaWxlIGVycm9yOiBDb3VsZCBub3QgZmluZCAiLmNvbmNhdCh0LCJbIikuY29uY2F0KGUsIl0iKSksbn19LHtrZXk6Il9yZXNvbHZlU2NlbmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5pZD10LmlkfHwic2NlbmUtIi5jb25jYXQoZSksdC5ub2Rlcz0odC5ub2Rlc3x8W10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0Tm9kZSh0KX0pKSx0fX0se2tleToiX3Jlc29sdmVOb2RlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQuaWQ9dC5pZHx8Im5vZGUtIi5jb25jYXQoZSksdC5jaGlsZHJlbiYmKHQuY2hpbGRyZW49dC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmdldE5vZGUodCl9KSkpLHZvaWQgMCE9PXQubWVzaCYmKHQubWVzaD10aGlzLmdldE1lc2godC5tZXNoKSksdm9pZCAwIT09dC5jYW1lcmEmJih0LmNhbWVyYT10aGlzLmdldENhbWVyYSh0LmNhbWVyYSkpLHZvaWQgMCE9PXQuc2tpbiYmKHQuc2tpbj10aGlzLmdldFNraW4odC5za2luKSksdH19LHtrZXk6Il9yZXNvbHZlU2tpbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pZD10LmlkfHwic2tpbi0iLmNvbmNhdChlKSx0LmludmVyc2VCaW5kTWF0cmljZXM9dGhpcy5nZXRBY2Nlc3Nvcih0LmludmVyc2VCaW5kTWF0cmljZXMpLHR9fSx7a2V5OiJfcmVzb2x2ZU1lc2giLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5pZD10LmlkfHwibWVzaC0iLmNvbmNhdChlKSx0LnByaW1pdGl2ZXMmJih0LnByaW1pdGl2ZXM9dC5wcmltaXRpdmVzLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9KHQ9Z28oe30sdCkpLmF0dHJpYnV0ZXM7Zm9yKHZhciByIGluIHQuYXR0cmlidXRlcz17fSxlKXQuYXR0cmlidXRlc1tyXT1uLmdldEFjY2Vzc29yKGVbcl0pO3JldHVybiB2b2lkIDAhPT10LmluZGljZXMmJih0LmluZGljZXM9bi5nZXRBY2Nlc3Nvcih0LmluZGljZXMpKSx2b2lkIDAhPT10Lm1hdGVyaWFsJiYodC5tYXRlcmlhbD1uLmdldE1hdGVyaWFsKHQubWF0ZXJpYWwpKSx0fSkpKSx0fX0se2tleToiX3Jlc29sdmVNYXRlcmlhbCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmlkPXQuaWR8fCJtYXRlcmlhbC0iLmNvbmNhdChlKSx0Lm5vcm1hbFRleHR1cmUmJih0Lm5vcm1hbFRleHR1cmU9Z28oe30sdC5ub3JtYWxUZXh0dXJlKSx0Lm5vcm1hbFRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUodC5ub3JtYWxUZXh0dXJlLmluZGV4KSksdC5vY2NsdXNpb25UZXh0dXJlJiYodC5vY2NsdXN0aW9uVGV4dHVyZT1nbyh7fSx0Lm9jY2x1c3Rpb25UZXh0dXJlKSx0Lm9jY2x1c2lvblRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUodC5vY2NsdXNpb25UZXh0dXJlLmluZGV4KSksdC5lbWlzc2l2ZVRleHR1cmUmJih0LmVtbWlzaXZlVGV4dHVyZT1nbyh7fSx0LmVtbWlzaXZlVGV4dHVyZSksdC5lbWlzc2l2ZVRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUodC5lbWlzc2l2ZVRleHR1cmUuaW5kZXgpKSx0LnBick1ldGFsbGljUm91Z2huZXNzKXt0LnBick1ldGFsbGljUm91Z2huZXNzPWdvKHt9LHQucGJyTWV0YWxsaWNSb3VnaG5lc3MpO3ZhciBuPXQucGJyTWV0YWxsaWNSb3VnaG5lc3M7bi5iYXNlQ29sb3JUZXh0dXJlJiYobi5iYXNlQ29sb3JUZXh0dXJlPWdvKHt9LG4uYmFzZUNvbG9yVGV4dHVyZSksbi5iYXNlQ29sb3JUZXh0dXJlLnRleHR1cmU9dGhpcy5nZXRUZXh0dXJlKG4uYmFzZUNvbG9yVGV4dHVyZS5pbmRleCkpLG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiYobi5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU9Z28oe30sbi5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUpLG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLnRleHR1cmU9dGhpcy5nZXRUZXh0dXJlKG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmluZGV4KSl9cmV0dXJuIHR9fSx7a2V5OiJfcmVzb2x2ZUFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI7aWYodC5pZD10LmlkfHwiYWNjZXNzb3ItIi5jb25jYXQoZSksdm9pZCAwIT09dC5idWZmZXJWaWV3JiYodC5idWZmZXJWaWV3PXRoaXMuZ2V0QnVmZmVyVmlldyh0LmJ1ZmZlclZpZXcpKSx0LmJ5dGVzUGVyQ29tcG9uZW50PShuPXQuY29tcG9uZW50VHlwZSxtb1tuXSksdC5jb21wb25lbnRzPShyPXQudHlwZSx5b1tyXSksdC5ieXRlc1BlckVsZW1lbnQ9dC5ieXRlc1BlckNvbXBvbmVudCp0LmNvbXBvbmVudHMsdC5idWZmZXJWaWV3KXt2YXIgaT10LmJ1ZmZlclZpZXcuYnVmZmVyLGE9emEodCx0LmJ1ZmZlclZpZXcpLG89YS5BcnJheVR5cGUscz1hLmxlbmd0aCx1PSh0LmJ1ZmZlclZpZXcuYnl0ZU9mZnNldHx8MCkraS5ieXRlT2Zmc2V0O3QudmFsdWU9bmV3IG8oaS5hcnJheUJ1ZmZlcix1LHMpfXJldHVybiB0fX0se2tleToiX3Jlc29sdmVUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPXQuaWR8fCJ0ZXh0dXJlLSIuY29uY2F0KGUpLHQuc2FtcGxlcj0ic2FtcGxlciJpbiB0P3RoaXMuZ2V0U2FtcGxlcih0LnNhbXBsZXIpOk9vLHQuc291cmNlPXRoaXMuZ2V0SW1hZ2UodC5zb3VyY2UpLHR9fSx7a2V5OiJfcmVzb2x2ZVNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHQuaWQ9dC5pZHx8InNhbXBsZXItIi5jb25jYXQoZSksdC5wYXJhbWV0ZXJzPXt9LHQpe3ZhciByPXRoaXMuX2VudW1TYW1wbGVyUGFyYW1ldGVyKG4pO3ZvaWQgMCE9PXImJih0LnBhcmFtZXRlcnNbcl09dFtuXSl9cmV0dXJuIHR9fSx7a2V5OiJfZW51bVNhbXBsZXJQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBfb1t0XX19LHtrZXk6Il9yZXNvbHZlSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5pZD10LmlkfHwiaW1hZ2UtIi5jb25jYXQoZSksdm9pZCAwIT09dC5idWZmZXJWaWV3JiYodC5idWZmZXJWaWV3PXRoaXMuZ2V0QnVmZmVyVmlldyh0LmJ1ZmZlclZpZXcpKTt2YXIgbj10aGlzLmltYWdlc1tlXTtyZXR1cm4gbiYmKHQuaW1hZ2U9biksdH19LHtrZXk6Il9yZXNvbHZlQnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LmlkPXQuaWR8fCJidWZmZXJWaWV3LSIuY29uY2F0KGUpO3ZhciBuPXQuYnVmZmVyO3QuYnVmZmVyPXRoaXMuYnVmZmVyc1tuXTt2YXIgcj10aGlzLmJ1ZmZlcnNbbl0uYXJyYXlCdWZmZXIsaT10aGlzLmJ1ZmZlcnNbbl0uYnl0ZU9mZnNldHx8MDtyZXR1cm4iYnl0ZU9mZnNldCJpbiB0JiYoaSs9dC5ieXRlT2Zmc2V0KSx0LmRhdGE9bmV3IFVpbnQ4QXJyYXkocixpLHQuYnl0ZUxlbmd0aCksdH19LHtrZXk6Il9yZXNvbHZlQ2FtZXJhIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPXQuaWR8fCJjYW1lcmEtIi5jb25jYXQoZSksdC5wZXJzcGVjdGl2ZSx0Lm9ydGhvZ3JhcGhpYyx0fX1dKSx0fSgpO2Z1bmN0aW9uIHdvKHQsZSl7cmV0dXJuKG5ldyB4bykucG9zdFByb2Nlc3ModCxlKX1mdW5jdGlvbiBrbyh0LGUpe3JldHVybiBTby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gU28oKXtyZXR1cm4oU289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGksYSxvLHMsdSxjPWFyZ3VtZW50cztyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihyPWMubGVuZ3RoPjImJnZvaWQgMCE9PWNbMl0/Y1syXTowLGk9Yy5sZW5ndGg+Mz9jWzNdOnZvaWQgMCxhPWMubGVuZ3RoPjQ/Y1s0XTp2b2lkIDAsUG8oZSxuLHIsaSksbz1bXSxpLmdsdGYubG9hZEltYWdlcyYmKHM9RW8oZSxpLGEpLG8ucHVzaChzKSksIWkuZ2x0Zi5sb2FkQnVmZmVycyl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQubmV4dD05LGpvKGUsaSxhKTtjYXNlIDk6cmV0dXJuIHU9b28oZSxpLGEpLG8ucHVzaCh1KSx0Lm5leHQ9MTMsUHJvbWlzZS5hbGwobyk7Y2FzZSAxMzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsaS5nbHRmLnBvc3RQcm9jZXNzP3dvKGUsaSk6ZSk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFBvKHQsZSxuLHIpeyhyLnVyaSYmKHQuYmFzZVVyaT1yLnVyaSksZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYhbG8oZSxuLHIpKSYmKGU9KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGUpKTtpZigic3RyaW5nIj09dHlwZW9mIGUpdC5qc29uPU9iamVjdChQYS5hKShlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIGk9e307bj1mdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LGk9bmV3IERhdGFWaWV3KGUpO3QudHlwZT1jbyhpLG4rMCksdC52ZXJzaW9uPWkuZ2V0VWludDMyKG4rNCwhMCk7dmFyIGE9aS5nZXRVaW50MzIobis4LCEwKTtyZXR1cm4gdC5oZWFkZXI9e2J5dGVPZmZzZXQ6bixieXRlTGVuZ3RoOmF9LE9iamVjdChnZS5hKSgyPT09dC52ZXJzaW9uLCJJbnZhbGlkIEdMQiB2ZXJzaW9uICIuY29uY2F0KHQudmVyc2lvbiwiLiBPbmx5IHN1cHBvcnRzIHYyLiIpKSxPYmplY3QoZ2UuYSkodC5oZWFkZXIuYnl0ZUxlbmd0aD4yMCksdC5qc29uPXt9LHQuYmluQ2h1bmtzPVtdLGhvKHQsaSxuKzEyLHIpLG4rdC5oZWFkZXIuYnl0ZUxlbmd0aH0oaSxlLG4sciksVGEoImdsVEYiPT09aS50eXBlLCJJbnZhbGlkIEdMQiBtYWdpYyBzdHJpbmcgIi5jb25jYXQoaS50eXBlKSksdC5fZ2xiPWksdC5qc29uPWkuanNvbn1lbHNlIFRhKCExLCJHTFRGOiBtdXN0IGJlIEFycmF5QnVmZmVyIG9yIHN0cmluZyIpO3ZhciBhPXQuanNvbi5idWZmZXJzfHxbXTtpZih0LmJ1ZmZlcnM9bmV3IEFycmF5KGEubGVuZ3RoKS5maWxsKG51bGwpLHQuX2dsYiYmdC5fZ2xiLmhlYWRlci5oYXNCaW5DaHVuayl7dmFyIG89dC5fZ2xiLmJpbkNodW5rczt0LmJ1ZmZlcnNbMF09e2FycmF5QnVmZmVyOm9bMF0uYXJyYXlCdWZmZXIsYnl0ZU9mZnNldDpvWzBdLmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDpvWzBdLmJ5dGVMZW5ndGh9fXZhciBzPXQuanNvbi5pbWFnZXN8fFtdO3QuaW1hZ2VzPW5ldyBBcnJheShzLmxlbmd0aCkuZmlsbCh7fSl9ZnVuY3Rpb24gam8odCxlLG4pe3JldHVybiBUby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVG8oKXtyZXR1cm4oVG89T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scil7dmFyIGksYSxvLHMsdSxjO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmk9MDtjYXNlIDE6aWYoIShpPGUuanNvbi5idWZmZXJzLmxlbmd0aCkpe3QubmV4dD0xODticmVha31pZighKGE9ZS5qc29uLmJ1ZmZlcnNbaV0pLnVyaSl7dC5uZXh0PTE1O2JyZWFrfXJldHVybiBUYShvPXIuZmV0Y2gpLHM9RWEoYS51cmksbiksdC5uZXh0PTksbyhzKTtjYXNlIDk6cmV0dXJuIHU9dC5zZW50LHQubmV4dD0xMix1LmFycmF5QnVmZmVyKCk7Y2FzZSAxMjpjPXQuc2VudCxlLmJ1ZmZlcnNbaV09e2FycmF5QnVmZmVyOmMsYnl0ZU9mZnNldDowLGJ5dGVMZW5ndGg6Yy5ieXRlTGVuZ3RofSxkZWxldGUgYS51cmk7Y2FzZSAxNTorK2ksdC5uZXh0PTE7YnJlYWs7Y2FzZSAxODpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEVvKHQsZSxuKXtyZXR1cm4gQW8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEFvKCl7cmV0dXJuKEFvPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpLGEsbztyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpmb3IoaT1lLmpzb24uaW1hZ2VzfHxbXSxhPVtdLG89MDtvPGkubGVuZ3RoOysrbylhLnB1c2goTW8oZSxpW29dLG8sbixyKSk7cmV0dXJuIHQubmV4dD01LFByb21pc2UuYWxsKGEpO2Nhc2UgNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNbyh0LGUsbixyLGkpe3JldHVybiBDby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gQ28oKXtyZXR1cm4oQ289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHMsdSxjLGwsaCxmO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG89YS5mZXRjaCxzPWEucGFyc2UsIW4udXJpKXt0Lm5leHQ9OTticmVha31yZXR1cm4gYz1FYShuLnVyaSxpKSx0Lm5leHQ9NSxvKGMpO2Nhc2UgNTpyZXR1cm4gbD10LnNlbnQsdC5uZXh0PTgsbC5hcnJheUJ1ZmZlcigpO2Nhc2UgODp1PXQuc2VudDtjYXNlIDk6cmV0dXJuIE51bWJlci5pc0Zpbml0ZShuLmJ1ZmZlclZpZXcpJiYoaD1BYShlLmpzb24sZS5idWZmZXJzLG4uYnVmZmVyVmlldyksdT1PYmplY3QoamEuYikoaC5idWZmZXIsaC5ieXRlT2Zmc2V0LGguYnl0ZUxlbmd0aCkpLFRhKHUsImdsVEYgaW1hZ2UgaGFzIG5vIGRhdGEiKSx0Lm5leHQ9MTMscyh1LFNhLmEse30sYSk7Y2FzZSAxMzpmPXQuc2VudCxlLmltYWdlc1tyXT1mO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBMbyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gSW8odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/TG8oT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkxvKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fXZhciBSbz17aWQ6ImdsdGYiLG5hbWU6ImdsVEYiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsiZ2x0ZiIsImdsYiJdLG1pbWVUeXBlOiJtb2RlbC9nbHRmK2pzb24iLHRleHQ6ITAsYmluYXJ5OiEwLHRlc3Q6ImdsVEYiLHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiBEby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9wdGlvbnM6e2dsdGY6e2xvYWRCdWZmZXJzOiEwLGxvYWRJbWFnZXM6ITAsZGVjb21wcmVzc01lc2hlczohMCxwb3N0UHJvY2VzczohMH0sdXJpOiIiLGxvZzpjb25zb2xlfX0sTm89Um87ZnVuY3Rpb24gRG8oKXtyZXR1cm4oRG89T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGksYSxvLHM9YXJndW1lbnRzO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBuPXMubGVuZ3RoPjEmJnZvaWQgMCE9PXNbMV0/c1sxXTp7fSxyPXMubGVuZ3RoPjI/c1syXTp2b2lkIDAsKG49SW8oe30sUm8ub3B0aW9ucyx7fSxuKSkuZ2x0Zj1Jbyh7fSxSby5vcHRpb25zLmdsdGYse30sbi5nbHRmKSxGbyhuKSxpPW4uYnl0ZU9mZnNldCxhPXZvaWQgMD09PWk/MDppLG89e30sdC5uZXh0PTksa28obyxlLGEsbixyKTtjYXNlIDk6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxMDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEZvKHQpeyJmZXRjaEltYWdlcyJpbiB0JiYodC5nbHRmLmxvYWRJbWFnZXM9dC5mZXRjaEltYWdlcyksImNyZWF0ZUltYWdlcyJpbiB0JiYodC5nbHRmLmxvYWRJbWFnZXM9dC5jcmVhdGVJbWFnZXMpLCJmZXRjaExpbmtlZFJlc291cmNlcyJpbiB0JiYodC5nbHRmLmZldGNoQnVmZmVycz10LmZldGNoTGlua2VkUmVzb3VyY2VzKSwiZGVjb21wcmVzcyJpbiB0JiYodC5nbHRmLmRlY29tcHJlc3NNZXNoZXM9dC5kZWNvbXByZXNzKSwiZGVjb21wcmVzcyJpbiB0LmdsdGYmJih0LmdsdGYuZGVjb21wcmVzc01lc2hlcz10LmdsdGYuZGVjb21wcmVzcyksInBvc3RQcm9jZXNzImluIHQmJih0LmdsdGYucG9zdFByb2Nlc3M9dC5wb3N0UHJvY2Vzcyl9dmFyIHpvPTAsQm89MTtmdW5jdGlvbiBVbyh0LGUsbil7dC5yb3RhdGVZdG9aPSEwO3ZhciByPXQuYnl0ZU9mZnNldCt0LmJ5dGVMZW5ndGgtbjtpZigwPT09cil0aHJvdyBuZXcgRXJyb3IoImdsVEYgYnl0ZSBsZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMC4iKTtyZXR1cm4gdC5nbHRmQXJyYXlCdWZmZXI9T2JqZWN0KGphLmIpKGUsbixyKSx0LmdsdGZCeXRlT2Zmc2V0PTAsdC5nbHRmQnl0ZUxlbmd0aD1yLG4lND09MHx8Y29uc29sZS53YXJuKCIiLmNvbmNhdCh0LnR5cGUsIjogZW1iZWRkZWQgZ2xiIGlzIG5vdCBhbGlnbmVkIHRvIGEgNC1ieXRlIGJvdW5kYXJ5LiIpKSx0LmJ5dGVPZmZzZXQrdC5ieXRlTGVuZ3RofWZ1bmN0aW9uIFZvKHQsZSxuLHIpe3JldHVybiBHby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gR28oKXtyZXR1cm4oR289T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpKXt2YXIgYSxvO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKFdvKGUsbixyKSwhci5sb2FkR0xURil7dC5uZXh0PTE1O2JyZWFrfWlmKGE9aS5wYXJzZSxvPWkuZmV0Y2gsIWUuZ2x0ZlVybCl7dC5uZXh0PTg7YnJlYWt9cmV0dXJuIHQubmV4dD02LG8oZS5nbHRmVXJsLHIpO2Nhc2UgNjplLmdsdGZBcnJheUJ1ZmZlcj10LnNlbnQsZS5nbHRmQnl0ZU9mZnNldD0wO2Nhc2UgODppZighZS5nbHRmQXJyYXlCdWZmZXIpe3QubmV4dD0xNTticmVha31yZXR1cm4gdC5uZXh0PTExLGEoZS5nbHRmQXJyYXlCdWZmZXIsTm8scixpKTtjYXNlIDExOmUuZ2x0Zj10LnNlbnQsZGVsZXRlIGUuZ2x0ZkFycmF5QnVmZmVyLGRlbGV0ZSBlLmdsdGZCeXRlT2Zmc2V0LGRlbGV0ZSBlLmdsdGZCeXRlTGVuZ3RoO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBXbyh0LGUsbil7c3dpdGNoKGUpe2Nhc2Ugem86dmFyIHI9bmV3IFVpbnQ4QXJyYXkodC5nbHRmQXJyYXlCdWZmZXIsdC5nbHRmQnl0ZU9mZnNldCksaT0obmV3IFRleHREZWNvZGVyKS5kZWNvZGUocik7dC5nbHRmVXJsPWkucmVwbGFjZSgvW1xzXDBdKyQvLCIiKSxkZWxldGUgdC5nbHRmQXJyYXlCdWZmZXIsZGVsZXRlIHQuZ2x0ZkJ5dGVPZmZzZXQsZGVsZXRlIHQuZ2x0ZkJ5dGVMZW5ndGg7YnJlYWs7Y2FzZSBCbzpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiYjNkbTogSWxsZWdhbCBnbFRGIGZvcm1hdCBmaWVsZCIpfX1mdW5jdGlvbiBIbyh0LGUsbixyLGkpe3JldHVybiBxby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcW8oKXtyZXR1cm4ocW89T2JqZWN0KER0LmEpKFN0LmEubWFyaygoZnVuY3Rpb24gdChlLG4scixpLGEpe3ZhciBvLHM7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9WG8oZSxuLHIsaSxhKSx0Lm5leHQ9MyxWbyhlLEJvLGksYSk7Y2FzZSAzOnJldHVybiBvPWUuZ2x0Znx8e30sKHM9by5leHRlbnNpb25zKSYmcy5DRVNJVU1fUlRDJiYoZS5ydGNDZW50ZXI9cy5DRVNJVU1fUlRDLmNlbnRlciksdC5hYnJ1cHQoInJldHVybiIscik7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWG8odCxlLG4scixpKXtuPVVvKHQsZSxuPW5hKHQsZSxuPWVhKHQsZSxuPXRhKHQsZSxuLHIpKSkpO3ZhciBhPW5ldyBWaSh0LmZlYXR1cmVUYWJsZUpzb24sdC5mZWF0dXJlVGFibGVCaW5hcnkpO3JldHVybiB0LnJ0Y0NlbnRlcj1hLmdldEdsb2JhbFByb3BlcnR5KCJSVENfQ0VOVEVSIixGaS5GTE9BVCwzKSxufXZhciBabz1uKDIxOSk7ZnVuY3Rpb24gWW8odCxlLG4scixpKXtyZXR1cm4gS28uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEtvKCl7cmV0dXJuKEtvPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsaSxhKXtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1RbyhlLG4scixpLGEpLHQubmV4dD0zLFZvKGUsZS5nbHRmRm9ybWF0LGksYSk7Y2FzZSAzOnJldHVybiB0LmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBRbyh0LGUsbixyLGkpe2lmKG49dGEodCxlLG4sciksMSE9PXQudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIkluc3RhbmNlZCAzRCBNb2RlbCB2ZXJzaW9uICIuY29uY2F0KHQudmVyc2lvbiwiIGlzIG5vdCBzdXBwb3J0ZWQiKSk7bj1lYSh0LGUsbik7dmFyIGE9bmV3IERhdGFWaWV3KGUpO2lmKHQuZ2x0ZkZvcm1hdD1hLmdldFVpbnQzMihuLCEwKSxuPVVvKHQsZSxuPW5hKHQsZSxuKz00KSksMD09PXQuZmVhdHVyZVRhYmxlSnNvbkJ5dGVMZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJpM2RtIHBhcnNlcjogZmVhdHVyZVRhYmxlSnNvbkJ5dGVMZW5ndGggaXMgemVyby4iKTt2YXIgbz1uZXcgVmkodC5mZWF0dXJlVGFibGVKc29uLHQuZmVhdHVyZVRhYmxlQmluYXJ5KSxzPW8uZ2V0R2xvYmFsUHJvcGVydHkoIklOU1RBTkNFU19MRU5HVEgiKTtpZihvLmZlYXR1cmVzTGVuZ3RoPXMsIU51bWJlci5pc0Zpbml0ZShzKSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBJTlNUQU5DRVNfTEVOR1RIIG11c3QgYmUgZGVmaW5lZCIpO3QuZWFzdE5vcnRoVXA9by5nZXRHbG9iYWxQcm9wZXJ0eSgiRUFTVF9OT1JUSF9VUCIpLHQucnRjQ2VudGVyPW8uZ2V0R2xvYmFsUHJvcGVydHkoIlJUQ19DRU5URVIiLEZpLkZMT0FULDMpO25ldyAkaSh0LmJhdGNoVGFibGVKc29uLHQuYmF0Y2hUYWJsZUJpbmFyeSxzKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPVtuZXcgQXJyYXkociksdC5fYmF0Y2hUYWJsZV1bMF0sYT1uZXcgQXQuYSxvPShuZXcgQXQuYSxuZXcgQXQuYSxuZXcgQXQuYSxuZXcgWnIuYSkscz1uZXcgWm8uYSx1PW5ldyBBdC5hLGM9e30sbD1uZXcgVXQuYSxoPVtdLGY9W10sZD1uZXcgQXQuYSx2PW5ldyBBdC5hLHA9MDtwPHI7cCsrKXt2YXIgZz12b2lkIDA7aWYoZS5oYXNQcm9wZXJ0eSgiUE9TSVRJT04iKSlnPWUuZ2V0UHJvcGVydHkoIlBPU0lUSU9OIixGaS5GTE9BVCwzLHAsYSk7ZWxzZSBpZihlLmhhc1Byb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiKSl7Zz1lLmdldFByb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiLEZpLlVOU0lHTkVEX1NIT1JULDMscCxhKTt2YXIgeT1lLmdldEdsb2JhbFByb3BlcnR5KCJRVUFOVElaRURfVk9MVU1FX09GRlNFVCIsRmkuRkxPQVQsMyxkKTtpZigheSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBRVUFOVElaRURfVk9MVU1FX09GRlNFVCBtdXN0IGJlIGRlZmluZWQgZm9yIHF1YW50aXplZCBwb3NpdGlvbnMuIik7dmFyIG09ZS5nZXRHbG9iYWxQcm9wZXJ0eSgiUVVBTlRJWkVEX1ZPTFVNRV9TQ0FMRSIsRmkuRkxPQVQsMyx2KTtpZighbSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBRVUFOVElaRURfVk9MVU1FX1NDQUxFIG11c3QgYmUgZGVmaW5lZCBmb3IgcXVhbnRpemVkIHBvc2l0aW9ucy4iKTtmb3IodmFyIGI9MDtiPDM7YisrKWdbYl09Z1tiXS82NTUzNSptW2JdK3lbYl19aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJpM2RtOiBQT1NJVElPTiBvciBQT1NJVElPTl9RVUFOVElaRUQgbXVzdCBiZSBkZWZpbmVkIGZvciBlYWNoIGluc3RhbmNlLiIpO2EuY29weShnKSxjLnRyYW5zbGF0aW9uPWEsdC5ub3JtYWxVcD1lLmdldFByb3BlcnR5KCJOT1JNQUxfVVAiLEZpLkZMT0FULDMscCxoKSx0Lm5vcm1hbFJpZ2h0PWUuZ2V0UHJvcGVydHkoIk5PUk1BTF9SSUdIVCIsRmkuRkxPQVQsMyxwLGYpO2lmKHQubm9ybWFsVXApe2lmKCF0Lm5vcm1hbFJpZ2h0KXRocm93IG5ldyBFcnJvcigiaTNkbTogQ3VzdG9tIG9yaWVudGF0aW9uIHJlcXVpcmVzIGJvdGggTk9STUFMX1VQIGFuZCBOT1JNQUxfUklHSFQuIik7dC5oYXNDdXN0b21PcmllbnRhdGlvbj0hMH1lbHNle2lmKHQub2N0Tm9ybWFsVXA9ZS5nZXRQcm9wZXJ0eSgiTk9STUFMX1VQX09DVDMyUCIsRmkuVU5TSUdORURfU0hPUlQsMixoKSx0Lm9jdE5vcm1hbFJpZ2h0PWUuZ2V0UHJvcGVydHkoIk5PUk1BTF9SSUdIVF9PQ1QzMlAiLEZpLlVOU0lHTkVEX1NIT1JULDIsZiksdC5vY3ROb3JtYWxVcCl7aWYoIXQub2N0Tm9ybWFsUmlnaHQpdGhyb3cgbmV3IEVycm9yKCJpM2RtOiBvY3QtZW5jb2RlZCBvcmllbnRhdGlvbiByZXF1aXJlcyBOT1JNQUxfVVBfT0NUMzJQIGFuZCBOT1JNQUxfUklHSFRfT0NUMzJQIik7dGhyb3cgbmV3IEVycm9yKCJpM2RtOiBvY3QtZW5jb2RlZCBvcmllbnRhdGlvbiBub3QgaW1wbGVtZW50ZWQiKX10LmVhc3ROb3J0aFVwPyh2ZS5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShhLGwpLGwuZ2V0Um90YXRpb25NYXRyaXgzKG8pKTpvLmlkZW50aXR5KCl9ITEscy5mcm9tTWF0cml4MyhvKSxjLnJvdGF0aW9uPXMsdS5zZXQoMSwxLDEpO3ZhciBfPWUuZ2V0UHJvcGVydHkoIlNDQUxFIixGaS5GTE9BVCwxLHApO051bWJlci5pc0Zpbml0ZShfKSYmdS5tdWx0aXBseUJ5U2NhbGFyKF8pO3ZhciBPPWUuZ2V0UHJvcGVydHkoIlNDQUxFX05PTl9VTklGT1JNIixGaS5GTE9BVCwzLHAsaCk7TyYmdS5zY2FsZShPKSxjLnNjYWxlPXU7dmFyIHg9ZS5nZXRQcm9wZXJ0eSgiQkFUQ0hfSUQiLEZpLlVOU0lHTkVEX1NIT1JULDEscCk7dm9pZCAwPT09eCYmKHg9cCk7dmFyIHc9KG5ldyBVdC5hKS5mcm9tUXVhdGVybmlvbihjLnJvdGF0aW9uKTtsLmlkZW50aXR5KCksbC50cmFuc2xhdGUoYy50cmFuc2xhdGlvbiksbC5tdWx0aXBseVJpZ2h0KHcpLGwuc2NhbGUoYy5zY2FsZSk7dmFyIGs9bC5jbG9uZSgpO2lbcF09e21vZGVsTWF0cml4OmssYmF0Y2hJZDp4fX10Lmluc3RhbmNlcz1pfSh0LG8sMCxzKSxufWZ1bmN0aW9uIEpvKHQsZSxuLHIsaSxhKXtyZXR1cm4gJG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uICRvKCl7cmV0dXJuKCRvPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsaSxhLG8pe3ZhciBzLHU7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cj10YShlLG4scixpKSxzPW5ldyBEYXRhVmlldyhuKSxlLnRpbGVzTGVuZ3RoPXMuZ2V0VWludDMyKHIsITApLHIrPTQsZS50aWxlcz1bXTtjYXNlIDU6aWYoIShlLnRpbGVzLmxlbmd0aDxlLnRpbGVzTGVuZ3RoJiZlLmJ5dGVMZW5ndGgtcj4xMikpe3QubmV4dD0xMzticmVha31yZXR1cm4gdT17fSxlLnRpbGVzLnB1c2godSksdC5uZXh0PTEwLG8obixyLGksYSx1KTtjYXNlIDEwOnI9dC5zZW50LHQubmV4dD01O2JyZWFrO2Nhc2UgMTM6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHIpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB0cyh0KXtyZXR1cm4gZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGVzKCl7cmV0dXJuKGVzPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixpLGEsbz1hcmd1bWVudHM7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6bj1vLmxlbmd0aD4xJiZ2b2lkIDAhPT1vWzFdP29bMV06MCxyPW8ubGVuZ3RoPjI/b1syXTp2b2lkIDAsaT1vLmxlbmd0aD4zP29bM106dm9pZCAwLGE9by5sZW5ndGg+NCYmdm9pZCAwIT09b1s0XT9vWzRdOnt9LHI9clsiM2QtdGlsZXMiXXx8e30sYS5ieXRlT2Zmc2V0PW4sYS50eXBlPUlpKGUsbiksdC50MD1hLnR5cGUsdC5uZXh0PXQudDA9PT1DaS5DT01QT1NJVEU/MTA6dC50MD09PUNpLkJBVENIRURfM0RfTU9ERUw/MTM6dC50MD09PUNpLklOU1RBTkNFRF8zRF9NT0RFTD8xNjp0LnQwPT09Q2kuUE9JTlRfQ0xPVUQ/MTk6MjI7YnJlYWs7Y2FzZSAxMDpyZXR1cm4gdC5uZXh0PTEyLEpvKGEsZSxuLHIsaSx0cyk7Y2FzZSAxMjpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDEzOnJldHVybiB0Lm5leHQ9MTUsSG8oYSxlLG4scixpKTtjYXNlIDE1OnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnNlbnQpO2Nhc2UgMTY6cmV0dXJuIHQubmV4dD0xOCxZbyhhLGUsbixyLGkpO2Nhc2UgMTg6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxOTpyZXR1cm4gdC5uZXh0PTIxLHZhKGEsZSxuLHIsaSk7Y2FzZSAyMTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDIyOnRocm93IG5ldyBFcnJvcigiM0RUaWxlTG9hZGVyOiB1bmtub3duIHR5cGUgIi5jb25jYXQoYS50eXBlKSk7Y2FzZSAyMzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG5zKHQsZSl7cmV0dXJuIHQuY29udGVudCYmKHQuY29udGVudFVybD0iIi5jb25jYXQoZS5iYXNlUGF0aCwiLyIpLmNvbmNhdCh0LmNvbnRlbnQudXJpKSksdC5pZD10LmNvbnRlbnRVcmwsdC5sb2RNZXRyaWNUeXBlPUhyLHQubG9kTWV0cmljVmFsdWU9dC5nZW9tZXRyaWNFcnJvcix0LnRyYW5zZm9ybU1hdHJpeD10LnRyYW5zZm9ybSx0LnR5cGU9ZnVuY3Rpb24odCl7aWYoIXQuY29udGVudFVybClyZXR1cm4genI7dmFyIGU9dC5jb250ZW50VXJsLnNwbGl0KCIuIikucG9wKCk7c3dpdGNoKGUpe2Nhc2UicG50cyI6cmV0dXJuIFVyO2Nhc2UiaTNkbSI6Y2FzZSJiM2RtIjpyZXR1cm4gQnI7ZGVmYXVsdDpyZXR1cm4gZX19KHQpLHQucmVmaW5lPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIlJFUExBQ0UiOmNhc2UicmVwbGFjZSI6cmV0dXJuIEZyO2Nhc2UiQUREIjpjYXNlImFkZCI6cmV0dXJuIERyO2RlZmF1bHQ6cmV0dXJuIHR9fSh0LnJlZmluZSksdH1mdW5jdGlvbiBycyh0KXt2YXIgZT10LmJhc2VQYXRoLG49bnModC5yb290LHQpLHI9W107Zm9yKHIucHVzaChuKTtyLmxlbmd0aD4wOyl7dmFyIGk9ci5wb3AoKS5jaGlsZHJlbnx8W10sYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7bnMobCx7YmFzZVBhdGg6ZX0pLHIucHVzaChsKX19Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fX1yZXR1cm4gbn1mdW5jdGlvbiBpcyh0KXtyZXR1cm4geWUuYS5kaXJuYW1lKHQudXJsKX1mdW5jdGlvbiBhcyh0LGUsbil7cmV0dXJuIG9zLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvcygpe3JldHVybihvcz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgaTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4oaT17fSkuY29udGVudD1pLmNvbnRlbnR8fHt9LDAsdC5uZXh0PTUsdHMoZSwwLG4scixpLmNvbnRlbnQpO2Nhc2UgNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsaS5jb250ZW50KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBzcyh0LGUsbil7cmV0dXJuIHVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1cygpe3JldHVybih1cz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgaTtyZXR1cm4gU3QuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4oaT1KU09OLnBhcnNlKChuZXcgVGV4dERlY29kZXIpLmRlY29kZShlKSkpLmxvYWRlcj1uLmxvYWRlcnx8bHMsaS51cmw9ci51cmwsaS5iYXNlUGF0aD1pcyhpKSxpLnJvb3Q9cnMoaSksaS50eXBlPVdyLGkubG9kTWV0cmljVHlwZT1IcixpLmxvZE1ldHJpY1ZhbHVlPWkucm9vdC5sb2RNZXRyaWNWYWx1ZSx0LmFicnVwdCgicmV0dXJuIixpKTtjYXNlIDk6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjcygpe3JldHVybihjcz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGkpe3ZhciBhO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKGE9blsiM2QtdGlsZXMiXXx8e30sISgiaXNUaWxlc2V0ImluIGE/bi5pc1RpbGVzZXQ6ci51cmwmJi0xIT09ci51cmwuaW5kZXhPZigiLmpzb24iKSkpe3QubmV4dD04O2JyZWFrfXJldHVybiB0Lm5leHQ9NSxzcyhlLG4scixpKTtjYXNlIDU6ZT10LnNlbnQsdC5uZXh0PTExO2JyZWFrO2Nhc2UgODpyZXR1cm4gdC5uZXh0PTEwLGFzKGUsbixyKTtjYXNlIDEwOmU9dC5zZW50O2Nhc2UgMTE6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLGUpO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbHM9e2lkOiIzZC10aWxlcyIsbmFtZToiM0QgVGlsZXMiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsianNvbiIsImNtcHQiLCJwbnRzIiwiYjNkbSIsImkzZG0iXSxtaW1lVHlwZToiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIix0ZXN0OlsianNvbiIsImNtcHQiLCJwbnRzIiwiYjNkbSIsImkzZG0iXSxwYXJzZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gY3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvcHRpb25zOnsiM2QtdGlsZXMiOntsb2FkR0xURjohMCxkZWNvZGVRdWFudGl6ZWRQb3NpdGlvbnM6ITF9fX0saHM9bHM7ZnVuY3Rpb24gZnModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGRzKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2ZzKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7anQoKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6ZnMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIHZzPW5ldyBBdC5hLHBzPXtnZXRQb2ludENvbG9yOlswLDAsMF0scG9pbnRTaXplOjEsZGF0YTpudWxsLGxvYWRPcHRpb25zOnt9LGxvYWRlcjpocyxvblRpbGVzZXRMb2FkOmZ1bmN0aW9uKHQpe30sb25UaWxlTG9hZDpmdW5jdGlvbih0KXt9LG9uVGlsZVVubG9hZDpmdW5jdGlvbih0KXt9LG9uVGlsZUVycm9yOmZ1bmN0aW9uKHQsZSxuKXt9fSxncz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXZhciBuO3JldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpeyJvblRpbGVMb2FkRmFpbCJpbiB0aGlzLnByb3BzJiZVLmEucmVtb3ZlZCgib25UaWxlTG9hZEZhaWwiLCJvblRpbGVFcnJvciIpKCksdGhpcy5zdGF0ZT17bGF5ZXJNYXA6e30sdGlsZXNldDNkOm51bGx9fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPXQub2xkUHJvcHMscj10LmNoYW5nZUZsYWdzO2lmKGUuZGF0YSYmZS5kYXRhIT09bi5kYXRhJiZ0aGlzLl9sb2FkVGlsZXNldChlLmRhdGEpLHIudmlld3BvcnRDaGFuZ2VkKXt2YXIgaT10aGlzLnN0YXRlLnRpbGVzZXQzZDt0aGlzLl91cGRhdGVUaWxlc2V0KGkpfX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmluZm8sbj10LnNvdXJjZUxheWVyLHI9dGhpcy5zdGF0ZS5sYXllck1hcCxpPW4mJm4uaWQ7aWYoaSl7dmFyIGE9aS5zdWJzdHJpbmcodGhpcy5pZC5sZW5ndGgrMSksbz1hLnN1YnN0cmluZyhhLmluZGV4T2YoIi0iKSsxKTtlLm9iamVjdD1yW29dJiZyW29dLnRpbGV9cmV0dXJuIGV9fSx7a2V5OiJfbG9hZFRpbGVzZXQiLHZhbHVlOihuPUV0KCkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxhLG8scyx1O3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG49dGhpcy5wcm9wcyxyPW4ubG9hZGVyLGk9bi5sb2FkT3B0aW9ucyxhPWRzKHt9LGkpLCFyLnByZWxvYWQpe3QubmV4dD03O2JyZWFrfXJldHVybiB0Lm5leHQ9NSxyLnByZWxvYWQoZSxpKTtjYXNlIDU6bz10LnNlbnQsT2JqZWN0LmFzc2lnbihhLG8pO2Nhc2UgNzpyZXR1cm4gdC5uZXh0PTksT2JqZWN0KE50LmEpKGUscixhKTtjYXNlIDk6cz10LnNlbnQsdT1uZXcgTWkocyxkcyh7b25UaWxlTG9hZDp0aGlzLl9vblRpbGVMb2FkLmJpbmQodGhpcyksb25UaWxlVW5sb2FkOnRoaXMuX29uVGlsZVVubG9hZC5iaW5kKHRoaXMpLG9uVGlsZUxvYWRGYWlsOnRoaXMucHJvcHMub25UaWxlRXJyb3J9LGEpKSx0aGlzLnNldFN0YXRlKHt0aWxlc2V0M2Q6dSxsYXllck1hcDp7fX0pLHRoaXMuX3VwZGF0ZVRpbGVzZXQodSksdGhpcy5wcm9wcy5vblRpbGVzZXRMb2FkKHUpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX29uVGlsZUxvYWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucHJvcHMub25UaWxlTG9hZCh0KSx0aGlzLl91cGRhdGVUaWxlc2V0KHRoaXMuc3RhdGUudGlsZXNldDNkKSx0aGlzLnNldE5lZWRzVXBkYXRlKCl9fSx7a2V5OiJfb25UaWxlVW5sb2FkIix2YWx1ZTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5zdGF0ZS5sYXllck1hcFt0LmlkXSx0aGlzLnByb3BzLm9uVGlsZVVubG9hZCh0KX19LHtrZXk6Il91cGRhdGVUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQsbj1lLnRpbWVsaW5lLHI9ZS52aWV3cG9ydDtpZihuJiZyJiZ0KXt2YXIgaT10LnVwZGF0ZShyKTt0aGlzLnN0YXRlLmZyYW1lTnVtYmVyIT09aSYmdGhpcy5zZXRTdGF0ZSh7ZnJhbWVOdW1iZXI6aX0pfX19LHtrZXk6Il9jcmVhdGUzRFRpbGVMYXllciIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXQuY29udGVudClyZXR1cm4gbnVsbDtzd2l0Y2godC50eXBlKXtjYXNlIFVyOnJldHVybiB0aGlzLl9jcmVhdGVQb2ludENsb3VkVGlsZUxheWVyKHQpO2Nhc2UgQnI6cmV0dXJuIHRoaXMuX2NyZWF0ZTNETW9kZWxUaWxlTGF5ZXIodCk7Y2FzZSBWcjpyZXR1cm4gdGhpcy5fY3JlYXRlU2ltcGxlTWVzaExheWVyKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJUaWxlM0RMYXllcjogRmFpbGVkIHRvIHJlbmRlciBsYXllciBvZiB0eXBlICIuY29uY2F0KHQuY29udGVudC50eXBlKSl9fX0se2tleToiX2NyZWF0ZVBvaW50Q2xvdWRUaWxlTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29udGVudCxuPWUuYXR0cmlidXRlcyxyPWUucG9pbnRDb3VudCxpPWUuY29uc3RhbnRSR0JBLGE9ZS5jYXJ0b2dyYXBoaWNPcmlnaW4sbz1lLm1vZGVsTWF0cml4LHM9bi5wb3NpdGlvbnMsdT1uLm5vcm1hbHMsYz1uLmNvbG9ycztpZighcylyZXR1cm4gbnVsbDt2YXIgbD10aGlzLnByb3BzLGg9bC5wb2ludFNpemUsZj1sLmdldFBvaW50Q29sb3I7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoInBvaW50Y2xvdWQiLEx0LmEpKSh7cG9pbnRTaXplOmh9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InBvaW50Y2xvdWQifSkse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItcG9pbnRjbG91ZC0iKS5jb25jYXQodC5pZCksZGF0YTp7aGVhZGVyOnt2ZXJ0ZXhDb3VudDpyfSxhdHRyaWJ1dGVzOntQT1NJVElPTjpzLE5PUk1BTDp1LENPTE9SXzA6Y319LGNvb3JkaW5hdGVTeXN0ZW06Q3QuYS5NRVRFUl9PRkZTRVRTLGNvb3JkaW5hdGVPcmlnaW46YSxtb2RlbE1hdHJpeDpvLGdldENvbG9yOml8fGZ9KX19LHtrZXk6Il9jcmVhdGUzRE1vZGVsVGlsZUxheWVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNvbnRlbnQsbj1lLmdsdGYscj1lLmluc3RhbmNlcyxpPWUuY2FydG9ncmFwaGljT3JpZ2luLGE9ZS5tb2RlbE1hdHJpeDtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygic2NlbmVncmFwaCIsSXQuYSkpKHtfbGlnaHRpbmc6InBiciJ9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InNjZW5lZ3JhcGgifSkse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItc2NlbmVncmFwaC0iKS5jb25jYXQodC5pZCksZGF0YTpyfHxbe31dLHNjZW5lZ3JhcGg6bixjb29yZGluYXRlU3lzdGVtOkN0LmEuTUVURVJfT0ZGU0VUUyxjb29yZGluYXRlT3JpZ2luOmksbW9kZWxNYXRyaXg6YSxnZXRUcmFuc2Zvcm1NYXRyaXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW9kZWxNYXRyaXh9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVyblswLDAsMF19fSl9fSx7a2V5OiJfY3JlYXRlU2ltcGxlTWVzaExheWVyIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5jb250ZW50LG49ZS5hdHRyaWJ1dGVzLHI9ZS5tb2RlbE1hdHJpeCxpPWUuY2FydG9ncmFwaGljT3JpZ2luLGE9ZS50ZXh0dXJlLG89bi5ub3JtYWxzLHM9bi50ZXhDb29yZHMsdT1uZXcgRmxvYXQzMkFycmF5KG4ucG9zaXRpb25zLnZhbHVlLmxlbmd0aCksYz0wO2M8dS5sZW5ndGg7Yys9Myl2cy5jb3B5KG4ucG9zaXRpb25zLnZhbHVlLnN1YmFycmF5KGMsYyszKSksdS5zZXQodnMsYyk7dmFyIGw9bmV3IE10LmEoe2RyYXdNb2RlOjQsYXR0cmlidXRlczp7cG9zaXRpb25zOnUsbm9ybWFsczpvLHRleENvb3JkczpzfX0pO3JldHVybiBuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixSdC5hKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoibWVzaCJ9KSx7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi1tZXNoLSIpLmNvbmNhdCh0LmlkKSxtZXNoOmwsZGF0YTpbe31dLGdldFBvc2l0aW9uOlswLDAsMF0sZ2V0Q29sb3I6WzI1NSwyNTUsMjU1XSx0ZXh0dXJlOmEsbW9kZWxNYXRyaXg6cixjb29yZGluYXRlT3JpZ2luOmksY29vcmRpbmF0ZVN5c3RlbTpDdC5hLk1FVEVSX09GRlNFVFN9KX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5zdGF0ZSxuPWUudGlsZXNldDNkLHI9ZS5sYXllck1hcDtyZXR1cm4gbj9uLnRpbGVzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49cltlLmlkXSYmcltlLmlkXS5sYXllcjtyZXR1cm4gZS5zZWxlY3RlZD8obnx8KG49dC5fY3JlYXRlM0RUaWxlTGF5ZXIoZSkscltlLmlkXT17bGF5ZXI6bix0aWxlOmV9KSxuJiZuLnByb3BzJiYhbi5wcm9wcy52aXNpYmxlJiYobj1uLmNsb25lKHt2aXNpYmxlOiEwfSkscltlLmlkXS5sYXllcj1uKSxuKToobiYmbi5wcm9wcyYmbi5wcm9wcy52aXNpYmxlJiYobj1uLmNsb25lKHt2aXNpYmxlOiExfSkscltlLmlkXS5sYXllcj1uKSxuKX0pKS5maWx0ZXIoQm9vbGVhbik6bnVsbH19XSksZX0ody5hKTtncy5sYXllck5hbWU9IlRpbGUzRExheWVyIixncy5kZWZhdWx0UHJvcHM9cHM7dmFyIHlzPW4oMTUxKTtjbGFzcyBtc3tjb25zdHJ1Y3Rvcih0PTI1Nyl7dGhpcy5ncmlkU2l6ZT10O2NvbnN0IGU9dC0xO2lmKGUmZS0xKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZ3JpZCBzaXplIHRvIGJlIDJebisxLCBnb3QgJHt0fS5gKTt0aGlzLm51bVRyaWFuZ2xlcz1lKmUqMi0yLHRoaXMubnVtUGFyZW50VHJpYW5nbGVzPXRoaXMubnVtVHJpYW5nbGVzLWUqZSx0aGlzLmluZGljZXM9bmV3IFVpbnQzMkFycmF5KHRoaXMuZ3JpZFNpemUqdGhpcy5ncmlkU2l6ZSksdGhpcy5jb29yZHM9bmV3IFVpbnQxNkFycmF5KDQqdGhpcy5udW1UcmlhbmdsZXMpO2ZvcihsZXQgdD0wO3Q8dGhpcy5udW1UcmlhbmdsZXM7dCsrKXtsZXQgbj10KzIscj0wLGk9MCxhPTAsbz0wLHM9MCx1PTA7Zm9yKDEmbj9hPW89cz1lOnI9aT11PWU7KG4+Pj0xKT4xOyl7Y29uc3QgdD1yK2E+PjEsZT1pK28+PjE7MSZuPyhhPXIsbz1pLHI9cyxpPXUpOihyPWEsaT1vLGE9cyxvPXUpLHM9dCx1PWV9Y29uc3QgYz00KnQ7dGhpcy5jb29yZHNbYyswXT1yLHRoaXMuY29vcmRzW2MrMV09aSx0aGlzLmNvb3Jkc1tjKzJdPWEsdGhpcy5jb29yZHNbYyszXT1vfX1jcmVhdGVUaWxlKHQpe3JldHVybiBuZXcgYnModCx0aGlzKX19Y2xhc3MgYnN7Y29uc3RydWN0b3IodCxlKXtjb25zdCBuPWUuZ3JpZFNpemU7aWYodC5sZW5ndGghPT1uKm4pdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0ZXJyYWluIGRhdGEgb2YgbGVuZ3RoICR7bipufSAoJHtufSB4ICR7bn0pLCBnb3QgJHt0Lmxlbmd0aH0uYCk7dGhpcy50ZXJyYWluPXQsdGhpcy5tYXJ0aW5pPWUsdGhpcy5lcnJvcnM9bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aCksdGhpcy51cGRhdGUoKX11cGRhdGUoKXtjb25zdHtudW1UcmlhbmdsZXM6dCxudW1QYXJlbnRUcmlhbmdsZXM6ZSxjb29yZHM6bixncmlkU2l6ZTpyfT10aGlzLm1hcnRpbmkse3RlcnJhaW46aSxlcnJvcnM6YX09dGhpcztmb3IobGV0IG89dC0xO28+PTA7by0tKXtjb25zdCB0PTQqbyxzPW5bdCswXSx1PW5bdCsxXSxjPW5bdCsyXSxsPW5bdCszXSxoPXMrYz4+MSxmPXUrbD4+MSxkPWgrZi11LHY9ZitzLWgscD0oaVt1KnIrc10raVtsKnIrY10pLzIsZz1mKnIraCx5PU1hdGguYWJzKHAtaVtnXSk7aWYoYVtnXT1NYXRoLm1heChhW2ddLHkpLG88ZSl7Y29uc3QgdD0odSt2Pj4xKSpyKyhzK2Q+PjEpLGU9KGwrdj4+MSkqcisoYytkPj4xKTthW2ddPU1hdGgubWF4KGFbZ10sYVt0XSxhW2VdKX19fWdldE1lc2godD0wKXtjb25zdHtncmlkU2l6ZTplLGluZGljZXM6bn09dGhpcy5tYXJ0aW5pLHtlcnJvcnM6cn09dGhpcztsZXQgaT0wLGE9MDtjb25zdCBvPWUtMTtmdW5jdGlvbiBzKG8sdSxjLGwsaCxmKXtjb25zdCBkPW8rYz4+MSx2PXUrbD4+MTtNYXRoLmFicyhvLWgpK01hdGguYWJzKHUtZik+MSYmclt2KmUrZF0+dD8ocyhoLGYsbyx1LGQsdikscyhjLGwsaCxmLGQsdikpOihuW3UqZStvXT1uW3UqZStvXXx8KytpLG5bbCplK2NdPW5bbCplK2NdfHwrK2ksbltmKmUraF09bltmKmUraF18fCsraSxhKyspfW4uZmlsbCgwKSxzKDAsMCxvLG8sbywwKSxzKG8sbywwLDAsMCxvKTtjb25zdCB1PW5ldyBVaW50MTZBcnJheSgyKmkpLGM9bmV3IFVpbnQzMkFycmF5KDMqYSk7bGV0IGw9MDtmdW5jdGlvbiBoKGksYSxvLHMsZixkKXtjb25zdCB2PWkrbz4+MSxwPWErcz4+MTtpZihNYXRoLmFicyhpLWYpK01hdGguYWJzKGEtZCk+MSYmcltwKmUrdl0+dCloKGYsZCxpLGEsdixwKSxoKG8scyxmLGQsdixwKTtlbHNle2NvbnN0IHQ9blthKmUraV0tMSxyPW5bcyplK29dLTEsaD1uW2QqZStmXS0xO3VbMip0XT1pLHVbMip0KzFdPWEsdVsyKnJdPW8sdVsyKnIrMV09cyx1WzIqaF09Zix1WzIqaCsxXT1kLGNbbCsrXT10LGNbbCsrXT1yLGNbbCsrXT1ofX1yZXR1cm4gaCgwLDAsbyxvLG8sMCksaChvLG8sMCwwLDAsbykse3ZlcnRpY2VzOnUsdHJpYW5nbGVzOmN9fX12YXIgX3M9bigxODIpO2Z1bmN0aW9uIE9zKHQsZSl7aWYobnVsbD09PXQpcmV0dXJuIG51bGw7dmFyIG49ZS5tZXNoTWF4RXJyb3Iscj1lLmJvdW5kcyxpPWUuZWxldmF0aW9uRGVjb2RlcixhPXQuZGF0YSxvPXQud2lkdGgscz1vKzEsdT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4uclNjYWxlcixpPW4uYlNjYWxlcixhPW4uZ1NjYWxlcixvPW4ub2Zmc2V0LHM9ZSsxLHU9bmV3IEZsb2F0MzJBcnJheShzKnMpLGM9MCxsPTA7bDxlO2wrKylmb3IodmFyIGg9MDtoPGU7aCsrLGMrKyl7dmFyIGY9NCpjLGQ9dFtmKzBdLHY9dFtmKzFdLHA9dFtmKzJdO3VbYytsXT1kKnIrdiphK3AqaStvfWZvcih2YXIgZz1zKihzLTEpLHk9MDt5PHMtMTt5KyssZysrKXVbZ109dVtnLXNdO2Zvcih2YXIgbT1zLTEsYj0wO2I8cztiKyssbSs9cyl1W21dPXVbbS0xXTtyZXR1cm4gdX0oYSxvLGkpLGM9bmV3IG1zKHMpLmNyZWF0ZVRpbGUodSkuZ2V0TWVzaChuKSxsPWMudmVydGljZXMsaD1jLnRyaWFuZ2xlcyxmPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgaT1uKzEsYT10Lmxlbmd0aC8yLG89bmV3IEZsb2F0MzJBcnJheSgzKmEpLHM9bmV3IEZsb2F0MzJBcnJheSgyKmEpLHU9cnx8WzAsMCxuLG5dLGM9T2JqZWN0KFZ0LmEpKHUsNCksbD1jWzBdLGg9Y1sxXSxmPWNbMl0sZD1jWzNdLHY9KGYtbCkvbixwPShkLWgpL24sZz0wO2c8YTtnKyspe3ZhciB5PXRbMipnXSxtPXRbMipnKzFdLGI9bSppK3k7b1szKmcrMF09eSp2K2wsb1szKmcrMV09LW0qcCtkLG9bMypnKzJdPWVbYl0sc1syKmcrMF09eS9uLHNbMipnKzFdPW0vbn1yZXR1cm57UE9TSVRJT046e3ZhbHVlOm8sc2l6ZTozfSxURVhDT09SRF8wOnt2YWx1ZTpzLHNpemU6Mn19fShsLHUsbyxyKTtyZXR1cm57bG9hZGVyRGF0YTp7aGVhZGVyOnt9fSxoZWFkZXI6e3ZlcnRleENvdW50OmgubGVuZ3RoLGJvdW5kaW5nQm94Ok9iamVjdChfcy5hKShmKX0sbW9kZTo0LGluZGljZXM6e3ZhbHVlOmgsc2l6ZToxfSxhdHRyaWJ1dGVzOmZ9fWZ1bmN0aW9uIHhzKCl7cmV0dXJuKHhzPU9iamVjdChEdC5hKShTdC5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpO3JldHVybiBTdC5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBuLmltYWdlPW4uaW1hZ2V8fHt9LG4uaW1hZ2UudHlwZT0iZGF0YSIsdC5uZXh0PTQsci5wYXJzZShlLG4sbi5iYXNlVXJpKTtjYXNlIDQ6cmV0dXJuIGk9dC5zZW50LHQuYWJydXB0KCJyZXR1cm4iLE9zKGksbi50ZXJyYWluKSk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gd3ModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBrcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj93cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6d3MoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHtpZDoidGVycmFpbiIsbmFtZToiVGVycmFpbiIsdmVyc2lvbjoiMi4xLjEiLGV4dGVuc2lvbnM6WyJwbmciLCJwbmdyYXciXSxtaW1lVHlwZToiaW1hZ2UvcG5nIixvcHRpb25zOnt0ZXJyYWluOnt3b3JrZXJVcmw6Imh0dHBzOi8vdW5wa2cuY29tL0Bsb2FkZXJzLmdsL3RlcnJhaW5AIi5jb25jYXQoIjIuMS4xIiwiL2Rpc3QvdGVycmFpbi1sb2FkZXIud29ya2VyLmpzIiksbWVzaE1heEVycm9yOjEwLGVsZXZhdGlvbkRlY29kZXI6e3JTY2FsZXI6MSxnU2NhbGVyOjAsYlNjYWxlcjowLG9mZnNldDowfX19fSx7cGFyc2U6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB4cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSk7ZnVuY3Rpb24gU3ModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBQcz1bMV0sanM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/U3MoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtqdCgpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpTcyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdXQuZGVmYXVsdFByb3BzLHtlbGV2YXRpb25EYXRhOnEsdGV4dHVyZTpxLG1lc2hNYXhFcnJvcjp7dHlwZToibnVtYmVyIix2YWx1ZTo0fSxib3VuZHM6e3R5cGU6ImFycmF5Iix2YWx1ZTpudWxsLG9wdGlvbmFsOiEwLGNvbXBhcmU6ITB9LGNvbG9yOnt0eXBlOiJjb2xvciIsdmFsdWU6WzI1NSwyNTUsMjU1XX0sZWxldmF0aW9uRGVjb2Rlcjp7dHlwZToib2JqZWN0Iix2YWx1ZTp7clNjYWxlcjoxLGdTY2FsZXI6MCxiU2NhbGVyOjAsb2Zmc2V0OjB9fSx3b3JrZXJVcmw6e3R5cGU6InN0cmluZyIsdmFsdWU6bnVsbH0sd2lyZWZyYW1lOiExLG1hdGVyaWFsOiEwfSk7ZnVuY3Rpb24gVHModCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5qb2luKCI7Iik6dH12YXIgRXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5vbGRQcm9wcyxyPWUuZWxldmF0aW9uRGF0YSE9PW4uZWxldmF0aW9uRGF0YTtpZihyKXt2YXIgaT1lLmVsZXZhdGlvbkRhdGEsYT1pJiYoQXJyYXkuaXNBcnJheShpKXx8aS5pbmNsdWRlcygie3h9IikmJmkuaW5jbHVkZXMoInt5fSIpKTt0aGlzLnNldFN0YXRlKHtpc1RpbGVkOmF9KX12YXIgbz1yfHxlLm1lc2hNYXhFcnJvciE9PW4ubWVzaE1heEVycm9yfHxlLmVsZXZhdGlvbkRlY29kZXIhPT1uLmVsZXZhdGlvbkRlY29kZXJ8fGUuYm91bmRzIT09bi5ib3VuZHM7aWYoIXRoaXMuc3RhdGUuaXNUaWxlZCYmbyl7dmFyIHM9dGhpcy5sb2FkVGVycmFpbihlKTt0aGlzLnNldFN0YXRlKHt0ZXJyYWluOnN9KX19fSx7a2V5OiJsb2FkVGVycmFpbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5lbGV2YXRpb25EYXRhLG49dC5ib3VuZHMscj10LmVsZXZhdGlvbkRlY29kZXIsaT10Lm1lc2hNYXhFcnJvcixhPXQud29ya2VyVXJsO2lmKCFlKXJldHVybiBudWxsO3ZhciBvPXt0ZXJyYWluOntib3VuZHM6bixtZXNoTWF4RXJyb3I6aSxlbGV2YXRpb25EZWNvZGVyOnJ9fTtyZXR1cm4gbnVsbCE9PWEmJihvLnRlcnJhaW4ud29ya2VyVXJsPWEpLE9iamVjdChOdC5hKShlLGtzLG8pfX0se2tleToiZ2V0VGlsZWRUZXJyYWluRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcyxuPWUuZWxldmF0aW9uRGF0YSxyPWUudGV4dHVyZSxpPWUuZWxldmF0aW9uRGVjb2RlcixhPWUubWVzaE1heEVycm9yLG89ZS53b3JrZXJVcmwscz1YKG4sdCksdT1YKHIsdCksYz10LmJib3gsbD10LnosaD1uZXcgeXMuYSh7bG9uZ2l0dWRlOihjLndlc3QrYy5lYXN0KS8yLGxhdGl0dWRlOihjLm5vcnRoK2Muc291dGgpLzIsem9vbTpsfSksZj1oLnByb2plY3RGbGF0KFtjLndlc3QsYy5zb3V0aF0pLGQ9aC5wcm9qZWN0RmxhdChbYy5lYXN0LGMubm9ydGhdKSx2PVtmWzBdLGZbMV0sZFswXSxkWzFdXSxwPXRoaXMubG9hZFRlcnJhaW4oe2VsZXZhdGlvbkRhdGE6cyxib3VuZHM6dixlbGV2YXRpb25EZWNvZGVyOmksbWVzaE1heEVycm9yOmEsd29ya2VyVXJsOm99KSxnPXU/T2JqZWN0KE50LmEpKHUpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0pKTpQcm9taXNlLnJlc29sdmUobnVsbCk7cmV0dXJuIFByb21pc2UuYWxsKFtwLGddKX19LHtrZXk6InJlbmRlclN1YkxheWVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixSdC5hKSxuPXQuZGF0YSxyPXQuY29sb3IsaT1udWxsLGE9bnVsbDtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT8oaT1uWzBdLGE9blsxXSk6biYmKGk9bi50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdFswXX0pKSxhPW4udGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRbMV19KSkpLG5ldyBlKHQse2RhdGE6UHMsbWVzaDppLHRleHR1cmU6YSxjb29yZGluYXRlU3lzdGVtOkN0LmEuQ0FSVEVTSUFOLGdldFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVyblswLDAsMF19LGdldENvbG9yOnJ9KX19LHtrZXk6Im9uVmlld3BvcnRMb2FkIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0JiYwIT09dC5sZW5ndGgmJiF0LmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4hdH0pKSl7dmFyIGU9dGhpcy5zdGF0ZS56UmFuZ2Usbj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0uaGVhZGVyLmJvdW5kaW5nQm94Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMl19KSl9KSkscj1NYXRoLm1pbi5hcHBseShNYXRoLFcoKShuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSkpKSxpPU1hdGgubWF4LmFwcGx5KE1hdGgsVygpKG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSkpOyghZXx8cjxlWzBdfHxpPmVbMV0pJiZ0aGlzLnNldFN0YXRlKHt6UmFuZ2U6W3IsaV19KX19fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuY29sb3Isbj10Lm1hdGVyaWFsLHI9dC5lbGV2YXRpb25EYXRhLGk9dC50ZXh0dXJlLGE9dC53aXJlZnJhbWUsbz10Lm1lc2hNYXhFcnJvcixzPXQuZWxldmF0aW9uRGVjb2RlcjtyZXR1cm4gdGhpcy5zdGF0ZS5pc1RpbGVkP25ldyB1dCh0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJ0aWxlcyJ9KSx7d2lyZWZyYW1lOmEsY29sb3I6ZSxtYXRlcmlhbDpuLGdldFRpbGVEYXRhOnRoaXMuZ2V0VGlsZWRUZXJyYWluRGF0YS5iaW5kKHRoaXMpLHJlbmRlclN1YkxheWVyczp0aGlzLnJlbmRlclN1YkxheWVycy5iaW5kKHRoaXMpLHVwZGF0ZVRyaWdnZXJzOntnZXRUaWxlRGF0YTp7ZWxldmF0aW9uRGF0YTpUcyhyKSx0ZXh0dXJlOlRzKGkpLG1lc2hNYXhFcnJvcjpvLGVsZXZhdGlvbkRlY29kZXI6c319LG9uVmlld3BvcnRMb2FkOnRoaXMub25WaWV3cG9ydExvYWQuYmluZCh0aGlzKSx6UmFuZ2U6dGhpcy5zdGF0ZS56UmFuZ2V8fG51bGx9KTpuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixSdC5hKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoibWVzaCJ9KSx7ZGF0YTpQcyxtZXNoOnRoaXMuc3RhdGUudGVycmFpbix0ZXh0dXJlOmksX2luc3RhbmNlZDohMSxnZXRQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5bMCwwLDBdfSxnZXRDb2xvcjplLG1hdGVyaWFsOm4sd2lyZWZyYW1lOmF9KX19XSksZX0ody5hKTtFcy5sYXllck5hbWU9IlRlcnJhaW5MYXllciIsRXMuZGVmYXVsdFByb3BzPWpzO3ZhciBBcz1uKDIyOSksTXM9bigyMzApLENzPW4ubihNcyksTHM9WyJVbmtub3duIiwiUG9pbnQiLCJMaW5lU3RyaW5nIiwiUG9seWdvbiJdO2Z1bmN0aW9uIElzKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07dFtuXT1bci54L2UuZXh0ZW50LHIueS9lLmV4dGVudF19fWZ1bmN0aW9uIFJzKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbih0LGUpe3JldHVybiB0fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1Mc1t0LnR5cGVdLHI9dC5sb2FkR2VvbWV0cnkoKTtzd2l0Y2godC50eXBlKXtjYXNlIDE6Zm9yKHZhciBpPVtdLGE9MDthPHIubGVuZ3RoO2ErKylpW2FdPXJbYV1bMF07ZShyPWksdCk7YnJlYWs7Y2FzZSAyOmZvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKWUocltvXSx0KTticmVhaztjYXNlIDM6cj1EcyhyKTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKylmb3IodmFyIHU9MDt1PHJbc10ubGVuZ3RoO3UrKyllKHJbc11bdV0sdCl9cmV0dXJuIE5zKG4sdCxyKX0oKX1mdW5jdGlvbiBOcyh0LGUsbil7dmFyIHI9dDsxPT09bi5sZW5ndGg/bj1uWzBdOnI9Ik11bHRpIi5jb25jYXQodCk7dmFyIGk9e3R5cGU6IkZlYXR1cmUiLGdlb21ldHJ5Ont0eXBlOnIsY29vcmRpbmF0ZXM6bn0scHJvcGVydGllczplLnByb3BlcnRpZXN8fHt9fTtyZXR1cm4iaWQiaW4gZSYmKGkuaWQ9ZS5pZCksaX1mdW5jdGlvbiBEcyh0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD0xKXJldHVyblt0XTtmb3IodmFyIG4scixpPVtdLGE9MDthPGU7YSsrKXt2YXIgbz1Gcyh0W2FdKTswIT09byYmKHZvaWQgMD09PXImJihyPW88MCkscj09PW88MD8obiYmaS5wdXNoKG4pLG49W3RbYV1dKTpuLnB1c2godFthXSkpfXJldHVybiBuJiZpLnB1c2gobiksaX1mdW5jdGlvbiBGcyh0KXtmb3IodmFyIGUsbixyPXQubGVuZ3RoLGk9MCxhPTAsbz1yLTE7YTxyO289YSsrKWU9dFthXSxpKz0oKG49dFtvXSkueC1lLngpKihlLnkrbi55KTtyZXR1cm4gaX1mdW5jdGlvbiB6cyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gQnModCxlKXtpZigwPT09dC5ieXRlTGVuZ3RoKXJldHVybltdO3ZhciBuPW5ldyBBcy5WZWN0b3JUaWxlKG5ldyBDcy5hKHQpKSxyPWUubXZ0LGk9W107cmV0dXJuKEFycmF5LmlzQXJyYXkoci5sYXllcnMpP3IubGF5ZXJzOk9iamVjdC5rZXlzKG4ubGF5ZXJzKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9bi5sYXllcnNbdF0sYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj96cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChGdC5hKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6enMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHIse2xheWVyTmFtZTp0fSk7aWYoZSlmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9VXMoZS5mZWF0dXJlKG8pLGEpO2kucHVzaChzKX19KSksaX1mdW5jdGlvbiBVcyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj0id2dzODQiPT09ZS5jb29yZGluYXRlcyxyPWUudGlsZUluZGV4JiZlLnRpbGVJbmRleC54JiZlLnRpbGVJbmRleC55JiZlLnRpbGVJbmRleC56O2lmKG4mJiFyKXRocm93IG5ldyBFcnJvcigiTVZUIExvYWRlcjogV0dTODQgY29vcmRpbmF0ZXMgbmVlZCB0aWxlSW5kZXggcHJvcGVydHkuIENoZWNrIGRvY3VtZW50YXRpb24uIik7dmFyIGk9biYmcj90LnRvR2VvSlNPTihlLnRpbGVJbmRleC54LGUudGlsZUluZGV4LnksZS50aWxlSW5kZXgueik6UnModCxJcyk7cmV0dXJuIGUubGF5ZXJQcm9wZXJ0eSYmKGkucHJvcGVydGllc1tlLmxheWVyUHJvcGVydHldPWUubGF5ZXJOYW1lKSxpfWZ1bmN0aW9uIFZzKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgR3MsV3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/VnMoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoRnQuYSkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlZzKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7fSx7aWQ6Im12dCIsbmFtZToiTWFwYm94IFZlY3RvciBUaWxlIix2ZXJzaW9uOiIyLjEuMSIsZXh0ZW5zaW9uczpbIm12dCJdLG1pbWVUeXBlOiJhcHBsaWNhdGlvbi94LXByb3RvYnVmIixjYXRlZ29yeToiZ2VvbWV0cnkiLG9wdGlvbnM6e212dDp7Y29vcmRpbmF0ZXM6ImxvY2FsIixsYXllclByb3BlcnR5OiJsYXllck5hbWUiLGxheWVyczpudWxsLHRpbGVJbmRleDpudWxsLHdvcmtlclVybDoiaHR0cHM6Ly91bnBrZy5jb20vQGxvYWRlcnMuZ2wvbXZ0QCIuY29uY2F0KCIyLjEuMSIsIi9kaXN0L212dC1sb2FkZXIud29ya2VyLmpzIil9fX0se3BhcnNlOihHcz1PYmplY3QoRHQuYSkoU3QuYS5tYXJrKChmdW5jdGlvbiB0KGUsbil7cmV0dXJuIFN0LmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLEJzKGUsbikpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSxmdW5jdGlvbih0LGUpe3JldHVybiBHcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxwYXJzZVN5bmM6QnMsYmluYXJ5OiEwfSksSHM9bigyMDMpLHFzPXtjbGlwQm91bmRzOlswLDAsMSwxXX0sWHM9IlxudW5pZm9ybSB2ZWM0IGNsaXBfYm91bmRzO1xuXG5ib29sIGNsaXBfaXNJbkJvdW5kcyh2ZWMyIHBvc2l0aW9uKSB7XG4gIHJldHVybiBwb3NpdGlvbi54ID49IGNsaXBfYm91bmRzWzBdICYmIHBvc2l0aW9uLnkgPj0gY2xpcF9ib3VuZHNbMV0gJiYgcG9zaXRpb24ueCA8IGNsaXBfYm91bmRzWzJdICYmIHBvc2l0aW9uLnkgPCBjbGlwX2JvdW5kc1szXTtcbn1cbiIsWnM9e25hbWU6ImNsaXAtdnMiLHZzOlhzfSxZcz17InZzOiNkZWNsIjoiXG52YXJ5aW5nIGZsb2F0IGNsaXBfaXNWaXNpYmxlO1xuIiwidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICBjbGlwX2lzVmlzaWJsZSA9IGZsb2F0KGNsaXBfaXNJbkJvdW5kcyhnZW9tZXRyeS53b3JsZFBvc2l0aW9uLnh5KSk7XG4iLCJmczojZGVjbCI6IlxudmFyeWluZyBmbG9hdCBjbGlwX2lzVmlzaWJsZTtcbiIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOiJcbiAgaWYgKGNsaXBfaXNWaXNpYmxlIDwgMC41KSBkaXNjYXJkO1xuIn0sS3M9e25hbWU6ImNsaXAtZnMiLGZzOlhzfSxRcz17InZzOiNkZWNsIjoiXG52YXJ5aW5nIHZlYzIgY2xpcF9jb21tb25Qb3NpdGlvbjtcbiIsInZzOkRFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04iOiJcbiAgY2xpcF9jb21tb25Qb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uLnh5O1xuIiwiZnM6I2RlY2wiOiJcbnZhcnlpbmcgdmVjMiBjbGlwX2NvbW1vblBvc2l0aW9uO1xuIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICBpZiAoIWNsaXBfaXNJbkJvdW5kcyhjbGlwX2NvbW1vblBvc2l0aW9uKSkgZGlzY2FyZDtcbiJ9LEpzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSJpbnN0YW5jZVBvc2l0aW9ucyJpbiB0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hdHRyaWJ1dGVzO3JldHVybiJjbGlwQnlJbnN0YW5jZSJpbiB0aGlzLnByb3BzJiYodD10aGlzLnByb3BzLmNsaXBCeUluc3RhbmNlKSx0aGlzLnN0YXRlLmNsaXBCeUluc3RhbmNlPXQsdD97bW9kdWxlczpbWnNdLGluamVjdDpZc306e21vZHVsZXM6W0tzXSxpbmplY3Q6UXN9fX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMucHJvcHMuY2xpcEJvdW5kcyxyPXZvaWQgMD09PW4/cXMuY2xpcEJvdW5kczpuO2lmKHRoaXMuc3RhdGUuY2xpcEJ5SW5zdGFuY2UpZS5jbGlwX2JvdW5kcz1yO2Vsc2V7dmFyIGk9dGhpcy5wcm9qZWN0UG9zaXRpb24oW3JbMF0sclsxXSwwXSksYT10aGlzLnByb2plY3RQb3NpdGlvbihbclsyXSxyWzNdLDBdKTtlLmNsaXBfYm91bmRzPVtNYXRoLm1pbihpWzBdLGFbMF0pLE1hdGgubWluKGlbMV0sYVsxXSksTWF0aC5tYXgoaVswXSxhWzBdKSxNYXRoLm1heChpWzFdLGFbMV0pXX19fV0pLGV9KEhzLmEpO0pzLmV4dGVuc2lvbk5hbWU9IkNsaXBFeHRlbnNpb24iLEpzLmRlZmF1bHRQcm9wcz1xczt2YXIgJHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFRpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1YKHRoaXMucHJvcHMuZGF0YSx0KTtyZXR1cm4gZT9PYmplY3QoTnQuYSkoZSxXcyx0aGlzLmdldExvYWRPcHRpb25zKCkpOlByb21pc2UucmVqZWN0KCJJbnZhbGlkIFVSTCIpfX0se2tleToicmVuZGVyU3ViTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LnRpbGUscj1NYXRoLnBvdygyLG4ueiksaT01MTIvcixhPS1pLG89NTEyKm4ueC9yLHM9NTEyKigxLW4ueS9yKSx1PShuZXcgZ3QuYSkudHJhbnNsYXRlKFtvLHMsMF0pLnNjYWxlKFtpLGEsMV0pO3JldHVybiB0Lm1vZGVsTWF0cml4PXUsdC5jb29yZGluYXRlU3lzdGVtPUN0LmEuQ0FSVEVTSUFOLHQuZXh0ZW5zaW9ucz1bXS5jb25jYXQoVygpKHQuZXh0ZW5zaW9uc3x8W10pLFtuZXcgSnNdKSxnKCkodigpKGUucHJvdG90eXBlKSwicmVuZGVyU3ViTGF5ZXJzIix0aGlzKS5jYWxsKHRoaXMsdCl9fV0pLGV9KHV0KTskcy5sYXllck5hbWU9Ik1WVExheWVyIixuLmQoZSwiR3JlYXRDaXJjbGVMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKGUsIlMyTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZChlLCJUaWxlTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB1dH0pKSxuLmQoZSwiVHJpcHNMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN0fSkpLG4uZChlLCJIM0NsdXN0ZXJMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0fSkpLG4uZChlLCJIM0hleGFnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSkpLG4uZChlLCJUaWxlM0RMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGdzfSkpLG4uZChlLCJUZXJyYWluTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBFc30pKSxuLmQoZSwiTVZUTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiAkc30pKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuLnIoZSk7dmFyIHIsaSxhPW4oNCksbz1uLm4oYSkscz1uKDEpLHU9bi5uKHMpLGM9bigyKSxsPW4ubihjKSxoPW4oOSksZj1uLm4oaCksZD1uKDMpLHY9bi5uKGQpLHA9bigxMiksZz1uLm4ocCkseT1uKDEwKSxtPW4ubih5KSxiPW4oMjMpLF89bigxODcpLE89bigyNzUpLHg9bigxMSksdz1uKDE5MSksaz1uKDE3NSksUz1uKDI5MSksUD1uKDI5Miksaj1uKDE1NiksVD1uKDIwMiksRT17U1VNOjEsTUVBTjoyLE1JTjozLE1BWDo0fTtmdW5jdGlvbiBBKHQsZSl7cmV0dXJuIHQrZX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIGU+dD9lOnR9ZnVuY3Rpb24gQyh0LGUpe3JldHVybiBlPHQ/ZTp0fWZ1bmN0aW9uIEwodCxlKXtzd2l0Y2goRVt0XXx8RS5TVU0pe2Nhc2UgRS5NSU46cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKGUpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShDLDEvMCk6bnVsbH0odCxlKX07Y2FzZSBFLlNVTTpyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXAoZSkuZmlsdGVyKE51bWJlci5pc0Zpbml0ZSk7cmV0dXJuIG4ubGVuZ3RoP24ucmVkdWNlKEEsMCk6bnVsbH0odCxlKX07Y2FzZSBFLk1FQU46cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKGUpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShBLDApL24ubGVuZ3RoOm51bGx9KHQsZSl9O2Nhc2UgRS5NQVg6cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKGUpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShNLC0xLzApOm51bGx9KHQsZSl9O2RlZmF1bHQ6cmV0dXJuIG51bGx9fXZhciBJLFI9e3Byb2plY3RQb2ludHM6ITEsdmlld3BvcnQ6bnVsbCxjcmVhdGVCdWZmZXJPYmplY3RzOiEwLG1vZHVsZVNldHRpbmdzOnt9fSxOPVszMjc3NSwzMjc3NF0sRD1bMzI3NzYsMzI3NzRdLEY9WzMyNzc2LDMyNzc1XSx6PShyPXt9LG8oKShyLEUuU1VNLDMyNzc0KSxvKCkocixFLk1FQU4sMzI3NzQpLG8oKShyLEUuTUlOLE4pLG8oKShyLEUuTUFYLEQpLHIpLEI9e3NpemU6MSxvcGVyYXRpb246RS5TVU0sbmVlZE1pbjohMSxuZWVkTWF4OiExLGNvbWJpbmVNYXhNaW46ITF9LFU9KGk9e30sbygpKGksMTAyNDAsOTcyOCksbygpKGksMTAyNDEsOTcyOCksbigxMjcpKSxWPW4oODIpLEc9KEk9e30sbygpKEksMTAyNDAsOTcyOCksbygpKEksMTAyNDEsOTcyOCksSSk7ZnVuY3Rpb24gVyh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLndpZHRoLHI9dm9pZCAwPT09bj8xOm4saT1lLmhlaWdodCxhPXZvaWQgMD09PWk/MTppLG89ZS5kYXRhLHM9dm9pZCAwPT09bz9udWxsOm8sdT1lLnVucGFja0ZsaXBZLGM9dm9pZCAwPT09dXx8dSxsPWUucGFyYW1ldGVycyxoPXZvaWQgMD09PWw/RzpsLGY9bmV3IFUuYSh0LHtkYXRhOnMsZm9ybWF0Ok9iamVjdCh4LmcpKHQpPzM0ODM2OjY0MDgsdHlwZTo1MTI2LGJvcmRlcjowLG1pcG1hcHM6ITEscGFyYW1ldGVyczpoLGRhdGFGb3JtYXQ6NjQwOCx3aWR0aDpyLGhlaWdodDphLHVucGFja0ZsaXBZOmN9KTtyZXR1cm4gZn1mdW5jdGlvbiBIKHQsZSl7dmFyIG49ZS5pZCxyPWUud2lkdGgsaT12b2lkIDA9PT1yPzE6cixhPWUuaGVpZ2h0LHM9dm9pZCAwPT09YT8xOmEsdT1lLnRleHR1cmU7cmV0dXJuIG5ldyBWLmEodCx7aWQ6bix3aWR0aDppLGhlaWdodDpzLGF0dGFjaG1lbnRzOm8oKSh7fSwzNjA2NCx1KX0pfWZ1bmN0aW9uIHEodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBYPVsiYWdncmVnYXRpb25CdWZmZXIiLCJtYXhNaW5CdWZmZXIiLCJtaW5CdWZmZXIiLCJtYXhCdWZmZXIiXSxaPXttYXhEYXRhOiJtYXhCdWZmZXIiLG1pbkRhdGE6Im1pbkJ1ZmZlciIsbWF4TWluRGF0YToibWF4TWluQnVmZmVyIn0sWT1bXy5hLldFQkdMMixfLmEuQ09MT1JfQVRUQUNITUVOVF9SR0JBMzJGLF8uYS5CTEVORF9FUVVBVElPTl9NSU5NQVgsXy5hLkZMT0FUX0JMRU5ELF8uYS5URVhUVVJFX0ZMT0FUXSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dSgpKHRoaXMsdCksdGhpcy5pZD1uLmlkfHwiZ3B1LWdyaWQtYWdncmVnYXRvciIsdGhpcy5nbD1lLHRoaXMuc3RhdGU9e3dlaWdodEF0dHJpYnV0ZXM6e30sdGV4dHVyZXM6e30sbWVhblRleHR1cmVzOnt9LGJ1ZmZlcnM6e30sZnJhbWVidWZmZXJzOnt9LG1heE1pbkZyYW1lYnVmZmVyczp7fSxtaW5GcmFtZWJ1ZmZlcnM6e30sbWF4RnJhbWVidWZmZXJzOnt9LGVxdWF0aW9uczp7fSxyZXNvdXJjZXM6e30scmVzdWx0czp7fX0sdGhpcy5faGFzR1BVU3VwcG9ydD1PYmplY3QoeC5nKShlKSYmT2JqZWN0KE8uYykodGhpcy5nbCxfLmEuQkxFTkRfRVFVQVRJT05fTUlOTUFYLF8uYS5DT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkYsXy5hLlRFWFRVUkVfRkxPQVQpLHRoaXMuX2hhc0dQVVN1cHBvcnQmJnRoaXMuX3NldHVwTW9kZWxzKCl9cmV0dXJuIGwoKSh0LG51bGwsW3trZXk6ImdldEFnZ3JlZ2F0aW9uRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hZ2dyZWdhdGlvbkRhdGEsbj10Lm1heERhdGEscj10Lm1pbkRhdGEsaT10Lm1heE1pbkRhdGEsYT00KnQucGl4ZWxJbmRleCxvPXt9O3JldHVybiBlJiYoby5jZWxsQ291bnQ9ZVthKzNdLG8uY2VsbFdlaWdodD1lW2FdKSxpPyhvLm1heENlbGxXaWVnaHQ9aVswXSxvLm1pbkNlbGxXZWlnaHQ9aVszXSk6KG4mJihvLm1heENlbGxXaWVnaHQ9blswXSxvLnRvdGFsQ291bnQ9blszXSksciYmKG8ubWluQ2VsbFdlaWdodD1yWzBdLG8udG90YWxDb3VudD1uWzNdKSksb319LHtrZXk6ImdldENlbGxEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5jb3VudHNEYXRhLG49dC5zaXplLHI9dm9pZCAwPT09bj8xOm4saT1lLmxlbmd0aC80LGE9bmV3IEZsb2F0MzJBcnJheShpKnIpLG89bmV3IFVpbnQzMkFycmF5KGkpLHM9MDtzPGk7cysrKXtmb3IodmFyIHU9MDt1PHI7dSsrKWFbcypyK3VdPWVbNCpzK3VdO29bc109ZVs0KnMrM119cmV0dXJue2NlbGxDb3VudHM6byxjZWxsV2VpZ2h0czphfX19LHtrZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KE8uYykodCxZKX19XSksbCgpKHQsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsLGU9dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsLG49dGhpcy5tZWFuVHJhbnNmb3JtLHI9dGhpcy5zdGF0ZSxpPXIudGV4dHVyZXMsYT1yLmZyYW1lYnVmZmVycyxvPXIubWF4TWluRnJhbWVidWZmZXJzLHM9ci5taW5GcmFtZWJ1ZmZlcnMsdT1yLm1heEZyYW1lYnVmZmVycyxjPXIubWVhblRleHR1cmVzLGw9ci5yZXNvdXJjZXM7dCYmdC5kZWxldGUoKSxlJiZlLmRlbGV0ZSgpLG4mJm4uZGVsZXRlKCksZnVuY3Rpb24odCl7KHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdFtlXS5kZWxldGUoKX0pKX0oW2EsaSxvLHMsdSxjLGxdKX19LHtrZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZXRTdGF0ZSh7cmVzdWx0czp7fX0pO3ZhciBlPXRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0aW9uUGFyYW1zKHQpO3JldHVybiB0aGlzLl9oYXNHUFVTdXBwb3J0fHxiLmEubG9nKDEsIkdQVUdyaWRBZ2dyZWdhdG9yOiBub3Qgc3VwcG9ydGVkIikoKSx0aGlzLl9ydW5BZ2dyZWdhdGlvbihlKX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49dGhpcy5zdGF0ZS5yZXN1bHRzO2Zvcih2YXIgciBpbiBuW3RdLmFnZ3JlZ2F0aW9uRGF0YXx8KG5bdF0uYWdncmVnYXRpb25EYXRhPW5bdF0uYWdncmVnYXRpb25CdWZmZXIuZ2V0RGF0YSgpKSxlLmFnZ3JlZ2F0aW9uRGF0YT1uW3RdLmFnZ3JlZ2F0aW9uRGF0YSxaKXt2YXIgaT1aW3JdOyhuW3RdW3JdfHxuW3RdW2ldKSYmKG5bdF1bcl09blt0XVtyXXx8blt0XVtpXS5nZXREYXRhKCksZVtyXT1uW3RdW3JdKX1yZXR1cm4gZX19LHtrZXk6InVwZGF0ZVNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuc2V0U3RhdGUoe3NoYWRlck9wdGlvbnM6dCxtb2RlbERpcnR5OiEwfSl9fSx7a2V5OiJfbm9ybWFsaXplQWdncmVnYXRpb25QYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5hc3NpZ24oe30sUix0KSxuPWUud2VpZ2h0cztyZXR1cm4gbiYmKGUud2VpZ2h0cz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdCllW25dPU9iamVjdC5hc3NpZ24oe30sQix0W25dKTtyZXR1cm4gZX0obikpLGV9fSx7a2V5OiJzZXRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLHQpfX0se2tleToiX2dldEFnZ3JlZ2F0ZURhdGEiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49dGhpcy5zdGF0ZSxyPW4udGV4dHVyZXMsaT1uLmZyYW1lYnVmZmVycyxhPW4ubWF4TWluRnJhbWVidWZmZXJzLG89bi5taW5GcmFtZWJ1ZmZlcnMscz1uLm1heEZyYW1lYnVmZmVycyx1PW4ucmVzb3VyY2VzLGM9dC53ZWlnaHRzO2Zvcih2YXIgbCBpbiBjKXtlW2xdPXt9O3ZhciBoPWNbbF0sZj1oLm5lZWRNaW4sZD1oLm5lZWRNYXgsdj1oLmNvbWJpbmVNYXhNaW47ZVtsXS5hZ2dyZWdhdGlvblRleHR1cmU9cltsXSxlW2xdLmFnZ3JlZ2F0aW9uQnVmZmVyPU9iamVjdCh3LmQpKGlbbF0se3RhcmdldDpjW2xdLmFnZ3JlZ2F0aW9uQnVmZmVyLHNvdXJjZVR5cGU6NTEyNn0pLGYmJmQmJnY/KGVbbF0ubWF4TWluQnVmZmVyPU9iamVjdCh3LmQpKGFbbF0se3RhcmdldDpjW2xdLm1heE1pbkJ1ZmZlcixzb3VyY2VUeXBlOjUxMjZ9KSxlW2xdLm1heE1pblRleHR1cmU9dVsiIi5jb25jYXQobCwiLW1heE1pblRleHR1cmUiKV0pOihmJiYoZVtsXS5taW5CdWZmZXI9T2JqZWN0KHcuZCkob1tsXSx7dGFyZ2V0OmNbbF0ubWluQnVmZmVyLHNvdXJjZVR5cGU6NTEyNn0pLGVbbF0ubWluVGV4dHVyZT11WyIiLmNvbmNhdChsLCItbWluVGV4dHVyZSIpXSksZCYmKGVbbF0ubWF4QnVmZmVyPU9iamVjdCh3LmQpKHNbbF0se3RhcmdldDpjW2xdLm1heEJ1ZmZlcixzb3VyY2VUeXBlOjUxMjZ9KSxlW2xdLm1heFRleHR1cmU9dVsiIi5jb25jYXQobCwiLW1heFRleHR1cmUiKV0pKX1yZXR1cm4gdGhpcy5fdHJhY2tHUFVSZXN1bHRCdWZmZXJzKGUsYyksZX19LHtrZXk6Il9yZW5kZXJBZ2dyZWdhdGVEYXRhIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNlbGxTaXplLG49dC5wcm9qZWN0UG9pbnRzLHI9dC5hdHRyaWJ1dGVzLGk9dC5tb2R1bGVTZXR0aW5ncyxhPXQubnVtQ29sLG89dC5udW1Sb3cscz10LndlaWdodHMsdT10LnRyYW5zbGF0aW9uLGM9dC5zY2FsaW5nLGw9dGhpcy5zdGF0ZSxoPWwubWF4TWluRnJhbWVidWZmZXJzLGY9bC5taW5GcmFtZWJ1ZmZlcnMsZD1sLm1heEZyYW1lYnVmZmVycyx2PVthLG9dLHA9e2JsZW5kOiEwLGRlcHRoVGVzdDohMSxibGVuZEZ1bmM6WzEsMV19LGc9e2NlbGxTaXplOmUsZ3JpZFNpemU6dixwcm9qZWN0UG9pbnRzOm4sdHJhbnNsYXRpb246dSxzY2FsaW5nOmN9O2Zvcih2YXIgeSBpbiBzKXt2YXIgbT1zW3ldLGI9bS5uZWVkTWluLF89bS5uZWVkTWF4LE89YiYmXyYmc1t5XS5jb21iaW5lTWF4TWluO3RoaXMuX3JlbmRlclRvV2VpZ2h0c1RleHR1cmUoe2lkOnkscGFyYW1ldGVyczpwLG1vZHVsZVNldHRpbmdzOmksdW5pZm9ybXM6ZyxncmlkU2l6ZTp2LGF0dHJpYnV0ZXM6cix3ZWlnaHRzOnN9KSxPP3RoaXMuX3JlbmRlclRvTWF4TWluVGV4dHVyZSh7aWQ6eSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe30scCx7YmxlbmRFcXVhdGlvbjpGfSksZ3JpZFNpemU6dixtaW5Pck1heEZiOmhbeV0sY2xlYXJQYXJhbXM6e2NsZWFyQ29sb3I6WzAsMCwwLDM0MDI4MjM0NjZlMjldfSxjb21iaW5lTWF4TWluOk99KTooYiYmdGhpcy5fcmVuZGVyVG9NYXhNaW5UZXh0dXJlKHtpZDp5LHBhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7fSxwLHtibGVuZEVxdWF0aW9uOk59KSxncmlkU2l6ZTp2LG1pbk9yTWF4RmI6Zlt5XSxjbGVhclBhcmFtczp7Y2xlYXJDb2xvcjpbMzQwMjgyMzQ2NmUyOSwzNDAyODIzNDY2ZTI5LDM0MDI4MjM0NjZlMjksMF19LGNvbWJpbmVNYXhNaW46T30pLF8mJnRoaXMuX3JlbmRlclRvTWF4TWluVGV4dHVyZSh7aWQ6eSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe30scCx7YmxlbmRFcXVhdGlvbjpEfSksZ3JpZFNpemU6dixtaW5Pck1heEZiOmRbeV0sY2xlYXJQYXJhbXM6e2NsZWFyQ29sb3I6WzAsMCwwLDBdfSxjb21iaW5lTWF4TWluOk99KSl9fX0se2tleToiX3JlbmRlclRvTWF4TWluVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pZCxuPXQucGFyYW1ldGVycyxyPXQuZ3JpZFNpemUsaT10Lm1pbk9yTWF4RmIsYT10LmNvbWJpbmVNYXhNaW4sbz10LmNsZWFyUGFyYW1zLHM9dm9pZCAwPT09bz97fTpvLHU9dGhpcy5zdGF0ZS5mcmFtZWJ1ZmZlcnMsYz10aGlzLmdsLGw9dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsO2kuYmluZCgpLGMudmlld3BvcnQoMCwwLHJbMF0sclsxXSksT2JqZWN0KHgubCkoYyxzLChmdW5jdGlvbigpe2MuY2xlYXIoMTYzODQpfSkpLGwuZHJhdyh7cGFyYW1ldGVyczpuLHVuaWZvcm1zOnt1U2FtcGxlcjp1W2VdLnRleHR1cmUsZ3JpZFNpemU6cixjb21iaW5lTWF4TWluOmF9fSksaS51bmJpbmQoKX19LHtrZXk6Il9yZW5kZXJUb1dlaWdodHNUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmlkLG49dC5wYXJhbWV0ZXJzLHI9dC5tb2R1bGVTZXR0aW5ncyxpPXQudW5pZm9ybXMsYT10LmdyaWRTaXplLHM9dC53ZWlnaHRzLHU9dGhpcy5zdGF0ZSxjPXUuZnJhbWVidWZmZXJzLGw9dS5lcXVhdGlvbnMsaD11LndlaWdodEF0dHJpYnV0ZXMsZj10aGlzLmdsLGQ9dGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbCx2PXNbZV0ub3BlcmF0aW9uO2NbZV0uYmluZCgpLGYudmlld3BvcnQoMCwwLGFbMF0sYVsxXSk7dmFyIHA9dj09PUUuTUlOP1szNDAyODIzNDY2ZTI5LDM0MDI4MjM0NjZlMjksMzQwMjgyMzQ2NmUyOSwwXTpbMCwwLDAsMF07T2JqZWN0KHgubCkoZix7Y2xlYXJDb2xvcjpwfSwoZnVuY3Rpb24oKXtmLmNsZWFyKDE2Mzg0KX0pKTt2YXIgZz17d2VpZ2h0czpoW2VdfTtpZihkLmRyYXcoe3BhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7fSxuLHtibGVuZEVxdWF0aW9uOmxbZV19KSxtb2R1bGVTZXR0aW5nczpyLHVuaWZvcm1zOmksYXR0cmlidXRlczpnfSksY1tlXS51bmJpbmQoKSx2PT09RS5NRUFOKXt2YXIgeT10aGlzLnN0YXRlLG09eS5tZWFuVGV4dHVyZXMsYj15LnRleHR1cmVzLF89e19zb3VyY2VUZXh0dXJlczp7YWdncmVnYXRpb25WYWx1ZXM6bVtlXX0sX3RhcmdldFRleHR1cmU6YltlXSxlbGVtZW50Q291bnQ6YltlXS53aWR0aCpiW2VdLmhlaWdodH07dGhpcy5tZWFuVHJhbnNmb3JtP3RoaXMubWVhblRyYW5zZm9ybS51cGRhdGUoXyk6dGhpcy5tZWFuVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBTLmEodCxPYmplY3QuYXNzaWduKHt9LHt2czoiI2RlZmluZSBTSEFERVJfTkFNRSBncHUtYWdncmVnYXRpb24tdHJhbnNmb3JtLW1lYW4tdnNcbmF0dHJpYnV0ZSB2ZWM0IGFnZ3JlZ2F0aW9uVmFsdWVzO1xudmFyeWluZyB2ZWM0IG1lYW5WYWx1ZXM7XG5cbnZvaWQgbWFpbigpXG57XG4gIGJvb2wgaXNDZWxsVmFsaWQgPSBib29sKGFnZ3JlZ2F0aW9uVmFsdWVzLncgPiAwLik7XG4gIG1lYW5WYWx1ZXMueHl6ID0gaXNDZWxsVmFsaWQgPyBhZ2dyZWdhdGlvblZhbHVlcy54eXovYWdncmVnYXRpb25WYWx1ZXMudyA6IHZlYzMoMCwgMCwgMCk7XG4gIG1lYW5WYWx1ZXMudyA9IGFnZ3JlZ2F0aW9uVmFsdWVzLnc7XG59XG4iLF90YXJnZXRUZXh0dXJlVmFyeWluZzoibWVhblZhbHVlcyJ9LGUpKX0oZixfKSx0aGlzLm1lYW5UcmFuc2Zvcm0ucnVuKHtwYXJhbWV0ZXJzOntibGVuZDohMSxkZXB0aFRlc3Q6ITF9fSksY1tlXS5hdHRhY2gobygpKHt9LDM2MDY0LGJbZV0pKX19fSx7a2V5OiJfcnVuQWdncmVnYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZU1vZGVscyh0KSx0aGlzLl9zZXR1cEZyYW1lYnVmZmVycyh0KSx0aGlzLl9yZW5kZXJBZ2dyZWdhdGVEYXRhKHQpO3ZhciBlPXRoaXMuX2dldEFnZ3JlZ2F0ZURhdGEodCk7cmV0dXJuIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdHM6ZX0pLGV9fSx7a2V5OiJfc2V0dXBGcmFtZWJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUsbj1lLnRleHR1cmVzLHI9ZS5mcmFtZWJ1ZmZlcnMsaT1lLm1heE1pbkZyYW1lYnVmZmVycyxhPWUubWluRnJhbWVidWZmZXJzLHM9ZS5tYXhGcmFtZWJ1ZmZlcnMsdT1lLm1lYW5UZXh0dXJlcyxjPWUuZXF1YXRpb25zLGw9dC53ZWlnaHRzLGg9dC5udW1Db2wsZj10Lm51bVJvdyxkPXt3aWR0aDpoLGhlaWdodDpmfTtmb3IodmFyIHYgaW4gbCl7dmFyIHA9bFt2XSxnPXAubmVlZE1pbix5PXAubmVlZE1heCxtPXAuY29tYmluZU1heE1pbixiPXAub3BlcmF0aW9uO25bdl09bFt2XS5hZ2dyZWdhdGlvblRleHR1cmV8fG5bdl18fFcodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi10ZXh0dXJlIiksd2lkdGg6aCxoZWlnaHQ6Zn0pLG5bdl0ucmVzaXplKGQpO3ZhciBfPW5bdl07Yj09PUUuTUVBTiYmKHVbdl09dVt2XXx8Vyh0aGlzLmdsLHtpZDoiIi5jb25jYXQodiwiLW1lYW4tdGV4dHVyZSIpLHdpZHRoOmgsaGVpZ2h0OmZ9KSx1W3ZdLnJlc2l6ZShkKSxfPXVbdl0pLHJbdl0/clt2XS5hdHRhY2gobygpKHt9LDM2MDY0LF8pKTpyW3ZdPUgodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi1mYiIpLHdpZHRoOmgsaGVpZ2h0OmYsdGV4dHVyZTpffSksclt2XS5yZXNpemUoZCksY1t2XT16W2JdfHx6LlNVTSwoZ3x8eSkmJihnJiZ5JiZtP2lbdl18fChfPWxbdl0ubWF4TWluVGV4dHVyZXx8dGhpcy5fZ2V0TWluTWF4VGV4dHVyZSgiIi5jb25jYXQodiwiLW1heE1pblRleHR1cmUiKSksaVt2XT1IKHRoaXMuZ2wse2lkOiIiLmNvbmNhdCh2LCItbWF4TWluRmIiKSx0ZXh0dXJlOl99KSk6KGcmJihhW3ZdfHwoXz1sW3ZdLm1pblRleHR1cmV8fHRoaXMuX2dldE1pbk1heFRleHR1cmUoIiIuY29uY2F0KHYsIi1taW5UZXh0dXJlIikpLGFbdl09SCh0aGlzLmdsLHtpZDoiIi5jb25jYXQodiwiLW1pbkZiIiksdGV4dHVyZTpffSkpKSx5JiYoc1t2XXx8KF89bFt2XS5tYXhUZXh0dXJlfHx0aGlzLl9nZXRNaW5NYXhUZXh0dXJlKCIiLmNvbmNhdCh2LCItbWF4VGV4dHVyZSIpKSxzW3ZdPUgodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi1tYXhGYiIpLHRleHR1cmU6X30pKSkpKX19fSx7a2V5OiJfZ2V0TWluTWF4VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5yZXNvdXJjZXM7cmV0dXJuIGVbdF18fChlW3RdPVcodGhpcy5nbCx7aWQ6InJlc291cmNlTmFtZSJ9KSksZVt0XX19LHtrZXk6Il9zZXR1cE1vZGVscyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10Lm51bUNvbCxuPXZvaWQgMD09PWU/MDplLHI9dC5udW1Sb3csaT12b2lkIDA9PT1yPzA6cixhPXRoaXMuZ2wsbz10aGlzLnN0YXRlLnNoYWRlck9wdGlvbnM7aWYodGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbCYmdGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbC5kZWxldGUoKSx0aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsPVEoYSxvKSwhdGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsKXt2YXIgcz1uKmk7dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsPUooYSxzKX19fSx7a2V5OiJfc2V0dXBXZWlnaHRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLndlaWdodEF0dHJpYnV0ZXMsbj10LndlaWdodHM7Zm9yKHZhciByIGluIG4pZVtyXT10LmF0dHJpYnV0ZXNbcl19fSx7a2V5OiJfdHJhY2tHUFVSZXN1bHRCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3RhdGUucmVzb3VyY2VzO2Zvcih2YXIgciBpbiB0KWlmKHRbcl0pe3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PVhbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtpZih0W3JdW2NdJiZlW3JdW2NdIT09dFtyXVtjXSl7dmFyIGw9ImdwdS1yZXN1bHQtIi5jb25jYXQociwiLSIpLmNvbmNhdChjKTtuW2xdJiZuW2xdLmRlbGV0ZSgpLG5bbF09dFtyXVtjXX19fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fX0se2tleToiX3VwZGF0ZU1vZGVscyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC52ZXJ0ZXhDb3VudCxuPXQuYXR0cmlidXRlcyxyPXQubnVtQ29sLGk9dC5udW1Sb3c7dGhpcy5zdGF0ZS5tb2RlbERpcnR5JiYodGhpcy5fc2V0dXBNb2RlbHModCksdGhpcy5zZXRTdGF0ZSh7bW9kZWxEaXJ0eTohMX0pKSx0aGlzLl9zZXR1cFdlaWdodEF0dHJpYnV0ZXModCksdGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbC5zZXRWZXJ0ZXhDb3VudChlKSx0aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsLnNldEF0dHJpYnV0ZXMobiksdGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsLnNldEluc3RhbmNlQ291bnQocippKX19XSksdH0oKTtmdW5jdGlvbiBRKHQsZSl7dmFyIG49T2JqZWN0KGouYSkoe3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGdwdS1hZ2dyZWdhdGlvbi10by1ncmlkLXZzXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgd2VpZ2h0cztcbnVuaWZvcm0gdmVjMiBjZWxsU2l6ZTtcbnVuaWZvcm0gdmVjMiBncmlkU2l6ZTtcbnVuaWZvcm0gYm9vbCBwcm9qZWN0UG9pbnRzO1xudW5pZm9ybSB2ZWMyIHRyYW5zbGF0aW9uO1xudW5pZm9ybSB2ZWMzIHNjYWxpbmc7XG5cbnZhcnlpbmcgdmVjMyB2V2VpZ2h0cztcblxudmVjMiBwcm9qZWN0X3RvX3BpeGVsKHZlYzQgcG9zKSB7XG4gIHZlYzQgcmVzdWx0O1xuICBwb3MueHkgPSBwb3MueHkvcG9zLnc7XG4gIHJlc3VsdCA9IHBvcyArIHZlYzQodHJhbnNsYXRpb24sIDAuLCAwLik7XG4gIHJlc3VsdC54eSA9IHNjYWxpbmcueiA+IDAuID8gcmVzdWx0Lnh5ICogc2NhbGluZy54eSA6IHJlc3VsdC54eTtcbiAgcmV0dXJuIHJlc3VsdC54eTtcbn1cblxudm9pZCBtYWluKHZvaWQpIHtcblxuICB2V2VpZ2h0cyA9IHdlaWdodHM7XG5cbiAgdmVjNCB3aW5kb3dQb3MgPSB2ZWM0KHBvc2l0aW9ucywgMS4pO1xuICBpZiAocHJvamVjdFBvaW50cykge1xuICAgIHdpbmRvd1BvcyA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvc2l0aW9ucywgcG9zaXRpb25zNjRMb3csIHZlYzMoMCkpO1xuICB9XG5cbiAgdmVjMiBwb3MgPSBwcm9qZWN0X3RvX3BpeGVsKHdpbmRvd1Bvcyk7XG5cbiAgdmVjMiBwaXhlbFhZNjRbMl07XG4gIHBpeGVsWFk2NFswXSA9IHZlYzIocG9zLngsIDAuKTtcbiAgcGl4ZWxYWTY0WzFdID0gdmVjMihwb3MueSwgMC4pO1xuICB2ZWMyIGdyaWRYWTY0WzJdO1xuICBncmlkWFk2NFswXSA9IGRpdl9mcDY0KHBpeGVsWFk2NFswXSwgdmVjMihjZWxsU2l6ZS54LCAwKSk7XG4gIGdyaWRYWTY0WzFdID0gZGl2X2ZwNjQocGl4ZWxYWTY0WzFdLCB2ZWMyKGNlbGxTaXplLnksIDApKTtcbiAgZmxvYXQgeCA9IGZsb29yKGdyaWRYWTY0WzBdLngpO1xuICBmbG9hdCB5ID0gZmxvb3IoZ3JpZFhZNjRbMV0ueCk7XG4gIHBvcyA9IHZlYzIoeCwgeSk7XG4gIHBvcyA9IChwb3MgKiAoMi4sIDIuKSAvIChncmlkU2l6ZSkpIC0gKDEuLCAxLik7XG4gIHZlYzIgb2Zmc2V0ID0gMS4wIC8gZ3JpZFNpemU7XG4gIHBvcyA9IHBvcyArIG9mZnNldDtcblxuICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7XG4gIGdsX1BvaW50U2l6ZSA9IDEuMDtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLXRvLWdyaWQtZnNcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzMgdldlaWdodHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodldlaWdodHMsIDEuMCk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W1AuYixULmFdfSxlKTtyZXR1cm4gbmV3IGsuYSh0LGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP3EoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHtpZDoiR2lyZC1BZ2dyZWdhdGlvbi1Nb2RlbCIsdmVydGV4Q291bnQ6MSxkcmF3TW9kZTowfSxuKSl9ZnVuY3Rpb24gSih0LGUpe3JldHVybiBuZXcgay5hKHQse2lkOiJBbGwtQWdncmVnYXRpb24tTW9kZWwiLHZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLWFsbC12cy02NFxuXG5pbiB2ZWMyIHBvc2l0aW9uO1xudW5pZm9ybSBpdmVjMiBncmlkU2l6ZTtcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzIgcG9zID0gdmVjMigtMS4wLCAtMS4wKTtcbiAgdmVjMiBvZmZzZXQgPSAxLjAgLyB2ZWMyKGdyaWRTaXplKTtcbiAgcG9zID0gcG9zICsgb2Zmc2V0O1xuXG4gIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTtcblxuICBpbnQgeUluZGV4ID0gZ2xfSW5zdGFuY2VJRCAvIGdyaWRTaXplWzBdO1xuICBpbnQgeEluZGV4ID0gZ2xfSW5zdGFuY2VJRCAtICh5SW5kZXggKiBncmlkU2l6ZVswXSk7XG5cbiAgdmVjMiB5SW5kZXhGUDY0ID0gdmVjMihmbG9hdCh5SW5kZXgpLCAwLik7XG4gIHZlYzIgeEluZGV4RlA2NCA9IHZlYzIoZmxvYXQoeEluZGV4KSwgMC4pO1xuICB2ZWMyIGdyaWRTaXplWUZQNjQgPSB2ZWMyKGdyaWRTaXplWzFdLCAwLik7XG4gIHZlYzIgZ3JpZFNpemVYRlA2NCA9IHZlYzIoZ3JpZFNpemVbMF0sIDAuKTtcblxuICB2ZWMyIHRleENvb3JkWEZQNjQgPSBkaXZfZnA2NCh5SW5kZXhGUDY0LCBncmlkU2l6ZVlGUDY0KTtcbiAgdmVjMiB0ZXhDb29yZFlGUDY0ID0gZGl2X2ZwNjQoeEluZGV4RlA2NCwgZ3JpZFNpemVYRlA2NCk7XG5cbiAgdlRleHR1cmVDb29yZCA9IHZlYzIodGV4Q29vcmRZRlA2NC54LCB0ZXhDb29yZFhGUDY0LngpO1xuICBnbF9Qb2ludFNpemUgPSAxLjA7XG59XG4iLGZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLWFsbC1mc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbmluIHZlYzIgdlRleHR1cmVDb29yZDtcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xudW5pZm9ybSBib29sIGNvbWJpbmVNYXhNaW47XG5vdXQgdmVjNCBmcmFnQ29sb3I7XG52b2lkIG1haW4odm9pZCkge1xuICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC5zLCB2VGV4dHVyZUNvb3JkLnQpKTtcbiAgaWYgKHRleHR1cmVDb2xvci5hID09IDAuKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuICBmcmFnQ29sb3IucmdiID0gdGV4dHVyZUNvbG9yLnJnYjtcbiAgZnJhZ0NvbG9yLmEgPSBjb21iaW5lTWF4TWluID8gdGV4dHVyZUNvbG9yLnIgOiB0ZXh0dXJlQ29sb3IuYTtcbn1cbiIsbW9kdWxlczpbUC5iXSx2ZXJ0ZXhDb3VudDoxLGRyYXdNb2RlOjAsaXNJbnN0YW5jZWQ6ITAsaW5zdGFuY2VDb3VudDplLGF0dHJpYnV0ZXM6e3Bvc2l0aW9uOlswLDBdfX0pfXZhciAkPW4oNzEpLHR0PW4oMjIwKSxldD1uKDExOCksbnQ9W1syNTUsMjU1LDE3OF0sWzI1NCwyMTcsMTE4XSxbMjU0LDE3OCw3Nl0sWzI1MywxNDEsNjBdLFsyNDAsNTksMzJdLFsxODksMCwzOF1dO2Z1bmN0aW9uIHJ0KHQpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpGbG9hdDMyQXJyYXk7aWYoTnVtYmVyLmlzRmluaXRlKHRbMF0pKWU9bmV3IHIodCk7ZWxzZXtlPW5ldyByKDQqdC5sZW5ndGgpO2Zvcih2YXIgaT0wLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89dFthXTtlW2krK109b1swXSxlW2krK109b1sxXSxlW2krK109b1syXSxlW2krK109TnVtYmVyLmlzRmluaXRlKG9bM10pP29bM106MjU1fX1pZihuKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWVbc10vPTI1NTtyZXR1cm4gZX12YXIgaXQ9WzAsMCwwLDBdLGF0PVswLDI1NSwwLDI1NV0sb3Q9WyJtaW5Db2xvciIsIm1heENvbG9yIiwiY29sb3JSYW5nZSIsImNvbG9yRG9tYWluIl0sc3Q9e2NlbGxTaXplUGl4ZWxzOnt2YWx1ZToxMDAsbWluOjF9LGNlbGxNYXJnaW5QaXhlbHM6e3ZhbHVlOjIsbWluOjAsbWF4OjV9LGNvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpudH0sdXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLXZlcnRleC1zaGFkZXJcbiNkZWZpbmUgUkFOR0VfQ09VTlQgNlxuXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ291bnRzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIHZlYzMgY2VsbFNjYWxlO1xudW5pZm9ybSB2ZWM0IG1pbkNvbG9yO1xudW5pZm9ybSB2ZWM0IG1heENvbG9yO1xudW5pZm9ybSB2ZWM0IGNvbG9yUmFuZ2VbUkFOR0VfQ09VTlRdO1xudW5pZm9ybSB2ZWMyIGNvbG9yRG9tYWluO1xudW5pZm9ybSBib29sIHNob3VsZFVzZU1pbk1heDtcbnVuaWZvcm0gc2FtcGxlcjJEIG1heFRleHR1cmU7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IHZTYW1wbGVDb3VudDtcblxudmVjNCBxdWFudGl6ZVNjYWxlKHZlYzIgZG9tYWluLCB2ZWM0IHJhbmdlW1JBTkdFX0NPVU5UXSwgZmxvYXQgdmFsdWUpIHtcbiAgdmVjNCBvdXRDb2xvciA9IHZlYzQoMC4sIDAuLCAwLiwgMC4pO1xuICBpZiAodmFsdWUgPj0gZG9tYWluLnggJiYgdmFsdWUgPD0gZG9tYWluLnkpIHtcbiAgICBmbG9hdCBkb21haW5SYW5nZSA9IGRvbWFpbi55IC0gZG9tYWluLng7XG4gICAgaWYgKGRvbWFpblJhbmdlIDw9IDAuKSB7XG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0IHJhbmdlQ291bnQgPSBmbG9hdChSQU5HRV9DT1VOVCk7XG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XG4gICAgICBmbG9hdCBpZHggPSBmbG9vcigodmFsdWUgLSBkb21haW4ueCkgLyByYW5nZVN0ZXApO1xuICAgICAgaWR4ID0gY2xhbXAoaWR4LCAwLiwgcmFuZ2VDb3VudCAtIDEuKTtcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcbiAgICAgIG91dENvbG9yID0gY29sb3JSYW5nZVtpbnRJZHhdO1xuICAgIH1cbiAgfVxuICBvdXRDb2xvciA9IG91dENvbG9yIC8gMjU1LjtcbiAgcmV0dXJuIG91dENvbG9yO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICB2U2FtcGxlQ291bnQgPSBpbnN0YW5jZUNvdW50cy5hO1xuXG4gIGZsb2F0IHdlaWdodCA9IGluc3RhbmNlQ291bnRzLnI7XG4gIGZsb2F0IG1heFdlaWdodCA9IHRleHR1cmUyRChtYXhUZXh0dXJlLCB2ZWMyKDAuNSkpLnI7XG5cbiAgZmxvYXQgc3RlcCA9IHdlaWdodCAvIG1heFdlaWdodDtcbiAgdmVjNCBtaW5NYXhDb2xvciA9IG1peChtaW5Db2xvciwgbWF4Q29sb3IsIHN0ZXApIC8gMjU1LjtcblxuICB2ZWMyIGRvbWFpbiA9IGNvbG9yRG9tYWluO1xuICBmbG9hdCBkb21haW5NYXhWYWxpZCA9IGZsb2F0KGNvbG9yRG9tYWluLnkgIT0gMC4pO1xuICBkb21haW4ueSA9IG1peChtYXhXZWlnaHQsIGNvbG9yRG9tYWluLnksIGRvbWFpbk1heFZhbGlkKTtcbiAgdmVjNCByYW5nZUNvbG9yID0gcXVhbnRpemVTY2FsZShkb21haW4sIGNvbG9yUmFuZ2UsIHdlaWdodCk7XG5cbiAgZmxvYXQgcmFuZ2VNaW5NYXggPSBmbG9hdChzaG91bGRVc2VNaW5NYXgpO1xuICB2ZWM0IGNvbG9yID0gbWl4KHJhbmdlQ29sb3IsIG1pbk1heENvbG9yLCByYW5nZU1pbk1heCk7XG4gIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSk7XG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XG5cbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KGluc3RhbmNlUG9zaXRpb25zICsgcG9zaXRpb25zICogY2VsbFNjYWxlLCAxLik7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IHZTYW1wbGVDb3VudDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgaWYgKHZTYW1wbGVDb3VudCA8PSAwLjApIHtcbiAgICBkaXNjYXJkO1xuICB9XG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOlt0dC5hXX19fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx1cGRhdGU6dGhpcy5jYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9uc30saW5zdGFuY2VDb3VudHM6e3NpemU6NCxub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHQpfSl9fSx7a2V5OiJzaG91bGRVcGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hhbmdlRmxhZ3Muc29tZXRoaW5nQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10Lm9sZFByb3BzLHI9dC5wcm9wcyxpPXQuY2hhbmdlRmxhZ3M7ZygpKHYoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse29sZFByb3BzOm4scHJvcHM6cixjaGFuZ2VGbGFnczppfSk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7ci5udW1JbnN0YW5jZXMhPT1uLm51bUluc3RhbmNlcz9hLmludmFsaWRhdGVBbGwoKTpuLmNlbGxTaXplUGl4ZWxzIT09ci5jZWxsU2l6ZVBpeGVscyYmYS5pbnZhbGlkYXRlKCJpbnN0YW5jZVBvc2l0aW9ucyIpLHRoaXMuX3VwZGF0ZVVuaWZvcm1zKG4scixpKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudW5pZm9ybXMsbj10aGlzLnByb3BzLHI9bi5wYXJhbWV0ZXJzLGk9bi5tYXhUZXh0dXJlLGE9dGhpcy5wcm9wcy5taW5Db2xvcnx8aXQsbz10aGlzLnByb3BzLm1heENvbG9yfHxhdCxzPXRoaXMucHJvcHMuY29sb3JEb21haW58fFsxLDBdLHU9dGhpcy5zdGF0ZS5tb2RlbCxjPXttaW5Db2xvcjphLG1heENvbG9yOm8sbWF4VGV4dHVyZTppLGNvbG9yRG9tYWluOnN9O2U9T2JqZWN0LmFzc2lnbihjLGUpLHUuZHJhdyh7dW5pZm9ybXM6ZSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe2RlcHRoVGVzdDohMSxkZXB0aE1hc2s6ITF9LHIpfSl9fSx7a2V5OiJjYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5udW1JbnN0YW5jZXMscj10aGlzLmNvbnRleHQudmlld3BvcnQsaT1yLndpZHRoLGE9ci5oZWlnaHQsbz10aGlzLnByb3BzLmNlbGxTaXplUGl4ZWxzLHM9TWF0aC5jZWlsKGkvbyksdT10LnZhbHVlLGM9dC5zaXplLGw9MDtsPG47bCsrKXt2YXIgaD1sJXMsZj1NYXRoLmZsb29yKGwvcyk7dVtsKmMrMF09aCpvL2kqMi0xLHVbbCpjKzFdPTEtZipvL2EqMix1W2wqYysyXT0wfX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBrLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyAkLmEoe2RyYXdNb2RlOjYsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDEsMCwwLDEsMSwwLDAsMSwwXSl9fSksaXNJbnN0YW5jZWQ6ITB9KSl9fSx7a2V5OiJfc2hvdWxkVXNlTWluTWF4Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10Lm1pbkNvbG9yLG49dC5tYXhDb2xvcixyPXQuY29sb3JEb21haW4saT10LmNvbG9yUmFuZ2U7cmV0dXJuIGV8fG4/KGIuYS5kZXByZWNhdGVkKCJTY3JlZW5HcmlkTGF5ZXIgcHJvcHM6IG1pbkNvbG9yIGFuZCBtYXhDb2xvciIsImNvbG9yUmFuZ2UsIGNvbG9yRG9tYWluIikoKSwhMCk6IXImJiFpfX0se2tleToiX3VwZGF0ZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zdGF0ZS5tb2RlbDtpZihvdC5zb21lKChmdW5jdGlvbihuKXtyZXR1cm4gdFtuXSE9PWVbbl19KSkmJnIuc2V0VW5pZm9ybXMoe3Nob3VsZFVzZU1pbk1heDp0aGlzLl9zaG91bGRVc2VNaW5NYXgoKX0pLHQuY29sb3JSYW5nZSE9PWUuY29sb3JSYW5nZSYmci5zZXRVbmlmb3Jtcyh7Y29sb3JSYW5nZTpydChlLmNvbG9yUmFuZ2UpfSksdC5jZWxsTWFyZ2luUGl4ZWxzIT09ZS5jZWxsTWFyZ2luUGl4ZWxzfHx0LmNlbGxTaXplUGl4ZWxzIT09ZS5jZWxsU2l6ZVBpeGVsc3x8bi52aWV3cG9ydENoYW5nZWQpe3ZhciBpPXRoaXMuY29udGV4dC52aWV3cG9ydCxhPWkud2lkdGgsbz1pLmhlaWdodCxzPXRoaXMucHJvcHMsdT1zLmNlbGxTaXplUGl4ZWxzLGM9cy5jZWxsTWFyZ2luUGl4ZWxzLGw9dT5jP2M6MCxoPW5ldyBGbG9hdDMyQXJyYXkoWyh1LWwpL2EqMiwtKHUtbCkvbyoyLDFdKTtyLnNldFVuaWZvcm1zKHtjZWxsU2NhbGU6aH0pfX19XSxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoTy5jKSh0LFtfLmEuVEVYVFVSRV9GTE9BVF0pfX1dKSxlfShldC5hKTt1dC5sYXllck5hbWU9IlNjcmVlbkdyaWRDZWxsTGF5ZXIiLHV0LmRlZmF1bHRQcm9wcz1zdDt2YXIgY3Q9bigxMzcpLGx0PW4oMTU4KSxodD1uKDE4NSk7ZnVuY3Rpb24gZnQodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCllLmluY2x1ZGVzKHIpfHwobltyXT10W3JdKTtyZXR1cm4gbn12YXIgZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZygpKHYoKShlLnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnNldFN0YXRlKHtpZ25vcmVQcm9wczpmdCh0aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXMsdC5kYXRhLnByb3BzKSxkaW1lbnNpb25zOnR9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtpZihnKCkodigpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KSx0LmNoYW5nZUZsYWdzLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgbj10aGlzLmdldFNoYWRlcnMoe30pO24mJm4uZGVmaW5lcyYmKG4uZGVmaW5lcy5OT05fSU5TVEFOQ0VEX01PREVMPTEpLHRoaXMudXBkYXRlU2hhZGVycyhuKX10aGlzLl91cGRhdGVBdHRyaWJ1dGVzKHQucHJvcHMpfX0se2tleToidXBkYXRlQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zZXRTdGF0ZSh7Y2hhbmdlZEF0dHJpYnV0ZXM6dH0pfX0se2tleToiZ2V0QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuZ2V0U2hhZGVyQXR0cmlidXRlcygpfX0se2tleToiZ2V0TW9kdWxlU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LGU9dC52aWV3cG9ydCxuPXQubW91c2VQb3NpdGlvbixyPXQuZ2w7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0aGlzLnByb3BzKSx7dmlld3BvcnQ6ZSxtb3VzZVBvc2l0aW9uOm4scGlja2luZ0FjdGl2ZTowLGRldmljZVBpeGVsUmF0aW86T2JqZWN0KHguYykocil9KX19LHtrZXk6InVwZGF0ZVNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6ImlzQWdncmVnYXRpb25EaXJ0eSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5wcm9wcyxyPXQub2xkUHJvcHMsaT10LmNoYW5nZUZsYWdzLGE9ZS5jb21wYXJlQWxsLG89dm9pZCAwIT09YSYmYSxzPWUuZGltZW5zaW9uLHU9dGhpcy5zdGF0ZS5pZ25vcmVQcm9wcyxjPXMucHJvcHMsbD1zLmFjY2Vzc29ycyxoPXZvaWQgMD09PWw/W106bCxmPWkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkO2lmKGYpe2lmKGYuYWxsKXJldHVybiEwO3ZhciBkPSEwLHY9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgZyx5PWhbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZD0oZz15Lm5leHQoKSkuZG9uZSk7ZD0hMCl7dmFyIG09Zy52YWx1ZTtpZihmW21dKXJldHVybiEwfX1jYXRjaCh0KXt2PSEwLHA9dH1maW5hbGx5e3RyeXtkfHxudWxsPT15LnJldHVybnx8eS5yZXR1cm4oKX1maW5hbGx5e2lmKHYpdGhyb3cgcH19fWlmKG8pcmV0dXJuISFpLmV4dGVuc2lvbnNDaGFuZ2VkfHxPYmplY3QoY3QuYSkoe29sZFByb3BzOnIsbmV3UHJvcHM6bixpZ25vcmVQcm9wczp1LHByb3BUeXBlczp0aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXN9KTt2YXIgYj0hMCxfPSExLE89dm9pZCAwO3RyeXtmb3IodmFyIHgsdz1jW1N5bWJvbC5pdGVyYXRvcl0oKTshKGI9KHg9dy5uZXh0KCkpLmRvbmUpO2I9ITApe3ZhciBrPXgudmFsdWU7aWYobltrXSE9PXJba10pcmV0dXJuITB9fWNhdGNoKHQpe189ITAsTz10fWZpbmFsbHl7dHJ5e2J8fG51bGw9PXcucmV0dXJufHx3LnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBPfX1yZXR1cm4hMX19LHtrZXk6ImlzQXR0cmlidXRlQ2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5jaGFuZ2VkQXR0cmlidXRlcztyZXR1cm4gdD9lJiZ2b2lkIDAhPT1lW3RdOiFmdW5jdGlvbih0KXt2YXIgZT0hMDtmb3IodmFyIG4gaW4gdCl7ZT0hMTticmVha31yZXR1cm4gZX0oZSl9fSx7a2V5OiJfZ2V0QXR0cmlidXRlTWFuYWdlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGx0LmEodGhpcy5jb250ZXh0LmdsLHtpZDp0aGlzLnByb3BzLmlkLHN0YXRzOnRoaXMuY29udGV4dC5zdGF0c30pfX1dKSxlfShodC5hKTtkdC5sYXllck5hbWU9IkFnZ3JlZ2F0aW9uTGF5ZXIiO3ZhciB2dD1uKDQ4KSxwdD1uKDE5KSxndD1uLm4ocHQpO2Z1bmN0aW9uIHl0KHQsZSxuKXt2YXIgcj1uO3JldHVybiByLmRvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0fSxyLnJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHJ9ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm4geXQodCxlLChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMV0tdFswXTtpZihyPD0wKXJldHVybiBiLmEud2FybigicXVhbnRpemVTY2FsZTogaW52YWxpZCBkb21haW4sIHJldHVybmluZyByYW5nZVswXSIpKCksZVswXTt2YXIgaT1yL2UubGVuZ3RoLGE9TWF0aC5mbG9vcigobi10WzBdKS9pKSxvPU1hdGgubWF4KE1hdGgubWluKGEsZS5sZW5ndGgtMSksMCk7cmV0dXJuIGVbb119KHQsZSxuKX0pKX1mdW5jdGlvbiBidCh0LGUpe3JldHVybiB5dCh0LGUsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuKG4tdFswXSkvKHRbMV0tdFswXSkqKGVbMV0tZVswXSkrZVswXX0odCxlLG4pfSkpfWZ1bmN0aW9uIF90KHQsZSl7Zm9yKHZhciBuPXQuc29ydChPdCkscj0wLGk9TWF0aC5tYXgoMSxlLmxlbmd0aCksYT1uZXcgQXJyYXkoaS0xKTsrK3I8aTspYVtyLTFdPXh0KG4sci9pKTt2YXIgbz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlW2Z1bmN0aW9uKHQsZSl7dmFyIG49MCxyPXQubGVuZ3RoO2Zvcig7bjxyOyl7dmFyIGk9bityPj4+MTtPdCh0W2ldLGUpPjA/cj1pOm49aSsxfXJldHVybiBufSh0LG4pXX0oYSxlLHQpfTtyZXR1cm4gby50aHJlc2hvbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHl0KHQsZSxvKX1mdW5jdGlvbiBPdCh0LGUpe3JldHVybiB0LWV9ZnVuY3Rpb24geHQodCxlKXt2YXIgbj10Lmxlbmd0aDtpZihlPD0wfHxuPDIpcmV0dXJuIHRbMF07aWYoZT49MSlyZXR1cm4gdFtuLTFdO3ZhciByPShuLTEpKmUsaT1NYXRoLmZsb29yKHIpLGE9dFtpXTtyZXR1cm4gYSsodFtpKzFdLWEpKihyLWkpfWZ1bmN0aW9uIHd0KHQsZSl7dmFyIG49bmV3IE1hcCxyPVtdLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlLGw9IiIuY29uY2F0KGMpO24uaGFzKGwpfHxuLnNldChsLHIucHVzaChjKSl9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4geXQodCxlLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7dmFyIGk9IiIuY29uY2F0KHIpLGE9ZS5nZXQoaSk7cmV0dXJuIHZvaWQgMD09PWEmJihhPXQucHVzaChyKSxlLnNldChpLGEpKSxuWyhhLTEpJW4ubGVuZ3RoXX0ocixuLGUsdCl9KSl9ZnVuY3Rpb24ga3QodCl7cmV0dXJuIG51bGwhPXR9ZnVuY3Rpb24gU3QodCxlKXtyZXR1cm4oImZ1bmN0aW9uIj09dHlwZW9mIGU/dC5tYXAoZSk6dCkuZmlsdGVyKGt0KX1mdW5jdGlvbiBQdCh0LGUpe3JldHVybiBTdCh0LGUpfWZ1bmN0aW9uIGp0KHQsZSl7cmV0dXJuIG49U3QodCxlKSxyPVtdLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7IXIuaW5jbHVkZXModCkmJmt0KHQpJiZyLnB1c2godCl9KSkscjt2YXIgbixyfXZhciBUdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGh9LEV0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvaW50c30sQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZXh9LE10PXtnZXRWYWx1ZTpUdCxnZXRQb2ludHM6RXQsZ2V0SW5kZXg6QXQsZmlsdGVyRGF0YTpudWxsfSxDdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TXQ7dSgpKHRoaXMsdCksdGhpcy5hZ2dyZWdhdGVkQmlucz10aGlzLmdldEFnZ3JlZ2F0ZWRCaW5zKGUsbiksdGhpcy5fdXBkYXRlTWluTWF4VmFsdWVzKCksdGhpcy5iaW5NYXA9dGhpcy5nZXRCaW5NYXAoKX1yZXR1cm4gbCgpKHQsW3trZXk6ImdldEFnZ3JlZ2F0ZWRCaW5zIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmdldFZhbHVlLHI9dm9pZCAwPT09bj9UdDpuLGk9ZS5nZXRQb2ludHMsYT12b2lkIDA9PT1pP0V0Omksbz1lLmdldEluZGV4LHM9dm9pZCAwPT09bz9BdDpvLHU9ZS5maWx0ZXJEYXRhLGM9ImZ1bmN0aW9uIj09dHlwZW9mIHUsbD10Lmxlbmd0aCxoPVtdLGY9MCxkPTA7ZDxsO2QrKyl7dmFyIHY9dFtkXSxwPWEodiksZz1zKHYpLHk9Yz9wLmZpbHRlcih1KTpwO3YuZmlsdGVyZWRQb2ludHM9Yz95Om51bGw7dmFyIG09eS5sZW5ndGg/cih5KTpudWxsO251bGwhPW0mJihoW2ZdPXtpOk51bWJlci5pc0Zpbml0ZShnKT9nOmQsdmFsdWU6bSxjb3VudHM6eS5sZW5ndGh9LGYrKyl9cmV0dXJuIGh9fSx7a2V5OiJfcGVyY2VudGlsZVRvSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc29ydGVkQmlucy5sZW5ndGg7aWYoZTwyKXJldHVyblswLDBdO3ZhciBuPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZT10LG49MCxyPTEwMCxNYXRoLm1heChuLE1hdGgubWluKHIsZSkpO3ZhciBlLG4scn0pKSxyPWd0KCkobiwyKSxpPXJbMF0sYT1yWzFdO3JldHVybltNYXRoLmNlaWwoaS8xMDAqKGUtMSkpLE1hdGguZmxvb3IoYS8xMDAqKGUtMSkpXX19LHtrZXk6ImdldEJpbk1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD17fSxlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuYWdncmVnYXRlZEJpbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZTt0W28uaV09b319Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiB0fX0se2tleToiX3VwZGF0ZU1pbk1heFZhbHVlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MCxuPTM0MDI4MjM0NjZlMjkscj0wLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dGhpcy5hZ2dyZWdhdGVkQmluc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO3Q9dD5jLmNvdW50cz90OmMuY291bnRzLGU9ZT5jLnZhbHVlP2U6Yy52YWx1ZSxuPW48Yy52YWx1ZT9uOmMudmFsdWUscis9Yy5jb3VudHN9fWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX10aGlzLm1heENvdW50PXQsdGhpcy5tYXhWYWx1ZT1lLHRoaXMubWluVmFsdWU9bix0aGlzLnRvdGFsQ291bnQ9cn19LHtrZXk6ImdldFZhbHVlUmFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuc29ydGVkQmluc3x8KHRoaXMuc29ydGVkQmlucz10aGlzLmFnZ3JlZ2F0ZWRCaW5zLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUtZS52YWx1ZX0pKSksIXRoaXMuc29ydGVkQmlucy5sZW5ndGgpcmV0dXJuW107dmFyIGU9MCxuPXRoaXMuc29ydGVkQmlucy5sZW5ndGgtMTtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgcj10aGlzLl9wZXJjZW50aWxlVG9JbmRleCh0KTtlPXJbMF0sbj1yWzFdfXJldHVyblt0aGlzLnNvcnRlZEJpbnNbZV0udmFsdWUsdGhpcy5zb3J0ZWRCaW5zW25dLnZhbHVlXX19LHtrZXk6ImdldFZhbHVlRG9tYWluQnlTY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49Z3QoKShlLDIpLHI9blswXSxpPXZvaWQgMD09PXI/MDpyLGE9blsxXSxvPXZvaWQgMD09PWE/MTAwOmE7aWYodGhpcy5zb3J0ZWRCaW5zfHwodGhpcy5zb3J0ZWRCaW5zPXRoaXMuYWdncmVnYXRlZEJpbnMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZS1lLnZhbHVlfSkpKSwhdGhpcy5zb3J0ZWRCaW5zLmxlbmd0aClyZXR1cm5bXTt2YXIgcz10aGlzLl9wZXJjZW50aWxlVG9JbmRleChbaSxvXSk7cmV0dXJuIHRoaXMuX2dldFNjYWxlRG9tYWluKHQscyl9fSx7a2V5OiJfZ2V0U2NhbGVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z3QoKShlLDIpLHI9blswXSxpPW5bMV0sYT10aGlzLnNvcnRlZEJpbnM7c3dpdGNoKHQpe2Nhc2UicXVhbnRpemUiOmNhc2UibGluZWFyIjpyZXR1cm5bYVtyXS52YWx1ZSxhW2ldLnZhbHVlXTtjYXNlInF1YW50aWxlIjpyZXR1cm4gUHQoYS5zbGljZShyLGkrMSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpO2Nhc2Uib3JkaW5hbCI6cmV0dXJuIGp0KGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpO2RlZmF1bHQ6cmV0dXJuW2Fbcl0udmFsdWUsYVtpXS52YWx1ZV19fX1dKSx0fSgpLEx0PW4oNjQpLEl0PW4oMjIpO2Z1bmN0aW9uIFJ0KHQpe3JldHVybiBOdW1iZXIuaXNGaW5pdGUodCk/dDowfWZ1bmN0aW9uIE50KHQsZSl7Zm9yKHZhciBuLHIsaT10LnBvc2l0aW9ucy52YWx1ZSxhPTEvMCxvPS0xLzAscz0xLzAsdT0tMS8wLGM9MDtjPGU7YysrKXI9aVszKmNdLGE9KG49aVszKmMrMV0pPGE/bjphLG89bj5vP246byxzPXI8cz9yOnMsdT1yPnU/cjp1O3JldHVybnt4TWluOlJ0KHMpLHhNYXg6UnQodSkseU1pbjpSdChhKSx5TWF4OlJ0KG8pfX1mdW5jdGlvbiBEdCh0LGUpe3ZhciBuPXQ8MD8tMToxLHI9bjwwP01hdGguYWJzKHQpK2U6TWF0aC5hYnModCk7cmV0dXJuKHI9TWF0aC5mbG9vcihyL2UpKmUpKm59ZnVuY3Rpb24gRnQodCxlKXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO2lmKCFuKXJldHVybnt4T2Zmc2V0OmUseU9mZnNldDplfTt2YXIgcj10LnlNaW4saT10LnlNYXgsYT0ocitpKS8yO3JldHVybiBCdChlLGEpfWZ1bmN0aW9uIHp0KHQsZSxuLHIpe3ZhciBpPUZ0KHQsZSxyIT09SXQuYS5DQVJURVNJQU4pLGE9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ci53aWR0aCxhPXIuaGVpZ2h0LG89bj09PUl0LmEuQ0FSVEVTSUFOP1staS8yLC1hLzJdOlstMTgwLC05MF07Yi5hLmFzc2VydChbSXQuYS5DQVJURVNJQU4sSXQuYS5MTkdMQVQsSXQuYS5ERUZBVUxUXS5pbmNsdWRlcyhuKSk7dmFyIHM9dC54TWluLHU9dC55TWluO3JldHVyblstMSooRHQocy1vWzBdLGUueE9mZnNldCkrb1swXSksLTEqKER0KHUtb1sxXSxlLnlPZmZzZXQpK29bMV0pXX0odCxpLHIsbiksbz10LnhNaW4scz10LnlNaW4sdT10LnhNYXgsYz10LnlNYXgsbD11LW8raS54T2Zmc2V0LGg9Yy1zK2kueU9mZnNldDtyZXR1cm57Z3JpZE9mZnNldDppLHRyYW5zbGF0aW9uOmEsd2lkdGg6bCxoZWlnaHQ6aCxudW1Db2w6TWF0aC5jZWlsKGwvaS54T2Zmc2V0KSxudW1Sb3c6TWF0aC5jZWlsKGgvaS55T2Zmc2V0KX19ZnVuY3Rpb24gQnQodCxlKXt2YXIgbjtyZXR1cm57eU9mZnNldDp0LzYzNzhlMyooMTgwL01hdGguUEkpLHhPZmZzZXQ6KG49ZSx0LzYzNzhlMyooMTgwL01hdGguUEkpL01hdGguY29zKG4qTWF0aC5QSS8xODApKX19ZnVuY3Rpb24gVXQodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZGF0YSxyPXZvaWQgMD09PW4/W106bixpPXQuY2VsbFNpemUsYT1lLmF0dHJpYnV0ZXMsbz1lLnZpZXdwb3J0LHM9ZS5wcm9qZWN0UG9pbnRzLHU9ZS5udW1JbnN0YW5jZXMsYz1hLnBvc2l0aW9ucy52YWx1ZSxsPWEucG9zaXRpb25zLmdldEFjY2Vzc29yKCkuc2l6ZSxoPWUuYm91bmRpbmdCb3h8fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHIsaT10LnZhbHVlLGE9dC5nZXRBY2Nlc3NvcigpLnNpemUsbz0xLzAscz0tMS8wLHU9MS8wLGM9LTEvMCxsPTA7bDxlO2wrKylyPWlbbCphXSxuPWlbbCphKzFdLE51bWJlci5pc0Zpbml0ZShyKSYmTnVtYmVyLmlzRmluaXRlKG4pJiYobz1uPG8/bjpvLHM9bj5zP246cyx1PXI8dT9yOnUsYz1yPmM/cjpjKTtyZXR1cm57eE1pbjp1LHhNYXg6Yyx5TWluOm8seU1heDpzfX0oYS5wb3NpdGlvbnMsdSksZj1lLnBvc09mZnNldHx8WzE4MCw5MF0sZD1lLmdyaWRPZmZzZXR8fEZ0KGgsaSk7aWYoZC54T2Zmc2V0PD0wfHxkLnlPZmZzZXQ8PTApcmV0dXJue2dyaWRIYXNoOnt9LGdyaWRPZmZzZXQ6ZH07dmFyIHY9by53aWR0aCxwPW8uaGVpZ2h0LGc9TWF0aC5jZWlsKHYvZC54T2Zmc2V0KSx5PU1hdGguY2VpbChwL2QueU9mZnNldCksbT17fSxiPU9iamVjdChMdC5hKShyKSxfPWIuaXRlcmFibGUsTz1iLm9iamVjdEluZm8seD1uZXcgQXJyYXkoMyksdz0hMCxrPSExLFM9dm9pZCAwO3RyeXtmb3IodmFyIFAsaj1fW1N5bWJvbC5pdGVyYXRvcl0oKTshKHc9KFA9ai5uZXh0KCkpLmRvbmUpO3c9ITApe3ZhciBUPVAudmFsdWU7Ty5pbmRleCsrLHhbMF09Y1tPLmluZGV4KmxdLHhbMV09Y1tPLmluZGV4KmwrMV0seFsyXT1sPj0zP2NbTy5pbmRleCpsKzJdOjA7dmFyIEU9cz9vLnByb2plY3QoeCk6eCxBPWd0KCkoRSwyKSxNPUFbMF0sQz1BWzFdO2lmKE51bWJlci5pc0Zpbml0ZShNKSYmTnVtYmVyLmlzRmluaXRlKEMpKXt2YXIgTD1NYXRoLmZsb29yKChDK2ZbMV0pL2QueU9mZnNldCksST1NYXRoLmZsb29yKChNK2ZbMF0pL2QueE9mZnNldCk7aWYoIXN8fEk+PTAmJkk8ZyYmTD49MCYmTDx5KXt2YXIgUj0iIi5jb25jYXQoTCwiLSIpLmNvbmNhdChJKTttW1JdPW1bUl18fHtjb3VudDowLHBvaW50czpbXSxsb25JZHg6SSxsYXRJZHg6TH0sbVtSXS5jb3VudCs9MSxtW1JdLnBvaW50cy5wdXNoKFQpfX19fWNhdGNoKHQpe2s9ITAsUz10fWZpbmFsbHl7dHJ5e3d8fG51bGw9PWoucmV0dXJufHxqLnJldHVybigpfWZpbmFsbHl7aWYoayl0aHJvdyBTfX1yZXR1cm57Z3JpZEhhc2g6bSxncmlkT2Zmc2V0OmQsb2Zmc2V0czpbLTEqZlswXSwtMSpmWzFdXX19KHQsZSkscj1mdW5jdGlvbih0KXt2YXIgZT10LmdyaWRIYXNoLG49dC5ncmlkT2Zmc2V0LHI9dC5vZmZzZXRzLGk9bmV3IEFycmF5KE9iamVjdC5rZXlzKGUpLmxlbmd0aCksYT0wO2Zvcih2YXIgbyBpbiBlKXt2YXIgcz1vLnNwbGl0KCItIiksdT1wYXJzZUludChzWzBdLDEwKSxjPXBhcnNlSW50KHNbMV0sMTApLGw9YSsrO2lbbF09T2JqZWN0LmFzc2lnbih7aW5kZXg6bCxwb3NpdGlvbjpbclswXStuLnhPZmZzZXQqYyxyWzFdK24ueU9mZnNldCp1XX0sZVtvXSl9cmV0dXJuIGl9KG4pO3JldHVybntncmlkSGFzaDpuLmdyaWRIYXNoLGdyaWRPZmZzZXQ6bi5ncmlkT2Zmc2V0LGRhdGE6cn19dmFyIFZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQuZGltZW5zaW9ucyxyPXRoaXMuY29udGV4dC5nbDtnKCkodigpKGUucHJvdG90eXBlKSwiaW5pdGlhbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsbiksdGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOnt9LGdwdUdyaWRBZ2dyZWdhdG9yOm5ldyBLKHIse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItZ3B1LWFnZ3JlZ2F0b3IiKX0pLGNwdUdyaWRBZ2dyZWdhdG9yOlV0fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZygpKHYoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsdCksdGhpcy51cGRhdGVBZ2dyZWdhdGlvblN0YXRlKHQpO3ZhciBuPXRoaXMuc3RhdGUscj1uLmFnZ3JlZ2F0aW9uRGF0YURpcnR5LGk9bi5hZ2dyZWdhdGlvbldlaWdodHNEaXJ0eSxhPW4uZ3B1QWdncmVnYXRpb247aWYoISh0aGlzLmdldE51bUluc3RhbmNlcygpPD0wKSl7dmFyIG89ITE7KHJ8fGEmJmkpJiYodGhpcy5fdXBkYXRlQWdncmVnYXRpb24odCksbz0hMCksYXx8IXImJiFpfHwodGhpcy5fdXBkYXRlV2VpZ2h0QmlucygpLHRoaXMuX3VwbG9hZEFnZ3JlZ2F0aW9uUmVzdWx0cygpLG89ITApLHRoaXMuc2V0U3RhdGUoe2FnZ3JlZ2F0aW9uRGlydHk6b30pfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50O3QmJnQuYWdncmVnYXRpb25CdWZmZXImJnQuYWdncmVnYXRpb25CdWZmZXIuZGVsZXRlKCk7dmFyIG49dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvcjtuJiZuLmRlbGV0ZSgpLGcoKSh2KCkoZS5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToidXBkYXRlU2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5ncHVBZ2dyZWdhdGlvbiYmdGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvci51cGRhdGVTaGFkZXJzKHQpfX0se2tleToidXBkYXRlQWdncmVnYXRpb25TdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7Yi5hLmFzc2VydCghMSl9fSx7a2V5OiJhbGxvY2F0ZVJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnN0YXRlLm51bVJvdyE9PXR8fHRoaXMuc3RhdGUubnVtQ29sIT09ZSl7dmFyIG49ZSp0KjQqNCxyPXRoaXMuY29udGV4dC5nbCxpPXRoaXMuc3RhdGUud2VpZ2h0cztmb3IodmFyIGEgaW4gaSl7dmFyIG89aVthXTtvLmFnZ3JlZ2F0aW9uQnVmZmVyJiZvLmFnZ3JlZ2F0aW9uQnVmZmVyLmRlbGV0ZSgpLG8uYWdncmVnYXRpb25CdWZmZXI9bmV3IHZ0LmEocix7Ynl0ZUxlbmd0aDpuLGFjY2Vzc29yOntzaXplOjQsdHlwZTo1MTI2LGRpdmlzb3I6MX19KX19fX0se2tleToidXBkYXRlUmVzdWx0cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hZ2dyZWdhdGlvbkRhdGEsbj10Lm1heE1pbkRhdGEscj10Lm1heERhdGEsaT10Lm1pbkRhdGEsYT10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7YSYmKGEuYWdncmVnYXRpb25EYXRhPWUsYS5tYXhNaW5EYXRhPW4sYS5tYXhEYXRhPXIsYS5taW5EYXRhPWkpfX0se2tleToiX3VwZGF0ZUFnZ3JlZ2F0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLG49ZS5jcHVHcmlkQWdncmVnYXRvcixyPWUuZ3B1R3JpZEFnZ3JlZ2F0b3IsaT1lLmdyaWRPZmZzZXQsYT1lLnBvc09mZnNldCxvPWUudHJhbnNsYXRpb24scz12b2lkIDA9PT1vP1swLDBdOm8sdT1lLnNjYWxpbmcsYz12b2lkIDA9PT11P1swLDAsMF06dSxsPWUuYm91bmRpbmdCb3gsaD1lLnByb2plY3RQb2ludHMsZj1lLmdwdUFnZ3JlZ2F0aW9uLGQ9ZS5udW1Db2wsdj1lLm51bVJvdyxwPXQucHJvcHMsZz10aGlzLmNvbnRleHQudmlld3BvcnQseT10aGlzLmdldEF0dHJpYnV0ZXMoKSxtPXRoaXMuZ2V0TnVtSW5zdGFuY2VzKCk7aWYoZil7dmFyIGI9dGhpcy5zdGF0ZS53ZWlnaHRzO3IucnVuKHt3ZWlnaHRzOmIsY2VsbFNpemU6W2kueE9mZnNldCxpLnlPZmZzZXRdLG51bUNvbDpkLG51bVJvdzp2LHRyYW5zbGF0aW9uOnMsc2NhbGluZzpjLHZlcnRleENvdW50Om0scHJvamVjdFBvaW50czpoLGF0dHJpYnV0ZXM6eSxtb2R1bGVTZXR0aW5nczp0aGlzLmdldE1vZHVsZVNldHRpbmdzKCl9KX1lbHNle3ZhciBfPW4ocCx7Z3JpZE9mZnNldDppLHByb2plY3RQb2ludHM6aCxhdHRyaWJ1dGVzOnksdmlld3BvcnQ6Zyxwb3NPZmZzZXQ6YSxib3VuZGluZ0JveDpsfSk7dGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOl99KX19fSx7a2V5OiJfdXBkYXRlV2VpZ2h0QmlucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLmdldFZhbHVlLGU9bmV3IEN0KHRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGF8fFtdLHtnZXRWYWx1ZTp0fSk7dGhpcy5zZXRTdGF0ZSh7c29ydGVkQmluczplfSl9fSx7a2V5OiJfdXBsb2FkQWdncmVnYXRpb25SZXN1bHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUsZT10Lm51bUNvbCxuPXQubnVtUm93LHI9dGhpcy5zdGF0ZS5sYXllckRhdGEuZGF0YSxpPXRoaXMuc3RhdGUuc29ydGVkQmlucyxhPWkuYWdncmVnYXRlZEJpbnMsbz1pLm1pblZhbHVlLHM9aS5tYXhWYWx1ZSx1PWkudG90YWxDb3VudCxjPW5ldyBGbG9hdDMyQXJyYXkoZSpuKjQpLmZpbGwoMCksbD0hMCxoPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGQsdj1hW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWUsZz1yW3AuaV0seT1nLmxvbklkeCxtPWcubGF0SWR4LGI9cC52YWx1ZSxfPXAuY291bnRzLE89NCooeSttKmUpO2NbT109YixjW08rNC0xXT1ffX1jYXRjaCh0KXtoPSEwLGY9dH1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19dmFyIHg9bmV3IEZsb2F0MzJBcnJheShbcywwLDAsb10pLHc9bmV3IEZsb2F0MzJBcnJheShbcywwLDAsdV0pLGs9bmV3IEZsb2F0MzJBcnJheShbbywwLDAsdV0pO3RoaXMudXBkYXRlUmVzdWx0cyh7YWdncmVnYXRpb25EYXRhOmMsbWF4TWluRGF0YTp4LG1heERhdGE6dyxtaW5EYXRhOmt9KX19XSksZX0oZHQpO1Z0LmxheWVyTmFtZT0iR3JpZEFnZ3JlZ2F0aW9uTGF5ZXIiO3ZhciBHdD1PYmplY3QuYXNzaWduKHt9LHV0LmRlZmF1bHRQcm9wcyx7Z2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3NpdGlvbn19LGdldFdlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sZ3B1QWdncmVnYXRpb246ITAsYWdncmVnYXRpb246IlNVTSJ9KSxXdD17ZGF0YTp7cHJvcHM6WyJjZWxsU2l6ZVBpeGVscyJdfSx3ZWlnaHRzOntwcm9wczpbImFnZ3JlZ2F0aW9uIl0sYWNjZXNzb3JzOlsiZ2V0V2VpZ2h0Il19fSxIdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LG49dGhpcy5jb250ZXh0LmdsO2lmKCF1dC5pc1N1cHBvcnRlZChuKSlyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7c3VwcG9ydGVkOiExfSksdm9pZCBiLmEuZXJyb3IoIlNjcmVlbkdyaWRMYXllcjogIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIikpKCk7ZygpKHYoKShlLnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtkaW1lbnNpb25zOld0LGdldENlbGxTaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNlbGxTaXplUGl4ZWxzfX0pO3ZhciByPXtjb3VudDp7c2l6ZToxLG9wZXJhdGlvbjpFLlNVTSxuZWVkTWF4OiEwLG1heFRleHR1cmU6VyhuLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLW1heC10ZXh0dXJlIil9KX19O3RoaXMuc2V0U3RhdGUoe3N1cHBvcnRlZDohMCxwcm9qZWN0UG9pbnRzOiEwLHdlaWdodHM6cixzdWJMYXllckRhdGE6e2F0dHJpYnV0ZXM6e319LG1heFRleHR1cmU6ci5jb3VudC5tYXhUZXh0dXJlLHBvc2l0aW9uQXR0cmlidXRlTmFtZToicG9zaXRpb25zIixwb3NPZmZzZXQ6WzAsMF0sdHJhbnNsYXRpb246WzEsLTFdfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKCh0PXt9LG8oKSh0LCJwb3NpdGlvbnMiLHtzaXplOjMsYWNjZXNzb3I6ImdldFBvc2l0aW9uIix0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCl9KSxvKCkodCwiY291bnQiLHtzaXplOjMsYWNjZXNzb3I6ImdldFdlaWdodCJ9KSx0KSl9fSx7a2V5OiJzaG91bGRVcGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFuZ2VGbGFncztyZXR1cm4gdGhpcy5zdGF0ZS5zdXBwb3J0ZWQmJmUuc29tZXRoaW5nQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtnKCkodigpKGUucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5zdGF0ZS5zdXBwb3J0ZWQpcmV0dXJuW107dmFyIHQ9dGhpcy5zdGF0ZSxlPXQubWF4VGV4dHVyZSxuPXQubnVtUm93LHI9dC5udW1Db2wsaT10LndlaWdodHMsYT10aGlzLnByb3BzLnVwZGF0ZVRyaWdnZXJzLG89aS5jb3VudC5hZ2dyZWdhdGlvbkJ1ZmZlcjtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiY2VsbHMiLHV0KSkodGhpcy5wcm9wcyx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjZWxsLWxheWVyIix1cGRhdGVUcmlnZ2VyczphfSkse2RhdGE6e2F0dHJpYnV0ZXM6e2luc3RhbmNlQ291bnRzOm99fSxtYXhUZXh0dXJlOmUsbnVtSW5zdGFuY2VzOm4qcn0pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtnKCkodigpKGUucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKTt2YXIgdD10aGlzLnN0YXRlLG49dC5hZ2dyZWdhdGlvbkJ1ZmZlcixyPXQubWF4QnVmZmVyLGk9dC5ncHVHcmlkQWdncmVnYXRvcixhPXQubWF4VGV4dHVyZTtpLmRlbGV0ZSgpLG4mJm4uZGVsZXRlKCksciYmci5kZWxldGUoKSxhJiZhLmRlbGV0ZSgpfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbyxuPSh0Lm1vZGUsZS5pbmRleCk7aWYobj49MCl7dmFyIHI9dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvci5nZXREYXRhKCJjb3VudCIpO2Uub2JqZWN0PUsuZ2V0QWdncmVnYXRpb25EYXRhKE9iamVjdC5hc3NpZ24oe3BpeGVsSW5kZXg6bn0scikpfXJldHVybiBlfX0se2tleToidXBkYXRlUmVzdWx0cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5hZ2dyZWdhdGlvbkRhdGEsbj10Lm1heERhdGEscj10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7ci5hZ2dyZWdhdGlvbkRhdGE9ZSxyLmFnZ3JlZ2F0aW9uQnVmZmVyLnNldERhdGEoe2RhdGE6ZX0pLHIubWF4RGF0YT1uLHIubWF4VGV4dHVyZS5zZXRJbWFnZURhdGEoe2RhdGE6bn0pfX0se2tleToidXBkYXRlQWdncmVnYXRpb25TdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcy5jZWxsU2l6ZVBpeGVscyxuPXQub2xkUHJvcHMuY2VsbFNpemVQaXhlbHMhPT1lLHI9dC5jaGFuZ2VGbGFncy52aWV3cG9ydENoYW5nZWQsaT10LnByb3BzLmdwdUFnZ3JlZ2F0aW9uO3RoaXMuc3RhdGUuZ3B1QWdncmVnYXRpb24hPT10LnByb3BzLmdwdUFnZ3JlZ2F0aW9uJiZpJiYhSy5pc1N1cHBvcnRlZCh0aGlzLmNvbnRleHQuZ2wpJiYoYi5hLndhcm4oIkdQVSBHcmlkIEFnZ3JlZ2F0aW9uIG5vdCBzdXBwb3J0ZWQsIGZhbGxpbmcgYmFjayB0byBDUFUiKSgpLGk9ITEpO3ZhciBhPWkhPT10aGlzLnN0YXRlLmdwdUFnZ3JlZ2F0aW9uO3RoaXMuc2V0U3RhdGUoe2dwdUFnZ3JlZ2F0aW9uOml9KTt2YXIgbz10aGlzLmlzQXR0cmlidXRlQ2hhbmdlZCgicG9zaXRpb25zIikscz10aGlzLnN0YXRlLmRpbWVuc2lvbnMsdT1zLmRhdGEsYz1zLndlaWdodHMsbD1vfHxhfHxyfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtjb21wYXJlQWxsOmksZGltZW5zaW9uOnV9KSxoPXRoaXMuaXNBZ2dyZWdhdGlvbkRpcnR5KHQse2RpbWVuc2lvbjpjfSk7dGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EYXRhRGlydHk6bCxhZ2dyZWdhdGlvbldlaWdodHNEaXJ0eTpofSk7dmFyIGY9dGhpcy5jb250ZXh0LnZpZXdwb3J0O2lmKHJ8fG4pe3ZhciBkPWYud2lkdGgsdj1mLmhlaWdodCxwPU1hdGguY2VpbChkL2UpLGc9TWF0aC5jZWlsKHYvZSk7dGhpcy5hbGxvY2F0ZVJlc291cmNlcyhnLHApLHRoaXMuc2V0U3RhdGUoe3NjYWxpbmc6W2QvMiwtdi8yLDFdLGdyaWRPZmZzZXQ6e3hPZmZzZXQ6ZSx5T2Zmc2V0OmV9LHdpZHRoOmQsaGVpZ2h0OnYsbnVtQ29sOnAsbnVtUm93Omd9KX1oJiZ0aGlzLl91cGRhdGVBY2Nlc3NvcnModCksKGx8fGgpJiZ0aGlzLl9yZXNldFJlc3VsdHMoKX19LHtrZXk6Il91cGRhdGVBY2Nlc3NvcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj1lLmdldFdlaWdodCxyPWUuYWdncmVnYXRpb24saT10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7aSYmKGkuZ2V0V2VpZ2h0PW4saS5vcGVyYXRpb249RVtyXSksdGhpcy5zZXRTdGF0ZSh7Z2V0VmFsdWU6TChyLG4pfSl9fSx7a2V5OiJfcmVzZXRSZXN1bHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUud2VpZ2h0cy5jb3VudDt0JiYodC5hZ2dyZWdhdGlvbkRhdGE9bnVsbCl9fV0pLGV9KFZ0KTtIdC5sYXllck5hbWU9IlNjcmVlbkdyaWRMYXllciIsSHQuZGVmYXVsdFByb3BzPUd0O3ZhciBxdD1uKDIwNSksWHQ9big0MSksWnQ9bi5uKFh0KTtmdW5jdGlvbiBZdCgpe312YXIgS3Q9WyJnZXRCaW5zIiwiZ2V0RG9tYWluIiwiZ2V0U2NhbGVGdW5jIl0sUXQ9W3trZXk6ImZpbGxDb2xvciIsYWNjZXNzb3I6ImdldEZpbGxDb2xvciIscGlja2luZ0luZm86ImNvbG9yVmFsdWUiLGdldEJpbnM6e3RyaWdnZXJzOnt2YWx1ZTp7cHJvcDoiZ2V0Q29sb3JWYWx1ZSIsdXBkYXRlVHJpZ2dlcjoiZ2V0Q29sb3JWYWx1ZSJ9LHdlaWdodDp7cHJvcDoiZ2V0Q29sb3JXZWlnaHQiLHVwZGF0ZVRyaWdnZXI6ImdldENvbG9yV2VpZ2h0In0sYWdncmVnYXRpb246e3Byb3A6ImNvbG9yQWdncmVnYXRpb24ifSxmaWx0ZXJEYXRhOntwcm9wOiJfZmlsdGVyRGF0YSIsdXBkYXRlVHJpZ2dlcjoiX2ZpbHRlckRhdGEifX19LGdldERvbWFpbjp7dHJpZ2dlcnM6e2xvd2VyUGVyY2VudGlsZTp7cHJvcDoibG93ZXJQZXJjZW50aWxlIn0sdXBwZXJQZXJjZW50aWxlOntwcm9wOiJ1cHBlclBlcmNlbnRpbGUifSxzY2FsZVR5cGU6e3Byb3A6ImNvbG9yU2NhbGVUeXBlIn19fSxnZXRTY2FsZUZ1bmM6e3RyaWdnZXJzOntkb21haW46e3Byb3A6ImNvbG9yRG9tYWluIn0scmFuZ2U6e3Byb3A6ImNvbG9yUmFuZ2UifX0sb25TZXQ6e3Byb3BzOiJvblNldENvbG9yRG9tYWluIn19LG51bGxWYWx1ZTpbMCwwLDAsMF19LHtrZXk6ImVsZXZhdGlvbiIsYWNjZXNzb3I6ImdldEVsZXZhdGlvbiIscGlja2luZ0luZm86ImVsZXZhdGlvblZhbHVlIixnZXRCaW5zOnt0cmlnZ2Vyczp7dmFsdWU6e3Byb3A6ImdldEVsZXZhdGlvblZhbHVlIix1cGRhdGVUcmlnZ2VyOiJnZXRFbGV2YXRpb25WYWx1ZSJ9LHdlaWdodDp7cHJvcDoiZ2V0RWxldmF0aW9uV2VpZ2h0Iix1cGRhdGVUcmlnZ2VyOiJnZXRFbGV2YXRpb25XZWlnaHQifSxhZ2dyZWdhdGlvbjp7cHJvcDoiZWxldmF0aW9uQWdncmVnYXRpb24ifSxmaWx0ZXJEYXRhOntwcm9wOiJfZmlsdGVyRGF0YSIsdXBkYXRlVHJpZ2dlcjoiX2ZpbHRlckRhdGEifX19LGdldERvbWFpbjp7dHJpZ2dlcnM6e2xvd2VyUGVyY2VudGlsZTp7cHJvcDoiZWxldmF0aW9uTG93ZXJQZXJjZW50aWxlIn0sdXBwZXJQZXJjZW50aWxlOntwcm9wOiJlbGV2YXRpb25VcHBlclBlcmNlbnRpbGUifSxzY2FsZVR5cGU6e3Byb3A6ImVsZXZhdGlvblNjYWxlVHlwZSJ9fX0sZ2V0U2NhbGVGdW5jOnt0cmlnZ2Vyczp7ZG9tYWluOntwcm9wOiJlbGV2YXRpb25Eb21haW4ifSxyYW5nZTp7cHJvcDoiZWxldmF0aW9uUmFuZ2UifX0sb25TZXQ6e3Byb3BzOiJvblNldEVsZXZhdGlvbkRvbWFpbiJ9fSxudWxsVmFsdWU6LTF9XSxKdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jZWxsU2l6ZX0sJHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3UoKSh0aGlzLHQpLHRoaXMuc3RhdGU9e2xheWVyRGF0YTp7fSxkaW1lbnNpb25zOnt9fSx0aGlzLmNoYW5nZUZsYWdzPXt9LHRoaXMuZGltZW5zaW9uVXBkYXRlcnM9e30sdGhpcy5fZ2V0Q2VsbFNpemU9ZS5nZXRDZWxsU2l6ZXx8SnQsdGhpcy5fZ2V0QWdncmVnYXRvcj1lLmdldEFnZ3JlZ2F0b3IsdGhpcy5fYWRkRGltZW5zaW9uKGUuZGltZW5zaW9uc3x8UXQpfXJldHVybiBsKCkodCxbe2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5vbGRQcm9wcyxyPXQucHJvcHMsaT10LmNoYW5nZUZsYWdzO3RoaXMudXBkYXRlR2V0VmFsdWVGdW5jcyhuLHIsaSk7dmFyIGE9dGhpcy5uZWVkc1JlUHJvamVjdFBvaW50cyhuLHIsaSksbz0hMTtpLmRhdGFDaGFuZ2VkfHxhPyh0aGlzLmdldEFnZ3JlZ2F0ZWREYXRhKHIsZSksbz0hMCk6KCh0aGlzLmdldERpbWVuc2lvbkNoYW5nZXMobixyLGkpfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQoKX0pKSxvPSEwKTtyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EaXJ0eTpvfSksdGhpcy5zdGF0ZX19LHtrZXk6InNldFN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRlPU9iamVjdC5hc3NpZ24oe30sdGhpcy5zdGF0ZSx0KX19LHtrZXk6InNldERpbWVuc2lvblN0YXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc2V0U3RhdGUoe2RpbWVuc2lvbnM6T2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmRpbWVuc2lvbnMsbygpKHt9LHQsT2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmRpbWVuc2lvbnNbdF0sZSkpKX0pfX0se2tleToibm9ybWFsaXplUmVzdWx0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gdC5oZXhhZ29ucz9PYmplY3QuYXNzaWduKHtkYXRhOnQuaGV4YWdvbnN9LHQpOnQubGF5ZXJEYXRhP09iamVjdC5hc3NpZ24oe2RhdGE6dC5sYXllckRhdGF9LHQpOnR9fSx7a2V5OiJnZXRBZ2dyZWdhdGVkRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9nZXRBZ2dyZWdhdG9yKHQpKHQsZSk7dGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOnRoaXMubm9ybWFsaXplUmVzdWx0KG4pfSksdGhpcy5jaGFuZ2VGbGFncz17bGF5ZXJEYXRhOiEwfSx0aGlzLmdldFNvcnRlZEJpbnModCl9fSx7a2V5OiJ1cGRhdGVHZXRWYWx1ZUZ1bmNzIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpe3ZhciBpPXRoaXMuZGltZW5zaW9uVXBkYXRlcnNbcl0uZ2V0Qmlucy50cmlnZ2VycyxhPWkudmFsdWUsbz1pLndlaWdodCxzPWkuYWdncmVnYXRpb24sdT1lW2EucHJvcF07dGhpcy5uZWVkVXBkYXRlRGltZW5zaW9uU3RlcCh0aGlzLmRpbWVuc2lvblVwZGF0ZXJzW3JdLmdldEJpbnMsdCxlLG4pJiZudWxsPT09dSYmKHU9TChlW3MucHJvcF0sZVtvLnByb3BdKSksdSYmdGhpcy5zZXREaW1lbnNpb25TdGF0ZShyLHtnZXRWYWx1ZTp1fSl9fX0se2tleToibmVlZHNSZVByb2plY3RQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5fZ2V0Q2VsbFNpemUodCkhPT10aGlzLl9nZXRDZWxsU2l6ZShlKXx8dGhpcy5fZ2V0QWdncmVnYXRvcih0KSE9PXRoaXMuX2dldEFnZ3JlZ2F0b3IoZSl8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQb3NpdGlvbil9fSx7a2V5OiJhZGREaW1lbnNpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZERpbWVuc2lvbih0KX19LHtrZXk6Il9hZGREaW1lbnNpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5O3QuZGltZW5zaW9uVXBkYXRlcnNbbl09dC5nZXREaW1lbnNpb25VcGRhdGVycyhlKSx0LnN0YXRlLmRpbWVuc2lvbnNbbl09e2dldFZhbHVlOm51bGwsZG9tYWluOm51bGwsc29ydGVkQmluczpudWxsLHNjYWxlRnVuYzpZdH19KSl9fSx7a2V5OiJnZXREaW1lbnNpb25VcGRhdGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXksbj10LmFjY2Vzc29yLHI9dC5waWNraW5nSW5mbyxpPXQuZ2V0QmlucyxhPXQuZ2V0RG9tYWluLG89dC5nZXRTY2FsZUZ1bmMscz10Lm51bGxWYWx1ZTtyZXR1cm57a2V5OmUsYWNjZXNzb3I6bixwaWNraW5nSW5mbzpyLGdldEJpbnM6T2JqZWN0LmFzc2lnbih7dXBkYXRlcjp0aGlzLmdldERpbWVuc2lvblNvcnRlZEJpbnN9LGkpLGdldERvbWFpbjpPYmplY3QuYXNzaWduKHt1cGRhdGVyOnRoaXMuZ2V0RGltZW5zaW9uVmFsdWVEb21haW59LGEpLGdldFNjYWxlRnVuYzpPYmplY3QuYXNzaWduKHt1cGRhdGVyOnRoaXMuZ2V0RGltZW5zaW9uU2NhbGV9LG8pLGF0dHJpYnV0ZUFjY2Vzc29yOnRoaXMuZ2V0U3ViTGF5ZXJEaW1lbnNpb25BdHRyaWJ1dGUoZSxzKX19fSx7a2V5OiJuZWVkVXBkYXRlRGltZW5zaW9uU3RlcCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIE9iamVjdC52YWx1ZXModC50cmlnZ2Vycykuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXBkYXRlVHJpZ2dlcj9yLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKHIudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8ci51cGRhdGVUcmlnZ2Vyc0NoYW5nZWRbdC51cGRhdGVUcmlnZ2VyXSk6ZVt0LnByb3BdIT09blt0LnByb3BdfSkpfX0se2tleToiZ2V0RGltZW5zaW9uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsaT1bXSxhPWZ1bmN0aW9uKGEpe3ZhciBvPUt0LmZpbmQoKGZ1bmN0aW9uKGkpe3JldHVybiByLm5lZWRVcGRhdGVEaW1lbnNpb25TdGVwKHIuZGltZW5zaW9uVXBkYXRlcnNbYV1baV0sdCxlLG4pfSkpO28mJmkucHVzaChyLmRpbWVuc2lvblVwZGF0ZXJzW2FdW29dLnVwZGF0ZXIuYmluZChyLGUsci5kaW1lbnNpb25VcGRhdGVyc1thXSkpfTtmb3IodmFyIG8gaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycylhKG8pO3JldHVybiBpLmxlbmd0aD9pOm51bGx9fSx7a2V5OiJnZXRVcGRhdGVUcmlnZ2VycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQudXBkYXRlVHJpZ2dlcnN8fHt9LHI9e30saT1mdW5jdGlvbihpKXt2YXIgYT1lLmRpbWVuc2lvblVwZGF0ZXJzW2ldLmFjY2Vzc29yO3JbYV09e30sS3QuZm9yRWFjaCgoZnVuY3Rpb24obyl7T2JqZWN0LnZhbHVlcyhlLmRpbWVuc2lvblVwZGF0ZXJzW2ldW29dLnRyaWdnZXJzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLnByb3Asbz1lLnVwZGF0ZVRyaWdnZXI7aWYobyl7dmFyIHM9bltvXTsib2JqZWN0IiE9PVp0KCkocyl8fEFycmF5LmlzQXJyYXkocyk/dm9pZCAwIT09cyYmKHJbYV1baV09cyk6T2JqZWN0LmFzc2lnbihyW2FdLHMpfWVsc2UgclthXVtpXT10W2ldfSkpfSkpfTtmb3IodmFyIGEgaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycylpKGEpO3JldHVybiByfX0se2tleToiZ2V0U29ydGVkQmlucyIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpdGhpcy5nZXREaW1lbnNpb25Tb3J0ZWRCaW5zKHQsdGhpcy5kaW1lbnNpb25VcGRhdGVyc1tlXSl9fSx7a2V5OiJnZXREaW1lbnNpb25Tb3J0ZWRCaW5zIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUua2V5LHI9dGhpcy5zdGF0ZS5kaW1lbnNpb25zW25dLmdldFZhbHVlLGk9bmV3IEN0KHRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGF8fFtdLHtnZXRWYWx1ZTpyLGZpbHRlckRhdGE6dC5fZmlsdGVyRGF0YX0pO3RoaXMuc2V0RGltZW5zaW9uU3RhdGUobix7c29ydGVkQmluczppfSksdGhpcy5nZXREaW1lbnNpb25WYWx1ZURvbWFpbih0LGUpfX0se2tleToiZ2V0RGltZW5zaW9uVmFsdWVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREb21haW4scj1lLmtleSxpPW4udHJpZ2dlcnMsYT1pLmxvd2VyUGVyY2VudGlsZSxvPWkudXBwZXJQZXJjZW50aWxlLHM9aS5zY2FsZVR5cGUsdT10aGlzLnN0YXRlLmRpbWVuc2lvbnNbcl0uc29ydGVkQmlucy5nZXRWYWx1ZURvbWFpbkJ5U2NhbGUodFtzLnByb3BdLFt0W2EucHJvcF0sdFtvLnByb3BdXSk7dGhpcy5zZXREaW1lbnNpb25TdGF0ZShyLHt2YWx1ZURvbWFpbjp1fSksdGhpcy5nZXREaW1lbnNpb25TY2FsZSh0LGUpfX0se2tleToiZ2V0RGltZW5zaW9uU2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5rZXkscj1lLmdldFNjYWxlRnVuYyxpPWUuZ2V0RG9tYWluLGE9ci50cmlnZ2VycyxvPWEuZG9tYWluLHM9YS5yYW5nZSx1PWkudHJpZ2dlcnMuc2NhbGVUeXBlLGM9ci5vblNldCxsPXRbcy5wcm9wXSxoPXRbby5wcm9wXXx8dGhpcy5zdGF0ZS5kaW1lbnNpb25zW25dLnZhbHVlRG9tYWluLGY9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UicXVhbnRpemUiOnJldHVybiBtdDtjYXNlImxpbmVhciI6cmV0dXJuIGJ0O2Nhc2UicXVhbnRpbGUiOnJldHVybiBfdDtjYXNlIm9yZGluYWwiOnJldHVybiB3dDtkZWZhdWx0OnJldHVybiBtdH19KHUmJnRbdS5wcm9wXSkoaCxsKTsib2JqZWN0Ij09PVp0KCkoYykmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W2MucHJvcHNdJiZ0W2MucHJvcHNdKGYuZG9tYWluKCkpLHRoaXMuc2V0RGltZW5zaW9uU3RhdGUobix7c2NhbGVGdW5jOmZ9KX19LHtrZXk6ImdldFN1YkxheWVyRGltZW5zaW9uQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPW4uc3RhdGUuZGltZW5zaW9uc1t0XSxhPWkuc29ydGVkQmlucyxvPWkuc2NhbGVGdW5jLHM9YS5iaW5NYXBbci5pbmRleF07aWYocyYmMD09PXMuY291bnRzKXJldHVybiBlO3ZhciB1PXMmJnMudmFsdWUsYz1vLmRvbWFpbigpO3JldHVybiB1Pj1jWzBdJiZ1PD1jW2MubGVuZ3RoLTFdP28odSk6ZX19fSx7a2V5OiJnZXRTdWJMYXllckFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpe2VbdGhpcy5kaW1lbnNpb25VcGRhdGVyc1tuXS5hY2Nlc3Nvcl09dGhpcy5nZXRTdWJMYXllckRpbWVuc2lvbkF0dHJpYnV0ZSh0LG4pfXJldHVybiBlfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbyxuPW51bGw7aWYoZS5waWNrZWQmJmUuaW5kZXg+LTEpe3ZhciByPXRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGFbZS5pbmRleF0saT17fTtmb3IodmFyIGEgaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycyl7dmFyIG89dGhpcy5kaW1lbnNpb25VcGRhdGVyc1thXS5waWNraW5nSW5mbyxzPXRoaXMuc3RhdGUuZGltZW5zaW9uc1thXS5zb3J0ZWRCaW5zLHU9cy5iaW5NYXBbci5pbmRleF0mJnMuYmluTWFwW3IuaW5kZXhdLnZhbHVlO2lbb109dX1uPU9iamVjdC5hc3NpZ24oaSxyLHtwb2ludHM6ci5maWx0ZXJlZFBvaW50c3x8ci5wb2ludHN9KX1yZXR1cm4gT2JqZWN0LmFzc2lnbihlLHtwaWNrZWQ6Qm9vbGVhbihuKSxvYmplY3Q6bn0pfX0se2tleToiZ2V0QWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpbWVuc2lvblVwZGF0ZXJzLmhhc093blByb3BlcnR5KHQpP3RoaXMuZGltZW5zaW9uVXBkYXRlcnNbdF0uYXR0cmlidXRlQWNjZXNzb3I6WXR9fV0sW3trZXk6ImRlZmF1bHREaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBRdH19XSksdH0oKTtmdW5jdGlvbiB0ZSgpe312YXIgZWU9e2NvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpudCxnZXRDb2xvclZhbHVlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bnVsbH0sZ2V0Q29sb3JXZWlnaHQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMX19LGNvbG9yQWdncmVnYXRpb246IlNVTSIsbG93ZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MH0sdXBwZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MTAwfSxjb2xvclNjYWxlVHlwZToicXVhbnRpemUiLG9uU2V0Q29sb3JEb21haW46dGUsZWxldmF0aW9uRG9tYWluOm51bGwsZWxldmF0aW9uUmFuZ2U6WzAsMWUzXSxnZXRFbGV2YXRpb25WYWx1ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOm51bGx9LGdldEVsZXZhdGlvbldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sZWxldmF0aW9uQWdncmVnYXRpb246IlNVTSIsZWxldmF0aW9uTG93ZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MH0sZWxldmF0aW9uVXBwZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MTAwfSxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxlbGV2YXRpb25TY2FsZVR5cGU6ImxpbmVhciIsb25TZXRFbGV2YXRpb25Eb21haW46dGUsZ3JpZEFnZ3JlZ2F0b3I6VXQsY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjFlMyx2YWx1ZToxZTN9LGNvdmVyYWdlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxleHRydWRlZDohMSxtYXRlcmlhbDohMCxfZmlsdGVyRGF0YTp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsb3B0aW9uYWw6ITB9fSxuZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyAkdCh7Z2V0QWdncmVnYXRvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5ncmlkQWdncmVnYXRvcn0sZ2V0Q2VsbFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VsbFNpemV9fSk7dGhpcy5zdGF0ZT17Y3B1QWdncmVnYXRvcjp0LGFnZ3JlZ2F0b3JTdGF0ZTp0LnN0YXRlfSx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGQoe3Bvc2l0aW9uczp7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7ZygpKHYoKShlLnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsdCksdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRvclN0YXRlOnRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci51cGRhdGVTdGF0ZSh0LHt2aWV3cG9ydDp0aGlzLmNvbnRleHQudmlld3BvcnQsYXR0cmlidXRlczp0aGlzLmdldEF0dHJpYnV0ZXMoKSxudW1JbnN0YW5jZXM6dGhpcy5nZXROdW1JbnN0YW5jZXModC5wcm9wcyl9KX0pfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5mbztyZXR1cm4gdGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLmdldFBpY2tpbmdJbmZvKHtpbmZvOmV9KX19LHtrZXk6Il9vbkdldFN1YmxheWVyQ29sb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0QWNjZXNzb3IoImZpbGxDb2xvciIpKHQpfX0se2tleToiX29uR2V0U3VibGF5ZXJFbGV2YXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0QWNjZXNzb3IoImVsZXZhdGlvbiIpKHQpfX0se2tleToiX2dldFN1YmxheWVyVXBkYXRlVHJpZ2dlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRVcGRhdGVUcmlnZ2Vycyh0aGlzLnByb3BzKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5lbGV2YXRpb25TY2FsZSxuPXQuZXh0cnVkZWQscj10LmNlbGxTaXplLGk9dC5jb3ZlcmFnZSxhPXQubWF0ZXJpYWwsbz10LnRyYW5zaXRpb25zLHM9dGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLHU9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJncmlkLWNlbGwiLHF0LmEpLGM9dGhpcy5fZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycygpO3JldHVybiBuZXcgdSh7Y2VsbFNpemU6cixjb3ZlcmFnZTppLG1hdGVyaWFsOmEsZWxldmF0aW9uU2NhbGU6ZSxleHRydWRlZDpuLGdldEZpbGxDb2xvcjp0aGlzLl9vbkdldFN1YmxheWVyQ29sb3IuYmluZCh0aGlzKSxnZXRFbGV2YXRpb246dGhpcy5fb25HZXRTdWJsYXllckVsZXZhdGlvbi5iaW5kKHRoaXMpLHRyYW5zaXRpb25zOm8mJntnZXRGaWxsQ29sb3I6by5nZXRDb2xvclZhbHVlfHxvLmdldENvbG9yV2VpZ2h0LGdldEVsZXZhdGlvbjpvLmdldEVsZXZhdGlvblZhbHVlfHxvLmdldEVsZXZhdGlvbldlaWdodH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImdyaWQtY2VsbCIsdXBkYXRlVHJpZ2dlcnM6Y30pLHtkYXRhOnMuc3RhdGUubGF5ZXJEYXRhLmRhdGF9KX19XSksZX0oZHQpO25lLmxheWVyTmFtZT0iQ1BVR3JpZExheWVyIixuZS5kZWZhdWx0UHJvcHM9ZWU7dmFyIHJlPW4oMTU5KSxpZT1NYXRoLlBJLzMsYWU9WzAsaWUsMippZSwzKmllLDQqaWUsNSppZV07ZnVuY3Rpb24gb2UodCl7cmV0dXJuIHRbMF19ZnVuY3Rpb24gc2UodCl7cmV0dXJuIHRbMV19ZnVuY3Rpb24gdWUodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGNlKCl7fXZhciBsZT17Y29sb3JEb21haW46bnVsbCxjb2xvclJhbmdlOm50LGdldENvbG9yVmFsdWU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpudWxsfSxnZXRDb2xvcldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sY29sb3JBZ2dyZWdhdGlvbjoiU1VNIixsb3dlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MCxtYXg6MTAwfSx1cHBlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MTAwLG1pbjowLG1heDoxMDB9LGNvbG9yU2NhbGVUeXBlOiJxdWFudGl6ZSIsb25TZXRDb2xvckRvbWFpbjpjZSxlbGV2YXRpb25Eb21haW46bnVsbCxlbGV2YXRpb25SYW5nZTpbMCwxZTNdLGdldEVsZXZhdGlvblZhbHVlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bnVsbH0sZ2V0RWxldmF0aW9uV2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDF9fSxlbGV2YXRpb25BZ2dyZWdhdGlvbjoiU1VNIixlbGV2YXRpb25Mb3dlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MCxtYXg6MTAwfSxlbGV2YXRpb25VcHBlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MTAwLG1pbjowLG1heDoxMDB9LGVsZXZhdGlvblNjYWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LGVsZXZhdGlvblNjYWxlVHlwZToibGluZWFyIixvblNldEVsZXZhdGlvbkRvbWFpbjpjZSxyYWRpdXM6e3R5cGU6Im51bWJlciIsdmFsdWU6MWUzLG1pbjoxfSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxleHRydWRlZDohMSxoZXhhZ29uQWdncmVnYXRvcjpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZGF0YSxyPXQucmFkaXVzLGk9ZS52aWV3cG9ydCxhPWUuYXR0cmlidXRlcyxvPW4ubGVuZ3RoP2Z1bmN0aW9uKHQsZSl7dmFyIG4scj1lLmF0dHJpYnV0ZXMsaT1yLnBvc2l0aW9ucy52YWx1ZSxhPXIucG9zaXRpb25zLmdldEFjY2Vzc29yKCkuc2l6ZSxvPTEvMCxzPTEvMCx1PS0xLzAsYz0tMS8wO2ZvcihuPTA7bjxhKnQubGVuZ3RoO24rPWEpe3ZhciBsPWlbbl0saD1pW24rMV07TnVtYmVyLmlzRmluaXRlKGwpJiZOdW1iZXIuaXNGaW5pdGUoaCkmJihvPU1hdGgubWluKGwsbyksdT1NYXRoLm1heChsLHUpLHM9TWF0aC5taW4oaCxzKSxjPU1hdGgubWF4KGgsYykpfXJldHVybltvLHMsdSxjXS5ldmVyeShOdW1iZXIuaXNGaW5pdGUpP1sobyt1KS8yLChzK2MpLzJdOm51bGx9KG4sZSk6bnVsbCxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmdldERpc3RhbmNlU2NhbGVzKG4pLnVuaXRzUGVyTWV0ZXI7cmV0dXJuIHQqclswXX0ocixpLG8pLHU9W10sYz1PYmplY3QoTHQuYSkobiksbD1jLml0ZXJhYmxlLGg9Yy5vYmplY3RJbmZvLGY9YS5wb3NpdGlvbnMudmFsdWUsZD1hLnBvc2l0aW9ucy5nZXRBY2Nlc3NvcigpLnNpemUsdj0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksbT1sW1N5bWJvbC5pdGVyYXRvcl0oKTshKHY9KHk9bS5uZXh0KCkpLmRvbmUpO3Y9ITApe3ZhciBfPXkudmFsdWU7aC5pbmRleCsrO3ZhciBPPWguaW5kZXgqZCx4PVtmW09dLGZbTysxXV07TnVtYmVyLmlzRmluaXRlKHhbMF0pJiZOdW1iZXIuaXNGaW5pdGUoeFsxXSk/dS5wdXNoKE9iamVjdC5hc3NpZ24oe3NjcmVlbkNvb3JkOmkucHJvamVjdEZsYXQoeCl9LF8pKTpiLmEud2FybigiSGV4YWdvbkxheWVyOiBpbnZhbGlkIHBvc2l0aW9uIikoKX19Y2F0Y2godCl7cD0hMCxnPXR9ZmluYWxseXt0cnl7dnx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGd9fXJldHVybntoZXhhZ29uczpmdW5jdGlvbigpe3ZhciB0LGUsbixyPTAsaT0wLGE9MSxvPTEscz1vZSx1PXNlO2Z1bmN0aW9uIGModCl7dmFyIHIsaT17fSxhPVtdLG89dC5sZW5ndGg7Zm9yKHI9MDtyPG87KytyKWlmKCFpc05hTihsPStzLmNhbGwobnVsbCxjPXRbcl0scix0KSkmJiFpc05hTihoPSt1LmNhbGwobnVsbCxjLHIsdCkpKXt2YXIgYyxsLGgsZj1NYXRoLnJvdW5kKGgvPW4pLGQ9TWF0aC5yb3VuZChsPWwvZS0oMSZmKS8yKSx2PWgtZjtpZigzKk1hdGguYWJzKHYpPjEpe3ZhciBwPWwtZCxnPWQrKGw8ZD8tMToxKS8yLHk9ZisoaDxmPy0xOjEpLG09bC1nLGI9aC15O3AqcCt2KnY+bSptK2IqYiYmKGQ9ZysoMSZmPzE6LTEpLzIsZj15KX12YXIgXz1kKyItIitmLE89aVtfXTtPP08ucHVzaChjKTooYS5wdXNoKE89aVtfXT1bY10pLE8ueD0oZCsoMSZmKS8yKSplLE8ueT1mKm4pfXJldHVybiBhfWZ1bmN0aW9uIGwodCl7dmFyIGU9MCxuPTA7cmV0dXJuIGFlLm1hcCgoZnVuY3Rpb24ocil7dmFyIGk9TWF0aC5zaW4ocikqdCxhPS1NYXRoLmNvcyhyKSp0LG89aS1lLHM9YS1uO3JldHVybiBlPWksbj1hLFtvLHNdfSkpfXJldHVybiBjLmhleGFnb249ZnVuY3Rpb24oZSl7cmV0dXJuIm0iK2wobnVsbD09ZT90OitlKS5qb2luKCJsIikrInoifSxjLmNlbnRlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sdT1NYXRoLnJvdW5kKGkvbiksYz1NYXRoLnJvdW5kKHIvZSksbD11Km47bDxvK3Q7bCs9biwrK3UpZm9yKHZhciBoPWMqZSsoMSZ1KSplLzI7aDxhK2UvMjtoKz1lKXMucHVzaChbaCxsXSk7cmV0dXJuIHN9LGMubWVzaD1mdW5jdGlvbigpe3ZhciBlPWwodCkuc2xpY2UoMCw0KS5qb2luKCJsIik7cmV0dXJuIGMuY2VudGVycygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIk0iK3QrIm0iK2V9KSkuam9pbigiIil9LGMueD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz10LGMpOnN9LGMueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT10LGMpOnV9LGMucmFkaXVzPWZ1bmN0aW9uKHIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPTIqKHQ9K3IpKk1hdGguc2luKGllKSxuPTEuNSp0LGMpOnR9LGMuc2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1pPTAsYT0rdFswXSxvPSt0WzFdLGMpOlthLXIsby1pXX0sYy5leHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9K3RbMF1bMF0saT0rdFswXVsxXSxhPSt0WzFdWzBdLG89K3RbMV1bMV0sYyk6W1tyLGldLFthLG9dXX0sYy5yYWRpdXMoMSl9KCkucmFkaXVzKHMpLngoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjcmVlbkNvb3JkWzBdfSkpLnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjcmVlbkNvb3JkWzFdfSkpKHUpLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm57cG9zaXRpb246aS51bnByb2plY3RGbGF0KFt0LngsdC55XSkscG9pbnRzOnQsaW5kZXg6ZX19KSkscmFkaXVzQ29tbW9uOnN9fSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sbWF0ZXJpYWw6ITAsX2ZpbHRlckRhdGE6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLG9wdGlvbmFsOiEwfX0saGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGFuZ2VGbGFncy5zb21ldGhpbmdDaGFuZ2VkfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyAkdCh7Z2V0QWdncmVnYXRvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5oZXhhZ29uQWdncmVnYXRvcn0sZ2V0Q2VsbFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmFkaXVzfX0pO3RoaXMuc3RhdGU9e2NwdUFnZ3JlZ2F0b3I6dCxhZ2dyZWdhdG9yU3RhdGU6dC5zdGF0ZSxoZXhhZ29uVmVydGljZXM6bnVsbH0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKHtwb3NpdGlvbnM6e3NpemU6MyxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBuPXRoaXMuc3RhdGUscj1uLmNwdUFnZ3JlZ2F0b3IsaT1uLmhleGFnb25WZXJ0aWNlczt0LmNoYW5nZUZsYWdzLnByb3BzT3JEYXRhQ2hhbmdlZCYmdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRvclN0YXRlOnIudXBkYXRlU3RhdGUodCx7dmlld3BvcnQ6dGhpcy5jb250ZXh0LnZpZXdwb3J0LGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCl9KX0pO3ZhciBhPShyLnN0YXRlLmxheWVyRGF0YXx8e30pLmhleGFnb25WZXJ0aWNlcztpZihhJiZpIT09YSl7dmFyIG89dGhpcy5jb252ZXJ0TGF0TG5nVG9NZXRlck9mZnNldChhKTtvJiZ0aGlzLnNldFN0YXRlKHtoZXhhZ29uVmVydGljZXM6YSx2ZXJ0aWNlczpvfSl9ZWxzZSB0aGlzLnVwZGF0ZVJhZGl1c0FuZ2xlKCl9fSx7a2V5OiJ1cGRhdGVSYWRpdXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LnZpZXdwb3J0LmdldERpc3RhbmNlU2NhbGVzKCkudW5pdHNQZXJNZXRlcixuPXRoaXMuc3RhdGUuY3B1QWdncmVnYXRvcjtpZihuLnN0YXRlLmxheWVyRGF0YSYmbi5zdGF0ZS5sYXllckRhdGEucmFkaXVzQ29tbW9uKXt2YXIgcj1uLnN0YXRlLmxheWVyRGF0YS5yYWRpdXNDb21tb24vZVswXTt0aGlzLnNldFN0YXRlKHthbmdsZTo5MCxyYWRpdXM6cn0pfX19LHtrZXk6ImNvbnZlcnRMYXRMbmdUb01ldGVyT2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQudmlld3BvcnQ7aWYoQXJyYXkuaXNBcnJheSh0KSYmNj09PXQubGVuZ3RoKXt2YXIgbj10WzBdLHI9dFszXSxpPVsoblswXStyWzBdKS8yLChuWzFdK3JbMV0pLzJdLGE9ZS5wcm9qZWN0RmxhdChpKSxvPWUuZ2V0RGlzdGFuY2VTY2FsZXMoaSkubWV0ZXJzUGVyVW5pdDtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWUucHJvamVjdEZsYXQodCk7cmV0dXJuWyhuWzBdLWFbMF0pKm9bMF0sKG5bMV0tYVsxXSkqb1sxXV19KSl9cmV0dXJuIGIuYS5lcnJvcigiSGV4YWdvbkxheWVyOiBoZXhhZ29uVmVydGljZXMgbmVlZHMgdG8gYmUgYW4gYXJyYXkgb2YgNiBwb2ludHMiKSgpLG51bGx9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmZvO3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0UGlja2luZ0luZm8oe2luZm86ZX0pfX0se2tleToiX29uR2V0U3VibGF5ZXJDb2xvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRBY2Nlc3NvcigiZmlsbENvbG9yIikodCl9fSx7a2V5OiJfb25HZXRTdWJsYXllckVsZXZhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRBY2Nlc3NvcigiZWxldmF0aW9uIikodCl9fSx7a2V5OiJfZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLmdldFVwZGF0ZVRyaWdnZXJzKHRoaXMucHJvcHMpfX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10LmVsZXZhdGlvblNjYWxlLG49dC5leHRydWRlZCxyPXQuY292ZXJhZ2UsaT10Lm1hdGVyaWFsLGE9dC50cmFuc2l0aW9ucyxzPXRoaXMuc3RhdGUsdT1zLmFuZ2xlLGM9cy5yYWRpdXMsbD1zLmNwdUFnZ3JlZ2F0b3IsaD1zLnZlcnRpY2VzLGY9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJoZXhhZ29uLWNlbGwiLHJlLmEpLGQ9dGhpcy5fZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycygpO3JldHVybiBuZXcgZihmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj91ZShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe28oKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6dWUoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LGgmJmgubGVuZ3RoP3t2ZXJ0aWNlczpoLHJhZGl1czoxfTp7cmFkaXVzOmMsYW5nbGU6dX0se2Rpc2tSZXNvbHV0aW9uOjYsZWxldmF0aW9uU2NhbGU6ZSxleHRydWRlZDpuLGNvdmVyYWdlOnIsbWF0ZXJpYWw6aSxnZXRGaWxsQ29sb3I6dGhpcy5fb25HZXRTdWJsYXllckNvbG9yLmJpbmQodGhpcyksZ2V0RWxldmF0aW9uOnRoaXMuX29uR2V0U3VibGF5ZXJFbGV2YXRpb24uYmluZCh0aGlzKSx0cmFuc2l0aW9uczphJiZ7Z2V0RmlsbENvbG9yOmEuZ2V0Q29sb3JWYWx1ZXx8YS5nZXRDb2xvcldlaWdodCxnZXRFbGV2YXRpb246YS5nZXRFbGV2YXRpb25WYWx1ZXx8YS5nZXRFbGV2YXRpb25XZWlnaHR9fSksdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiaGV4YWdvbi1jZWxsIix1cGRhdGVUcmlnZ2VyczpkfSkse2RhdGE6bC5zdGF0ZS5sYXllckRhdGEuZGF0YX0pfX1dKSxlfShkdCk7aGUubGF5ZXJOYW1lPSJIZXhhZ29uTGF5ZXIiLGhlLmRlZmF1bHRQcm9wcz1sZTt2YXIgZmUsZGU9bigyMTUpLHZlPW4oMTE5KSxwZT17TjpbMCwuNV0sRTpbLjUsMF0sUzpbMCwtLjVdLFc6Wy0uNSwwXSxORTpbLjUsLjVdLE5XOlstLjUsLjVdLFNFOlsuNSwtLjVdLFNXOlstLjUsLS41XX0sZ2U9W3BlLlcscGUuU1cscGUuU10seWU9W3BlLlMscGUuU0UscGUuRV0sbWU9W3BlLkUscGUuTkUscGUuTl0sYmU9W3BlLk5XLHBlLlcscGUuTl0sX2U9W1stLjUsMS82XSxbLS41LC0xLzZdLFstMS82LC0uNV0sWzEvNiwtLjVdXSxPZT1bWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdXSx4ZT1bWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sd2U9W1stLjUsMS82XSxbLS41LC0xLzZdLFsxLzYsLjVdLFstMS82LC41XV0sa2U9W3BlLlcscGUuU1cscGUuU0UscGUuRV0sU2U9W3BlLlMscGUuU0UscGUuTkUscGUuTl0sUGU9W3BlLk5XLHBlLlcscGUuRSxwZS5ORV0samU9W3BlLk5XLHBlLlNXLHBlLlMscGUuTl0sVGU9W1stLjUsMS82XSxbLS41LC0xLzZdLFsuNSwtMS82XSxbLjUsMS82XV0sRWU9W1stMS82LC0uNV0sWzEvNiwtLjVdLFsxLzYsLjVdLFstMS82LC41XV0sQWU9W3BlLk5XLHBlLlNXLHBlLlNFLHBlLk5FXSxNZT1bcGUuTlcscGUuU1cscGUuU0UscGUuRSxwZS5OXSxDZT1bcGUuVyxwZS5TVyxwZS5TRSxwZS5ORSxwZS5OXSxMZT1bcGUuTlcscGUuVyxwZS5TLHBlLlNFLHBlLk5FXSxJZT1bcGUuTlcscGUuU1cscGUuUyxwZS5FLHBlLk5FXSxSZT1bcGUuTlcscGUuVyxbLjUsLTEvNl0sWy41LDEvNl0scGUuTl0sTmU9W1stMS82LC0uNV0sWzEvNiwtLjVdLHBlLkUscGUuTkUscGUuTl0sRGU9W1stLjUsMS82XSxbLS41LC0xLzZdLHBlLlMscGUuU0UscGUuRV0sRmU9W3BlLlcscGUuU1cscGUuUyxbMS82LC41XSxbLTEvNiwuNV1dLHplPVtwZS5OVyxwZS5XLFstMS82LC0uNV0sWzEvNiwtLjVdLHBlLk5dLEJlPVtbLS41LDEvNl0sWy0uNSwtMS82XSxwZS5FLHBlLk5FLHBlLk5dLFVlPVtwZS5TLHBlLlNFLHBlLkUsWzEvNiwuNV0sWy0xLzYsLjVdXSxWZT1bcGUuVyxwZS5TVyxwZS5TLFsuNSwtMS82XSxbLjUsMS82XV0sR2U9W3BlLlcscGUuU1cscGUuU0UscGUuRSxbMS82LC41XSxbLTEvNiwuNV1dLFdlPVtbLS41LDEvNl0sWy0uNSwtMS82XSxwZS5TLHBlLlNFLHBlLk5FLHBlLk5dLEhlPVtwZS5OVyxwZS5XLFstMS82LC0uNV0sWzEvNiwtLjVdLHBlLkUscGUuTkVdLHFlPVtwZS5OVyxwZS5TVyxwZS5TLFsuNSwtMS82XSxbLjUsMS82XSxwZS5OXSxYZT1bcGUuVyxwZS5TVyxwZS5TLHBlLkUscGUuTkUscGUuTl0sWmU9W3BlLk5XLHBlLlcscGUuUyxwZS5TRSxwZS5FLHBlLk5dLFllPVtbLS41LDEvNl0sWy0uNSwtMS82XSxbLTEvNiwtLjVdLFsxLzYsLS41XSxwZS5FLHBlLk5FLHBlLk5dLEtlPVtwZS5XLHBlLlNXLHBlLlMsWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sUWU9W3BlLk5XLHBlLlcsWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdLHBlLk5dLEplPVtbLS41LDEvNl0sWy0uNSwtMS82XSxwZS5TLHBlLlNFLHBlLkUsWzEvNiwuNV0sWy0xLzYsLjVdXSwkZT1bWy0uNSwxLzZdLFstLjUsLTEvNl0sWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sdG49ezA6W10sMTpbW3BlLlcscGUuU11dLDI6W1twZS5TLHBlLkVdXSwzOltbcGUuVyxwZS5FXV0sNDpbW3BlLk4scGUuRV1dLDU6ezA6W1twZS5XLHBlLlNdLFtwZS5OLHBlLkVdXSwxOltbcGUuVyxwZS5OXSxbcGUuUyxwZS5FXV19LDY6W1twZS5OLHBlLlNdXSw3OltbcGUuVyxwZS5OXV0sODpbW3BlLlcscGUuTl1dLDk6W1twZS5OLHBlLlNdXSwxMDp7MDpbW3BlLlcscGUuTl0sW3BlLlMscGUuRV1dLDE6W1twZS5XLHBlLlNdLFtwZS5OLHBlLkVdXX0sMTE6W1twZS5OLHBlLkVdXSwxMjpbW3BlLlcscGUuRV1dLDEzOltbcGUuUyxwZS5FXV0sMTQ6W1twZS5XLHBlLlNdXSwxNTpbXX07ZnVuY3Rpb24gZW4odCl7cmV0dXJuIHBhcnNlSW50KHQsNCl9dmFyIG5uPShmZT17fSxvKCkoZmUsZW4oIjAwMDAiKSxbXSksbygpKGZlLGVuKCIyMjIyIiksW10pLG8oKShmZSxlbigiMjIyMSIpLFtnZV0pLG8oKShmZSxlbigiMjIxMiIpLFt5ZV0pLG8oKShmZSxlbigiMjEyMiIpLFttZV0pLG8oKShmZSxlbigiMTIyMiIpLFtiZV0pLG8oKShmZSxlbigiMDAwMSIpLFtnZV0pLG8oKShmZSxlbigiMDAxMCIpLFt5ZV0pLG8oKShmZSxlbigiMDEwMCIpLFttZV0pLG8oKShmZSxlbigiMTAwMCIpLFtiZV0pLG8oKShmZSxlbigiMjIyMCIpLFtfZV0pLG8oKShmZSxlbigiMjIwMiIpLFtPZV0pLG8oKShmZSxlbigiMjAyMiIpLFt4ZV0pLG8oKShmZSxlbigiMDIyMiIpLFt3ZV0pLG8oKShmZSxlbigiMDAwMiIpLFtfZV0pLG8oKShmZSxlbigiMDAyMCIpLFtPZV0pLG8oKShmZSxlbigiMDIwMCIpLFt4ZV0pLG8oKShmZSxlbigiMjAwMCIpLFt3ZV0pLG8oKShmZSxlbigiMDAxMSIpLFtrZV0pLG8oKShmZSxlbigiMDExMCIpLFtTZV0pLG8oKShmZSxlbigiMTEwMCIpLFtQZV0pLG8oKShmZSxlbigiMTAwMSIpLFtqZV0pLG8oKShmZSxlbigiMjIxMSIpLFtrZV0pLG8oKShmZSxlbigiMjExMiIpLFtTZV0pLG8oKShmZSxlbigiMTEyMiIpLFtQZV0pLG8oKShmZSxlbigiMTIyMSIpLFtqZV0pLG8oKShmZSxlbigiMjIwMCIpLFtUZV0pLG8oKShmZSxlbigiMjAwMiIpLFtFZV0pLG8oKShmZSxlbigiMDAyMiIpLFtUZV0pLG8oKShmZSxlbigiMDIyMCIpLFtFZV0pLG8oKShmZSxlbigiMTExMSIpLFtBZV0pLG8oKShmZSxlbigiMTIxMSIpLFtNZV0pLG8oKShmZSxlbigiMjExMSIpLFtDZV0pLG8oKShmZSxlbigiMTExMiIpLFtMZV0pLG8oKShmZSxlbigiMTEyMSIpLFtJZV0pLG8oKShmZSxlbigiMTAxMSIpLFtNZV0pLG8oKShmZSxlbigiMDExMSIpLFtDZV0pLG8oKShmZSxlbigiMTExMCIpLFtMZV0pLG8oKShmZSxlbigiMTEwMSIpLFtJZV0pLG8oKShmZSxlbigiMTIwMCIpLFtSZV0pLG8oKShmZSxlbigiMDEyMCIpLFtOZV0pLG8oKShmZSxlbigiMDAxMiIpLFtEZV0pLG8oKShmZSxlbigiMjAwMSIpLFtGZV0pLG8oKShmZSxlbigiMTAyMiIpLFtSZV0pLG8oKShmZSxlbigiMjEwMiIpLFtOZV0pLG8oKShmZSxlbigiMjIxMCIpLFtEZV0pLG8oKShmZSxlbigiMDIyMSIpLFtGZV0pLG8oKShmZSxlbigiMTAwMiIpLFt6ZV0pLG8oKShmZSxlbigiMjEwMCIpLFtCZV0pLG8oKShmZSxlbigiMDIxMCIpLFtVZV0pLG8oKShmZSxlbigiMDAyMSIpLFtWZV0pLG8oKShmZSxlbigiMTIyMCIpLFt6ZV0pLG8oKShmZSxlbigiMDEyMiIpLFtCZV0pLG8oKShmZSxlbigiMjAxMiIpLFtVZV0pLG8oKShmZSxlbigiMjIwMSIpLFtWZV0pLG8oKShmZSxlbigiMDIxMSIpLFtHZV0pLG8oKShmZSxlbigiMjExMCIpLFtXZV0pLG8oKShmZSxlbigiMTEwMiIpLFtIZV0pLG8oKShmZSxlbigiMTAyMSIpLFtxZV0pLG8oKShmZSxlbigiMjAxMSIpLFtHZV0pLG8oKShmZSxlbigiMDExMiIpLFtXZV0pLG8oKShmZSxlbigiMTEyMCIpLFtIZV0pLG8oKShmZSxlbigiMTIwMSIpLFtxZV0pLG8oKShmZSxlbigiMjEwMSIpLFtYZV0pLG8oKShmZSxlbigiMDEyMSIpLFtYZV0pLG8oKShmZSxlbigiMTAxMiIpLFtaZV0pLG8oKShmZSxlbigiMTIxMCIpLFtaZV0pLG8oKShmZSxlbigiMDEwMSIpLHswOltnZSxtZV0sMTpbWGVdLDI6W1hlXX0pLG8oKShmZSxlbigiMTAxMCIpLHswOltiZSx5ZV0sMTpbWmVdLDI6W1plXX0pLG8oKShmZSxlbigiMjEyMSIpLHswOltYZV0sMTpbWGVdLDI6W2dlLG1lXX0pLG8oKShmZSxlbigiMTIxMiIpLHswOltaZV0sMTpbWmVdLDI6W2JlLHllXX0pLG8oKShmZSxlbigiMjEyMCIpLHswOltZZV0sMTpbWWVdLDI6W19lLG1lXX0pLG8oKShmZSxlbigiMjAyMSIpLHswOltLZV0sMTpbS2VdLDI6W2dlLHhlXX0pLG8oKShmZSxlbigiMTIwMiIpLHswOltRZV0sMTpbUWVdLDI6W2JlLE9lXX0pLG8oKShmZSxlbigiMDIxMiIpLHswOltKZV0sMTpbSmVdLDI6W3llLHdlXX0pLG8oKShmZSxlbigiMDEwMiIpLHswOltfZSxtZV0sMTpbWWVdLDI6W1llXX0pLG8oKShmZSxlbigiMDIwMSIpLHswOltnZSx4ZV0sMTpbS2VdLDI6W0tlXX0pLG8oKShmZSxlbigiMTAyMCIpLHswOltiZSxPZV0sMTpbUWVdLDI6W1FlXX0pLG8oKShmZSxlbigiMjAxMCIpLHswOlt5ZSx3ZV0sMTpbSmVdLDI6W0plXX0pLG8oKShmZSxlbigiMjAyMCIpLHswOlt3ZSxPZV0sMTpbJGVdLDI6W19lLHhlXX0pLG8oKShmZSxlbigiMDIwMiIpLHswOlt4ZSxfZV0sMTpbJGVdLDI6W3dlLE9lXX0pLGZlKSxybj0xLGFuPTIsb249e3pJbmRleDowLHpPZmZzZXQ6LjAwNX07ZnVuY3Rpb24gc24odCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90PGVbMF0/MDp0PGVbMV0/MToyOnQ+PWU/MTowfWZ1bmN0aW9uIHVuKHQpe3ZhciBlPXQuY2VsbFdlaWdodHMsbj10Lngscj10LnksaT10LndpZHRoLGE9dC5oZWlnaHQsbz10LnRocmVzaG9sZDt0LnRocmVzaG9sZFZhbHVlJiYoYi5hLmRlcHJlY2F0ZWQoInRocmVzaG9sZFZhbHVlIiwidGhyZXNob2xkIikoKSxvPXQudGhyZXNob2xkVmFsdWUpO3ZhciBzPW48MCx1PW4+PWktMSxjPXI8MCxsPXI+PWEtMSxoPXN8fHV8fGN8fGwsZj17fSxkPXt9O3N8fGw/ZC50b3A9MDooZi50b3A9ZVsocisxKSppK25dLGQudG9wPXNuKGYudG9wLG8pKSx1fHxsP2QudG9wUmlnaHQ9MDooZi50b3BSaWdodD1lWyhyKzEpKmkrbisxXSxkLnRvcFJpZ2h0PXNuKGYudG9wUmlnaHQsbykpLHV8fGM/ZC5yaWdodD0wOihmLnJpZ2h0PWVbcippK24rMV0sZC5yaWdodD1zbihmLnJpZ2h0LG8pKSxzfHxjP2QuY3VycmVudD0wOihmLmN1cnJlbnQ9ZVtyKmkrbl0sZC5jdXJyZW50PXNuKGYuY3VycmVudCxvKSk7dmFyIHY9ZC50b3AscD1kLnRvcFJpZ2h0LGc9ZC5yaWdodCx5PWQuY3VycmVudCxtPS0xO051bWJlci5pc0Zpbml0ZShvKSYmKG09djw8M3xwPDwyfGc8PDF8eSksQXJyYXkuaXNBcnJheShvKSYmKG09djw8NnxwPDw0fGc8PDJ8eSk7dmFyIF89MDtyZXR1cm4gaHx8KF89c24oKGYudG9wK2YudG9wUmlnaHQrZi5yaWdodCtmLmN1cnJlbnQpLzQsbykpLHtjb2RlOm0sbWVhbkNvZGU6X319ZnVuY3Rpb24gY24odCl7dmFyIGU9dC5ncmlkT3JpZ2luLG49dC5jZWxsU2l6ZSxyPXQueCxpPXQueSxhPXQuY29kZSxvPXQubWVhbkNvZGUscz10LnR5cGUsdT12b2lkIDA9PT1zP3JuOnMsYz1PYmplY3QuYXNzaWduKHt9LG9uLHQudGhyZXNob2xkRGF0YSksbD11PT09YW4/bm5bYV06dG5bYV07QXJyYXkuaXNBcnJheShsKXx8KGw9bFtvXSk7dmFyIGg9Yy56SW5kZXgqYy56T2Zmc2V0LGY9KHIrMSkqblswXSxkPShpKzEpKm5bMV0sdj1lWzBdK2YscD1lWzFdK2Q7aWYodT09PWFuKXt2YXIgZz1bXTtyZXR1cm4gbC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXYrdFswXSpuWzBdLGk9cCt0WzFdKm5bMV07ZS5wdXNoKFtyLGksaF0pfSkpLGcucHVzaChlKX0pKSxnfXZhciB5PVtdO3JldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dit0WzBdKm5bMF0scj1wK3RbMV0qblsxXTt5LnB1c2goW2UscixoXSl9KSl9KSkseX12YXIgbG49WzI1NSwyNTUsMjU1LDI1NV0saG49e2NlbGxTaXplOnt0eXBlOiJudW1iZXIiLG1pbjoxLG1heDoxZTMsdmFsdWU6MWUzfSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0V2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDF9fSxncHVBZ2dyZWdhdGlvbjohMCxhZ2dyZWdhdGlvbjoiU1VNIixjb250b3Vyczpbe3RocmVzaG9sZDoxfV0sek9mZnNldDouMDA1fSxmbj17ZGF0YTp7cHJvcHM6WyJjZWxsU2l6ZSJdfSx3ZWlnaHRzOntwcm9wczpbImFnZ3JlZ2F0aW9uIl0sYWNjZXNzb3JzOlsiZ2V0V2VpZ2h0Il19fSxkbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2coKSh2KCkoZS5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7ZGltZW5zaW9uczpmbn0pLHRoaXMuc2V0U3RhdGUoe2NvbnRvdXJEYXRhOnt9LHByb2plY3RQb2ludHM6ITEsd2VpZ2h0czp7Y291bnQ6e3NpemU6MSxvcGVyYXRpb246RS5TVU19fX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCgodD17fSxvKCkodCwicG9zaXRpb25zIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiIsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSksbygpKHQsImNvdW50Iix7c2l6ZTozLGFjY2Vzc29yOiJnZXRXZWlnaHQifSksdCkpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBuPSExLHI9dC5vbGRQcm9wcyxpPXQucHJvcHMsYT10aGlzLnN0YXRlLmFnZ3JlZ2F0aW9uRGlydHk7ci5jb250b3Vycz09PWkuY29udG91cnMmJnIuek9mZnNldD09PWkuek9mZnNldHx8KG49ITAsdGhpcy5fdXBkYXRlVGhyZXNob2xkRGF0YSh0LnByb3BzKSksdGhpcy5nZXROdW1JbnN0YW5jZXMoKT4wJiYoYXx8bikmJnRoaXMuX2dlbmVyYXRlQ29udG91cnMoKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLmNvbnRvdXJEYXRhLGU9dC5jb250b3VyU2VnbWVudHMsbj10LmNvbnRvdXJQb2x5Z29ucyxyPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygibGluZXMiLGRlLmEpLGk9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJiYW5kcyIsdmUuYSk7cmV0dXJuW2UmJmUubGVuZ3RoPjAmJm5ldyByKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImxpbmVzIn0pLHtkYXRhOnRoaXMuc3RhdGUuY29udG91ckRhdGEuY29udG91clNlZ21lbnRzLGdldFNvdXJjZVBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0fSxnZXRUYXJnZXRQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lbmR9LGdldENvbG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRvdXIuY29sb3J8fGxufSxnZXRXaWR0aDpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb250b3VyLnN0cm9rZVdpZHRofHwxfX0pLG4mJm4ubGVuZ3RoPjAmJm5ldyBpKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImJhbmRzIn0pLHtkYXRhOnRoaXMuc3RhdGUuY29udG91ckRhdGEuY29udG91clBvbHlnb25zLGdldFBvbHlnb246ZnVuY3Rpb24odCl7cmV0dXJuIHQudmVydGljZXN9LGdldEZpbGxDb2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb250b3VyLmNvbG9yfHxsbn19KV19fSx7a2V5OiJ1cGRhdGVBZ2dyZWdhdGlvblN0YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLG49dC5vbGRQcm9wcyxyPWUuY2VsbFNpemUsaT1lLmNvb3JkaW5hdGVTeXN0ZW0sYT10aGlzLmNvbnRleHQudmlld3BvcnQsbz1uLmNlbGxTaXplIT09cixzPWUuZ3B1QWdncmVnYXRpb247dGhpcy5zdGF0ZS5ncHVBZ2dyZWdhdGlvbiE9PWUuZ3B1QWdncmVnYXRpb24mJnMmJiFLLmlzU3VwcG9ydGVkKHRoaXMuY29udGV4dC5nbCkmJihiLmEud2FybigiR1BVIEdyaWQgQWdncmVnYXRpb24gbm90IHN1cHBvcnRlZCwgZmFsbGluZyBiYWNrIHRvIENQVSIpKCkscz0hMSk7dmFyIHU9cyE9PXRoaXMuc3RhdGUuZ3B1QWdncmVnYXRpb247dGhpcy5zZXRTdGF0ZSh7Z3B1QWdncmVnYXRpb246c30pO3ZhciBjPXRoaXMuc3RhdGUuZGltZW5zaW9ucyxsPXRoaXMuaXNBdHRyaWJ1dGVDaGFuZ2VkKCJwb3NpdGlvbnMiKSxoPWMuZGF0YSxmPWMud2VpZ2h0cyxkPXRoaXMuc3RhdGUuYm91bmRpbmdCb3g7aWYobCYmKGQ9TnQodGhpcy5nZXRBdHRyaWJ1dGVzKCksdGhpcy5nZXROdW1JbnN0YW5jZXMoKSksdGhpcy5zZXRTdGF0ZSh7Ym91bmRpbmdCb3g6ZH0pKSxsfHxvKXt2YXIgdj16dChkLHIsYSxpKSxwPXYuZ3JpZE9mZnNldCxnPXYudHJhbnNsYXRpb24seT12LndpZHRoLG09di5oZWlnaHQsXz12Lm51bUNvbCxPPXYubnVtUm93O3RoaXMuYWxsb2NhdGVSZXNvdXJjZXMoTyxfKSx0aGlzLnNldFN0YXRlKHtncmlkT2Zmc2V0OnAsYm91bmRpbmdCb3g6ZCx0cmFuc2xhdGlvbjpnLHBvc09mZnNldDpnLnNsaWNlKCksZ3JpZE9yaWdpbjpbLTEqZ1swXSwtMSpnWzFdXSx3aWR0aDp5LGhlaWdodDptLG51bUNvbDpfLG51bVJvdzpPfSl9dmFyIHg9bHx8dXx8dGhpcy5pc0FnZ3JlZ2F0aW9uRGlydHkodCx7ZGltZW5zaW9uOmgsY29tcGFyZUFsbDpzfSksdz10aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtkaW1lbnNpb246Zn0pO3cmJnRoaXMuX3VwZGF0ZUFjY2Vzc29ycyh0KSwoeHx8dykmJnRoaXMuX3Jlc2V0UmVzdWx0cygpLHRoaXMuc2V0U3RhdGUoe2FnZ3JlZ2F0aW9uRGF0YURpcnR5OngsYWdncmVnYXRpb25XZWlnaHRzRGlydHk6d30pfX0se2tleToiX3VwZGF0ZUFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPWUuZ2V0V2VpZ2h0LHI9ZS5hZ2dyZWdhdGlvbixpPXRoaXMuc3RhdGUud2VpZ2h0cy5jb3VudDtpJiYoaS5nZXRXZWlnaHQ9bixpLm9wZXJhdGlvbj1FW3JdKSx0aGlzLnNldFN0YXRlKHtnZXRWYWx1ZTpMKHIsbil9KX19LHtrZXk6Il9yZXNldFJlc3VsdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50O3QmJih0LmFnZ3JlZ2F0aW9uRGF0YT1udWxsKX19LHtrZXk6Il9nZW5lcmF0ZUNvbnRvdXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUsZT10Lm51bUNvbCxuPXQubnVtUm93LHI9dC5ncmlkT3JpZ2luLGk9dC5ncmlkT2Zmc2V0LGE9dC50aHJlc2hvbGREYXRhLG89dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50LHM9by5hZ2dyZWdhdGlvbkRhdGE7c3x8KHM9by5hZ2dyZWdhdGlvbkJ1ZmZlci5nZXREYXRhKCksby5hZ2dyZWdhdGlvbkRhdGE9cyk7dmFyIHU9ZnVuY3Rpb24odCl7dmFyIGU9dC50aHJlc2hvbGREYXRhLG49KHQuY29sb3JzLHQuY2VsbFdlaWdodHMpLHI9dC5ncmlkU2l6ZSxpPXQuZ3JpZE9yaWdpbixhPXQuY2VsbFNpemUsbz1bXSxzPVtdLHU9clswXSxjPXJbMV0sbD0wLGg9MCxmPSEwLGQ9ITEsdj12b2lkIDA7dHJ5e2Zvcih2YXIgcCxnPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZj0ocD1nLm5leHQoKSkuZG9uZSk7Zj0hMClmb3IodmFyIHk9cC52YWx1ZSxtPXkuY29udG91cixiPW0udGhyZXNob2xkLF89LTE7Xzx1O18rKylmb3IodmFyIE89LTE7TzxjO08rKyl7dmFyIHg9dW4oe2NlbGxXZWlnaHRzOm4sdGhyZXNob2xkOmIseDpfLHk6Tyx3aWR0aDp1LGhlaWdodDpjfSksdz17Z3JpZE9yaWdpbjppLGNlbGxTaXplOmEseDpfLHk6Tyx3aWR0aDp1LGhlaWdodDpjLGNvZGU6eC5jb2RlLG1lYW5Db2RlOngubWVhbkNvZGUsdGhyZXNob2xkRGF0YTp5fTtpZihBcnJheS5pc0FycmF5KGIpKXt3LnR5cGU9YW47dmFyIGs9Y24odyksUz0hMCxQPSExLGo9dm9pZCAwO3RyeXtmb3IodmFyIFQsRT1rW1N5bWJvbC5pdGVyYXRvcl0oKTshKFM9KFQ9RS5uZXh0KCkpLmRvbmUpO1M9ITApe3ZhciBBPVQudmFsdWU7c1toKytdPXt2ZXJ0aWNlczpBLGNvbnRvdXI6bX19fWNhdGNoKHQpe1A9ITAsaj10fWZpbmFsbHl7dHJ5e1N8fG51bGw9PUUucmV0dXJufHxFLnJldHVybigpfWZpbmFsbHl7aWYoUCl0aHJvdyBqfX19ZWxzZXt3LnR5cGU9cm47Zm9yKHZhciBNPWNuKHcpLEM9MDtDPE0ubGVuZ3RoO0MrPTIpb1tsKytdPXtzdGFydDpNW0NdLGVuZDpNW0MrMV0sY29udG91cjptfX19fWNhdGNoKHQpe2Q9ITAsdj10fWZpbmFsbHl7dHJ5e2Z8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyB2fX1yZXR1cm57Y29udG91clNlZ21lbnRzOm8sY29udG91clBvbHlnb25zOnN9fSh7dGhyZXNob2xkRGF0YTphLGNlbGxXZWlnaHRzOksuZ2V0Q2VsbERhdGEoe2NvdW50c0RhdGE6c30pLmNlbGxXZWlnaHRzLGdyaWRTaXplOltlLG5dLGdyaWRPcmlnaW46cixjZWxsU2l6ZTpbaS54T2Zmc2V0LGkueU9mZnNldF19KTt0aGlzLnNldFN0YXRlKHtjb250b3VyRGF0YTp1fSl9fSx7a2V5OiJfdXBkYXRlVGhyZXNob2xkRGF0YSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuY29udG91cnMsbj10LnpPZmZzZXQscj1lLmxlbmd0aCxpPW5ldyBBcnJheShyKSxhPTA7YTxyO2ErKyl7dmFyIG89ZVthXTtpW2FdPXtjb250b3VyOm8sekluZGV4Om8uekluZGV4fHxhLHpPZmZzZXQ6bn19dGhpcy5zZXRTdGF0ZSh7dGhyZXNob2xkRGF0YTppfSl9fV0pLGV9KFZ0KTtkbi5sYXllck5hbWU9IkNvbnRvdXJMYXllciIsZG4uZGVmYXVsdFByb3BzPWhuO3ZhciB2bj1uKDI5MykscG49big1MCksZ249bigyNzcpLHluPXtjb2xvckRvbWFpbjpudWxsLGNvbG9yUmFuZ2U6bnQsZWxldmF0aW9uRG9tYWluOm51bGwsZWxldmF0aW9uUmFuZ2U6WzAsMWUzXSxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxncmlkU2l6ZTp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfSxncmlkT3JpZ2luOnt0eXBlOiJhcnJheSIsbWluOjAsdmFsdWU6WzAsMF19LGdyaWRPZmZzZXQ6e3R5cGU6ImFycmF5IixtaW46MCx2YWx1ZTpbMCwwXX0sY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjFlMyx2YWx1ZToxZTN9LG9mZnNldDp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxleHRydWRlZDohMCxtYXRlcmlhbDohMH0sbW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB1KCkodGhpcyxlKSxmKCkodGhpcyx2KCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKGUsdCksbCgpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSh2KCkoZS5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWdyaWQtY2VsbC1sYXllci12ZXJ0ZXgtc2hhZGVyXG4jZGVmaW5lIFJBTkdFX0NPVU5UIDZcblxuaW4gdmVjMyBwb3NpdGlvbnM7XG5pbiB2ZWMzIG5vcm1hbHM7XG5cbmluIHZlYzQgY29sb3JzO1xuaW4gdmVjNCBlbGV2YXRpb25zO1xuaW4gdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG51bmlmb3JtIHZlYzIgb2Zmc2V0O1xudW5pZm9ybSBib29sIGV4dHJ1ZGVkO1xudW5pZm9ybSBmbG9hdCBjZWxsU2l6ZTtcbnVuaWZvcm0gZmxvYXQgY292ZXJhZ2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IGVsZXZhdGlvblNjYWxlO1xuXG51bmlmb3JtIGl2ZWMyIGdyaWRTaXplO1xudW5pZm9ybSB2ZWMyIGdyaWRPcmlnaW47XG51bmlmb3JtIHZlYzIgZ3JpZE9yaWdpbkxvdztcbnVuaWZvcm0gdmVjMiBncmlkT2Zmc2V0O1xudW5pZm9ybSB2ZWMyIGdyaWRPZmZzZXRMb3c7XG51bmlmb3JtIHZlYzQgY29sb3JSYW5nZVtSQU5HRV9DT1VOVF07XG51bmlmb3JtIHZlYzIgZWxldmF0aW9uUmFuZ2U7XG51bmlmb3JtIHZlYzIgY29sb3JEb21haW47XG51bmlmb3JtIGJvb2wgY29sb3JEb21haW5WYWxpZDtcbnVuaWZvcm0gdmVjMiBlbGV2YXRpb25Eb21haW47XG51bmlmb3JtIGJvb2wgZWxldmF0aW9uRG9tYWluVmFsaWQ7XG5cbmxheW91dChzdGQxNDApIHVuaWZvcm07XG51bmlmb3JtIENvbG9yRGF0YVxue1xuICB2ZWM0IG1heE1pbkNvdW50O1xufSBjb2xvckRhdGE7XG51bmlmb3JtIEVsZXZhdGlvbkRhdGFcbntcbiAgdmVjNCBtYXhNaW5Db3VudDtcbn0gZWxldmF0aW9uRGF0YTtcblxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDFcbm91dCB2ZWM0IHZDb2xvcjtcblxudmVjNCBxdWFudGl6ZVNjYWxlKHZlYzIgZG9tYWluLCB2ZWM0IHJhbmdlW1JBTkdFX0NPVU5UXSwgZmxvYXQgdmFsdWUpIHtcbiAgdmVjNCBvdXRDb2xvciA9IHZlYzQoMC4sIDAuLCAwLiwgMC4pO1xuICBpZiAodmFsdWUgPj0gKGRvbWFpbi54IC0gRVBTSUxPTikgJiYgdmFsdWUgPD0gKGRvbWFpbi55ICsgRVBTSUxPTikpIHtcbiAgICBmbG9hdCBkb21haW5SYW5nZSA9IGRvbWFpbi55IC0gZG9tYWluLng7XG4gICAgaWYgKGRvbWFpblJhbmdlIDw9IDAuKSB7XG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0IHJhbmdlQ291bnQgPSBmbG9hdChSQU5HRV9DT1VOVCk7XG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XG4gICAgICBmbG9hdCBpZHggPSBmbG9vcigodmFsdWUgLSBkb21haW4ueCkgLyByYW5nZVN0ZXApO1xuICAgICAgaWR4ID0gY2xhbXAoaWR4LCAwLiwgcmFuZ2VDb3VudCAtIDEuKTtcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcbiAgICAgIG91dENvbG9yID0gY29sb3JSYW5nZVtpbnRJZHhdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0Q29sb3I7XG59XG5cbmZsb2F0IGxpbmVhclNjYWxlKHZlYzIgZG9tYWluLCB2ZWMyIHJhbmdlLCBmbG9hdCB2YWx1ZSkge1xuICBpZiAodmFsdWUgPj0gKGRvbWFpbi54IC0gRVBTSUxPTikgJiYgdmFsdWUgPD0gKGRvbWFpbi55ICsgRVBTSUxPTikpIHtcbiAgICByZXR1cm4gKCh2YWx1ZSAtIGRvbWFpbi54KSAvIChkb21haW4ueSAtIGRvbWFpbi54KSkgKiAocmFuZ2UueSAtIHJhbmdlLngpICsgcmFuZ2UueDtcbiAgfVxuICByZXR1cm4gLTEuO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuXG4gIHZlYzIgY2xyRG9tYWluID0gY29sb3JEb21haW5WYWxpZCA/IGNvbG9yRG9tYWluIDogdmVjMihjb2xvckRhdGEubWF4TWluQ291bnQuYSwgY29sb3JEYXRhLm1heE1pbkNvdW50LnIpO1xuICB2ZWM0IGNvbG9yID0gcXVhbnRpemVTY2FsZShjbHJEb21haW4sIGNvbG9yUmFuZ2UsIGNvbG9ycy5yKTtcblxuICBmbG9hdCBlbGV2YXRpb24gPSAwLjA7XG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgdmVjMiBlbHZEb21haW4gPSBlbGV2YXRpb25Eb21haW5WYWxpZCA/IGVsZXZhdGlvbkRvbWFpbiA6IHZlYzIoZWxldmF0aW9uRGF0YS5tYXhNaW5Db3VudC5hLCBlbGV2YXRpb25EYXRhLm1heE1pbkNvdW50LnIpO1xuICAgIGVsZXZhdGlvbiA9IGxpbmVhclNjYWxlKGVsdkRvbWFpbiwgZWxldmF0aW9uUmFuZ2UsIGVsZXZhdGlvbnMucik7XG4gICAgZWxldmF0aW9uID0gZWxldmF0aW9uICAqIChwb3NpdGlvbnMueiArIDEuMCkgLyAyLjAgKiBlbGV2YXRpb25TY2FsZTtcbiAgfVxuICBmbG9hdCBzaG91bGRSZW5kZXIgPSBmbG9hdChjb2xvci5yID4gMC4wICYmIGVsZXZhdGlvbnMuciA+PSAwLjApO1xuICBmbG9hdCBkb3RSYWRpdXMgPSBjZWxsU2l6ZSAvIDIuICogY292ZXJhZ2UgKiBzaG91bGRSZW5kZXI7XG5cbiAgaW50IHlJbmRleCA9IChnbF9JbnN0YW5jZUlEIC8gZ3JpZFNpemVbMF0pO1xuICBpbnQgeEluZGV4ID0gZ2xfSW5zdGFuY2VJRCAtICh5SW5kZXggKiBncmlkU2l6ZVswXSk7XG5cbiAgdmVjMiBpbnN0YW5jZVBvc2l0aW9uWEZQNjQgPSBtdWxfZnA2NCh2ZWMyKGdyaWRPZmZzZXRbMF0sIGdyaWRPZmZzZXRMb3dbMF0pLCB2ZWMyKGZsb2F0KHhJbmRleCksIDAuKSk7XG4gIGluc3RhbmNlUG9zaXRpb25YRlA2NCA9IHN1bV9mcDY0KGluc3RhbmNlUG9zaXRpb25YRlA2NCwgdmVjMihncmlkT3JpZ2luWzBdLCBncmlkT3JpZ2luTG93WzBdKSk7XG4gIHZlYzIgaW5zdGFuY2VQb3NpdGlvbllGUDY0ID0gbXVsX2ZwNjQodmVjMihncmlkT2Zmc2V0WzFdLCBncmlkT2Zmc2V0TG93WzFdKSwgdmVjMihmbG9hdCh5SW5kZXgpLCAwLikpO1xuICBpbnN0YW5jZVBvc2l0aW9uWUZQNjQgPSBzdW1fZnA2NChpbnN0YW5jZVBvc2l0aW9uWUZQNjQsIHZlYzIoZ3JpZE9yaWdpblsxXSwgZ3JpZE9yaWdpbkxvd1sxXSkpO1xuXG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbiA9IHZlYzMoaW5zdGFuY2VQb3NpdGlvblhGUDY0WzBdLCBpbnN0YW5jZVBvc2l0aW9uWUZQNjRbMF0sIGVsZXZhdGlvbik7XG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbjY0TG93ID0gdmVjMyhpbnN0YW5jZVBvc2l0aW9uWEZQNjRbMV0sIGluc3RhbmNlUG9zaXRpb25ZRlA2NFsxXSwgMC4wKTtcbiAgdmVjMyBwb3MgPSB2ZWMzKHByb2plY3Rfc2l6ZShwb3NpdGlvbnMueHkgKyBvZmZzZXQpICogZG90UmFkaXVzLCAwLik7XG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XG5cbiAgdmVjNCBwb3NpdGlvbl9jb21tb25zcGFjZTtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjZW50cm9pZFBvc2l0aW9uLCBjZW50cm9pZFBvc2l0aW9uNjRMb3csIHBvcywgcG9zaXRpb25fY29tbW9uc3BhY2UpO1xuXG4gIHZlYzMgbm9ybWFsc19jb21tb25zcGFjZSA9IHByb2plY3Rfbm9ybWFsKG5vcm1hbHMpO1xuXG4gICBpZiAoZXh0cnVkZWQpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiwgbm9ybWFsc19jb21tb25zcGFjZSk7XG4gICAgdkNvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvci5hICogb3BhY2l0eSkgLyAyNTUuO1xuICB9IGVsc2Uge1xuICAgIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSkgLyAyNTUuO1xuICB9XG59XG4iLGZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWdyaWQtY2VsbC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG5pbiB2ZWM0IHZDb2xvcjtcblxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBmcmFnQ29sb3IgPSB2Q29sb3I7XG4gIGZyYWdDb2xvciA9IHBpY2tpbmdfZmlsdGVyQ29sb3IoZnJhZ0NvbG9yKTtcbn1cbiIsbW9kdWxlczpbVC5hLHZuLmEsdHQuYSxQLmJdfSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7Y29sb3JzOntzaXplOjQsbm9BbGxvYzohMH0sZWxldmF0aW9uczp7c2l6ZTo0LG5vQWxsb2M6ITB9fSk7dmFyIGU9dGhpcy5fZ2V0TW9kZWwodCk7dGhpcy5fc2V0dXBVbmlmb3JtQnVmZmVyKGUpLHRoaXMuc2V0U3RhdGUoe21vZGVsOmV9KX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBrLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBnbi5hLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLmNlbGxTaXplLGk9bi5vZmZzZXQsYT1uLmV4dHJ1ZGVkLG89bi5lbGV2YXRpb25TY2FsZSxzPW4uY292ZXJhZ2UsdT1uLmdyaWRTaXplLGM9bi5ncmlkT3JpZ2luLGw9bi5ncmlkT2Zmc2V0LGg9bi5lbGV2YXRpb25SYW5nZSxmPW4uY29sb3JNYXhNaW5CdWZmZXIsZD1uLmVsZXZhdGlvbk1heE1pbkJ1ZmZlcix2PVtPYmplY3QocG4uYykoY1swXSksT2JqZWN0KHBuLmMpKGNbMV0pXSxwPVtPYmplY3QocG4uYykobFswXSksT2JqZWN0KHBuLmMpKGxbMV0pXSxnPXRoaXMuZ2V0RG9tYWluVW5pZm9ybXMoKSx5PXJ0KHRoaXMucHJvcHMuY29sb3JSYW5nZSk7dGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcnMoZixkKSx0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sZSxnLHtjZWxsU2l6ZTpyLG9mZnNldDppLGV4dHJ1ZGVkOmEsZWxldmF0aW9uU2NhbGU6byxjb3ZlcmFnZTpzLGdyaWRTaXplOnUsZ3JpZE9yaWdpbjpjLGdyaWRPcmlnaW5Mb3c6dixncmlkT2Zmc2V0OmwsZ3JpZE9mZnNldExvdzpwLGNvbG9yUmFuZ2U6eSxlbGV2YXRpb25SYW5nZTpofSkpLmRyYXcoKSx0aGlzLnVuYmluZFVuaWZvcm1CdWZmZXJzKGYsZCl9fSx7a2V5OiJiaW5kVW5pZm9ybUJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MH0pLGUuYmluZCh7dGFyZ2V0OjM1MzQ1LGluZGV4OjF9KX19LHtrZXk6InVuYmluZFVuaWZvcm1CdWZmZXJzIix2YWx1ZTpmdW5jdGlvbih0LGUpe3QudW5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MH0pLGUudW5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MX0pfX0se2tleToiZ2V0RG9tYWluVW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuY29sb3JEb21haW4sbj10LmVsZXZhdGlvbkRvbWFpbixyPXt9O3JldHVybiBudWxsIT09ZT8oci5jb2xvckRvbWFpblZhbGlkPSEwLHIuY29sb3JEb21haW49ZSk6ci5jb2xvckRvbWFpblZhbGlkPSExLG51bGwhPT1uPyhyLmVsZXZhdGlvbkRvbWFpblZhbGlkPSEwLHIuZWxldmF0aW9uRG9tYWluPW4pOnIuZWxldmF0aW9uRG9tYWluVmFsaWQ9ITEscn19LHtrZXk6Il9zZXR1cFVuaWZvcm1CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbCxuPXQucHJvZ3JhbS5oYW5kbGUscj1lLmdldFVuaWZvcm1CbG9ja0luZGV4KG4sIkNvbG9yRGF0YSIpLGk9ZS5nZXRVbmlmb3JtQmxvY2tJbmRleChuLCJFbGV2YXRpb25EYXRhIik7ZS51bmlmb3JtQmxvY2tCaW5kaW5nKG4sciwwKSxlLnVuaWZvcm1CbG9ja0JpbmRpbmcobixpLDEpfX1dKSxlfShldC5hKTttbi5sYXllck5hbWU9IkdQVUdyaWRDZWxsTGF5ZXIiLG1uLmRlZmF1bHRQcm9wcz15bjt2YXIgYm49e2NvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpudCxnZXRDb2xvcldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sY29sb3JBZ2dyZWdhdGlvbjoiU1VNIixlbGV2YXRpb25Eb21haW46bnVsbCxlbGV2YXRpb25SYW5nZTpbMCwxZTNdLGdldEVsZXZhdGlvbldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAxfX0sZWxldmF0aW9uQWdncmVnYXRpb246IlNVTSIsZWxldmF0aW9uU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjEsbWF4OjFlMyx2YWx1ZToxZTN9LGNvdmVyYWdlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zaXRpb259fSxleHRydWRlZDohMSxtYXRlcmlhbDohMH0sX249e2RhdGE6e3Byb3BzOlsiY2VsbFNpemUiLCJjb2xvckFnZ3JlZ2F0aW9uIiwiZWxldmF0aW9uQWdncmVnYXRpb24iXX19LE9uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLmNvbnRleHQuZ2wscj1LLmlzU3VwcG9ydGVkKG4pO3J8fGIuYS5lcnJvcigiR1BVR3JpZExheWVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLCB1c2UgR3JpZExheWVyIGluc3RlYWQiKSgpLGcoKSh2KCkoZS5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7ZGltZW5zaW9uczpfbn0pLHRoaXMuc2V0U3RhdGUoe2dwdUFnZ3JlZ2F0aW9uOiEwLHByb2plY3RQb2ludHM6ITEsaXNTdXBwb3J0ZWQ6cix3ZWlnaHRzOntjb2xvcjp7bmVlZE1pbjohMCxuZWVkTWF4OiEwLGNvbWJpbmVNYXhNaW46ITAsbWF4TWluQnVmZmVyOm5ldyB2dC5hKG4se2J5dGVMZW5ndGg6MTYsYWNjZXNzb3I6e3NpemU6NCx0eXBlOjUxMjYsZGl2aXNvcjoxfX0pfSxlbGV2YXRpb246e25lZWRNaW46ITAsbmVlZE1heDohMCxjb21iaW5lTWF4TWluOiEwLG1heE1pbkJ1ZmZlcjpuZXcgdnQuYShuLHtieXRlTGVuZ3RoOjE2LGFjY2Vzc29yOntzaXplOjQsdHlwZTo1MTI2LGRpdmlzb3I6MX19KX19LHBvc2l0aW9uQXR0cmlidXRlTmFtZToicG9zaXRpb25zIn0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCgodD17fSxvKCkodCwicG9zaXRpb25zIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiIsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSksbygpKHQsImNvbG9yIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRDb2xvcldlaWdodCJ9KSxvKCkodCwiZWxldmF0aW9uIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRFbGV2YXRpb25XZWlnaHQifSksdCkpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpeyExIT09dGhpcy5zdGF0ZS5pc1N1cHBvcnRlZCYmKGcoKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuc3RhdGUuYWdncmVnYXRpb25EaXJ0eSYmdGhpcy5zZXRTdGF0ZSh7Z3JpZEhhc2g6bnVsbH0pKX19LHtrZXk6ImdldEhhc2hLZXlGb3JJbmRleCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZSxuPWUubnVtUm93LHI9ZS5udW1Db2wsaT1lLmJvdW5kaW5nQm94LGE9ZS5ncmlkT2Zmc2V0LG89W3Isbl0scz1baS54TWluLGkueU1pbl0sdT1bYS54T2Zmc2V0LGEueU9mZnNldF0sYz1NYXRoLmZsb29yKHQvb1swXSksbD10LWMqb1swXSxoPU1hdGguZmxvb3IoKGMqdVsxXStzWzFdKzkwK3VbMV0vMikvdVsxXSksZj1NYXRoLmZsb29yKChsKnVbMF0rc1swXSsxODArdVswXS8yKS91WzBdKTtyZXR1cm4iIi5jb25jYXQoaCwiLSIpLmNvbmNhdChmKX19LHtrZXk6ImdldFBvc2l0aW9uRm9ySW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUsbj1lLm51bVJvdyxyPWUubnVtQ29sLGk9ZS5ib3VuZGluZ0JveCxhPWUuZ3JpZE9mZnNldCxvPVtyLG5dLHM9W2kueE1pbixpLnlNaW5dLHU9W2EueE9mZnNldCxhLnlPZmZzZXRdLGM9TWF0aC5mbG9vcih0L29bMF0pO3JldHVyblsodC1jKm9bMF0pKnVbMF0rc1swXSxjKnVbMV0rc1sxXV19fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmZvLG49dC5tb2RlLHI9ZS5pbmRleCxpPW51bGw7aWYocj49MCl7dmFyIGE9dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvcixvPXRoaXMuZ2V0UG9zaXRpb25Gb3JJbmRleChyKSxzPUsuZ2V0QWdncmVnYXRpb25EYXRhKE9iamVjdC5hc3NpZ24oe3BpeGVsSW5kZXg6cn0sYS5nZXREYXRhKCJjb2xvciIpKSksdT1LLmdldEFnZ3JlZ2F0aW9uRGF0YShPYmplY3QuYXNzaWduKHtwaXhlbEluZGV4OnJ9LGEuZ2V0RGF0YSgiZWxldmF0aW9uIikpKTtpZihpPXtjb2xvclZhbHVlOnMuY2VsbFdlaWdodCxlbGV2YXRpb25WYWx1ZTp1LmNlbGxXZWlnaHQsY291bnQ6cy5jZWxsQ291bnR8fHUuY2VsbENvdW50LHBvc2l0aW9uOm8sdG90YWxDb3VudDpzLnRvdGFsQ291bnR8fHUudG90YWxDb3VudH0sImhvdmVyIiE9PW4pe3ZhciBjPXRoaXMucHJvcHMsbD10aGlzLnN0YXRlLmdyaWRIYXNoO2lmKCFsKXt2YXIgaD10aGlzLnN0YXRlLGY9aC5ncmlkT2Zmc2V0LGQ9aC50cmFuc2xhdGlvbix2PWguYm91bmRpbmdCb3gscD10aGlzLmNvbnRleHQudmlld3BvcnQ7bD1VdChjLHtncmlkT2Zmc2V0OmYsYXR0cmlidXRlczp0aGlzLmdldEF0dHJpYnV0ZXMoKSx2aWV3cG9ydDpwLHRyYW5zbGF0aW9uOmQsYm91bmRpbmdCb3g6dn0pLmdyaWRIYXNoLHRoaXMuc2V0U3RhdGUoe2dyaWRIYXNoOmx9KX12YXIgZz1sW3RoaXMuZ2V0SGFzaEtleUZvckluZGV4KHIpXTtPYmplY3QuYXNzaWduKGksZyl9fXJldHVybiBPYmplY3QuYXNzaWduKGUse3BpY2tlZDpCb29sZWFuKGkpLG9iamVjdDppfSl9fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RhdGUuaXNTdXBwb3J0ZWQpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuZWxldmF0aW9uU2NhbGUsbj10LmV4dHJ1ZGVkLHI9dC5jZWxsU2l6ZSxpPXQuY292ZXJhZ2UsYT10Lm1hdGVyaWFsLG89dC5lbGV2YXRpb25SYW5nZSxzPXQuY29sb3JEb21haW4sdT10LmVsZXZhdGlvbkRvbWFpbixjPXRoaXMuc3RhdGUsbD1jLndlaWdodHMsaD1jLm51bVJvdyxmPWMubnVtQ29sLGQ9Yy5ncmlkT3JpZ2luLHY9Yy5ncmlkT2Zmc2V0LHA9bC5jb2xvcixnPWwuZWxldmF0aW9uLHk9cnQodGhpcy5wcm9wcy5jb2xvclJhbmdlKTtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiZ3B1LWdyaWQtY2VsbCIsbW4pKSh7Z3JpZFNpemU6W2YsaF0sZ3JpZE9yaWdpbjpkLGdyaWRPZmZzZXQ6W3YueE9mZnNldCx2LnlPZmZzZXRdLGNvbG9yUmFuZ2U6eSxlbGV2YXRpb25SYW5nZTpvLGNvbG9yRG9tYWluOnMsZWxldmF0aW9uRG9tYWluOnUsY2VsbFNpemU6cixjb3ZlcmFnZTppLG1hdGVyaWFsOmEsZWxldmF0aW9uU2NhbGU6ZSxleHRydWRlZDpufSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJncHUtZ3JpZC1jZWxsIn0pLHtkYXRhOnthdHRyaWJ1dGVzOntjb2xvcnM6cC5hZ2dyZWdhdGlvbkJ1ZmZlcixlbGV2YXRpb25zOmcuYWdncmVnYXRpb25CdWZmZXJ9fSxjb2xvck1heE1pbkJ1ZmZlcjpwLm1heE1pbkJ1ZmZlcixlbGV2YXRpb25NYXhNaW5CdWZmZXI6Zy5tYXhNaW5CdWZmZXIsbnVtSW5zdGFuY2VzOmYqaH0pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLndlaWdodHM7W3QuY29sb3IsdC5lbGV2YXRpb25dLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYWdncmVnYXRpb25CdWZmZXI7dC5tYXhNaW5CdWZmZXIuZGVsZXRlKCksZSYmZS5kZWxldGUoKX0pKSxnKCkodigpKGUucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6InVwZGF0ZUFnZ3JlZ2F0aW9uU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcHMsbj10Lm9sZFByb3BzLHI9ZS5jZWxsU2l6ZSxpPWUuY29vcmRpbmF0ZVN5c3RlbSxhPXRoaXMuY29udGV4dC52aWV3cG9ydCxvPW4uY2VsbFNpemUhPT1yLHM9dGhpcy5zdGF0ZS5kaW1lbnNpb25zLHU9dGhpcy5pc0F0dHJpYnV0ZUNoYW5nZWQoInBvc2l0aW9ucyIpLGM9dXx8dGhpcy5pc0F0dHJpYnV0ZUNoYW5nZWQoKSxsPXRoaXMuc3RhdGUuYm91bmRpbmdCb3g7aWYodSYmKGw9TnQodGhpcy5nZXRBdHRyaWJ1dGVzKCksdGhpcy5nZXROdW1JbnN0YW5jZXMoKSksdGhpcy5zZXRTdGF0ZSh7Ym91bmRpbmdCb3g6bH0pKSx1fHxvKXt2YXIgaD16dChsLHIsYSxpKSxmPWguZ3JpZE9mZnNldCxkPWgudHJhbnNsYXRpb24sdj1oLndpZHRoLHA9aC5oZWlnaHQsZz1oLm51bUNvbCx5PWgubnVtUm93O3RoaXMuYWxsb2NhdGVSZXNvdXJjZXMoeSxnKSx0aGlzLnNldFN0YXRlKHtncmlkT2Zmc2V0OmYsdHJhbnNsYXRpb246ZCxncmlkT3JpZ2luOlstMSpkWzBdLC0xKmRbMV1dLHdpZHRoOnYsaGVpZ2h0OnAsbnVtQ29sOmcsbnVtUm93Onl9KX12YXIgbT1jfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtkaW1lbnNpb246cy5kYXRhLGNvbXBhcmVBbGw6ITB9KTttJiZ0aGlzLl91cGRhdGVBY2Nlc3NvcnModCksdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EYXRhRGlydHk6bX0pfX0se2tleToiX3VwZGF0ZUFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wcyxuPWUuY29sb3JBZ2dyZWdhdGlvbixyPWUuZWxldmF0aW9uQWdncmVnYXRpb24saT10aGlzLnN0YXRlLndlaWdodHMsYT1pLmNvbG9yLG89aS5lbGV2YXRpb247YS5vcGVyYXRpb249RVtuXSxvLm9wZXJhdGlvbj1FW3JdfX1dKSxlfShWdCk7T24ubGF5ZXJOYW1lPSJHUFVHcmlkTGF5ZXIiLE9uLmRlZmF1bHRQcm9wcz1ibjt2YXIgeG49T2JqZWN0LmFzc2lnbih7fSxPbi5kZWZhdWx0UHJvcHMsbmUuZGVmYXVsdFByb3BzLHtncHVBZ2dyZWdhdGlvbjohMX0pLHduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17dXNlR1BVQWdncmVnYXRpb246ITB9fX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3Qub2xkUHJvcHM7dmFyIGU9dC5wcm9wcyxuPSh0LmNoYW5nZUZsYWdzLHt9KTtuLnVzZUdQVUFnZ3JlZ2F0aW9uPXRoaXMuY2FuVXNlR1BVQWdncmVnYXRpb24oZSksdGhpcy5zZXRTdGF0ZShuKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kYXRhLG49dC51cGRhdGVUcmlnZ2VycyxyPXRoaXMuc3RhdGUudXNlR1BVQWdncmVnYXRpb24/IkdQVSI6IkNQVSI7cmV0dXJuIG5ldyh0aGlzLnN0YXRlLnVzZUdQVUFnZ3JlZ2F0aW9uP3RoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiR1BVIixPbik6dGhpcy5nZXRTdWJMYXllckNsYXNzKCJDUFUiLG5lKSkodGhpcy5wcm9wcyx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOnIsdXBkYXRlVHJpZ2dlcnM6bn0pLHtkYXRhOmV9KX19LHtrZXk6ImNhblVzZUdQVUFnZ3JlZ2F0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdwdUFnZ3JlZ2F0aW9uLG49dC5sb3dlclBlcmNlbnRpbGUscj10LnVwcGVyUGVyY2VudGlsZSxpPXQuZ2V0Q29sb3JWYWx1ZSxhPXQuZ2V0RWxldmF0aW9uVmFsdWUsbz10LmNvbG9yU2NhbGVUeXBlO3JldHVybiEhZSYmKCEhSy5pc1N1cHBvcnRlZCh0aGlzLmNvbnRleHQuZ2wpJiYoMD09PW4mJjEwMD09PXImJihudWxsPT09aSYmbnVsbD09PWEmJigicXVhbnRpbGUiIT09byYmIm9yZGluYWwiIT09bykpKSl9fV0pLGV9KGh0LmEpO2Z1bmN0aW9uIGtuKHQpe3ZhciBlPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxuPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxyPU1hdGgubWluLmFwcGx5KG51bGwsZSksaT1NYXRoLm1heC5hcHBseShudWxsLGUpO3JldHVybltyLE1hdGgubWluLmFwcGx5KG51bGwsbiksaSxNYXRoLm1heC5hcHBseShudWxsLG4pXX1mdW5jdGlvbiBTbih0LGUpe3JldHVybiBlWzBdPj10WzBdJiZlWzJdPD10WzJdJiZlWzFdPj10WzFdJiZlWzNdPD10WzNdfXduLmxheWVyTmFtZT0iR3JpZExheWVyIix3bi5kZWZhdWx0UHJvcHM9eG47dmFyIFBuPW5ldyBGbG9hdDMyQXJyYXkoMTIpO2Z1bmN0aW9uIGpuKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyLG49MCxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMClmb3IodmFyIHU9by52YWx1ZSxjPTA7YzxlO2MrKylQbltuKytdPXVbY118fDB9Y2F0Y2godCl7aT0hMCxhPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBQbn1mdW5jdGlvbiBUbih0LGUsbil7dmFyIHI9Z3QoKSh0LDQpLGk9clswXSxhPXJbMV0sbz1yWzJdLHM9clszXSx1PW8taSxjPXMtYSxsPXUsaD1jO3UvYzxlL24/bD1lL24qYzpoPW4vZSp1LGw8ZSYmKGw9ZSxoPW4pO3ZhciBmPShvK2kpLzIsZD0ocythKS8yO3JldHVybltmLWwvMixkLWgvMixmK2wvMixkK2gvMl19ZnVuY3Rpb24gRW4odCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBBbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHUoKSh0aGlzLGUpLGYoKSh0aGlzLHYoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkoZSx0KSxsKCkoZSxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgaGVhdHAtbWFwLWxheWVyLXZlcnRleC1zaGFkZXJcblxudW5pZm9ybSBzYW1wbGVyMkQgbWF4VGV4dHVyZTtcbnVuaWZvcm0gZmxvYXQgaW50ZW5zaXR5O1xudW5pZm9ybSB2ZWMyIGNvbG9yRG9tYWluO1xudW5pZm9ybSBmbG9hdCB0aHJlc2hvbGQ7XG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkcztcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZHM7XG52YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHlNaW47XG52YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHlNYXg7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25zLCB2ZWMzKDAuMCksIHZlYzMoMC4wKSk7XG4gIHZUZXhDb29yZHMgPSB0ZXhDb29yZHM7XG4gIGZsb2F0IG1heFZhbHVlID0gdGV4dHVyZTJEKG1heFRleHR1cmUsIHZlYzIoMC41KSkucjtcbiAgZmxvYXQgbWluVmFsdWUgPSBtYXhWYWx1ZSAqIHRocmVzaG9sZDtcbiAgaWYgKGNvbG9yRG9tYWluWzFdID4gMC4pIHtcbiAgICBtYXhWYWx1ZSA9IGNvbG9yRG9tYWluWzFdO1xuICAgIG1pblZhbHVlID0gY29sb3JEb21haW5bMF07XG4gIH1cbiAgdkludGVuc2l0eU1heCA9IGludGVuc2l0eSAvIG1heFZhbHVlO1xuICB2SW50ZW5zaXR5TWluID0gaW50ZW5zaXR5IC8gbWluVmFsdWU7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHRyaWFuZ2xlLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG52YXJ5aW5nIHZlYzIgdlRleENvb3JkcztcbnVuaWZvcm0gc2FtcGxlcjJEIGNvbG9yVGV4dHVyZTtcblxudmFyeWluZyBmbG9hdCB2SW50ZW5zaXR5TWluO1xudmFyeWluZyBmbG9hdCB2SW50ZW5zaXR5TWF4O1xuXG52ZWM0IGdldExpbmVhckNvbG9yKGZsb2F0IHZhbHVlKSB7XG4gIGZsb2F0IGZhY3RvciA9IGNsYW1wKHZhbHVlICogdkludGVuc2l0eU1heCwgMC4sIDEuKTtcbiAgdmVjNCBjb2xvciA9IHRleHR1cmUyRChjb2xvclRleHR1cmUsIHZlYzIoZmFjdG9yLCAwLjUpKTtcbiAgY29sb3IuYSAqPSBtaW4odmFsdWUgKiB2SW50ZW5zaXR5TWluLCAxLjApO1xuICByZXR1cm4gY29sb3I7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGZsb2F0IHdlaWdodCA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmRzKS5yO1xuICBpZiAod2VpZ2h0IDw9IDAuKSB7XG4gICAgIGRpc2NhcmQ7XG4gIH1cblxuICB2ZWM0IGxpbmVhckNvbG9yID0gZ2V0TGluZWFyQ29sb3Iod2VpZ2h0KTtcbiAgbGluZWFyQ29sb3IuYSAqPSBvcGFjaXR5O1xuICBnbF9GcmFnQ29sb3IgPWxpbmVhckNvbG9yO1xufVxuIixtb2R1bGVzOltULmFdfX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKHtwb3NpdGlvbnM6e3NpemU6Myxub0FsbG9jOiEwfSx0ZXhDb29yZHM6e3NpemU6Mixub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHQpfSl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMudmVydGV4Q291bnQ7cmV0dXJuIG5ldyBrLmEodCxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyAkLmEoe2RyYXdNb2RlOjYsdmVydGV4Q291bnQ6ZX0pfSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC51bmlmb3JtcyxuPXRoaXMuc3RhdGUubW9kZWwscj10aGlzLnByb3BzLGk9ci50ZXh0dXJlLGE9ci5tYXhUZXh0dXJlLHM9ci5jb2xvclRleHR1cmUsdT1yLmludGVuc2l0eSxjPXIudGhyZXNob2xkLGw9ci5jb2xvckRvbWFpbjtuLnNldFVuaWZvcm1zKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP0VuKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bygpKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpFbihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sZSx7dGV4dHVyZTppLG1heFRleHR1cmU6YSxjb2xvclRleHR1cmU6cyxpbnRlbnNpdHk6dSx0aHJlc2hvbGQ6Yyxjb2xvckRvbWFpbjpsfSkpLmRyYXcoKX19XSksZX0oZXQuYSk7QW4ubGF5ZXJOYW1lPSJUcmlhbmdsZUxheWVyIixBbi5kZWZhdWx0UHJvcHM9e2NvdW50OjAsdGV4dHVyZTpudWxsfTt2YXIgTW4sQ249ImF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSBmbG9hdCB3ZWlnaHRzO1xudmFyeWluZyB2ZWM0IHdlaWdodHNUZXh0dXJlO1xudW5pZm9ybSBmbG9hdCByYWRpdXNQaXhlbHM7XG51bmlmb3JtIGZsb2F0IHRleHR1cmVXaWR0aDtcbnVuaWZvcm0gdmVjNCBjb21tb25Cb3VuZHM7XG51bmlmb3JtIGZsb2F0IHdlaWdodHNTY2FsZTtcbnZvaWQgbWFpbigpXG57XG4gIHdlaWdodHNUZXh0dXJlID0gdmVjNCh3ZWlnaHRzICogd2VpZ2h0c1NjYWxlLCAwLiwgMC4sIDEuKTtcblxuICBmbG9hdCByYWRpdXNUZXhlbHMgID0gcHJvamVjdF9waXhlbF9zaXplKHJhZGl1c1BpeGVscykgKiB0ZXh0dXJlV2lkdGggLyAoY29tbW9uQm91bmRzLnogLSBjb21tb25Cb3VuZHMueCk7XG4gIGdsX1BvaW50U2l6ZSA9IHJhZGl1c1RleGVscyAqIDIuO1xuXG4gIHZlYzMgY29tbW9uUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKHBvc2l0aW9ucyk7XG4gIGdsX1Bvc2l0aW9uLnh5ID0gKGNvbW1vblBvc2l0aW9uLnh5IC0gY29tbW9uQm91bmRzLnh5KSAvIChjb21tb25Cb3VuZHMuencgLSBjb21tb25Cb3VuZHMueHkpIDtcbiAgZ2xfUG9zaXRpb24ueHkgPSAoZ2xfUG9zaXRpb24ueHkgKiAyLikgLSAoMS4pO1xufVxuIixMbj0idmFyeWluZyB2ZWM0IHdlaWdodHNUZXh0dXJlO1xuZmxvYXQgZ2F1c3NpYW5LREUoZmxvYXQgdSl7XG4gIHJldHVybiBwb3coMi43MTgyOCwgLXUqdS8wLjA1NTU1KS8oMS43NzI0NTM4NSowLjE2NjY2Nik7XG59XG52b2lkIG1haW4oKVxue1xuICBmbG9hdCBkaXN0ID0gbGVuZ3RoKGdsX1BvaW50Q29vcmQgLSB2ZWMyKDAuNSwgMC41KSk7XG4gIGlmIChkaXN0ID4gMC41KSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuICBnbF9GcmFnQ29sb3IucmdiID0gd2VpZ2h0c1RleHR1cmUucmdiICogZ2F1c3NpYW5LREUoMi4gKiBkaXN0KTtcbiAgZ2xfRnJhZ0NvbG9yLmEgPSAxLjA7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iO2Z1bmN0aW9uIEluKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBSbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9JbihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe28oKSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6SW4oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9dmFyIE5uPXttaXBtYXBzOiExLHBhcmFtZXRlcnM6KE1uPXt9LG8oKShNbiwxMDI0MCw5NzI5KSxvKCkoTW4sMTAyNDEsOTcyOSksbygpKE1uLDEwMjQyLDMzMDcxKSxvKCkoTW4sMTAyNDMsMzMwNzEpLE1uKSxkYXRhRm9ybWF0OjY0MDh9LERuPVswLDBdLEZuPXtnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9ufX0sZ2V0V2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0saW50ZW5zaXR5Ont0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LHJhZGl1c1BpeGVsczp7dHlwZToibnVtYmVyIixtaW46MSxtYXg6MTAwLHZhbHVlOjUwfSxjb2xvclJhbmdlOm50LHRocmVzaG9sZDp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZTouMDV9LGNvbG9yRG9tYWluOnt0eXBlOiJhcnJheSIsdmFsdWU6bnVsbCxvcHRpb25hbDohMH19LHpuPVtfLmEuQkxFTkRfRVFVQVRJT05fTUlOTUFYLF8uYS5URVhUVVJFX0ZMT0FUXSxCbj17ZGF0YTp7cHJvcHM6WyJyYWRpdXNQaXhlbHMiXX19LFVuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdSgpKHRoaXMsZSksZigpKHRoaXMsdigpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKShlLHQpLGwoKShlLFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO2lmKCFPYmplY3QoTy5jKSh0LHpuKSlyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7c3VwcG9ydGVkOiExfSksdm9pZCBiLmEuZXJyb3IoIkhlYXRtYXBMYXllcjogIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIikpKCk7ZygpKHYoKShlLnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLEJuKSx0aGlzLnNldFN0YXRlKHtzdXBwb3J0ZWQ6ITB9KSx0aGlzLl9zZXR1cFRleHR1cmVQYXJhbXMoKSx0aGlzLl9zZXR1cEF0dHJpYnV0ZXMoKSx0aGlzLl9zZXR1cFJlc291cmNlcygpfX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0ZS5zdXBwb3J0ZWQpe2coKSh2KCkoZS5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBuPXQucHJvcHMscj10Lm9sZFByb3BzLGk9dGhpcy5fZ2V0Q2hhbmdlRmxhZ3ModCk7aWYoaS52aWV3cG9ydENoYW5nZWQmJihpLmJvdW5kc0NoYW5nZWQ9dGhpcy5fdXBkYXRlQm91bmRzKCkpLGkuZGF0YUNoYW5nZWR8fGkuYm91bmRzQ2hhbmdlZD90aGlzLl91cGRhdGVXZWlnaHRtYXAoKTppLnZpZXdwb3J0Wm9vbUNoYW5nZWQmJnRoaXMuX2RlYm91bmNlZFVwZGF0ZVdlaWdodG1hcCgpLG4uY29sb3JSYW5nZSE9PXIuY29sb3JSYW5nZSYmdGhpcy5fdXBkYXRlQ29sb3JUZXh0dXJlKHQpLGkudmlld3BvcnRDaGFuZ2VkJiZ0aGlzLl91cGRhdGVUZXh0dXJlUmVuZGVyaW5nQm91bmRzKCksci5jb2xvckRvbWFpbiE9PW4uY29sb3JEb21haW58fGkudmlld3BvcnRDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQudmlld3BvcnQsbz10aGlzLnN0YXRlLndlaWdodHNTY2FsZSxzPShhPzEwMjQvYS5zY2FsZToxKSpvLHU9bi5jb2xvckRvbWFpbj9uLmNvbG9yRG9tYWluLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQqc30pKTpEbjtpZih1WzFdPjAmJm88MSl7dmFyIGM9TWF0aC5taW4odVsxXSwxKTt1WzBdKj1jL3VbMV0sdVsxXT1jfXRoaXMuc2V0U3RhdGUoe2NvbG9yRG9tYWluOnV9KX10aGlzLnNldFN0YXRlKHt6b29tOnQuY29udGV4dC52aWV3cG9ydC56b29tfSl9fX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnN0YXRlLnN1cHBvcnRlZClyZXR1cm5bXTt2YXIgdD10aGlzLnN0YXRlLGU9dC53ZWlnaHRzVGV4dHVyZSxuPXQudHJpUG9zaXRpb25CdWZmZXIscj10LnRyaVRleENvb3JkQnVmZmVyLGk9dC5tYXhXZWlnaHRzVGV4dHVyZSxhPXQuY29sb3JUZXh0dXJlLG89dC5jb2xvckRvbWFpbixzPXRoaXMucHJvcHMsdT1zLnVwZGF0ZVRyaWdnZXJzLGM9cy5pbnRlbnNpdHksbD1zLnRocmVzaG9sZDtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygidHJpYW5nbGUiLEFuKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoidHJpYW5nbGUtbGF5ZXIiLHVwZGF0ZVRyaWdnZXJzOnV9KSx7ZGF0YTp7YXR0cmlidXRlczp7cG9zaXRpb25zOm4sdGV4Q29vcmRzOnJ9fSx2ZXJ0ZXhDb3VudDo0LG1heFRleHR1cmU6aSxjb2xvclRleHR1cmU6YSx0ZXh0dXJlOmUsaW50ZW5zaXR5OmMsdGhyZXNob2xkOmwsY29sb3JEb21haW46b30pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtnKCkodigpKGUucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKTt2YXIgdD10aGlzLnN0YXRlLG49dC53ZWlnaHRzVHJhbnNmb3JtLHI9dC53ZWlnaHRzVGV4dHVyZSxpPXQubWF4V2VpZ2h0VHJhbnNmb3JtLGE9dC5tYXhXZWlnaHRzVGV4dHVyZSxvPXQudHJpUG9zaXRpb25CdWZmZXIscz10LnRyaVRleENvb3JkQnVmZmVyLHU9dC5jb2xvclRleHR1cmUsYz10LnVwZGF0ZVRpbWVyO24mJm4uZGVsZXRlKCksciYmci5kZWxldGUoKSxpJiZpLmRlbGV0ZSgpLGEmJmEuZGVsZXRlKCksbyYmby5kZWxldGUoKSxzJiZzLmRlbGV0ZSgpLHUmJnUuZGVsZXRlKCksYyYmY2xlYXJUaW1lb3V0KGMpfX0se2tleToiX2dldEF0dHJpYnV0ZU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsdC5hKHRoaXMuY29udGV4dC5nbCx7aWQ6dGhpcy5wcm9wcy5pZCxzdGF0czp0aGlzLmNvbnRleHQuc3RhdHN9KX19LHtrZXk6Il9nZXRDaGFuZ2VGbGFncyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e30sbj10aGlzLnN0YXRlLmRpbWVuc2lvbnM7ZS5kYXRhQ2hhbmdlZD10aGlzLmlzQXR0cmlidXRlQ2hhbmdlZCgpfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eSh0LHtjb21wYXJlQWxsOiEwLGRpbWVuc2lvbjpuLmRhdGF9KSxlLnZpZXdwb3J0Q2hhbmdlZD10LmNoYW5nZUZsYWdzLnZpZXdwb3J0Q2hhbmdlZDt2YXIgcj10aGlzLnN0YXRlLnpvb207cmV0dXJuIHQuY29udGV4dC52aWV3cG9ydCYmdC5jb250ZXh0LnZpZXdwb3J0Lnpvb209PT1yfHwoZS52aWV3cG9ydFpvb21DaGFuZ2VkPSEwKSxlfX0se2tleToiX2NyZWF0ZVRleHR1cmVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5nbCxlPXRoaXMuc3RhdGUsbj1lLnRleHR1cmVTaXplLHI9ZS5mb3JtYXQsaT1lLnR5cGU7dGhpcy5zZXRTdGF0ZSh7d2VpZ2h0c1RleHR1cmU6bmV3IFUuYSh0LFJuKHt3aWR0aDpuLGhlaWdodDpuLGZvcm1hdDpyLHR5cGU6aX0sTm4pKSxtYXhXZWlnaHRzVGV4dHVyZTpuZXcgVS5hKHQsUm4oe2Zvcm1hdDpyLHR5cGU6aX0sTm4pKX0pfX0se2tleToiX3NldHVwQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGQoe3Bvc2l0aW9uczp7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9LHdlaWdodHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0V2VpZ2h0In19KSx0aGlzLnNldFN0YXRlKHtwb3NpdGlvbkF0dHJpYnV0ZU5hbWU6InBvc2l0aW9ucyJ9KX19LHtrZXk6Il9zZXR1cFRleHR1cmVQYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsLGU9TWF0aC5taW4oMjA0OCxPYmplY3QoeC5kKSh0LDMzNzkpKSxuPU9iamVjdChPLmMpKHQsXy5hLkNPTE9SX0FUVEFDSE1FTlRfUkdCQTMyRikscj1mdW5jdGlvbih0KXt2YXIgZT10LmdsLG49dC5mbG9hdFRhcmdldFN1cHBvcnQ7cmV0dXJue2Zvcm1hdDpPYmplY3QoeC5nKShlKT8zNDgzNjo2NDA4LHR5cGU6bj81MTI2OjUxMjF9fSh7Z2w6dCxmbG9hdFRhcmdldFN1cHBvcnQ6bn0pLGk9ci5mb3JtYXQsYT1yLnR5cGUsbz1uPzE6MS8yNTU7dGhpcy5zZXRTdGF0ZSh7dGV4dHVyZVNpemU6ZSxmb3JtYXQ6aSx0eXBlOmEsd2VpZ2h0c1NjYWxlOm99KSxufHxiLmEud2FybigiSGVhdG1hcExheWVyOiAiLmNvbmNhdCh0aGlzLmlkLCIgcmVuZGVyaW5nIHRvIGZsb2F0IHRleHR1cmUgbm90IHN1cHBvcnRlZCwgZmFsbGluZ2JhY2sgdG8gbG93IHByZWNlc3Npb24gZm9ybWF0IikpKCl9fSx7a2V5OiJfY3JlYXRlV2VpZ2h0c1RyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLmNvbnRleHQuZ2wsbj10aGlzLnN0YXRlLndlaWdodHNUcmFuc2Zvcm0scj10aGlzLnN0YXRlLndlaWdodHNUZXh0dXJlO24mJm4uZGVsZXRlKCk7dmFyIGk9T2JqZWN0KGouYSkoe3ZzOkNuLF9mczpMbixtb2R1bGVzOltULmFdfSx0KTtuPW5ldyBTLmEoZSxSbih7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi13ZWlnaHRzLXRyYW5zZm9ybSIpLGVsZW1lbnRDb3VudDoxLF90YXJnZXRUZXh0dXJlOnIsX3RhcmdldFRleHR1cmVWYXJ5aW5nOiJ3ZWlnaHRzVGV4dHVyZSJ9LGkpKSx0aGlzLnNldFN0YXRlKHt3ZWlnaHRzVHJhbnNmb3JtOm59KX19LHtrZXk6Il9zZXR1cFJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5fY3JlYXRlVGV4dHVyZXMoKTt2YXIgZT10aGlzLnN0YXRlLG49ZS50ZXh0dXJlU2l6ZSxyPWUud2VpZ2h0c1RleHR1cmUsaT1lLm1heFdlaWdodHNUZXh0dXJlO3RoaXMuX2NyZWF0ZVdlaWdodHNUcmFuc2Zvcm0oKTt2YXIgYT1uZXcgUy5hKHQse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItbWF4LXdlaWdodHMtdHJhbnNmb3JtIiksX3NvdXJjZVRleHR1cmVzOntpblRleHR1cmU6cn0sX3RhcmdldFRleHR1cmU6aSxfdGFyZ2V0VGV4dHVyZVZhcnlpbmc6Im91dFRleHR1cmUiLHZzOiJhdHRyaWJ1dGUgdmVjNCBpblRleHR1cmU7XG52YXJ5aW5nIHZlYzQgb3V0VGV4dHVyZTtcblxudm9pZCBtYWluKClcbntcbm91dFRleHR1cmUgPSBpblRleHR1cmU7XG5nbF9Qb3NpdGlvbiA9IHZlYzQoMCwgMCwgMCwgMS4pO1xuZ2xfUG9pbnRTaXplID0gMS4wO1xufVxuIixlbGVtZW50Q291bnQ6bipufSk7dGhpcy5zZXRTdGF0ZSh7d2VpZ2h0c1RleHR1cmU6cixtYXhXZWlnaHRzVGV4dHVyZTppLG1heFdlaWdodFRyYW5zZm9ybTphLHpvb206bnVsbCx0cmlQb3NpdGlvbkJ1ZmZlcjpuZXcgdnQuYSh0LHtieXRlTGVuZ3RoOjQ4LGFjY2Vzc29yOntzaXplOjN9fSksdHJpVGV4Q29vcmRCdWZmZXI6bmV3IHZ0LmEodCx7Ynl0ZUxlbmd0aDo0OCxhY2Nlc3Nvcjp7c2l6ZToyfX0pfSl9fSx7a2V5OiJ1cGRhdGVTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9jcmVhdGVXZWlnaHRzVHJhbnNmb3JtKHQpfX0se2tleToiX3VwZGF0ZU1heFdlaWdodFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGUubWF4V2VpZ2h0VHJhbnNmb3JtLnJ1bih7cGFyYW1ldGVyczp7YmxlbmQ6ITAsZGVwdGhUZXN0OiExLGJsZW5kRnVuYzpbMSwxXSxibGVuZEVxdWF0aW9uOjMyNzc2fX0pfX0se2tleToiX3VwZGF0ZUJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5jb250ZXh0LnZpZXdwb3J0LG49W2UudW5wcm9qZWN0KFswLDBdKSxlLnVucHJvamVjdChbZS53aWR0aCwwXSksZS51bnByb2plY3QoW2Uud2lkdGgsZS5oZWlnaHRdKSxlLnVucHJvamVjdChbMCxlLmhlaWdodF0pXSxyPWtuKG4pLGk9e3Zpc2libGVXb3JsZEJvdW5kczpyLHZpZXdwb3J0Q29ybmVyczpufSxhPSExO2lmKHR8fCF0aGlzLnN0YXRlLndvcmxkQm91bmRzfHwhU24odGhpcy5zdGF0ZS53b3JsZEJvdW5kcyxyKSl7dmFyIG89dGhpcy5fd29ybGRUb0NvbW1vbkJvdW5kcyhyKSxzPXRoaXMuX2NvbW1vblRvV29ybGRCb3VuZHMobyk7dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtPT09SXQuYS5MTkdMQVQmJihzWzFdPU1hdGgubWF4KHNbMV0sLTg1LjA1MTEyOSksc1szXT1NYXRoLm1pbihzWzNdLDg1LjA1MTEyOSksc1swXT1NYXRoLm1heChzWzBdLC0zNjApLHNbMl09TWF0aC5taW4oc1syXSwzNjApKTt2YXIgdT10aGlzLl93b3JsZFRvQ29tbW9uQm91bmRzKHMpO2kud29ybGRCb3VuZHM9cyxpLm5vcm1hbGl6ZWRDb21tb25Cb3VuZHM9dSxhPSEwfXJldHVybiB0aGlzLnNldFN0YXRlKGkpLGF9fSx7a2V5OiJfdXBkYXRlVGV4dHVyZVJlbmRlcmluZ0JvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC50cmlQb3NpdGlvbkJ1ZmZlcixuPXQudHJpVGV4Q29vcmRCdWZmZXIscj10Lm5vcm1hbGl6ZWRDb21tb25Cb3VuZHMsaT10LnZpZXdwb3J0Q29ybmVycyxhPXRoaXMuY29udGV4dC52aWV3cG9ydDtlLnN1YkRhdGEoam4oaSwzKSk7dmFyIG89aS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlPWEucHJvamVjdFBvc2l0aW9uKHQpLG49cixpPWd0KCkobiw0KSxvPWlbMF0scz1pWzFdLHU9aVsyXSxjPWlbM10sWyhlWzBdLW8pLyh1LW8pLChlWzFdLXMpLyhjLXMpXTt2YXIgZSxuLGksbyxzLHUsY30pKTtuLnN1YkRhdGEoam4obywyKSl9fSx7a2V5OiJfdXBkYXRlQ29sb3JUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnByb3BzLmNvbG9yUmFuZ2Usbj10aGlzLnN0YXRlLmNvbG9yVGV4dHVyZSxyPXJ0KGUsITApO24/bi5zZXRJbWFnZURhdGEoe2RhdGE6cix3aWR0aDplLmxlbmd0aH0pOm49bmV3IFUuYSh0aGlzLmNvbnRleHQuZ2wsUm4oe2RhdGE6cix3aWR0aDplLmxlbmd0aCxoZWlnaHQ6MSxmb3JtYXQ6T2JqZWN0KHguZykodGhpcy5jb250ZXh0LmdsKT8zNDgzNjo2NDA4LHR5cGU6NTEyNn0sTm4pKSx0aGlzLnNldFN0YXRlKHtjb2xvclRleHR1cmU6bn0pfX0se2tleToiX3VwZGF0ZVdlaWdodG1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMucHJvcHMucmFkaXVzUGl4ZWxzLG49dGhpcy5zdGF0ZSxyPW4ud2VpZ2h0c1RyYW5zZm9ybSxpPW4ud29ybGRCb3VuZHMsYT1uLnRleHR1cmVTaXplLHM9bi53ZWlnaHRzVGV4dHVyZSx1PW4ud2VpZ2h0c1NjYWxlLGM9e3JhZGl1c1BpeGVsczplLGNvbW1vbkJvdW5kczp0aGlzLl93b3JsZFRvQ29tbW9uQm91bmRzKGkse3VzZUxheWVyQ29vcmRpbmF0ZVN5c3RlbTohMH0pLHRleHR1cmVXaWR0aDphLHdlaWdodHNTY2FsZTp1fTtyLnVwZGF0ZSh7ZWxlbWVudENvdW50OnRoaXMuZ2V0TnVtSW5zdGFuY2VzKCl9KSxyLnJ1bih7dW5pZm9ybXM6YyxwYXJhbWV0ZXJzOntibGVuZDohMCxkZXB0aFRlc3Q6ITEsYmxlbmRGdW5jOlsxLDFdLGJsZW5kRXF1YXRpb246MzI3NzR9LGNsZWFyUmVuZGVyVGFyZ2V0OiEwLGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCksbW9kdWxlU2V0dGluZ3M6dGhpcy5nZXRNb2R1bGVTZXR0aW5ncygpfSksdGhpcy5fdXBkYXRlTWF4V2VpZ2h0VmFsdWUoKSxzLnNldFBhcmFtZXRlcnMoKHQ9e30sbygpKHQsMTAyNDAsOTcyOSksbygpKHQsMTAyNDEsOTcyOSksdCkpLHRoaXMuc2V0U3RhdGUoe2xhc3RVcGRhdGU6RGF0ZS5ub3coKX0pfX0se2tleToiX2RlYm91bmNlZFVwZGF0ZVdlaWdodG1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5zdGF0ZS51cGRhdGVUaW1lcixuPURhdGUubm93KCktdGhpcy5zdGF0ZS5sYXN0VXBkYXRlO3QmJihlPW51bGwpLG4+PTUwMD8odGhpcy5fdXBkYXRlQm91bmRzKCEwKSx0aGlzLl91cGRhdGVXZWlnaHRtYXAoKSx0aGlzLl91cGRhdGVUZXh0dXJlUmVuZGVyaW5nQm91bmRzKCkpOmV8fChlPXNldFRpbWVvdXQodGhpcy5fZGVib3VuY2VkVXBkYXRlV2VpZ2h0bWFwLmJpbmQodGhpcywhMCksNTAwLW4pKSx0aGlzLnNldFN0YXRlKHt1cGRhdGVUaW1lcjplfSl9fSx7a2V5OiJfd29ybGRUb0NvbW1vbkJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPXIudXNlTGF5ZXJDb29yZGluYXRlU3lzdGVtLGE9dm9pZCAwIT09aSYmaSxvPWd0KCkodCw0KSxzPW9bMF0sdT1vWzFdLGM9b1syXSxsPW9bM10saD10aGlzLmNvbnRleHQudmlld3BvcnQsZj10aGlzLnN0YXRlLnRleHR1cmVTaXplLGQ9MipmL2guc2NhbGU7YT8oZT10aGlzLnByb2plY3RQb3NpdGlvbihbcyx1LDBdKSxuPXRoaXMucHJvamVjdFBvc2l0aW9uKFtjLGwsMF0pKTooZT1oLnByb2plY3RQb3NpdGlvbihbcyx1LDBdKSxuPWgucHJvamVjdFBvc2l0aW9uKFtjLGwsMF0pKTt2YXIgdj1lLnNsaWNlKDAsMikuY29uY2F0KG4uc2xpY2UoMCwyKSk7cmV0dXJuIHY9VG4odixkLGQpfX0se2tleToiX2NvbW1vblRvV29ybGRCb3VuZHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWd0KCkodCw0KSxuPWVbMF0scj1lWzFdLGk9ZVsyXSxhPWVbM10sbz10aGlzLmNvbnRleHQudmlld3BvcnQscz1vLnVucHJvamVjdFBvc2l0aW9uKFtuLHJdKSx1PW8udW5wcm9qZWN0UG9zaXRpb24oW2ksYV0pO3JldHVybiBzLnNsaWNlKDAsMikuY29uY2F0KHUuc2xpY2UoMCwyKSl9fV0pLGV9KGR0KTtVbi5sYXllck5hbWU9IkhlYXRtYXBMYXllciIsVW4uZGVmYXVsdFByb3BzPUZuLG4uZChlLCJTY3JlZW5HcmlkTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBIdH0pKSxuLmQoZSwiQ1BVR3JpZExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV9KSksbi5kKGUsIkhleGFnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGhlfSkpLG4uZChlLCJDb250b3VyTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBkbn0pKSxuLmQoZSwiR3JpZExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gd259KSksbi5kKGUsIkdQVUdyaWRMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9ufSkpLG4uZChlLCJBR0dSRUdBVElPTl9PUEVSQVRJT04iLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZChlLCJIZWF0bWFwTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBVbn0pKSxuLmQoZSwiX0dQVUdyaWRBZ2dyZWdhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKSxuLmQoZSwiX0NQVUFnZ3JlZ2F0b3IiLChmdW5jdGlvbigpe3JldHVybiAkdH0pKSxuLmQoZSwiX0FnZ3JlZ2F0aW9uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBkdH0pKSxuLmQoZSwiX0JpblNvcnRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN0fSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDIwMyksdj1uKDExMSkscD17c291cmNlOjAsdGFyZ2V0OjEsY3VzdG9tOjIsc291cmNlX3RhcmdldDozfSxnPXtuYW1lOiJicnVzaGluZyIsZGVwZW5kZW5jaWVzOlt2LmFdLHZzOiJcbiAgdW5pZm9ybSBib29sIGJydXNoaW5nX2VuYWJsZWQ7XG4gIHVuaWZvcm0gaW50IGJydXNoaW5nX3RhcmdldDtcbiAgdW5pZm9ybSB2ZWMyIGJydXNoaW5nX21vdXNlUG9zO1xuICB1bmlmb3JtIGZsb2F0IGJydXNoaW5nX3JhZGl1cztcblxuICAjaWZkZWYgTk9OX0lOU1RBTkNFRF9NT0RFTFxuICBhdHRyaWJ1dGUgdmVjMiBicnVzaGluZ1RhcmdldHM7XG4gICNlbHNlXG4gIGF0dHJpYnV0ZSB2ZWMyIGluc3RhbmNlQnJ1c2hpbmdUYXJnZXRzO1xuICAjZW5kaWZcblxuICB2YXJ5aW5nIGZsb2F0IGJydXNoaW5nX2lzVmlzaWJsZTtcblxuICBib29sIGJydXNoaW5nX2lzUG9pbnRJblJhbmdlKHZlYzIgcG9zaXRpb24pIHtcbiAgICBpZiAoIWJydXNoaW5nX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2ZWMyIHNvdXJjZV9jb21tb25zcGFjZSA9IHByb2plY3RfcG9zaXRpb24ocG9zaXRpb24pO1xuICAgIHZlYzIgdGFyZ2V0X2NvbW1vbnNwYWNlID0gcHJvamVjdF9wb3NpdGlvbihicnVzaGluZ19tb3VzZVBvcyk7XG4gICAgZmxvYXQgZGlzdGFuY2UgPSBsZW5ndGgoKHRhcmdldF9jb21tb25zcGFjZSAtIHNvdXJjZV9jb21tb25zcGFjZSkgLyBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyLnh5KTtcblxuICAgIHJldHVybiBkaXN0YW5jZSA8PSBicnVzaGluZ19yYWRpdXM7XG4gIH1cblxuICBib29sIGJydXNoaW5nX2FyZVBvaW50c0luUmFuZ2UodmVjMiBzb3VyY2VQb3MsIHZlYzIgdGFyZ2V0UG9zKSB7XG4gICAgcmV0dXJuIGJydXNoaW5nX2lzUG9pbnRJblJhbmdlKHNvdXJjZVBvcykgfHwgYnJ1c2hpbmdfaXNQb2ludEluUmFuZ2UodGFyZ2V0UG9zKTtcbiAgfVxuXG4gIHZvaWQgYnJ1c2hpbmdfc2V0VmlzaWJsZShib29sIHZpc2libGUpIHtcbiAgICBicnVzaGluZ19pc1Zpc2libGUgPSBmbG9hdCh2aXNpYmxlKTtcbiAgfVxuIixmczoiXG4gIHVuaWZvcm0gYm9vbCBicnVzaGluZ19lbmFibGVkO1xuICB2YXJ5aW5nIGZsb2F0IGJydXNoaW5nX2lzVmlzaWJsZTtcbiIsaW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICAgIHZlYzIgYnJ1c2hpbmdUYXJnZXQ7XG4gICAgdmVjMiBicnVzaGluZ1NvdXJjZTtcbiAgICBpZiAoYnJ1c2hpbmdfdGFyZ2V0ID09IDMpIHtcbiAgICAgIGJydXNoaW5nVGFyZ2V0ID0gZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdC54eTtcbiAgICAgIGJydXNoaW5nU291cmNlID0gZ2VvbWV0cnkud29ybGRQb3NpdGlvbi54eTtcbiAgICB9IGVsc2UgaWYgKGJydXNoaW5nX3RhcmdldCA9PSAwKSB7XG4gICAgICBicnVzaGluZ1RhcmdldCA9IGdlb21ldHJ5LndvcmxkUG9zaXRpb24ueHk7XG4gICAgfSBlbHNlIGlmIChicnVzaGluZ190YXJnZXQgPT0gMSkge1xuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBnZW9tZXRyeS53b3JsZFBvc2l0aW9uQWx0Lnh5O1xuICAgIH0gZWxzZSB7XG4gICAgICAjaWZkZWYgTk9OX0lOU1RBTkNFRF9NT0RFTFxuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBicnVzaGluZ1RhcmdldHM7XG4gICAgICAjZWxzZVxuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBpbnN0YW5jZUJydXNoaW5nVGFyZ2V0cztcbiAgICAgICNlbmRpZlxuICAgIH1cbiAgICBib29sIHZpc2libGU7XG4gICAgaWYgKGJydXNoaW5nX3RhcmdldCA9PSAzKSB7XG4gICAgICB2aXNpYmxlID0gYnJ1c2hpbmdfYXJlUG9pbnRzSW5SYW5nZShicnVzaGluZ1NvdXJjZSwgYnJ1c2hpbmdUYXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aXNpYmxlID0gYnJ1c2hpbmdfaXNQb2ludEluUmFuZ2UoYnJ1c2hpbmdUYXJnZXQpO1xuICAgIH1cbiAgICBicnVzaGluZ19zZXRWaXNpYmxlKHZpc2libGUpO1xuICAiLCJmczpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgaWYgKGJydXNoaW5nX2VuYWJsZWQgJiYgYnJ1c2hpbmdfaXNWaXNpYmxlIDwgMC41KSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgIn0sZ2V0VW5pZm9ybXM6ZnVuY3Rpb24odCl7aWYoIXR8fCF0LnZpZXdwb3J0KXJldHVybnt9O3ZhciBlPXQuYnJ1c2hpbmdFbmFibGVkLG49dm9pZCAwPT09ZXx8ZSxyPXQuYnJ1c2hpbmdSYWRpdXMsaT12b2lkIDA9PT1yPzFlNDpyLGE9dC5icnVzaGluZ1RhcmdldCxvPXZvaWQgMD09PWE/InNvdXJjZSI6YSxzPXQubW91c2VQb3NpdGlvbix1PXQudmlld3BvcnQ7cmV0dXJue2JydXNoaW5nX2VuYWJsZWQ6Qm9vbGVhbihuJiZzJiZ1LmNvbnRhaW5zUGl4ZWwocykpLGJydXNoaW5nX3JhZGl1czppLGJydXNoaW5nX3RhcmdldDpwW29dfHwwLGJydXNoaW5nX21vdXNlUG9zOnM/dS51bnByb2plY3QoW3MueC11Lngscy55LXUueV0pOlswLDBdfX19LHk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybnttb2R1bGVzOltnXX19fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO3ImJnIuYWRkKHticnVzaGluZ1RhcmdldHM6e3NpemU6MixhY2Nlc3NvcjoiZ2V0QnJ1c2hpbmdUYXJnZXQiLHVwZGF0ZTohdGhpcy5wcm9wcy5nZXRCcnVzaGluZ1RhcmdldCYmZS51c2VDb25zdGFudFRhcmdldFBvc2l0aW9ucyxzaGFkZXJBdHRyaWJ1dGVzOnticnVzaGluZ1RhcmdldHM6e2Rpdmlzb3I6MH0saW5zdGFuY2VCcnVzaGluZ1RhcmdldHM6e2Rpdmlzb3I6MX19fX0pLGUub25Nb3VzZU1vdmU9ZnVuY3Rpb24oKXtuLmdldEN1cnJlbnRMYXllcigpLnNldE5lZWRzUmVkcmF3KCl9LHRoaXMuY29udGV4dC5kZWNrJiZ0aGlzLmNvbnRleHQuZGVjay5ldmVudE1hbmFnZXIub24oe3BvaW50ZXJtb3ZlOmUub25Nb3VzZU1vdmUscG9pbnRlcmxlYXZlOmUub25Nb3VzZU1vdmV9KX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dC5kZWNrJiZ0aGlzLmNvbnRleHQuZGVjay5ldmVudE1hbmFnZXIub2ZmKHtwb2ludGVybW92ZTp0Lm9uTW91c2VNb3ZlLHBvaW50ZXJsZWF2ZTp0Lm9uTW91c2VNb3ZlfSl9fSx7a2V5OiJ1c2VDb25zdGFudFRhcmdldFBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24odCl7dC5jb25zdGFudD0hMCx0LnZhbHVlPW5ldyBGbG9hdDMyQXJyYXkoMil9fV0pLGV9KGQuYSk7eS5leHRlbnNpb25OYW1lPSJCcnVzaGluZ0V4dGVuc2lvbiIseS5kZWZhdWx0UHJvcHM9e2dldEJydXNoaW5nVGFyZ2V0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMF19LGJydXNoaW5nVGFyZ2V0OiJzb3VyY2UiLGJydXNoaW5nRW5hYmxlZDohMCxicnVzaGluZ1JhZGl1czoxZTR9O3ZhciBtPSJcbnVuaWZvcm0gREFUQUZJTFRFUl9UWVBFIGZpbHRlcl9taW47XG51bmlmb3JtIERBVEFGSUxURVJfVFlQRSBmaWx0ZXJfc29mdE1pbjtcbnVuaWZvcm0gREFUQUZJTFRFUl9UWVBFIGZpbHRlcl9zb2Z0TWF4O1xudW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21heDtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdXNlU29mdE1hcmdpbjtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfZW5hYmxlZDtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdHJhbnNmb3JtU2l6ZTtcblxuI2lmZGVmIE5PTl9JTlNUQU5DRURfTU9ERUxcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQiBmaWx0ZXJWYWx1ZXNcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQl82NExPVyBmaWx0ZXJWYWx1ZXM2NExvd1xuI2Vsc2VcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQiBpbnN0YW5jZUZpbHRlclZhbHVlc1xuICAjZGVmaW5lIERBVEFGSUxURVJfQVRUUklCXzY0TE9XIGluc3RhbmNlRmlsdGVyVmFsdWVzNjRMb3dcbiNlbmRpZlxuXG5hdHRyaWJ1dGUgREFUQUZJTFRFUl9UWVBFIERBVEFGSUxURVJfQVRUUklCO1xuI2lmZGVmIERBVEFGSUxURVJfRE9VQkxFXG4gIGF0dHJpYnV0ZSBEQVRBRklMVEVSX1RZUEUgREFUQUZJTFRFUl9BVFRSSUJfNjRMT1c7XG5cbiAgdW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21pbjY0SGlnaDtcbiAgdW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21heDY0SGlnaDtcbiNlbmRpZlxuXG52YXJ5aW5nIGZsb2F0IGRhdGFGaWx0ZXJfdmFsdWU7XG5cbmZsb2F0IGRhdGFGaWx0ZXJfcmVkdWNlVmFsdWUoZmxvYXQgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZmxvYXQgZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZSh2ZWMyIHZhbHVlKSB7XG4gIHJldHVybiBtaW4odmFsdWUueCwgdmFsdWUueSk7XG59XG5mbG9hdCBkYXRhRmlsdGVyX3JlZHVjZVZhbHVlKHZlYzMgdmFsdWUpIHtcbiAgcmV0dXJuIG1pbihtaW4odmFsdWUueCwgdmFsdWUueSksIHZhbHVlLnopO1xufVxuZmxvYXQgZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZSh2ZWM0IHZhbHVlKSB7XG4gIHJldHVybiBtaW4obWluKHZhbHVlLngsIHZhbHVlLnkpLCBtaW4odmFsdWUueiwgdmFsdWUudykpO1xufVxudm9pZCBkYXRhRmlsdGVyX3NldFZhbHVlKERBVEFGSUxURVJfVFlQRSB2YWx1ZUZyb21NaW4sIERBVEFGSUxURVJfVFlQRSB2YWx1ZUZyb21NYXgpIHtcbiAgaWYgKGZpbHRlcl9lbmFibGVkKSB7XG4gICAgaWYgKGZpbHRlcl91c2VTb2Z0TWFyZ2luKSB7XG4gICAgICBkYXRhRmlsdGVyX3ZhbHVlID0gZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZShcbiAgICAgICAgc21vb3Roc3RlcChmaWx0ZXJfbWluLCBmaWx0ZXJfc29mdE1pbiwgdmFsdWVGcm9tTWluKSAqXG4gICAgICAgICgxLjAgLSBzbW9vdGhzdGVwKGZpbHRlcl9zb2Z0TWF4LCBmaWx0ZXJfbWF4LCB2YWx1ZUZyb21NYXgpKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YUZpbHRlcl92YWx1ZSA9IGRhdGFGaWx0ZXJfcmVkdWNlVmFsdWUoXG4gICAgICAgIHN0ZXAoZmlsdGVyX21pbiwgdmFsdWVGcm9tTWluKSAqIHN0ZXAodmFsdWVGcm9tTWF4LCBmaWx0ZXJfbWF4KVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0YUZpbHRlcl92YWx1ZSA9IDEuMDtcbiAgfVxufVxuIixiPSJcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdHJhbnNmb3JtQ29sb3I7XG52YXJ5aW5nIGZsb2F0IGRhdGFGaWx0ZXJfdmFsdWU7XG4iLF89ZnVuY3Rpb24odCl7aWYoIXR8fCF0LmV4dGVuc2lvbnMpcmV0dXJue307dmFyIGU9dC5maWx0ZXJSYW5nZSxuPXZvaWQgMD09PWU/Wy0xLDFdOmUscj10LmZpbHRlckVuYWJsZWQsaT12b2lkIDA9PT1yfHxyLGE9dC5maWx0ZXJUcmFuc2Zvcm1TaXplLG89dm9pZCAwPT09YXx8YSxzPXQuZmlsdGVyVHJhbnNmb3JtQ29sb3IsdT12b2lkIDA9PT1zfHxzLGM9dC5maWx0ZXJTb2Z0UmFuZ2V8fG4sbD1OdW1iZXIuaXNGaW5pdGUoblswXSk/e2ZpbHRlcl9taW46blswXSxmaWx0ZXJfc29mdE1pbjpjWzBdLGZpbHRlcl9zb2Z0TWF4OmNbMV0sZmlsdGVyX21heDpuWzFdfTp7ZmlsdGVyX21pbjpuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksZmlsdGVyX3NvZnRNaW46Yy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLGZpbHRlcl9zb2Z0TWF4OmMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxmaWx0ZXJfbWF4Om4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKX07cmV0dXJuIGwuZmlsdGVyX2VuYWJsZWQ9aSxsLmZpbHRlcl91c2VTb2Z0TWFyZ2luPUJvb2xlYW4odC5maWx0ZXJTb2Z0UmFuZ2UpLGwuZmlsdGVyX3RyYW5zZm9ybVNpemU9aSYmbyxsLmZpbHRlcl90cmFuc2Zvcm1Db2xvcj1pJiZ1LGx9LE89eyJ2czojbWFpbi1zdGFydCI6IlxuICAgICNpZmRlZiBEQVRBRklMVEVSX0RPVUJMRVxuICAgICAgZGF0YUZpbHRlcl9zZXRWYWx1ZShcbiAgICAgICAgREFUQUZJTFRFUl9BVFRSSUIgLSBmaWx0ZXJfbWluNjRIaWdoICsgREFUQUZJTFRFUl9BVFRSSUJfNjRMT1csXG4gICAgICAgIERBVEFGSUxURVJfQVRUUklCIC0gZmlsdGVyX21heDY0SGlnaCArIERBVEFGSUxURVJfQVRUUklCXzY0TE9XXG4gICAgICApO1xuICAgICNlbHNlXG4gICAgICBkYXRhRmlsdGVyX3NldFZhbHVlKERBVEFGSUxURVJfQVRUUklCLCBEQVRBRklMVEVSX0FUVFJJQik7XG4gICAgI2VuZGlmXG4gICIsInZzOkRFQ0tHTF9GSUxURVJfU0laRSI6IlxuICAgIGlmIChmaWx0ZXJfdHJhbnNmb3JtU2l6ZSkge1xuICAgICAgc2l6ZSA9IHNpemUgKiBkYXRhRmlsdGVyX3ZhbHVlO1xuICAgIH1cbiAgIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICAgIGlmIChkYXRhRmlsdGVyX3ZhbHVlID09IDAuMCkgZGlzY2FyZDtcbiAgICBpZiAoZmlsdGVyX3RyYW5zZm9ybUNvbG9yKSB7XG4gICAgICBjb2xvci5hICo9IGRhdGFGaWx0ZXJfdmFsdWU7XG4gICAgfVxuICAifSx4PXtuYW1lOiJkYXRhLWZpbHRlciIsdnM6bSxmczpiLGluamVjdDpPLGdldFVuaWZvcm1zOl99LHc9e25hbWU6ImRhdGEtZmlsdGVyLWZwNjQiLHZzOm0sZnM6YixpbmplY3Q6TyxnZXRVbmlmb3JtczpmdW5jdGlvbih0KXtpZighdHx8IXQuZXh0ZW5zaW9ucylyZXR1cm57fTt2YXIgZT1fKHQpO2lmKE51bWJlci5pc0Zpbml0ZShlLmZpbHRlcl9taW4pKXt2YXIgbj1NYXRoLmZyb3VuZChlLmZpbHRlcl9taW4pO2UuZmlsdGVyX21pbi09bixlLmZpbHRlcl9zb2Z0TWluLT1uLGUuZmlsdGVyX21pbjY0SGlnaD1uO3ZhciByPU1hdGguZnJvdW5kKGUuZmlsdGVyX21heCk7ZS5maWx0ZXJfbWF4LT1yLGUuZmlsdGVyX3NvZnRNYXgtPXIsZS5maWx0ZXJfbWF4NjRIaWdoPXJ9ZWxzZXt2YXIgaT1lLmZpbHRlcl9taW4ubWFwKE1hdGguZnJvdW5kKTtlLmZpbHRlcl9taW49ZS5maWx0ZXJfbWluLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1pW2VdfSkpLGUuZmlsdGVyX3NvZnRNaW49ZS5maWx0ZXJfc29mdE1pbi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtaVtlXX0pKSxlLmZpbHRlcl9taW42NEhpZ2g9aTt2YXIgYT1lLmZpbHRlcl9tYXgubWFwKE1hdGguZnJvdW5kKTtlLmZpbHRlcl9tYXg9ZS5maWx0ZXJfbWF4Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1hW2VdfSkpLGUuZmlsdGVyX3NvZnRNYXg9ZS5maWx0ZXJfc29mdE1heC5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtYVtlXX0pKSxlLmZpbHRlcl9tYXg2NEhpZ2g9YX1yZXR1cm4gZX19LGs9ezE6ImZsb2F0IiwyOiJ2ZWMyIiwzOiJ2ZWMzIiw0OiJ2ZWM0In0sUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49dC5maWx0ZXJTaXplLHI9dm9pZCAwPT09bj8xOm4sYT10LmZwNjQsbz12b2lkIDAhPT1hJiZhO2lmKGkoKSh0aGlzLGUpLCFrW3JdKXRocm93IG5ldyBFcnJvcigiZmlsdGVyU2l6ZSBvdXQgb2YgcmFuZ2UiKTtyZXR1cm4gdSgpKHRoaXMsbCgpKGUpLmNhbGwodGhpcyx7ZmlsdGVyU2l6ZTpyLGZwNjQ6b30pKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQub3B0cyxuPWUuZmlsdGVyU2l6ZSxyPWUuZnA2NDtyZXR1cm57bW9kdWxlczpbcj93OnhdLGRlZmluZXM6e0RBVEFGSUxURVJfVFlQRTprW25dLERBVEFGSUxURVJfRE9VQkxFOkJvb2xlYW4ocil9fX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtuJiZuLmFkZCh7ZmlsdGVyVmFsdWVzOntzaXplOmUub3B0cy5maWx0ZXJTaXplLHR5cGU6ZS5vcHRzLmZwNjQ/NTEzMDo1MTI2LGFjY2Vzc29yOiJnZXRGaWx0ZXJWYWx1ZSIsc2hhZGVyQXR0cmlidXRlczp7ZmlsdGVyVmFsdWVzOntkaXZpc29yOjB9LGluc3RhbmNlRmlsdGVyVmFsdWVzOntkaXZpc29yOjF9fX19KX19XSksZX0oZC5hKTtTLmV4dGVuc2lvbk5hbWU9IkRhdGFGaWx0ZXJFeHRlbnNpb24iLFMuZGVmYXVsdFByb3BzPXtnZXRGaWx0ZXJWYWx1ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjB9LGZpbHRlckVuYWJsZWQ6ITAsZmlsdGVyUmFuZ2U6Wy0xLDFdLGZpbHRlclNvZnRSYW5nZTpudWxsLGZpbHRlclRyYW5zZm9ybVNpemU6ITAsZmlsdGVyVHJhbnNmb3JtQ29sb3I6ITB9O3ZhciBQPW4oMjIpLGo9bigyOTIpLFQ9bigxMDgpLEU9ai5hLmZwNjRpZnksQT1qLmEuZnA2NGlmeU1hdHJpeDQsTT17bmFtZToicHJvamVjdDY0IixkZXBlbmRlbmNpZXM6W3YuYSxqLmFdLHZzOiJcbmNvbnN0IHZlYzIgV09STERfU0NBTEVfRlA2NCA9IHZlYzIoODEuNDg3MzI3NTc1NjgzNiwgMC4wMDAwMDMyODczNjY4MjMyMDE0MDk3KTtcblxudW5pZm9ybSB2ZWMyIHByb2plY3RfdVZpZXdQcm9qZWN0aW9uTWF0cml4RlA2NFsxNl07XG52b2lkIG1lcmNhdG9yUHJvamVjdF9mcDY0KHZlYzQgbG5nbGF0X2ZwNjQsIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcblxuI2lmIGRlZmluZWQoTlZJRElBX0ZQNjRfV09SS0FST1VORClcbiAgb3V0X3ZhbFswXSA9IHN1bV9mcDY0KHJhZGlhbnNfZnA2NChsbmdsYXRfZnA2NC54eSksIFBJX0ZQNjQgKiBPTkUpO1xuI2Vsc2VcbiAgb3V0X3ZhbFswXSA9IHN1bV9mcDY0KHJhZGlhbnNfZnA2NChsbmdsYXRfZnA2NC54eSksIFBJX0ZQNjQpO1xuI2VuZGlmXG4gIG91dF92YWxbMV0gPSBzdW1fZnA2NChQSV9GUDY0LFxuICAgIGxvZ19mcDY0KHRhbl9mcDY0KHN1bV9mcDY0KFBJXzRfRlA2NCwgcmFkaWFuc19mcDY0KGxuZ2xhdF9mcDY0Lnp3KSAvIDIuMCkpKSk7XG4gIHJldHVybjtcbn1cblxudm9pZCBwcm9qZWN0X3Bvc2l0aW9uX2ZwNjQodmVjNCBwb3NpdGlvbl9mcDY0LCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzIgcG9zX2ZwNjRbMl07XG4gIG1lcmNhdG9yUHJvamVjdF9mcDY0KHBvc2l0aW9uX2ZwNjQsIHBvc19mcDY0KTtcbiAgb3V0X3ZhbFswXSA9IG11bF9mcDY0KHBvc19mcDY0WzBdLCBXT1JMRF9TQ0FMRV9GUDY0KTtcbiAgb3V0X3ZhbFsxXSA9IG11bF9mcDY0KHBvc19mcDY0WzFdLCBXT1JMRF9TQ0FMRV9GUDY0KTtcblxuICByZXR1cm47XG59XG5cbnZvaWQgcHJvamVjdF9wb3NpdGlvbl9mcDY0KHZlYzIgcG9zaXRpb24sIHZlYzIgcG9zaXRpb242NHh5TG93LCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzQgcG9zaXRpb242NHh5ID0gdmVjNChcbiAgICBwb3NpdGlvbi54LCBwb3NpdGlvbjY0eHlMb3cueCxcbiAgICBwb3NpdGlvbi55LCBwb3NpdGlvbjY0eHlMb3cueSk7XG5cbiAgcHJvamVjdF9wb3NpdGlvbl9mcDY0KHBvc2l0aW9uNjR4eSwgb3V0X3ZhbCk7XG59XG5cbnZlYzQgcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlX2ZwNjQodmVjMiB2ZXJ0ZXhfcG9zX21vZGVsc3BhY2VbNF0pIHtcbiAgdmVjMiB2ZXJ0ZXhfcG9zX2NsaXBzcGFjZVs0XTtcbiAgbWF0NF92ZWM0X211bF9mcDY0KHByb2plY3RfdVZpZXdQcm9qZWN0aW9uTWF0cml4RlA2NCwgdmVydGV4X3Bvc19tb2RlbHNwYWNlLFxuICAgIHZlcnRleF9wb3NfY2xpcHNwYWNlKTtcbiAgcmV0dXJuIHZlYzQoXG4gICAgdmVydGV4X3Bvc19jbGlwc3BhY2VbMF0ueCxcbiAgICB2ZXJ0ZXhfcG9zX2NsaXBzcGFjZVsxXS54LFxuICAgIHZlcnRleF9wb3NfY2xpcHNwYWNlWzJdLngsXG4gICAgdmVydGV4X3Bvc19jbGlwc3BhY2VbM10ueFxuICAgICk7XG59XG5cbnZlYzQgcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoXG4gIHZlYzMgcG9zaXRpb24sIHZlYzMgcG9zaXRpb242NHh5TG93LCB2ZWMzIG9mZnNldCwgb3V0IHZlYzQgY29tbW9uUG9zaXRpb25cbikge1xuICB2ZWMyIG9mZnNldDY0WzRdO1xuICB2ZWM0X2ZwNjQodmVjNChvZmZzZXQsIDAuMCksIG9mZnNldDY0KTtcblxuICBmbG9hdCB6ID0gcHJvamVjdF9zaXplKHBvc2l0aW9uLnopO1xuICB2ZWMyIHByb2plY3RlZFBvc2l0aW9uNjR4eVsyXTtcbiAgcHJvamVjdF9wb3NpdGlvbl9mcDY0KHBvc2l0aW9uLnh5LCBwb3NpdGlvbjY0eHlMb3cueHksIHByb2plY3RlZFBvc2l0aW9uNjR4eSk7XG5cbiAgdmVjMiBjb21tb25Qb3NpdGlvbjY0WzRdO1xuICBjb21tb25Qb3NpdGlvbjY0WzBdID0gc3VtX2ZwNjQob2Zmc2V0NjRbMF0sIHByb2plY3RlZFBvc2l0aW9uNjR4eVswXSk7XG4gIGNvbW1vblBvc2l0aW9uNjRbMV0gPSBzdW1fZnA2NChvZmZzZXQ2NFsxXSwgcHJvamVjdGVkUG9zaXRpb242NHh5WzFdKTtcbiAgY29tbW9uUG9zaXRpb242NFsyXSA9IHN1bV9mcDY0KG9mZnNldDY0WzJdLCB2ZWMyKHosIDAuMCkpO1xuICBjb21tb25Qb3NpdGlvbjY0WzNdID0gdmVjMigxLjAsIDAuMCk7XG5cbiAgY29tbW9uUG9zaXRpb24gPSB2ZWM0KHByb2plY3RlZFBvc2l0aW9uNjR4eVswXS54LCBwcm9qZWN0ZWRQb3NpdGlvbjY0eHlbMV0ueCwgeiwgMS4wKTtcblxuICByZXR1cm4gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlX2ZwNjQoY29tbW9uUG9zaXRpb242NCk7XG59XG5cbnZlYzQgcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoXG4gIHZlYzMgcG9zaXRpb24sIHZlYzMgcG9zaXRpb242NHh5TG93LCB2ZWMzIG9mZnNldFxuKSB7XG4gIHZlYzQgY29tbW9uUG9zaXRpb247XG4gIHJldHVybiBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgICBwb3NpdGlvbiwgcG9zaXRpb242NHh5TG93LCBvZmZzZXQsIGNvbW1vblBvc2l0aW9uXG4gICk7XG59XG4iLGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOkM7aWYodC52aWV3cG9ydCl7dmFyIGU9dC52aWV3cG9ydCxuPWUudmlld1Byb2plY3Rpb25NYXRyaXgscj1lLnNjYWxlO3JldHVybiBMKHt2aWV3UHJvamVjdGlvbk1hdHJpeDpuLHNjYWxlOnJ9KX1yZXR1cm57fX19LEM9e30sTD1PYmplY3QoVC5hKSgoZnVuY3Rpb24odCl7dmFyIGU9dC52aWV3UHJvamVjdGlvbk1hdHJpeCxuPXQuc2NhbGUscj1BKGUpLGk9RShuKTtyZXR1cm57cHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXhGUDY0OnIscHJvamVjdDY0X3VWaWV3UHJvamVjdGlvbk1hdHJpeDpyLHByb2plY3Q2NF91U2NhbGU6aX19KSk7dmFyIEk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKGUsdCksbygpKGUsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbTtpZihlIT09UC5hLkxOR0xBVCYmZSE9PVAuYS5ERUZBVUxUKXRocm93IG5ldyBFcnJvcigiZnA2NDogY29vcmRpbmF0ZVN5c3RlbSBtdXN0IGJlIExOR0xBVCIpO3JldHVybnttb2R1bGVzOltNXX19fV0pLGV9KGQuYSk7SS5leHRlbnNpb25OYW1lPSJGcDY0RXh0ZW5zaW9uIjt2YXIgUj1uKDE1NiksTj17aW5qZWN0OnsidnM6I2RlY2wiOiJcbmF0dHJpYnV0ZSB2ZWMyIGluc3RhbmNlRGFzaEFycmF5cztcbnZhcnlpbmcgdmVjMiB2RGFzaEFycmF5O1xuIiwidnM6I21haW4tZW5kIjoiXG52RGFzaEFycmF5ID0gaW5zdGFuY2VEYXNoQXJyYXlzO1xuIiwiZnM6I2RlY2wiOiJcbnVuaWZvcm0gZmxvYXQgZGFzaEFsaWduTW9kZTtcbnZhcnlpbmcgdmVjMiB2RGFzaEFycmF5O1xuZmxvYXQgbW9kMihmbG9hdCBhLCBmbG9hdCBiKSB7XG4gIHJldHVybiBhIC0gZmxvb3IoYSAvIGIpICogYjtcbn1cblxuZmxvYXQgcm91bmQoZmxvYXQgeCkge1xuICByZXR1cm4gZmxvb3IoeCArIDAuNSk7XG59XG4iLCJmczojbWFpbi1zdGFydCI6IlxuICBmbG9hdCBzb2xpZExlbmd0aCA9IHZEYXNoQXJyYXkueDtcbiAgZmxvYXQgZ2FwTGVuZ3RoID0gdkRhc2hBcnJheS55O1xuICBmbG9hdCB1bml0TGVuZ3RoID0gc29saWRMZW5ndGggKyBnYXBMZW5ndGg7XG5cbiAgaWYgKHVuaXRMZW5ndGggPiAwLjApIHtcbiAgICB1bml0TGVuZ3RoID0gbWl4KFxuICAgICAgdW5pdExlbmd0aCxcbiAgICAgIHZQYXRoTGVuZ3RoIC8gcm91bmQodlBhdGhMZW5ndGggLyB1bml0TGVuZ3RoKSxcbiAgICAgIGRhc2hBbGlnbk1vZGVcbiAgICApO1xuXG4gICAgZmxvYXQgb2Zmc2V0ID0gZGFzaEFsaWduTW9kZSAqIHNvbGlkTGVuZ3RoIC8gMi4wO1xuXG4gICAgaWYgKFxuICAgICAgZ2FwTGVuZ3RoID4gMC4wICYmXG4gICAgICB2UGF0aFBvc2l0aW9uLnkgPj0gMC4wICYmXG4gICAgICB2UGF0aFBvc2l0aW9uLnkgPD0gdlBhdGhMZW5ndGggJiZcbiAgICAgIG1vZDIodlBhdGhQb3NpdGlvbi55ICsgb2Zmc2V0LCB1bml0TGVuZ3RoKSA+IHNvbGlkTGVuZ3RoXG4gICAgKSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgfSAgXG4ifX0sRD17aW5qZWN0OnsidnM6I2RlY2wiOiJcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZU9mZnNldHM7XG4iLCJ2czpERUNLR0xfRklMVEVSX1NJWkUiOiJcbiAgZmxvYXQgb2Zmc2V0V2lkdGggPSBhYnMoaW5zdGFuY2VPZmZzZXRzICogMi4wKSArIDEuMDtcbiAgc2l6ZSAqPSBvZmZzZXRXaWR0aDtcbiIsInZDb3JuZXJPZmZzZXQgPSBvZmZzZXRWZWM7IjoiXG4gIGZsb2F0IG9mZnNldFdpZHRoID0gYWJzKGluc3RhbmNlT2Zmc2V0cyAqIDIuMCkgKyAxLjA7XG4gIHZlYzIgb2Zmc2V0Q2VudGVyID0gLWluc3RhbmNlT2Zmc2V0cyAqIChpc0NhcCA/IHBlcnAgOiBtaXRlclZlYyAqIG1pdGVyU2l6ZSkgKiAyLjA7XG4gIHZDb3JuZXJPZmZzZXQgPSB2Q29ybmVyT2Zmc2V0ICogb2Zmc2V0V2lkdGggLSBvZmZzZXRDZW50ZXI7XG4iLCJmczojbWFpbi1zdGFydCI6IlxuICBmbG9hdCBpc0luc2lkZTtcbiAgaXNJbnNpZGUgPSBzdGVwKC0xLjAsIHZQYXRoUG9zaXRpb24ueCkgKiBzdGVwKHZQYXRoUG9zaXRpb24ueCwgMS4wKTtcbiAgaWYgKGlzSW5zaWRlID09IDAuMCkge1xuICAgIGRpc2NhcmQ7XG4gIH1cbiJ9fSxGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10LmRhc2gscj12b2lkIDAhPT1uJiZuLGE9dC5vZmZzZXQsbz12b2lkIDAhPT1hJiZhO3JldHVybiBpKCkodGhpcyxlKSx1KCkodGhpcyxsKCkoZSkuY2FsbCh0aGlzLHtkYXNoOnIsb2Zmc2V0Om99KSl9cmV0dXJuIGYoKShlLHQpLG8oKShlLFt7a2V5OiJpc0VuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXRlLnBhdGhUZXNzZWxhdG9yfX0se2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXQuaXNFbmFibGVkKHRoaXMpKXJldHVybiBudWxsO3ZhciBlPXt9O3JldHVybiB0Lm9wdHMuZGFzaCYmKGU9T2JqZWN0KFIuYSkoZSxOKSksdC5vcHRzLm9mZnNldCYmKGU9T2JqZWN0KFIuYSkoZSxEKSksZX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtuJiZlLmlzRW5hYmxlZCh0aGlzKSYmKGUuZW5hYmxlZD0hMCxlLm9wdHMuZGFzaCYmbi5hZGRJbnN0YW5jZWQoe2luc3RhbmNlRGFzaEFycmF5czp7c2l6ZToyLGFjY2Vzc29yOiJnZXREYXNoQXJyYXkifX0pLGUub3B0cy5vZmZzZXQmJm4uYWRkSW5zdGFuY2VkKHtpbnN0YW5jZU9mZnNldHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0T2Zmc2V0In19KSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlLmlzRW5hYmxlZCh0aGlzKSl7dmFyIG49e307ZS5vcHRzLmRhc2gmJihuLmRhc2hBbGlnbk1vZGU9dGhpcy5wcm9wcy5kYXNoSnVzdGlmaWVkPzE6MCksdGhpcy5zdGF0ZS5tb2RlbC5zZXRVbmlmb3JtcyhuKX19fV0pLGV9KGQuYSk7Ri5leHRlbnNpb25OYW1lPSJQYXRoU3R5bGVFeHRlbnNpb24iLEYuZGVmYXVsdFByb3BzPXtnZXREYXNoQXJyYXk6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX0sZ2V0T2Zmc2V0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sZGFzaEp1c3RpZmllZDohMX0sbi5kKGUsIkJydXNoaW5nRXh0ZW5zaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQoZSwiRGF0YUZpbHRlckV4dGVuc2lvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGUsIkZwNjRFeHRlbnNpb24iLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZChlLCJQYXRoU3R5bGVFeHRlbnNpb24iLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZChlLCJwcm9qZWN0NjQiLChmdW5jdGlvbigpe3JldHVybiBNfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDE3NSksaT1uKDI5MSksYT1uKDIzMSksbz1uKDI3Nikscz1uKDExKSx1PW4oMTg3KSxjPW4oMjc1KSxsPW4oMTkxKSxoPW4oMjIxKSxmPW4oNDgpLGQ9bigyOTApLHY9big4MikscD1uKDExNCksZz1uKDEyNykseT1uKDIyMiksbT1uKDIyMyksYj1uKDI4OCksXz1uKDcxKSxPPW4oNDQpLHg9big2KSx3PW4oMTcpLGs9bigxNSksUz1uKDE4KSxQPW4oMTE1KSxqPXt4OlsyLDAsMV0seTpbMCwxLDJdLHo6WzEsMiwwXX0sVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdCh4LmEpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KFAuYykoInRydW5jYXRlZC1jb2RlLWdlb21ldHJ5Iik6bixpPUUodCksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyx0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShfLmEpO2Z1bmN0aW9uIEUodCl7Zm9yKHZhciBlPXQuYm90dG9tUmFkaXVzLG49dm9pZCAwPT09ZT8wOmUscj10LnRvcFJhZGl1cyxpPXZvaWQgMD09PXI/MDpyLGE9dC5oZWlnaHQsbz12b2lkIDA9PT1hPzE6YSxzPXQubnJhZGlhbCx1PXZvaWQgMD09PXM/MTA6cyxjPXQubnZlcnRpY2FsLGw9dm9pZCAwPT09Yz8xMDpjLGg9dC52ZXJ0aWNhbEF4aXMsZj12b2lkIDA9PT1oPyJ5IjpoLGQ9dC50b3BDYXAsdj12b2lkIDAhPT1kJiZkLHA9dC5ib3R0b21DYXAsZz12b2lkIDAhPT1wJiZwLHk9KHY/MjowKSsoZz8yOjApLG09KHUrMSkqKGwrMSt5KSxiPU1hdGguYXRhbjIobi1pLG8pLF89TWF0aC5zaW4sTz1NYXRoLmNvcyx4PU1hdGguUEksdz1PKGIpLGs9XyhiKSxTPXY/LTI6MCxQPWwrKGc/MjowKSxUPXUrMSxFPW5ldyBVaW50MTZBcnJheSh1KihsK3kpKjYpLEE9altmXSxNPW5ldyBGbG9hdDMyQXJyYXkoMyptKSxDPW5ldyBGbG9hdDMyQXJyYXkoMyptKSxMPW5ldyBGbG9hdDMyQXJyYXkoMiptKSxJPTAsUj0wLE49UztOPD1QO04rKyl7dmFyIEQ9Ti9sLEY9bypELHo9dm9pZCAwO048MD8oRj0wLEQ9MSx6PW4pOk4+bD8oRj1vLEQ9MSx6PWkpOno9bitOL2wqKGktbiksLTIhPT1OJiZOIT09bCsyfHwoej0wLEQ9MCksRi09by8yO2Zvcih2YXIgQj0wO0I8VDtCKyspe3ZhciBVPV8oQip4KjIvdSksVj1PKEIqeCoyL3UpO01bSStBWzBdXT1VKnosTVtJK0FbMV1dPUYsTVtJK0FbMl1dPVYqeixDW0krQVswXV09TjwwfHxOPmw/MDpVKncsQ1tJK0FbMV1dPU48MD8tMTpOPmw/MTprLENbSStBWzJdXT1OPDB8fE4+bD8wOlYqdyxMW1IrMF09Qi91LExbUisxXT1ELFIrPTIsSSs9M319Zm9yKHZhciBHPTA7RzxsK3k7RysrKWZvcih2YXIgVz0wO1c8dTtXKyspe3ZhciBIPTYqKEcqdStXKTtFW0grMF09VCooRyswKSswK1csRVtIKzFdPVQqKEcrMCkrMStXLEVbSCsyXT1UKihHKzEpKzErVyxFW0grM109VCooRyswKSswK1csRVtIKzRdPVQqKEcrMSkrMStXLEVbSCs1XT1UKihHKzEpKzArV31yZXR1cm57aW5kaWNlczpFLGF0dHJpYnV0ZXM6e1BPU0lUSU9OOntzaXplOjMsdmFsdWU6TX0sTk9STUFMOntzaXplOjMsdmFsdWU6Q30sVEVYQ09PUkRfMDp7c2l6ZToyLHZhbHVlOkx9fX19dmFyIEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoeC5hKSh0aGlzLGUpO3ZhciBuPXQuaWQscj12b2lkIDA9PT1uP09iamVjdChQLmMpKCJjb25lLWdlb21ldHJ5Iik6bixpPXQucmFkaXVzLGE9dm9pZCAwPT09aT8xOmksbz10LmNhcCxzPXZvaWQgMD09PW98fG87cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsdG9wUmFkaXVzOjAsdG9wQ2FwOkJvb2xlYW4ocyksYm90dG9tQ2FwOkJvb2xlYW4ocyksYm90dG9tUmFkaXVzOmF9KSkpfXJldHVybiBPYmplY3QoUy5hKShlLHQpLGV9KFQpLE09bigyNzcpLEM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoeC5hKSh0aGlzLGUpO3ZhciBuPXQuaWQscj12b2lkIDA9PT1uP09iamVjdChQLmMpKCJjeWxpbmRlci1nZW9tZXRyeSIpOm4saT10LnJhZGl1cyxhPXZvaWQgMD09PWk/MTppO3JldHVybiBPYmplY3Qody5hKSh0aGlzLE9iamVjdChrLmEpKGUpLmNhbGwodGhpcyxPYmplY3QoTy5hKSh7fSx0LHtpZDpyLGJvdHRvbVJhZGl1czphLHRvcFJhZGl1czphfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShUKSxMPW4oOCksST1bLTEsMCwwLDAsMSwwLDAsMCwtMSwwLDAsMSwwLC0xLDAsMSwwLDBdLFI9WzMsNCw1LDMsNSwxLDMsMSwwLDMsMCw0LDQsMCwyLDQsMiw1LDIsMCwxLDUsMiwxXSxOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KHguYSkodGhpcyxlKTt2YXIgbj10LmlkLHI9dm9pZCAwPT09bj9PYmplY3QoUC5jKSgiaWNvLXNwaGVyZS1nZW9tZXRyeSIpOm4saT1EKHQpLGE9aS5pbmRpY2VzLG89aS5hdHRyaWJ1dGVzO3JldHVybiBPYmplY3Qody5hKSh0aGlzLE9iamVjdChrLmEpKGUpLmNhbGwodGhpcyxPYmplY3QoTy5hKSh7fSx0LHtpZDpyLGluZGljZXM6YSxhdHRyaWJ1dGVzOk9iamVjdChPLmEpKHt9LG8sdC5hdHRyaWJ1dGVzKX0pKSl9cmV0dXJuIE9iamVjdChTLmEpKGUsdCksZX0oXy5hKTtmdW5jdGlvbiBEKHQpe3ZhciBlPXQuaXRlcmF0aW9ucyxuPXZvaWQgMD09PWU/MDplLHI9TWF0aC5QSSxpPTIqcixhPVtdLmNvbmNhdChJKSxvPVtdLmNvbmNhdChSKTthLnB1c2goKSxvLnB1c2goKTtmb3IodmFyIHMsdT0ocz17fSxmdW5jdGlvbih0LGUpe3ZhciBuPSh0Kj0zKT4oZSo9Myk/dDplLHI9IiIuY29uY2F0KHQ8ZT90OmUsInwiKS5jb25jYXQobik7aWYociBpbiBzKXJldHVybiBzW3JdO3ZhciBpPWFbdF0sbz1hW3QrMV0sdT1hW3QrMl0sYz0oaSthW2VdKS8yLGw9KG8rYVtlKzFdKS8yLGg9KHUrYVtlKzJdKS8yLGY9TWF0aC5zcXJ0KGMqYytsKmwraCpoKTtyZXR1cm4gYy89ZixsLz1mLGgvPWYsYS5wdXNoKGMsbCxoKSxzW3JdPWEubGVuZ3RoLzMtMX0pLGM9MDtjPG47YysrKXtmb3IodmFyIGw9W10saD0wO2g8by5sZW5ndGg7aCs9Myl7dmFyIGY9dShvW2grMF0sb1toKzFdKSxkPXUob1toKzFdLG9baCsyXSksdj11KG9baCsyXSxvW2grMF0pO2wucHVzaCh2LG9baCswXSxmLGYsb1toKzFdLGQsZCxvW2grMl0sdixmLGQsdil9bz1sfWZvcih2YXIgcD1uZXcgQXJyYXkoYS5sZW5ndGgpLGc9bmV3IEFycmF5KGEubGVuZ3RoLzMqMikseT1vLmxlbmd0aC0zO3k+PTA7eS09Myl7dmFyIG09b1t5KzBdLGI9b1t5KzFdLF89b1t5KzJdLE89MyptLHg9MypiLHc9MypfLGs9MiptLFM9MipiLFA9MipfLGo9YVtPKzBdLFQ9YVtPKzFdLEU9YVtPKzJdLEE9TWF0aC5hY29zKEUvTWF0aC5zcXJ0KGoqaitUKlQrRSpFKSkvcixNPTEtKE1hdGguYXRhbjIoVCxqKStyKS9pLEM9YVt4KzBdLE49YVt4KzFdLEQ9YVt4KzJdLEY9TWF0aC5hY29zKEQvTWF0aC5zcXJ0KEMqQytOKk4rRCpEKSkvcix6PTEtKE1hdGguYXRhbjIoTixDKStyKS9pLEI9YVt3KzBdLFU9YVt3KzFdLFY9YVt3KzJdLEc9TWF0aC5hY29zKFYvTWF0aC5zcXJ0KEIqQitVKlUrVipWKSkvcixXPTEtKE1hdGguYXRhbjIoVSxCKStyKS9pLEg9W0ItQyxVLU4sVi1EXSxxPVtqLUMsVC1OLEUtRF0sWD1uZXcgTC5kKEgpLmNyb3NzKHEpLm5vcm1hbGl6ZSgpLFo9dm9pZCAwOygwPT09TXx8MD09PXp8fDA9PT1XKSYmKDA9PT1NfHxNPi41KSYmKDA9PT16fHx6Pi41KSYmKDA9PT1XfHxXPi41KSYmKGEucHVzaChhW08rMF0sYVtPKzFdLGFbTysyXSksWj1hLmxlbmd0aC8zLTEsby5wdXNoKFopLGdbMipaKzBdPTEsZ1syKlorMV09QSxwWzMqWiswXT1YLngscFszKlorMV09WC55LHBbMypaKzJdPVgueixhLnB1c2goYVt4KzBdLGFbeCsxXSxhW3grMl0pLFo9YS5sZW5ndGgvMy0xLG8ucHVzaChaKSxnWzIqWiswXT0xLGdbMipaKzFdPUYscFszKlorMF09WC54LHBbMypaKzFdPVgueSxwWzMqWisyXT1YLnosYS5wdXNoKGFbdyswXSxhW3crMV0sYVt3KzJdKSxaPWEubGVuZ3RoLzMtMSxvLnB1c2goWiksZ1syKlorMF09MSxnWzIqWisxXT1HLHBbMypaKzBdPVgueCxwWzMqWisxXT1YLnkscFszKlorMl09WC56KSxwW08rMF09cFt4KzBdPXBbdyswXT1YLngscFtPKzFdPXBbeCsxXT1wW3crMV09WC55LHBbTysyXT1wW3grMl09cFt3KzJdPVgueixnW2srMF09TSxnW2srMV09QSxnW1MrMF09eixnW1MrMV09RixnW1ArMF09VyxnW1ArMV09R31yZXR1cm57aW5kaWNlczp7c2l6ZToxLHZhbHVlOm5ldyBVaW50MTZBcnJheShvKX0sYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGEpfSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KHApfSxURVhDT09SRF8wOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShnKX19fX12YXIgRj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdCh4LmEpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KFAuYykoInBsYW5lLWdlb21ldHJ5Iik6bixpPXoodCksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyx0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShfLmEpO2Z1bmN0aW9uIHoodCl7dmFyIGU9dC50eXBlLG49dm9pZCAwPT09ZT8ieCx5IjplLHI9dC5vZmZzZXQsaT12b2lkIDA9PT1yPzA6cixhPXQuZmxpcEN1bGwsbz12b2lkIDAhPT1hJiZhLHM9dC51bnBhY2ssdT12b2lkIDAhPT1zJiZzLGM9bi5zcGxpdCgiLCIpLGw9dFsiIi5jb25jYXQoY1swXSwibGVuIildfHwxLGg9dFsiIi5jb25jYXQoY1sxXSwibGVuIildfHwxLGY9dFsibiIuY29uY2F0KGNbMF0pXXx8MSxkPXRbIm4iLmNvbmNhdChjWzFdKV18fDEsdj0oZisxKSooZCsxKSxwPW5ldyBGbG9hdDMyQXJyYXkoMyp2KSxnPW5ldyBGbG9hdDMyQXJyYXkoMyp2KSx5PW5ldyBGbG9hdDMyQXJyYXkoMip2KTtvJiYobD0tbCk7Zm9yKHZhciBtPTAsYj0wLF89MDtfPD1kO18rKylmb3IodmFyIE89MDtPPD1mO08rKyl7dmFyIHg9Ty9mLHc9Xy9kO3N3aXRjaCh5W20rMF09bz8xLXg6eCx5W20rMV09dyxuKXtjYXNlIngseSI6cFtiKzBdPWwqeC0uNSpsLHBbYisxXT1oKnctLjUqaCxwW2IrMl09aSxnW2IrMF09MCxnW2IrMV09MCxnW2IrMl09bz8xOi0xO2JyZWFrO2Nhc2UieCx6IjpwW2IrMF09bCp4LS41KmwscFtiKzFdPWkscFtiKzJdPWgqdy0uNSpoLGdbYiswXT0wLGdbYisxXT1vPzE6LTEsZ1tiKzJdPTA7YnJlYWs7Y2FzZSJ5LHoiOnBbYiswXT1pLHBbYisxXT1sKngtLjUqbCxwW2IrMl09aCp3LS41KmgsZ1tiKzBdPW8/MTotMSxnW2IrMV09MCxnW2IrMl09MDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiUGxhbmVHZW9tZXRyeTogdW5rbm93biB0eXBlIil9bSs9MixiKz0zfWZvcih2YXIgaz1mKzEsUz1uZXcgVWludDE2QXJyYXkoZipkKjYpLFA9MDtQPGQ7UCsrKWZvcih2YXIgaj0wO2o8ZjtqKyspe3ZhciBUPTYqKFAqZitqKTtTW1QrMF09KFArMCkqaytqLFNbVCsxXT0oUCsxKSprK2osU1tUKzJdPShQKzApKmsraisxLFNbVCszXT0oUCsxKSprK2osU1tUKzRdPShQKzEpKmsraisxLFNbVCs1XT0oUCswKSprK2orMX12YXIgRT17aW5kaWNlczp7c2l6ZToxLHZhbHVlOlN9LGF0dHJpYnV0ZXM6e1BPU0lUSU9OOntzaXplOjMsdmFsdWU6cH0sTk9STUFMOntzaXplOjMsdmFsdWU6Z30sVEVYQ09PUkRfMDp7c2l6ZToyLHZhbHVlOnl9fX07cmV0dXJuIHU/ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmRpY2VzLG49dC5hdHRyaWJ1dGVzO2lmKCFlKXJldHVybiB0O3ZhciByPWUudmFsdWUubGVuZ3RoLGk9e307Zm9yKHZhciBhIGluIG4pe3ZhciBvPW5bYV0scz1vLmNvbnN0YW50LHU9by52YWx1ZSxjPW8uc2l6ZTtpZighcyYmYyl7Zm9yKHZhciBsPW5ldyB1LmNvbnN0cnVjdG9yKHIqYyksaD0wO2g8cjsrK2gpZm9yKHZhciBmPWUudmFsdWVbaF0sZD0wO2Q8YztkKyspbFtoKmMrZF09dVtmKmMrZF07aVthXT17c2l6ZTpjLHZhbHVlOmx9fX1yZXR1cm57YXR0cmlidXRlczpPYmplY3QuYXNzaWduKHt9LG4saSl9fShFKTpFfXZhciBCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KHguYSkodGhpcyxlKTt2YXIgbj10LmlkLHI9dm9pZCAwPT09bj9PYmplY3QoUC5jKSgic3BoZXJlLWdlb21ldHJ5Iik6bixpPVUodCksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KGsuYSkoZSkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LHQse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyx0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSx0KSxlfShfLmEpO2Z1bmN0aW9uIFUodCl7dmFyIGU9dC5ubGF0LG49dm9pZCAwPT09ZT8xMDplLHI9dC5ubG9uZyxpPXZvaWQgMD09PXI/MTA6cixhPXQucmFkaXVzLG89dm9pZCAwPT09YT8xOmEscz1NYXRoLlBJLTAsdT0yKk1hdGguUEktMCxjPShuKzEpKihpKzEpO2lmKCJudW1iZXIiPT10eXBlb2Ygbyl7dmFyIGw9bztvPWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIGx9fWZvcih2YXIgaD1uZXcgRmxvYXQzMkFycmF5KDMqYyksZj1uZXcgRmxvYXQzMkFycmF5KDMqYyksZD1uZXcgRmxvYXQzMkFycmF5KDIqYyksdj1uZXcoYz42NTUzNT9VaW50MzJBcnJheTpVaW50MTZBcnJheSkobippKjYpLHA9MDtwPD1uO3ArKylmb3IodmFyIGc9MDtnPD1pO2crKyl7dmFyIHk9Zy9pLG09cC9uLGI9ZytwKihpKzEpLF89MipiLE89MypiLHg9dSp5LHc9cyptLGs9TWF0aC5zaW4oeCksUz1NYXRoLmNvcyh4KSxQPU1hdGguc2luKHcpLGo9UypQLFQ9TWF0aC5jb3ModyksRT1rKlAsQT1vKGosVCxFLHksbSk7aFtPKzBdPUEqaixoW08rMV09QSpULGhbTysyXT1BKkUsZltPKzBdPWosZltPKzFdPVQsZltPKzJdPUUsZFtfKzBdPXksZFtfKzFdPTEtbX1mb3IodmFyIE09aSsxLEM9MDtDPGk7QysrKWZvcih2YXIgTD0wO0w8bjtMKyspe3ZhciBJPTYqKEMqbitMKTt2W0krMF09TCpNK0MsdltJKzFdPUwqTStDKzEsdltJKzJdPShMKzEpKk0rQyx2W0krM109KEwrMSkqTStDLHZbSSs0XT1MKk0rQysxLHZbSSs1XT0oTCsxKSpNK0MrMX1yZXR1cm57aW5kaWNlczp7c2l6ZToxLHZhbHVlOnZ9LGF0dHJpYnV0ZXM6e1BPU0lUSU9OOntzaXplOjMsdmFsdWU6aH0sTk9STUFMOntzaXplOjMsdmFsdWU6Zn0sVEVYQ09PUkRfMDp7c2l6ZToyLHZhbHVlOmR9fX19bi5kKGUsIk1vZGVsIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5hfSkpLG4uZChlLCJUcmFuc2Zvcm0iLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSksbi5kKGUsIlByb2dyYW1NYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5hfSkpLG4uZChlLCJUaW1lbGluZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG8uYX0pKSxuLmQoZSwiaW5zdHJ1bWVudEdMQ29udGV4dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZX0pKSxuLmQoZSwiaXNXZWJHTDIiLChmdW5jdGlvbigpe3JldHVybiBzLmd9KSksbi5kKGUsIkZFQVRVUkVTIiwoZnVuY3Rpb24oKXtyZXR1cm4gdS5hfSkpLG4uZChlLCJoYXNGZWF0dXJlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY30pKSxuLmQoZSwiZ2V0UGFyYW1ldGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZH0pKSxuLmQoZSwic2V0UGFyYW1ldGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMua30pKSxuLmQoZSwid2l0aFBhcmFtZXRlcnMiLChmdW5jdGlvbigpe3JldHVybiBzLmx9KSksbi5kKGUsImNzc1RvRGV2aWNlUmF0aW8iLChmdW5jdGlvbigpe3JldHVybiBzLmN9KSksbi5kKGUsInJlYWRQaXhlbHNUb0J1ZmZlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuZH0pKSxuLmQoZSwiY29weVRvVGV4dHVyZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuYn0pKSxuLmQoZSwiY2xvbmVUZXh0dXJlRnJvbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGguYX0pKSxuLmQoZSwiQnVmZmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZi5hfSkpLG4uZChlLCJQcm9ncmFtIiwoZnVuY3Rpb24oKXtyZXR1cm4gZC5hfSkpLG4uZChlLCJGcmFtZWJ1ZmZlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHYuYX0pKSxuLmQoZSwiUmVuZGVyYnVmZmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gcC5hfSkpLG4uZChlLCJUZXh0dXJlMkQiLChmdW5jdGlvbigpe3JldHVybiBnLmF9KSksbi5kKGUsIlRleHR1cmVDdWJlIiwoZnVuY3Rpb24oKXtyZXR1cm4geS5hfSkpLG4uZChlLCJUZXh0dXJlM0QiLChmdW5jdGlvbigpe3JldHVybiBtLmF9KSksbi5kKGUsIlRyYW5zZm9ybUZlZWRiYWNrIiwoZnVuY3Rpb24oKXtyZXR1cm4gYi5hfSkpLG4uZChlLCJHZW9tZXRyeSIsKGZ1bmN0aW9uKCl7cmV0dXJuIF8uYX0pKSxuLmQoZSwiQ29uZUdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQoZSwiQ3ViZUdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gTS5hfSkpLG4uZChlLCJDeWxpbmRlckdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQoZSwiSWNvU3BoZXJlR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLG4uZChlLCJQbGFuZUdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gRn0pKSxuLmQoZSwiU3BoZXJlR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChlLCJUcnVuY2F0ZWRDb25lR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBUfSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMjEyKTtmdW5jdGlvbiB1KHQpe3ZhciBlPXQuZ2V0UGFuZXMoKS5vdmVybGF5TGF5ZXIsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUifSksZS5hcHBlbmRDaGlsZChuKSxufWZ1bmN0aW9uIGModCl7dmFyIGU9dC5wcm9wcy51c2VyRGF0YS5fZXZlbnRMaXN0ZW5lcnM7Zm9yKHZhciBuIGluIGUpZVtuXS5yZW1vdmUoKTt0LmZpbmFsaXplKCksdC5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0LmNhbnZhcyl9dmFyIGw9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSgpKHRoaXMsdCksdGhpcy5wcm9wcz17fSx0aGlzLl9tYXA9bnVsbDt2YXIgbj1uZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXc7bi5vbkFkZD10aGlzLl9vbkFkZC5iaW5kKHRoaXMpLG4ub25SZW1vdmU9dGhpcy5fb25SZW1vdmUuYmluZCh0aGlzKSxuLmRyYXc9dGhpcy5fZHJhdy5iaW5kKHRoaXMpLHRoaXMuX292ZXJsYXk9bix0aGlzLnNldFByb3BzKGUpfXJldHVybiBvKCkodCxbe2tleToic2V0TWFwIix2YWx1ZTpmdW5jdGlvbih0KXt0IT09dGhpcy5fbWFwJiYodGhpcy5fbWFwJiYodGhpcy5fb3ZlcmxheS5zZXRNYXAobnVsbCksdGhpcy5fbWFwPW51bGwpLHQmJih0aGlzLl9tYXA9dCx0aGlzLl9vdmVybGF5LnNldE1hcCh0KSkpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyx0KSx0aGlzLl9kZWNrJiZ0aGlzLl9kZWNrLnNldFByb3BzKHRoaXMucHJvcHMpfX0se2tleToicGlja09iamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlY2smJnRoaXMuX2RlY2sucGlja09iamVjdCh0KX19LHtrZXk6InBpY2tNdWx0aXBsZU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWNrJiZ0aGlzLl9kZWNrLnBpY2tNdWx0aXBsZU9iamVjdHModCl9fSx7a2V5OiJwaWNrT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlY2smJnRoaXMuX2RlY2sucGlja09iamVjdHModCl9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldE1hcChudWxsKSx0aGlzLl9kZWNrJiYoYyh0aGlzLl9kZWNrKSx0aGlzLl9kZWNrPW51bGwpfX0se2tleToiX29uQWRkIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2RlY2s9ZnVuY3Rpb24odCxlLG4pe2lmKG4pe2lmKG4ucHJvcHMudXNlckRhdGEuX2dvb2dsZU1hcD09PXQpcmV0dXJuIG47YyhuKX12YXIgcj17Y2xpY2s6bnVsbCxtb3VzZW1vdmU6bnVsbCxtb3VzZW91dDpudWxsfTtuPW5ldyBzLmEoe2NhbnZhczp1KGUpLGluaXRpYWxWaWV3U3RhdGU6e2xvbmdpdHVkZTowLGxhdGl0dWRlOjAsem9vbToxfSxjb250cm9sbGVyOiExLHVzZXJEYXRhOntfZ29vZ2xlTWFwOnQsX2V2ZW50TGlzdGVuZXJzOnJ9fSk7dmFyIGk9ZnVuY3Rpb24oZSl7cltlXT10LmFkZExpc3RlbmVyKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIHI7c3dpdGNoKGUpe2Nhc2UiY2xpY2siOnQuX2xhc3RQb2ludGVyRG93bkluZm89dC5waWNrT2JqZWN0KHt4Om4ucGl4ZWwueCx5Om4ucGl4ZWwueX0pLHI9dC5fb25FdmVudDticmVhaztjYXNlIm1vdXNlbW92ZSI6ZT0icG9pbnRlcm1vdmUiLHI9dC5fb25Qb2ludGVyTW92ZTticmVhaztjYXNlIm1vdXNlb3V0IjplPSJwb2ludGVybGVhdmUiLHI9dC5fb25Qb2ludGVyTW92ZTticmVhaztkZWZhdWx0OnJldHVybn1yKHt0eXBlOmUsb2Zmc2V0Q2VudGVyOm4ucGl4ZWwsc3JjRXZlbnQ6bn0pfShuLGUsdCl9KSl9O2Zvcih2YXIgYSBpbiByKWkoYSk7cmV0dXJuIG59KHRoaXMuX21hcCx0aGlzLl9vdmVybGF5LHRoaXMuX2RlY2spLHRoaXMuX2RlY2suc2V0UHJvcHModGhpcy5wcm9wcyl9fSx7a2V5OiJfb25SZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVjay5zZXRQcm9wcyh7bGF5ZXJGaWx0ZXI6bH0pfX0se2tleToiX2RyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGVjayxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREaXYoKS5maXJzdENoaWxkLHI9bi5vZmZzZXRXaWR0aCxpPW4ub2Zmc2V0SGVpZ2h0LGE9ZS5nZXRQcm9qZWN0aW9uKCksbz10LmdldEJvdW5kcygpLHM9by5nZXROb3J0aEVhc3QoKSx1PW8uZ2V0U291dGhXZXN0KCksYz1hLmZyb21MYXRMbmdUb0RpdlBpeGVsKHMpLGw9YS5mcm9tTGF0TG5nVG9EaXZQaXhlbCh1KSxoPW5ldyBnb29nbGUubWFwcy5Qb2ludCgwLDApLGY9YS5mcm9tQ29udGFpbmVyUGl4ZWxUb0xhdExuZyhoKSxkPWEuZnJvbUxhdExuZ1RvRGl2UGl4ZWwoZiksdj1kLngscD1kLnksZz1hLmdldFdvcmxkV2lkdGgoKSx5PU1hdGguY2VpbChyL2cpO3YtPU1hdGguZmxvb3IoeS8yKSpnO3ZhciBtPWk/KGwueS1jLnkpL2k6MSxiPU1hdGgubG9nMihtfHwxKSt0LmdldFpvb20oKS0xLF89bmV3IGdvb2dsZS5tYXBzLlBvaW50KHIvMixpLzIpLE89YS5mcm9tQ29udGFpbmVyUGl4ZWxUb0xhdExuZyhfKSx4PU8ubGF0KCksdz1PLmxuZygpO2lmKE1hdGguYWJzKHgpPjg1LjA1MTEzKXt4PXg+MD84NS4wNTExMzotODUuMDUxMTM7dmFyIGs9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyh4LHcpO3ArPShfPWEuZnJvbUxhdExuZ1RvQ29udGFpbmVyUGl4ZWwoaykpLnktaS8yfXJldHVybnt3aWR0aDpyLGhlaWdodDppLGxlZnQ6dix0b3A6cCx6b29tOmIscGl0Y2g6dC5nZXRUaWx0KCksbGF0aXR1ZGU6eCxsb25naXR1ZGU6d319KHRoaXMuX21hcCx0aGlzLl9vdmVybGF5KSxuPWUud2lkdGgscj1lLmhlaWdodCxpPWUubGVmdCxhPWUudG9wLG89ZS56b29tLHM9ZS5waXRjaCx1PWUubGF0aXR1ZGUsYz1lLmxvbmdpdHVkZSxoPTA9PT1zO3QuY2FudmFzLnN0eWxlLmxlZnQ9IiIuY29uY2F0KGksInB4IiksdC5jYW52YXMuc3R5bGUudG9wPSIiLmNvbmNhdChhLCJweCIpLHQuc2V0UHJvcHMoe3dpZHRoOm4saGVpZ2h0OnIsdmlld1N0YXRlOntsYXRpdHVkZTp1LGxvbmdpdHVkZTpjLHpvb206byxyZXBlYXQ6ITB9LGxheWVyRmlsdGVyOmg/dGhpcy5wcm9wcy5sYXllckZpbHRlcjpsfSksdC5yZWRyYXcoKX19XSksdH0oKTtuLmQoZSwiR29vZ2xlTWFwc092ZXJsYXkiLChmdW5jdGlvbigpe3JldHVybiBofSkpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24ucihlKTt2YXIgcj1uKDEpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMTkpLHU9bi5uKHMpLGM9bigyMTIpLGw9bigxNTEpO2Z1bmN0aW9uIGgodCl7dmFyIGU9dC5tYXAsbj10LmdsLHI9dC5kZWNrO2lmKGUuX19kZWNrKXJldHVybiBlLl9fZGVjazt2YXIgaT1yJiZyLnByb3BzLl9jdXN0b21SZW5kZXIsYT17dXNlRGV2aWNlUGl4ZWxzOiEwLF9jdXN0b21SZW5kZXI6ZnVuY3Rpb24oKXtlLnRyaWdnZXJSZXBhaW50KCksaSYmaSgpfSxwYXJhbWV0ZXJzOntkZXB0aE1hc2s6ITAsZGVwdGhUZXN0OiEwLGJsZW5kRnVuYzpbNzcwLDc3MSwxLDc3MV0sYmxlbmRFcXVhdGlvbjozMjc3NH0sdXNlckRhdGE6e2lzRXh0ZXJuYWw6ITEsbWFwYm94TGF5ZXJzOm5ldyBTZXR9fTtyZXR1cm4gcj8oci5zZXRQcm9wcyhhKSxyLnByb3BzLnVzZXJEYXRhLmlzRXh0ZXJuYWw9ITApOihPYmplY3QuYXNzaWduKGEse2dsOm4sd2lkdGg6ITEsaGVpZ2h0OiExLHZpZXdTdGF0ZTpmKGUpfSkscj1uZXcgYy5hKGEpLGUub24oIm1vdmUiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3Quc2V0UHJvcHMoe3ZpZXdTdGF0ZTpmKGUpfSksdC5uZWVkc1JlZHJhdyh7Y2xlYXJSZWRyYXdGbGFnczohMH0pfShyLGUpfSkpLGUub24oInJlbW92ZSIsKGZ1bmN0aW9uKCl7ci5maW5hbGl6ZSgpLGUuX19kZWNrPW51bGx9KSkpLHIucHJvcHMudXNlckRhdGEubWFwYm94VmVyc2lvbj1mdW5jdGlvbih0KXt2YXIgZT0wLG49MDtpZih0LnZlcnNpb24pe3ZhciByPXQudmVyc2lvbi5zcGxpdCgiLiIpLnNsaWNlKDAsMikubWFwKE51bWJlciksaT11KCkociwyKTtlPWlbMF0sbj1pWzFdfXJldHVybnttYWpvcjplLG1pbm9yOm59fShlKSxlLl9fZGVjaz1yLGUub24oInJlbmRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wcm9wcy51c2VyRGF0YSxyPW4ubWFwYm94TGF5ZXJzO2lmKG4uaXNFeHRlcm5hbCl7dmFyIGk9QXJyYXkuZnJvbShyLChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSxhPXYodCwoZnVuY3Rpb24odCl7dmFyIGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89aVtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShhPW8ubmV4dCgpKS5kb25lKTtlPSEwKXtpZihwKGEudmFsdWUsdCkpcmV0dXJuITF9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1yZXR1cm4hMH0pKTthLmxlbmd0aD4wJiZ0Ll9kcmF3TGF5ZXJzKCJtYXBib3gtcmVwYWludCIse3ZpZXdwb3J0czpbZCh0LGUsITEpXSxsYXllcnM6YSxjbGVhckNhbnZhczohMX0pfXQucHJvcHMudXNlckRhdGEuY3VycmVudFZpZXdwb3J0PW51bGx9KHIsZSl9KSkscn1mdW5jdGlvbiBmKHQpe3ZhciBlPXQuZ2V0Q2VudGVyKCk7cmV0dXJue2xvbmdpdHVkZTplLmxuZyxsYXRpdHVkZTplLmxhdCx6b29tOnQuZ2V0Wm9vbSgpLGJlYXJpbmc6dC5nZXRCZWFyaW5nKCkscGl0Y2g6dC5nZXRQaXRjaCgpfX1mdW5jdGlvbiBkKHQsZSl7dmFyIG49IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxyPXQucHJvcHMudXNlckRhdGEubWFwYm94VmVyc2lvbjtyZXR1cm4gbmV3IGwuYShPYmplY3QuYXNzaWduKHt4OjAseTowLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHJlcGVhdDohMH0sZihlKSxuP3tuZWFyWk11bHRpcGxpZXI6MT09PXIubWFqb3ImJnIubWlub3I+PTN8fHIubWFqb3I+PTI/LjAyOjEvKHQuaGVpZ2h0fHwxKX06e25lYXJaTXVsdGlwbGllcjouMX0pKX1mdW5jdGlvbiB2KHQsZSl7cmV0dXJuIHQubGF5ZXJNYW5hZ2VyLmdldExheWVycygpLmZpbHRlcihlKX1mdW5jdGlvbiBwKHQsZSl7Zm9yKHZhciBuPWU7bjspe2lmKG4uaWQ9PT10KXJldHVybiEwO249bi5wYXJlbnR9cmV0dXJuITF9ZnVuY3Rpb24gZyh0KXtpZighdC5wcm9wcy51c2VyRGF0YS5pc0V4dGVybmFsKXt2YXIgZT1bXTt0LnByb3BzLnVzZXJEYXRhLm1hcGJveExheWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1uZXcoMCx0LnByb3BzLnR5cGUpKHQucHJvcHMpO2UucHVzaChuKX0pKSx0LnNldFByb3BzKHtsYXllcnM6ZX0pfX12YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYoaSgpKHRoaXMsdCksIWUuaWQpdGhyb3cgbmV3IEVycm9yKCJMYXllciBtdXN0IGhhdmUgYW4gdW5pcXVlIGlkIik7dGhpcy5pZD1lLmlkLHRoaXMudHlwZT0iY3VzdG9tIix0aGlzLnJlbmRlcmluZ01vZGU9ZS5yZW5kZXJpbmdNb2RlfHwiM2QiLHRoaXMubWFwPW51bGwsdGhpcy5kZWNrPW51bGwsdGhpcy5wcm9wcz1lfXJldHVybiBvKCkodCxbe2tleToib25BZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scjt0aGlzLm1hcD10LHRoaXMuZGVjaz1oKHttYXA6dCxnbDplLGRlY2s6dGhpcy5wcm9wcy5kZWNrfSksbj10aGlzLmRlY2sscj10aGlzLG4ucHJvcHMudXNlckRhdGEubWFwYm94TGF5ZXJzLmFkZChyKSxnKG4pfX0se2tleToib25SZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZTt0PXRoaXMuZGVjayxlPXRoaXMsdC5wcm9wcy51c2VyRGF0YS5tYXBib3hMYXllcnMuZGVsZXRlKGUpLGcodCl9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLHQse2lkOnRoaXMuaWR9KSx0aGlzLmRlY2smJmcodGhpcy5kZWNrKX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksYTtuPXRoaXMuZGVjayxyPXRoaXMubWFwLGk9dGhpcywoYT1uLnByb3BzLnVzZXJEYXRhLmN1cnJlbnRWaWV3cG9ydCl8fChhPWQobixyLCEwKSxuLnByb3BzLnVzZXJEYXRhLmN1cnJlbnRWaWV3cG9ydD1hKSxuLl9kcmF3TGF5ZXJzKCJtYXBib3gtcmVwYWludCIse3ZpZXdwb3J0czpbYV0sbGF5ZXJzOnYobiwoZnVuY3Rpb24odCl7cmV0dXJuIHAoaS5pZCx0KX0pKSxjbGVhckNhbnZhczohMX0pfX1dKSx0fSgpO24uZChlLCJNYXBib3hMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7bi5yKGUpO3ZhciByPW4oNCksaT1uLm4ociksYT1uKDEpLG89bi5uKGEpLHM9bigyKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDMpLGY9bi5uKGgpLGQ9bigxMiksdj1uLm4oZCkscD1uKDEwKSxnPW4ubihwKSx5PW4oNiksbT1uKDcpLGI9bigwKSxfPW4oNDApLE89bi5uKF8pLHg9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpnbG9iYWwsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdywidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50Ont9KTt2YXIgdz17Y29udGFpbmVyOk8uYS5vYmplY3QsZ2w6Ty5hLm9iamVjdCxtYXBib3hBcGlBY2Nlc3NUb2tlbjpPLmEuc3RyaW5nLG1hcGJveEFwaVVybDpPLmEuc3RyaW5nLGF0dHJpYnV0aW9uQ29udHJvbDpPLmEuYm9vbCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6Ty5hLmJvb2wscmV1c2VNYXBzOk8uYS5ib29sLHRyYW5zZm9ybVJlcXVlc3Q6Ty5hLmZ1bmMsbWFwT3B0aW9uczpPLmEub2JqZWN0LG1hcFN0eWxlOk8uYS5vbmVPZlR5cGUoW08uYS5zdHJpbmcsTy5hLm9iamVjdF0pLHZpc2libGU6Ty5hLmJvb2wsYXN5bmNSZW5kZXI6Ty5hLmJvb2wsb25Mb2FkOk8uYS5mdW5jLG9uRXJyb3I6Ty5hLmZ1bmMsd2lkdGg6Ty5hLm51bWJlcixoZWlnaHQ6Ty5hLm51bWJlcix2aWV3U3RhdGU6Ty5hLm9iamVjdCxsb25naXR1ZGU6Ty5hLm51bWJlcixsYXRpdHVkZTpPLmEubnVtYmVyLHpvb206Ty5hLm51bWJlcixiZWFyaW5nOk8uYS5udW1iZXIscGl0Y2g6Ty5hLm51bWJlcixhbHRpdHVkZTpPLmEubnVtYmVyfSxrPXtjb250YWluZXI6eC5ib2R5LG1hcGJveEFwaUFjY2Vzc1Rva2VuOmZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uKXt2YXIgZT13aW5kb3cubG9jYXRpb24uc2VhcmNoLm1hdGNoKC9hY2Nlc3NfdG9rZW49KFteJlwvXSopLyk7dD1lJiZlWzFdfXR8fCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzc3x8KHQ9dHx8cHJvY2Vzcy5lbnYuTWFwYm94QWNjZXNzVG9rZW58fHByb2Nlc3MuZW52LlJFQUNUX0FQUF9NQVBCT1hfQUNDRVNTX1RPS0VOKTtyZXR1cm4gdHx8Im5vLXRva2VuIn0oKSxtYXBib3hBcGlVcmw6Imh0dHBzOi8vYXBpLm1hcGJveC5jb20iLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAscmV1c2VNYXBzOiExLG1hcE9wdGlvbnM6e30sbWFwU3R5bGU6Im1hcGJveDovL3N0eWxlcy9tYXBib3gvbGlnaHQtdjgiLHZpc2libGU6ITAsYXN5bmNSZW5kZXI6ITEsb25Mb2FkOmZ1bmN0aW9uKCl7fSxvbkVycm9yOmZ1bmN0aW9uKHQpe3QmJmNvbnNvbGUuZXJyb3IodC5lcnJvcil9LHdpZHRoOjAsaGVpZ2h0OjAsbG9uZ2l0dWRlOjAsbGF0aXR1ZGU6MCx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsYWx0aXR1ZGU6MS41fTtmdW5jdGlvbiBTKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiY29tcG9uZW50Ijt0LmRlYnVnJiZPLmEuY2hlY2tQcm9wVHlwZXModyx0LCJwcm9wIixlKX12YXIgUD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpcztpZihPYmplY3QoeS5hKSh0aGlzLHQpLE9iamVjdChiLmEpKHRoaXMsIm1hcGJveGdsIix2b2lkIDApLE9iamVjdChiLmEpKHRoaXMsInByb3BzIixrKSxPYmplY3QoYi5hKSh0aGlzLCJfbWFwIixudWxsKSxPYmplY3QoYi5hKSh0aGlzLCJ3aWR0aCIsMCksT2JqZWN0KGIuYSkodGhpcywiaGVpZ2h0IiwwKSxPYmplY3QoYi5hKSh0aGlzLCJfZmlyZUxvYWRFdmVudCIsKGZ1bmN0aW9uKCl7bi5wcm9wcy5vbkxvYWQoe3R5cGU6ImxvYWQiLHRhcmdldDpuLl9tYXB9KX0pKSwhZS5tYXBib3hnbCl0aHJvdyBuZXcgRXJyb3IoIk1hcGJveCBub3QgYXZhaWxhYmxlIik7dGhpcy5tYXBib3hnbD1lLm1hcGJveGdsLHQuaW5pdGlhbGl6ZWR8fCh0LmluaXRpYWxpemVkPSEwLHRoaXMuX2NoZWNrU3R5bGVTaGVldCh0aGlzLm1hcGJveGdsLnZlcnNpb24pKSx0aGlzLl9pbml0aWFsaXplKGUpfXJldHVybiBPYmplY3QobS5hKSh0LFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzdHJveSgpLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZSh0aGlzLnByb3BzLHQpLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC5yZXNpemUoKSx0aGlzfX0se2tleToicmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDt0LnN0eWxlJiYodC5fZnJhbWUmJih0Ll9mcmFtZS5jYW5jZWwoKSx0Ll9mcmFtZT1udWxsKSx0Ll9yZW5kZXIoKSl9fSx7a2V5OiJnZXRNYXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcH19LHtrZXk6Il9yZXVzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbWFwPXQuc2F2ZWRNYXA7dmFyIG49dGhpcy5fbWFwLmdldENvbnRhaW5lcigpLHI9ZS5jb250YWluZXI7Zm9yKHIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtbWFwIik7bi5jaGlsZE5vZGVzLmxlbmd0aD4wOylyLmFwcGVuZENoaWxkKG4uY2hpbGROb2Rlc1swXSk7dGhpcy5fbWFwLl9jb250YWluZXI9cix0LnNhdmVkTWFwPW51bGwsZS5tYXBTdHlsZSYmdGhpcy5fbWFwLnNldFN0eWxlKGUubWFwU3R5bGUse2RpZmY6ITF9KSx0aGlzLl9tYXAuaXNTdHlsZUxvYWRlZCgpP3RoaXMuX2ZpcmVMb2FkRXZlbnQoKTp0aGlzLl9tYXAub25jZSgic3R5bGVkYXRhIix0aGlzLl9maXJlTG9hZEV2ZW50KX19LHtrZXk6Il9jcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUucmV1c2VNYXBzJiZ0LnNhdmVkTWFwKXRoaXMuX3JldXNlKGUpO2Vsc2V7aWYoZS5nbCl7dmFyIG49SFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ7SFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ9bixlLmdsfX12YXIgcj17Y29udGFpbmVyOmUuY29udGFpbmVyLGNlbnRlcjpbMCwwXSx6b29tOjgscGl0Y2g6MCxiZWFyaW5nOjAsbWF4Wm9vbToyNCxzdHlsZTplLm1hcFN0eWxlLGludGVyYWN0aXZlOiExLHRyYWNrUmVzaXplOiExLGF0dHJpYnV0aW9uQ29udHJvbDplLmF0dHJpYnV0aW9uQ29udHJvbCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXJ9O2UudHJhbnNmb3JtUmVxdWVzdCYmKHIudHJhbnNmb3JtUmVxdWVzdD1lLnRyYW5zZm9ybVJlcXVlc3QpLHRoaXMuX21hcD1uZXcgdGhpcy5tYXBib3hnbC5NYXAoT2JqZWN0LmFzc2lnbih7fSxyLGUubWFwT3B0aW9ucykpLHRoaXMuX21hcC5vbmNlKCJsb2FkIixlLm9uTG9hZCksdGhpcy5fbWFwLm9uKCJlcnJvciIsZS5vbkVycm9yKX1yZXR1cm4gdGhpc319LHtrZXk6Il9kZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmKHQuc2F2ZWRNYXA/dGhpcy5fbWFwLnJlbW92ZSgpOih0LnNhdmVkTWFwPXRoaXMuX21hcCx0aGlzLl9tYXAub2ZmKCJsb2FkIix0aGlzLnByb3BzLm9uTG9hZCksdGhpcy5fbWFwLm9mZigiZXJyb3IiLHRoaXMucHJvcHMub25FcnJvciksdGhpcy5fbWFwLm9mZigic3R5bGVkYXRhIix0aGlzLl9maXJlTG9hZEV2ZW50KSksdGhpcy5fbWFwPW51bGwpfX0se2tleToiX2luaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Uyh0PU9iamVjdC5hc3NpZ24oe30sayx0KSwiTWFwYm94IiksdGhpcy5tYXBib3hnbC5hY2Nlc3NUb2tlbj10Lm1hcGJveEFwaUFjY2Vzc1Rva2VufHxrLm1hcGJveEFwaUFjY2Vzc1Rva2VuLHRoaXMubWFwYm94Z2wuYmFzZUFwaVVybD10Lm1hcGJveEFwaVVybCx0aGlzLl9jcmVhdGUodCk7dmFyIG49dC5jb250YWluZXI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIm9mZnNldFdpZHRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sImNsaWVudFdpZHRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIm9mZnNldEhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLmhlaWdodH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiY2xpZW50SGVpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuaGVpZ2h0fX0pO3ZhciByPXRoaXMuX21hcC5nZXRDYW52YXMoKTtyJiYoci5zdHlsZS5vdXRsaW5lPSJub25lIiksdGhpcy5fdXBkYXRlTWFwVmlld3BvcnQoe30sdCksdGhpcy5fdXBkYXRlTWFwU2l6ZSh7fSx0KSx0aGlzLnByb3BzPXR9fSx7a2V5OiJfdXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX21hcCl7UyhlPU9iamVjdC5hc3NpZ24oe30sdGhpcy5wcm9wcyxlKSwiTWFwYm94Iik7dmFyIG49dGhpcy5fdXBkYXRlTWFwVmlld3BvcnQodCxlKSxyPXRoaXMuX3VwZGF0ZU1hcFNpemUodCxlKTtlLmFzeW5jUmVuZGVyfHwhbiYmIXJ8fHRoaXMucmVkcmF3KCksdGhpcy5wcm9wcz1lfX19LHtrZXk6Il91cGRhdGVNYXBTaXplIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQud2lkdGghPT1lLndpZHRofHx0LmhlaWdodCE9PWUuaGVpZ2h0O3JldHVybiBuJiYodGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMucmVzaXplKCkpLG59fSx7a2V5OiJfdXBkYXRlTWFwVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2V0Vmlld1N0YXRlKHQpLHI9dGhpcy5fZ2V0Vmlld1N0YXRlKGUpLGk9ci5sYXRpdHVkZSE9PW4ubGF0aXR1ZGV8fHIubG9uZ2l0dWRlIT09bi5sb25naXR1ZGV8fHIuem9vbSE9PW4uem9vbXx8ci5waXRjaCE9PW4ucGl0Y2h8fHIuYmVhcmluZyE9PW4uYmVhcmluZ3x8ci5hbHRpdHVkZSE9PW4uYWx0aXR1ZGU7cmV0dXJuIGkmJih0aGlzLl9tYXAuanVtcFRvKHRoaXMuX3ZpZXdTdGF0ZVRvTWFwYm94UHJvcHMocikpLHIuYWx0aXR1ZGUhPT1uLmFsdGl0dWRlJiYodGhpcy5fbWFwLnRyYW5zZm9ybS5hbHRpdHVkZT1yLmFsdGl0dWRlKSksaX19LHtrZXk6Il9nZXRWaWV3U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld1N0YXRlfHx0LG49ZS5sb25naXR1ZGUscj1lLmxhdGl0dWRlLGk9ZS56b29tLGE9ZS5waXRjaCxvPXZvaWQgMD09PWE/MDphLHM9ZS5iZWFyaW5nLHU9dm9pZCAwPT09cz8wOnMsYz1lLmFsdGl0dWRlO3JldHVybntsb25naXR1ZGU6bixsYXRpdHVkZTpyLHpvb206aSxwaXRjaDpvLGJlYXJpbmc6dSxhbHRpdHVkZTp2b2lkIDA9PT1jPzEuNTpjfX19LHtrZXk6Il9jaGVja1N0eWxlU2hlZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiIwLjQ3LjAiO2lmKHZvaWQgMCE9PXgpdHJ5e3ZhciBlPXguY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5jbGFzc05hbWU9Im1hcGJveGdsLW1hcCIsZS5zdHlsZS5kaXNwbGF5PSJub25lIix4LmJvZHkuYXBwZW5kKGUpO3ZhciBuPSJzdGF0aWMiIT09d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkucG9zaXRpb247aWYoIW4pe3ZhciByPXguY3JlYXRlRWxlbWVudCgibGluayIpO3Iuc2V0QXR0cmlidXRlKCJyZWwiLCJzdHlsZXNoZWV0Iiksci5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpLHIuc2V0QXR0cmlidXRlKCJocmVmIiwiaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvdiIuY29uY2F0KHQsIi9tYXBib3gtZ2wuY3NzIikpLHguaGVhZC5hcHBlbmQocil9fWNhdGNoKHQpe319fSx7a2V5OiJfdmlld1N0YXRlVG9NYXBib3hQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue2NlbnRlcjpbdC5sb25naXR1ZGUsdC5sYXRpdHVkZV0sem9vbTp0Lnpvb20sYmVhcmluZzp0LmJlYXJpbmcscGl0Y2g6dC5waXRjaH19fV0pLHR9KCk7T2JqZWN0KGIuYSkoUCwiaW5pdGlhbGl6ZWQiLCExKSxPYmplY3QoYi5hKShQLCJwcm9wVHlwZXMiLHcpLE9iamVjdChiLmEpKFAsImRlZmF1bHRQcm9wcyIsayksT2JqZWN0KGIuYSkoUCwic2F2ZWRNYXAiLG51bGwpO3ZhciBqPW4oMjEyKTtmdW5jdGlvbiBUKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBFKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1QoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpKCkodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlQoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9bi5kKGUsImRlZmF1bHQiLChmdW5jdGlvbigpe3JldHVybiBDfSkpO3ZhciBBPXtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6MCx0b3A6MCx3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIn07ZnVuY3Rpb24gTSh0KXt2YXIgZT10LmNvbnRhaW5lcixuPXZvaWQgMD09PWU/ZG9jdW1lbnQuYm9keTplO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmKG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobikpLCFuKXRocm93IEVycm9yKCJEZWNrOiBjb250YWluZXIgbm90IGZvdW5kIik7InN0YXRpYyI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS5wb3NpdGlvbiYmKG4uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5hcHBlbmRDaGlsZChyKSxPYmplY3QuYXNzaWduKHIuc3R5bGUsQSk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIG4uYXBwZW5kQ2hpbGQoaSksT2JqZWN0LmFzc2lnbihpLnN0eWxlLEEpLHtjb250YWluZXI6bixtYXBDYW52YXM6cixkZWNrQ2FudmFzOml9fXZhciBDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihvKCkodGhpcyxlKSwidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50KXRocm93IEVycm9yKCJEZWNrIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIGJyb3dzZXIiKTt2YXIgcj1NKG4pLGk9ci5tYXBDYW52YXMsYT1yLmRlY2tDYW52YXMscz1uLnZpZXdTdGF0ZXx8bi5pbml0aWFsVmlld1N0YXRlLHU9TnVtYmVyLmlzRmluaXRlKHMmJnMubGF0aXR1ZGUpLGM9bi5tYXAsaD12b2lkIDA9PT1jP3dpbmRvdy5tYXBib3hnbDpjO3JldHVybiB0PWwoKSh0aGlzLGYoKShlKS5jYWxsKHRoaXMsRSh7Y2FudmFzOmF9LG4pKSksaCYmaC5NYXA/dC5fbWFwPXUmJm5ldyBQKE9iamVjdC5hc3NpZ24oe30sbix7dmlld1N0YXRlOnMsY29udGFpbmVyOmksbWFwYm94Z2w6aH0pKTp0Ll9tYXA9aCx0Ll9vbkJlZm9yZVJlbmRlcj1mdW5jdGlvbihlKXtpZih0Lm9uQmVmb3JlUmVuZGVyKGUpLHQuX21hcCl7dmFyIG49dC5nZXRWaWV3cG9ydHMoKVswXTt0Ll9tYXAuc2V0UHJvcHMoe3dpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LHZpZXdTdGF0ZTpufSl9fSx0fXJldHVybiBnKCkoZSx0KSx1KCkoZSxbe2tleToiZ2V0TWFwYm94TWFwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJnRoaXMuX21hcC5nZXRNYXAoKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmdGhpcy5fbWFwLmZpbmFsaXplKCksdigpKGYoKShlLnByb3RvdHlwZSksImZpbmFsaXplIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpeyJvbkJlZm9yZVJlbmRlciJpbiB0JiZ0aGlzLl9vbkJlZm9yZVJlbmRlciYmdC5vbkJlZm9yZVJlbmRlciE9PXRoaXMuX29uQmVmb3JlUmVuZGVyJiYodGhpcy5vbkJlZm9yZVJlbmRlcj10Lm9uQmVmb3JlUmVuZGVyLHQub25CZWZvcmVSZW5kZXI9dGhpcy5fb25CZWZvcmVSZW5kZXIpLHYoKShmKCkoZS5wcm90b3R5cGUpLCJzZXRQcm9wcyIsdGhpcykuY2FsbCh0aGlzLHQpfX1dKSxlfShqLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDExKTtmdW5jdGlvbiBpKHQsZSxuLGkpe3ZhciBhPSJTZWUgbHVtYS5nbCAiLmNvbmNhdChuLCIgVXBncmFkZSBHdWlkZSBhdCBodHRwczovL2x1bWEuZ2wvZG9jcy91cGdyYWRlLWd1aWRlIiksbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7aS5mb3JFYWNoKChmdW5jdGlvbih0KXtvLm1ldGhvZE5hbWV8fChvW3RdPWZ1bmN0aW9uKCl7dGhyb3cgci5oLnJlbW92ZWQoIkNhbGxpbmcgcmVtb3ZlZCBtZXRob2QgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0LCI6ICIpLGEpKCksbmV3IEVycm9yKHQpfSl9KSl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMTg3KSxpPW4oMTEpLGE9bigyOCk7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBzKHQsZSl9ZnVuY3Rpb24gcyh0LGUpe3JldHVybihlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYyh0LGUpfSkpfWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlIGluIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYXBzPXQubHVtYS5jYXBzfHx7fSxyLmIpdm9pZCAwPT09dC5sdW1hLmNhcHNbZV0mJih0Lmx1bWEuY2Fwc1tlXT1jKHQsZSkpO3JldHVybiB0Lmx1bWEuY2Fwc31mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5jYXBzPXQubHVtYS5jYXBzfHx7fSx2b2lkIDA9PT10Lmx1bWEuY2Fwc1tlXSYmKHQubHVtYS5jYXBzW2VdPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz1yLmJbZV07T2JqZWN0KGEuYSkobyxlKTt2YXIgcz1PYmplY3QoaS5nKSh0KSYmb1sxXXx8b1swXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyluPXModCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHMpKXtuPSEwO3ZhciB1PSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgaCxmPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oaD1mLm5leHQoKSkuZG9uZSk7dT0hMCl7dmFyIGQ9aC52YWx1ZTtuPW4mJkJvb2xlYW4odC5nZXRFeHRlbnNpb24oZCkpfX1jYXRjaCh0KXtjPSEwLGw9dH1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19fWVsc2Uic3RyaW5nIj09dHlwZW9mIHM/bj1Cb29sZWFuKHQuZ2V0RXh0ZW5zaW9uKHMpKToiYm9vbGVhbiI9PXR5cGVvZiBzP249czpPYmplY3QoYS5hKSghMSk7cmV0dXJuIG59KHQsZSkpLHQubHVtYS5jYXBzW2VdfHxpLmgubG9nKDIsIkZlYXR1cmU6ICIuY29uY2F0KGUsIiBub3Qgc3VwcG9ydGVkIikpKCksdC5sdW1hLmNhcHNbZV19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDMxKSxpPW4oNiksYT1uKDcpLG89MSxzPTEsdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtPYmplY3QoaS5hKSh0aGlzLHQpLHRoaXMudGltZT0wLHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmFuaW1hdGlvbnM9bmV3IE1hcCx0aGlzLnBsYXlpbmc9ITEsdGhpcy5sYXN0RW5naW5lVGltZT0tMX1yZXR1cm4gT2JqZWN0KGEuYSkodCxbe2tleToiYWRkQ2hhbm5lbCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWxheSxuPXZvaWQgMD09PWU/MDplLHI9dC5kdXJhdGlvbixpPXZvaWQgMD09PXI/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOnIsYT10LnJhdGUscz12b2lkIDA9PT1hPzE6YSx1PXQucmVwZWF0LGM9bysrLGw9e3RpbWU6MCxkZWxheTpuLGR1cmF0aW9uOmkscmF0ZTpzLHJlcGVhdDp2b2lkIDA9PT11PzE6dX07cmV0dXJuIHRoaXMuX3NldENoYW5uZWxUaW1lKGwsdGhpcy50aW1lKSx0aGlzLmNoYW5uZWxzLnNldChjLGwpLGN9fSx7a2V5OiJyZW1vdmVDaGFubmVsIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNoYW5uZWxzLmRlbGV0ZSh0KTt2YXIgZT0hMCxuPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10aGlzLmFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oYT1vLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIHM9T2JqZWN0KHIuYSkoYS52YWx1ZSwyKSx1PXNbMF07c1sxXS5jaGFubmVsPT09dCYmdGhpcy5kZXRhY2hBbmltYXRpb24odSl9fWNhdGNoKHQpe249ITAsaT10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBpfX19fSx7a2V5OiJpc0ZpbmlzaGVkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoYW5uZWxzLmdldCh0KTtyZXR1cm4gdm9pZCAwIT09ZSYmdGhpcy50aW1lPj1lLmRlbGF5K2UuZHVyYXRpb24qZS5yZXBlYXR9fSx7a2V5OiJnZXRUaW1lIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLnRpbWU7dmFyIGU9dGhpcy5jaGFubmVscy5nZXQodCk7cmV0dXJuIHZvaWQgMD09PWU/LTE6ZS50aW1lfX0se2tleToic2V0VGltZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy50aW1lPU1hdGgubWF4KDAsdCk7dmFyIGU9dGhpcy5jaGFubmVscy52YWx1ZXMoKSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTt0aGlzLl9zZXRDaGFubmVsVGltZShzLHRoaXMudGltZSl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX12YXIgdT10aGlzLmFuaW1hdGlvbnMudmFsdWVzKCksYz0hMCxsPSExLGg9dm9pZCAwO3RyeXtmb3IodmFyIGYsZD11W1N5bWJvbC5pdGVyYXRvcl0oKTshKGM9KGY9ZC5uZXh0KCkpLmRvbmUpO2M9ITApe3ZhciB2PWYudmFsdWUscD12LmFuaW1hdGlvbixnPXYuY2hhbm5lbDtwLnNldFRpbWUodGhpcy5nZXRUaW1lKGcpKX19Y2F0Y2godCl7bD0hMCxoPXR9ZmluYWxseXt0cnl7Y3x8bnVsbD09ZC5yZXR1cm58fGQucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IGh9fX19LHtrZXk6InBsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nPSEwfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nPSExLHRoaXMubGFzdEVuZ2luZVRpbWU9LTF9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldFRpbWUoMCl9fSx7a2V5OiJhdHRhY2hBbmltYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49cysrO3JldHVybiB0aGlzLmFuaW1hdGlvbnMuc2V0KG4se2FuaW1hdGlvbjp0LGNoYW5uZWw6ZX0pLHQuc2V0VGltZSh0aGlzLmdldFRpbWUoZSkpLG59fSx7a2V5OiJkZXRhY2hBbmltYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9ucy5kZWxldGUodCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGxheWluZyYmKC0xPT09dGhpcy5sYXN0RW5naW5lVGltZSYmKHRoaXMubGFzdEVuZ2luZVRpbWU9dCksdGhpcy5zZXRUaW1lKHRoaXMudGltZSsodC10aGlzLmxhc3RFbmdpbmVUaW1lKSksdGhpcy5sYXN0RW5naW5lVGltZT10KX19LHtrZXk6Il9zZXRDaGFubmVsVGltZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLXQuZGVsYXk7bj49dC5kdXJhdGlvbip0LnJlcGVhdD90LnRpbWU9dC5kdXJhdGlvbip0LnJhdGU6KHQudGltZT1NYXRoLm1heCgwLG4pJXQuZHVyYXRpb24sdC50aW1lKj10LnJhdGUpfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDQ0KSxpPW4oNiksYT1uKDE3KSxvPW4oMTUpLHM9bigxOCksdT1uKDcxKSxjPW4oMTE1KSxsPW5ldyBVaW50MTZBcnJheShbMCwxLDIsMCwyLDMsNCw1LDYsNCw2LDcsOCw5LDEwLDgsMTAsMTEsMTIsMTMsMTQsMTIsMTQsMTUsMTYsMTcsMTgsMTYsMTgsMTksMjAsMjEsMjIsMjAsMjIsMjNdKSxoPW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwxLC0xLDEsMSwtMSwxLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwtMSwtMSwtMSwtMSwtMSwxLC0xLDEsMSwtMSwxLC0xXSksZj1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMF0pLGQ9bmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwxLDEsMCwxLDEsMCwxLDEsMCwxLDAsMCwwLDEsMCwwLDEsMCwxLDEsMSwxLDAsMSwwLDAsMSwwLDEsMCwxLDEsMCwxLDAsMCwwLDAsMSwwLDEsMSwwLDFdKSx2PXtQT1NJVElPTjp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoaCl9LE5PUk1BTDp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoZil9LFRFWENPT1JEXzA6e3NpemU6Mix2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGQpfX0scD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChpLmEpKHRoaXMsZSk7dmFyIG49dC5pZCxzPXZvaWQgMD09PW4/T2JqZWN0KGMuYykoImN1YmUtZ2VvbWV0cnkiKTpuO3JldHVybiBPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKGUpLmNhbGwodGhpcyxPYmplY3Qoci5hKSh7fSx0LHtpZDpzLGluZGljZXM6e3NpemU6MSx2YWx1ZTpuZXcgVWludDE2QXJyYXkobCl9LGF0dHJpYnV0ZXM6T2JqZWN0KHIuYSkoe30sdix0LmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KHMuYSkoZSx0KSxlfSh1LmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9bigyNiksYT1uKDApLG89big2KSxzPW4oNyksdT1uKDE2NSksYz1PYmplY3QodS5hKSgpO2Z1bmN0aW9uIGwodCl7dHJ5e3ZhciBlPXdpbmRvd1t0XSxuPSJfX3N0b3JhZ2VfdGVzdF9fIjtyZXR1cm4gZS5zZXRJdGVtKG4sbiksZS5yZW1vdmVJdGVtKG4pLGV9Y2F0Y2godCl7cmV0dXJuIG51bGx9fXZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToic2Vzc2lvblN0b3JhZ2UiO09iamVjdChvLmEpKHRoaXMsdCksdGhpcy5zdG9yYWdlPWwociksdGhpcy5pZD1lLHRoaXMuY29uZmlnPXt9LE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsbiksdGhpcy5fbG9hZENvbmZpZ3VyYXRpb24oKX1yZXR1cm4gT2JqZWN0KHMuYSkodCxbe2tleToiZ2V0Q29uZmlndXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9fSx7a2V5OiJzZXRDb25maWd1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25maWc9e30sdGhpcy51cGRhdGVDb25maWd1cmF0aW9uKHQpfX0se2tleToidXBkYXRlQ29uZmlndXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyx0KSx0aGlzLnN0b3JhZ2Upe3ZhciBlPUpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnKTt0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLGUpfXJldHVybiB0aGlzfX0se2tleToiX2xvYWRDb25maWd1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9O2lmKHRoaXMuc3RvcmFnZSl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5pZCk7dD1lP0pTT04ucGFyc2UoZSk6e319cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsdCksdGhpc319XSksdH0oKTtmdW5jdGlvbiBmKHQsZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NjAwLGk9dC5zcmMucmVwbGFjZSgvXCgvZywiJTI4IikucmVwbGFjZSgvXCkvZywiJTI5Iik7dC53aWR0aD5yJiYobj1NYXRoLm1pbihuLHIvdC53aWR0aCkpO3ZhciBhPXQud2lkdGgqbixvPXQuaGVpZ2h0Km4scz1bImZvbnQtc2l6ZToxcHg7IiwicGFkZGluZzoiLmNvbmNhdChNYXRoLmZsb29yKG8vMiksInB4ICIpLmNvbmNhdChNYXRoLmZsb29yKGEvMiksInB4OyIpLCJsaW5lLWhlaWdodDoiLmNvbmNhdChvLCJweDsiKSwiYmFja2dyb3VuZDp1cmwoIi5jb25jYXQoaSwiKTsiKSwiYmFja2dyb3VuZC1zaXplOiIuY29uY2F0KGEsInB4ICIpLmNvbmNhdChvLCJweDsiKSwiY29sb3I6dHJhbnNwYXJlbnQ7Il0uam9pbigiIik7cmV0dXJuWyIiLmNvbmNhdChlLCIgJWMrIiksc119dmFyIGQ9e0JMQUNLOjMwLFJFRDozMSxHUkVFTjozMixZRUxMT1c6MzMsQkxVRTozNCxNQUdFTlRBOjM1LENZQU46MzYsV0hJVEU6MzcsQlJJR0hUX0JMQUNLOjkwLEJSSUdIVF9SRUQ6OTEsQlJJR0hUX0dSRUVOOjkyLEJSSUdIVF9ZRUxMT1c6OTMsQlJJR0hUX0JMVUU6OTQsQlJJR0hUX01BR0VOVEE6OTUsQlJJR0hUX0NZQU46OTYsQlJJR0hUX1dISVRFOjk3fTtmdW5jdGlvbiB2KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9kW3QudG9VcHBlckNhc2UoKV18fGQuV0hJVEU6dH1mdW5jdGlvbiBwKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbImNvbnN0cnVjdG9yIl0sbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkscj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PWZ1bmN0aW9uKCl7dmFyIG49cy52YWx1ZTsiZnVuY3Rpb24iPT10eXBlb2YgdFtuXSYmKGUuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIG49PT10fSkpfHwodFtuXT10W25dLmJpbmQodCkpKX0sYz1yW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9Yy5uZXh0KCkpLmRvbmUpO2k9ITApdSgpfWNhdGNoKHQpe2E9ITAsbz10fWZpbmFsbHl7dHJ5e2l8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19ZnVuY3Rpb24gZyh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiQXNzZXJ0aW9uIGZhaWxlZCIpfXZhciB5PW4oNzApO2Z1bmN0aW9uIG0oKXt2YXIgdDtpZihjJiZ5LmIucGVyZm9ybWFuY2UpdD15LmIucGVyZm9ybWFuY2Uubm93KCk7ZWxzZSBpZih5LmEuaHJ0aW1lKXt2YXIgZT15LmEuaHJ0aW1lKCk7dD0xZTMqZVswXStlWzFdLzFlNn1lbHNlIHQ9RGF0ZS5ub3coKTtyZXR1cm4gdH1uLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIGI9e2RlYnVnOmMmJmNvbnNvbGUuZGVidWd8fGNvbnNvbGUubG9nLGxvZzpjb25zb2xlLmxvZyxpbmZvOmNvbnNvbGUuaW5mbyx3YXJuOmNvbnNvbGUud2FybixlcnJvcjpjb25zb2xlLmVycm9yfSxfPXtlbmFibGVkOiEwLGxldmVsOjB9O2Z1bmN0aW9uIE8oKXt9dmFyIHg9e30sdz17b25jZTohMH07ZnVuY3Rpb24gayh0KXtmb3IodmFyIGUgaW4gdClmb3IodmFyIG4gaW4gdFtlXSlyZXR1cm4gbnx8InVudGl0bGVkIjtyZXR1cm4iZW1wdHkifXZhciBTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUuaWQ7T2JqZWN0KG8uYSkodGhpcyx0KSx0aGlzLmlkPW4sdGhpcy5WRVJTSU9OPSI4LjEuNiIsdGhpcy5fc3RhcnRUcz1tKCksdGhpcy5fZGVsdGFUcz1tKCksdGhpcy5MT0dfVEhST1RUTEVfVElNRU9VVD0wLHRoaXMuX3N0b3JhZ2U9bmV3IGgoIl9fcHJvYmUtIi5jb25jYXQodGhpcy5pZCwiX18iKSxfKSx0aGlzLnVzZXJEYXRhPXt9LHRoaXMudGltZVN0YW1wKCIiLmNvbmNhdCh0aGlzLmlkLCIgc3RhcnRlZCIpKSxwKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3Qocy5hKSh0LFt7a2V5OiJpc0VuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuY29uZmlnLmVuYWJsZWR9fSx7a2V5OiJnZXRMZXZlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5jb25maWcubGV2ZWx9fSx7a2V5OiJnZXRUb3RhbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTnVtYmVyKChtKCktdGhpcy5fc3RhcnRUcykudG9QcmVjaXNpb24oMTApKX19LHtrZXk6ImdldERlbHRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBOdW1iZXIoKG0oKS10aGlzLl9kZWx0YVRzKS50b1ByZWNpc2lvbigxMCkpfX0se2tleToiZ2V0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGV2ZWx9fSx7a2V5OiJlbmFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fc3RvcmFnZS51cGRhdGVDb25maWd1cmF0aW9uKHtlbmFibGVkOnR9KSx0aGlzfX0se2tleToic2V0TGV2ZWwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yYWdlLnVwZGF0ZUNvbmZpZ3VyYXRpb24oe2xldmVsOnR9KSx0aGlzfX0se2tleToiYXNzZXJ0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe2codCxlKX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbigwLHQsYi53YXJuLGFyZ3VtZW50cyx3KX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oMCx0LGIuZXJyb3IsYXJndW1lbnRzKX19LHtrZXk6ImRlcHJlY2F0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMud2FybigiYCIuY29uY2F0KHQsImAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4gVXNlIGAiKS5jb25jYXQoZSwiYCBpbnN0ZWFkIikpfX0se2tleToicmVtb3ZlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5lcnJvcigiYCIuY29uY2F0KHQsImAgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGAiKS5jb25jYXQoZSwiYCBpbnN0ZWFkIikpfX0se2tleToicHJvYmUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKHQsZSxiLmxvZyxhcmd1bWVudHMse3RpbWU6ITAsb25jZTohMH0pfX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbih0LGUsYi5kZWJ1Zyxhcmd1bWVudHMpfX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGNvbnNvbGUuaW5mbyxhcmd1bWVudHMpfX0se2tleToib25jZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGIuZGVidWd8fGIuaW5mbyxhcmd1bWVudHMsdyl9fSx7a2V5OiJ0YWJsZSIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlP3RoaXMuX2dldExvZ0Z1bmN0aW9uKHQsZSxjb25zb2xlLnRhYmxlfHxPLG4mJltuXSx7dGFnOmsoZSl9KTpPfX0se2tleToiaW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubG9nTGV2ZWwscj10LnByaW9yaXR5LGE9dC5pbWFnZSxvPXQubWVzc2FnZSxzPXZvaWQgMD09PW8/IiI6byx1PXQuc2NhbGUsbD12b2lkIDA9PT11PzE6dTtyZXR1cm4gdGhpcy5fc2hvdWxkTG9nKGV8fHIpP2M/ZnVuY3Rpb24odCl7dmFyIGU9dC5pbWFnZSxuPXQubWVzc2FnZSxyPXZvaWQgMD09PW4/IiI6bixhPXQuc2NhbGUsbz12b2lkIDA9PT1hPzE6YTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBzPW5ldyBJbWFnZTtyZXR1cm4gcy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdCxlPWYocyxyLG8pOyh0PWNvbnNvbGUpLmxvZy5hcHBseSh0LE9iamVjdChpLmEpKGUpKX0scy5zcmM9ZSxPfXZhciB1PWUubm9kZU5hbWV8fCIiO2lmKCJpbWciPT09dS50b0xvd2VyQ2FzZSgpKXt2YXIgYztyZXR1cm4oYz1jb25zb2xlKS5sb2cuYXBwbHkoYyxPYmplY3QoaS5hKShmKGUscixvKSkpLE99aWYoImNhbnZhcyI9PT11LnRvTG93ZXJDYXNlKCkpe3ZhciBsPW5ldyBJbWFnZTtyZXR1cm4gbC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD1jb25zb2xlKS5sb2cuYXBwbHkodCxPYmplY3QoaS5hKShmKGwscixvKSkpfSxsLnNyYz1lLnRvRGF0YVVSTCgpLE99cmV0dXJuIE99KHtpbWFnZTphLG1lc3NhZ2U6cyxzY2FsZTpsfSk6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbWFnZSxyPSh0Lm1lc3NhZ2UsdC5zY2FsZSksaT12b2lkIDA9PT1yPzE6cixhPW51bGw7dHJ5e2E9bigyNTEpfWNhdGNoKHQpe31pZihhKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhKGUse2ZpdDoiYm94Iix3aWR0aDoiIi5jb25jYXQoTWF0aC5yb3VuZCg4MCppKSwiJSIpfSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUubG9nKHQpfSkpfTtyZXR1cm4gT30oe2ltYWdlOmEsbWVzc2FnZTpzLHNjYWxlOmx9KTpPfX0se2tleToic2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKHRoaXMuX3N0b3JhZ2UuY29uZmlnKTpjb25zb2xlLmxvZyh0aGlzLl9zdG9yYWdlLmNvbmZpZyl9fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yYWdlLmNvbmZpZ1t0XX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLl9zdG9yYWdlLnVwZGF0ZUNvbmZpZ3VyYXRpb24oT2JqZWN0KGEuYSkoe30sdCxlKSl9fSx7a2V5OiJ0aW1lIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbih0LGUsY29uc29sZS50aW1lP2NvbnNvbGUudGltZTpjb25zb2xlLmluZm8pfX0se2tleToidGltZUVuZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQ6Y29uc29sZS5pbmZvKX19LHtrZXk6InRpbWVTdGFtcCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCxlLGNvbnNvbGUudGltZVN0YW1wfHxPKX19LHtrZXk6Imdyb3VwIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7Y29sbGFwc2VkOiExfSxyPW49aih7bG9nTGV2ZWw6dCxtZXNzYWdlOmUsb3B0czpufSksaT1yLmNvbGxhcHNlZDtyZXR1cm4gbi5tZXRob2Q9KGk/Y29uc29sZS5ncm91cENvbGxhcHNlZDpjb25zb2xlLmdyb3VwKXx8Y29uc29sZS5pbmZvLHRoaXMuX2dldExvZ0Z1bmN0aW9uKG4pfX0se2tleToiZ3JvdXBDb2xsYXBzZWQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLmdyb3VwKHQsZSxPYmplY3QuYXNzaWduKHt9LG4se2NvbGxhcHNlZDohMH0pKX19LHtrZXk6Imdyb3VwRW5kIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24odCwiIixjb25zb2xlLmdyb3VwRW5kfHxPKX19LHtrZXk6IndpdGhHcm91cCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAodCxlKSgpO3RyeXtuKCl9ZmluYWxseXt0aGlzLmdyb3VwRW5kKHQpKCl9fX0se2tleToidHJhY2UiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpfX0se2tleToiX3Nob3VsZExvZyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ2V0TGV2ZWwoKT49UCh0KX19LHtrZXk6Il9nZXRMb2dGdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpbXSxhPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06dm9pZCAwO2lmKHRoaXMuX3Nob3VsZExvZyh0KSl7dmFyIG87YT1qKHtsb2dMZXZlbDp0LG1lc3NhZ2U6ZSxhcmdzOnIsb3B0czphfSksZyhuPW58fGEubWV0aG9kKSxhLnRvdGFsPXRoaXMuZ2V0VG90YWwoKSxhLmRlbHRhPXRoaXMuZ2V0RGVsdGEoKSx0aGlzLl9kZWx0YVRzPW0oKTt2YXIgcz1hLnRhZ3x8YS5tZXNzYWdlO2lmKGEub25jZSl7aWYoeFtzXSlyZXR1cm4gTzt4W3NdPW0oKX1yZXR1cm4gZT1UKHRoaXMuaWQsYS5tZXNzYWdlLGEpLChvPW4pLmJpbmQuYXBwbHkobyxbY29uc29sZSxlXS5jb25jYXQoT2JqZWN0KGkuYSkoYS5hcmdzKSkpfXJldHVybiBPfX0se2tleToibGV2ZWwiLHNldDpmdW5jdGlvbih0KXt0aGlzLnNldExldmVsKHQpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMZXZlbCgpfX0se2tleToicHJpb3JpdHkiLHNldDpmdW5jdGlvbih0KXt0aGlzLmxldmVsPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxldmVsfX1dKSx0fSgpO2Z1bmN0aW9uIFAodCl7aWYoIXQpcmV0dXJuIDA7dmFyIGU7c3dpdGNoKE9iamVjdChyLmEpKHQpKXtjYXNlIm51bWJlciI6ZT10O2JyZWFrO2Nhc2Uib2JqZWN0IjplPXQubG9nTGV2ZWx8fHQucHJpb3JpdHl8fDA7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gMH1yZXR1cm4gZyhOdW1iZXIuaXNGaW5pdGUoZSkmJmU+PTApLGV9ZnVuY3Rpb24gaih0KXt2YXIgZT10LmxvZ0xldmVsLG49dC5tZXNzYWdlO3QubG9nTGV2ZWw9UChlKTtmb3IodmFyIGk9dC5hcmdzP0FycmF5LmZyb20odC5hcmdzKTpbXTtpLmxlbmd0aCYmaS5zaGlmdCgpIT09bjspO3N3aXRjaCh0LmFyZ3M9aSxPYmplY3Qoci5hKShlKSl7Y2FzZSJzdHJpbmciOmNhc2UiZnVuY3Rpb24iOnZvaWQgMCE9PW4mJmkudW5zaGlmdChuKSx0Lm1lc3NhZ2U9ZTticmVhaztjYXNlIm9iamVjdCI6T2JqZWN0LmFzc2lnbih0LGUpfSJmdW5jdGlvbiI9PXR5cGVvZiB0Lm1lc3NhZ2UmJih0Lm1lc3NhZ2U9dC5tZXNzYWdlKCkpO3ZhciBhPU9iamVjdChyLmEpKHQubWVzc2FnZSk7cmV0dXJuIGcoInN0cmluZyI9PT1hfHwib2JqZWN0Ij09PWEpLE9iamVjdC5hc3NpZ24odCx0Lm9wdHMpfWZ1bmN0aW9uIFQodCxlLG4pe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIHI9bi50aW1lP2Z1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo4LG49TWF0aC5tYXgoZS10Lmxlbmd0aCwwKTtyZXR1cm4iIi5jb25jYXQoIiAiLnJlcGVhdChuKSkuY29uY2F0KHQpfSgocz1uLnRvdGFsKTwxMD8iIi5jb25jYXQocy50b0ZpeGVkKDIpLCJtcyIpOnM8MTAwPyIiLmNvbmNhdChzLnRvRml4ZWQoMSksIm1zIik6czwxZTM/IiIuY29uY2F0KHMudG9GaXhlZCgwKSwibXMiKToiIi5jb25jYXQoKHMvMWUzKS50b0ZpeGVkKDIpLCJzIikpOiIiO2U9bi50aW1lPyIiLmNvbmNhdCh0LCI6ICIpLmNvbmNhdChyLCIgICIpLmNvbmNhdChlKToiIi5jb25jYXQodCwiOiAiKS5jb25jYXQoZSksaT1lLGE9bi5jb2xvcixvPW4uYmFja2dyb3VuZCxjfHwic3RyaW5nIiE9dHlwZW9mIGl8fChhJiYoYT12KGEpLGk9IhtbIi5jb25jYXQoYSwibSIpLmNvbmNhdChpLCIbWzM5bSIpKSxvJiYoYT12KG8pLGk9IhtbIi5jb25jYXQobysxMCwibSIpLmNvbmNhdChpLCIbWzQ5bSIpKSksZT1pfXZhciBpLGEsbyxzO3JldHVybiBlfVMuVkVSU0lPTj0iOC4xLjYifSwsLCwsLCwsLCxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDYpLGk9bigxNyksYT1uKDE1KSxvPW4oNDcpLHM9big3KSx1PW4oMTgpLGM9bigxMSksbD1uKDUyKSxoPW4oNDgpLGY9big3NiksZD1uKDExNSksdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qoci5hKSh0aGlzLGUpLE9iamVjdChmLmEpKHQpLChuPU9iamVjdChpLmEpKHRoaXMsT2JqZWN0KGEuYSkoZSkuY2FsbCh0aGlzLHQscykpKS5pbml0aWFsaXplKHMpLG4uc3R1YlJlbW92ZWRNZXRob2RzKCJUcmFuc2Zvcm1GZWVkYmFjayIsInY2LjAiLFsicGF1c2UiLCJyZXN1bWUiXSksT2JqZWN0LnNlYWwoT2JqZWN0KG8uYSkobikpLG59cmV0dXJuIE9iamVjdCh1LmEpKGUsdCksT2JqZWN0KHMuYSkoZSxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLmcpKHQpfX1dKSxPYmplY3Qocy5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuYnVmZmVycz17fSx0aGlzLnVudXNlZD17fSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmJpbmRPblVzZT0hMCxPYmplY3QoZC5hKSh0aGlzLmJ1ZmZlcnMpfHx0aGlzLmJpbmQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3VuYmluZEJ1ZmZlcnMoKX0pKSx0aGlzLnNldFByb3BzKGUpLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24odCl7InByb2dyYW0iaW4gdCYmKHRoaXMuY29uZmlndXJhdGlvbj10LnByb2dyYW0mJnQucHJvZ3JhbS5jb25maWd1cmF0aW9uKSwiY29uZmlndXJhdGlvbiJpbiB0JiYodGhpcy5jb25maWd1cmF0aW9uPXQuY29uZmlndXJhdGlvbiksImJpbmRPblVzZSJpbiB0JiYodD10LmJpbmRPblVzZSksImJ1ZmZlcnMiaW4gdCYmdGhpcy5zZXRCdWZmZXJzKHQuYnVmZmVycyl9fSx7a2V5OiJzZXRCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuYmluZCgoZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gZSl0LnNldEJ1ZmZlcihuLGVbbl0pfSkpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX2dldFZhcnlpbmdJbmRleCh0KSxpPXRoaXMuX2dldEJ1ZmZlclBhcmFtcyhlKSxhPWkuYnVmZmVyLG89aS5ieXRlU2l6ZSxzPWkuYnl0ZU9mZnNldDtyZXR1cm4gcjwwPyh0aGlzLnVudXNlZFt0XT1hLGMuaC53YXJuKChmdW5jdGlvbigpe3JldHVybiIiLmNvbmNhdChuLmlkLCIgdW51c2VkIHZhcnlpbmcgYnVmZmVyICIpLmNvbmNhdCh0KX0pKSgpLHRoaXMpOih0aGlzLmJ1ZmZlcnNbcl09ZSx0aGlzLmJpbmRPblVzZXx8dGhpcy5fYmluZEJ1ZmZlcihyLGEscyxvKSx0aGlzKX19LHtrZXk6ImJlZ2luIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0aGlzLmdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjaygzNjM4Nix0aGlzLmhhbmRsZSksdGhpcy5fYmluZEJ1ZmZlcnMoKSx0aGlzLmdsLmJlZ2luVHJhbnNmb3JtRmVlZGJhY2sodCksdGhpc319LHtrZXk6ImVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpLHRoaXMuX3VuYmluZEJ1ZmZlcnMoKSx0aGlzLmdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjaygzNjM4NixudWxsKSx0aGlzfX0se2tleToiX2dldEJ1ZmZlclBhcmFtcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiB0IGluc3RhbmNlb2YgaC5hPT0hMT8ocj10LmJ1ZmZlcixuPXQuYnl0ZVNpemUsZT10LmJ5dGVPZmZzZXQpOnI9dCx2b2lkIDA9PT1lJiZ2b2lkIDA9PT1ufHwoZT1lfHwwLG49bnx8ci5ieXRlTGVuZ3RoLWUpLHtidWZmZXI6cixieXRlT2Zmc2V0OmUsYnl0ZVNpemU6bn19fSx7a2V5OiJfZ2V0VmFyeWluZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24mJnRoaXMuY29uZmlndXJhdGlvbi5nZXRWYXJ5aW5nSW5mbyh0KX19LHtrZXk6Il9nZXRWYXJ5aW5nSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuY29uZmlndXJhdGlvbilyZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmdldFZhcnlpbmdJbmZvKHQpLmxvY2F0aW9uO3ZhciBlPU51bWJlcih0KTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGUpP2U6LTF9fSx7a2V5OiJfYmluZEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5iaW5kT25Vc2UpZm9yKHZhciB0IGluIHRoaXMuYnVmZmVycyl7dmFyIGU9dGhpcy5fZ2V0QnVmZmVyUGFyYW1zKHRoaXMuYnVmZmVyc1t0XSksbj1lLmJ1ZmZlcixyPWUuYnl0ZVNpemUsaT1lLmJ5dGVPZmZzZXQ7dGhpcy5fYmluZEJ1ZmZlcih0LG4saSxyKX19fSx7a2V5OiJfdW5iaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmJpbmRPblVzZSlmb3IodmFyIHQgaW4gdGhpcy5idWZmZXJzKXRoaXMuX2JpbmRCdWZmZXIodCxudWxsKX19LHtrZXk6Il9iaW5kQnVmZmVyIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsaT1lJiZlLmhhbmRsZTtyZXR1cm4gaSYmdm9pZCAwIT09cj90aGlzLmdsLmJpbmRCdWZmZXJSYW5nZSgzNTk4Mix0LGksbixyKTp0aGlzLmdsLmJpbmRCdWZmZXJCYXNlKDM1OTgyLHQsaSksdGhpc319LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0aGlzLmhhbmRsZSl9fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5nbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soMzYzODYsdGhpcy5oYW5kbGUpfX1dKSxlfShsLmEpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNSksaT1uLm4ociksYT1uKDEzKTtmdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfXZhciBzPW4oMjUpLHU9e3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGRvY3VtZW50OiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50fSxjPXUuZ2xvYmFsfHx1LnNlbGZ8fHUud2luZG93LGw9Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChzLmEpKHByb2Nlc3MpKXx8IltvYmplY3QgcHJvY2Vzc10iIT09U3RyaW5nKHByb2Nlc3MpfHxwcm9jZXNzLmJyb3dzZXIsaD0idW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MudmVyc2lvbiYmcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC92KFswLTldKikvKSxmPShoJiZwYXJzZUZsb2F0KGhbMV0pLGMuX3BhcnNlSW1hZ2VOb2RlKSxkPSJ1bmRlZmluZWQiIT10eXBlb2YgSW1hZ2Usdj0idW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwLHA9Qm9vbGVhbihmKTtmdW5jdGlvbiBnKHQpe3N3aXRjaCh0KXtjYXNlImF1dG8iOnJldHVybiB2fHxkfHxwO2Nhc2UiaW1hZ2ViaXRtYXAiOnJldHVybiB2O2Nhc2UiaHRtbCI6Y2FzZSJpbWFnZSI6cmV0dXJuIGQ7Y2FzZSJuZGFycmF5IjpjYXNlImRhdGEiOnJldHVybiEhbHx8cDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiQGxvYWRlcnMuZ2wvaW1hZ2VzOiBpbWFnZSAiLmNvbmNhdCh0LCIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IikpfX1mdW5jdGlvbiB5KHQpe3ZhciBlPWIodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJOb3QgYW4gaW1hZ2UiKTtyZXR1cm4gZX1mdW5jdGlvbiBtKHQpe3N3aXRjaCh5KHQpKXtjYXNlImRhdGEiOnJldHVybiB0O2Nhc2UiaW1hZ2UiOmNhc2UiaW1hZ2ViaXRtYXAiOnZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLG49ZS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBlLndpZHRoPXQud2lkdGgsZS5oZWlnaHQ9dC5oZWlnaHQsbi5kcmF3SW1hZ2UodCwwLDApLG4uZ2V0SW1hZ2VEYXRhKDAsMCx0LndpZHRoLHQuaGVpZ2h0KTtkZWZhdWx0OnJldHVybiBvKCExKX19ZnVuY3Rpb24gYih0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/ImltYWdlYml0bWFwIjoidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlJiZ0IGluc3RhbmNlb2YgSW1hZ2U/ImltYWdlIjp0JiYib2JqZWN0Ij09PU9iamVjdChzLmEpKHQpJiZ0LmRhdGEmJnQud2lkdGgmJnQuaGVpZ2h0PyJkYXRhIjpudWxsfXZhciBfPS9eZGF0YTppbWFnZVwvc3ZnXCt4bWwvLE89L1wuc3ZnKChcP3wjKS4qKT8kLztmdW5jdGlvbiB4KHQsZSl7cmV0dXJuIGsoZSk/KGNvbnNvbGUud2FybigiU1ZHIGNhbm5vdCBiZSBwYXJzZWQgdG8gaW1hZ2ViaXRtYXAiKSxuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldLHt0eXBlOiJpbWFnZS9zdmcreG1sIn0pKTpuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldKX1mdW5jdGlvbiB3KHQsZSl7aWYoayhlKSl7dmFyIG49KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKHQpO3JldHVybiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIuY29uY2F0KGJ0b2EobikpfXJldHVybiB4KHQsZSl9ZnVuY3Rpb24gayh0KXtyZXR1cm4gdCYmKF8udGVzdCh0KXx8Ty50ZXN0KHQpKX1mdW5jdGlvbiBTKHQsZSxuKXtyZXR1cm4gUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUCgpe3JldHVybihQPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgYSxvLHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gYT13KGUsciksbz1zZWxmLlVSTHx8c2VsZi53ZWJraXRVUkwscz0ic3RyaW5nIiE9dHlwZW9mIGEmJm8uY3JlYXRlT2JqZWN0VVJMKGEpLHQucHJldj0zLHQubmV4dD02LGooc3x8YSxuKTtjYXNlIDY6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSA3OnJldHVybiB0LnByZXY9NyxzJiZvLnJldm9rZU9iamVjdFVSTChzKSx0LmZpbmlzaCg3KTtjYXNlIDEwOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMywsNywxMF1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIFQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFQoKXtyZXR1cm4oVD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoKHI9bmV3IEltYWdlKS5zcmM9ZSwhKG4uaW1hZ2UmJm4uaW1hZ2UuZGVjb2RlJiZyLmRlY29kZSkpe3QubmV4dD02O2JyZWFrfXJldHVybiB0Lm5leHQ9NSxyLmRlY29kZSgpO2Nhc2UgNTpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIscik7Y2FzZSA2OnJldHVybiB0Lm5leHQ9OCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXt0cnl7ci5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdChyKX0sci5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuKG5ldyBFcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2UgIi5jb25jYXQoZSwiOiAiKS5jb25jYXQodCkpKX19Y2F0Y2godCl7bih0KX19KSk7Y2FzZSA4OnJldHVybiB0LmFicnVwdCgicmV0dXJuIix0LnNlbnQpO2Nhc2UgOTpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBFPSEwO2Z1bmN0aW9uIEEodCxlLG4pe3JldHVybiBNLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNKCl7cmV0dXJuKE09T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBhLG87cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihhPXgoZSxyKSwhTChvPW4mJm4uaW1hZ2ViaXRtYXApJiZFfHwobz1udWxsKSwhbyl7dC5uZXh0PTE0O2JyZWFrfXJldHVybiB0LnByZXY9NCx0Lm5leHQ9NyxjcmVhdGVJbWFnZUJpdG1hcChhLG8pO2Nhc2UgNzpyZXR1cm4gdC5hYnJ1cHQoInJldHVybiIsdC5zZW50KTtjYXNlIDEwOnQucHJldj0xMCx0LnQwPXQuY2F0Y2goNCksY29uc29sZS53YXJuKHQudDApLEU9ITE7Y2FzZSAxNDpyZXR1cm4gdC5uZXh0PTE2LGNyZWF0ZUltYWdlQml0bWFwKGEpO2Nhc2UgMTY6cmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iLHQuc2VudCk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzQsMTBdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEM9e307ZnVuY3Rpb24gTCh0KXtmb3IodmFyIGUgaW4gdHx8QylyZXR1cm4hMDtyZXR1cm4hMX12YXIgST1uKDIyNik7ZnVuY3Rpb24gUih0LGUpe3ZhciBuPU9iamVjdChJLmEpKHQpLHI9Yy5fcGFyc2VJbWFnZU5vZGU7cmV0dXJuIG8ocikscih0LG4sZSl9ZnVuY3Rpb24gTigpe3JldHVybihOPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiB0KGUsbixyKXt2YXIgYSxzLHUsYyxsO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6YT0obj1ufHx7fSkuaW1hZ2V8fHt9LHM9YS50eXBlfHwiYXV0byIsdT0ocnx8e30pLnVybCxjPUQocyksdC50MD1jLHQubmV4dD0iaW1hZ2ViaXRtYXAiPT09dC50MD84OiJpbWFnZSI9PT10LnQwPzEyOiJkYXRhIj09PXQudDA/MTY6MjA7YnJlYWs7Y2FzZSA4OnJldHVybiB0Lm5leHQ9MTAsQShlLG4sdSk7Y2FzZSAxMDpyZXR1cm4gbD10LnNlbnQsdC5hYnJ1cHQoImJyZWFrIiwyMSk7Y2FzZSAxMjpyZXR1cm4gdC5uZXh0PTE0LFMoZSxuLHUpO2Nhc2UgMTQ6cmV0dXJuIGw9dC5zZW50LHQuYWJydXB0KCJicmVhayIsMjEpO2Nhc2UgMTY6cmV0dXJuIHQubmV4dD0xOCxSKGUsbik7Y2FzZSAxODpyZXR1cm4gbD10LnNlbnQsdC5hYnJ1cHQoImJyZWFrIiwyMSk7Y2FzZSAyMDpvKCExKTtjYXNlIDIxOnJldHVybiJkYXRhIj09PXMmJihsPW0obCkpLHQuYWJydXB0KCJyZXR1cm4iLGwpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBEKHQpe3N3aXRjaCh0KXtjYXNlImF1dG8iOmNhc2UiZGF0YSI6cmV0dXJuIGZ1bmN0aW9uKCl7aWYoZygiaW1hZ2UiKSlyZXR1cm4iaW1hZ2UiO2lmKGcoImltYWdlYml0bWFwIikpcmV0dXJuImltYWdlYml0bWFwIjtpZihnKCJkYXRhIikpcmV0dXJuImRhdGEiO3Rocm93IG5ldyBFcnJvcigiSW5zdGFsbCAnQGxvYWRlcnMuZ2wvcG9seWZpbGxzJyB0byBwYXJzZSBpbWFnZXMgdW5kZXIgTm9kZS5qcyIpfSgpO2RlZmF1bHQ6cmV0dXJuIGcodCksdH19dmFyIEY9big5OCksej17bmFtZToiSW1hZ2VzIix2ZXJzaW9uOiIyLjEuMSIsbWltZVR5cGVzOlsiaW1hZ2UvcG5nIiwiaW1hZ2UvanBlZyIsImltYWdlL2dpZiIsImltYWdlL3dlYnAiLCJpbWFnZS9ibXAiLCJpbWFnZS92bmRtaWNyb3NvZnRpY29uIiwiaW1hZ2Uvc3ZnK3htbCJdLGV4dGVuc2lvbnM6WyJwbmciLCJqcGciLCJqcGVnIiwiZ2lmIiwid2VicCIsImJtcCIsImljbyIsInN2ZyJdLHBhcnNlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IERhdGFWaWV3KHQpO3JldHVybiBPYmplY3QoRi5jKShlKXx8T2JqZWN0KEYuYSkoZSl8fE9iamVjdChGLmIpKGUpfHxPYmplY3QoRi5kKShlKX0sb3B0aW9uczp7aW1hZ2U6e2Zvcm1hdDoiYXV0byIsZGVjb2RlOiEwfX19O2UuYT16fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByLGk9big2KSxhPW4oNyksbz1uKDE3KSxzPW4oNDcpLHU9bigxNSksYz1uKDg4KSxsPW4oMTgpLGg9big1MiksZj1uKDY2KSxkPW4oODIpLHY9bigwKSxwPW4oMTEpLGc9bigxMTQpLHk9bigyOCksbT0ocj17fSxPYmplY3Qodi5hKShyLDUxMjYsTC5iaW5kKG51bGwsInVuaWZvcm0xZnYiLGssMSxJKSksT2JqZWN0KHYuYSkociwzNTY2NCxMLmJpbmQobnVsbCwidW5pZm9ybTJmdiIsaywyLEkpKSxPYmplY3Qodi5hKShyLDM1NjY1LEwuYmluZChudWxsLCJ1bmlmb3JtM2Z2IixrLDMsSSkpLE9iamVjdCh2LmEpKHIsMzU2NjYsTC5iaW5kKG51bGwsInVuaWZvcm00ZnYiLGssNCxJKSksT2JqZWN0KHYuYSkociw1MTI0LEwuYmluZChudWxsLCJ1bmlmb3JtMWl2IixTLDEsSSkpLE9iamVjdCh2LmEpKHIsMzU2NjcsTC5iaW5kKG51bGwsInVuaWZvcm0yaXYiLFMsMixJKSksT2JqZWN0KHYuYSkociwzNTY2OCxMLmJpbmQobnVsbCwidW5pZm9ybTNpdiIsUywzLEkpKSxPYmplY3Qodi5hKShyLDM1NjY5LEwuYmluZChudWxsLCJ1bmlmb3JtNGl2IixTLDQsSSkpLE9iamVjdCh2LmEpKHIsMzU2NzAsTC5iaW5kKG51bGwsInVuaWZvcm0xaXYiLFMsMSxJKSksT2JqZWN0KHYuYSkociwzNTY3MSxMLmJpbmQobnVsbCwidW5pZm9ybTJpdiIsUywyLEkpKSxPYmplY3Qodi5hKShyLDM1NjcyLEwuYmluZChudWxsLCJ1bmlmb3JtM2l2IixTLDMsSSkpLE9iamVjdCh2LmEpKHIsMzU2NzMsTC5iaW5kKG51bGwsInVuaWZvcm00aXYiLFMsNCxJKSksT2JqZWN0KHYuYSkociwzNTY3NCxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDJmdiIsayw0LFIpKSxPYmplY3Qodi5hKShyLDM1Njc1LEwuYmluZChudWxsLCJ1bmlmb3JtTWF0cml4M2Z2IixrLDksUikpLE9iamVjdCh2LmEpKHIsMzU2NzYsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXg0ZnYiLGssMTYsUikpLE9iamVjdCh2LmEpKHIsMzU2NzgsQyksT2JqZWN0KHYuYSkociwzNTY4MCxDKSxPYmplY3Qodi5hKShyLDUxMjUsTC5iaW5kKG51bGwsInVuaWZvcm0xdWl2IixQLDEsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTQsTC5iaW5kKG51bGwsInVuaWZvcm0ydWl2IixQLDIsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTUsTC5iaW5kKG51bGwsInVuaWZvcm0zdWl2IixQLDMsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTYsTC5iaW5kKG51bGwsInVuaWZvcm00dWl2IixQLDQsSSkpLE9iamVjdCh2LmEpKHIsMzU2ODUsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXgyeDNmdiIsayw2LFIpKSxPYmplY3Qodi5hKShyLDM1Njg2LEwuYmluZChudWxsLCJ1bmlmb3JtTWF0cml4Mng0ZnYiLGssOCxSKSksT2JqZWN0KHYuYSkociwzNTY4NyxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDN4MmZ2IixrLDYsUikpLE9iamVjdCh2LmEpKHIsMzU2ODgsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXgzeDRmdiIsaywxMixSKSksT2JqZWN0KHYuYSkociwzNTY4OSxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDR4MmZ2IixrLDgsUikpLE9iamVjdCh2LmEpKHIsMzU2OTAsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXg0eDNmdiIsaywxMixSKSksT2JqZWN0KHYuYSkociwzNTY3OSxDKSxPYmplY3Qodi5hKShyLDM1NjgyLEMpLE9iamVjdCh2LmEpKHIsMzYyODksQyksT2JqZWN0KHYuYSkociwzNjI5MixDKSxPYmplY3Qodi5hKShyLDM2MjkzLEMpLE9iamVjdCh2LmEpKHIsMzYyOTgsQyksT2JqZWN0KHYuYSkociwzNjI5OSxDKSxPYmplY3Qodi5hKShyLDM2MzAwLEMpLE9iamVjdCh2LmEpKHIsMzYzMDMsQyksT2JqZWN0KHYuYSkociwzNjMwNixDKSxPYmplY3Qodi5hKShyLDM2MzA3LEMpLE9iamVjdCh2LmEpKHIsMzYzMDgsQyksT2JqZWN0KHYuYSkociwzNjMxMSxDKSxyKSxiPXt9LF89e30sTz17fSx4PVswXTtmdW5jdGlvbiB3KHQsZSxuLHIpezE9PT1lJiYiYm9vbGVhbiI9PXR5cGVvZiB0JiYodD10PzE6MCksTnVtYmVyLmlzRmluaXRlKHQpJiYoeFswXT10LHQ9eCk7dmFyIGk9dC5sZW5ndGg7aWYoaSVlJiZwLmgud2FybigiVW5pZm9ybSBzaXplIHNob3VsZCBiZSBtdWx0aXBsZXMgb2YgIi5jb25jYXQoZSksdCkoKSx0IGluc3RhbmNlb2YgbilyZXR1cm4gdDt2YXIgYT1yW2ldO2F8fChhPW5ldyBuKGkpLHJbaV09YSk7Zm9yKHZhciBvPTA7bzxpO28rKylhW29dPXRbb107cmV0dXJuIGF9ZnVuY3Rpb24gayh0LGUpe3JldHVybiB3KHQsZSxGbG9hdDMyQXJyYXksYil9ZnVuY3Rpb24gUyh0LGUpe3JldHVybiB3KHQsZSxJbnQzMkFycmF5LF8pfWZ1bmN0aW9uIFAodCxlKXtyZXR1cm4gdyh0LGUsVWludDMyQXJyYXksTyl9ZnVuY3Rpb24gaih0KXtpZigiXSIhPT10W3QubGVuZ3RoLTFdKXJldHVybntuYW1lOnQsbGVuZ3RoOjEsaXNBcnJheTohMX07dmFyIGU9dC5tYXRjaCgvKFteW10qKShcW1swLTldK1xdKT8vKTtpZighZXx8ZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBwYXJzZSBHTFNMIHVuaWZvcm0gbmFtZSAiLmNvbmNhdCh0KSk7cmV0dXJue25hbWU6ZVsxXSxsZW5ndGg6ZVsyXXx8MSxpc0FycmF5OkJvb2xlYW4oZVsyXSl9fWZ1bmN0aW9uIFQodCxlLG4pe3ZhciByPW1bbi50eXBlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gR0xTTCB1bmlmb3JtIHR5cGUgIi5jb25jYXQobi50eXBlKSk7cmV0dXJuIHIoKS5iaW5kKG51bGwsdCxlKX1mdW5jdGlvbiBFKHQsZSxuKXtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtpZigoIW58fEJvb2xlYW4obltyXSkpJiYhQShpKSl0aHJvdyBlPWU/IiIuY29uY2F0KGUsIiAiKToiIixjb25zb2xlLmVycm9yKCIiLmNvbmNhdChlLCIgQmFkIHVuaWZvcm0gIikuY29uY2F0KHIpLGkpLG5ldyBFcnJvcigiIi5jb25jYXQoZSwiIEJhZCB1bmlmb3JtICIpLmNvbmNhdChyKSl9cmV0dXJuITB9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpP2Z1bmN0aW9uKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9TWF0aC5taW4odC5sZW5ndGgsMTYpLG49MDtuPGU7KytuKWlmKCFOdW1iZXIuaXNGaW5pdGUodFtuXSkpcmV0dXJuITE7cmV0dXJuITB9KHQpOiEhaXNGaW5pdGUodCl8fCghMD09PXR8fCExPT09dHx8KHQgaW5zdGFuY2VvZiBmLmF8fCh0IGluc3RhbmNlb2YgZy5hfHx0IGluc3RhbmNlb2YgZC5hJiZCb29sZWFuKHQudGV4dHVyZSkpKSl9ZnVuY3Rpb24gTSh0LGUsbil7aWYoQXJyYXkuaXNBcnJheShuKXx8QXJyYXlCdWZmZXIuaXNWaWV3KG4pKWlmKHRbZV0pZm9yKHZhciByPXRbZV0saT0wLGE9bi5sZW5ndGg7aTxhOysraSlyW2ldPW5baV07ZWxzZSB0W2VdPW4uc2xpY2UoKTtlbHNlIHRbZV09bn1mdW5jdGlvbiBDKCl7dmFyIHQ9bnVsbDtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXQhPT1yO3JldHVybiBpJiYoZS51bmlmb3JtMWkobixyKSx0PXIpLGl9fWZ1bmN0aW9uIEwodCxlLG4scil7dmFyIGk9bnVsbCxhPW51bGw7cmV0dXJuIGZ1bmN0aW9uKG8scyx1KXt2YXIgYz1lKHUsbiksbD1jLmxlbmd0aCxoPSExO2lmKG51bGw9PT1pKWk9bmV3IEZsb2F0MzJBcnJheShsKSxhPWwsaD0hMDtlbHNle09iamVjdCh5LmEpKGE9PT1sLCJVbmlmb3JtIGxlbmd0aCBjYW5ub3QgY2hhbmdlLiIpO2Zvcih2YXIgZj0wO2Y8bDsrK2YpaWYoY1tmXSE9PWlbZl0pe2g9ITA7YnJlYWt9fXJldHVybiBoJiYocihvLHQscyxjKSxpLnNldChjKSksaH19ZnVuY3Rpb24gSSh0LGUsbixyKXt0W2VdKG4scil9ZnVuY3Rpb24gUih0LGUsbixyKXt0W2VdKG4sITEscil9ZnVuY3Rpb24gTih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06InVubmFtZWQiLG49LyNkZWZpbmVbXHMqXVNIQURFUl9OQU1FW1xzKl0oW0EtWmEtejAtOV8tXSspW1xzKl0vLHI9dC5tYXRjaChuKTtyZXR1cm4gcj9yWzFdOmV9ZnVuY3Rpb24gRCh0LGUsbixyKXtmb3IodmFyIGk9dC5zcGxpdCgvXHI/XG4vKSxhPXt9LG89e30scz1yfHxOKGUpfHwiKHVubmFtZWQpIix1PSIiLmNvbmNhdChmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSAzNTYzMjpyZXR1cm4iZnJhZ21lbnQiO2Nhc2UgMzU2MzM6cmV0dXJuInZlcnRleCI7ZGVmYXVsdDpyZXR1cm4idW5rbm93biB0eXBlIn19KG4pLCIgc2hhZGVyICIpLmNvbmNhdChzKSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciBsPWlbY107aWYoIShsLmxlbmd0aDw9MSkpe3ZhciBoPWwuc3BsaXQoIjoiKSxmPWhbMF0sZD1wYXJzZUludChoWzJdLDEwKTtpZihpc05hTihkKSl0aHJvdyBuZXcgRXJyb3IoIkdMU0wgY29tcGlsYXRpb24gZXJyb3IgaW4gIi5jb25jYXQodSwiOiAiKS5jb25jYXQodCkpOyJXQVJOSU5HIiE9PWY/YVtkXT1sOm9bZF09bH19dmFyIHY9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IjogIixyPXQuc3BsaXQoL1xyP1xuLyksaT1TdHJpbmcoci5sZW5ndGgrZS0xKS5sZW5ndGg7cmV0dXJuIHIubWFwKChmdW5jdGlvbih0LHIpe3ZhciBhPXIrZSxvPVN0cmluZyhhKS5sZW5ndGg7cmV0dXJuIHooYSxpLW8pK24rdH0pKX0oZSk7cmV0dXJue3NoYWRlck5hbWU6dSxlcnJvcnM6RihhLHYpLHdhcm5pbmdzOkYobyx2KX19ZnVuY3Rpb24gRih0LGUpe2Zvcih2YXIgbj0iIixyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl07aWYoKHRbciszXXx8dFtyKzJdfHx0W3IrMV0pJiYobis9IiIuY29uY2F0KGksIlxuIiksdFtyKzFdKSl7dmFyIGE9dFtyKzFdLG89YS5zcGxpdCgiOiIsMykscz1vWzBdLHU9cGFyc2VJbnQob1sxXSwxMCl8fDAsYz1hLnN1YnN0cmluZyhvLmpvaW4oIjoiKS5sZW5ndGgrMSkudHJpbSgpO24rPXooIl5eXiAiLmNvbmNhdChzLCI6ICIpLmNvbmNhdChjLCJcblxuIiksdSl9fXJldHVybiBufWZ1bmN0aW9uIHoodCxlKXtmb3IodmFyIG49IiIscj0wO3I8ZTsrK3Ipbis9IiAiO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQodCl9dmFyIEI9big3NiksVT1uKDExNSksVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7dmFyIHI7T2JqZWN0KGkuYSkodGhpcyxlKSxPYmplY3QoQi5iKSh0KSxPYmplY3QoeS5hKSgic3RyaW5nIj09dHlwZW9mIG4uc291cmNlLCJTaGFkZXI6IEdMU0wgc291cmNlIGNvZGUgbXVzdCBiZSBhIEphdmFTY3JpcHQgc3RyaW5nIik7dmFyIGE9TihuLnNvdXJjZSxudWxsKXx8bi5pZHx8T2JqZWN0KFUuYykoInVubmFtZWQgIi5jb25jYXQoZS5nZXRUeXBlTmFtZShuLnNoYWRlclR5cGUpKSk7cmV0dXJuKHI9T2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKShlKS5jYWxsKHRoaXMsdCx7aWQ6YX0pKSkuc2hhZGVyVHlwZT1uLnNoYWRlclR5cGUsci5zb3VyY2U9bi5zb3VyY2Usci5pbml0aWFsaXplKG4pLHJ9cmV0dXJuIE9iamVjdChsLmEpKGUsdCksT2JqZWN0KGEuYSkoZSxudWxsLFt7a2V5OiJnZXRUeXBlTmFtZSIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgMzU2MzM6cmV0dXJuInZlcnRleC1zaGFkZXIiO2Nhc2UgMzU2MzI6cmV0dXJuImZyYWdtZW50LXNoYWRlciI7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KHkuYSkoITEpLCJ1bmtub3duIn19fV0pLE9iamVjdChhLmEpKGUsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc291cmNlLG49TihlLG51bGwpO24mJih0aGlzLmlkPU9iamVjdChVLmMpKG4pKSx0aGlzLl9jb21waWxlKGUpfX0se2tleToiZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5nZXRTaGFkZXJQYXJhbWV0ZXIodGhpcy5oYW5kbGUsdCl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iIi5jb25jYXQoZS5nZXRUeXBlTmFtZSh0aGlzLnNoYWRlclR5cGUpLCI6IikuY29uY2F0KHRoaXMuaWQpfX0se2tleToiZ2V0TmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLnNvdXJjZSl8fCJ1bm5hbWVkLXNoYWRlciJ9fSx7a2V5OiJnZXRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0U2hhZGVyU291cmNlKHRoaXMuaGFuZGxlKX19LHtrZXk6ImdldFRyYW5zbGF0ZWRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbC5nZXRFeHRlbnNpb24oIldFQkdMLmRlYnVnX3NoYWRlcnMiKTtyZXR1cm4gdD90LmdldFRyYW5zbGF0ZWRTaGFkZXJTb3VyY2UodGhpcy5oYW5kbGUpOiJObyB0cmFuc2xhdGVkIHNvdXJjZSBhdmFpbGFibGUuIFdFQkdMLmRlYnVnX3NoYWRlcnMgbm90IGltcGxlbWVudGVkIn19LHtrZXk6Il9jb21waWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnNvdXJjZTt0LnN0YXJ0c1dpdGgoIiN2ZXJzaW9uICIpfHwodD0iI3ZlcnNpb24gMTAwXG4iLmNvbmNhdCh0KSksdGhpcy5zb3VyY2U9dCx0aGlzLmdsLnNoYWRlclNvdXJjZSh0aGlzLmhhbmRsZSx0aGlzLnNvdXJjZSksdGhpcy5nbC5jb21waWxlU2hhZGVyKHRoaXMuaGFuZGxlKTt2YXIgZT10aGlzLmdldFBhcmFtZXRlcigzNTcxMyk7aWYoIWUpe3ZhciBuPXRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyh0aGlzLmhhbmRsZSkscj1EKG4sdGhpcy5zb3VyY2UsdGhpcy5zaGFkZXJUeXBlLHRoaXMuaWQpLGk9ci5zaGFkZXJOYW1lLGE9ci5lcnJvcnMsbz1yLndhcm5pbmdzO3Rocm93IHAuaC5lcnJvcigiR0xTTCBjb21waWxhdGlvbiBlcnJvcnMgaW4gIi5jb25jYXQoaSwiXG4iKS5jb25jYXQoYSkpKCkscC5oLndhcm4oIkdMU0wgY29tcGlsYXRpb24gd2FybmluZ3MgaW4gIi5jb25jYXQoaSwiXG4iKS5jb25jYXQobykpKCksbmV3IEVycm9yKCJHTFNMIGNvbXBpbGF0aW9uIGVycm9ycyBpbiAiLmNvbmNhdChpKSl9fX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVNoYWRlcih0aGlzLmhhbmRsZSl9fSx7a2V5OiJfZ2V0T3B0c0Zyb21IYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6dGhpcy5nZXRQYXJhbWV0ZXIoMzU2NjMpLHNvdXJjZTp0aGlzLmdldFNvdXJjZSgpfX19XSksZX0oaC5hKSxHPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyxlKSwic3RyaW5nIj09dHlwZW9mIG4mJihuPXtzb3VyY2U6bn0pLE9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHUuYSkoZSkuY2FsbCh0aGlzLHQsT2JqZWN0LmFzc2lnbih7fSxuLHtzaGFkZXJUeXBlOjM1NjMzfSkpKX1yZXR1cm4gT2JqZWN0KGwuYSkoZSx0KSxPYmplY3QoYS5hKShlLFt7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVNoYWRlcigzNTYzMyl9fV0pLGV9KFYpLFc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3JldHVybiBPYmplY3QoaS5hKSh0aGlzLGUpLCJzdHJpbmciPT10eXBlb2YgbiYmKG49e3NvdXJjZTpufSksT2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKShlKS5jYWxsKHRoaXMsdCxPYmplY3QuYXNzaWduKHt9LG4se3NoYWRlclR5cGU6MzU2MzJ9KSkpfXJldHVybiBPYmplY3QobC5hKShlLHQpLE9iamVjdChhLmEpKGUsW3trZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlU2hhZGVyKDM1NjMyKX19XSksZX0oViksSD1uKDcyKSxxPW4oOTQpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe09iamVjdChpLmEpKHRoaXMsdCksdGhpcy5pZD1lLmlkLHRoaXMuYXR0cmlidXRlSW5mb3M9W10sdGhpcy5hdHRyaWJ1dGVJbmZvc0J5TmFtZT17fSx0aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvbj1bXSx0aGlzLnZhcnlpbmdJbmZvcz1bXSx0aGlzLnZhcnlpbmdJbmZvc0J5TmFtZT17fSxPYmplY3Quc2VhbCh0aGlzKSx0aGlzLl9yZWFkQXR0cmlidXRlc0Zyb21Qcm9ncmFtKGUpLHRoaXMuX3JlYWRWYXJ5aW5nc0Zyb21Qcm9ncmFtKGUpfXJldHVybiBPYmplY3QoYS5hKSh0LFt7a2V5OiJnZXRBdHRyaWJ1dGVJbmZvIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1OdW1iZXIodCk7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShlKT90aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvbltlXTp0aGlzLmF0dHJpYnV0ZUluZm9zQnlOYW1lW3RdfHxudWxsfX0se2tleToiZ2V0QXR0cmlidXRlTG9jYXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlSW5mbyh0KTtyZXR1cm4gZT9lLmxvY2F0aW9uOi0xfX0se2tleToiZ2V0QXR0cmlidXRlQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlSW5mbyh0KTtyZXR1cm4gZT9lLmFjY2Vzc29yOm51bGx9fSx7a2V5OiJnZXRWYXJ5aW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9TnVtYmVyKHQpO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoZSk/dGhpcy52YXJ5aW5nSW5mb3NbZV06dGhpcy52YXJ5aW5nSW5mb3NCeU5hbWVbdF18fG51bGx9fSx7a2V5OiJnZXRWYXJ5aW5nSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VmFyeWluZ0luZm8oKTtyZXR1cm4gZT9lLmxvY2F0aW9uOi0xfX0se2tleToiZ2V0VmFyeWluZ0FjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFZhcnlpbmdJbmZvKCk7cmV0dXJuIGU/ZS5hY2Nlc3NvcjpudWxsfX0se2tleToiX3JlYWRBdHRyaWJ1dGVzRnJvbVByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmdsLG49ZS5nZXRQcm9ncmFtUGFyYW1ldGVyKHQuaGFuZGxlLDM1NzIxKSxyPTA7cjxuO3IrKyl7dmFyIGk9ZS5nZXRBY3RpdmVBdHRyaWIodC5oYW5kbGUsciksYT1pLm5hbWUsbz1pLnR5cGUscz1pLnNpemUsdT1lLmdldEF0dHJpYkxvY2F0aW9uKHQuaGFuZGxlLGEpO3U+PTAmJnRoaXMuX2FkZEF0dHJpYnV0ZSh1LGEsbyxzKX10aGlzLmF0dHJpYnV0ZUluZm9zLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubG9jYXRpb24tZS5sb2NhdGlvbn0pKX19LHtrZXk6Il9yZWFkVmFyeWluZ3NGcm9tUHJvZ3JhbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nbDtpZihPYmplY3QocC5nKShlKSl7Zm9yKHZhciBuPWUuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LmhhbmRsZSwzNTk3MSkscj0wO3I8bjtyKyspe3ZhciBpPWUuZ2V0VHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nKHQuaGFuZGxlLHIpLGE9aS5uYW1lLG89aS50eXBlLHM9aS5zaXplO3RoaXMuX2FkZFZhcnlpbmcocixhLG8scyl9dGhpcy52YXJ5aW5nSW5mb3Muc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sb2NhdGlvbi1lLmxvY2F0aW9ufSkpfX19LHtrZXk6Il9hZGRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPU9iamVjdChxLmEpKG4pLGE9e3R5cGU6aS50eXBlLHNpemU6cippLmNvbXBvbmVudHN9O3RoaXMuX2luZmVyUHJvcGVydGllcyh0LGUsYSk7dmFyIG89e2xvY2F0aW9uOnQsbmFtZTplLGFjY2Vzc29yOm5ldyBILmEoYSl9O3RoaXMuYXR0cmlidXRlSW5mb3MucHVzaChvKSx0aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvblt0XT1vLHRoaXMuYXR0cmlidXRlSW5mb3NCeU5hbWVbby5uYW1lXT1vfX0se2tleToiX2luZmVyUHJvcGVydGllcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pey9pbnN0YW5jZS9pLnRlc3QoZSkmJihuLmRpdmlzb3I9MSl9fSx7a2V5OiJfYWRkVmFyeWluZyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9T2JqZWN0KHEuYSkobiksYT1pLnR5cGUsbz1pLmNvbXBvbmVudHMscz17bG9jYXRpb246dCxuYW1lOmUsYWNjZXNzb3I6bmV3IEguYSh7dHlwZTphLHNpemU6cipvfSl9O3RoaXMudmFyeWluZ0luZm9zLnB1c2gocyksdGhpcy52YXJ5aW5nSW5mb3NCeU5hbWVbcy5uYW1lXT1zfX1dKSx0fSgpLFo9bigxMDUpO24uZChlLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKTt2YXIgWT1bInNldFZlcnRleEFycmF5Iiwic2V0QXR0cmlidXRlcyIsInNldEJ1ZmZlcnMiLCJ1bnNldEJ1ZmZlcnMiLCJ1c2UiLCJnZXRVbmlmb3JtQ291bnQiLCJnZXRVbmlmb3JtSW5mbyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImdldFVuaWZvcm1WYWx1ZSIsImdldFZhcnlpbmciLCJnZXRGcmFnRGF0YUxvY2F0aW9uIiwiZ2V0QXR0YWNoZWRTaGFkZXJzIiwiZ2V0QXR0cmlidXRlQ291bnQiLCJnZXRBdHRyaWJ1dGVMb2NhdGlvbiIsImdldEF0dHJpYnV0ZUluZm8iXSxLPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIE9iamVjdChpLmEpKHRoaXMsZSksKG49T2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKShlKS5jYWxsKHRoaXMsdCxyKSkpLnN0dWJSZW1vdmVkTWV0aG9kcygiUHJvZ3JhbSIsInY2LjAiLFkpLG4uX2lzQ2FjaGVkPSExLG4uaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3Qocy5hKShuKSksbi5fc2V0SWQoci5pZCksbn1yZXR1cm4gT2JqZWN0KGwuYSkoZSx0KSxPYmplY3QoYS5hKShlLFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQuaGFzaCxuPXQudnMscj10LmZzLGk9dC52YXJ5aW5ncyxhPXQuYnVmZmVyTW9kZSxvPXZvaWQgMD09PWE/MzU5ODE6YTtyZXR1cm4gdGhpcy5oYXNoPWV8fCIiLHRoaXMudnM9InN0cmluZyI9PXR5cGVvZiBuP25ldyBHKHRoaXMuZ2wse2lkOiIiLmNvbmNhdCh0LmlkLCItdnMiKSxzb3VyY2U6bn0pOm4sdGhpcy5mcz0ic3RyaW5nIj09dHlwZW9mIHI/bmV3IFcodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHQuaWQsIi1mcyIpLHNvdXJjZTpyfSk6cixPYmplY3QoeS5hKSh0aGlzLnZzIGluc3RhbmNlb2YgRyksT2JqZWN0KHkuYSkodGhpcy5mcyBpbnN0YW5jZW9mIFcpLHRoaXMudW5pZm9ybXM9e30sdGhpcy5fdGV4dHVyZVVuaWZvcm1zPXt9LHRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZT0hMCxpJiZpLmxlbmd0aD4wJiYoT2JqZWN0KEIuYSkodGhpcy5nbCksdGhpcy52YXJ5aW5ncz1pLHRoaXMuZ2wudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyh0aGlzLmhhbmRsZSxpLG8pKSx0aGlzLl9jb21waWxlQW5kTGluaygpLHRoaXMuX3JlYWRVbmlmb3JtTG9jYXRpb25zRnJvbUxpbmtlZFByb2dyYW0oKSx0aGlzLmNvbmZpZ3VyYXRpb249bmV3IFgodGhpcyksdGhpcy5zZXRQcm9wcyh0KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuX2lzQ2FjaGVkP3RoaXM6T2JqZWN0KGMuYSkoT2JqZWN0KHUuYSkoZS5wcm90b3R5cGUpLCJkZWxldGUiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4idW5pZm9ybXMiaW4gdCYmdGhpcy5zZXRVbmlmb3Jtcyh0LnVuaWZvcm1zKSx0aGlzfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubG9nUHJpb3JpdHkscj10LmRyYXdNb2RlLGk9dm9pZCAwPT09cj80OnIsYT10LnZlcnRleENvdW50LG89dC5vZmZzZXQscz12b2lkIDA9PT1vPzA6byx1PXQuc3RhcnQsYz10LmVuZCxsPXQuaXNJbmRleGVkLGg9dm9pZCAwIT09bCYmbCxmPXQuaW5kZXhUeXBlLGQ9dm9pZCAwPT09Zj81MTIzOmYsdj10Lmluc3RhbmNlQ291bnQsZz12b2lkIDA9PT12PzA6dixtPXQuaXNJbnN0YW5jZWQsYj12b2lkIDA9PT1tP2c+MDptLF89dC52ZXJ0ZXhBcnJheSxPPXZvaWQgMD09PV8/bnVsbDpfLHg9dC50cmFuc2Zvcm1GZWVkYmFjayx3PXQuZnJhbWVidWZmZXIsaz10LnBhcmFtZXRlcnMsUz12b2lkIDA9PT1rP3t9OmssUD10LnVuaWZvcm1zLGo9dC5zYW1wbGVycztpZigoUHx8aikmJihwLmguZGVwcmVjYXRlZCgiUHJvZ3JhbS5kcmF3KHt1bmlmb3Jtc30pIiwiUHJvZ3JhbS5zZXRVbmlmb3Jtcyh1bmlmb3JtcykiKSgpLHRoaXMuc2V0VW5pZm9ybXMoUHx8e30pKSxwLmgucHJpb3JpdHk+PW4pe3ZhciBUPXc/dy5pZDoiZGVmYXVsdCIsRT0ibW9kZT0iLmNvbmNhdChPYmplY3QoWi5hKSh0aGlzLmdsLGkpLCIgdmVydHM9IikuY29uY2F0KGEsIiAiKSsiaW5zdGFuY2VzPSIuY29uY2F0KGcsIiBpbmRleFR5cGU9IikuY29uY2F0KE9iamVjdChaLmEpKHRoaXMuZ2wsZCksIiAiKSsiaXNJbnN0YW5jZWQ9Ii5jb25jYXQoYiwiIGlzSW5kZXhlZD0iKS5jb25jYXQoaCwiICIpKyJGcmFtZWJ1ZmZlcj0iLmNvbmNhdChUKTtwLmgubG9nKG4sRSkoKX1yZXR1cm4gT2JqZWN0KHkuYSkoTyksdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMuaGFuZGxlKSwhKCF0aGlzLl9hcmVUZXh0dXJlc1JlbmRlcmFibGUoKXx8MD09PWF8fGImJjA9PT1nKSYmKE8uYmluZEZvckRyYXcoYSxnLChmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXcmJihTPU9iamVjdC5hc3NpZ24oe30sUyx7ZnJhbWVidWZmZXI6d30pKSx4KXt2YXIgdD1PYmplY3QocS5jKShpKTt4LmJlZ2luKHQpfWUuX2JpbmRUZXh0dXJlcygpLE9iamVjdChwLmwpKGUuZ2wsUywoZnVuY3Rpb24oKXtoJiZiP2UuZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGksYSxkLHMsZyk6aCYmT2JqZWN0KHAuZykoZS5nbCkmJiFpc05hTih1KSYmIWlzTmFOKGMpP2UuZ2wuZHJhd1JhbmdlRWxlbWVudHMoaSx1LGMsYSxkLHMpOmg/ZS5nbC5kcmF3RWxlbWVudHMoaSxhLGQscyk6Yj9lLmdsLmRyYXdBcnJheXNJbnN0YW5jZWQoaSxzLGEsZyk6ZS5nbC5kcmF3QXJyYXlzKGkscyxhKX0pKSx4JiZ4LmVuZCgpfSkpLCEwKX19LHtrZXk6InNldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtmb3IodmFyIGUgaW4gcC5oLnByaW9yaXR5Pj0yJiZFKHQsdGhpcy5pZCx0aGlzLl91bmlmb3JtU2V0dGVycyksdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMuaGFuZGxlKSx0KXt2YXIgbj10W2VdLHI9dGhpcy5fdW5pZm9ybVNldHRlcnNbZV07aWYocil7dmFyIGk9bixhPSExO2lmKGkgaW5zdGFuY2VvZiBkLmEmJihpPWkudGV4dHVyZSksaSBpbnN0YW5jZW9mIGYuYSlpZihhPXRoaXMudW5pZm9ybXNbZV0hPT1uKXt2b2lkIDA9PT1yLnRleHR1cmVJbmRleCYmKHIudGV4dHVyZUluZGV4PXRoaXMuX3RleHR1cmVJbmRleENvdW50ZXIrKyk7dmFyIG89aSxzPXIudGV4dHVyZUluZGV4O28uYmluZChzKSxpPXMsby5sb2FkZWR8fCh0aGlzLl90ZXh0dXJlc1JlbmRlcmFibGU9ITEpLHRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXT1vfWVsc2UgaT1yLnRleHR1cmVJbmRleDtlbHNlIHRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXSYmZGVsZXRlIHRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXTsocihpKXx8YSkmJk0odGhpcy51bmlmb3JtcyxlLG4pfX1yZXR1cm4gdGhpc319LHtrZXk6Il9hcmVUZXh0dXJlc1JlbmRlcmFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlKXJldHVybiEwO2Zvcih2YXIgdCBpbiB0aGlzLl90ZXh0dXJlc1JlbmRlcmFibGU9ITAsdGhpcy5fdGV4dHVyZVVuaWZvcm1zKXt2YXIgZT10aGlzLl90ZXh0dXJlVW5pZm9ybXNbdF07dGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlPXRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZSYmZS5sb2FkZWR9cmV0dXJuIHRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZX19LHtrZXk6Il9iaW5kVGV4dHVyZXMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX3RleHR1cmVVbmlmb3Jtcyl7dmFyIGU9dGhpcy5fdW5pZm9ybVNldHRlcnNbdF0udGV4dHVyZUluZGV4O3RoaXMuX3RleHR1cmVVbmlmb3Jtc1t0XS5iaW5kKGUpfX19LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVByb2dyYW0odGhpcy5oYW5kbGUpfX0se2tleToiX2dldE9wdGlvbnNGcm9tSGFuZGxlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsLmdldEF0dGFjaGVkU2hhZGVycyh0KSxuPXt9LHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3N3aXRjaCh0aGlzLmdsLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLmhhbmRsZSwzNTY2Mykpe2Nhc2UgMzU2MzM6bi52cz1uZXcgRyh7aGFuZGxlOnV9KTticmVhaztjYXNlIDM1NjMyOm4uZnM9bmV3IFcoe2hhbmRsZTp1fSl9fX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSx7a2V5OiJfZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuaGFuZGxlLHQpfX0se2tleToiX3NldElkIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdCl7dmFyIGU9dGhpcy5fZ2V0TmFtZSgpO3RoaXMuaWQ9T2JqZWN0KFUuYykoZSl9fX0se2tleToiX2dldE5hbWUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52cy5nZXROYW1lKCl8fHRoaXMuZnMuZ2V0TmFtZSgpO3JldHVybiB0PSh0PXQucmVwbGFjZSgvc2hhZGVyL2ksIiIpKT8iIi5jb25jYXQodCwiLXByb2dyYW0iKToicHJvZ3JhbSJ9fSx7a2V5OiJfY29tcGlsZUFuZExpbmsiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDtpZigodC5hdHRhY2hTaGFkZXIodGhpcy5oYW5kbGUsdGhpcy52cy5oYW5kbGUpLHQuYXR0YWNoU2hhZGVyKHRoaXMuaGFuZGxlLHRoaXMuZnMuaGFuZGxlKSxwLmgudGltZSg0LCJsaW5rUHJvZ3JhbSBmb3IgIi5jb25jYXQodGhpcy5fZ2V0TmFtZSgpKSkoKSx0LmxpbmtQcm9ncmFtKHRoaXMuaGFuZGxlKSxwLmgudGltZUVuZCg0LCJsaW5rUHJvZ3JhbSBmb3IgIi5jb25jYXQodGhpcy5fZ2V0TmFtZSgpKSkoKSx0LmRlYnVnfHxwLmgubGV2ZWw+MCkmJih0LnZhbGlkYXRlUHJvZ3JhbSh0aGlzLmhhbmRsZSksIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLmhhbmRsZSwzNTcxNCkpKXRocm93IG5ldyBFcnJvcigiRXJyb3IgbGlua2luZzogIi5jb25jYXQodC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLmhhbmRsZSkpKX19LHtrZXk6Il9yZWFkVW5pZm9ybUxvY2F0aW9uc0Zyb21MaW5rZWRQcm9ncmFtIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dGhpcy5fdW5pZm9ybVNldHRlcnM9e30sdGhpcy5fdW5pZm9ybUNvdW50PXRoaXMuX2dldFBhcmFtZXRlcigzNTcxOCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl91bmlmb3JtQ291bnQ7ZSsrKXt2YXIgbj10aGlzLmdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5oYW5kbGUsZSkscj1qKG4ubmFtZSksaT1yLm5hbWUsYT0oci5pc0FycmF5LHQuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuaGFuZGxlLGkpKTtpZih0aGlzLl91bmlmb3JtU2V0dGVyc1tpXT1UKHQsYSxuKSxuLnNpemU+MSlmb3IodmFyIG89MDtvPG4uc2l6ZTtvKyspYT10LmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLmhhbmRsZSwiIi5jb25jYXQoaSwiWyIpLmNvbmNhdChvLCJdIikpLHRoaXMuX3VuaWZvcm1TZXR0ZXJzWyIiLmNvbmNhdChpLCJbIikuY29uY2F0KG8sIl0iKV09VCh0LGEsbil9dGhpcy5fdGV4dHVyZUluZGV4Q291bnRlcj0wfX0se2tleToiZ2V0QWN0aXZlVW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2wuZ2V0QWN0aXZlVW5pZm9ybXModGhpcy5oYW5kbGUsdCxlKX19LHtrZXk6ImdldFVuaWZvcm1CbG9ja0luZGV4Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nbC5nZXRVbmlmb3JtQmxvY2tJbmRleCh0aGlzLmhhbmRsZSx0KX19LHtrZXk6ImdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nbC5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodGhpcy5oYW5kbGUsdCxlKX19LHtrZXk6InVuaWZvcm1CbG9ja0JpbmRpbmciLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5nbC51bmlmb3JtQmxvY2tCaW5kaW5nKHRoaXMuaGFuZGxlLHQsZSl9fV0pLGV9KGguYSl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oNyksYT1uKDMxKSxvPW4oMTc2KSxzPSJ2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yID0gdmVjNCgwKTt9Iix1PSJvdXQgdmVjNCB0cmFuc2Zvcm1fb3V0cHV0O1xudm9pZCBtYWluKCkge1xuICB0cmFuc2Zvcm1fb3V0cHV0ID0gdmVjNCgwKTtcbn0iLGM9IiN2ZXJzaW9uIDMwMCBlc1xuIi5jb25jYXQodSk7ZnVuY3Rpb24gbCh0LGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTt2YXIgbj10LnJlcGxhY2UoL15ccysvLCIiKS5zcGxpdCgvXHMrLykscj1PYmplY3QoYS5hKShuLDMpLGk9clswXSxvPXJbMV0scz1yWzJdO3JldHVybiBlLmluY2x1ZGVzKGkpJiZvJiZzP3txdWFsaWZpZXI6aSx0eXBlOm8sbmFtZTpzLnNwbGl0KCI7IilbMF19Om51bGx9ZnVuY3Rpb24gaCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXQudmVyc2lvbixuPXZvaWQgMD09PWU/MTAwOmUscj10LmlucHV0LGk9dC5pbnB1dFR5cGUsYT10Lm91dHB1dDtpZighcilyZXR1cm4gMzAwPT09bj9jOm4+MzAwPyIjdmVyc2lvbiAiLmNvbmNhdChuLCJcbiIpLmNvbmNhdCh1KTpzO3ZhciBvPWQocixpKTtyZXR1cm4gbj49MzAwPyIjdmVyc2lvbiAiLmNvbmNhdChuLCIgIikuY29uY2F0KDMwMD09PW4/ImVzIjoiIiwiXG5pbiAiKS5jb25jYXQoaSwiICIpLmNvbmNhdChyLCI7XG5vdXQgdmVjNCAiKS5jb25jYXQoYSwiO1xudm9pZCBtYWluKCkge1xuICAiKS5jb25jYXQoYSwiID0gIikuY29uY2F0KG8sIjtcbn0iKToidmFyeWluZyAiLmNvbmNhdChpLCIgIikuY29uY2F0KHIsIjtcbnZvaWQgbWFpbigpIHtcbiAgZ2xfRnJhZ0NvbG9yID0gIikuY29uY2F0KG8sIjtcbn0iKX1mdW5jdGlvbiBmKHQpe3N3aXRjaCh0KXtjYXNlImZsb2F0IjpyZXR1cm4gMTtjYXNlInZlYzIiOnJldHVybiAyO2Nhc2UidmVjMyI6cmV0dXJuIDM7Y2FzZSJ2ZWM0IjpyZXR1cm4gNDtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksbnVsbH19ZnVuY3Rpb24gZCh0LGUpe3N3aXRjaChlKXtjYXNlImZsb2F0IjpyZXR1cm4idmVjNCgiLmNvbmNhdCh0LCIsIDAuMCwgMC4wLCAxLjApIik7Y2FzZSJ2ZWMyIjpyZXR1cm4idmVjNCgiLmNvbmNhdCh0LCIsIDAuMCwgMS4wKSIpO2Nhc2UidmVjMyI6cmV0dXJuInZlYzQoIi5jb25jYXQodCwiLCAxLjApIik7Y2FzZSJ2ZWM0IjpyZXR1cm4gdDtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksbnVsbH19dmFyIHY9bigxMSkscD1uKDQ4KSxnPW4oMjg4KSx5PW4oMjgpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoci5hKSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmN1cnJlbnRJbmRleD0wLHRoaXMuZmVlZGJhY2tNYXA9e30sdGhpcy52YXJ5aW5ncz1udWxsLHRoaXMuYmluZGluZ3M9W10sdGhpcy5yZXNvdXJjZXM9e30sdGhpcy5faW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkodCxbe2tleToic2V0dXBSZXNvdXJjZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuYmluZGluZ3NbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oaT1hLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89aS52YWx1ZTt0aGlzLl9zZXR1cFRyYW5zZm9ybUZlZWRiYWNrKG8sdCl9fWNhdGNoKHQpe249ITAscj10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJ1cGRhdGVNb2RlbFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXRoaXMudmFyeWluZ3M7cmV0dXJuIGUubGVuZ3RoPjAmJih0PU9iamVjdC5hc3NpZ24oe30sdCx7dmFyeWluZ3M6ZX0pKSx0fX0se2tleToiZ2V0RHJhd09wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0sbj1lLnNvdXJjZUJ1ZmZlcnMscj1lLnRyYW5zZm9ybUZlZWRiYWNrLGk9T2JqZWN0LmFzc2lnbih7fSxuLHQuYXR0cmlidXRlcyk7cmV0dXJue2F0dHJpYnV0ZXM6aSx0cmFuc2Zvcm1GZWVkYmFjazpyfX19LHtrZXk6InN3YXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmZlZWRiYWNrTWFwJiYodGhpcy5jdXJyZW50SW5kZXg9dGhpcy5fZ2V0TmV4dEluZGV4KCksITApfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9zZXR1cEJ1ZmZlcnModCl9fSx7a2V5OiJnZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLmZlZWRiYWNrQnVmZmVycyxuPXQ/ZVt0XTpudWxsO3JldHVybiBuP24gaW5zdGFuY2VvZiBwLmE/bjpuLmJ1ZmZlcjpudWxsfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnZhcnlpbmdOYW1lLG49dGhpcy5nZXRCdWZmZXIoZSk7cmV0dXJuIG4/bi5nZXREYXRhKCk6bnVsbH19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5yZXNvdXJjZXMpdGhpcy5yZXNvdXJjZXNbdF0uZGVsZXRlKCl9fSx7a2V5OiJfaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5fc2V0dXBCdWZmZXJzKHQpLHRoaXMudmFyeWluZ3M9dC52YXJ5aW5nc3x8T2JqZWN0LmtleXModGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0uZmVlZGJhY2tCdWZmZXJzKSx0aGlzLnZhcnlpbmdzLmxlbmd0aD4wJiZPYmplY3QoeS5hKShPYmplY3Qodi5nKSh0aGlzLmdsKSl9fSx7a2V5OiJfZ2V0RmVlZGJhY2tCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNvdXJjZUJ1ZmZlcnMsbj12b2lkIDA9PT1lP3t9OmUscj17fTtpZih0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSYmT2JqZWN0LmFzc2lnbihyLHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLmZlZWRiYWNrQnVmZmVycyksdGhpcy5mZWVkYmFja01hcClmb3IodmFyIGkgaW4gdGhpcy5mZWVkYmFja01hcCl7dmFyIGE9dGhpcy5mZWVkYmFja01hcFtpXTtpIGluIG4mJihyW2FdPWkpfWZvcih2YXIgbyBpbiBPYmplY3QuYXNzaWduKHIsdC5mZWVkYmFja0J1ZmZlcnMpLHIpe3ZhciBzPXJbb107aWYoInN0cmluZyI9PXR5cGVvZiBzKXt2YXIgdT1uW3NdLGM9dS5ieXRlTGVuZ3RoLGw9dS51c2FnZSxoPXUuYWNjZXNzb3I7cltvXT10aGlzLl9jcmVhdGVOZXdCdWZmZXIobyx7Ynl0ZUxlbmd0aDpjLHVzYWdlOmwsYWNjZXNzb3I6aH0pfX1yZXR1cm4gcn19LHtrZXk6Il9zZXR1cEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5zb3VyY2VCdWZmZXJzLG49dm9pZCAwPT09ZT9udWxsOmU7T2JqZWN0LmFzc2lnbih0aGlzLmZlZWRiYWNrTWFwLHQuZmVlZGJhY2tNYXApO3ZhciByPXRoaXMuX2dldEZlZWRiYWNrQnVmZmVycyh0KTt0aGlzLl91cGRhdGVCaW5kaW5ncyh7c291cmNlQnVmZmVyczpuLGZlZWRiYWNrQnVmZmVyczpyfSl9fSx7a2V5OiJfc2V0dXBUcmFuc2Zvcm1GZWVkYmFjayIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1vZGVsLnByb2dyYW07dC50cmFuc2Zvcm1GZWVkYmFjaz1uZXcgZy5hKHRoaXMuZ2wse3Byb2dyYW06bixidWZmZXJzOnQuZmVlZGJhY2tCdWZmZXJzfSl9fSx7a2V5OiJfdXBkYXRlQmluZGluZ3MiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdPXRoaXMuX3VwZGF0ZUJpbmRpbmcodGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0sdCksdGhpcy5mZWVkYmFja01hcCl7dmFyIGU9dGhpcy5fc3dhcEJ1ZmZlcnModGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0pLG49ZS5zb3VyY2VCdWZmZXJzLHI9ZS5mZWVkYmFja0J1ZmZlcnMsaT10aGlzLl9nZXROZXh0SW5kZXgoKTt0aGlzLmJpbmRpbmdzW2ldPXRoaXMuX3VwZGF0ZUJpbmRpbmcodGhpcy5iaW5kaW5nc1tpXSx7c291cmNlQnVmZmVyczpuLGZlZWRiYWNrQnVmZmVyczpyfSl9fX0se2tleToiX3VwZGF0ZUJpbmRpbmciLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/KE9iamVjdC5hc3NpZ24odC5zb3VyY2VCdWZmZXJzLGUuc291cmNlQnVmZmVycyksT2JqZWN0LmFzc2lnbih0LmZlZWRiYWNrQnVmZmVycyxlLmZlZWRiYWNrQnVmZmVycyksdC50cmFuc2Zvcm1GZWVkYmFjayYmdC50cmFuc2Zvcm1GZWVkYmFjay5zZXRCdWZmZXJzKHQuZmVlZGJhY2tCdWZmZXJzKSx0KTp7c291cmNlQnVmZmVyczpPYmplY3QuYXNzaWduKHt9LGUuc291cmNlQnVmZmVycyksZmVlZGJhY2tCdWZmZXJzOk9iamVjdC5hc3NpZ24oe30sZS5mZWVkYmFja0J1ZmZlcnMpfX19LHtrZXk6Il9zd2FwQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZmVlZGJhY2tNYXApcmV0dXJuIG51bGw7dmFyIGU9T2JqZWN0LmFzc2lnbih7fSx0LnNvdXJjZUJ1ZmZlcnMpLG49T2JqZWN0LmFzc2lnbih7fSx0LmZlZWRiYWNrQnVmZmVycyk7Zm9yKHZhciByIGluIHRoaXMuZmVlZGJhY2tNYXApe3ZhciBpPXRoaXMuZmVlZGJhY2tNYXBbcl07ZVtyXT10LmZlZWRiYWNrQnVmZmVyc1tpXSxuW2ldPXQuc291cmNlQnVmZmVyc1tyXSxPYmplY3QoeS5hKShuW2ldaW5zdGFuY2VvZiBwLmEpfXJldHVybntzb3VyY2VCdWZmZXJzOmUsZmVlZGJhY2tCdWZmZXJzOm59fX0se2tleToiX2NyZWF0ZU5ld0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgcC5hKHRoaXMuZ2wsZSk7cmV0dXJuIHRoaXMucmVzb3VyY2VzW3RdJiZ0aGlzLnJlc291cmNlc1t0XS5kZWxldGUoKSx0aGlzLnJlc291cmNlc1t0XT1uLG59fSx7a2V5OiJfZ2V0TmV4dEluZGV4Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmN1cnJlbnRJbmRleCsxKSUyfX1dKSx0fSgpLGI9bigwKSxfPW4oMTkxKSxPPW4oMTI3KSx4PW4oODIpLHc9bigyMjEpO2Z1bmN0aW9uIGsodCl7dmFyIGU9MTAwLG49dC5tYXRjaCgvW15cc10rL2cpO2lmKG4ubGVuZ3RoPj0yJiYiI3ZlcnNpb24iPT09blswXSl7dmFyIHI9cGFyc2VJbnQoblsxXSwxMCk7TnVtYmVyLmlzRmluaXRlKHIpJiYoZT1yKX1yZXR1cm4gZX12YXIgUyxQPW4oMTc4KSxqPXtuYW1lOiJ0cmFuc2Zvcm0iLHZzOiJhdHRyaWJ1dGUgZmxvYXQgdHJhbnNmb3JtX2VsZW1lbnRJRDtcbnZlYzIgdHJhbnNmb3JtX2dldFBpeGVsU2l6ZUhhbGYodmVjMiBzaXplKSB7XG4gIHJldHVybiB2ZWMyKDEuKSAvICgyLiAqIHNpemUpO1xufVxuXG52ZWMyIHRyYW5zZm9ybV9nZXRQaXhlbEluZGljZXModmVjMiB0ZXhTaXplLCB2ZWMyIHBpeGVsU2l6ZUhhbGYpIHtcbiAgZmxvYXQgeUluZGV4ID0gZmxvb3IoKHRyYW5zZm9ybV9lbGVtZW50SUQgLyB0ZXhTaXplWzBdKSArIHBpeGVsU2l6ZUhhbGZbMV0pO1xuICBmbG9hdCB4SW5kZXggPSB0cmFuc2Zvcm1fZWxlbWVudElEIC0gKHlJbmRleCAqIHRleFNpemVbMF0pO1xuICByZXR1cm4gdmVjMih4SW5kZXgsIHlJbmRleCk7XG59XG52ZWMyIHRyYW5zZm9ybV9nZXRUZXhDb29yZCh2ZWMyIHNpemUpIHtcbiAgdmVjMiBwaXhlbFNpemVIYWxmID0gdHJhbnNmb3JtX2dldFBpeGVsU2l6ZUhhbGYoc2l6ZSk7XG4gIHZlYzIgaW5kaWNlcyA9IHRyYW5zZm9ybV9nZXRQaXhlbEluZGljZXMoc2l6ZSwgcGl4ZWxTaXplSGFsZik7XG4gIHZlYzIgY29vcmQgPSBpbmRpY2VzIC8gc2l6ZSArIHBpeGVsU2l6ZUhhbGY7XG4gIHJldHVybiBjb29yZDtcbn1cbnZlYzIgdHJhbnNmb3JtX2dldFBvcyh2ZWMyIHNpemUpIHtcbiAgdmVjMiB0ZXhDb29yZCA9IHRyYW5zZm9ybV9nZXRUZXhDb29yZChzaXplKTtcbiAgdmVjMiBwb3MgPSAodGV4Q29vcmQgKiAoMi4wLCAyLjApKSAtICgxLiwgMS4pO1xuICByZXR1cm4gcG9zO1xufVxudmVjNCB0cmFuc2Zvcm1fZ2V0SW5wdXQoc2FtcGxlcjJEIHRleFNhbXBsZXIsIHZlYzIgc2l6ZSkge1xuICB2ZWMyIHRleENvb3JkID0gdHJhbnNmb3JtX2dldFRleENvb3JkKHNpemUpO1xuICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUyRCh0ZXhTYW1wbGVyLCB0ZXhDb29yZCk7XG4gIHJldHVybiB0ZXh0dXJlQ29sb3I7XG59XG4iLGZzOm51bGx9O2Z1bmN0aW9uIFQodCl7dmFyIGU9dC52cyxuPXQuc291cmNlVGV4dHVyZU1hcCxyPXQudGFyZ2V0VGV4dHVyZVZhcnlpbmcsaT10LnRhcmdldFRleHR1cmUsYT1PYmplY3Qua2V5cyhuKS5sZW5ndGgscz1udWxsLHU9e30sYz1lLGg9e307aWYoYT4wfHxyKXt2YXIgZj1jLnNwbGl0KCJcbiIpLGQ9Zi5zbGljZSgpO2lmKGYuZm9yRWFjaCgoZnVuY3Rpb24odCxlLGkpe2lmKGE+MCl7dmFyIGM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxyPWZ1bmN0aW9uKHQpe3JldHVybiBsKHQsWyJhdHRyaWJ1dGUiLCJpbiJdKX0odCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIGk9ci50eXBlLGE9ci5uYW1lO2lmKGEmJmVbYV0pe3ZhciBzPSIvLyAiLmNvbmNhdCh0LCIgPT4gUmVwbGFjZWQgYnkgVHJhbnNmb3JtIHdpdGggYSBzYW1wbGVyIiksdT1mdW5jdGlvbih0KXt2YXIgZT0iIi5jb25jYXQoInRyYW5zZm9ybV91U2FtcGxlcl8iKS5jb25jYXQodCksbj0iIi5jb25jYXQoInRyYW5zZm9ybV91U2l6ZV8iKS5jb25jYXQodCkscj0iICB1bmlmb3JtIHNhbXBsZXIyRCAiLmNvbmNhdChlLCI7XG4gIHVuaWZvcm0gdmVjMiAiKS5jb25jYXQobiwiOyIpO3JldHVybntzYW1wbGVyTmFtZTplLHNpemVOYW1lOm4sdW5pZm9ybURlY2xlcmF0aW9uczpyfX0oYSksYz11LnNhbXBsZXJOYW1lLGg9dS5zaXplTmFtZSxmPXUudW5pZm9ybURlY2xlcmF0aW9ucyxkPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlImZsb2F0IjpyZXR1cm4ieCI7Y2FzZSJ2ZWMyIjpyZXR1cm4ieHkiO2Nhc2UidmVjMyI6cmV0dXJuInh5eiI7Y2FzZSJ2ZWM0IjpyZXR1cm4ieHl6dyI7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KG8uYSkoITEpLG51bGx9fShpKSx2PSIgICIuY29uY2F0KGksIiAiKS5jb25jYXQoYSwiID0gdHJhbnNmb3JtX2dldElucHV0KCIpLmNvbmNhdChjLCIsICIpLmNvbmNhdChoLCIpLiIpLmNvbmNhdChkLCI7XG4iKTtyZXR1cm4gbltjXT1hLHt1cGRhdGVkTGluZTpzLGluamVjdDp7InZzOiNkZWNsIjpmLCJ2czojbWFpbi1zdGFydCI6dn0sc2FtcGxlclRleHR1cmVNYXA6bn19cmV0dXJuIG51bGx9KHQsbik7aWYoYyl7dmFyIGY9Yy51cGRhdGVkTGluZSx2PWMuaW5qZWN0O2RbZV09ZixoPU9iamVjdChQLmIpKFtoLHZdKSxPYmplY3QuYXNzaWduKHUsYy5zYW1wbGVyVGV4dHVyZU1hcCksYS0tfX1yJiYhcyYmKHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1sKHQsWyJ2YXJ5aW5nIiwib3V0Il0pO2lmKCFuKXJldHVybiBudWxsO3JldHVybiBuLm5hbWU9PT1lP24udHlwZTpudWxsfSh0LHIpKX0pKSxyKXtPYmplY3QoeS5hKShpKTt2YXIgdj0iIi5jb25jYXQoInRyYW5zZm9ybV91U2l6ZV8iKS5jb25jYXQocikscD17InZzOiNkZWNsIjoidW5pZm9ybSB2ZWMyICIuY29uY2F0KHYsIjtcbiIpLCJ2czojbWFpbi1zdGFydCI6IiAgICAgdmVjMiAiLmNvbmNhdCgidHJhbnNmb3JtX3Bvc2l0aW9uIiwiID0gdHJhbnNmb3JtX2dldFBvcygiKS5jb25jYXQodiwiKTtcbiAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCIpLmNvbmNhdCgidHJhbnNmb3JtX3Bvc2l0aW9uIiwiLCAwLCAxLik7XG4iKX07aD1PYmplY3QoUC5iKShbaCxwXSl9Yz1kLmpvaW4oIlxuIil9cmV0dXJue3ZzOmMsdGFyZ2V0VGV4dHVyZVR5cGU6cyxpbmplY3Q6aCxzYW1wbGVyVGV4dHVyZU1hcDp1fX1mdW5jdGlvbiBFKHQpe3ZhciBlLG4scj10LnNvdXJjZVRleHR1cmVNYXAsaT10LnRhcmdldFRleHR1cmVWYXJ5aW5nLGE9dC50YXJnZXRUZXh0dXJlLG89e307Zm9yKHZhciBzIGluIGkmJihlPWEud2lkdGgsbj1hLmhlaWdodCxvWyIiLmNvbmNhdCgidHJhbnNmb3JtX3VTaXplXyIpLmNvbmNhdChpKV09W2Usbl0pLHIpe3ZhciB1PXJbc107ZT11LndpZHRoLG49dS5oZWlnaHQsb1siIi5jb25jYXQoInRyYW5zZm9ybV91U2l6ZV8iKS5jb25jYXQocyldPVtlLG5dfXJldHVybiBvfXZhciBBPShTPXt9LE9iamVjdChiLmEpKFMsMTAyNDEsOTcyOCksT2JqZWN0KGIuYSkoUywxMDI0MCw5NzI4KSxPYmplY3QoYi5hKShTLDEwMjQyLDMzMDcxKSxPYmplY3QoYi5hKShTLDEwMjQzLDMzMDcxKSxTKSxNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHIuYSkodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5jdXJyZW50SW5kZXg9MCx0aGlzLl9zd2FwVGV4dHVyZT1udWxsLHRoaXMudGFyZ2V0VGV4dHVyZVZhcnlpbmc9bnVsbCx0aGlzLnRhcmdldFRleHR1cmVUeXBlPW51bGwsdGhpcy5zYW1wbGVyVGV4dHVyZU1hcD1udWxsLHRoaXMuYmluZGluZ3M9W10sdGhpcy5yZXNvdXJjZXM9e30sdGhpcy5faW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkodCxbe2tleToidXBkYXRlTW9kZWxQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLl9wcm9jZXNzVmVydGV4U2hhZGVyKHQpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHQsZSl9fSx7a2V5OiJnZXREcmF3T3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSxuPWUuc291cmNlQnVmZmVycyxyPWUuc291cmNlVGV4dHVyZXMsaT1lLmZyYW1lYnVmZmVyLGE9ZS50YXJnZXRUZXh0dXJlLG89T2JqZWN0LmFzc2lnbih7fSxuLHQuYXR0cmlidXRlcykscz1PYmplY3QuYXNzaWduKHt9LHQudW5pZm9ybXMpLHU9T2JqZWN0LmFzc2lnbih7fSx0LnBhcmFtZXRlcnMpLGM9dC5kaXNjYXJkO2lmKHRoaXMuaGFzU291cmNlVGV4dHVyZXN8fHRoaXMuaGFzVGFyZ2V0VGV4dHVyZSl7Zm9yKHZhciBsIGluIG8udHJhbnNmb3JtX2VsZW1lbnRJRD10aGlzLmVsZW1lbnRJREJ1ZmZlcix0aGlzLnNhbXBsZXJUZXh0dXJlTWFwKXt2YXIgaD10aGlzLnNhbXBsZXJUZXh0dXJlTWFwW2xdO3NbbF09cltoXX10aGlzLl9zZXRTb3VyY2VUZXh0dXJlUGFyYW1ldGVycygpO3ZhciBmPUUoe3NvdXJjZVRleHR1cmVNYXA6cix0YXJnZXRUZXh0dXJlVmFyeWluZzp0aGlzLnRhcmdldFRleHR1cmVWYXJ5aW5nLHRhcmdldFRleHR1cmU6YX0pO09iamVjdC5hc3NpZ24ocyxmKX1yZXR1cm4gdGhpcy5oYXNUYXJnZXRUZXh0dXJlJiYoYz0hMSx1LnZpZXdwb3J0PVswLDAsaS53aWR0aCxpLmhlaWdodF0pLHthdHRyaWJ1dGVzOm8sZnJhbWVidWZmZXI6aSx1bmlmb3JtczpzLGRpc2NhcmQ6YyxwYXJhbWV0ZXJzOnV9fX0se2tleToic3dhcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3N3YXBUZXh0dXJlJiYodGhpcy5jdXJyZW50SW5kZXg9dGhpcy5fZ2V0TmV4dEluZGV4KCksITApfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9zZXR1cFRleHR1cmVzKHQpfX0se2tleToiZ2V0VGFyZ2V0VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0udGFyZ2V0VGV4dHVyZX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5wYWNrZWQsbj12b2lkIDAhPT1lJiZlLHI9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0uZnJhbWVidWZmZXIsaT1PYmplY3QoXy5jKShyKTtpZighbilyZXR1cm4gaTtmb3IodmFyIGE9aS5jb25zdHJ1Y3RvcixvPWYodGhpcy50YXJnZXRUZXh0dXJlVHlwZSkscz1uZXcgYShpLmxlbmd0aCpvLzQpLHU9MCxjPTA7YzxpLmxlbmd0aDtjKz00KWZvcih2YXIgbD0wO2w8bztsKyspc1t1KytdPWlbYytsXTtyZXR1cm4gc319LHtrZXk6ImdldEZyYW1lYnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XS5mcmFtZWJ1ZmZlcn19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm93blRleHR1cmUmJnRoaXMub3duVGV4dHVyZS5kZWxldGUoKSx0aGlzLmVsZW1lbnRJREJ1ZmZlciYmdGhpcy5lbGVtZW50SURCdWZmZXIuZGVsZXRlKCl9fSx7a2V5OiJfaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10Ll90YXJnZXRUZXh0dXJlVmFyeWluZyxuPXQuX3N3YXBUZXh0dXJlO3RoaXMuX3N3YXBUZXh0dXJlPW4sdGhpcy50YXJnZXRUZXh0dXJlVmFyeWluZz1lLHRoaXMuaGFzVGFyZ2V0VGV4dHVyZT1lLHRoaXMuX3NldHVwVGV4dHVyZXModCl9fSx7a2V5OiJfY3JlYXRlVGFyZ2V0VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zb3VyY2VUZXh0dXJlcyxuPXQudGV4dHVyZU9yUmVmZXJlbmNlO2lmKG4gaW5zdGFuY2VvZiBPLmEpcmV0dXJuIG47dmFyIHI9ZVtuXTtyZXR1cm4gcj8odGhpcy5fdGFyZ2V0UmVmVGV4TmFtZT1uLHRoaXMuX2NyZWF0ZU5ld1RleHR1cmUocikpOm51bGx9fSx7a2V5OiJfc2V0dXBUZXh0dXJlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnNvdXJjZUJ1ZmZlcnMsbj10Ll9zb3VyY2VUZXh0dXJlcyxyPXZvaWQgMD09PW4/e306bixpPXQuX3RhcmdldFRleHR1cmUsYT10aGlzLl9jcmVhdGVUYXJnZXRUZXh0dXJlKHtzb3VyY2VUZXh0dXJlczpyLHRleHR1cmVPclJlZmVyZW5jZTppfSk7dGhpcy5oYXNTb3VyY2VUZXh0dXJlcz10aGlzLmhhc1NvdXJjZVRleHR1cmVzfHxyJiZPYmplY3Qua2V5cyhyKS5sZW5ndGg+MCx0aGlzLl91cGRhdGVCaW5kaW5ncyh7c291cmNlQnVmZmVyczplLHNvdXJjZVRleHR1cmVzOnIsdGFyZ2V0VGV4dHVyZTphfSksImVsZW1lbnRDb3VudCJpbiB0JiZ0aGlzLl91cGRhdGVFbGVtZW50SURCdWZmZXIodC5lbGVtZW50Q291bnQpfX0se2tleToiX3VwZGF0ZUVsZW1lbnRJREJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISgibnVtYmVyIiE9dHlwZW9mIHR8fHRoaXMuZWxlbWVudENvdW50Pj10KSl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0KTtlLmZvckVhY2goKGZ1bmN0aW9uKHQsZSxuKXtuW2VdPWV9KSksdGhpcy5lbGVtZW50SURCdWZmZXI/dGhpcy5lbGVtZW50SURCdWZmZXIuc2V0RGF0YSh7ZGF0YTplfSk6dGhpcy5lbGVtZW50SURCdWZmZXI9bmV3IHAuYSh0aGlzLmdsLHtkYXRhOmUsYWNjZXNzb3I6e3NpemU6MX19KSx0aGlzLmVsZW1lbnRDb3VudD10fX19LHtrZXk6Il91cGRhdGVCaW5kaW5ncyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF09dGhpcy5fdXBkYXRlQmluZGluZyh0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSx0KSx0aGlzLl9zd2FwVGV4dHVyZSl7dmFyIGU9dGhpcy5fc3dhcFRleHR1cmVzKHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdKSxuPWUuc291cmNlVGV4dHVyZXMscj1lLnRhcmdldFRleHR1cmUsaT10aGlzLl9nZXROZXh0SW5kZXgoKTt0aGlzLmJpbmRpbmdzW2ldPXRoaXMuX3VwZGF0ZUJpbmRpbmcodGhpcy5iaW5kaW5nc1tpXSx7c291cmNlVGV4dHVyZXM6bix0YXJnZXRUZXh0dXJlOnJ9KX19fSx7a2V5OiJfdXBkYXRlQmluZGluZyIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnNvdXJjZUJ1ZmZlcnMscj1lLnNvdXJjZVRleHR1cmVzLGk9ZS50YXJnZXRUZXh0dXJlO2lmKHR8fCh0PXtzb3VyY2VCdWZmZXJzOnt9LHNvdXJjZVRleHR1cmVzOnt9LHRhcmdldFRleHR1cmU6bnVsbH0pLE9iamVjdC5hc3NpZ24odC5zb3VyY2VUZXh0dXJlcyxyKSxPYmplY3QuYXNzaWduKHQuc291cmNlQnVmZmVycyxuKSxpKXt0LnRhcmdldFRleHR1cmU9aTt2YXIgYT1pLndpZHRoLG89aS5oZWlnaHQscz10LmZyYW1lYnVmZmVyO3M/KHMudXBkYXRlKHthdHRhY2htZW50czpPYmplY3QoYi5hKSh7fSwzNjA2NCxpKSxyZXNpemVBdHRhY2htZW50czohMX0pLHMucmVzaXplKHt3aWR0aDphLGhlaWdodDpvfSkpOnQuZnJhbWVidWZmZXI9bmV3IHguYSh0aGlzLmdsLHtpZDoiIi5jb25jYXQodGhpcy5pZHx8InRyYW5zZm9ybSIsIi1mcmFtZWJ1ZmZlciIpLHdpZHRoOmEsaGVpZ2h0Om8sYXR0YWNobWVudHM6T2JqZWN0KGIuYSkoe30sMzYwNjQsaSl9KX1yZXR1cm4gdH19LHtrZXk6Il9zZXRTb3VyY2VUZXh0dXJlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnJlbnRJbmRleCxlPXRoaXMuYmluZGluZ3NbdF0uc291cmNlVGV4dHVyZXM7Zm9yKHZhciBuIGluIGUpZVtuXS5zZXRQYXJhbWV0ZXJzKEEpfX0se2tleToiX3N3YXBUZXh0dXJlcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3N3YXBUZXh0dXJlKXJldHVybiBudWxsO3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdC5zb3VyY2VUZXh0dXJlcyk7cmV0dXJuIGVbdGhpcy5fc3dhcFRleHR1cmVdPXQudGFyZ2V0VGV4dHVyZSx7c291cmNlVGV4dHVyZXM6ZSx0YXJnZXRUZXh0dXJlOnQuc291cmNlVGV4dHVyZXNbdGhpcy5fc3dhcFRleHR1cmVdfX19LHtrZXk6Il9jcmVhdGVOZXdUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPU9iamVjdCh3LmEpKHQse3BhcmFtZXRlcnM6KGU9e30sT2JqZWN0KGIuYSkoZSwxMDI0MSw5NzI4KSxPYmplY3QoYi5hKShlLDEwMjQwLDk3MjgpLE9iamVjdChiLmEpKGUsMTAyNDIsMzMwNzEpLE9iamVjdChiLmEpKGUsMTAyNDMsMzMwNzEpLGUpLHBpeGVsU3RvcmU6T2JqZWN0KGIuYSkoe30sMzc0NDAsITEpfSk7cmV0dXJuIHRoaXMub3duVGV4dHVyZSYmdGhpcy5vd25UZXh0dXJlLmRlbGV0ZSgpLHRoaXMub3duVGV4dHVyZT1uLG59fSx7a2V5OiJfZ2V0TmV4dEluZGV4Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmN1cnJlbnRJbmRleCsxKSUyfX0se2tleToiX3Byb2Nlc3NWZXJ0ZXhTaGFkZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0sbj1lLnNvdXJjZVRleHR1cmVzLHI9ZS50YXJnZXRUZXh0dXJlLGk9VCh7dnM6dC52cyxzb3VyY2VUZXh0dXJlTWFwOm4sdGFyZ2V0VGV4dHVyZVZhcnlpbmc6dGhpcy50YXJnZXRUZXh0dXJlVmFyeWluZyx0YXJnZXRUZXh0dXJlOnJ9KSxhPWkudnMsbz1pLnVuaWZvcm1zLHM9aS50YXJnZXRUZXh0dXJlVHlwZSx1PWkuaW5qZWN0LGM9aS5zYW1wbGVyVGV4dHVyZU1hcCxsPU9iamVjdChQLmIpKFt0LmluamVjdHx8e30sdV0pO3RoaXMudGFyZ2V0VGV4dHVyZVR5cGU9cyx0aGlzLnNhbXBsZXJUZXh0dXJlTWFwPWM7dmFyIGY9dC5fZnN8fGgoe3ZlcnNpb246ayhhKSxpbnB1dDp0aGlzLnRhcmdldFRleHR1cmVWYXJ5aW5nLGlucHV0VHlwZTpzLG91dHB1dDoidHJhbnNmb3JtX291dHB1dCJ9KSxkPXRoaXMuaGFzU291cmNlVGV4dHVyZXN8fHRoaXMudGFyZ2V0VGV4dHVyZVZhcnlpbmc/W2pdLmNvbmNhdCh0Lm1vZHVsZXN8fFtdKTp0Lm1vZHVsZXM7cmV0dXJue3ZzOmEsZnM6Zixtb2R1bGVzOmQsdW5pZm9ybXM6byxpbmplY3Q6bH19fV0pLHR9KCksQz1uKDExNSksTD1uKDE3NSk7bi5kKGUsImEiLChmdW5jdGlvbigpe3JldHVybiBJfSkpO3ZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHIuYSkodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5tb2RlbD1udWxsLHRoaXMuZWxlbWVudENvdW50PTAsdGhpcy5idWZmZXJUcmFuc2Zvcm09bnVsbCx0aGlzLnRleHR1cmVUcmFuc2Zvcm09bnVsbCx0aGlzLmVsZW1lbnRJREJ1ZmZlcj1udWxsLHRoaXMuX2luaXRpYWxpemUobiksT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIE9iamVjdChpLmEpKHQsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qodi5nKSh0KX19XSksT2JqZWN0KGkuYSkodCxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10aGlzLmJ1ZmZlclRyYW5zZm9ybSxuPXRoaXMudGV4dHVyZVRyYW5zZm9ybTt0JiZ0LmRlbGV0ZSgpLGUmJmUuZGVsZXRlKCksbiYmbi5kZWxldGUoKX19LHtrZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmNsZWFyUmVuZGVyVGFyZ2V0LG49dm9pZCAwPT09ZXx8ZSxyPXRoaXMuX3VwZGF0ZURyYXdPcHRpb25zKHQpO24mJnIuZnJhbWVidWZmZXImJnIuZnJhbWVidWZmZXIuY2xlYXIoe2NvbG9yOiEwfSksdGhpcy5tb2RlbC50cmFuc2Zvcm0ocil9fSx7a2V5OiJzd2FwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSExLGU9W3RoaXMuYnVmZmVyVHJhbnNmb3JtLHRoaXMudGV4dHVyZVRyYW5zZm9ybV0uZmlsdGVyKEJvb2xlYW4pLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO3Q9dHx8cy5zd2FwKCl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1PYmplY3QoeS5hKSh0LCJOb3RoaW5nIHRvIHN3YXAiKX19LHtrZXk6ImdldEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtyZXR1cm4gdGhpcy5idWZmZXJUcmFuc2Zvcm0mJnRoaXMuYnVmZmVyVHJhbnNmb3JtLmdldEJ1ZmZlcih0KX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9W3RoaXMuYnVmZmVyVHJhbnNmb3JtLHRoaXMudGV4dHVyZVRyYW5zZm9ybV0uZmlsdGVyKEJvb2xlYW4pLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlLHU9cy5nZXREYXRhKHQpO2lmKHUpcmV0dXJuIHV9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gbnVsbH19LHtrZXk6ImdldEZyYW1lYnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR1cmVUcmFuc2Zvcm0mJnRoaXMudGV4dHVyZVRyYW5zZm9ybS5nZXRGcmFtZWJ1ZmZlcigpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTsiZWxlbWVudENvdW50ImluIHQmJnRoaXMubW9kZWwuc2V0VmVydGV4Q291bnQodC5lbGVtZW50Q291bnQpO3ZhciBlPVt0aGlzLmJ1ZmZlclRyYW5zZm9ybSx0aGlzLnRleHR1cmVUcmFuc2Zvcm1dLmZpbHRlcihCb29sZWFuKSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTtzLnVwZGF0ZSh0KX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fX19LHtrZXk6Il9pbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxlPXRoaXMuZ2w7dGhpcy5fYnVpbGRSZXNvdXJjZVRyYW5zZm9ybXMoZSx0KSx0PXRoaXMuX3VwZGF0ZU1vZGVsUHJvcHModCksdGhpcy5tb2RlbD1uZXcgTC5hKGUsT2JqZWN0LmFzc2lnbih7fSx0LHtmczp0LmZzfHxoKHt2ZXJzaW9uOmsodC52cyl9KSxpZDp0LmlkfHwidHJhbnNmb3JtLW1vZGVsIixkcmF3TW9kZTp0LmRyYXdNb2RlfHwwLHZlcnRleENvdW50OnQuZWxlbWVudENvdW50fSkpLHRoaXMuYnVmZmVyVHJhbnNmb3JtJiZ0aGlzLmJ1ZmZlclRyYW5zZm9ybS5zZXR1cFJlc291cmNlcyh7bW9kZWw6dGhpcy5tb2RlbH0pfX0se2tleToiX3VwZGF0ZU1vZGVsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdCksbj1bdGhpcy5idWZmZXJUcmFuc2Zvcm0sdGhpcy50ZXh0dXJlVHJhbnNmb3JtXS5maWx0ZXIoQm9vbGVhbikscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe2U9by52YWx1ZS51cGRhdGVNb2RlbFByb3BzKGUpfX1jYXRjaCh0KXtpPSEwLGE9dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIGV9fSx7a2V5OiJfYnVpbGRSZXNvdXJjZVRyYW5zZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKHQpe2lmKCFPYmplY3QoQy5hKSh0LmZlZWRiYWNrQnVmZmVycyl8fCFPYmplY3QoQy5hKSh0LmZlZWRiYWNrTWFwKXx8dC52YXJ5aW5ncyYmdC52YXJ5aW5ncy5sZW5ndGg+MClyZXR1cm4hMDtyZXR1cm4hMX0pKGUpJiYodGhpcy5idWZmZXJUcmFuc2Zvcm09bmV3IG0odCxlKSksZnVuY3Rpb24odCl7aWYoIU9iamVjdChDLmEpKHQuX3NvdXJjZVRleHR1cmVzKXx8dC5fdGFyZ2V0VGV4dHVyZXx8dC5fdGFyZ2V0VGV4dHVyZVZhcnlpbmcpcmV0dXJuITA7cmV0dXJuITF9KGUpJiYodGhpcy50ZXh0dXJlVHJhbnNmb3JtPW5ldyBNKHQsZSkpLE9iamVjdCh5LmEpKHRoaXMuYnVmZmVyVHJhbnNmb3JtfHx0aGlzLnRleHR1cmVUcmFuc2Zvcm0sIm11c3QgcHJvdmlkZSBzb3VyY2UvZmVlZGJhY2sgYnVmZmVycyBvciBzb3VyY2UvdGFyZ2V0IHRleHR1cmVzIil9fSx7a2V5OiJfdXBkYXRlRHJhd09wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5hc3NpZ24oe30sdCksbj1bdGhpcy5idWZmZXJUcmFuc2Zvcm0sdGhpcy50ZXh0dXJlVHJhbnNmb3JtXS5maWx0ZXIoQm9vbGVhbikscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7ZT1PYmplY3QuYXNzaWduKGUsdS5nZXREcmF3T3B0aW9ucyhlKSl9fWNhdGNoKHQpe2k9ITAsYT10fWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gZX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9TWF0aC5mcm91bmQodCksaT10LXI7cmV0dXJuIGVbbl09cixlW24rMV09aSxlfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQtTWF0aC5mcm91bmQodCl9bi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBhPXtPTkU6MX07dmFyIG89e25hbWU6ImZwNjQtYXJpdGhtZXRpYyIsdnM6InVuaWZvcm0gZmxvYXQgT05FO1xudmVjMiBzcGxpdChmbG9hdCBhKSB7XG4gIGNvbnN0IGZsb2F0IFNQTElUID0gNDA5Ny4wO1xuICBmbG9hdCB0ID0gYSAqIFNQTElUO1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgZmxvYXQgYV9oaSA9IHQgKiBPTkUgLSAodCAtIGEpO1xuICBmbG9hdCBhX2xvID0gYSAqIE9ORSAtIGFfaGk7XG4jZWxzZVxuICBmbG9hdCBhX2hpID0gdCAtICh0IC0gYSk7XG4gIGZsb2F0IGFfbG8gPSBhIC0gYV9oaTtcbiNlbmRpZlxuICByZXR1cm4gdmVjMihhX2hpLCBhX2xvKTtcbn1cbnZlYzIgc3BsaXQyKHZlYzIgYSkge1xuICB2ZWMyIGIgPSBzcGxpdChhLngpO1xuICBiLnkgKz0gYS55O1xuICByZXR1cm4gYjtcbn1cbnZlYzIgcXVpY2tUd29TdW0oZmxvYXQgYSwgZmxvYXQgYikge1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgZmxvYXQgc3VtID0gKGEgKyBiKSAqIE9ORTtcbiAgZmxvYXQgZXJyID0gYiAtIChzdW0gLSBhKSAqIE9ORTtcbiNlbHNlXG4gIGZsb2F0IHN1bSA9IGEgKyBiO1xuICBmbG9hdCBlcnIgPSBiIC0gKHN1bSAtIGEpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHN1bSwgZXJyKTtcbn1cbnZlYzIgdHdvU3VtKGZsb2F0IGEsIGZsb2F0IGIpIHtcbiAgZmxvYXQgcyA9IChhICsgYik7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCB2ID0gKHMgKiBPTkUgLSBhKSAqIE9ORTtcbiAgZmxvYXQgZXJyID0gKGEgLSAocyAtIHYpICogT05FKSAqIE9ORSAqIE9ORSAqIE9ORSArIChiIC0gdik7XG4jZWxzZVxuICBmbG9hdCB2ID0gcyAtIGE7XG4gIGZsb2F0IGVyciA9IChhIC0gKHMgLSB2KSkgKyAoYiAtIHYpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHMsIGVycik7XG59XG5cbnZlYzIgdHdvU3ViKGZsb2F0IGEsIGZsb2F0IGIpIHtcbiAgZmxvYXQgcyA9IChhIC0gYik7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCB2ID0gKHMgKiBPTkUgLSBhKSAqIE9ORTtcbiAgZmxvYXQgZXJyID0gKGEgLSAocyAtIHYpICogT05FKSAqIE9ORSAqIE9ORSAqIE9ORSAtIChiICsgdik7XG4jZWxzZVxuICBmbG9hdCB2ID0gcyAtIGE7XG4gIGZsb2F0IGVyciA9IChhIC0gKHMgLSB2KSkgLSAoYiArIHYpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHMsIGVycik7XG59XG5cbnZlYzIgdHdvU3FyKGZsb2F0IGEpIHtcbiAgZmxvYXQgcHJvZCA9IGEgKiBhO1xuICB2ZWMyIGFfZnA2NCA9IHNwbGl0KGEpO1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgZmxvYXQgZXJyID0gKChhX2ZwNjQueCAqIGFfZnA2NC54IC0gcHJvZCkgKiBPTkUgKyAyLjAgKiBhX2ZwNjQueCAqXG4gICAgYV9mcDY0LnkgKiBPTkUgKiBPTkUpICsgYV9mcDY0LnkgKiBhX2ZwNjQueSAqIE9ORSAqIE9ORSAqIE9ORTtcbiNlbHNlXG4gIGZsb2F0IGVyciA9ICgoYV9mcDY0LnggKiBhX2ZwNjQueCAtIHByb2QpICsgMi4wICogYV9mcDY0LnggKiBhX2ZwNjQueSkgKyBhX2ZwNjQueSAqIGFfZnA2NC55O1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKHByb2QsIGVycik7XG59XG5cbnZlYzIgdHdvUHJvZChmbG9hdCBhLCBmbG9hdCBiKSB7XG4gIGZsb2F0IHByb2QgPSBhICogYjtcbiAgdmVjMiBhX2ZwNjQgPSBzcGxpdChhKTtcbiAgdmVjMiBiX2ZwNjQgPSBzcGxpdChiKTtcbiAgZmxvYXQgZXJyID0gKChhX2ZwNjQueCAqIGJfZnA2NC54IC0gcHJvZCkgKyBhX2ZwNjQueCAqIGJfZnA2NC55ICtcbiAgICBhX2ZwNjQueSAqIGJfZnA2NC54KSArIGFfZnA2NC55ICogYl9mcDY0Lnk7XG4gIHJldHVybiB2ZWMyKHByb2QsIGVycik7XG59XG5cbnZlYzIgc3VtX2ZwNjQodmVjMiBhLCB2ZWMyIGIpIHtcbiAgdmVjMiBzLCB0O1xuICBzID0gdHdvU3VtKGEueCwgYi54KTtcbiAgdCA9IHR3b1N1bShhLnksIGIueSk7XG4gIHMueSArPSB0Lng7XG4gIHMgPSBxdWlja1R3b1N1bShzLngsIHMueSk7XG4gIHMueSArPSB0Lnk7XG4gIHMgPSBxdWlja1R3b1N1bShzLngsIHMueSk7XG4gIHJldHVybiBzO1xufVxuXG52ZWMyIHN1Yl9mcDY0KHZlYzIgYSwgdmVjMiBiKSB7XG4gIHZlYzIgcywgdDtcbiAgcyA9IHR3b1N1YihhLngsIGIueCk7XG4gIHQgPSB0d29TdWIoYS55LCBiLnkpO1xuICBzLnkgKz0gdC54O1xuICBzID0gcXVpY2tUd29TdW0ocy54LCBzLnkpO1xuICBzLnkgKz0gdC55O1xuICBzID0gcXVpY2tUd29TdW0ocy54LCBzLnkpO1xuICByZXR1cm4gcztcbn1cblxudmVjMiBtdWxfZnA2NCh2ZWMyIGEsIHZlYzIgYikge1xuICB2ZWMyIHByb2QgPSB0d29Qcm9kKGEueCwgYi54KTtcbiAgcHJvZC55ICs9IGEueCAqIGIueTtcbiNpZiBkZWZpbmVkKExVTUFfRlA2NF9ISUdIX0JJVFNfT1ZFUkZMT1dfV09SS0FST1VORClcbiAgcHJvZCA9IHNwbGl0Mihwcm9kKTtcbiNlbmRpZlxuICBwcm9kID0gcXVpY2tUd29TdW0ocHJvZC54LCBwcm9kLnkpO1xuICBwcm9kLnkgKz0gYS55ICogYi54O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EKVxuICBwcm9kID0gc3BsaXQyKHByb2QpO1xuI2VuZGlmXG4gIHByb2QgPSBxdWlja1R3b1N1bShwcm9kLngsIHByb2QueSk7XG4gIHJldHVybiBwcm9kO1xufVxuXG52ZWMyIGRpdl9mcDY0KHZlYzIgYSwgdmVjMiBiKSB7XG4gIGZsb2F0IHhuID0gMS4wIC8gYi54O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EKVxuICB2ZWMyIHluID0gbXVsX2ZwNjQoYSwgdmVjMih4biwgMCkpO1xuI2Vsc2VcbiAgdmVjMiB5biA9IGEgKiB4bjtcbiNlbmRpZlxuICBmbG9hdCBkaWZmID0gKHN1Yl9mcDY0KGEsIG11bF9mcDY0KGIsIHluKSkpLng7XG4gIHZlYzIgcHJvZCA9IHR3b1Byb2QoeG4sIGRpZmYpO1xuICByZXR1cm4gc3VtX2ZwNjQoeW4sIHByb2QpO1xufVxuXG52ZWMyIHNxcnRfZnA2NCh2ZWMyIGEpIHtcbiAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICBpZiAoYS54IDwgMC4wKSByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG5cbiAgZmxvYXQgeCA9IDEuMCAvIHNxcnQoYS54KTtcbiAgZmxvYXQgeW4gPSBhLnggKiB4O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORClcbiAgdmVjMiB5bl9zcXIgPSB0d29TcXIoeW4pICogT05FO1xuI2Vsc2VcbiAgdmVjMiB5bl9zcXIgPSB0d29TcXIoeW4pO1xuI2VuZGlmXG4gIGZsb2F0IGRpZmYgPSBzdWJfZnA2NChhLCB5bl9zcXIpLng7XG4gIHZlYzIgcHJvZCA9IHR3b1Byb2QoeCAqIDAuNSwgZGlmZik7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfSElHSF9CSVRTX09WRVJGTE9XX1dPUktBUk9VTkQpXG4gIHJldHVybiBzdW1fZnA2NChzcGxpdCh5biksIHByb2QpO1xuI2Vsc2VcbiAgcmV0dXJuIHN1bV9mcDY0KHZlYzIoeW4sIDAuMCksIHByb2QpO1xuI2VuZGlmXG59XG4iLGZzOm51bGwsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZnA2NGlmeTpyLGZwNjRMb3dQYXJ0Oml9O2UuYT17bmFtZToiZnA2NCIsdnM6ImNvbnN0IHZlYzIgRV9GUDY0ID0gdmVjMigyLjcxODI4MTc0NTkxMDY0NDVlKzAwLCA4LjI1NDg0MDM2NjgxNzAwN2UtMDgpO1xuY29uc3QgdmVjMiBMT0cyX0ZQNjQgPSB2ZWMyKDAuNjkzMTQ3MTgyNDY0NTk5NmUrMDAsIC0xLjkwNDY1NDIxMjEyNTkzMzZlLTA5KTtcbmNvbnN0IHZlYzIgUElfRlA2NCA9IHZlYzIoMy4xNDE1OTI3NDEwMTI1NzMyLCAtOC43NDIyNzgwMTI2MTg5NTRlLTgpO1xuY29uc3QgdmVjMiBUV09fUElfRlA2NCA9IHZlYzIoNi4yODMxODU0ODIwMjUxNDY1LCAtMS43NDg0NTU2MDI1MjM3OTA3ZS03KTtcbmNvbnN0IHZlYzIgUElfMl9GUDY0ID0gdmVjMigxLjU3MDc5NjM3MDUwNjI4NjYsIC00LjM3MTEzOTAwNjMwOTQ3N2UtOCk7XG5jb25zdCB2ZWMyIFBJXzRfRlA2NCA9IHZlYzIoMC43ODUzOTgxODUyNTMxNDMzLCAtMi4xODU1Njk1MDMxNTQ3Mzg0ZS04KTtcbmNvbnN0IHZlYzIgUElfMTZfRlA2NCA9IHZlYzIoMC4xOTYzNDk1NDYzMTMyODU4MywgLTUuNDYzOTIzNzU3ODg2ODQ2ZS05KTtcbmNvbnN0IHZlYzIgUElfMTZfMl9GUDY0ID0gdmVjMigwLjM5MjY5OTA5MjYyNjU3MTY2LCAtMS4wOTI3ODQ3NTE1NzczNjkyZS04KTtcbmNvbnN0IHZlYzIgUElfMTZfM19GUDY0ID0gdmVjMigwLjU4OTA0ODYyNDAzODY5NjMsIC0xLjQ5MDYxMDA3OTgxMjg4MThlLTkpO1xuY29uc3QgdmVjMiBQSV8xODBfRlA2NCA9IHZlYzIoMC4wMTc0NTMyOTIzODQ3NDM2OSwgMS4zNTE5OTYwNDk4MzY0OTAyZS0xMCk7XG5cbmNvbnN0IHZlYzIgU0lOX1RBQkxFXzBfRlA2NCA9IHZlYzIoMC4xOTUwOTAzMjM2ODY1OTk3MywgLTEuNjcwNDcxNDgzMzYxNTI0MmUtOSk7XG5jb25zdCB2ZWMyIFNJTl9UQUJMRV8xX0ZQNjQgPSB2ZWMyKDAuMzgyNjgzNDI2MTQxNzM4OSwgNi4yMjMzNTA4OTAxNzc2N2UtOSk7XG5jb25zdCB2ZWMyIFNJTl9UQUJMRV8yX0ZQNjQgPSB2ZWMyKDAuNTU1NTcwMjQ0Nzg5MTIzNSwgLTEuMTc2OTUyMTM1NzUwNzUyOWUtOCk7XG5jb25zdCB2ZWMyIFNJTl9UQUJMRV8zX0ZQNjQgPSB2ZWMyKDAuNzA3MTA2NzY5MDg0OTMwNCwgMS4yMTAxNjE3MDQxNzkzMTMzZS04KTtcblxuY29uc3QgdmVjMiBDT1NfVEFCTEVfMF9GUDY0ID0gdmVjMigwLjk4MDc4NTI1MDY2Mzc1NzMsIDIuOTczOTQ3MzEwNjM2MDQ5MmUtOCk7XG5jb25zdCB2ZWMyIENPU19UQUJMRV8xX0ZQNjQgPSB2ZWMyKDAuOTIzODc5NTA0MjAzNzk2NCwgMi44MzA3NDkwMzUxNzY0Mzg2ZS04KTtcbmNvbnN0IHZlYzIgQ09TX1RBQkxFXzJfRlA2NCA9IHZlYzIoMC44MzE0Njk1OTU0MzIyODE1LCAxLjY4NzAyNjM3NDE1MzA3NzhlLTgpO1xuY29uc3QgdmVjMiBDT1NfVEFCTEVfM19GUDY0ID0gdmVjMigwLjcwNzEwNjc2OTA4NDkzMDQsIDEuMjEwMTYxNzE1MjgxNTQzNmUtOCk7XG5cbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfM19GUDY0ID0gdmVjMigxLjY2NjY2NjcxNjMzNzIwNGUtMDEsIC00Ljk2NzA1Mzg3OTMxMjI4OWUtMDkpO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF80X0ZQNjQgPSB2ZWMyKDQuMTY2NjY2NzkwODQzMDFlLTAyLCAtMS4yNDE3NjM0Njk4MjgwNzIyZS0wOSk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzVfRlA2NCA9IHZlYzIoOC4zMzMzMzM3Njc5NTA1MzVlLTAzLCAtNC4zNDYxNzIwMzMzNzU5NWUtMTApO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF82X0ZQNjQgPSB2ZWMyKDEuMzg4ODg4OTIyNTE5OTgxOWUtMDMsIC0zLjM2MzEwOTQ0MzcxMDMyMTVlLTExKTtcbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfN19GUDY0ID0gdmVjMigxLjk4NDEyNzAxMTM4Mjk1MjNlLTA0LCAgLTIuNzI1NTk2ODc0OTMzNDU2ZS0xMik7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzhfRlA2NCA9IHZlYzIoMi40ODAxNTg3NjQyMjg2OTA0ZS0wNSwgLTMuNDA2OTk2MDI1OTA0MTg0ZS0xMyk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzlfRlA2NCA9IHZlYzIoMi43NTU3MzE4ODQ0NjI4NzUzM2UtMDYsIDMuNzkzNTcxMzkzNzAzODE4NmUtMTQpO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF8xMF9GUDY0ID0gdmVjMigyLjc1NTczMTk5ODE0OTcxM2UtMDcsIC03LjU3NTExMjM2Nzg2OTg3M2UtMTUpO1xuXG5mbG9hdCBuaW50KGZsb2F0IGQpIHtcbiAgICBpZiAoZCA9PSBmbG9vcihkKSkgcmV0dXJuIGQ7XG4gICAgcmV0dXJuIGZsb29yKGQgKyAwLjUpO1xufVxuXG52ZWMyIG5pbnRfZnA2NCh2ZWMyIGEpIHtcbiAgICBmbG9hdCBoaSA9IG5pbnQoYS54KTtcbiAgICBmbG9hdCBsbztcbiAgICB2ZWMyIHRtcDtcbiAgICBpZiAoaGkgPT0gYS54KSB7XG4gICAgICAgIGxvID0gbmludChhLnkpO1xuICAgICAgICB0bXAgPSBxdWlja1R3b1N1bShoaSwgbG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvID0gMC4wO1xuICAgICAgICBpZiAoYWJzKGhpIC0gYS54KSA9PSAwLjUgJiYgYS55IDwgMC4wKSB7XG4gICAgICAgICAgICBoaSAtPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgdG1wID0gdmVjMihoaSwgbG8pO1xuICAgIH1cbiAgICByZXR1cm4gdG1wO1xufVxuXG52ZWMyIGV4cF9mcDY0KHZlYzIgYSkge1xuXG4gIGNvbnN0IGludCBrX3Bvd2VyID0gNDtcbiAgY29uc3QgZmxvYXQgayA9IDE2LjA7XG5cbiAgY29uc3QgZmxvYXQgaW52X2sgPSAxLjAgLyBrO1xuXG4gIGlmIChhLnggPD0gLTg4LjApIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgaWYgKGEueCA+PSA4OC4wKSByZXR1cm4gdmVjMigxLjAgLyAwLjAsIDEuMCAvIDAuMCk7XG4gIGlmIChhLnggPT0gMC4wICYmIGEueSA9PSAwLjApIHJldHVybiB2ZWMyKDEuMCwgMC4wKTtcbiAgaWYgKGEueCA9PSAxLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIEVfRlA2NDtcblxuICBmbG9hdCBtID0gZmxvb3IoYS54IC8gTE9HMl9GUDY0LnggKyAwLjUpO1xuICB2ZWMyIHIgPSBzdWJfZnA2NChhLCBtdWxfZnA2NChMT0cyX0ZQNjQsIHZlYzIobSwgMC4wKSkpICogaW52X2s7XG4gIHZlYzIgcywgdCwgcDtcblxuICBwID0gbXVsX2ZwNjQociwgcik7XG4gIHMgPSBzdW1fZnA2NChyLCBwICogMC41KTtcbiAgcCA9IG11bF9mcDY0KHAsIHIpO1xuICB0ID0gbXVsX2ZwNjQocCwgSU5WRVJTRV9GQUNUT1JJQUxfM19GUDY0KTtcblxuICBzID0gc3VtX2ZwNjQocywgdCk7XG4gIHAgPSBtdWxfZnA2NChwLCByKTtcbiAgdCA9IG11bF9mcDY0KHAsIElOVkVSU0VfRkFDVE9SSUFMXzRfRlA2NCk7XG5cbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuICBwID0gbXVsX2ZwNjQocCwgcik7XG4gIHQgPSBtdWxfZnA2NChwLCBJTlZFUlNFX0ZBQ1RPUklBTF81X0ZQNjQpO1xuXG5cblxuXG5cblxuICBzID0gc3VtX2ZwNjQocywgdCk7XG4gIGZvciAoaW50IGkgPSAwOyBpIDwga19wb3dlcjsgaSsrKSB7XG4gICAgcyA9IHN1bV9mcDY0KHMgKiAyLjAsIG11bF9mcDY0KHMsIHMpKTtcbiAgfVxuXG4jaWYgZGVmaW5lZChOVklESUFfRlA2NF9XT1JLQVJPVU5EKSB8fCBkZWZpbmVkKElOVEVMX0ZQNjRfV09SS0FST1VORClcbiAgcyA9IHN1bV9mcDY0KHMsIHZlYzIoT05FLCAwLjApKTtcbiNlbHNlXG4gIHMgPSBzdW1fZnA2NChzLCB2ZWMyKDEuMCwgMC4wKSk7XG4jZW5kaWZcblxuICByZXR1cm4gcyAqIHBvdygyLjAsIG0pO1xufVxuXG52ZWMyIGxvZ19mcDY0KHZlYzIgYSlcbntcbiAgaWYgKGEueCA9PSAxLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICBpZiAoYS54IDw9IDAuMCkgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICB2ZWMyIHggPSB2ZWMyKGxvZyhhLngpLCAwLjApO1xuICB2ZWMyIHM7XG4jaWYgZGVmaW5lZChOVklESUFfRlA2NF9XT1JLQVJPVU5EKSB8fCBkZWZpbmVkKElOVEVMX0ZQNjRfV09SS0FST1VORClcbiAgcyA9IHZlYzIoT05FLCAwLjApO1xuI2Vsc2VcbiAgcyA9IHZlYzIoMS4wLCAwLjApO1xuI2VuZGlmXG5cbiAgeCA9IHN1Yl9mcDY0KHN1bV9mcDY0KHgsIG11bF9mcDY0KGEsIGV4cF9mcDY0KC14KSkpLCBzKTtcbiAgcmV0dXJuIHg7XG59XG5cbnZlYzIgc2luX3RheWxvcl9mcDY0KHZlYzIgYSkge1xuICB2ZWMyIHIsIHMsIHQsIHg7XG5cbiAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgfVxuXG4gIHggPSAtbXVsX2ZwNjQoYSwgYSk7XG4gIHMgPSBhO1xuICByID0gYTtcblxuICByID0gbXVsX2ZwNjQociwgeCk7XG4gIHQgPSBtdWxfZnA2NChyLCBJTlZFUlNFX0ZBQ1RPUklBTF8zX0ZQNjQpO1xuICBzID0gc3VtX2ZwNjQocywgdCk7XG5cbiAgciA9IG11bF9mcDY0KHIsIHgpO1xuICB0ID0gbXVsX2ZwNjQociwgSU5WRVJTRV9GQUNUT1JJQUxfNV9GUDY0KTtcbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuXG5cblxuXG5cblxuICByZXR1cm4gcztcbn1cblxudmVjMiBjb3NfdGF5bG9yX2ZwNjQodmVjMiBhKSB7XG4gIHZlYzIgciwgcywgdCwgeDtcblxuICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgcmV0dXJuIHZlYzIoMS4wLCAwLjApO1xuICB9XG5cbiAgeCA9IC1tdWxfZnA2NChhLCBhKTtcbiAgciA9IHg7XG4gIHMgPSBzdW1fZnA2NCh2ZWMyKDEuMCwgMC4wKSwgciAqIDAuNSk7XG5cbiAgciA9IG11bF9mcDY0KHIsIHgpO1xuICB0ID0gbXVsX2ZwNjQociwgSU5WRVJTRV9GQUNUT1JJQUxfNF9GUDY0KTtcbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuXG4gIHIgPSBtdWxfZnA2NChyLCB4KTtcbiAgdCA9IG11bF9mcDY0KHIsIElOVkVSU0VfRkFDVE9SSUFMXzZfRlA2NCk7XG4gIHMgPSBzdW1fZnA2NChzLCB0KTtcblxuXG5cblxuXG5cbiAgcmV0dXJuIHM7XG59XG5cbnZvaWQgc2luY29zX3RheWxvcl9mcDY0KHZlYzIgYSwgb3V0IHZlYzIgc2luX3QsIG91dCB2ZWMyIGNvc190KSB7XG4gIGlmIChhLnggPT0gMC4wICYmIGEueSA9PSAwLjApIHtcbiAgICBzaW5fdCA9IHZlYzIoMC4wLCAwLjApO1xuICAgIGNvc190ID0gdmVjMigxLjAsIDAuMCk7XG4gIH1cblxuICBzaW5fdCA9IHNpbl90YXlsb3JfZnA2NChhKTtcbiAgY29zX3QgPSBzcXJ0X2ZwNjQoc3ViX2ZwNjQodmVjMigxLjAsIDAuMCksIG11bF9mcDY0KHNpbl90LCBzaW5fdCkpKTtcbn1cblxudmVjMiBzaW5fZnA2NCh2ZWMyIGEpIHtcbiAgICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgICB9XG4gICAgdmVjMiB6ID0gbmludF9mcDY0KGRpdl9mcDY0KGEsIFRXT19QSV9GUDY0KSk7XG4gICAgdmVjMiByID0gc3ViX2ZwNjQoYSwgbXVsX2ZwNjQoVFdPX1BJX0ZQNjQsIHopKTtcblxuICAgIHZlYzIgdDtcbiAgICBmbG9hdCBxID0gZmxvb3Ioci54IC8gUElfMl9GUDY0LnggKyAwLjUpO1xuICAgIGludCBqID0gaW50KHEpO1xuXG4gICAgaWYgKGogPCAtMiB8fCBqID4gMikge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gICAgfVxuXG4gICAgdCA9IHN1Yl9mcDY0KHIsIG11bF9mcDY0KFBJXzJfRlA2NCwgdmVjMihxLCAwLjApKSk7XG5cbiAgICBxID0gZmxvb3IodC54IC8gUElfMTZfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgayA9IGludChxKTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpbl90YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChqID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIC1jb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLXNpbl90YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludCBhYnNfayA9IGludChhYnMoZmxvYXQoaykpKTtcblxuICAgIGlmIChhYnNfayA+IDQpIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSBzdWJfZnA2NCh0LCBtdWxfZnA2NChQSV8xNl9GUDY0LCB2ZWMyKHEsIDAuMCkpKTtcbiAgICB9XG5cbiAgICB2ZWMyIHUgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICB2ZWMyIHYgPSB2ZWMyKDAuMCwgMC4wKTtcblxuI2lmIGRlZmluZWQoTlZJRElBX0ZQNjRfV09SS0FST1VORCkgfHwgZGVmaW5lZChJTlRFTF9GUDY0X1dPUktBUk9VTkQpXG4gICAgaWYgKGFicyhmbG9hdChhYnNfaykgLSAxLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAyLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAzLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMl9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSA0LjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICB9XG4jZWxzZVxuICAgIGlmIChhYnNfayA9PSAxKSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFic19rID09IDIpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMV9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMykge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnNfayA9PSA0KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICB9XG4jZW5kaWZcblxuICAgIHZlYzIgc2luX3QsIGNvc190O1xuICAgIHNpbmNvc190YXlsb3JfZnA2NCh0LCBzaW5fdCwgY29zX3QpO1xuXG5cblxuICAgIHZlYzIgcmVzdWx0ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodiwgc2luX3QpLCBtdWxfZnA2NCh1LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHYsIHNpbl90KSwgbXVsX2ZwNjQodSwgY29zX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHYsIGNvc190KSwgbXVsX2ZwNjQodSwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnZlYzIgY29zX2ZwNjQodmVjMiBhKSB7XG4gICAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgICAgICByZXR1cm4gdmVjMigxLjAsIDAuMCk7XG4gICAgfVxuICAgIHZlYzIgeiA9IG5pbnRfZnA2NChkaXZfZnA2NChhLCBUV09fUElfRlA2NCkpO1xuICAgIHZlYzIgciA9IHN1Yl9mcDY0KGEsIG11bF9mcDY0KFRXT19QSV9GUDY0LCB6KSk7XG5cbiAgICB2ZWMyIHQ7XG4gICAgZmxvYXQgcSA9IGZsb29yKHIueCAvIFBJXzJfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgaiA9IGludChxKTtcblxuICAgIGlmIChqIDwgLTIgfHwgaiA+IDIpIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICAgIH1cblxuICAgIHQgPSBzdWJfZnA2NChyLCBtdWxfZnA2NChQSV8yX0ZQNjQsIHZlYzIocSwgMC4wKSkpO1xuXG4gICAgcSA9IGZsb29yKHQueCAvIFBJXzE2X0ZQNjQueCArIDAuNSk7XG4gICAgaW50IGsgPSBpbnQocSk7XG5cbiAgICBpZiAoayA9PSAwKSB7XG4gICAgICAgIGlmIChqID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gLXNpbl90YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gc2luX3RheWxvcl9mcDY0KHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC1jb3NfdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnQgYWJzX2sgPSBpbnQoYWJzKGZsb2F0KGspKSk7XG5cbiAgICBpZiAoYWJzX2sgPiA0KSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ID0gc3ViX2ZwNjQodCwgbXVsX2ZwNjQoUElfMTZfRlA2NCwgdmVjMihxLCAwLjApKSk7XG4gICAgfVxuXG4gICAgdmVjMiB1ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgdmVjMiB2ID0gdmVjMigwLjAsIDAuMCk7XG5cbiNpZiBkZWZpbmVkKE5WSURJQV9GUDY0X1dPUktBUk9VTkQpIHx8IGRlZmluZWQoSU5URUxfRlA2NF9XT1JLQVJPVU5EKVxuICAgIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMS4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMi4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzFfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMy4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gNC4wKSA8IDAuNSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgfVxuI2Vsc2VcbiAgICBpZiAoYWJzX2sgPT0gMSkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnNfayA9PSAyKSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFic19rID09IDMpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8yX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMl9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gNCkge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgfVxuI2VuZGlmXG5cbiAgICB2ZWMyIHNpbl90LCBjb3NfdDtcbiAgICBzaW5jb3NfdGF5bG9yX2ZwNjQodCwgc2luX3QsIGNvc190KTtcblxuICAgIHZlYzIgcmVzdWx0ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1bV9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHYsIGNvc190KSwgbXVsX2ZwNjQodSwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaiA9PSAtMSkge1xuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1bV9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodiwgc2luX3QpLCBtdWxfZnA2NCh1LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gLXN1bV9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnZlYzIgdGFuX2ZwNjQodmVjMiBhKSB7XG4gICAgdmVjMiBzaW5fYTtcbiAgICB2ZWMyIGNvc19hO1xuXG4gICAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAsIDAuMCk7XG4gICAgfVxuICAgIHZlYzIgeiA9IG5pbnRfZnA2NChkaXZfZnA2NChhLCBUV09fUElfRlA2NCkpO1xuICAgIHZlYzIgciA9IHN1Yl9mcDY0KGEsIG11bF9mcDY0KFRXT19QSV9GUDY0LCB6KSk7XG5cbiAgICB2ZWMyIHQ7XG4gICAgZmxvYXQgcSA9IGZsb29yKHIueCAvIFBJXzJfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgaiA9IGludChxKTtcblxuXG4gICAgaWYgKGogPCAtMiB8fCBqID4gMikge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gICAgfVxuXG4gICAgdCA9IHN1Yl9mcDY0KHIsIG11bF9mcDY0KFBJXzJfRlA2NCwgdmVjMihxLCAwLjApKSk7XG5cbiAgICBxID0gZmxvb3IodC54IC8gUElfMTZfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgayA9IGludChxKTtcbiAgICBpbnQgYWJzX2sgPSBpbnQoYWJzKGZsb2F0KGspKSk7XG5cbiAgICBpZiAoYWJzX2sgPiA0KSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ID0gc3ViX2ZwNjQodCwgbXVsX2ZwNjQoUElfMTZfRlA2NCwgdmVjMihxLCAwLjApKSk7XG4gICAgfVxuXG5cbiAgICB2ZWMyIHUgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICB2ZWMyIHYgPSB2ZWMyKDAuMCwgMC4wKTtcblxuICAgIHZlYzIgc2luX3QsIGNvc190O1xuICAgIHZlYzIgcywgYztcbiAgICBzaW5jb3NfdGF5bG9yX2ZwNjQodCwgc2luX3QsIGNvc190KTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgcyA9IHNpbl90O1xuICAgICAgICBjID0gY29zX3Q7XG4gICAgfSBlbHNlIHtcbiNpZiBkZWZpbmVkKE5WSURJQV9GUDY0X1dPUktBUk9VTkQpIHx8IGRlZmluZWQoSU5URUxfRlA2NF9XT1JLQVJPVU5EKVxuICAgICAgICBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDEuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDIuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDMuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMl9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDQuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgICAgIH1cbiNlbHNlXG4gICAgICAgIGlmIChhYnNfayA9PSAxKSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfMF9GUDY0O1xuICAgICAgICB9IGVsc2UgaWYgKGFic19rID09IDIpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMykge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8yX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChhYnNfayA9PSA0KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfM19GUDY0O1xuICAgICAgICB9XG4jZW5kaWZcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICBzID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICAgICAgYyA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIGNvc190KSwgbXVsX2ZwNjQodiwgc2luX3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBzdWJfZnA2NChtdWxfZnA2NCh1LCBzaW5fdCksIG11bF9mcDY0KHYsIGNvc190KSk7XG4gICAgICAgICAgICBjID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgICBzaW5fYSA9IHM7XG4gICAgICAgIGNvc19hID0gYztcbiAgICB9IGVsc2UgaWYgKGogPT0gMSkge1xuICAgICAgICBzaW5fYSA9IGM7XG4gICAgICAgIGNvc19hID0gLXM7XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIHNpbl9hID0gLWM7XG4gICAgICAgIGNvc19hID0gcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaW5fYSA9IC1zO1xuICAgICAgICBjb3NfYSA9IC1jO1xuICAgIH1cbiAgICByZXR1cm4gZGl2X2ZwNjQoc2luX2EsIGNvc19hKTtcbn1cblxudmVjMiByYWRpYW5zX2ZwNjQodmVjMiBkZWdyZWUpIHtcbiAgcmV0dXJuIG11bF9mcDY0KGRlZ3JlZSwgUElfMTgwX0ZQNjQpO1xufVxuXG52ZWMyIG1peF9mcDY0KHZlYzIgYSwgdmVjMiBiLCBmbG9hdCB4KSB7XG4gIHZlYzIgcmFuZ2UgPSBzdWJfZnA2NChiLCBhKTtcbiAgcmV0dXJuIHN1bV9mcDY0KGEsIG11bF9mcDY0KHJhbmdlLCB2ZWMyKHgsIDAuMCkpKTtcbn1cblxudm9pZCB2ZWMyX3N1bV9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IHN1bV9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBzdW1fZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX3N1Yl9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IHN1Yl9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBzdWJfZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX211bF9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IG11bF9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBtdWxfZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX2Rpdl9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gICAgb3V0X3ZhbFswXSA9IGRpdl9mcDY0KGFbMF0sIGJbMF0pO1xuICAgIG91dF92YWxbMV0gPSBkaXZfZnA2NChhWzFdLCBiWzFdKTtcbn1cblxudm9pZCB2ZWMyX21peF9mcDY0KHZlYzIgeFsyXSwgdmVjMiB5WzJdLCBmbG9hdCBhLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzIgcmFuZ2VbMl07XG4gIHZlYzJfc3ViX2ZwNjQoeSwgeCwgcmFuZ2UpO1xuICB2ZWMyIHBvcnRpb25bMl07XG4gIHBvcnRpb25bMF0gPSByYW5nZVswXSAqIGE7XG4gIHBvcnRpb25bMV0gPSByYW5nZVsxXSAqIGE7XG4gIHZlYzJfc3VtX2ZwNjQoeCwgcG9ydGlvbiwgb3V0X3ZhbCk7XG59XG5cbnZlYzIgdmVjMl9sZW5ndGhfZnA2NCh2ZWMyIHhbMl0pIHtcbiAgcmV0dXJuIHNxcnRfZnA2NChzdW1fZnA2NChtdWxfZnA2NCh4WzBdLCB4WzBdKSwgbXVsX2ZwNjQoeFsxXSwgeFsxXSkpKTtcbn1cblxudm9pZCB2ZWMyX25vcm1hbGl6ZV9mcDY0KHZlYzIgeFsyXSwgb3V0IHZlYzIgb3V0X3ZhbFsyXSkge1xuICB2ZWMyIGxlbmd0aCA9IHZlYzJfbGVuZ3RoX2ZwNjQoeCk7XG4gIHZlYzIgbGVuZ3RoX3ZlYzJbMl07XG4gIGxlbmd0aF92ZWMyWzBdID0gbGVuZ3RoO1xuICBsZW5ndGhfdmVjMlsxXSA9IGxlbmd0aDtcblxuICB2ZWMyX2Rpdl9mcDY0KHgsIGxlbmd0aF92ZWMyLCBvdXRfdmFsKTtcbn1cblxudmVjMiB2ZWMyX2Rpc3RhbmNlX2ZwNjQodmVjMiB4WzJdLCB2ZWMyIHlbMl0pIHtcbiAgdmVjMiBkaWZmWzJdO1xuICB2ZWMyX3N1Yl9mcDY0KHgsIHksIGRpZmYpO1xuICByZXR1cm4gdmVjMl9sZW5ndGhfZnA2NChkaWZmKTtcbn1cblxudmVjMiB2ZWMyX2RvdF9mcDY0KHZlYzIgYVsyXSwgdmVjMiBiWzJdKSB7XG4gIHZlYzIgdlsyXTtcblxuICB2WzBdID0gbXVsX2ZwNjQoYVswXSwgYlswXSk7XG4gIHZbMV0gPSBtdWxfZnA2NChhWzFdLCBiWzFdKTtcblxuICByZXR1cm4gc3VtX2ZwNjQodlswXSwgdlsxXSk7XG59XG52b2lkIHZlYzNfc3ViX2ZwNjQodmVjMiBhWzNdLCB2ZWMyIGJbM10sIG91dCB2ZWMyIG91dF92YWxbM10pIHtcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBvdXRfdmFsW2ldID0gc3VtX2ZwNjQoYVtpXSwgYltpXSk7XG4gIH1cbn1cblxudm9pZCB2ZWMzX3N1bV9mcDY0KHZlYzIgYVszXSwgdmVjMiBiWzNdLCBvdXQgdmVjMiBvdXRfdmFsWzNdKSB7XG4gIGZvciAoaW50IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgb3V0X3ZhbFtpXSA9IHN1bV9mcDY0KGFbaV0sIGJbaV0pO1xuICB9XG59XG5cbnZlYzIgdmVjM19sZW5ndGhfZnA2NCh2ZWMyIHhbM10pIHtcbiAgcmV0dXJuIHNxcnRfZnA2NChzdW1fZnA2NChzdW1fZnA2NChtdWxfZnA2NCh4WzBdLCB4WzBdKSwgbXVsX2ZwNjQoeFsxXSwgeFsxXSkpLFxuICAgIG11bF9mcDY0KHhbMl0sIHhbMl0pKSk7XG59XG5cbnZlYzIgdmVjM19kaXN0YW5jZV9mcDY0KHZlYzIgeFszXSwgdmVjMiB5WzNdKSB7XG4gIHZlYzIgZGlmZlszXTtcbiAgdmVjM19zdWJfZnA2NCh4LCB5LCBkaWZmKTtcbiAgcmV0dXJuIHZlYzNfbGVuZ3RoX2ZwNjQoZGlmZik7XG59XG52b2lkIHZlYzRfZnA2NCh2ZWM0IGEsIG91dCB2ZWMyIG91dF92YWxbNF0pIHtcbiAgb3V0X3ZhbFswXS54ID0gYVswXTtcbiAgb3V0X3ZhbFswXS55ID0gMC4wO1xuXG4gIG91dF92YWxbMV0ueCA9IGFbMV07XG4gIG91dF92YWxbMV0ueSA9IDAuMDtcblxuICBvdXRfdmFsWzJdLnggPSBhWzJdO1xuICBvdXRfdmFsWzJdLnkgPSAwLjA7XG5cbiAgb3V0X3ZhbFszXS54ID0gYVszXTtcbiAgb3V0X3ZhbFszXS55ID0gMC4wO1xufVxuXG52b2lkIHZlYzRfc2NhbGFyX211bF9mcDY0KHZlYzIgYVs0XSwgdmVjMiBiLCBvdXQgdmVjMiBvdXRfdmFsWzRdKSB7XG4gIG91dF92YWxbMF0gPSBtdWxfZnA2NChhWzBdLCBiKTtcbiAgb3V0X3ZhbFsxXSA9IG11bF9mcDY0KGFbMV0sIGIpO1xuICBvdXRfdmFsWzJdID0gbXVsX2ZwNjQoYVsyXSwgYik7XG4gIG91dF92YWxbM10gPSBtdWxfZnA2NChhWzNdLCBiKTtcbn1cblxudm9pZCB2ZWM0X3N1bV9mcDY0KHZlYzIgYVs0XSwgdmVjMiBiWzRdLCBvdXQgdmVjMiBvdXRfdmFsWzRdKSB7XG4gIGZvciAoaW50IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgb3V0X3ZhbFtpXSA9IHN1bV9mcDY0KGFbaV0sIGJbaV0pO1xuICB9XG59XG5cbnZvaWQgdmVjNF9kb3RfZnA2NCh2ZWMyIGFbNF0sIHZlYzIgYls0XSwgb3V0IHZlYzIgb3V0X3ZhbCkge1xuICB2ZWMyIHZbNF07XG5cbiAgdlswXSA9IG11bF9mcDY0KGFbMF0sIGJbMF0pO1xuICB2WzFdID0gbXVsX2ZwNjQoYVsxXSwgYlsxXSk7XG4gIHZbMl0gPSBtdWxfZnA2NChhWzJdLCBiWzJdKTtcbiAgdlszXSA9IG11bF9mcDY0KGFbM10sIGJbM10pO1xuXG4gIG91dF92YWwgPSBzdW1fZnA2NChzdW1fZnA2NCh2WzBdLCB2WzFdKSwgc3VtX2ZwNjQodlsyXSwgdlszXSkpO1xufVxuXG52b2lkIG1hdDRfdmVjNF9tdWxfZnA2NCh2ZWMyIGJbMTZdLCB2ZWMyIGFbNF0sIG91dCB2ZWMyIG91dF92YWxbNF0pIHtcbiAgdmVjMiB0bXBbNF07XG5cbiAgZm9yIChpbnQgaSA9IDA7IGkgPCA0OyBpKyspXG4gIHtcbiAgICBmb3IgKGludCBqID0gMDsgaiA8IDQ7IGorKylcbiAgICB7XG4gICAgICB0bXBbal0gPSBiW2ogKyBpICogNF07XG4gICAgfVxuICAgIHZlYzRfZG90X2ZwNjQoYSwgdG1wLCBvdXRfdmFsW2ldKTtcbiAgfVxufVxuIixmczpudWxsLGRlcGVuZGVuY2llczpbb10sZnA2NGlmeTpyLGZwNjRMb3dQYXJ0OmksZnA2NGlmeU1hdHJpeDQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkoMzIpLG49MDtuPDQ7KytuKWZvcih2YXIgaT0wO2k8NDsrK2kpe3ZhciBhPTQqbitpO3IodFs0Kmkrbl0sZSwyKmEpfXJldHVybiBlfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNDMpLGk9IlxudW5pZm9ybSBmbG9hdCBsaWdodGluZ191QW1iaWVudDtcbnVuaWZvcm0gZmxvYXQgbGlnaHRpbmdfdURpZmZ1c2U7XG51bmlmb3JtIGZsb2F0IGxpZ2h0aW5nX3VTaGluaW5lc3M7XG51bmlmb3JtIHZlYzMgIGxpZ2h0aW5nX3VTcGVjdWxhckNvbG9yO1xuXG52ZWMzIGxpZ2h0aW5nX2dldExpZ2h0Q29sb3IodmVjMyBzdXJmYWNlQ29sb3IsIHZlYzMgbGlnaHRfZGlyZWN0aW9uLCB2ZWMzIHZpZXdfZGlyZWN0aW9uLCB2ZWMzIG5vcm1hbF93b3JsZHNwYWNlLCB2ZWMzIGNvbG9yKSB7XG4gICAgdmVjMyBoYWxmd2F5X2RpcmVjdGlvbiA9IG5vcm1hbGl6ZShsaWdodF9kaXJlY3Rpb24gKyB2aWV3X2RpcmVjdGlvbik7XG4gICAgZmxvYXQgbGFtYmVydGlhbiA9IGRvdChsaWdodF9kaXJlY3Rpb24sIG5vcm1hbF93b3JsZHNwYWNlKTtcbiAgICBmbG9hdCBzcGVjdWxhciA9IDAuMDtcbiAgICBpZiAobGFtYmVydGlhbiA+IDAuMCkge1xuICAgICAgZmxvYXQgc3BlY3VsYXJfYW5nbGUgPSBtYXgoZG90KG5vcm1hbF93b3JsZHNwYWNlLCBoYWxmd2F5X2RpcmVjdGlvbiksIDAuMCk7XG4gICAgICBzcGVjdWxhciA9IHBvdyhzcGVjdWxhcl9hbmdsZSwgbGlnaHRpbmdfdVNoaW5pbmVzcyk7XG4gICAgfVxuICAgIGxhbWJlcnRpYW4gPSBtYXgobGFtYmVydGlhbiwgMC4wKTtcbiAgICByZXR1cm4gKGxhbWJlcnRpYW4gKiBsaWdodGluZ191RGlmZnVzZSAqIHN1cmZhY2VDb2xvciArIHNwZWN1bGFyICogbGlnaHRpbmdfdVNwZWN1bGFyQ29sb3IpICogY29sb3I7XG59XG5cbnZlYzMgbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcih2ZWMzIHN1cmZhY2VDb2xvciwgdmVjMyBjYW1lcmFQb3NpdGlvbiwgdmVjMyBwb3NpdGlvbl93b3JsZHNwYWNlLCB2ZWMzIG5vcm1hbF93b3JsZHNwYWNlKSB7XG4gIHZlYzMgbGlnaHRDb2xvciA9IHN1cmZhY2VDb2xvcjtcblxuICBpZiAobGlnaHRpbmdfdUVuYWJsZWQpIHtcbiAgICB2ZWMzIHZpZXdfZGlyZWN0aW9uID0gbm9ybWFsaXplKGNhbWVyYVBvc2l0aW9uIC0gcG9zaXRpb25fd29ybGRzcGFjZSk7XG4gICAgbGlnaHRDb2xvciA9IGxpZ2h0aW5nX3VBbWJpZW50ICogc3VyZmFjZUNvbG9yICogbGlnaHRpbmdfdUFtYmllbnRMaWdodC5jb2xvcjtcblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgUG9pbnRMaWdodCBwb2ludExpZ2h0ID0gbGlnaHRpbmdfdVBvaW50TGlnaHRbaV07XG4gICAgICB2ZWMzIGxpZ2h0X3Bvc2l0aW9uX3dvcmxkc3BhY2UgPSBwb2ludExpZ2h0LnBvc2l0aW9uO1xuICAgICAgdmVjMyBsaWdodF9kaXJlY3Rpb24gPSBub3JtYWxpemUobGlnaHRfcG9zaXRpb25fd29ybGRzcGFjZSAtIHBvc2l0aW9uX3dvcmxkc3BhY2UpO1xuICAgICAgbGlnaHRDb2xvciArPSBsaWdodGluZ19nZXRMaWdodENvbG9yKHN1cmZhY2VDb2xvciwgbGlnaHRfZGlyZWN0aW9uLCB2aWV3X2RpcmVjdGlvbiwgbm9ybWFsX3dvcmxkc3BhY2UsIHBvaW50TGlnaHQuY29sb3IpO1xuICAgIH1cblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgRGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0ID0gbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV07XG4gICAgICBsaWdodENvbG9yICs9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3Ioc3VyZmFjZUNvbG9yLCAtZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb24sIHZpZXdfZGlyZWN0aW9uLCBub3JtYWxfd29ybGRzcGFjZSwgZGlyZWN0aW9uYWxMaWdodC5jb2xvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaWdodENvbG9yO1xufVxuXG52ZWMzIGxpZ2h0aW5nX2dldFNwZWN1bGFyTGlnaHRDb2xvcih2ZWMzIGNhbWVyYVBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uX3dvcmxkc3BhY2UsIHZlYzMgbm9ybWFsX3dvcmxkc3BhY2UpIHtcbiAgdmVjMyBsaWdodENvbG9yID0gdmVjMygwLCAwLCAwKTtcbiAgdmVjMyBzdXJmYWNlQ29sb3IgPSB2ZWMzKDAsIDAsIDApO1xuXG4gIGlmIChsaWdodGluZ191RW5hYmxlZCkge1xuICAgIHZlYzMgdmlld19kaXJlY3Rpb24gPSBub3JtYWxpemUoY2FtZXJhUG9zaXRpb24gLSBwb3NpdGlvbl93b3JsZHNwYWNlKTtcblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgUG9pbnRMaWdodCBwb2ludExpZ2h0ID0gbGlnaHRpbmdfdVBvaW50TGlnaHRbaV07XG4gICAgICB2ZWMzIGxpZ2h0X3Bvc2l0aW9uX3dvcmxkc3BhY2UgPSBwb2ludExpZ2h0LnBvc2l0aW9uO1xuICAgICAgdmVjMyBsaWdodF9kaXJlY3Rpb24gPSBub3JtYWxpemUobGlnaHRfcG9zaXRpb25fd29ybGRzcGFjZSAtIHBvc2l0aW9uX3dvcmxkc3BhY2UpO1xuICAgICAgbGlnaHRDb2xvciArPSBsaWdodGluZ19nZXRMaWdodENvbG9yKHN1cmZhY2VDb2xvciwgbGlnaHRfZGlyZWN0aW9uLCB2aWV3X2RpcmVjdGlvbiwgbm9ybWFsX3dvcmxkc3BhY2UsIHBvaW50TGlnaHQuY29sb3IpO1xuICAgIH1cblxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX0xJR0hUUzsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodENvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgRGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0ID0gbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV07XG4gICAgICBsaWdodENvbG9yICs9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3Ioc3VyZmFjZUNvbG9yLCAtZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb24sIHZpZXdfZGlyZWN0aW9uLCBub3JtYWxfd29ybGRzcGFjZSwgZGlyZWN0aW9uYWxMaWdodC5jb2xvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaWdodENvbG9yO1xufVxuIjtuLmQoZSwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBhPXtuYW1lOiJnb3VyYXVkLWxpZ2h0aW5nIixkZXBlbmRlbmNpZXM6W3IuYV0sdnM6aSxkZWZpbmVzOntMSUdIVElOR19WRVJURVg6MX0sZ2V0VW5pZm9ybXM6Y30sbz17bmFtZToicGhvbmctbGlnaHRpbmciLGRlcGVuZGVuY2llczpbci5hXSxmczppLGRlZmluZXM6e0xJR0hUSU5HX0ZSQUdNRU5UOjF9LGdldFVuaWZvcm1zOmN9LHM9e307ZnVuY3Rpb24gdSh0KXt2YXIgZT10LmFtYmllbnQsbj12b2lkIDA9PT1lPy4zNTplLHI9dC5kaWZmdXNlLGk9dm9pZCAwPT09cj8uNjpyLGE9dC5zaGluaW5lc3Msbz12b2lkIDA9PT1hPzMyOmEscz10LnNwZWN1bGFyQ29sb3I7cmV0dXJue2xpZ2h0aW5nX3VBbWJpZW50Om4sbGlnaHRpbmdfdURpZmZ1c2U6aSxsaWdodGluZ191U2hpbmluZXNzOm8sbGlnaHRpbmdfdVNwZWN1bGFyQ29sb3I6KHZvaWQgMD09PXM/WzMwLDMwLDMwXTpzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKX19ZnVuY3Rpb24gYygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpzO2lmKCEoIm1hdGVyaWFsImluIHQpKXJldHVybnt9O3ZhciBlPXQubWF0ZXJpYWw7cmV0dXJuIGU/dShlKTp7bGlnaHRpbmdfdUVuYWJsZWQ6ITF9fX1dKX0pKTsK"></script>
  <script src="data:application/javascript;base64,Ci8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQwNDc1MzYyLzU5NzcyMTUKZnVuY3Rpb24gbWRfY29sb3VyX2RvbWFpbiggeCwgY29sb3VyX3JhbmdlLCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgbGVnZW5kLCBmb3JtYXQgKSB7CglpZiggbGVnZW5kLmxlZ2VuZCApIHsKCgkJLy9jb25zb2xlLmxvZyggIm1kX2NvbG91cl9kb21haW4iICk7CgkJLy9jb25zb2xlLmxvZyggeCApOwoJCXZhciBjZCA9IG1kX21ha2VfbGVnZW5kX3JhbmdlKHhbMF0sIHhbMV0sIGNvbG91cl9yYW5nZS5sZW5ndGgsIGxlZ2VuZC5kaWdpdHMgKTsKCgkJLy9jb25zb2xlLmxvZyggY2QgKTsKCgkJdmFyIGxlZGdlID0gewogIAlmaWxsX2NvbG91cjogewogIAkJY29sb3VyOiBjb2xvdXJfcmFuZ2UsCiAgCQl2YXJpYWJsZTogY2QsCiAgCQljb2xvdXJUeXBlOiBbImZpbGxfY29sb3VyIl0sCiAgCQl0eXBlOiBbImdyYWRpZW50Il0sCiAgCQl0aXRsZTogbGVnZW5kLnRpdGxlLCAgICAgICAgLy8gVE9ETzogdGhlICdjb2xvdXInIGFyZ3VtZW50LCBvciBpZiBub3Qgc3VwcGxpZWQgc2ltcGx5ICd2YWx1ZScgPwogIAkJY3NzOiBsZWdlbmQuY3NzCiAgCX0KICB9OwogIG1kX2FkZF9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWRnZSwgZm9ybWF0ICk7Cgl9Cgp9CgpmdW5jdGlvbiBtZF9tYWtlX2xlZ2VuZF9yYW5nZShzdGFydFZhbHVlLCBzdG9wVmFsdWUsIGNhcmRpbmFsaXR5LCBkaWdpdHMgKSB7CgogIHZhciBhcnIgPSBbXTsKICB2YXIgY3VyclZhbHVlID0gc3RhcnRWYWx1ZTsKICB2YXIgc3RlcCA9IChzdG9wVmFsdWUgLSBzdGFydFZhbHVlKSAvIChjYXJkaW5hbGl0eSAtIDEpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgY2FyZGluYWxpdHk7IGkrKykgewogICAgLy9hcnIucHVzaChjdXJyVmFsdWUgKyAoc3RlcCAqIGkpKTsKICAgIGFyci5wdXNoKHBhcnNlRmxvYXQoKGN1cnJWYWx1ZSArIChzdGVwICogaSkpLnRvRml4ZWQoIGRpZ2l0cyApKSk7CiAgfQogIHJldHVybiBhcnI7Cn0KCgpmdW5jdGlvbiBtZF9hZGRfbGVnZW5kKG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWdlbmRWYWx1ZXMsIGZvcm1hdCApIHsKCiAgaWYoICFtZF9kaXZfZXhpc3RzKCAnbGVnZW5kQ29udGFpbmVyJyttYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfbGVnZW5kKCBtYXBfaWQgKTsKICB9CgogICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgdGhpc19sZWdlbmQ7CiAgICBPYmplY3Qua2V5cyggbGVnZW5kVmFsdWVzICkuZm9yRWFjaCggZnVuY3Rpb24oa2V5KSB7CgogICAgICAgIHRoaXNfbGVnZW5kID0gbGVnZW5kVmFsdWVzWyBrZXkgXTsKCiAgICAgICAgaWYgKCB0aGlzX2xlZ2VuZC5jb2xvdXIgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgaWYgKCB0aGlzX2xlZ2VuZC50eXBlWzBdID09PSAiY2F0ZWdvcnkiIHx8IHRoaXNfbGVnZW5kLmNvbG91ci5sZW5ndGggPT0gMSApIHsKICAgICAgICAgICAgICAgIG1kX2FkZF9sZWdlbmRfY2F0ZWdvcnkoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCB0aGlzX2xlZ2VuZCwgZm9ybWF0ICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtZF9hZGRfbGVnZW5kX2dyYWRpZW50KCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgdGhpc19sZWdlbmQsIGZvcm1hdCApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cgp9CgpmdW5jdGlvbiBtZF9hZGRfbGVnZW5kX2dyYWRpZW50KG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWdlbmRWYWx1ZXMsIGZvcm1hdCApIHsKICAgIC8vIGZpbGwgZ3JhZGllbnQKICAgIC8vIG51bWVyaWMgdmFsdWVzOyBmb3JtYXQgbnVtYmVycyBhY2NvcmRpbmcgdG8gbGVnZW5kVmFsdWVzLmRpZ2l0cwoKICAgIC8vY29uc29sZS5sb2coICJsZWdlbmQgZGlnaXRzIiApOwogICAgLy9jb25zb2xlLmxvZyggbGVnZW5kVmFsdWVzICk7CgogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGxlZ2VuZENvbnRlbnQsCiAgICAgICAgbGVnZW5kVGl0bGUsCiAgICAgICAgdGlja0NvbnRhaW5lciwKICAgICAgICBsYWJlbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgIGxlZ2VuZENvbG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICBqc0NvbG91cnMgPSBbXSwKICAgICAgICBjb2xvdXJzID0gJycsCiAgICAgICAgaSA9IDAsCiAgICAgICAgbGVnZW5kVGV4dENvbG91ciA9ICcjODI4MjgyJywKICAgICAgICBzdHlsZSA9ICcnLAogICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICBpZiAod2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0gPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdpZCcsIG1hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSk7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdjbGFzcycsICdsZWdlbmQnKTsKICAgIH0gIGVsc2UgewogICAgICAgIGlzVXBkYXRpbmcgPSB0cnVlOwoKICAgICAgICB3aGlsZSAoIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmhhc0NoaWxkTm9kZXMoKSApIHsKICAgICAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ucmVtb3ZlQ2hpbGQoCiAgICAgICAgICAgIAl3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5sYXN0Q2hpbGQKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgbGVnZW5kQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgbGVnZW5kVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgIHRpY2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgIGxhYmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksCiAgICBsZWdlbmRDb2xvdXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCgogICAgbGVnZW5kQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlZ2VuZENvbnRlbnQnKTsKICAgIGxlZ2VuZFRpdGxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVnZW5kVGl0bGUnKTsKICAgIGxlZ2VuZFRpdGxlLmlubmVySFRNTCA9IGxlZ2VuZFZhbHVlcy50aXRsZTsKCiAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5hcHBlbmRDaGlsZCggbGVnZW5kVGl0bGUgKTsKCiAgICB0aWNrQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlja0NvbnRhaW5lcicpOwogICAgbGFiZWxDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsYWJlbENvbnRhaW5lcicpOwoKICAgIGlmIChsZWdlbmRWYWx1ZXMuY3NzICE9PSBudWxsKSB7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdzdHlsZScsIGxlZ2VuZFZhbHVlcy5jc3MpOwogICAgfQoKICAgIC8vY29uc29sZS5sb2coIGxlZ2VuZFZhbHVlcy5jb2xvdXIgKTsKCiAgICBpZiggZm9ybWF0ID09PSAiaGV4IikgewoJICAgIGZvciAoaSA9IDA7IGkgPCBsZWdlbmRWYWx1ZXMuY29sb3VyLmxlbmd0aDsgaSsrKSB7CgkgICAgICBqc0NvbG91cnMucHVzaCggbGVnZW5kVmFsdWVzLmNvbG91cltpXS5zdWJzdHJpbmcoMCw3KSApOwoJICAgIH0KICAgIH0gZWxzZSB7CiAgICAJZm9yIChpID0gMDsgaSA8IGxlZ2VuZFZhbHVlcy5jb2xvdXIubGVuZ3RoOyBpKyspIHsKCiAgICAJCXZhciBoZXggPSBtZF9SR0JUb0hleCggbGVnZW5kVmFsdWVzLmNvbG91cltpXSApOwoKCSAgICAgIGpzQ29sb3Vycy5wdXNoKCBoZXggKTsKCSAgICB9CiAgICB9CgogICAgY29sb3VycyA9ICcoJyArIGpzQ29sb3Vycy5qb2luKCkgKyAnKSc7CgogICAgc3R5bGUgPSAnZGlzcGxheTogaW5saW5lLWJsb2NrOyBoZWlnaHQ6ICcgKyBqc0NvbG91cnMubGVuZ3RoICogMjAgKyAncHg7IHdpZHRoOiAxNXB4Oyc7CiAgICBzdHlsZSArPSAnYmFja2dyb3VuZDogJyArIGpzQ29sb3Vyc1sxXSArICc7JzsKICAgIHN0eWxlICs9ICdiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCcgKyBjb2xvdXJzICsgJzsnOwogICAgc3R5bGUgKz0gJ2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCcgKyBjb2xvdXJzICsgJzsnOwogICAgc3R5bGUgKz0gJ2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50JyArIGNvbG91cnMgKyAnOyc7CiAgICBzdHlsZSArPSAnYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50JyArIGNvbG91cnMgKyAnOyc7CgogICAgbGVnZW5kQ29sb3Vycy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgc3R5bGUpOwogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZChsZWdlbmRDb2xvdXJzKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVnZW5kVmFsdWVzLmNvbG91ci5sZW5ndGg7IGkrKykgewoKICAgICAgICB2YXIgbGVnZW5kVmFsdWUgPSAndGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICcgKyBsZWdlbmRUZXh0Q29sb3VyICsgJzsgZm9udC1zaXplOiAxMnB4OyBoZWlnaHQ6IDIwcHg7JywKICAgICAgICAgICAgZGl2VGlja3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICAgICAgZGl2VmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICAgIGRpdlRpY2tzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBsZWdlbmRWYWx1ZSk7CiAgICAgICAgZGl2VGlja3MuaW5uZXJIVE1MID0gJy0nOwogICAgICAgIHRpY2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2VGlja3MpOwoKICAgICAgICBkaXZWYWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGxlZ2VuZFZhbHVlKTsKICAgICAgICBkaXZWYWwuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnZhcmlhYmxlW2ldOwogICAgICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlZhbCk7CiAgICB9CgogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZCh0aWNrQ29udGFpbmVyKTsKICAgIGxlZ2VuZENvbnRlbnQuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmFwcGVuZENoaWxkKGxlZ2VuZENvbnRlbnQpOwoKICAgIGlmIChpc1VwZGF0aW5nID09PSBmYWxzZSkgewogICAgICAgIG1kX3BsYWNlQ29udHJvbChtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXSApOwogICAgfQp9CgpmdW5jdGlvbiBtZF9nZW5lcmF0ZUNvbG91ckJveChjb2xvdXJUeXBlLCBjb2xvdXIpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBpZiAoY29sb3VyVHlwZVswXSA9PT0gImZpbGxfY29sb3VyIikgewogICAgICAgIHJldHVybiAoJ2hlaWdodDogMjBweDsgd2lkdGg6IDE1cHg7IGJhY2tncm91bmQ6ICcgKyBjb2xvdXIpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBodHRwOi8vanNmaWRkbGUubmV0L1VFUzZVLzIvCiAgICAgICAgcmV0dXJuICgnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMTVweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgd2hpdGUgMjUlLCAnICsgY29sb3VyICsgJyAyNSUsICcgKyBjb2xvdXIgKyAnIDQ1JSwgJyArICd3aGl0ZSA0NSUpJyk7CiAgICB9Cn0KCmZ1bmN0aW9uIG1kX2FkZF9sZWdlbmRfY2F0ZWdvcnkobWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxlZ2VuZFZhbHVlcywgZm9ybWF0ICkgewoKICAgICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgbGVnZW5kQ29udGVudCwKICAgICAgICBsZWdlbmRUaXRsZSwKICAgICAgICBjb2xvdXJDb250YWluZXIsCiAgICAgICAgdGlja0NvbnRhaW5lciwKICAgICAgICBsYWJlbENvbnRhaW5lciwKICAgICAgICBsZWdlbmRDb2xvdXJzLAogICAgICAgIGNvbG91ckJveCA9ICcnLAogICAgICAgIC8vY29sb3VyQXR0cmlidXRlID0gJycsCiAgICAgICAgaSA9IDAsCiAgICAgICAgbGVnZW5kVGV4dENvbG91ciA9ICcjODI4MjgyJywKICAgICAgICBpc1VwZGF0aW5nID0gZmFsc2U7CgogICAgLy8gY2F0Y2ggdW5kZWZpbmVkIE9SIG51bGwKICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2NDc4NjcvaG93LXRvLWRldGVybWluZS1pZi12YXJpYWJsZS1pcy11bmRlZmluZWQtb3ItbnVsbAogICAgaWYgKHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdID09IG51bGwpIHsKCiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlKTsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlZ2VuZCcpOwoKICAgIH0gZWxzZSB7CiAgICAgICAgaXNVcGRhdGluZyA9IHRydWU7CgogICAgICAgIHdoaWxlICh3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ucmVtb3ZlQ2hpbGQod2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CgogICAgbGVnZW5kQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbGVnZW5kVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGNvbG91ckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdGlja0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbGFiZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGxlZ2VuZENvbG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICBsZWdlbmRDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVnZW5kQ29udGVudCcpOwogICAgbGVnZW5kQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xlZ2VuZENvbnRlbnRJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgbGVnZW5kVGl0bGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsZWdlbmRUaXRsZScpOwogICAgbGVnZW5kVGl0bGUuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnRpdGxlOwogICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uYXBwZW5kQ2hpbGQobGVnZW5kVGl0bGUpOwoKICAgIGNvbG91ckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xhYmVsQ29udGFpbmVyJyk7CiAgICBjb2xvdXJDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdjb2xvdXJDb250YWluZXJJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgdGlja0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpY2tDb250YWluZXInKTsKICAgIHRpY2tDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0aWNrQ29udGFpbmVySWQnICsgbWFwX2lkICsgbGF5ZXJfaWQpOwoKICAgIGxhYmVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGFiZWxDb250YWluZXInKTsKICAgIGxhYmVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnbGFiZWxDb250YWluZXJJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgaWYgKGxlZ2VuZFZhbHVlcy5jc3MgIT09IG51bGwpIHsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgbGVnZW5kVmFsdWVzLmNzcyk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlZ2VuZFZhbHVlcy5jb2xvdXIubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgdmFyIHRpY2tWYWwgPSAndGV4dC1sZWZ0OiBjZW50ZXI7IGNvbG9yOiAnICsgbGVnZW5kVGV4dENvbG91ciArICc7IGZvbnQtc2l6ZTogMTJweDsgaGVpZ2h0OiAyMHB4OycsCiAgICAgICAgICAgIGRpdkNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICBkaXZUaWNrcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICBkaXZWYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICAgICAgLy9jb2xvdXJCb3ggPSAnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMTVweDsgYmFja2dyb3VuZDogJyArIGxlZ2VuZFZhbHVlcy5sZWdlbmQuY29sb3VyW2ldOwogICAgICAgIGlmKCBmb3JtYXQgPT09ICJoZXgiICkgewogICAgICAgIAljb2xvdXJCb3ggPSBtZF9nZW5lcmF0ZUNvbG91ckJveChsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSwgbGVnZW5kVmFsdWVzLmNvbG91cltpXS5zdWJzdHJpbmcoMCw3KSApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgCXZhciBoZXggPSBtZF9SR0JUb0hleCggbGVnZW5kVmFsdWVzLmNvbG91cltpXSApOwogICAgICAgIAljb2xvdXJCb3ggPSBtZF9nZW5lcmF0ZUNvbG91ckJveChsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSwgaGV4ICk7CiAgICAgICAgfQogICAgICAgIGRpdkNvbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29sb3VyQm94KTsKICAgICAgICBjb2xvdXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2Q29sKTsKCiAgICAgICAgZGl2VGlja3Muc2V0QXR0cmlidXRlKCdzdHlsZScsIHRpY2tWYWwpOwogICAgICAgIGRpdlRpY2tzLmlubmVySFRNTCA9ICctJzsKICAgICAgICB0aWNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlRpY2tzKTsKCiAgICAgICAgZGl2VmFsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aWNrVmFsKTsKICAgICAgICBkaXZWYWwuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnZhcmlhYmxlW2ldOwogICAgICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlZhbCk7CiAgICB9CgogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZChjb2xvdXJDb250YWluZXIpOwogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZCh0aWNrQ29udGFpbmVyKTsKICAgIGxlZ2VuZENvbnRlbnQuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmFwcGVuZENoaWxkKGxlZ2VuZENvbnRlbnQpOwoKICAgIGlmIChpc1VwZGF0aW5nID09PSBmYWxzZSkgewogICAgICAgIG1kX3BsYWNlQ29udHJvbChtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXSApOwogICAgfQoKfQoKCmZ1bmN0aW9uIG1kX2ZpbmRfYnlfaWQoIHNvdXJjZSwgaWQsIHJldHVyblR5cGUgKSB7CiAgICB2YXIgaSA9IDA7CiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHNvdXJjZVtpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgaWYgKHJldHVyblR5cGUgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlW2ldOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm47Cn0KCmZ1bmN0aW9uIG1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgY29sb3VyX3R5cGUgKSB7CgkvLyBmaW5kIHJlZmVyZW5jZSB0byB0aGlzIGxheWVyIGluIHRoZSBsZWdlbmRzCgl2YXIgaWQgPSBtYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgY29sb3VyX3R5cGU7Cgl2YXIgb2JqSW5kZXggPSBtZF9maW5kX2J5X2lkKCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZFBvc2l0aW9ucyddLCBpZCwgImluZGV4IiApOwoKCWlmKCBvYmpJbmRleCAhPT0gdW5kZWZpbmVkICkgewoJCW1kX3JlbW92ZUNvbnRyb2woIG1hcF9pZCwgbWFwX3R5cGUsIGlkLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZFBvc2l0aW9ucyddW29iakluZGV4XS5wb3NpdGlvbiApOwoJCXdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kUG9zaXRpb25zJ10uc3BsaWNlKG9iakluZGV4LCAxKTsKCSAgd2luZG93W2lkXSA9IG51bGw7Cgl9Cn0KCmZ1bmN0aW9uIG1kX2NsZWFyX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQgKSB7CgoJbWRfdHJ5X3JlbW92ZV9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCAiZmlsbF9jb2xvdXIiKTsKCW1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgInN0cm9rZV9jb2xvdXIiKTsKCW1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgInN0cm9rZV9mcm9tIik7CgltZF90cnlfcmVtb3ZlX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsICJzdHJva2VfdG8iKTsKfQoKCmZ1bmN0aW9uIG1kX3BsYWNlQ29udHJvbCggbWFwX2lkLCBtYXBfdHlwZSwgb2JqZWN0ICkgewoKICAgIHZhciBtYXBib3hfY3RybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAibGVnZW5kQ29udGFpbmVyIittYXBfaWQpOwogICAgbWFwYm94X2N0cmwuYXBwZW5kQ2hpbGQoIG9iamVjdCApOwoKICAgIHZhciBsZWRnZSA9IHt9OwogICAgdmFyIHBvc2l0aW9uID0gIkJPVFRPTV9SSUdIVCI7CgogICAgaWYoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIikgewogICAgCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkJPVFRPTV9MRUZUXS5wdXNoKCBvYmplY3QgKTsKICAgIH0KCiAgICBsZWRnZSA9IHsKICAgICAgICBpZDogb2JqZWN0LmdldEF0dHJpYnV0ZSgnaWQnKSwKICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24KICAgIH07CgogICAgd2luZG93W21hcF9pZCArICdsZWdlbmRQb3NpdGlvbnMnXS5wdXNoKCBsZWRnZSApOwp9CgoKZnVuY3Rpb24gbWRfcmVtb3ZlQ29udHJvbCggbWFwX2lkLCBtYXBfdHlwZSwgbGVnZW5kX2lkLCBwb3NpdGlvbiApIHsKCgl2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBsZWdlbmRfaWQgKTsKCWVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWxlbWVudCApOwoKCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfY2xlYXJfY29udHJvbCggd2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uQk9UVE9NX0xFRlRdLCBsZWdlbmRfaWQgKTsKCX0KCi8qCiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7CiAgICBjYXNlICdUT1BfTEVGVCc6CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIlRPUF9MRUZUIl0sIGxlZ2VuZF9pZCk7CiAgICAgICAgYnJlYWs7CiAgICBjYXNlICdUT1BfUklHSFQnOgogICAgICAgIGNsZWFyQ29udHJvbCh3aW5kb3dbbWFwX2lkICsgJ21hcCddLmNvbnRyb2xzWyJUT1BfUklHSFQiXSwgbGVnZW5kX2lkKTsKICAgICAgICBicmVhazsKICAgIGNhc2UgJ0JPVFRPTV9MRUZUJzoKICAgICAgICBjbGVhckNvbnRyb2wod2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1siQk9UVE9NX0xFRlQiXSwgbGVnZW5kX2lkKTsKICAgICAgICBicmVhazsKICAgIGNhc2UgJ0JPVFRPTV9SSUdIVCc6CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIkJPVFRPTV9SSUdIVCJdLCBsZWdlbmRfaWQpOwogICAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgICBwb3NpdGlvbiA9ICJCT1RUT01fTEVGVCI7CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIkxFRlRfQk9UVE9NIl0sIGxlZ2VuZF9pZCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiovCn0KCmZ1bmN0aW9uIG1kX2NsZWFyX2NvbnRyb2woY29udHJvbCwgbGVnZW5kX2lkKSB7CgogIGlmIChjb250cm9sICE9PSB1bmRlZmluZWQgKSB7CiAgICBjb250cm9sLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgaWYgKGl0ZW0uZ2V0QXR0cmlidXRlKCdpZCcpID09PSBsZWdlbmRfaWQpIHsKICAgICAgICAgIGNvbnRyb2wucmVtb3ZlQXQoaW5kZXgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9Cg=="></script>
  <script src="data:application/javascript;base64,ZnVuY3Rpb24gYWRkX3RpdGxlKG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCB0aXRsZV9kYXRhKSB7CgogICAgLy8gdGVzdAogICAgJ3VzZSBzdHJpY3QnOwoKICBpZiggIW1kX2Rpdl9leGlzdHMoICdtYXBUaXRsZUNvbnRhaW5lcicrbWFwX2lkICkgKSB7CiAgCW1kX3NldHVwX3RpdGxlKCBtYXBfaWQgKTsKCiAgCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIgKSB7CiAgCQl2YXIgbWFwYm94X2N0cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggIm1hcFRpdGxlQ29udGFpbmVyIittYXBfaWQpOwogICAgCS8vIGlmIHRoZSB0aXRsZUNvbnRhaW5lciBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgZWxlbWVudCwgd2UgZG9uJ3QgbmVlZCB0byBwdXNoIGl0IHRvIHRoZSBtYXAKICAgIAl3aW5kb3dbbWFwX2lkICsgJ21hcCddLmNvbnRyb2xzW2dvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5UT1BfQ0VOVEVSXS5wdXNoKCBtYXBib3hfY3RybCApOwogICAgIH0KCiAgfQoKICAgIHZhciB0aXRsZSwKICAgICAgICBzdHlsZSA9ICcnLAogICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICBpZiAod2luZG93W21hcF9pZCArICdtYXBUaXRsZScgKyBsYXllcl9pZF0gPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB9CiAgICB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkKTsKICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbWFwVGl0bGUnKTsKICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLmlubmVySFRNTCA9IHRpdGxlX2RhdGEudGl0bGU7CgoKICAgIGlmICh0aXRsZV9kYXRhLmNzcyAhPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aXRsZV9kYXRhLmNzcyk7CiAgICB9CgogICAgaWYgKGlzVXBkYXRpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgbWRfcGxhY2VUaXRsZShtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXSApOwogICAgfQp9CgoKZnVuY3Rpb24gY2xlYXJfdGl0bGUoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkICkgewoJLyoKCS8vIGZpbmQgcmVmZXJlbmNlIHRvIHRoaXMgbGF5ZXIgaW4gdGhlIGxlZ2VuZHMKCXZhciBpZCA9IG1hcF9pZCArICdtYXBUaXRsZScgKyBsYXllcl9pZDsKCXZhciBvYmpJbmRleCA9IG1kX2ZpbmRfYnlfaWQoIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnXSwgaWQsICJpbmRleCIgKTsKCglpZiggb2JqSW5kZXggIT09IHVuZGVmaW5lZCApIHsKCQltZF9yZW1vdmVDb250cm9sKCBtYXBfaWQsIGlkLCB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXVtvYmpJbmRleF0ucG9zaXRpb24gKTsKCQl3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXS5zcGxpY2Uob2JqSW5kZXgsIDEpOwoJICB3aW5kb3dbaWRdID0gbnVsbDsKCX0KCSovCiAgLy9jb25zb2xlLmxvZyggImNsZXJpbmcgdGl0bGUgZWxlbWVudCIgKTsKCgl2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWQgKTsKCS8vY29uc29sZS5sb2coIGVsZW1lbnQgKTsKCglpZiggZWxlbWVudCAhPT0gbnVsbCApIHsKCSAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbGVtZW50ICk7Cgl9CgoKCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfY2xlYXJfdGl0bGVfY29udHJvbCggd2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uVE9QX0NFTlRFUl0sIGxheWVyX2lkICk7Cgl9Cn0KCgpmdW5jdGlvbiBtZF9wbGFjZVRpdGxlKCBtYXBfaWQsIG1hcF90eXBlLCBvYmplY3QgKSB7CgogICAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBUaXRsZUNvbnRhaW5lciIrbWFwX2lkKTsKICAgIG1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCBvYmplY3QgKTsKfQoKCmZ1bmN0aW9uIG1kX2NsZWFyX3RpdGxlX2NvbnRyb2woY29udHJvbCwgbGF5ZXJfaWQpIHsKCiAgLy9jb25zb2xlLmxvZygiY2xlYXJpbmcgdGl0bGUgY29udHJvbCIpOwogIC8vY29uc29sZS5sb2coIGNvbnRyb2wgKTsKCiAgaWYgKGNvbnRyb2wgIT09IHVuZGVmaW5lZCApIHsKICAgIGNvbnRyb2wuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCApIHsKICAgICAgICBpZiAoaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGxheWVyX2lkKSB7CiAgICAgICAgCS8vY29uc29sZS5sb2coICJyZW1vdmluZyBjb250cm9sIGF0IGluZGV4OiAiICsgaW5kZXgpOwogICAgICAgICAgY29udHJvbC5yZW1vdmVBdChpbmRleCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn0K"></script>
  <script src="data:application/javascript;base64,CmZ1bmN0aW9uIG1kX2NoYW5nZV9sb2NhdGlvbiggbWFwX2lkLCBtYXBfdHlwZSwgbG9jYXRpb24sIHpvb20sIHBpdGNoLCBiZWFyaW5nLCBkdXJhdGlvbiwgdHJhbnNpdGlvbiApIHsKICB2YXIgY3VycmVudExvbiwgY3VycmVudExhdCwgY3VycmVudFBpdGNoLCBjdXJyZW50QmVhcmluZywgY3VycmVudFpvb207CgogIGlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIgKSB7CiAgCS8vY29uc29sZS5sb2coIGxvY2F0aW9uICk7CiAgCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uc2V0Q2VudGVyKCB7IGxhdDogbG9jYXRpb25bMV0sIGxuZzogbG9jYXRpb25bMF0gfSApOwogIAl3aW5kb3dbbWFwX2lkICsgJ21hcCddLnNldFpvb20oIHpvb20gKTsKICB9IGVsc2UgewoKICAJLy9jb25zb2xlLmxvZyggd2luZG93WyBtYXBfaWQgKyAnbWFwJyBdLnZpZXdTdGF0ZSApOwoKCSAgaWYgKCB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdICE9PSB1bmRlZmluZWQgKSB7CgkgIAljdXJyZW50TG9uID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdLmxvbmdpdHVkZSA6IGxvY2F0aW9uWzBdOwoJICAJY3VycmVudExhdCA9IGxvY2F0aW9uID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlWyJkZWZhdWx0LXZpZXciXS5sYXRpdHVkZSA6IGxvY2F0aW9uWzFdOwoJICAgIGN1cnJlbnRQaXRjaCA9IHBpdGNoID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlWyJkZWZhdWx0LXZpZXciXS5waXRjaCA6IHBpdGNoOwoJICAgIGN1cnJlbnRCZWFyaW5nID0gYmVhcmluZyA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCcgXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdLmJlYXJpbmcgOiBiZWFyaW5nOwoJICAgIGN1cnJlbnRab29tID0gem9vbSA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZVsiZGVmYXVsdC12aWV3Il0uem9vbSA6IHpvb207CgkgIH0gZWxzZSB7CgkgIAljdXJyZW50TG9uID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGUubG9uZ2l0dWRlIDogbG9jYXRpb25bMF07CgkgIAljdXJyZW50TGF0ID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGUubGF0aXR1ZGUgOiBsb2NhdGlvblsxXTsKCSAgICBjdXJyZW50UGl0Y2ggPSBwaXRjaCA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZS5waXRjaCA6IHBpdGNoOwoJICAgIGN1cnJlbnRCZWFyaW5nID0gYmVhcmluZyA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCcgXS52aWV3U3RhdGUuYmVhcmluZyA6IGJlYXJpbmc7CgkgICAgY3VycmVudFpvb20gPSB6b29tID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlLnpvb20gOiB6b29tOwoJICB9CgoJICAvL2NvbnNvbGUubG9nKCBjdXJyZW50TG9uICk7CgoJCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uc2V0UHJvcHMoewoJICAgIGluaXRpYWxWaWV3U3RhdGU6IHsKCSAgICAgIGxvbmdpdHVkZTogY3VycmVudExvbiwKCSAgICAgIGxhdGl0dWRlOiBjdXJyZW50TGF0LAoJICAgICAgem9vbTogY3VycmVudFpvb20sCgkgICAgICBwaXRjaDogY3VycmVudFBpdGNoLAoJICAgICAgYmVhcmluZzogY3VycmVudEJlYXJpbmcsCgkgICAgICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOiB0cmFuc2l0aW9uID09PSAiZmx5IiA/IG5ldyBkZWNrLkZseVRvSW50ZXJwb2xhdG9yKCkgOiBuZXcgZGVjay5MaW5lYXJJbnRlcnBvbGF0b3IoKSwKCSAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogZHVyYXRpb24sCgkgICAgICBjb250cm9sbGVyOiB0cnVlCgkgICAgfQoJICB9KTsKCiAgfQp9CgpmdW5jdGlvbiBtZF91cGRhdGVfc3R5bGUoIG1hcF9pZCwgc3R5bGUgKSB7CgogIHZhciB2cyA9IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZTsKCXZhciBtYXAgPSB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS5nZXRNYXBib3hNYXAoKTsKCW1hcC5zZXRTdHlsZSggc3R5bGUgKTsKCiAgd2luZG93WyBtYXBfaWQgKyAnbWFwJyBdLnNldFByb3BzKHsKICAJbGF5ZXJzOiBbLi4ud2luZG93W21hcF9pZCArICdsYXllcnMnXSBdLAogIAltYXA6IG1hcAogIAkvL3ZpZXdTdGF0ZTogdnMgLy8gaXNzdWUgMjM5ICgmIDMyMikgLSB2aWV3U3RhdGUgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBkZWNrLmdsIHY4LjAuOAogIH0pOwp9CgpmdW5jdGlvbiBtZF9sYXllcl92aWV3KCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgZm9jdXNfbGF5ZXIsIGJib3gsIHVwZGF0ZV92aWV3ICkgewoKCWlmKCBmb2N1c19sYXllciApIHsKICAJbWRfY2xlYXJfYm91bmRzKCBtYXBfaWQgKTsKICAJdXBkYXRlX3ZpZXcgPSB0cnVlOyAgICAgLy8gZm9yY2UgdGhpcwogIH0KCiAgaWYoIGJib3ggIT09IHVuZGVmaW5lZCAmJiB1cGRhdGVfdmlldykgewoKCSAgbWRfYWRkX3RvX2JvdW5kcyggbWFwX2lkLCBiYm94LCBsYXllcl9pZCApOwoJICB2YXIgbG9jID0gbWRfY2VudGVyX2xvY2F0aW9uKCB3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSApOwoJICBtZF9jaGFuZ2VfbG9jYXRpb24oIG1hcF9pZCwgbWFwX3R5cGUsIGxvYywgd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddLCBudWxsLCBudWxsLCAwLCAibGluZWFyIiApOwogIH0KfQoKZnVuY3Rpb24gbWRfY2VudGVyX2xvY2F0aW9uKCBiYm94ICkgewoKCWNMb24gPSAoYmJveFswXVswXSArIGJib3hbMV1bMF0pIC8gMjsKCWNMYXQgPSAoYmJveFswXVsxXSArIGJib3hbMV1bMV0pIC8gMjsKCXZhciBsb2NhdGlvbiA9IFtjTG9uLCBjTGF0XTsKCXJldHVybiBsb2NhdGlvbjsKfQoKCmZ1bmN0aW9uIG1kX2FkZF90b19ib3VuZHMoIG1hcF9pZCwgYmJveCwgbGF5ZXJfaWQgKSB7CgogIHZhciB0aGlzQm94ID0gewogIAlsYXllcl9pZDogbGF5ZXJfaWQsCiAgCWJib3g6IGJib3gKICB9OwoKICBpZiggd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXSA9IFtdOwogIH0KCiAgaWYoIHdpbmRvd1sgbWFwX2lkICsgJ2N1cnJlbnRab29tTGV2ZWwnXSA9PSBudWxsICkgewogIAl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBbXTsKICB9CgogIGlmKCB3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9PSBudWxsICkgewogIAl3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwogIH0KCiAgdmFyIGVsZW0gPSBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KCB3aW5kb3dbIG1hcF9pZCArICdtYXBkZWNrQm91bmRzJ10sICdsYXllcl9pZCcsIGxheWVyX2lkICk7CglpZiAoIGVsZW0gIT0gLTEgKSB7CgkJd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcycgXVtlbGVtXSA9IHRoaXNCb3g7Cgl9IGVsc2UgewoJCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXS5wdXNoKCB0aGlzQm94ICk7Cgl9CgoJbWRfY2FsY3VsYXRlX2JvdW5kcyggbWFwX2lkLCB3aW5kb3dbIG1hcF9pZCArICdtYXBkZWNrQm91bmRzJ10gKTsKCgl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBtZF9nZXRfem9vbV9sZXZlbCggd2luZG93WyBtYXBfaWQgKyAnZ2xvYmFsQm94J10gKTsKfQoKZnVuY3Rpb24gbWRfcmVtb3ZlX2Zyb21fYm91bmRzKCBtYXBfaWQsIGxheWVyX2lkICkgewoKCXZhciBlbGVtID0gbWRfZmluZE9iamVjdEVsZW1lbnRCeUtleSggd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddLCAnbGF5ZXJfaWQnLCBsYXllcl9pZCApOwoJaWYgKCBlbGVtICE9IC0xICkgewoJCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXS5zcGxpY2UoIGVsZW0sIDEgKTsKCX0KCW1kX2NhbGN1bGF0ZV9ib3VuZHMoIG1hcF9pZCwgd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddICk7Cgl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBtZF9nZXRfem9vbV9sZXZlbCggd2luZG93WyBtYXBfaWQgKyAnZ2xvYmFsQm94J10gKTsKfQoKZnVuY3Rpb24gbWRfY2xlYXJfYm91bmRzKCBtYXBfaWQgKSB7CgoJd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddID0gW107Cgl3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwoJd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddID0gMDsKfQoKZnVuY3Rpb24gbWRfdXBkYXRlX2xvY2F0aW9uKCBtYXBfaWQsIG1hcF90eXBlICkgewoKCXZhciBsb2MgPSBtZF9jZW50ZXJfbG9jYXRpb24oIHdpbmRvd1sgbWFwX2lkICsgJ2dsb2JhbEJveCcgXSApOwoJdmFyIHpvb20gPSAgd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCcgXTsKCglpZiAoIE51bWJlci5pc05hTiggbG9jWzBdICkgKSB7CgkJcmV0dXJuOwoJfQoKICBtZF9jaGFuZ2VfbG9jYXRpb24oIG1hcF9pZCwgbWFwX3R5cGUsIGxvYywgem9vbSwgbnVsbCwgbnVsbCwgMCwgImxpbmVhciIgKTsKfQoKCmZ1bmN0aW9uIG1kX2NhbGN1bGF0ZV9ib3VuZHMoIG1hcF9pZCwgbWFwZGVja0JvdW5kcyApIHsKCiAgdmFyIHltaW4sIHhtaW4sIHltYXgsIHhtYXgsIHRoaXNCb3g7CiAgZm9yKCB2YXIgaSA9IDA7IGkgPCBtYXBkZWNrQm91bmRzLmxlbmd0aDsgaSsrICkgewogICAgdGhpc0JveCA9IG1hcGRlY2tCb3VuZHNbaV0uYmJveDsKCiAgICBpZiAoIGkgPT09IDAgKSB7CiAgICAgIHhtaW4gPSB0aGlzQm94WzBdWzBdOwogICAgICB5bWluID0gdGhpc0JveFswXVsxXTsKICAgICAgeG1heCA9IHRoaXNCb3hbMV1bMF07CiAgICAgIHltYXggPSB0aGlzQm94WzFdWzFdOwogICAgfSBlbHNlIHsKICAgICAgeG1pbiA9IE1hdGgubWluKCB4bWluLCB0aGlzQm94WzBdWzBdICk7CiAgICAgIHltaW4gPSBNYXRoLm1pbiggeW1pbiwgdGhpc0JveFswXVsxXSApOwogICAgICB4bWF4ID0gTWF0aC5tYXgoIHhtYXgsIHRoaXNCb3hbMV1bMF0gKTsKICAgICAgeW1heCA9IE1hdGgubWF4KCB5bWF4LCB0aGlzQm94WzFdWzFdICk7CiAgICB9CiAgfQogIHdpbmRvd1sgbWFwX2lkICsgJ2dsb2JhbEJveCddID0gW1t4bWluLCB5bWluXSxbeG1heCx5bWF4XV07Cn0KCmZ1bmN0aW9uIG1kX2xvbl9kaWZmKCBnbG9iYWxCb3ggKSB7CgogIHhtaW4gPSBnbG9iYWxCb3hbMF1bMF07CiAgeG1heCA9IGdsb2JhbEJveFsxXVswXTsKICB4ZGlmZiA9IE1hdGguYWJzKCB4bWF4IC0geG1pbiApOwogIHJldHVybiB4ZGlmZjsKfQoKZnVuY3Rpb24gbWRfbGF0X2RpZmYoIGdsb2JhbEJveCApIHsKCiAgeW1pbiA9IGdsb2JhbEJveFswXVsxXTsKICB5bWF4ID0gZ2xvYmFsQm94WzFdWzFdOwogIHlkaWZmID0gTWF0aC5hYnMoIHltYXggLSB5bWluICk7CiAgcmV0dXJuIHlkaWZmOwp9CgpmdW5jdGlvbiBtZF9sb25fem9vbSggbG9uZGlmZiApIHsKCiAgdmFyIGxvblpvb21MZXZlbCA9IFsKICAgIDM2MCwgMTgwLCA5MCwgNDUsIDIyLjUsIDExLjI1LCA1LjY1LDIuODEzLCAxLjQwNiwKICAgIDAuNzAzLCAwLjM1MiwgMC4xNzYsIDAuMDg4LCAwLjA0NCwgMC4wMjIsIDAuMDExLCAwLjAwNQogIF07CgogIGlmICggbG9uZGlmZiA+PSBsb25ab29tTGV2ZWxbMF0gKSB7CiAgICByZXR1cm4gMDsKICB9CiAgdmFyIG1heEluZGV4ID0gbG9uWm9vbUxldmVsLmxlbmd0aCAtIDI7CiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGxvblpvb21MZXZlbFswXTsKICB2YXIgaTsKICB2YXIgdGhpc1pvb20sIG5leHRab29tOwoKICBmb3IgKCBpID0gMDsgaSA8IG1heEluZGV4OyBpKysgKSB7CiAgICB0aGlzWm9vbSA9IGxvblpvb21MZXZlbFsgaSBdOwogICAgbmV4dFpvb20gPSBsb25ab29tTGV2ZWxbIChpKzEpIF07CgogICAgaWYgKCB0aGlzWm9vbSA+PSBsb25kaWZmICYmIGxvbmRpZmYgPiBuZXh0Wm9vbSApIHsKICAgICAgcmV0dXJuIGk7CiAgICB9CiAgfQogIHJldHVybiBpOwp9CgpmdW5jdGlvbiBtZF9sYXRfem9vbSggbGF0ZGlmZiApIHsKCiAgdmFyIGxhdFpvb21MZXZlbCA9IFsKICAgIDkwLCA0NSwgMjIuNSwgMTEuMjUsIDUuNjUsMi44MTMsIDEuNDA2LAogICAgMC43MDMsIDAuMzUyLCAwLjE3NiwgMC4wODgsIDAuMDQ0LCAwLjAyMiwgMC4wMTEsIDAuMDA1LCAwLjAwMjUsIDAuMDAwMTc1CiAgXTsKCiAgaWYgKCBsYXRkaWZmID49IGxhdFpvb21MZXZlbFswXSApIHsKICAgIHJldHVybiAwOwogIH0KICB2YXIgbWF4SW5kZXggPSBsYXRab29tTGV2ZWwubGVuZ3RoIC0gMjsKICB2YXIgY3VycmVudFZhbHVlID0gbGF0Wm9vbUxldmVsWzBdOwogIHZhciBpOwogIHZhciB0aGlzWm9vbSwgbmV4dFpvb207CgogIGZvciAoIGkgPSAwOyBpIDwgbWF4SW5kZXg7IGkrKyApIHsKICAgIHRoaXNab29tID0gbGF0Wm9vbUxldmVsWyBpIF07CiAgICBuZXh0Wm9vbSA9IGxhdFpvb21MZXZlbFsgKGkrMSkgXTsKCiAgICBpZiAoIHRoaXNab29tID49IGxhdGRpZmYgJiYgbGF0ZGlmZiA+IG5leHRab29tICkgewogICAgICByZXR1cm4gaTsKICAgIH0KICB9CiAgcmV0dXJuIGk7Cn0KCmZ1bmN0aW9uIG1kX2dldF96b29tX2xldmVsKCBnbG9iYWxCb3ggKSB7CgogIHZhciBsb25kaWZmID0gbWRfbG9uX2RpZmYoIGdsb2JhbEJveCApOwogIHZhciBsYXRkaWZmID0gbWRfbGF0X2RpZmYoIGdsb2JhbEJveCApOwoKICB2YXIgbG9uWm9vbSA9IG1kX2xvbl96b29tKCBsb25kaWZmICk7CiAgdmFyIGxhdFpvb20gPSBtZF9sYXRfem9vbSggbGF0ZGlmZiApOwoKICB2YXIgZGlmZiA9IE1hdGgubWluKCBsb25ab29tLCBsYXRab29tICk7CgogIHJldHVybiBkaWZmOwp9Cgo="></script>
  <script src="data:application/javascript;base64,ZnVuY3Rpb24gbWRfaGV4VG9SR0JBKCBoZXggKSB7CgogIGxldCBwYXJzZVN0cmluZyA9IGhleDsKICBpZiAoaGV4LnN0YXJ0c1dpdGgoJyMnKSkgeyBwYXJzZVN0cmluZyA9IGhleC5zbGljZSgxLCA5KTsgfQoKICBpZiAoIHBhcnNlU3RyaW5nLmxlbmd0aCA9PT0gNiApIHsKICAJcGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZyArICJGRiI7CiAgfSBlbHNlIGlmICggcGFyc2VTdHJpbmcubGVuZ3RoID09PSAzICkgewogIAlwYXJzZVN0cmluZyA9IHBhcnNlU3RyaW5nICsgIkYiOwogIH0gZWxzZSBpZiAocGFyc2VTdHJpbmcubGVuZ3RoICE9PSA4KSB7CiAgCXJldHVybiBudWxsOwogIH0KICBjb25zdCByID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoMCwgMiksIDE2KTsKICBjb25zdCBnID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoMiwgNCksIDE2KTsKICBjb25zdCBiID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoNCwgNiksIDE2KTsKICBjb25zdCBhID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoNiwgOCksIDE2KTsKICBpZiAoaXNOYU4ocikgfHwgaXNOYU4oZykgfHwgaXNOYU4oYikpIHtyZXR1cm4gbnVsbDt9CiAgcmV0dXJuIFtyLCBnLCBiLCBhXTsKfTsKCgovKioKICogQ29udmVydHMgYSAndmVjdG9yJyBvZiBoZXggY29sb3VycyAod2l0aCBhbHBoYSkgaW50byBhbiBhcnJheQogKi8KZnVuY3Rpb24gbWRfdG9fcmdiYSggY29sb3VyX3JhbmdlICkgewoKCXZhciBhcnIgPSBbXSwKCWksCgluID0gY29sb3VyX3JhbmdlLmxlbmd0aDsKCglmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7CgkJYXJyLnB1c2goIG1kX2hleFRvUkdCQSggY29sb3VyX3JhbmdlW2ldKSApOwoJfQogIHJldHVybiBhcnI7Cn0KCi8qCiAqIGNvbnZlcnRzIGEgW1IsIEcsIEIsIEFdIGFycmF5CiAqIHRvIGhleCBzdHJpbmcKICovCmZ1bmN0aW9uIG1kX1JHQlRvSGV4KCByZ2JhICkgewoJciA9IHJnYmFbMF07CglnID0gcmdiYVsxXTsKCWIgPSByZ2JhWzJdOwoJLy9hID0gcmdiYVszXTsKCglyID0gci50b1N0cmluZygxNik7CglnID0gZy50b1N0cmluZygxNik7CgliID0gYi50b1N0cmluZygxNik7CgkvL2EgPSBhLnRvU3RyaW5nKDE2KTsKCglpZiAoci5sZW5ndGggPT0gMSkgewogICAgciA9ICIwIiArIHI7Cgl9CiAgaWYgKGcubGVuZ3RoID09IDEpIHsKICAgIGcgPSAiMCIgKyBnOwogIH0KICBpZiAoYi5sZW5ndGggPT0gMSkgewogICAgYiA9ICIwIiArIGI7CiAgfQogIC8vaWYgKGEubGVuZ3RoID09IDEpIHsKICAvLyAgYSA9ICIwIiArIGE7CiAgLy99CgogIHJldHVybiAiIyIgKyByICsgZyArIGI7Cgp9Cg=="></script>
  <script src="data:application/javascript;base64,ZnVuY3Rpb24gbWRfZGVjb2RlX3BvaW50cyggcG9seWxpbmUgKSB7Cgl2YXIgY29vcmRpbmF0ZXMgPSBtZF9kZWNvZGVfcG9seWxpbmUoIHBvbHlsaW5lICkgOwoJcmV0dXJuIGNvb3JkaW5hdGVzWzBdOwp9CgpmdW5jdGlvbiBtZF9kZWNvZGVfcG9seWxpbmUoc3RyLCBwcmVjaXNpb24pIHsKICB2YXIgaW5kZXggPSAwLAogICAgICBsYXQgPSAwLAogICAgICBsbmcgPSAwLAogICAgICBjb29yZGluYXRlcyA9IFtdLAogICAgICBzaGlmdCA9IDAsCiAgICAgIHJlc3VsdCA9IDAsCiAgICAgIGJ5dGUgPSBudWxsLAogICAgICBsYXRpdHVkZV9jaGFuZ2UsCiAgICAgIGxvbmdpdHVkZV9jaGFuZ2UsCiAgICAgIGZhY3RvciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgNSk7CgogIC8vIENvb3JkaW5hdGVzIGhhdmUgdmFyaWFibGUgbGVuZ3RoIHdoZW4gZW5jb2RlZCwgc28ganVzdCBrZWVwCiAgLy8gdHJhY2sgb2Ygd2hldGhlciB3ZSd2ZSBoaXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLiBJbiBlYWNoCiAgLy8gbG9vcCBpdGVyYXRpb24sIGEgc2luZ2xlIGNvb3JkaW5hdGUgaXMgZGVjb2RlZC4KICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7CgogICAgLy8gUmVzZXQgc2hpZnQsIHJlc3VsdCwgYW5kIGJ5dGUKICAgIGJ5dGUgPSBudWxsOwogICAgc2hpZnQgPSAwOwogICAgcmVzdWx0ID0gMDsKCiAgICBkbyB7CiAgICAgIGJ5dGUgPSBzdHIuY2hhckNvZGVBdChpbmRleCsrKSAtIDYzOwogICAgICByZXN1bHQgfD0gKGJ5dGUgJiAweDFmKSA8PCBzaGlmdDsKICAgICAgc2hpZnQgKz0gNTsKICAgIH0gd2hpbGUgKGJ5dGUgPj0gMHgyMCk7CgogICAgbGF0aXR1ZGVfY2hhbmdlID0gKChyZXN1bHQgJiAxKSA/IH4ocmVzdWx0ID4+IDEpIDogKHJlc3VsdCA+PiAxKSk7CgogICAgc2hpZnQgPSByZXN1bHQgPSAwOwoKICAgIGRvIHsKICAgICAgYnl0ZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4KyspIC0gNjM7CiAgICAgIHJlc3VsdCB8PSAoYnl0ZSAmIDB4MWYpIDw8IHNoaWZ0OwogICAgICBzaGlmdCArPSA1OwogICAgfSB3aGlsZSAoYnl0ZSA+PSAweDIwKTsKCiAgICBsb25naXR1ZGVfY2hhbmdlID0gKChyZXN1bHQgJiAxKSA/IH4ocmVzdWx0ID4+IDEpIDogKHJlc3VsdCA+PiAxKSk7CgogICAgbGF0ICs9IGxhdGl0dWRlX2NoYW5nZTsKICAgIGxuZyArPSBsb25naXR1ZGVfY2hhbmdlOwoKICAgIGNvb3JkaW5hdGVzLnB1c2goW2xuZyAvIGZhY3RvciwgbGF0IC8gZmFjdG9yXSk7CiAgfQogIHJldHVybiBjb29yZGluYXRlczsKfQoKZnVuY3Rpb24gbWRfZ2V0X3BvaW50X2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFstMTc5Ljk5OSwtODkuOTk5XTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7Cn0KCmZ1bmN0aW9uIG1kX2dldF9vcmlnaW5fY29vcmRpbmF0ZXMgKCBvYmogKSB7CglpZiAoIG9iai5nZW9tZXRyeS5vcmlnaW4gPT09IG51bGwgKSB7CgkJcmV0dXJuIFstMTc5Ljk5OSwtODkuOTk5XTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkub3JpZ2luLmNvb3JkaW5hdGVzOwp9CgpmdW5jdGlvbiBtZF9nZXRfZGVzdGluYXRpb25fY29vcmRpbmF0ZXMgKCBvYmogKSB7CglpZiAoIG9iai5nZW9tZXRyeS5kZXN0aW5hdGlvbiA9PT0gbnVsbCApIHsKCQlyZXR1cm4gWy0xNzkuOTk5LC04OS45OTldOwoJfQoJcmV0dXJuIG9iai5nZW9tZXRyeS5kZXN0aW5hdGlvbi5jb29yZGluYXRlczsKfQoKCmZ1bmN0aW9uIG1kX2dldF9saW5lX2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFtbLTE3OS45OTksLTg5Ljk5OV0sWy0xNzkuOTk5LC04OS45OTldXTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7Cn0KCmZ1bmN0aW9uIG1kX2dldF9wb2x5Z29uX2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFtbLTE3OS45OTksLTg5Ljk5OV0sWy0xNzkuOTk5LC04OS45OTldLFstMTc5Ljk5OSwtODkuOTk5XV07Cgl9CglyZXR1cm4gb2JqLmdlb21ldHJ5Lmdlb21ldHJ5LmNvb3JkaW5hdGVzOwp9Cg=="></script>
  <link href="data:text/css,%2Emapboxgl%2Dmap%7Bfont%3A12px%2F20px%20Helvetica%20Neue%2CArial%2CHelvetica%2Csans%2Dserif%3Boverflow%3Ahidden%3Bposition%3Arelative%3B%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Argba%280%2C0%2C0%2C0%29%7D%2Emapboxgl%2Dcanvas%7Bposition%3Aabsolute%3Bleft%3A0%3Btop%3A0%7D%2Emapboxgl%2Dmap%3A%2Dwebkit%2Dfull%2Dscreen%7Bwidth%3A100%25%3Bheight%3A100%25%7D%2Emapboxgl%2Dcanary%7Bbackground%2Dcolor%3Asalmon%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%2C%2Emapboxgl%2Dctrl%2Dgroup%20button%2Emapboxgl%2Dctrl%2Dcompass%7Bcursor%3A%2Dwebkit%2Dgrab%3Bcursor%3A%2Dmoz%2Dgrab%3Bcursor%3Agrab%3B%2Dmoz%2Duser%2Dselect%3Anone%3B%2Dwebkit%2Duser%2Dselect%3Anone%3B%2Dms%2Duser%2Dselect%3Anone%3Buser%2Dselect%3Anone%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%2Emapboxgl%2Dtrack%2Dpointer%7Bcursor%3Apointer%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%3Aactive%2C%2Emapboxgl%2Dctrl%2Dgroup%20button%2Emapboxgl%2Dctrl%2Dcompass%3Aactive%7Bcursor%3A%2Dwebkit%2Dgrabbing%3Bcursor%3A%2Dmoz%2Dgrabbing%3Bcursor%3Agrabbing%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Apan%2Dx%20pan%2Dy%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Apinch%2Dzoom%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Anone%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%2C%2Emapboxgl%2Dctrl%2Dbottom%2Dright%2C%2Emapboxgl%2Dctrl%2Dtop%2Dleft%2C%2Emapboxgl%2Dctrl%2Dtop%2Dright%7Bposition%3Aabsolute%3Bpointer%2Devents%3Anone%3Bz%2Dindex%3A2%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%7Btop%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%7Btop%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%7Bbottom%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%7Bright%3A0%3Bbottom%3A0%7D%2Emapboxgl%2Dctrl%7Bclear%3Aboth%3Bpointer%2Devents%3Aauto%3Btransform%3Atranslate%280%29%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%20%2Emapboxgl%2Dctrl%7Bmargin%3A10px%200%200%2010px%3Bfloat%3Aleft%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%20%2Emapboxgl%2Dctrl%7Bmargin%3A10px%2010px%200%200%3Bfloat%3Aright%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%20%2Emapboxgl%2Dctrl%7Bmargin%3A0%200%2010px%2010px%3Bfloat%3Aleft%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%20%2Emapboxgl%2Dctrl%7Bmargin%3A0%2010px%2010px%200%3Bfloat%3Aright%7D%2Emapboxgl%2Dctrl%2Dgroup%7Bborder%2Dradius%3A4px%3Bbackground%3A%23fff%7D%2Emapboxgl%2Dctrl%2Dgroup%3Anot%28%3Aempty%29%7B%2Dmoz%2Dbox%2Dshadow%3A0%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%3B%2Dwebkit%2Dbox%2Dshadow%3A0%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%3Bbox%2Dshadow%3A0%200%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dgroup%3Anot%28%3Aempty%29%7Bbox%2Dshadow%3A0%200%200%202px%20ButtonText%7D%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%7Bwidth%3A29px%3Bheight%3A29px%3Bdisplay%3Ablock%3Bpadding%3A0%3Boutline%3Anone%3Bborder%3A0%3Bbox%2Dsizing%3Aborder%2Dbox%3Bbackground%2Dcolor%3Atransparent%3Bcursor%3Apointer%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%2Bbutton%7Bborder%2Dtop%3A1px%20solid%20%23ddd%7D%2Emapboxgl%2Dctrl%20button%20%2Emapboxgl%2Dctrl%2Dicon%7Bdisplay%3Ablock%3Bwidth%3A100%25%3Bheight%3A100%25%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bbackground%2Dposition%3A50%25%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dcolor%3Atransparent%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%2Bbutton%7Bborder%2Dtop%3A1px%20solid%20ButtonText%7D%7D%2Emapboxgl%2Dctrl%20button%3A%3A%2Dmoz%2Dfocus%2Dinner%7Bborder%3A0%3Bpadding%3A0%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%7Bbox%2Dshadow%3A0%200%202px%202px%20%230096ff%7D%2Emapboxgl%2Dctrl%20button%3Adisabled%7Bcursor%3Anot%2Dallowed%7D%2Emapboxgl%2Dctrl%20button%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bopacity%3A%2E25%7D%2Emapboxgl%2Dctrl%20button%3Anot%28%3Adisabled%29%3Ahover%7Bbackground%2Dcolor%3Argba%280%2C0%2C0%2C%2E05%29%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Afocus%2Dvisible%7Bbox%2Dshadow%3A0%200%202px%202px%20%230096ff%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Anot%28%3Afocus%2Dvisible%29%7Bbox%2Dshadow%3Anone%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Afirst%2Dchild%7Bborder%2Dradius%3A4px%204px%200%200%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Alast%2Dchild%7Bborder%2Dradius%3A0%200%204px%204px%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Aonly%2Dchild%7Bborder%2Dradius%3Ainherit%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523ccc%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523999%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523ccc%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523aaa%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e58978%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e54e33%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dwaiting%20%2Emapboxgl%2Dctrl%2Dicon%7B%2Dwebkit%2Danimation%3Amapboxgl%2Dspin%202s%20linear%20infinite%3B%2Dmoz%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3B%2Do%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3B%2Dms%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3Banimation%3Amapboxgl%2Dspin%202s%20linear%20infinite%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523999%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e58978%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e54e33%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523666%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40%2Dwebkit%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dwebkit%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dwebkit%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Dmoz%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dmoz%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dmoz%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Do%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Do%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Do%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Dms%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dms%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dms%2Dtransform%3Arotate%281turn%29%7D%7D%40keyframes%20mapboxgl%2Dspin%7B0%25%7Btransform%3Arotate%280deg%29%7Dto%7Btransform%3Arotate%281turn%29%7D%7Da%2Emapboxgl%2Dctrl%2Dlogo%7Bwidth%3A88px%3Bheight%3A23px%3Bmargin%3A0%200%20%2D4px%20%2D4px%3Bdisplay%3Ablock%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bcursor%3Apointer%3Boverflow%3Ahidden%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20opacity%3D%27%2E3%27%20stroke%3D%27%2523000%27%20stroke%2Dwidth%3D%273%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cg%20opacity%3D%27%2E9%27%20fill%3D%27%2523fff%27%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fg%253E%253C%2Fsvg%253E%22%29%7Da%2Emapboxgl%2Dctrl%2Dlogo%2Emapboxgl%2Dcompact%7Bwidth%3A23px%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7Ba%2Emapboxgl%2Dctrl%2Dlogo%7Bbackground%2Dcolor%3Atransparent%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20stroke%3D%27%2523000%27%20stroke%2Dwidth%3D%273%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cg%20fill%3D%27%2523fff%27%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fg%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7Ba%2Emapboxgl%2Dctrl%2Dlogo%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20stroke%3D%27%2523fff%27%20stroke%2Dwidth%3D%273%27%20fill%3D%27%2523fff%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%2Emapboxgl%2Dctrl%2Dattrib%7Bpadding%3A0%205px%3Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E5%29%3Bmargin%3A0%7D%40media%20screen%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%7Bmin%2Dheight%3A20px%3Bpadding%3A0%3Bmargin%3A10px%3Bposition%3Arelative%3Bbackground%2Dcolor%3A%23fff%3Bborder%2Dradius%3A3px%2012px%2012px%203px%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%7Bpadding%3A2px%2024px%202px%204px%3Bvisibility%3Avisible%3Bmargin%2Dtop%3A6px%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%2C%2Emapboxgl%2Dctrl%2Dtop%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%7Bpadding%3A2px%204px%202px%2024px%3Bborder%2Dradius%3A12px%203px%203px%2012px%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%20%2Emapboxgl%2Dctrl%2Dattrib%2Dinner%7Bdisplay%3Anone%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%20%2Emapboxgl%2Dctrl%2Dattrib%2Dinner%7Bdisplay%3Ablock%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bcontent%3A%22%22%3Bcursor%3Apointer%3Bposition%3Aabsolute%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%3Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E5%29%3Bwidth%3A24px%3Bheight%3A24px%3Bbox%2Dsizing%3Aborder%2Dbox%3Bborder%2Dradius%3A12px%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbottom%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Btop%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Btop%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbottom%3A0%3Bleft%3A0%7D%7D%40media%20screen%20and%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20screen%20and%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%2Dattrib%20a%7Bcolor%3Argba%280%2C0%2C0%2C%2E75%29%3Btext%2Ddecoration%3Anone%7D%2Emapboxgl%2Dctrl%2Dattrib%20a%3Ahover%7Bcolor%3Ainherit%3Btext%2Ddecoration%3Aunderline%7D%2Emapboxgl%2Dctrl%2Dattrib%20%2Emapbox%2Dimprove%2Dmap%7Bfont%2Dweight%3A700%3Bmargin%2Dleft%3A2px%7D%2Emapboxgl%2Dattrib%2Dempty%7Bdisplay%3Anone%7D%2Emapboxgl%2Dctrl%2Dscale%7Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E75%29%3Bfont%2Dsize%3A10px%3Bborder%3A2px%20solid%20%23333%3Bborder%2Dtop%3A%23333%3Bpadding%3A0%205px%3Bcolor%3A%23333%3Bbox%2Dsizing%3Aborder%2Dbox%7D%2Emapboxgl%2Dpopup%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bdisplay%3A%2Dwebkit%2Dflex%3Bdisplay%3Aflex%3Bwill%2Dchange%3Atransform%3Bpointer%2Devents%3Anone%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2C%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%2C%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Acolumn%3Bflex%2Ddirection%3Acolumn%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2C%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%2C%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Acolumn%2Dreverse%3Bflex%2Ddirection%3Acolumn%2Dreverse%7D%2Emapboxgl%2Dpopup%2Danchor%2Dleft%7B%2Dwebkit%2Dflex%2Ddirection%3Arow%3Bflex%2Ddirection%3Arow%7D%2Emapboxgl%2Dpopup%2Danchor%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Arow%2Dreverse%3Bflex%2Ddirection%3Arow%2Dreverse%7D%2Emapboxgl%2Dpopup%2Dtip%7Bwidth%3A0%3Bheight%3A0%3Bborder%3A10px%20solid%20transparent%3Bz%2Dindex%3A1%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dtop%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dstart%3Balign%2Dself%3Aflex%2Dstart%3Bborder%2Dtop%3Anone%3Bborder%2Dleft%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dend%3Balign%2Dself%3Aflex%2Dend%3Bborder%2Dtop%3Anone%3Bborder%2Dright%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dbottom%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dstart%3Balign%2Dself%3Aflex%2Dstart%3Bborder%2Dbottom%3Anone%3Bborder%2Dleft%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dend%3Balign%2Dself%3Aflex%2Dend%3Bborder%2Dbottom%3Anone%3Bborder%2Dright%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dleft%3Anone%3Bborder%2Dright%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dright%3Anone%3Bborder%2Dleft%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Dclose%2Dbutton%7Bposition%3Aabsolute%3Bright%3A0%3Btop%3A0%3Bborder%3A0%3Bborder%2Dradius%3A0%203px%200%200%3Bcursor%3Apointer%3Bbackground%2Dcolor%3Atransparent%7D%2Emapboxgl%2Dpopup%2Dclose%2Dbutton%3Ahover%7Bbackground%2Dcolor%3Argba%280%2C0%2C0%2C%2E05%29%7D%2Emapboxgl%2Dpopup%2Dcontent%7Bposition%3Arelative%3Bbackground%3A%23fff%3Bborder%2Dradius%3A3px%3Bbox%2Dshadow%3A0%201px%202px%20rgba%280%2C0%2C0%2C%2E1%29%3Bpadding%3A10px%2010px%2015px%3Bpointer%2Devents%3Aauto%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dtop%2Dleft%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dtop%2Dright%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dbottom%2Dleft%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dbottom%2Dright%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Anone%7D%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%20%2A%7Bpointer%2Devents%3Anone%3Buser%2Dselect%3Anone%7D%2Emapboxgl%2Dmap%3Ahover%20%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Aflex%7D%2Emapboxgl%2Dmap%3Aactive%20%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Anone%7D%2Emapboxgl%2Dmarker%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwill%2Dchange%3Atransform%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2C%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Abefore%7Bbackground%2Dcolor%3A%231da1f2%3Bwidth%3A15px%3Bheight%3A15px%3Bborder%2Dradius%3A50%25%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Abefore%7Bcontent%3A%22%22%3Bposition%3Aabsolute%3B%2Dwebkit%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3B%2Dmoz%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3B%2Dms%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3Banimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Aafter%7Bborder%2Dradius%3A50%25%3Bborder%3A2px%20solid%20%23fff%3Bcontent%3A%22%22%3Bheight%3A19px%3Bleft%3A%2D2px%3Bposition%3Aabsolute%3Btop%3A%2D2px%3Bwidth%3A19px%3Bbox%2Dsizing%3Aborder%2Dbox%3Bbox%2Dshadow%3A0%200%203px%20rgba%280%2C0%2C0%2C%2E35%29%7D%40%2Dwebkit%2Dkeyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7B%2Dwebkit%2Dtransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7B%2Dwebkit%2Dtransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7B%2Dwebkit%2Dtransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%40%2Dms%2Dkeyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7B%2Dms%2Dtransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7B%2Dms%2Dtransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7B%2Dms%2Dtransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%40keyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7Btransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7Btransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7Btransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2Dstale%7Bbackground%2Dcolor%3A%23aaa%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2Dstale%3Aafter%7Bdisplay%3Anone%7D%2Emapboxgl%2Duser%2Dlocation%2Daccuracy%2Dcircle%7Bbackground%2Dcolor%3Argba%2829%2C161%2C242%2C%2E2%29%3Bwidth%3A1px%3Bheight%3A1px%3Bborder%2Dradius%3A100%25%7D%2Emapboxgl%2Dcrosshair%2C%2Emapboxgl%2Dcrosshair%20%2Emapboxgl%2Dinteractive%2C%2Emapboxgl%2Dcrosshair%20%2Emapboxgl%2Dinteractive%3Aactive%7Bcursor%3Acrosshair%7D%2Emapboxgl%2Dboxzoom%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwidth%3A0%3Bheight%3A0%3Bbackground%3A%23fff%3Bborder%3A2px%20dotted%20%23202020%3Bopacity%3A%2E5%7D%40media%20print%7B%2Emapbox%2Dimprove%2Dmap%7Bdisplay%3Anone%7D%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,LyogTWFwYm94IEdMIEpTIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSAzLUNsYXVzZSBCU0QgTGljZW5zZS4gRnVsbCB0ZXh0IG9mIGxpY2Vuc2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2Jsb2IvdjEuMTAuMC9MSUNFTlNFLnR4dCAqLwooZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkgewp0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6CnR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6CihnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLm1hcGJveGdsID0gZmFjdG9yeSgpKTsKfSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwoKdmFyIHNoYXJlZCwgd29ya2VyLCBtYXBib3hnbDsKLy8gZGVmaW5lIGdldHMgY2FsbGVkIHRocmVlIHRpbWVzOiBvbmUgZm9yIGVhY2ggY2h1bmsuIHdlIHJlbHkgb24gdGhlIG9yZGVyCi8vIHRoZXkncmUgaW1wb3J0ZWQgdG8ga25vdyB3aGljaCBpcyB3aGljaApmdW5jdGlvbiBkZWZpbmUoXywgY2h1bmspIHsKaWYgKCFzaGFyZWQpIHsKICAgIHNoYXJlZCA9IGNodW5rOwp9IGVsc2UgaWYgKCF3b3JrZXIpIHsKICAgIHdvcmtlciA9IGNodW5rOwp9IGVsc2UgewogICAgdmFyIHdvcmtlckJ1bmRsZVN0cmluZyA9ICd2YXIgc2hhcmVkQ2h1bmsgPSB7fTsgKCcgKyBzaGFyZWQgKyAnKShzaGFyZWRDaHVuayk7ICgnICsgd29ya2VyICsgJykoc2hhcmVkQ2h1bmspOycKCiAgICB2YXIgc2hhcmVkQ2h1bmsgPSB7fTsKICAgIHNoYXJlZChzaGFyZWRDaHVuayk7CiAgICBtYXBib3hnbCA9IGNodW5rKHNoYXJlZENodW5rKTsKICAgIG1hcGJveGdsLndvcmtlclVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt3b3JrZXJCdW5kbGVTdHJpbmddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKTsKfQp9CgoKZGVmaW5lKFsiZXhwb3J0cyJdLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiB0KGU9e2V4cG9ydHM6e319LGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciByPW47ZnVuY3Rpb24gbih0LGUscixuKXt0aGlzLmN4PTMqdCx0aGlzLmJ4PTMqKHItdCktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9MyplLHRoaXMuYnk9Myoobi1lKS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9dCx0aGlzLnAxeT1uLHRoaXMucDJ4PXIsdGhpcy5wMnk9bjt9bi5wcm90b3R5cGUuc2FtcGxlQ3VydmVYPWZ1bmN0aW9uKHQpe3JldHVybiAoKHRoaXMuYXgqdCt0aGlzLmJ4KSp0K3RoaXMuY3gpKnR9LG4ucHJvdG90eXBlLnNhbXBsZUN1cnZlWT1mdW5jdGlvbih0KXtyZXR1cm4gKCh0aGlzLmF5KnQrdGhpcy5ieSkqdCt0aGlzLmN5KSp0fSxuLnByb3RvdHlwZS5zYW1wbGVDdXJ2ZURlcml2YXRpdmVYPWZ1bmN0aW9uKHQpe3JldHVybiAoMyp0aGlzLmF4KnQrMip0aGlzLmJ4KSp0K3RoaXMuY3h9LG4ucHJvdG90eXBlLnNvbHZlQ3VydmVYPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEsbztmb3Iodm9pZCAwPT09ZSYmKGU9MWUtNiksaT10LG89MDtvPDg7bysrKXtpZihhPXRoaXMuc2FtcGxlQ3VydmVYKGkpLXQsTWF0aC5hYnMoYSk8ZSlyZXR1cm4gaTt2YXIgcz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgoaSk7aWYoTWF0aC5hYnMocyk8MWUtNilicmVhaztpLT1hL3M7fWlmKChpPXQpPChyPTApKXJldHVybiByO2lmKGk+KG49MSkpcmV0dXJuIG47Zm9yKDtyPG47KXtpZihhPXRoaXMuc2FtcGxlQ3VydmVYKGkpLE1hdGguYWJzKGEtdCk8ZSlyZXR1cm4gaTt0PmE/cj1pOm49aSxpPS41KihuLXIpK3I7fXJldHVybiBpfSxuLnByb3RvdHlwZS5zb2x2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNhbXBsZUN1cnZlWSh0aGlzLnNvbHZlQ3VydmVYKHQsZSkpfTt2YXIgaT1hO2Z1bmN0aW9uIGEodCxlKXt0aGlzLng9dCx0aGlzLnk9ZTt9ZnVuY3Rpb24gbyh0LGUsbixpKXt2YXIgYT1uZXcgcih0LGUsbixpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGEuc29sdmUodCl9fWEucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZCh0KX0sc3ViOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3N1Yih0KX0sbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQodCl9LGRpdkJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludCh0KX0sbXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KHQpfSxkaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KHQpfSxyb3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKHQpfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQodCxlKX0sbWF0TXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KHQpfSx1bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpfSxwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpfSxyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCl9LG1hZzpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9PT10LngmJnRoaXMueT09PXQueX0sZGlzdDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcih0KSl9LGRpc3RTcXI6ZnVuY3Rpb24odCl7dmFyIGU9dC54LXRoaXMueCxyPXQueS10aGlzLnk7cmV0dXJuIGUqZStyKnJ9LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LGFuZ2xlVG86ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LXQueSx0aGlzLngtdC54KX0sYW5nbGVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuZ2xlV2l0aFNlcCh0LngsdC55KX0sYW5nbGVXaXRoU2VwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54KmUtdGhpcy55KnQsdGhpcy54KnQrdGhpcy55KmUpfSxfbWF0TXVsdDpmdW5jdGlvbih0KXt2YXIgZT10WzJdKnRoaXMueCt0WzNdKnRoaXMueTtyZXR1cm4gdGhpcy54PXRbMF0qdGhpcy54K3RbMV0qdGhpcy55LHRoaXMueT1lLHRoaXN9LF9hZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LF9zdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LF9kaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tdCx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCksbj1yKnRoaXMueCtlKnRoaXMueTtyZXR1cm4gdGhpcy54PWUqdGhpcy54LXIqdGhpcy55LHRoaXMueT1uLHRoaXN9LF9yb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpLGk9ZS55K24qKHRoaXMueC1lLngpK3IqKHRoaXMueS1lLnkpO3JldHVybiB0aGlzLng9ZS54K3IqKHRoaXMueC1lLngpLW4qKHRoaXMueS1lLnkpLHRoaXMueT1pLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LGEuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGE/dDpBcnJheS5pc0FycmF5KHQpP25ldyBhKHRbMF0sdFsxXSk6dH07dmFyIHM9byguMjUsLjEsLjI1LDEpO2Z1bmN0aW9uIHUodCxlLHIpe3JldHVybiBNYXRoLm1pbihyLE1hdGgubWF4KGUsdCkpfWZ1bmN0aW9uIGwodCxlLHIpe3ZhciBuPXItZSxpPSgodC1lKSVuK24pJW4rZTtyZXR1cm4gaT09PWU/cjppfWZ1bmN0aW9uIHAodCl7Zm9yKHZhciBlPVtdLHI9YXJndW1lbnRzLmxlbmd0aC0xO3ItLSA+MDspZVtyXT1hcmd1bWVudHNbcisxXTtmb3IodmFyIG49MCxpPWU7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO2Zvcih2YXIgbyBpbiBhKXRbb109YVtvXTt9cmV0dXJuIHR9dmFyIGM9MTtmdW5jdGlvbiBoKCl7cmV0dXJuIGMrK31mdW5jdGlvbiBmKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU/KGVeMTYqTWF0aC5yYW5kb20oKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy1bMWUzXSstNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csdCl9KCl9ZnVuY3Rpb24geSh0KXtyZXR1cm4gISF0JiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KHQpfWZ1bmN0aW9uIGQodCxlKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF0mJihlW3RdPWVbdF0uYmluZChlKSk7fSkpO31mdW5jdGlvbiBtKHQsZSl7cmV0dXJuIC0xIT09dC5pbmRleE9mKGUsdC5sZW5ndGgtZS5sZW5ndGgpfWZ1bmN0aW9uIHYodCxlLHIpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiB0KW5baV09ZS5jYWxsKHJ8fHRoaXMsdFtpXSxpLHQpO3JldHVybiBufWZ1bmN0aW9uIGcodCxlLHIpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiB0KWUuY2FsbChyfHx0aGlzLHRbaV0saSx0KSYmKG5baV09dFtpXSk7cmV0dXJuIG59ZnVuY3Rpb24geCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lm1hcCh4KToib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dih0LHgpOnR9dmFyIGI9e307ZnVuY3Rpb24gdyh0KXtiW3RdfHwoInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4odCksYlt0XT0hMCk7fWZ1bmN0aW9uIF8odCxlLHIpe3JldHVybiAoci55LXQueSkqKGUueC10LngpPihlLnktdC55KSooci54LXQueCl9ZnVuY3Rpb24gQSh0KXtmb3IodmFyIGU9MCxyPTAsbj10Lmxlbmd0aCxpPW4tMSxhPXZvaWQgMCxvPXZvaWQgMDtyPG47aT1yKyspZSs9KChvPXRbaV0pLngtKGE9dFtyXSkueCkqKGEueStvLnkpO3JldHVybiBlfWZ1bmN0aW9uIFMoKXtyZXR1cm4gInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gayh0KXt2YXIgZT17fTtpZih0LnJlcGxhY2UoLyg/Ol58KD86XHMqXCxccyopKShbXlx4MDAtXHgyMFwoXCk8PkBcLDtcOlxcIlwvXFtcXVw/XD1ce1x9XHg3Rl0rKSg/Olw9KD86KFteXHgwMC1ceDIwXChcKTw+QFwsO1w6XFwiXC9cW1xdXD9cPVx7XH1ceDdGXSspfCg/OlwiKCg/OlteIlxcXXxcXC4pKilcIikpKT8vZywoZnVuY3Rpb24odCxyLG4saSl7dmFyIGE9bnx8aTtyZXR1cm4gZVtyXT0hYXx8YS50b0xvd2VyQ2FzZSgpLCIifSkpLGVbIm1heC1hZ2UiXSl7dmFyIHI9cGFyc2VJbnQoZVsibWF4LWFnZSJdLDEwKTtpc05hTihyKT9kZWxldGUgZVsibWF4LWFnZSJdOmVbIm1heC1hZ2UiXT1yO31yZXR1cm4gZX12YXIgST1udWxsO2Z1bmN0aW9uIHoodCl7aWYobnVsbD09SSl7dmFyIGU9dC5uYXZpZ2F0b3I/dC5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7ST0hIXQuc2FmYXJpfHwhKCFlfHwhKC9cYihpUGFkfGlQaG9uZXxpUG9kKVxiLy50ZXN0KGUpfHxlLm1hdGNoKCJTYWZhcmkiKSYmIWUubWF0Y2goIkNocm9tZSIpKSk7fXJldHVybiBJfWZ1bmN0aW9uIEModCl7dHJ5e3ZhciBlPXNlbGZbdF07cmV0dXJuIGUuc2V0SXRlbSgiX21hcGJveF90ZXN0XyIsMSksZS5yZW1vdmVJdGVtKCJfbWFwYm94X3Rlc3RfIiksITB9Y2F0Y2godCl7cmV0dXJuICExfX12YXIgTSxFLFQsUCxCPXNlbGYucGVyZm9ybWFuY2UmJnNlbGYucGVyZm9ybWFuY2Uubm93P3NlbGYucGVyZm9ybWFuY2Uubm93LmJpbmQoc2VsZi5wZXJmb3JtYW5jZSk6RGF0ZS5ub3cuYmluZChEYXRlKSxWPXNlbGYucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZWxmLm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8c2VsZi53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHNlbGYubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsRj1zZWxmLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxzZWxmLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxzZWxmLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHxzZWxmLm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUsRD17bm93OkIsZnJhbWU6ZnVuY3Rpb24odCl7dmFyIGU9Vih0KTtyZXR1cm4ge2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiBGKGUpfX19LGdldEltYWdlRGF0YTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciByPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksbj1yLmdldENvbnRleHQoIjJkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gY3JlYXRlIGNhbnZhcyAyZCBjb250ZXh0Iik7cmV0dXJuIHIud2lkdGg9dC53aWR0aCxyLmhlaWdodD10LmhlaWdodCxuLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxuLmdldEltYWdlRGF0YSgtZSwtZSx0LndpZHRoKzIqZSx0LmhlaWdodCsyKmUpfSxyZXNvbHZlVVJMOmZ1bmN0aW9uKHQpe3JldHVybiBNfHwoTT1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSksTS5ocmVmPXQsTS5ocmVmfSxoYXJkd2FyZUNvbmN1cnJlbmN5OnNlbGYubmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l8fDQsZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gc2VsZi5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4gISFzZWxmLm1hdGNoTWVkaWEmJihudWxsPT1FJiYoRT1zZWxmLm1hdGNoTWVkaWEoIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpIikpLEUubWF0Y2hlcyl9fSxMPXtBUElfVVJMOiJodHRwczovL2FwaS5tYXBib3guY29tIixnZXQgRVZFTlRTX1VSTCgpe3JldHVybiB0aGlzLkFQSV9VUkw/MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKCJodHRwczovL2FwaS5tYXBib3guY24iKT8iaHR0cHM6Ly9ldmVudHMubWFwYm94LmNuL2V2ZW50cy92MiI6MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKCJodHRwczovL2FwaS5tYXBib3guY29tIik/Imh0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyIjpudWxsOm51bGx9LEZFRURCQUNLX1VSTDoiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2siLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNn0sUj17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKHQpeyFPJiZQJiYoVT9qKHQpOlQ9dCk7fX0sTz0hMSxVPSExO2Z1bmN0aW9uIGoodCl7dmFyIGU9dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSk7dHJ5e2lmKHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxQKSx0LmlzQ29udGV4dExvc3QoKSlyZXR1cm47Ui5zdXBwb3J0ZWQ9ITA7fWNhdGNoKHQpe310LmRlbGV0ZVRleHR1cmUoZSksTz0hMDt9c2VsZi5kb2N1bWVudCYmKChQPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLm9ubG9hZD1mdW5jdGlvbigpe1QmJmooVCksVD1udWxsLFU9ITA7fSxQLm9uZXJyb3I9ZnVuY3Rpb24oKXtPPSEwLFQ9bnVsbDt9LFAuc3JjPSJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBUUFBQUFmUS8vNzN2LytCaU9oL0FBQT0iKTt2YXIgcT0iMDEiLE49ZnVuY3Rpb24odCxlKXt0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm49dCx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj1lLHRoaXMuX2NyZWF0ZVNrdVRva2VuKCk7fTtmdW5jdGlvbiBLKHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJtYXBib3g6Iil9Ti5wcm90b3R5cGUuX2NyZWF0ZVNrdVRva2VuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IiIsZT0wO2U8MTA7ZSsrKXQrPSIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiJbTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKV07cmV0dXJuIHt0b2tlbjpbIjEiLHEsdF0uam9pbigiIiksdG9rZW5FeHBpcmVzQXQ6RGF0ZS5ub3coKSs0MzJlNX19KCk7dGhpcy5fc2t1VG9rZW49dC50b2tlbix0aGlzLl9za3VUb2tlbkV4cGlyZXNBdD10LnRva2VuRXhwaXJlc0F0O30sTi5wcm90b3R5cGUuX2lzU2t1VG9rZW5FeHBpcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCk+dGhpcy5fc2t1VG9rZW5FeHBpcmVzQXR9LE4ucHJvdG90eXBlLnRyYW5zZm9ybVJlcXVlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuJiZ0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4odCxlKXx8e3VybDp0fX0sTi5wcm90b3R5cGUubm9ybWFsaXplU3R5bGVVUkw9ZnVuY3Rpb24odCxlKXtpZighSyh0KSlyZXR1cm4gdDt2YXIgcj1KKHQpO3JldHVybiByLnBhdGg9Ii9zdHlsZXMvdjEiK3IucGF0aCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfSxOLnByb3RvdHlwZS5ub3JtYWxpemVHbHlwaHNVUkw9ZnVuY3Rpb24odCxlKXtpZighSyh0KSlyZXR1cm4gdDt2YXIgcj1KKHQpO3JldHVybiByLnBhdGg9Ii9mb250cy92MSIrci5wYXRoLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9LE4ucHJvdG90eXBlLm5vcm1hbGl6ZVNvdXJjZVVSTD1mdW5jdGlvbih0LGUpe2lmKCFLKHQpKXJldHVybiB0O3ZhciByPUoodCk7cmV0dXJuIHIucGF0aD0iL3Y0LyIrci5hdXRob3JpdHkrIi5qc29uIixyLnBhcmFtcy5wdXNoKCJzZWN1cmUiKSx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfSxOLnByb3RvdHlwZS5ub3JtYWxpemVTcHJpdGVVUkw9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Sih0KTtyZXR1cm4gSyh0KT8oaS5wYXRoPSIvc3R5bGVzL3YxIitpLnBhdGgrIi9zcHJpdGUiK2Urcix0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fG4pKTooaS5wYXRoKz0iIitlK3IsSChpKSl9LE4ucHJvdG90eXBlLm5vcm1hbGl6ZVRpbGVVUkw9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pc1NrdVRva2VuRXhwaXJlZCgpJiZ0aGlzLl9jcmVhdGVTa3VUb2tlbigpLHQmJiFLKHQpKXJldHVybiB0O3ZhciByPUoodCk7ci5wYXRoPXIucGF0aC5yZXBsYWNlKC8oXC4ocG5nfGpwZylcZCopKD89JCkvLChELmRldmljZVBpeGVsUmF0aW8+PTJ8fDUxMj09PWU/IkAyeCI6IiIpKyhSLnN1cHBvcnRlZD8iLndlYnAiOiIkMSIpKSxyLnBhdGg9ci5wYXRoLnJlcGxhY2UoL14uK1wvdjRcLy8sIi8iKSxyLnBhdGg9Ii92NCIrci5wYXRoO3ZhciBuPXRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdLm1hdGNoKC9eYWNjZXNzX3Rva2VuPSguKikkLyk7aWYobilyZXR1cm4gblsxXX1yZXR1cm4gbnVsbH0oci5wYXJhbXMpfHxMLkFDQ0VTU19UT0tFTjtyZXR1cm4gTC5SRVFVSVJFX0FDQ0VTU19UT0tFTiYmbiYmdGhpcy5fc2t1VG9rZW4mJnIucGFyYW1zLnB1c2goInNrdT0iK3RoaXMuX3NrdVRva2VuKSx0aGlzLl9tYWtlQVBJVVJMKHIsbil9LE4ucHJvdG90eXBlLmNhbm9uaWNhbGl6ZVRpbGVVUkw9ZnVuY3Rpb24odCxlKXt2YXIgcj1KKHQpO2lmKCFyLnBhdGgubWF0Y2goLyheXC92NFwvKS8pfHwhci5wYXRoLm1hdGNoKC9cLltcd10rJC8pKXJldHVybiB0O3ZhciBuPSJtYXBib3g6Ly90aWxlcy8iO24rPXIucGF0aC5yZXBsYWNlKCIvdjQvIiwiIik7dmFyIGk9ci5wYXJhbXM7cmV0dXJuIGUmJihpPWkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gIXQubWF0Y2goL15hY2Nlc3NfdG9rZW49Lyl9KSkpLGkubGVuZ3RoJiYobis9Ij8iK2kuam9pbigiJiIpKSxufSxOLnByb3RvdHlwZS5jYW5vbmljYWxpemVUaWxlc2V0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPSEhZSYmSyhlKSxuPVtdLGk9MCxhPXQudGlsZXN8fFtdO2k8YS5sZW5ndGg7aSs9MSl7dmFyIG89YVtpXTtaKG8pP24ucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZVRpbGVVUkwobyxyKSk6bi5wdXNoKG8pO31yZXR1cm4gbn0sTi5wcm90b3R5cGUuX21ha2VBUElVUkw9ZnVuY3Rpb24odCxlKXt2YXIgcj0iU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3BlcyIsbj1KKEwuQVBJX1VSTCk7aWYodC5wcm90b2NvbD1uLnByb3RvY29sLHQuYXV0aG9yaXR5PW4uYXV0aG9yaXR5LCIvIiE9PW4ucGF0aCYmKHQucGF0aD0iIituLnBhdGgrdC5wYXRoKSwhTC5SRVFVSVJFX0FDQ0VTU19UT0tFTilyZXR1cm4gSCh0KTtpZighKGU9ZXx8TC5BQ0NFU1NfVE9LRU4pKXRocm93IG5ldyBFcnJvcigiQW4gQVBJIGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMLiAiK3IpO2lmKCJzIj09PWVbMF0pdGhyb3cgbmV3IEVycm9yKCJVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuICIrcik7cmV0dXJuIHQucGFyYW1zPXQucGFyYW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIC0xPT09dC5pbmRleE9mKCJhY2Nlc3NfdG9rZW4iKX0pKSx0LnBhcmFtcy5wdXNoKCJhY2Nlc3NfdG9rZW49IitlKSxIKHQpfTt2YXIgRz0vXigoaHR0cHM/Oik/XC9cLyk/KFteXC9dK1wuKT9tYXBib3hcLmMobnxvbSkoXC98XD98JCkvaTtmdW5jdGlvbiBaKHQpe3JldHVybiBHLnRlc3QodCl9dmFyIFg9L14oXHcrKTpcL1wvKFteLz9dKikoXC9bXj9dKyk/XD8/KC4rKT8vO2Z1bmN0aW9uIEoodCl7dmFyIGU9dC5tYXRjaChYKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0Iik7cmV0dXJuIHtwcm90b2NvbDplWzFdLGF1dGhvcml0eTplWzJdLHBhdGg6ZVszXXx8Ii8iLHBhcmFtczplWzRdP2VbNF0uc3BsaXQoIiYiKTpbXX19ZnVuY3Rpb24gSCh0KXt2YXIgZT10LnBhcmFtcy5sZW5ndGg/Ij8iK3QucGFyYW1zLmpvaW4oIiYiKToiIjtyZXR1cm4gdC5wcm90b2NvbCsiOi8vIit0LmF1dGhvcml0eSt0LnBhdGgrZX1mdW5jdGlvbiBZKHQpe2lmKCF0KXJldHVybiBudWxsO3ZhciBlPXQuc3BsaXQoIi4iKTtpZighZXx8MyE9PWUubGVuZ3RoKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoc2VsZi5hdG9iKGVbMV0pLnNwbGl0KCIiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAiJSIrKCIwMCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSkpLmpvaW4oIiIpKSl9Y2F0Y2godCl7cmV0dXJuIG51bGx9fXZhciAkPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT10LHRoaXMuYW5vbklkPW51bGwsdGhpcy5ldmVudERhdGE9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGw7fTskLnByb3RvdHlwZS5nZXRTdG9yYWdlS2V5PWZ1bmN0aW9uKHQpe3ZhciBlLHI9WShMLkFDQ0VTU19UT0tFTik7cmV0dXJuIGU9ciYmci51P3NlbGYuYnRvYShlbmNvZGVVUklDb21wb25lbnQoci51KS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLChmdW5jdGlvbih0LGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcigiMHgiK2UpKX0pKSk6TC5BQ0NFU1NfVE9LRU58fCIiLHQ/Im1hcGJveC5ldmVudERhdGEuIit0KyI6IitlOiJtYXBib3guZXZlbnREYXRhOiIrZX0sJC5wcm90b3R5cGUuZmV0Y2hFdmVudERhdGE9ZnVuY3Rpb24oKXt2YXIgdD1DKCJsb2NhbFN0b3JhZ2UiKSxlPXRoaXMuZ2V0U3RvcmFnZUtleSgpLHI9dGhpcy5nZXRTdG9yYWdlS2V5KCJ1dWlkIik7aWYodCl0cnl7dmFyIG49c2VsZi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTtuJiYodGhpcy5ldmVudERhdGE9SlNPTi5wYXJzZShuKSk7dmFyIGk9c2VsZi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyKTtpJiYodGhpcy5hbm9uSWQ9aSk7fWNhdGNoKHQpe3coIlVuYWJsZSB0byByZWFkIGZyb20gTG9jYWxTdG9yYWdlIik7fX0sJC5wcm90b3R5cGUuc2F2ZUV2ZW50RGF0YT1mdW5jdGlvbigpe3ZhciB0PUMoImxvY2FsU3RvcmFnZSIpLGU9dGhpcy5nZXRTdG9yYWdlS2V5KCkscj10aGlzLmdldFN0b3JhZ2VLZXkoInV1aWQiKTtpZih0KXRyeXtzZWxmLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHIsdGhpcy5hbm9uSWQpLE9iamVjdC5rZXlzKHRoaXMuZXZlbnREYXRhKS5sZW5ndGg+PTEmJnNlbGYubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeSh0aGlzLmV2ZW50RGF0YSkpO31jYXRjaCh0KXt3KCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlIik7fX0sJC5wcm90b3R5cGUucHJvY2Vzc1JlcXVlc3RzPWZ1bmN0aW9uKHQpe30sJC5wcm90b3R5cGUucG9zdEV2ZW50PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXM7aWYoTC5FVkVOVFNfVVJMKXt2YXIgYT1KKEwuRVZFTlRTX1VSTCk7YS5wYXJhbXMucHVzaCgiYWNjZXNzX3Rva2VuPSIrKG58fEwuQUNDRVNTX1RPS0VOfHwiIikpO3ZhciBvPXtldmVudDp0aGlzLnR5cGUsY3JlYXRlZDpuZXcgRGF0ZSh0KS50b0lTT1N0cmluZygpLHNka0lkZW50aWZpZXI6Im1hcGJveC1nbC1qcyIsc2RrVmVyc2lvbjoiMS4xMC4wIixza3VJZDpxLHVzZXJJZDp0aGlzLmFub25JZH0scz1lP3AobyxlKTpvLHU9e3VybDpIKGEpLGhlYWRlcnM6eyJDb250ZW50LVR5cGUiOiJ0ZXh0L3BsYWluIn0sYm9keTpKU09OLnN0cmluZ2lmeShbc10pfTt0aGlzLnBlbmRpbmdSZXF1ZXN0PXh0KHUsKGZ1bmN0aW9uKHQpe2kucGVuZGluZ1JlcXVlc3Q9bnVsbCxyKHQpLGkuc2F2ZUV2ZW50RGF0YSgpLGkucHJvY2Vzc1JlcXVlc3RzKG4pO30pKTt9fSwkLnByb3RvdHlwZS5xdWV1ZVJlcXVlc3Q9ZnVuY3Rpb24odCxlKXt0aGlzLnF1ZXVlLnB1c2godCksdGhpcy5wcm9jZXNzUmVxdWVzdHMoZSk7fTt2YXIgVyxRLHR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcywibWFwLmxvYWQiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj0iIjt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucG9zdE1hcExvYWRFdmVudD1mdW5jdGlvbih0LGUscixuKXt0aGlzLnNrdVRva2VuPXIsKEwuRVZFTlRTX1VSTCYmbnx8TC5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkodCkmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIEsodCl8fFoodCl9KSkpJiZ0aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6ZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0sbik7fSxlLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5wZW5kaW5nUmVxdWVzdCYmMCE9PXRoaXMucXVldWUubGVuZ3RoKXt2YXIgcj10aGlzLnF1ZXVlLnNoaWZ0KCksbj1yLmlkLGk9ci50aW1lc3RhbXA7biYmdGhpcy5zdWNjZXNzW25dfHwodGhpcy5hbm9uSWR8fHRoaXMuZmV0Y2hFdmVudERhdGEoKSx5KHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPWYoKSksdGhpcy5wb3N0RXZlbnQoaSx7c2t1VG9rZW46dGhpcy5za3VUb2tlbn0sKGZ1bmN0aW9uKHQpe3R8fG4mJihlLnN1Y2Nlc3Nbbl09ITApO30pLHQpKTt9fSxlfSgkKSxldD1uZXcoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcywiYXBwVXNlclR1cm5zdGlsZSIpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWU7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3RUdXJuc3RpbGVFdmVudD1mdW5jdGlvbih0LGUpe0wuRVZFTlRTX1VSTCYmTC5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkodCkmJnQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIEsodCl8fFoodCl9KSkmJnRoaXMucXVldWVSZXF1ZXN0KERhdGUubm93KCksZSk7fSxlLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5wZW5kaW5nUmVxdWVzdCYmMCE9PXRoaXMucXVldWUubGVuZ3RoKXt0aGlzLmFub25JZCYmdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MmJnRoaXMuZXZlbnREYXRhLnRva2VuVXx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpO3ZhciByPVkoTC5BQ0NFU1NfVE9LRU4pLG49cj9yLnU6TC5BQ0NFU1NfVE9LRU4saT1uIT09dGhpcy5ldmVudERhdGEudG9rZW5VO3kodGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9ZigpLGk9ITApO3ZhciBhPXRoaXMucXVldWUuc2hpZnQoKTtpZih0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcyl7dmFyIG89bmV3IERhdGUodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLHM9bmV3IERhdGUoYSksdT0oYS10aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcykvODY0ZTU7aT1pfHx1Pj0xfHx1PC0xfHxvLmdldERhdGUoKSE9PXMuZ2V0RGF0ZSgpO31lbHNlIGk9ITA7aWYoIWkpcmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7dGhpcy5wb3N0RXZlbnQoYSx7ImVuYWJsZWQudGVsZW1ldHJ5IjohMX0sKGZ1bmN0aW9uKHQpe3R8fChlLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcz1hLGUuZXZlbnREYXRhLnRva2VuVT1uKTt9KSx0KTt9fSxlfSgkKSkscnQ9ZXQucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoZXQpLG50PW5ldyB0dCxpdD1udC5wb3N0TWFwTG9hZEV2ZW50LmJpbmQobnQpLGF0PTUwMCxvdD01MDtmdW5jdGlvbiBzdCgpe3NlbGYuY2FjaGVzJiYhVyYmKFc9c2VsZi5jYWNoZXMub3BlbigibWFwYm94LXRpbGVzIikpO31mdW5jdGlvbiB1dCh0KXt2YXIgZT10LmluZGV4T2YoIj8iKTtyZXR1cm4gZTwwP3Q6dC5zbGljZSgwLGUpfXZhciBsdCxwdD0xLzA7ZnVuY3Rpb24gY3QoKXtyZXR1cm4gbnVsbD09bHQmJihsdD1zZWxmLk9mZnNjcmVlbkNhbnZhcyYmbmV3IHNlbGYuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKSYmImZ1bmN0aW9uIj09dHlwZW9mIHNlbGYuY3JlYXRlSW1hZ2VCaXRtYXApLGx0fXZhciBodD17VW5rbm93bjoiVW5rbm93biIsU3R5bGU6IlN0eWxlIixTb3VyY2U6IlNvdXJjZSIsVGlsZToiVGlsZSIsR2x5cGhzOiJHbHlwaHMiLFNwcml0ZUltYWdlOiJTcHJpdGVJbWFnZSIsU3ByaXRlSlNPTjoiU3ByaXRlSlNPTiIsSW1hZ2U6IkltYWdlIn07ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoaHQpO3ZhciBmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixuKXs0MDE9PT1yJiZaKG4pJiYoZSs9IjogeW91IG1heSBoYXZlIHByb3ZpZGVkIGFuIGludmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbi4gU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3BlcyIpLHQuY2FsbCh0aGlzLGUpLHRoaXMuc3RhdHVzPXIsdGhpcy51cmw9bix0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMubWVzc2FnZT1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrIjogIit0aGlzLm1lc3NhZ2UrIiAoIit0aGlzLnN0YXR1cysiKTogIit0aGlzLnVybH0sZX0oRXJyb3IpLHl0PVMoKT9mdW5jdGlvbigpe3JldHVybiBzZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXJ9OmZ1bmN0aW9uKCl7cmV0dXJuICgiYmxvYjoiPT09c2VsZi5sb2NhdGlvbi5wcm90b2NvbD9zZWxmLnBhcmVudDpzZWxmKS5sb2NhdGlvbi5ocmVmfTt2YXIgZHQsbXQsdnQ9ZnVuY3Rpb24odCxlKXtpZighKC9eZmlsZTovLnRlc3Qocj10LnVybCl8fC9eZmlsZTovLnRlc3QoeXQoKSkmJiEvXlx3KzovLnRlc3QocikpKXtpZihzZWxmLmZldGNoJiZzZWxmLlJlcXVlc3QmJnNlbGYuQWJvcnRDb250cm9sbGVyJiZzZWxmLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCJzaWduYWwiKSlyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgcixuPW5ldyBzZWxmLkFib3J0Q29udHJvbGxlcixpPW5ldyBzZWxmLlJlcXVlc3QodC51cmwse21ldGhvZDp0Lm1ldGhvZHx8IkdFVCIsYm9keTp0LmJvZHksY3JlZGVudGlhbHM6dC5jcmVkZW50aWFscyxoZWFkZXJzOnQuaGVhZGVycyxyZWZlcnJlcjp5dCgpLHNpZ25hbDpuLnNpZ25hbH0pLGE9ITEsbz0hMSxzPShyPWkudXJsKS5pbmRleE9mKCJza3U9Iik+MCYmWihyKTsianNvbiI9PT10LnR5cGUmJmkuaGVhZGVycy5zZXQoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24iKTt2YXIgdT1mdW5jdGlvbihyLG4sYSl7aWYoIW8pe2lmKHImJiJTZWN1cml0eUVycm9yIiE9PXIubWVzc2FnZSYmdyhyKSxuJiZhKXJldHVybiBsKG4pO3ZhciB1PURhdGUubm93KCk7c2VsZi5mZXRjaChpKS50aGVuKChmdW5jdGlvbihyKXtpZihyLm9rKXt2YXIgbj1zP3IuY2xvbmUoKTpudWxsO3JldHVybiBsKHIsbix1KX1yZXR1cm4gZShuZXcgZnQoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpezIwIT09dC5jb2RlJiZlKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fX0sbD1mdW5jdGlvbihyLG4scyl7KCJhcnJheUJ1ZmZlciI9PT10LnR5cGU/ci5hcnJheUJ1ZmZlcigpOiJqc29uIj09PXQudHlwZT9yLmpzb24oKTpyLnRleHQoKSkudGhlbigoZnVuY3Rpb24odCl7b3x8KG4mJnMmJmZ1bmN0aW9uKHQsZSxyKXtpZihzdCgpLFcpe3ZhciBuPXtzdGF0dXM6ZS5zdGF0dXMsc3RhdHVzVGV4dDplLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgc2VsZi5IZWFkZXJzfTtlLmhlYWRlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5oZWFkZXJzLnNldChlLHQpfSkpO3ZhciBpPWsoZS5oZWFkZXJzLmdldCgiQ2FjaGUtQ29udHJvbCIpfHwiIik7aVsibm8tc3RvcmUiXXx8KGlbIm1heC1hZ2UiXSYmbi5oZWFkZXJzLnNldCgiRXhwaXJlcyIsbmV3IERhdGUocisxZTMqaVsibWF4LWFnZSJdKS50b1VUQ1N0cmluZygpKSxuZXcgRGF0ZShuLmhlYWRlcnMuZ2V0KCJFeHBpcmVzIikpLmdldFRpbWUoKS1yPDQyZTR8fGZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09USl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSksUT0hMDt9Y2F0Y2godCl7UT0hMTt9UT9lKHQuYm9keSk6dC5ibG9iKCkudGhlbihlKTt9KGUsKGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBzZWxmLlJlc3BvbnNlKGUsbik7c3QoKSxXJiZXLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLnB1dCh1dCh0LnVybCkscil9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiB3KHQubWVzc2FnZSl9KSk7fSkpKTt9fShpLG4scyksYT0hMCxlKG51bGwsdCxyLmhlYWRlcnMuZ2V0KCJDYWNoZS1Db250cm9sIiksci5oZWFkZXJzLmdldCgiRXhwaXJlcyIpKSk7fSkpLmNhdGNoKChmdW5jdGlvbih0KXtvfHxlKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fTtyZXR1cm4gcz9mdW5jdGlvbih0LGUpe2lmKHN0KCksIVcpcmV0dXJuIGUobnVsbCk7dmFyIHI9dXQodC51cmwpO1cudGhlbigoZnVuY3Rpb24odCl7dC5tYXRjaChyKS50aGVuKChmdW5jdGlvbihuKXt2YXIgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gITE7dmFyIGU9bmV3IERhdGUodC5oZWFkZXJzLmdldCgiRXhwaXJlcyIpfHwwKSxyPWsodC5oZWFkZXJzLmdldCgiQ2FjaGUtQ29udHJvbCIpfHwiIik7cmV0dXJuIGU+RGF0ZS5ub3coKSYmIXJbIm5vLWNhY2hlIl19KG4pO3QuZGVsZXRlKHIpLGkmJnQucHV0KHIsbi5jbG9uZSgpKSxlKG51bGwsbixpKTt9KSkuY2F0Y2goZSk7fSkpLmNhdGNoKGUpO30oaSx1KTp1KG51bGwsbnVsbCkse2NhbmNlbDpmdW5jdGlvbigpe289ITAsYXx8bi5hYm9ydCgpO319fSh0LGUpO2lmKFMoKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmFjdG9yKXJldHVybiBzZWxmLndvcmtlci5hY3Rvci5zZW5kKCJnZXRSZXNvdXJjZSIsdCxlLHZvaWQgMCwhMCl9dmFyIHI7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IHNlbGYuWE1MSHR0cFJlcXVlc3Q7Zm9yKHZhciBuIGluIHIub3Blbih0Lm1ldGhvZHx8IkdFVCIsdC51cmwsITApLCJhcnJheUJ1ZmZlciI9PT10LnR5cGUmJihyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0LmhlYWRlcnMpci5zZXRSZXF1ZXN0SGVhZGVyKG4sdC5oZWFkZXJzW25dKTtyZXR1cm4gImpzb24iPT09dC50eXBlJiYoci5yZXNwb25zZVR5cGU9InRleHQiLHIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiIpKSxyLndpdGhDcmVkZW50aWFscz0iaW5jbHVkZSI9PT10LmNyZWRlbnRpYWxzLHIub25lcnJvcj1mdW5jdGlvbigpe2UobmV3IEVycm9yKHIuc3RhdHVzVGV4dCkpO30sci5vbmxvYWQ9ZnVuY3Rpb24oKXtpZigoci5zdGF0dXM+PTIwMCYmci5zdGF0dXM8MzAwfHwwPT09ci5zdGF0dXMpJiZudWxsIT09ci5yZXNwb25zZSl7dmFyIG49ci5yZXNwb25zZTtpZigianNvbiI9PT10LnR5cGUpdHJ5e249SlNPTi5wYXJzZShyLnJlc3BvbnNlKTt9Y2F0Y2godCl7cmV0dXJuIGUodCl9ZShudWxsLG4sci5nZXRSZXNwb25zZUhlYWRlcigiQ2FjaGUtQ29udHJvbCIpLHIuZ2V0UmVzcG9uc2VIZWFkZXIoIkV4cGlyZXMiKSk7fWVsc2UgZShuZXcgZnQoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSk7fSxyLnNlbmQodC5ib2R5KSx7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHIuYWJvcnQoKX19fSh0LGUpfSxndD1mdW5jdGlvbih0LGUpe3JldHVybiB2dChwKHQse3R5cGU6ImFycmF5QnVmZmVyIn0pLGUpfSx4dD1mdW5jdGlvbih0LGUpe3JldHVybiB2dChwKHQse21ldGhvZDoiUE9TVCJ9KSxlKX07ZHQ9W10sbXQ9MDt2YXIgYnQ9ZnVuY3Rpb24odCxlKXtpZihSLnN1cHBvcnRlZCYmKHQuaGVhZGVyc3x8KHQuaGVhZGVycz17fSksdC5oZWFkZXJzLmFjY2VwdD0iaW1hZ2Uvd2VicCwqLyoiKSxtdD49TC5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFMpe3ZhciByPXtyZXF1ZXN0UGFyYW1ldGVyczp0LGNhbGxiYWNrOmUsY2FuY2VsbGVkOiExLGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2FuY2VsbGVkPSEwO319O3JldHVybiBkdC5wdXNoKHIpLHJ9bXQrKzt2YXIgbj0hMSxpPWZ1bmN0aW9uKCl7aWYoIW4pZm9yKG49ITAsbXQtLTtkdC5sZW5ndGgmJm10PEwuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOyl7dmFyIHQ9ZHQuc2hpZnQoKTt0LmNhbmNlbGxlZHx8KHQuY2FuY2VsPWJ0KHQucmVxdWVzdFBhcmFtZXRlcnMsdC5jYWxsYmFjaykuY2FuY2VsKTt9fSxhPWd0KHQsKGZ1bmN0aW9uKHQscixuLGEpe2koKSx0P2UodCk6ciYmKGN0KCk/ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgc2VsZi5CbG9iKFtuZXcgVWludDhBcnJheSh0KV0se3R5cGU6ImltYWdlL3BuZyJ9KTtzZWxmLmNyZWF0ZUltYWdlQml0bWFwKHIpLnRoZW4oKGZ1bmN0aW9uKHQpe2UobnVsbCx0KTt9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2UobmV3IEVycm9yKCJDb3VsZCBub3QgbG9hZCBpbWFnZSBiZWNhdXNlIG9mICIrdC5tZXNzYWdlKyIuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuIikpO30pKTt9KHIsZSk6ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9bmV3IHNlbGYuSW1hZ2UsYT1zZWxmLlVSTDtpLm9ubG9hZD1mdW5jdGlvbigpe2UobnVsbCxpKSxhLnJldm9rZU9iamVjdFVSTChpLnNyYyk7fSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZShuZXcgRXJyb3IoIkNvdWxkIG5vdCBsb2FkIGltYWdlLiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLiIpKX07dmFyIG89bmV3IHNlbGYuQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldLHt0eXBlOiJpbWFnZS9wbmcifSk7aS5jYWNoZUNvbnRyb2w9cixpLmV4cGlyZXM9bixpLnNyYz10LmJ5dGVMZW5ndGg/YS5jcmVhdGVPYmplY3RVUkwobyk6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFDMGxFUVZRWVYyTmdBQUlBQUFVQUFhclZ5RkVBQUFBQVNVVk9SSzVDWUlJPSI7fShyLGUsbixhKSk7fSkpO3JldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7YS5jYW5jZWwoKSxpKCk7fX19O2Z1bmN0aW9uIHd0KHQsZSxyKXtyW3RdJiYtMSE9PXJbdF0uaW5kZXhPZihlKXx8KHJbdF09clt0XXx8W10sclt0XS5wdXNoKGUpKTt9ZnVuY3Rpb24gX3QodCxlLHIpe2lmKHImJnJbdF0pe3ZhciBuPXJbdF0uaW5kZXhPZihlKTstMSE9PW4mJnJbdF0uc3BsaWNlKG4sMSk7fX12YXIgQXQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSkscCh0aGlzLGUpLHRoaXMudHlwZT10O30sU3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZvaWQgMD09PXImJihyPXt9KSx0LmNhbGwodGhpcywiZXJyb3IiLHAoe2Vycm9yOmV9LHIpKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oQXQpLGt0PWZ1bmN0aW9uKCl7fTtrdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30sd3QodCxlLHRoaXMuX2xpc3RlbmVycyksdGhpc30sa3QucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3JldHVybiBfdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSxfdCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc30sa3QucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fb25lVGltZUxpc3RlbmVycz10aGlzLl9vbmVUaW1lTGlzdGVuZXJzfHx7fSx3dCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc30sa3QucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCxlKXsic3RyaW5nIj09dHlwZW9mIHQmJih0PW5ldyBBdCh0LGV8fHt9KSk7dmFyIHI9dC50eXBlO2lmKHRoaXMubGlzdGVucyhyKSl7dC50YXJnZXQ9dGhpcztmb3IodmFyIG49MCxpPXRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW3JdP3RoaXMuX2xpc3RlbmVyc1tyXS5zbGljZSgpOltdO248aS5sZW5ndGg7bis9MSlpW25dLmNhbGwodGhpcyx0KTtmb3IodmFyIGE9MCxvPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnMmJnRoaXMuX29uZVRpbWVMaXN0ZW5lcnNbcl0/dGhpcy5fb25lVGltZUxpc3RlbmVyc1tyXS5zbGljZSgpOltdO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXTtfdChyLHMsdGhpcy5fb25lVGltZUxpc3RlbmVycykscy5jYWxsKHRoaXMsdCk7fXZhciB1PXRoaXMuX2V2ZW50ZWRQYXJlbnQ7dSYmKHAodCwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksdS5maXJlKHQpKTt9ZWxzZSB0IGluc3RhbmNlb2YgU3QmJmNvbnNvbGUuZXJyb3IodC5lcnJvcik7cmV0dXJuIHRoaXN9LGt0LnByb3RvdHlwZS5saXN0ZW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1t0XSYmdGhpcy5fbGlzdGVuZXJzW3RdLmxlbmd0aD4wfHx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3RdJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3RdLmxlbmd0aD4wfHx0aGlzLl9ldmVudGVkUGFyZW50JiZ0aGlzLl9ldmVudGVkUGFyZW50Lmxpc3RlbnModCl9LGt0LnByb3RvdHlwZS5zZXRFdmVudGVkUGFyZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9dCx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT1lLHRoaXN9O3ZhciBJdD17JHZlcnNpb246OCwkcm9vdDp7dmVyc2lvbjp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOls4XX0sbmFtZTp7dHlwZToic3RyaW5nIn0sbWV0YWRhdGE6e3R5cGU6IioifSxjZW50ZXI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIn0sem9vbTp7dHlwZToibnVtYmVyIn0sYmVhcmluZzp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAscGVyaW9kOjM2MCx1bml0czoiZGVncmVlcyJ9LHBpdGNoOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCx1bml0czoiZGVncmVlcyJ9LGxpZ2h0Ont0eXBlOiJsaWdodCJ9LHNvdXJjZXM6e3JlcXVpcmVkOiEwLHR5cGU6InNvdXJjZXMifSxzcHJpdGU6e3R5cGU6InN0cmluZyJ9LGdseXBoczp7dHlwZToic3RyaW5nIn0sdHJhbnNpdGlvbjp7dHlwZToidHJhbnNpdGlvbiJ9LGxheWVyczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLHZhbHVlOiJsYXllciJ9fSxzb3VyY2VzOnsiKiI6e3R5cGU6InNvdXJjZSJ9fSxzb3VyY2U6WyJzb3VyY2VfdmVjdG9yIiwic291cmNlX3Jhc3RlciIsInNvdXJjZV9yYXN0ZXJfZGVtIiwic291cmNlX2dlb2pzb24iLCJzb3VyY2VfdmlkZW8iLCJzb3VyY2VfaW1hZ2UiXSxzb3VyY2VfdmVjdG9yOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e3ZlY3Rvcjp7fX19LHVybDp7dHlwZToic3RyaW5nIn0sdGlsZXM6e3R5cGU6ImFycmF5Iix2YWx1ZToic3RyaW5nIn0sYm91bmRzOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjQsZGVmYXVsdDpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxzY2hlbWU6e3R5cGU6ImVudW0iLHZhbHVlczp7eHl6Ont9LHRtczp7fX0sZGVmYXVsdDoieHl6In0sbWluem9vbTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjB9LG1heHpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyMn0sYXR0cmlidXRpb246e3R5cGU6InN0cmluZyJ9LHByb21vdGVJZDp7dHlwZToicHJvbW90ZUlkIn0sIioiOnt0eXBlOiIqIn19LHNvdXJjZV9yYXN0ZXI6e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6ImVudW0iLHZhbHVlczp7cmFzdGVyOnt9fX0sdXJsOnt0eXBlOiJzdHJpbmcifSx0aWxlczp7dHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmcifSxib3VuZHM6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6NCxkZWZhdWx0OlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LG1pbnpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDowfSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MjJ9LHRpbGVTaXplOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6NTEyLHVuaXRzOiJwaXhlbHMifSxzY2hlbWU6e3R5cGU6ImVudW0iLHZhbHVlczp7eHl6Ont9LHRtczp7fX0sZGVmYXVsdDoieHl6In0sYXR0cmlidXRpb246e3R5cGU6InN0cmluZyJ9LCIqIjp7dHlwZToiKiJ9fSxzb3VyY2VfcmFzdGVyX2RlbTp7dHlwZTp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOnsicmFzdGVyLWRlbSI6e319fSx1cmw6e3R5cGU6InN0cmluZyJ9LHRpbGVzOnt0eXBlOiJhcnJheSIsdmFsdWU6InN0cmluZyJ9LGJvdW5kczp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDo0LGRlZmF1bHQ6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sbWluem9vbTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjB9LG1heHpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyMn0sdGlsZVNpemU6e3R5cGU6Im51bWJlciIsZGVmYXVsdDo1MTIsdW5pdHM6InBpeGVscyJ9LGF0dHJpYnV0aW9uOnt0eXBlOiJzdHJpbmcifSxlbmNvZGluZzp7dHlwZToiZW51bSIsdmFsdWVzOnt0ZXJyYXJpdW06e30sbWFwYm94Ont9fSxkZWZhdWx0OiJtYXBib3gifSwiKiI6e3R5cGU6IioifX0sc291cmNlX2dlb2pzb246e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6ImVudW0iLHZhbHVlczp7Z2VvanNvbjp7fX19LGRhdGE6e3R5cGU6IioifSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MTh9LGF0dHJpYnV0aW9uOnt0eXBlOiJzdHJpbmcifSxidWZmZXI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxMjgsbWF4aW11bTo1MTIsbWluaW11bTowfSx0b2xlcmFuY2U6e3R5cGU6Im51bWJlciIsZGVmYXVsdDouMzc1fSxjbHVzdGVyOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExfSxjbHVzdGVyUmFkaXVzOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6NTAsbWluaW11bTowfSxjbHVzdGVyTWF4Wm9vbTp7dHlwZToibnVtYmVyIn0sY2x1c3RlclByb3BlcnRpZXM6e3R5cGU6IioifSxsaW5lTWV0cmljczp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMX0sZ2VuZXJhdGVJZDp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMX0scHJvbW90ZUlkOnt0eXBlOiJwcm9tb3RlSWQifX0sc291cmNlX3ZpZGVvOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e3ZpZGVvOnt9fX0sdXJsczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmcifSxjb29yZGluYXRlczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLGxlbmd0aDo0LHZhbHVlOnt0eXBlOiJhcnJheSIsbGVuZ3RoOjIsdmFsdWU6Im51bWJlciJ9fX0sc291cmNlX2ltYWdlOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e2ltYWdlOnt9fX0sdXJsOntyZXF1aXJlZDohMCx0eXBlOiJzdHJpbmcifSxjb29yZGluYXRlczp7cmVxdWlyZWQ6ITAsdHlwZToiYXJyYXkiLGxlbmd0aDo0LHZhbHVlOnt0eXBlOiJhcnJheSIsbGVuZ3RoOjIsdmFsdWU6Im51bWJlciJ9fX0sbGF5ZXI6e2lkOnt0eXBlOiJzdHJpbmciLHJlcXVpcmVkOiEwfSx0eXBlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2ZpbGw6e30sbGluZTp7fSxzeW1ib2w6e30sY2lyY2xlOnt9LGhlYXRtYXA6e30sImZpbGwtZXh0cnVzaW9uIjp7fSxyYXN0ZXI6e30saGlsbHNoYWRlOnt9LGJhY2tncm91bmQ6e319LHJlcXVpcmVkOiEwfSxtZXRhZGF0YTp7dHlwZToiKiJ9LHNvdXJjZTp7dHlwZToic3RyaW5nIn0sInNvdXJjZS1sYXllciI6e3R5cGU6InN0cmluZyJ9LG1pbnpvb206e3R5cGU6Im51bWJlciIsbWluaW11bTowLG1heGltdW06MjR9LG1heHpvb206e3R5cGU6Im51bWJlciIsbWluaW11bTowLG1heGltdW06MjR9LGZpbHRlcjp7dHlwZToiZmlsdGVyIn0sbGF5b3V0Ont0eXBlOiJsYXlvdXQifSxwYWludDp7dHlwZToicGFpbnQifX0sbGF5b3V0OlsibGF5b3V0X2ZpbGwiLCJsYXlvdXRfbGluZSIsImxheW91dF9jaXJjbGUiLCJsYXlvdXRfaGVhdG1hcCIsImxheW91dF9maWxsLWV4dHJ1c2lvbiIsImxheW91dF9zeW1ib2wiLCJsYXlvdXRfcmFzdGVyIiwibGF5b3V0X2hpbGxzaGFkZSIsImxheW91dF9iYWNrZ3JvdW5kIl0sbGF5b3V0X2JhY2tncm91bmQ6e3Zpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LGxheW91dF9maWxsOnsiZmlsbC1zb3J0LWtleSI6e3R5cGU6Im51bWJlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sdmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X2NpcmNsZTp7ImNpcmNsZS1zb3J0LWtleSI6e3R5cGU6Im51bWJlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sdmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X2hlYXRtYXA6e3Zpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LCJsYXlvdXRfZmlsbC1leHRydXNpb24iOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfbGluZTp7ImxpbmUtY2FwIjp7dHlwZToiZW51bSIsdmFsdWVzOntidXR0Ont9LHJvdW5kOnt9LHNxdWFyZTp7fX0sZGVmYXVsdDoiYnV0dCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLWpvaW4iOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2JldmVsOnt9LHJvdW5kOnt9LG1pdGVyOnt9fSxkZWZhdWx0OiJtaXRlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImxpbmUtbWl0ZXItbGltaXQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MixyZXF1aXJlczpbeyJsaW5lLWpvaW4iOiJtaXRlciJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImxpbmUtcm91bmQtbGltaXQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MS4wNSxyZXF1aXJlczpbeyJsaW5lLWpvaW4iOiJyb3VuZCJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImxpbmUtc29ydC1rZXkiOnt0eXBlOiJudW1iZXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LHZpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LGxheW91dF9zeW1ib2w6eyJzeW1ib2wtcGxhY2VtZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOntwb2ludDp7fSxsaW5lOnt9LCJsaW5lLWNlbnRlciI6e319LGRlZmF1bHQ6InBvaW50IixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInN5bWJvbC1zcGFjaW5nIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjI1MCxtaW5pbXVtOjEsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6W3sic3ltYm9sLXBsYWNlbWVudCI6ImxpbmUifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJzeW1ib2wtYXZvaWQtZWRnZXMiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwic3ltYm9sLXNvcnQta2V5Ijp7dHlwZToibnVtYmVyIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwic3ltYm9sLXotb3JkZXIiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2F1dG86e30sInZpZXdwb3J0LXkiOnt9LHNvdXJjZTp7fX0sZGVmYXVsdDoiYXV0byIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLWFsbG93LW92ZXJsYXAiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1pZ25vcmUtcGxhY2VtZW50Ijp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24tb3B0aW9uYWwiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIsInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24tcm90YXRpb24tYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e30sYXV0bzp7fX0sZGVmYXVsdDoiYXV0byIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLXNpemUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsdW5pdHM6ImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi10ZXh0LWZpdCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bm9uZTp7fSx3aWR0aDp7fSxoZWlnaHQ6e30sYm90aDp7fX0sZGVmYXVsdDoibm9uZSIscmVxdWlyZXM6WyJpY29uLWltYWdlIiwidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIjp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDo0LGRlZmF1bHQ6WzAsMCwwLDBdLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIsInRleHQtZmllbGQiLHsiaWNvbi10ZXh0LWZpdCI6WyJib3RoIiwid2lkdGgiLCJoZWlnaHQiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1pbWFnZSI6e3R5cGU6InJlc29sdmVkSW1hZ2UiLHRva2VuczohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1yb3RhdGUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxwZXJpb2Q6MzYwLHVuaXRzOiJkZWdyZWVzIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1wYWRkaW5nIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjIsbWluaW11bTowLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1rZWVwLXVwcmlnaHQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIseyJpY29uLXJvdGF0aW9uLWFsaWdubWVudCI6Im1hcCJ9LHsic3ltYm9sLXBsYWNlbWVudCI6WyJsaW5lIiwibGluZS1jZW50ZXIiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1vZmZzZXQiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2NlbnRlcjp7fSxsZWZ0Ont9LHJpZ2h0Ont9LHRvcDp7fSxib3R0b206e30sInRvcC1sZWZ0Ijp7fSwidG9wLXJpZ2h0Ijp7fSwiYm90dG9tLWxlZnQiOnt9LCJib3R0b20tcmlnaHQiOnt9fSxkZWZhdWx0OiJjZW50ZXIiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLXBpdGNoLWFsaWdubWVudCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9LGF1dG86e319LGRlZmF1bHQ6ImF1dG8iLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1waXRjaC1hbGlnbm1lbnQiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fSxhdXRvOnt9fSxkZWZhdWx0OiJhdXRvIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtcm90YXRpb24tYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e30sYXV0bzp7fX0sZGVmYXVsdDoiYXV0byIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LWZpZWxkIjp7dHlwZToiZm9ybWF0dGVkIixkZWZhdWx0OiIiLHRva2VuczohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1mb250Ijp7dHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmciLGRlZmF1bHQ6WyJPcGVuIFNhbnMgUmVndWxhciIsIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhciJdLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LXNpemUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MTYsbWluaW11bTowLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LW1heC13aWR0aCI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxMCxtaW5pbXVtOjAsdW5pdHM6ImVtcyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtbGluZS1oZWlnaHQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MS4yLHVuaXRzOiJlbXMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1sZXR0ZXItc3BhY2luZyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLHVuaXRzOiJlbXMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWp1c3RpZnkiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2F1dG86e30sbGVmdDp7fSxjZW50ZXI6e30scmlnaHQ6e319LGRlZmF1bHQ6ImNlbnRlciIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtcmFkaWFsLW9mZnNldCI6e3R5cGU6Im51bWJlciIsdW5pdHM6ImVtcyIsZGVmYXVsdDowLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4iLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX19LCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciI6e3R5cGU6ImFycmF5Iix2YWx1ZToiZW51bSIsdmFsdWVzOntjZW50ZXI6e30sbGVmdDp7fSxyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9LCJ0b3AtbGVmdCI6e30sInRvcC1yaWdodCI6e30sImJvdHRvbS1sZWZ0Ijp7fSwiYm90dG9tLXJpZ2h0Ijp7fX0scmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7InN5bWJvbC1wbGFjZW1lbnQiOlsicG9pbnQiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2NlbnRlcjp7fSxsZWZ0Ont9LHJpZ2h0Ont9LHRvcDp7fSxib3R0b206e30sInRvcC1sZWZ0Ijp7fSwidG9wLXJpZ2h0Ijp7fSwiYm90dG9tLWxlZnQiOnt9LCJib3R0b20tcmlnaHQiOnt9fSxkZWZhdWx0OiJjZW50ZXIiLHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyIhIjoidGV4dC12YXJpYWJsZS1hbmNob3IifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtbWF4LWFuZ2xlIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjQ1LHVuaXRzOiJkZWdyZWVzIixyZXF1aXJlczpbInRleHQtZmllbGQiLHsic3ltYm9sLXBsYWNlbWVudCI6WyJsaW5lIiwibGluZS1jZW50ZXIiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC13cml0aW5nLW1vZGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6ImVudW0iLHZhbHVlczp7aG9yaXpvbnRhbDp7fSx2ZXJ0aWNhbDp7fX0scmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7InN5bWJvbC1wbGFjZW1lbnQiOlsicG9pbnQiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1yb3RhdGUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxwZXJpb2Q6MzYwLHVuaXRzOiJkZWdyZWVzIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1wYWRkaW5nIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjIsbWluaW11bTowLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1rZWVwLXVwcmlnaHQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCI6Im1hcCJ9LHsic3ltYm9sLXBsYWNlbWVudCI6WyJsaW5lIiwibGluZS1jZW50ZXIiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC10cmFuc2Zvcm0iOnt0eXBlOiJlbnVtIix2YWx1ZXM6e25vbmU6e30sdXBwZXJjYXNlOnt9LGxvd2VyY2FzZTp7fX0sZGVmYXVsdDoibm9uZSIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtb2Zmc2V0Ijp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLHVuaXRzOiJlbXMiLGxlbmd0aDoyLGRlZmF1bHQ6WzAsMF0scmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7IiEiOiJ0ZXh0LXJhZGlhbC1vZmZzZXQifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtYWxsb3ctb3ZlcmxhcCI6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1vcHRpb25hbCI6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIiwiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSx2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfcmFzdGVyOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfaGlsbHNoYWRlOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxmaWx0ZXI6e3R5cGU6ImFycmF5Iix2YWx1ZToiKiJ9LGZpbHRlcl9vcGVyYXRvcjp7dHlwZToiZW51bSIsdmFsdWVzOnsiPT0iOnt9LCIhPSI6e30sIj4iOnt9LCI+PSI6e30sIjwiOnt9LCI8PSI6e30saW46e30sIiFpbiI6e30sYWxsOnt9LGFueTp7fSxub25lOnt9LGhhczp7fSwiIWhhcyI6e319fSxnZW9tZXRyeV90eXBlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e1BvaW50Ont9LExpbmVTdHJpbmc6e30sUG9seWdvbjp7fX19LGZ1bmN0aW9uOntleHByZXNzaW9uOnt0eXBlOiJleHByZXNzaW9uIn0sc3RvcHM6e3R5cGU6ImFycmF5Iix2YWx1ZToiZnVuY3Rpb25fc3RvcCJ9LGJhc2U6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MH0scHJvcGVydHk6e3R5cGU6InN0cmluZyIsZGVmYXVsdDoiJHpvb20ifSx0eXBlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2lkZW50aXR5Ont9LGV4cG9uZW50aWFsOnt9LGludGVydmFsOnt9LGNhdGVnb3JpY2FsOnt9fSxkZWZhdWx0OiJleHBvbmVudGlhbCJ9LGNvbG9yU3BhY2U6e3R5cGU6ImVudW0iLHZhbHVlczp7cmdiOnt9LGxhYjp7fSxoY2w6e319LGRlZmF1bHQ6InJnYiJ9LGRlZmF1bHQ6e3R5cGU6IioiLHJlcXVpcmVkOiExfX0sZnVuY3Rpb25fc3RvcDp7dHlwZToiYXJyYXkiLG1pbmltdW06MCxtYXhpbXVtOjI0LHZhbHVlOlsibnVtYmVyIiwiY29sb3IiXSxsZW5ndGg6Mn0sZXhwcmVzc2lvbjp7dHlwZToiYXJyYXkiLHZhbHVlOiIqIixtaW5pbXVtOjF9LGV4cHJlc3Npb25fbmFtZTp7dHlwZToiZW51bSIsdmFsdWVzOntsZXQ6e2dyb3VwOiJWYXJpYWJsZSBiaW5kaW5nIn0sdmFyOntncm91cDoiVmFyaWFibGUgYmluZGluZyJ9LGxpdGVyYWw6e2dyb3VwOiJUeXBlcyJ9LGFycmF5Ontncm91cDoiVHlwZXMifSxhdDp7Z3JvdXA6Ikxvb2t1cCJ9LGluOntncm91cDoiTG9va3VwIn0sImluZGV4LW9mIjp7Z3JvdXA6Ikxvb2t1cCJ9LGNhc2U6e2dyb3VwOiJEZWNpc2lvbiJ9LG1hdGNoOntncm91cDoiRGVjaXNpb24ifSxjb2FsZXNjZTp7Z3JvdXA6IkRlY2lzaW9uIn0sc3RlcDp7Z3JvdXA6IlJhbXBzLCBzY2FsZXMsIGN1cnZlcyJ9LGludGVycG9sYXRlOntncm91cDoiUmFtcHMsIHNjYWxlcywgY3VydmVzIn0sImludGVycG9sYXRlLWhjbCI6e2dyb3VwOiJSYW1wcywgc2NhbGVzLCBjdXJ2ZXMifSwiaW50ZXJwb2xhdGUtbGFiIjp7Z3JvdXA6IlJhbXBzLCBzY2FsZXMsIGN1cnZlcyJ9LGxuMjp7Z3JvdXA6Ik1hdGgifSxwaTp7Z3JvdXA6Ik1hdGgifSxlOntncm91cDoiTWF0aCJ9LHR5cGVvZjp7Z3JvdXA6IlR5cGVzIn0sc3RyaW5nOntncm91cDoiVHlwZXMifSxudW1iZXI6e2dyb3VwOiJUeXBlcyJ9LGJvb2xlYW46e2dyb3VwOiJUeXBlcyJ9LG9iamVjdDp7Z3JvdXA6IlR5cGVzIn0sY29sbGF0b3I6e2dyb3VwOiJUeXBlcyJ9LGZvcm1hdDp7Z3JvdXA6IlR5cGVzIn0saW1hZ2U6e2dyb3VwOiJUeXBlcyJ9LCJudW1iZXItZm9ybWF0Ijp7Z3JvdXA6IlR5cGVzIn0sInRvLXN0cmluZyI6e2dyb3VwOiJUeXBlcyJ9LCJ0by1udW1iZXIiOntncm91cDoiVHlwZXMifSwidG8tYm9vbGVhbiI6e2dyb3VwOiJUeXBlcyJ9LCJ0by1yZ2JhIjp7Z3JvdXA6IkNvbG9yIn0sInRvLWNvbG9yIjp7Z3JvdXA6IlR5cGVzIn0scmdiOntncm91cDoiQ29sb3IifSxyZ2JhOntncm91cDoiQ29sb3IifSxnZXQ6e2dyb3VwOiJMb29rdXAifSxoYXM6e2dyb3VwOiJMb29rdXAifSxsZW5ndGg6e2dyb3VwOiJMb29rdXAifSxwcm9wZXJ0aWVzOntncm91cDoiRmVhdHVyZSBkYXRhIn0sImZlYXR1cmUtc3RhdGUiOntncm91cDoiRmVhdHVyZSBkYXRhIn0sImdlb21ldHJ5LXR5cGUiOntncm91cDoiRmVhdHVyZSBkYXRhIn0saWQ6e2dyb3VwOiJGZWF0dXJlIGRhdGEifSx6b29tOntncm91cDoiWm9vbSJ9LCJoZWF0bWFwLWRlbnNpdHkiOntncm91cDoiSGVhdG1hcCJ9LCJsaW5lLXByb2dyZXNzIjp7Z3JvdXA6IkZlYXR1cmUgZGF0YSJ9LGFjY3VtdWxhdGVkOntncm91cDoiRmVhdHVyZSBkYXRhIn0sIisiOntncm91cDoiTWF0aCJ9LCIqIjp7Z3JvdXA6Ik1hdGgifSwiLSI6e2dyb3VwOiJNYXRoIn0sIi8iOntncm91cDoiTWF0aCJ9LCIlIjp7Z3JvdXA6Ik1hdGgifSwiXiI6e2dyb3VwOiJNYXRoIn0sc3FydDp7Z3JvdXA6Ik1hdGgifSxsb2cxMDp7Z3JvdXA6Ik1hdGgifSxsbjp7Z3JvdXA6Ik1hdGgifSxsb2cyOntncm91cDoiTWF0aCJ9LHNpbjp7Z3JvdXA6Ik1hdGgifSxjb3M6e2dyb3VwOiJNYXRoIn0sdGFuOntncm91cDoiTWF0aCJ9LGFzaW46e2dyb3VwOiJNYXRoIn0sYWNvczp7Z3JvdXA6Ik1hdGgifSxhdGFuOntncm91cDoiTWF0aCJ9LG1pbjp7Z3JvdXA6Ik1hdGgifSxtYXg6e2dyb3VwOiJNYXRoIn0scm91bmQ6e2dyb3VwOiJNYXRoIn0sYWJzOntncm91cDoiTWF0aCJ9LGNlaWw6e2dyb3VwOiJNYXRoIn0sZmxvb3I6e2dyb3VwOiJNYXRoIn0sIj09Ijp7Z3JvdXA6IkRlY2lzaW9uIn0sIiE9Ijp7Z3JvdXA6IkRlY2lzaW9uIn0sIj4iOntncm91cDoiRGVjaXNpb24ifSwiPCI6e2dyb3VwOiJEZWNpc2lvbiJ9LCI+PSI6e2dyb3VwOiJEZWNpc2lvbiJ9LCI8PSI6e2dyb3VwOiJEZWNpc2lvbiJ9LGFsbDp7Z3JvdXA6IkRlY2lzaW9uIn0sYW55Ontncm91cDoiRGVjaXNpb24ifSwiISI6e2dyb3VwOiJEZWNpc2lvbiJ9LHdpdGhpbjp7Z3JvdXA6IkRlY2lzaW9uIn0sImlzLXN1cHBvcnRlZC1zY3JpcHQiOntncm91cDoiU3RyaW5nIn0sdXBjYXNlOntncm91cDoiU3RyaW5nIn0sZG93bmNhc2U6e2dyb3VwOiJTdHJpbmcifSxjb25jYXQ6e2dyb3VwOiJTdHJpbmcifSwicmVzb2x2ZWQtbG9jYWxlIjp7Z3JvdXA6IlN0cmluZyJ9LHNsaWNlOntncm91cDoiU3RyaW5nIn19fSxsaWdodDp7YW5jaG9yOnt0eXBlOiJlbnVtIixkZWZhdWx0OiJ2aWV3cG9ydCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX19LHBvc2l0aW9uOnt0eXBlOiJhcnJheSIsZGVmYXVsdDpbMS4xNSwyMTAsMzBdLGxlbmd0aDozLHZhbHVlOiJudW1iZXIiLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX19LGNvbG9yOnt0eXBlOiJjb2xvciIsInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50IixkZWZhdWx0OiIjZmZmZmZmIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sdHJhbnNpdGlvbjohMH0saW50ZW5zaXR5Ont0eXBlOiJudW1iZXIiLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsZGVmYXVsdDouNSxtaW5pbXVtOjAsbWF4aW11bToxLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSx0cmFuc2l0aW9uOiEwfX0scGFpbnQ6WyJwYWludF9maWxsIiwicGFpbnRfbGluZSIsInBhaW50X2NpcmNsZSIsInBhaW50X2hlYXRtYXAiLCJwYWludF9maWxsLWV4dHJ1c2lvbiIsInBhaW50X3N5bWJvbCIsInBhaW50X3Jhc3RlciIsInBhaW50X2hpbGxzaGFkZSIsInBhaW50X2JhY2tncm91bmQiXSxwYWludF9maWxsOnsiZmlsbC1hbnRpYWxpYXMiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiZmlsbC1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiZmlsbC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7IiEiOiJmaWxsLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJmaWxsLW91dGxpbmUtY29sb3IiOnt0eXBlOiJjb2xvciIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoiZmlsbC1wYXR0ZXJuIn0seyJmaWxsLWFudGlhbGlhcyI6ITB9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtdHJhbnNsYXRlIjp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDoyLGRlZmF1bHQ6WzAsMF0sdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtdHJhbnNsYXRlLWFuY2hvciI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJtYXAiLHJlcXVpcmVzOlsiZmlsbC10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtcGF0dGVybiI6e3R5cGU6InJlc29sdmVkSW1hZ2UiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuIn19LCJwYWludF9maWxsLWV4dHJ1c2lvbiI6eyJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiZmlsbC1leHRydXNpb24tY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoiZmlsbC1leHRydXNpb24tcGF0dGVybiJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIscmVxdWlyZXM6WyJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iOnt0eXBlOiJyZXNvbHZlZEltYWdlIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlbiJ9LCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdW5pdHM6Im1ldGVycyIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtZXh0cnVzaW9uLWJhc2UiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdW5pdHM6Im1ldGVycyIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbImZpbGwtZXh0cnVzaW9uLWhlaWdodCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnQiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLHRyYW5zaXRpb246ITEsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9fSxwYWludF9saW5lOnsibGluZS1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7IiEiOiJsaW5lLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbImxpbmUtdHJhbnNsYXRlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLXdpZHRoIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLWdhcC13aWR0aCI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1vZmZzZXQiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLWRhc2hhcnJheSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoibGluZSB3aWR0aHMiLHJlcXVpcmVzOlt7IiEiOiJsaW5lLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiY3Jvc3MtZmFkZWQifSwibGluZS1wYXR0ZXJuIjp7dHlwZToicmVzb2x2ZWRJbWFnZSIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4ifSwibGluZS1ncmFkaWVudCI6e3R5cGU6ImNvbG9yIix0cmFuc2l0aW9uOiExLHJlcXVpcmVzOlt7IiEiOiJsaW5lLWRhc2hhcnJheSJ9LHsiISI6ImxpbmUtcGF0dGVybiJ9LHtzb3VyY2U6Imdlb2pzb24iLGhhczp7bGluZU1ldHJpY3M6ITB9fV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJsaW5lLXByb2dyZXNzIl19LCJwcm9wZXJ0eS10eXBlIjoiY29sb3ItcmFtcCJ9fSxwYWludF9jaXJjbGU6eyJjaXJjbGUtcmFkaXVzIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjUsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJjaXJjbGUtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiY2lyY2xlLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJtYXAiLHJlcXVpcmVzOlsiY2lyY2xlLXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiY2lyY2xlLXBpdGNoLXNjYWxlIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6InZpZXdwb3J0IixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImNpcmNsZS1zdHJva2Utd2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1zdHJva2UtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS1zdHJva2Utb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn19LHBhaW50X2hlYXRtYXA6eyJoZWF0bWFwLXJhZGl1cyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDozMCxtaW5pbXVtOjEsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImhlYXRtYXAtd2VpZ2h0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLHRyYW5zaXRpb246ITEsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJoZWF0bWFwLWludGVuc2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGVhdG1hcC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OlsiaW50ZXJwb2xhdGUiLFsibGluZWFyIl0sWyJoZWF0bWFwLWRlbnNpdHkiXSwwLCJyZ2JhKDAsIDAsIDI1NSwgMCkiLC4xLCJyb3lhbGJsdWUiLC4zLCJjeWFuIiwuNSwibGltZSIsLjcsInllbGxvdyIsMSwicmVkIl0sdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbImhlYXRtYXAtZGVuc2l0eSJdfSwicHJvcGVydHktdHlwZSI6ImNvbG9yLXJhbXAifSwiaGVhdG1hcC1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfc3ltYm9sOnsiaWNvbi1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1oYWxvLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6InJnYmEoMCwgMCwgMCwgMCkiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLWhhbG8td2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24taGFsby1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbImljb24taW1hZ2UiLCJpY29uLXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLG92ZXJyaWRhYmxlOiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1oYWxvLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6InJnYmEoMCwgMCwgMCwgMCkiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWhhbG8td2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtaGFsby1ibHVyIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbInRleHQtZmllbGQiLCJ0ZXh0LXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfcmFzdGVyOnsicmFzdGVyLW9wYWNpdHkiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItaHVlLXJvdGF0ZSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLHBlcmlvZDozNjAsdHJhbnNpdGlvbjohMCx1bml0czoiZGVncmVlcyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItYnJpZ2h0bmVzcy1taW4iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItc2F0dXJhdGlvbiI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06LTEsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJyYXN0ZXItY29udHJhc3QiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOi0xLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLXJlc2FtcGxpbmciOnt0eXBlOiJlbnVtIix2YWx1ZXM6e2xpbmVhcjp7fSxuZWFyZXN0Ont9fSxkZWZhdWx0OiJsaW5lYXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLWZhZGUtZHVyYXRpb24iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzAwLG1pbmltdW06MCx0cmFuc2l0aW9uOiExLHVuaXRzOiJtaWxsaXNlY29uZHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfaGlsbHNoYWRlOnsiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb24iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzM1LG1pbmltdW06MCxtYXhpbXVtOjM1OSx0cmFuc2l0aW9uOiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoidmlld3BvcnQiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvbiI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDouNSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiNGRkZGRkYiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9fSxwYWludF9iYWNrZ3JvdW5kOnsiYmFja2dyb3VuZC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7IiEiOiJiYWNrZ3JvdW5kLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJiYWNrZ3JvdW5kLXBhdHRlcm4iOnt0eXBlOiJyZXNvbHZlZEltYWdlIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImNyb3NzLWZhZGVkIn0sImJhY2tncm91bmQtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In19LHRyYW5zaXRpb246e2R1cmF0aW9uOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzAwLG1pbmltdW06MCx1bml0czoibWlsbGlzZWNvbmRzIn0sZGVsYXk6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx1bml0czoibWlsbGlzZWNvbmRzIn19LCJwcm9wZXJ0eS10eXBlIjp7ImRhdGEtZHJpdmVuIjp7dHlwZToicHJvcGVydHktdHlwZSJ9LCJjcm9zcy1mYWRlZCI6e3R5cGU6InByb3BlcnR5LXR5cGUifSwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sImNvbG9yLXJhbXAiOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sImRhdGEtY29uc3RhbnQiOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sY29uc3RhbnQ6e3R5cGU6InByb3BlcnR5LXR5cGUifX0scHJvbW90ZUlkOnsiKiI6e3R5cGU6InN0cmluZyJ9fX0senQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5tZXNzYWdlPSh0P3QrIjogIjoiIikrcixuJiYodGhpcy5pZGVudGlmaWVyPW4pLG51bGwhPWUmJmUuX19saW5lX18mJih0aGlzLmxpbmU9ZS5fX2xpbmVfXyk7fTtmdW5jdGlvbiBDdCh0KXt2YXIgZT10LnZhbHVlO3JldHVybiBlP1tuZXcgenQodC5rZXksZSwiY29uc3RhbnRzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFzIG9mIHY4IildOltdfWZ1bmN0aW9uIE10KHQpe2Zvcih2YXIgZT1bXSxyPWFyZ3VtZW50cy5sZW5ndGgtMTtyLS0gPjA7KWVbcl09YXJndW1lbnRzW3IrMV07Zm9yKHZhciBuPTAsaT1lO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtmb3IodmFyIG8gaW4gYSl0W29dPWFbb107fXJldHVybiB0fWZ1bmN0aW9uIEV0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgQm9vbGVhbj90LnZhbHVlT2YoKTp0fWZ1bmN0aW9uIFR0KHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKFR0KTtpZih0IGluc3RhbmNlb2YgT2JqZWN0JiYhKHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBCb29sZWFuKSl7dmFyIGU9e307Zm9yKHZhciByIGluIHQpZVtyXT1UdCh0W3JdKTtyZXR1cm4gZX1yZXR1cm4gRXQodCl9dmFyIFB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxyKSx0aGlzLm1lc3NhZ2U9cix0aGlzLmtleT1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlfShFcnJvciksQnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5wYXJlbnQ9dCx0aGlzLmJpbmRpbmdzPXt9O2Zvcih2YXIgcj0wLG49ZTtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPW5bcl07dGhpcy5iaW5kaW5nc1tpWzBdXT1pWzFdO319O0J0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCdCh0aGlzLHQpfSxCdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuYmluZGluZ3NbdF0pcmV0dXJuIHRoaXMuYmluZGluZ3NbdF07aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LmdldCh0KTt0aHJvdyBuZXcgRXJyb3IodCsiIG5vdCBmb3VuZCBpbiBzY29wZS4iKX0sQnQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gISF0aGlzLmJpbmRpbmdzW3RdfHwhIXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oYXModCl9O3ZhciBWdD17a2luZDoibnVsbCJ9LEZ0PXtraW5kOiJudW1iZXIifSxEdD17a2luZDoic3RyaW5nIn0sTHQ9e2tpbmQ6ImJvb2xlYW4ifSxSdD17a2luZDoiY29sb3IifSxPdD17a2luZDoib2JqZWN0In0sVXQ9e2tpbmQ6InZhbHVlIn0sanQ9e2tpbmQ6ImNvbGxhdG9yIn0scXQ9e2tpbmQ6ImZvcm1hdHRlZCJ9LE50PXtraW5kOiJyZXNvbHZlZEltYWdlIn07ZnVuY3Rpb24gS3QodCxlKXtyZXR1cm4ge2tpbmQ6ImFycmF5IixpdGVtVHlwZTp0LE46ZX19ZnVuY3Rpb24gR3QodCl7aWYoImFycmF5Ij09PXQua2luZCl7dmFyIGU9R3QodC5pdGVtVHlwZSk7cmV0dXJuICJudW1iZXIiPT10eXBlb2YgdC5OPyJhcnJheTwiK2UrIiwgIit0Lk4rIj4iOiJ2YWx1ZSI9PT10Lml0ZW1UeXBlLmtpbmQ/ImFycmF5IjoiYXJyYXk8IitlKyI+In1yZXR1cm4gdC5raW5kfXZhciBadD1bVnQsRnQsRHQsTHQsUnQscXQsT3QsS3QoVXQpLE50XTtmdW5jdGlvbiBYdCh0LGUpe2lmKCJlcnJvciI9PT1lLmtpbmQpcmV0dXJuIG51bGw7aWYoImFycmF5Ij09PXQua2luZCl7aWYoImFycmF5Ij09PWUua2luZCYmKDA9PT1lLk4mJiJ2YWx1ZSI9PT1lLml0ZW1UeXBlLmtpbmR8fCFYdCh0Lml0ZW1UeXBlLGUuaXRlbVR5cGUpKSYmKCJudW1iZXIiIT10eXBlb2YgdC5OfHx0Lk49PT1lLk4pKXJldHVybiBudWxsfWVsc2Uge2lmKHQua2luZD09PWUua2luZClyZXR1cm4gbnVsbDtpZigidmFsdWUiPT09dC5raW5kKWZvcih2YXIgcj0wLG49WnQ7cjxuLmxlbmd0aDtyKz0xKWlmKCFYdChuW3JdLGUpKXJldHVybiBudWxsfXJldHVybiAiRXhwZWN0ZWQgIitHdCh0KSsiIGJ1dCBmb3VuZCAiK0d0KGUpKyIgaW5zdGVhZC4ifWZ1bmN0aW9uIEp0KHQsZSl7cmV0dXJuIGUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2luZD09PXQua2luZH0pKX1mdW5jdGlvbiBIdCh0LGUpe3JldHVybiBlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiAibnVsbCI9PT1lP251bGw9PT10OiJhcnJheSI9PT1lP0FycmF5LmlzQXJyYXkodCk6Im9iamVjdCI9PT1lP3QmJiFBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHQ6ZT09PXR5cGVvZiB0fSkpfXZhciBZdD1lKChmdW5jdGlvbih0LGUpe3ZhciByPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIG4odCl7cmV0dXJuICh0PU1hdGgucm91bmQodCkpPDA/MDp0PjI1NT8yNTU6dH1mdW5jdGlvbiBpKHQpe3JldHVybiBuKCIlIj09PXRbdC5sZW5ndGgtMV0/cGFyc2VGbG9hdCh0KS8xMDAqMjU1OnBhcnNlSW50KHQpKX1mdW5jdGlvbiBhKHQpe3JldHVybiAoZT0iJSI9PT10W3QubGVuZ3RoLTFdP3BhcnNlRmxvYXQodCkvMTAwOnBhcnNlRmxvYXQodCkpPDA/MDplPjE/MTplO3ZhciBlO31mdW5jdGlvbiBvKHQsZSxyKXtyZXR1cm4gcjwwP3IrPTE6cj4xJiYoci09MSksNipyPDE/dCsoZS10KSpyKjY6MipyPDE/ZTozKnI8Mj90KyhlLXQpKigyLzMtcikqNjp0fXRyeXtlLnBhcnNlQ1NTQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGUscz10LnJlcGxhY2UoLyAvZywiIikudG9Mb3dlckNhc2UoKTtpZihzIGluIHIpcmV0dXJuIHJbc10uc2xpY2UoKTtpZigiIyI9PT1zWzBdKXJldHVybiA0PT09cy5sZW5ndGg/KGU9cGFyc2VJbnQocy5zdWJzdHIoMSksMTYpKT49MCYmZTw9NDA5NT9bKDM4NDAmZSk+PjR8KDM4NDAmZSk+PjgsMjQwJmV8KDI0MCZlKT4+NCwxNSZlfCgxNSZlKTw8NCwxXTpudWxsOjc9PT1zLmxlbmd0aCYmKGU9cGFyc2VJbnQocy5zdWJzdHIoMSksMTYpKT49MCYmZTw9MTY3NzcyMTU/WygxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDFdOm51bGw7dmFyIHU9cy5pbmRleE9mKCIoIiksbD1zLmluZGV4T2YoIikiKTtpZigtMSE9PXUmJmwrMT09PXMubGVuZ3RoKXt2YXIgcD1zLnN1YnN0cigwLHUpLGM9cy5zdWJzdHIodSsxLGwtKHUrMSkpLnNwbGl0KCIsIiksaD0xO3N3aXRjaChwKXtjYXNlInJnYmEiOmlmKDQhPT1jLmxlbmd0aClyZXR1cm4gbnVsbDtoPWEoYy5wb3AoKSk7Y2FzZSJyZ2IiOnJldHVybiAzIT09Yy5sZW5ndGg/bnVsbDpbaShjWzBdKSxpKGNbMV0pLGkoY1syXSksaF07Y2FzZSJoc2xhIjppZig0IT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7aD1hKGMucG9wKCkpO2Nhc2UiaHNsIjppZigzIT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGY9KHBhcnNlRmxvYXQoY1swXSklMzYwKzM2MCklMzYwLzM2MCx5PWEoY1sxXSksZD1hKGNbMl0pLG09ZDw9LjU/ZCooeSsxKTpkK3ktZCp5LHY9MipkLW07cmV0dXJuIFtuKDI1NSpvKHYsbSxmKzEvMykpLG4oMjU1Km8odixtLGYpKSxuKDI1NSpvKHYsbSxmLTEvMykpLGhdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfTt9Y2F0Y2godCl7fX0pKS5wYXJzZUNTU0NvbG9yLCR0PWZ1bmN0aW9uKHQsZSxyLG4pe3ZvaWQgMD09PW4mJihuPTEpLHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1yLHRoaXMuYT1uO307JHQucGFyc2U9ZnVuY3Rpb24odCl7aWYodCl7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiB0O2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9WXQodCk7aWYoZSlyZXR1cm4gbmV3ICR0KGVbMF0vMjU1KmVbM10sZVsxXS8yNTUqZVszXSxlWzJdLzI1NSplWzNdLGVbM10pfX19LCR0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9BcnJheSgpLGU9dFsxXSxyPXRbMl0sbj10WzNdO3JldHVybiAicmdiYSgiK01hdGgucm91bmQodFswXSkrIiwiK01hdGgucm91bmQoZSkrIiwiK01hdGgucm91bmQocikrIiwiK24rIikifSwkdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYTtyZXR1cm4gMD09PXQ/WzAsMCwwLDBdOlsyNTUqdGhpcy5yL3QsMjU1KnRoaXMuZy90LDI1NSp0aGlzLmIvdCx0XX0sJHQuYmxhY2s9bmV3ICR0KDAsMCwwLDEpLCR0LndoaXRlPW5ldyAkdCgxLDEsMSwxKSwkdC50cmFuc3BhcmVudD1uZXcgJHQoMCwwLDAsMCksJHQucmVkPW5ldyAkdCgxLDAsMCwxKTt2YXIgV3Q9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc2Vuc2l0aXZpdHk9dD9lPyJ2YXJpYW50IjoiY2FzZSI6ZT8iYWNjZW50IjoiYmFzZSIsdGhpcy5sb2NhbGU9cix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOiJzZWFyY2gifSk7fTtXdC5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUodCxlKX0sV3QucHJvdG90eXBlLnJlc29sdmVkTG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGV9O3ZhciBRdD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMudGV4dD10LHRoaXMuaW1hZ2U9ZSx0aGlzLnNjYWxlPXIsdGhpcy5mb250U3RhY2s9bix0aGlzLnRleHRDb2xvcj1pO30sdGU9ZnVuY3Rpb24odCl7dGhpcy5zZWN0aW9ucz10O307dGUuZnJvbVN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRlKFtuZXcgUXQodCxudWxsLG51bGwsbnVsbCxudWxsKV0pfSx0ZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC50ZXh0Lmxlbmd0aHx8dC5pbWFnZSYmMCE9PXQuaW1hZ2UubmFtZS5sZW5ndGh9KSl9LHRlLmZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB0ZT90OnRlLmZyb21TdHJpbmcodCl9LHRlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/IiI6dGhpcy5zZWN0aW9ucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9KSkuam9pbigiIil9LHRlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJmb3JtYXQiXSxlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTtpZihuLmltYWdlKXQucHVzaChbImltYWdlIixuLmltYWdlLm5hbWVdKTtlbHNlIHt0LnB1c2gobi50ZXh0KTt2YXIgaT17fTtuLmZvbnRTdGFjayYmKGlbInRleHQtZm9udCJdPVsibGl0ZXJhbCIsbi5mb250U3RhY2suc3BsaXQoIiwiKV0pLG4uc2NhbGUmJihpWyJmb250LXNjYWxlIl09bi5zY2FsZSksbi50ZXh0Q29sb3ImJihpWyJ0ZXh0LWNvbG9yIl09WyJyZ2JhIl0uY29uY2F0KG4udGV4dENvbG9yLnRvQXJyYXkoKSkpLHQucHVzaChpKTt9fXJldHVybiB0fTt2YXIgZWU9ZnVuY3Rpb24odCl7dGhpcy5uYW1lPXQubmFtZSx0aGlzLmF2YWlsYWJsZT10LmF2YWlsYWJsZTt9O2Z1bmN0aW9uIHJlKHQsZSxyLG4pe3JldHVybiAibnVtYmVyIj09dHlwZW9mIHQmJnQ+PTAmJnQ8PTI1NSYmIm51bWJlciI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJiJudW1iZXIiPT10eXBlb2YgciYmcj49MCYmcjw9MjU1P3ZvaWQgMD09PW58fCJudW1iZXIiPT10eXBlb2YgbiYmbj49MCYmbjw9MT9udWxsOiJJbnZhbGlkIHJnYmEgdmFsdWUgWyIrW3QsZSxyLG5dLmpvaW4oIiwgIikrIl06ICdhJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS4iOiJJbnZhbGlkIHJnYmEgdmFsdWUgWyIrKCJudW1iZXIiPT10eXBlb2Ygbj9bdCxlLHIsbl06W3QsZSxyXSkuam9pbigiLCAiKSsiXTogJ3InLCAnZycsIGFuZCAnYicgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NS4ifWZ1bmN0aW9uIG5lKHQpe2lmKG51bGw9PT10KXJldHVybiAhMDtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKCJib29sZWFuIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgV3QpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiB0ZSlyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mIGVlKXJldHVybiAhMDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKWlmKCFuZShyW2VdKSlyZXR1cm4gITE7cmV0dXJuICEwfWlmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHZhciBuIGluIHQpaWYoIW5lKHRbbl0pKXJldHVybiAhMTtyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGllKHQpe2lmKG51bGw9PT10KXJldHVybiBWdDtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIER0O2lmKCJib29sZWFuIj09dHlwZW9mIHQpcmV0dXJuIEx0O2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gRnQ7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiBSdDtpZih0IGluc3RhbmNlb2YgV3QpcmV0dXJuIGp0O2lmKHQgaW5zdGFuY2VvZiB0ZSlyZXR1cm4gcXQ7aWYodCBpbnN0YW5jZW9mIGVlKXJldHVybiBOdDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGUscj10Lmxlbmd0aCxuPTAsaT10O248aS5sZW5ndGg7bis9MSl7dmFyIGE9aWUoaVtuXSk7aWYoZSl7aWYoZT09PWEpY29udGludWU7ZT1VdDticmVha31lPWE7fXJldHVybiBLdChlfHxVdCxyKX1yZXR1cm4gT3R9ZnVuY3Rpb24gYWUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIG51bGw9PT10PyIiOiJzdHJpbmciPT09ZXx8Im51bWJlciI9PT1lfHwiYm9vbGVhbiI9PT1lP1N0cmluZyh0KTp0IGluc3RhbmNlb2YgJHR8fHQgaW5zdGFuY2VvZiB0ZXx8dCBpbnN0YW5jZW9mIGVlP3QudG9TdHJpbmcoKTpKU09OLnN0cmluZ2lmeSh0KX1lZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfSxlZS5mcm9tU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0P25ldyBlZSh7bmFtZTp0LGF2YWlsYWJsZTohMX0pOm51bGx9LGVlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gWyJpbWFnZSIsdGhpcy5uYW1lXX07dmFyIG9lPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPXQsdGhpcy52YWx1ZT1lO307b2UucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIidsaXRlcmFsJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO2lmKCFuZSh0WzFdKSlyZXR1cm4gZS5lcnJvcigiaW52YWxpZCB2YWx1ZSIpO3ZhciByPXRbMV0sbj1pZShyKSxpPWUuZXhwZWN0ZWRUeXBlO3JldHVybiAiYXJyYXkiIT09bi5raW5kfHwwIT09bi5OfHwhaXx8ImFycmF5IiE9PWkua2luZHx8Im51bWJlciI9PXR5cGVvZiBpLk4mJjAhPT1pLk58fChuPWkpLG5ldyBvZShuLHIpfSxvZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sb2UucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbigpe30sb2UucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LG9lLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gImFycmF5Ij09PXRoaXMudHlwZS5raW5kfHwib2JqZWN0Ij09PXRoaXMudHlwZS5raW5kP1sibGl0ZXJhbCIsdGhpcy52YWx1ZV06dGhpcy52YWx1ZSBpbnN0YW5jZW9mICR0P1sicmdiYSJdLmNvbmNhdCh0aGlzLnZhbHVlLnRvQXJyYXkoKSk6dGhpcy52YWx1ZSBpbnN0YW5jZW9mIHRlP3RoaXMudmFsdWUuc2VyaWFsaXplKCk6dGhpcy52YWx1ZX07dmFyIHNlPWZ1bmN0aW9uKHQpe3RoaXMubmFtZT0iRXhwcmVzc2lvbkV2YWx1YXRpb25FcnJvciIsdGhpcy5tZXNzYWdlPXQ7fTtzZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVzc2FnZX07dmFyIHVlPXtzdHJpbmc6RHQsbnVtYmVyOkZ0LGJvb2xlYW46THQsb2JqZWN0Ok90fSxsZT1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO307bGUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuIik7dmFyIHIsbj0xLGk9dFswXTtpZigiYXJyYXkiPT09aSl7dmFyIGEsbztpZih0Lmxlbmd0aD4yKXt2YXIgcz10WzFdO2lmKCJzdHJpbmciIT10eXBlb2Ygc3x8IShzIGluIHVlKXx8Im9iamVjdCI9PT1zKXJldHVybiBlLmVycm9yKCdUaGUgaXRlbSB0eXBlIGFyZ3VtZW50IG9mICJhcnJheSIgbXVzdCBiZSBvbmUgb2Ygc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4nLDEpO2E9dWVbc10sbisrO31lbHNlIGE9VXQ7aWYodC5sZW5ndGg+Myl7aWYobnVsbCE9PXRbMl0mJigibnVtYmVyIiE9dHlwZW9mIHRbMl18fHRbMl08MHx8dFsyXSE9PU1hdGguZmxvb3IodFsyXSkpKXJldHVybiBlLmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvICJhcnJheSIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgbGl0ZXJhbCcsMik7bz10WzJdLG4rKzt9cj1LdChhLG8pO31lbHNlIHI9dWVbaV07Zm9yKHZhciB1PVtdO248dC5sZW5ndGg7bisrKXt2YXIgbD1lLnBhcnNlKHRbbl0sbixVdCk7aWYoIWwpcmV0dXJuIG51bGw7dS5wdXNoKGwpO31yZXR1cm4gbmV3IGxlKHIsdSl9LGxlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuYXJncy5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmFyZ3NbZV0uZXZhbHVhdGUodCk7aWYoIVh0KHRoaXMudHlwZSxpZShyKSkpcmV0dXJuIHI7aWYoZT09PXRoaXMuYXJncy5sZW5ndGgtMSl0aHJvdyBuZXcgc2UoIkV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgIitHdCh0aGlzLnR5cGUpKyIsIGJ1dCBmb3VuZCAiK0d0KGllKHIpKSsiIGluc3RlYWQuIil9cmV0dXJuIG51bGx9LGxlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxsZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0sbGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudHlwZSxlPVt0LmtpbmRdO2lmKCJhcnJheSI9PT10LmtpbmQpe3ZhciByPXQuaXRlbVR5cGU7aWYoInN0cmluZyI9PT1yLmtpbmR8fCJudW1iZXIiPT09ci5raW5kfHwiYm9vbGVhbiI9PT1yLmtpbmQpe2UucHVzaChyLmtpbmQpO3ZhciBuPXQuTjsoIm51bWJlciI9PXR5cGVvZiBufHx0aGlzLmFyZ3MubGVuZ3RoPjEpJiZlLnB1c2gobik7fX1yZXR1cm4gZS5jb25jYXQodGhpcy5hcmdzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VyaWFsaXplKCl9KSkpfTt2YXIgcGU9ZnVuY3Rpb24odCl7dGhpcy50eXBlPXF0LHRoaXMuc2VjdGlvbnM9dDt9O3BlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LiIpO3ZhciByPXRbMV07aWYoIUFycmF5LmlzQXJyYXkocikmJiJvYmplY3QiPT10eXBlb2YgcilyZXR1cm4gZS5lcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBvciB0ZXh0IHNlY3Rpb24uIik7Zm9yKHZhciBuPVtdLGk9ITEsYT0xO2E8PXQubGVuZ3RoLTE7KythKXt2YXIgbz10W2FdO2lmKGkmJiJvYmplY3QiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobykpe2k9ITE7dmFyIHM9bnVsbDtpZihvWyJmb250LXNjYWxlIl0mJiEocz1lLnBhcnNlKG9bImZvbnQtc2NhbGUiXSwxLEZ0KSkpcmV0dXJuIG51bGw7dmFyIHU9bnVsbDtpZihvWyJ0ZXh0LWZvbnQiXSYmISh1PWUucGFyc2Uob1sidGV4dC1mb250Il0sMSxLdChEdCkpKSlyZXR1cm4gbnVsbDt2YXIgbD1udWxsO2lmKG9bInRleHQtY29sb3IiXSYmIShsPWUucGFyc2Uob1sidGV4dC1jb2xvciJdLDEsUnQpKSlyZXR1cm4gbnVsbDt2YXIgcD1uW24ubGVuZ3RoLTFdO3Auc2NhbGU9cyxwLmZvbnQ9dSxwLnRleHRDb2xvcj1sO31lbHNlIHt2YXIgYz1lLnBhcnNlKHRbYV0sMSxVdCk7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGg9Yy50eXBlLmtpbmQ7aWYoInN0cmluZyIhPT1oJiYidmFsdWUiIT09aCYmIm51bGwiIT09aCYmInJlc29sdmVkSW1hZ2UiIT09aClyZXR1cm4gZS5lcnJvcigiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy4iKTtpPSEwLG4ucHVzaCh7Y29udGVudDpjLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfSk7fX1yZXR1cm4gbmV3IHBlKG4pfSxwZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0ZSh0aGlzLnNlY3Rpb25zLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb250ZW50LmV2YWx1YXRlKHQpO3JldHVybiBpZShyKT09PU50P25ldyBRdCgiIixyLG51bGwsbnVsbCxudWxsKTpuZXcgUXQoYWUociksbnVsbCxlLnNjYWxlP2Uuc2NhbGUuZXZhbHVhdGUodCk6bnVsbCxlLmZvbnQ/ZS5mb250LmV2YWx1YXRlKHQpLmpvaW4oIiwiKTpudWxsLGUudGV4dENvbG9yP2UudGV4dENvbG9yLmV2YWx1YXRlKHQpOm51bGwpfSkpKX0scGUucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuc2VjdGlvbnM7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3Qobi5jb250ZW50KSxuLnNjYWxlJiZ0KG4uc2NhbGUpLG4uZm9udCYmdChuLmZvbnQpLG4udGV4dENvbG9yJiZ0KG4udGV4dENvbG9yKTt9fSxwZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0scGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bImZvcm1hdCJdLGU9MCxyPXRoaXMuc2VjdGlvbnM7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QucHVzaChuLmNvbnRlbnQuc2VyaWFsaXplKCkpO3ZhciBpPXt9O24uc2NhbGUmJihpWyJmb250LXNjYWxlIl09bi5zY2FsZS5zZXJpYWxpemUoKSksbi5mb250JiYoaVsidGV4dC1mb250Il09bi5mb250LnNlcmlhbGl6ZSgpKSxuLnRleHRDb2xvciYmKGlbInRleHQtY29sb3IiXT1uLnRleHRDb2xvci5zZXJpYWxpemUoKSksdC5wdXNoKGkpO31yZXR1cm4gdH07dmFyIGNlPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT1OdCx0aGlzLmlucHV0PXQ7fTtjZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxEdCk7cmV0dXJuIHI/bmV3IGNlKHIpOmUuZXJyb3IoIk5vIGltYWdlIG5hbWUgcHJvdmlkZWQuIil9LGNlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpLHI9ZWUuZnJvbVN0cmluZyhlKTtyZXR1cm4gciYmdC5hdmFpbGFibGVJbWFnZXMmJihyLmF2YWlsYWJsZT10LmF2YWlsYWJsZUltYWdlcy5pbmRleE9mKGUpPi0xKSxyfSxjZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCk7fSxjZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sY2UucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbImltYWdlIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX07dmFyIGhlPXsidG8tYm9vbGVhbiI6THQsInRvLWNvbG9yIjpSdCwidG8tbnVtYmVyIjpGdCwidG8tc3RyaW5nIjpEdH0sZmU9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9O2ZlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LiIpO3ZhciByPXRbMF07aWYoKCJ0by1ib29sZWFuIj09PXJ8fCJ0by1zdHJpbmciPT09cikmJjIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LiIpO2Zvcih2YXIgbj1oZVtyXSxpPVtdLGE9MTthPHQubGVuZ3RoO2ErKyl7dmFyIG89ZS5wYXJzZSh0W2FdLGEsVXQpO2lmKCFvKXJldHVybiBudWxsO2kucHVzaChvKTt9cmV0dXJuIG5ldyBmZShuLGkpfSxmZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7aWYoImJvb2xlYW4iPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIEJvb2xlYW4odGhpcy5hcmdzWzBdLmV2YWx1YXRlKHQpKTtpZigiY29sb3IiPT09dGhpcy50eXBlLmtpbmQpe2Zvcih2YXIgZSxyLG49MCxpPXRoaXMuYXJncztuPGkubGVuZ3RoO24rPTEpe2lmKHI9bnVsbCwoZT1pW25dLmV2YWx1YXRlKHQpKWluc3RhbmNlb2YgJHQpcmV0dXJuIGU7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgYT10LnBhcnNlQ29sb3IoZSk7aWYoYSlyZXR1cm4gYX1lbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkmJiEocj1lLmxlbmd0aDwzfHxlLmxlbmd0aD40PyJJbnZhbGlkIHJiZ2EgdmFsdWUgIitKU09OLnN0cmluZ2lmeShlKSsiOiBleHBlY3RlZCBhbiBhcnJheSBjb250YWluaW5nIGVpdGhlciB0aHJlZSBvciBmb3VyIG51bWVyaWMgdmFsdWVzLiI6cmUoZVswXSxlWzFdLGVbMl0sZVszXSkpKXJldHVybiBuZXcgJHQoZVswXS8yNTUsZVsxXS8yNTUsZVsyXS8yNTUsZVszXSl9dGhyb3cgbmV3IHNlKHJ8fCJDb3VsZCBub3QgcGFyc2UgY29sb3IgZnJvbSB2YWx1ZSAnIisoInN0cmluZyI9PXR5cGVvZiBlP2U6U3RyaW5nKEpTT04uc3RyaW5naWZ5KGUpKSkrIiciKX1pZigibnVtYmVyIj09PXRoaXMudHlwZS5raW5kKXtmb3IodmFyIG89bnVsbCxzPTAsdT10aGlzLmFyZ3M7czx1Lmxlbmd0aDtzKz0xKXtpZihudWxsPT09KG89dVtzXS5ldmFsdWF0ZSh0KSkpcmV0dXJuIDA7dmFyIGw9TnVtYmVyKG8pO2lmKCFpc05hTihsKSlyZXR1cm4gbH10aHJvdyBuZXcgc2UoIkNvdWxkIG5vdCBjb252ZXJ0ICIrSlNPTi5zdHJpbmdpZnkobykrIiB0byBudW1iZXIuIil9cmV0dXJuICJmb3JtYXR0ZWQiPT09dGhpcy50eXBlLmtpbmQ/dGUuZnJvbVN0cmluZyhhZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpKToicmVzb2x2ZWRJbWFnZSI9PT10aGlzLnR5cGUua2luZD9lZS5mcm9tU3RyaW5nKGFlKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSkpOmFlKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSl9LGZlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxmZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0sZmUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKCJmb3JtYXR0ZWQiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBwZShbe2NvbnRlbnQ6dGhpcy5hcmdzWzBdLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfV0pLnNlcmlhbGl6ZSgpO2lmKCJyZXNvbHZlZEltYWdlIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgY2UodGhpcy5hcmdzWzBdKS5zZXJpYWxpemUoKTt2YXIgdD1bInRvLSIrdGhpcy50eXBlLmtpbmRdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgeWU9WyJVbmtub3duIiwiUG9pbnQiLCJMaW5lU3RyaW5nIiwiUG9seWdvbiJdLGRlPWZ1bmN0aW9uKCl7dGhpcy5nbG9iYWxzPW51bGwsdGhpcy5mZWF0dXJlPW51bGwsdGhpcy5mZWF0dXJlU3RhdGU9bnVsbCx0aGlzLmZvcm1hdHRlZFNlY3Rpb249bnVsbCx0aGlzLl9wYXJzZUNvbG9yQ2FjaGU9e30sdGhpcy5hdmFpbGFibGVJbWFnZXM9bnVsbCx0aGlzLmNhbm9uaWNhbD1udWxsO307ZGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmImlkImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuaWQ6bnVsbH0sZGUucHJvdG90eXBlLmdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmU/Im51bWJlciI9PXR5cGVvZiB0aGlzLmZlYXR1cmUudHlwZT95ZVt0aGlzLmZlYXR1cmUudHlwZV06dGhpcy5mZWF0dXJlLnR5cGU6bnVsbH0sZGUucHJvdG90eXBlLmdlb21ldHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmImdlb21ldHJ5ImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuZ2VvbWV0cnk6bnVsbH0sZGUucHJvdG90eXBlLmNhbm9uaWNhbElEPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsfSxkZS5wcm90b3R5cGUucHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmUmJnRoaXMuZmVhdHVyZS5wcm9wZXJ0aWVzfHx7fX0sZGUucHJvdG90eXBlLnBhcnNlQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyc2VDb2xvckNhY2hlW3RdO3JldHVybiBlfHwoZT10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbdF09JHQucGFyc2UodCkpLGV9O3ZhciBtZT1mdW5jdGlvbih0LGUscixuKXt0aGlzLm5hbWU9dCx0aGlzLnR5cGU9ZSx0aGlzLl9ldmFsdWF0ZT1yLHRoaXMuYXJncz1uO307bWUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ldmFsdWF0ZSh0LHRoaXMuYXJncyl9LG1lLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxtZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sbWUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VyaWFsaXplKCl9KSkpfSxtZS5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciByLG49dFswXSxpPW1lLmRlZmluaXRpb25zW25dO2lmKCFpKXJldHVybiBlLmVycm9yKCdVbmtub3duIGV4cHJlc3Npb24gIicrbisnIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbLi4uXV0uJywwKTtmb3IodmFyIGE9QXJyYXkuaXNBcnJheShpKT9pWzBdOmkudHlwZSxvPUFycmF5LmlzQXJyYXkoaSk/W1tpWzFdLGlbMl1dXTppLm92ZXJsb2FkcyxzPW8uZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgcj1lWzBdO3JldHVybiAhQXJyYXkuaXNBcnJheShyKXx8ci5sZW5ndGg9PT10Lmxlbmd0aC0xfSkpLHU9bnVsbCxsPTAscD1zO2w8cC5sZW5ndGg7bCs9MSl7dmFyIGM9cFtsXSxoPWNbMF0sZj1jWzFdO3U9bmV3IFJlKGUucmVnaXN0cnksZS5wYXRoLG51bGwsZS5zY29wZSk7Zm9yKHZhciB5PVtdLGQ9ITEsbT0xO208dC5sZW5ndGg7bSsrKXt2YXIgdj10W21dLGc9QXJyYXkuaXNBcnJheShoKT9oW20tMV06aC50eXBlLHg9dS5wYXJzZSh2LDEreS5sZW5ndGgsZyk7aWYoIXgpe2Q9ITA7YnJlYWt9eS5wdXNoKHgpO31pZighZClpZihBcnJheS5pc0FycmF5KGgpJiZoLmxlbmd0aCE9PXkubGVuZ3RoKXUuZXJyb3IoIkV4cGVjdGVkICIraC5sZW5ndGgrIiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiK3kubGVuZ3RoKyIgaW5zdGVhZC4iKTtlbHNlIHtmb3IodmFyIGI9MDtiPHkubGVuZ3RoO2IrKyl7dmFyIHc9QXJyYXkuaXNBcnJheShoKT9oW2JdOmgudHlwZSxfPXlbYl07dS5jb25jYXQoYisxKS5jaGVja1N1YnR5cGUodyxfLnR5cGUpO31pZigwPT09dS5lcnJvcnMubGVuZ3RoKXJldHVybiBuZXcgbWUobixhLGYseSl9fWlmKDE9PT1zLmxlbmd0aCkocj1lLmVycm9ycykucHVzaC5hcHBseShyLHUuZXJyb3JzKTtlbHNlIHtmb3IodmFyIEE9KHMubGVuZ3RoP3M6bykubWFwKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10WzBdLEFycmF5LmlzQXJyYXkoZSk/IigiK2UubWFwKEd0KS5qb2luKCIsICIpKyIpIjoiKCIrR3QoZS50eXBlKSsiLi4uKSJ9KSkuam9pbigiIHwgIiksUz1bXSxrPTE7azx0Lmxlbmd0aDtrKyspe3ZhciBJPWUucGFyc2UodFtrXSwxK1MubGVuZ3RoKTtpZighSSlyZXR1cm4gbnVsbDtTLnB1c2goR3QoSS50eXBlKSk7fWUuZXJyb3IoIkV4cGVjdGVkIGFyZ3VtZW50cyBvZiB0eXBlICIrQSsiLCBidXQgZm91bmQgKCIrUy5qb2luKCIsICIpKyIpIGluc3RlYWQuIik7fXJldHVybiBudWxsfSxtZS5yZWdpc3Rlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBtZS5kZWZpbml0aW9ucz1lLGUpdFtyXT1tZTt9O3ZhciB2ZT1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPWp0LHRoaXMubG9jYWxlPXIsdGhpcy5jYXNlU2Vuc2l0aXZlPXQsdGhpcy5kaWFjcml0aWNTZW5zaXRpdmU9ZTt9O2Z1bmN0aW9uIGdlKHQsZSl7dFswXT1NYXRoLm1pbih0WzBdLGVbMF0pLHRbMV09TWF0aC5taW4odFsxXSxlWzFdKSx0WzJdPU1hdGgubWF4KHRbMl0sZVswXSksdFszXT1NYXRoLm1heCh0WzNdLGVbMV0pO31mdW5jdGlvbiB4ZSh0LGUpe3JldHVybiAhKHRbMF08PWVbMF18fHRbMl0+PWVbMl18fHRbMV08PWVbMV18fHRbM10+PWVbM10pfWZ1bmN0aW9uIGJlKHQsZSl7dmFyIHI9KDE4MCt0WzBdKS8zNjAsbj0oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0WzFdKk1hdGguUEkvMzYwKSkpLzM2MCxpPU1hdGgucG93KDIsZS56KTtyZXR1cm4gW01hdGgucm91bmQocippKjgxOTIpLE1hdGgucm91bmQobippKjgxOTIpXX1mdW5jdGlvbiB3ZSh0LGUscil7cmV0dXJuIGVbMV0+dFsxXSE9clsxXT50WzFdJiZ0WzBdPChyWzBdLWVbMF0pKih0WzFdLWVbMV0pLyhyWzFdLWVbMV0pK2VbMF19ZnVuY3Rpb24gX2UodCxlKXtmb3IodmFyIHIsbixpLGEsbyxzLHUsbD0hMSxwPTAsYz1lLmxlbmd0aDtwPGM7cCsrKWZvcih2YXIgaD1lW3BdLGY9MCx5PWgubGVuZ3RoO2Y8eS0xO2YrKyl7aWYoKGE9KHI9dClbMF0tKG49aFtmXSlbMF0pKih1PXJbMV0tKGk9aFtmKzFdKVsxXSktKHM9clswXS1pWzBdKSoobz1yWzFdLW5bMV0pPT0wJiZhKnM8PTAmJm8qdTw9MClyZXR1cm4gITE7d2UodCxoW2ZdLGhbZisxXSkmJihsPSFsKTt9cmV0dXJuIGx9ZnVuY3Rpb24gQWUodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihfZSh0LGVbcl0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gU2UodCxlLHIsbil7dmFyIGk9blswXS1yWzBdLGE9blsxXS1yWzFdLG89KHRbMF0tclswXSkqYS1pKih0WzFdLXJbMV0pLHM9KGVbMF0tclswXSkqYS1pKihlWzFdLXJbMV0pO3JldHVybiBvPjAmJnM8MHx8bzwwJiZzPjB9ZnVuY3Rpb24ga2UodCxlLHIpe2Zvcih2YXIgbj0wLGk9cjtuPGkubGVuZ3RoO24rPTEpZm9yKHZhciBhPWlbbl0sbz0wO288YS5sZW5ndGgtMTsrK28paWYoMCE9KGM9WyhwPWFbbysxXSlbMF0tKGw9YVtvXSlbMF0scFsxXS1sWzFdXSlbMF0qKGg9Wyh1PWUpWzBdLShzPXQpWzBdLHVbMV0tc1sxXV0pWzFdLWNbMV0qaFswXSYmU2Uocyx1LGwscCkmJlNlKGwscCxzLHUpKXJldHVybiAhMDt2YXIgcyx1LGwscCxjLGg7cmV0dXJuICExfWZ1bmN0aW9uIEllKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpaWYoIV9lKHRbcl0sZSkpcmV0dXJuICExO2Zvcih2YXIgbj0wO248dC5sZW5ndGgtMTsrK24paWYoa2UodFtuXSx0W24rMV0sZSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiB6ZSh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKEllKHQsZVtyXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBDZSh0LGUscil7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBhPVtdLG89MDtvPHRbaV0ubGVuZ3RoO28rKyl7dmFyIHM9YmUodFtpXVtvXSxyKTtnZShlLHMpLGEucHVzaChzKTt9bi5wdXNoKGEpO31yZXR1cm4gbn1mdW5jdGlvbiBNZSh0LGUscil7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9Q2UodFtpXSxlLHIpO24ucHVzaChhKTt9cmV0dXJuIG59ZnVuY3Rpb24gRWUodCxlLHIsbil7aWYodFswXTxyWzBdfHx0WzBdPnJbMl0pe3ZhciBpPS41Km4sYT10WzBdLXJbMF0+aT8tbjpyWzBdLXRbMF0+aT9uOjA7MD09PWEmJihhPXRbMF0tclsyXT5pPy1uOnJbMl0tdFswXT5pP246MCksdFswXSs9YTt9Z2UoZSx0KTt9ZnVuY3Rpb24gVGUodCxlLHIsbil7Zm9yKHZhciBpPTgxOTIqTWF0aC5wb3coMixuLnopLGE9WzgxOTIqbi54LDgxOTIqbi55XSxvPVtdLHM9MCx1PXQ7czx1Lmxlbmd0aDtzKz0xKWZvcih2YXIgbD0wLHA9dVtzXTtsPHAubGVuZ3RoO2wrPTEpe3ZhciBjPXBbbF0saD1bYy54K2FbMF0sYy55K2FbMV1dO0VlKGgsZSxyLGkpLG8ucHVzaChoKTt9cmV0dXJuIG99ZnVuY3Rpb24gUGUodCxlLHIsbil7Zm9yKHZhciBpLGE9ODE5MipNYXRoLnBvdygyLG4ueiksbz1bODE5MipuLngsODE5MipuLnldLHM9W10sdT0wLGw9dDt1PGwubGVuZ3RoO3UrPTEpe2Zvcih2YXIgcD1bXSxjPTAsaD1sW3VdO2M8aC5sZW5ndGg7Yys9MSl7dmFyIGY9aFtjXSx5PVtmLngrb1swXSxmLnkrb1sxXV07Z2UoZSx5KSxwLnB1c2goeSk7fXMucHVzaChwKTt9aWYoZVsyXS1lWzBdPD1hLzIpeyhpPWUpWzBdPWlbMV09MS8wLGlbMl09aVszXT0tMS8wO2Zvcih2YXIgZD0wLG09cztkPG0ubGVuZ3RoO2QrPTEpZm9yKHZhciB2PTAsZz1tW2RdO3Y8Zy5sZW5ndGg7dis9MSlFZShnW3ZdLGUscixhKTt9cmV0dXJuIHN9dmUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIG9uZSBhcmd1bWVudC4iKTt2YXIgcj10WzFdO2lmKCJvYmplY3QiIT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSlyZXR1cm4gZS5lcnJvcigiQ29sbGF0b3Igb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4iKTt2YXIgbj1lLnBhcnNlKHZvaWQgMCE9PXJbImNhc2Utc2Vuc2l0aXZlIl0mJnJbImNhc2Utc2Vuc2l0aXZlIl0sMSxMdCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGk9ZS5wYXJzZSh2b2lkIDAhPT1yWyJkaWFjcml0aWMtc2Vuc2l0aXZlIl0mJnJbImRpYWNyaXRpYy1zZW5zaXRpdmUiXSwxLEx0KTtpZighaSlyZXR1cm4gbnVsbDt2YXIgYT1udWxsO3JldHVybiByLmxvY2FsZSYmIShhPWUucGFyc2Uoci5sb2NhbGUsMSxEdCkpP251bGw6bmV3IHZlKG4saSxhKX0sdmUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgV3QodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOm51bGwpfSx2ZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5jYXNlU2Vuc2l0aXZlKSx0KHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlKSx0aGlzLmxvY2FsZSYmdCh0aGlzLmxvY2FsZSk7fSx2ZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sdmUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0WyJjYXNlLXNlbnNpdGl2ZSJdPXRoaXMuY2FzZVNlbnNpdGl2ZS5zZXJpYWxpemUoKSx0WyJkaWFjcml0aWMtc2Vuc2l0aXZlIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJih0LmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksWyJjb2xsYXRvciIsdF19O3ZhciBCZT1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1MdCx0aGlzLmdlb2pzb249dCx0aGlzLmdlb21ldHJpZXM9ZTt9O2Z1bmN0aW9uIFZlKHQpe2lmKHQgaW5zdGFuY2VvZiBtZSl7aWYoImdldCI9PT10Lm5hbWUmJjE9PT10LmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZigiZmVhdHVyZS1zdGF0ZSI9PT10Lm5hbWUpcmV0dXJuICExO2lmKCJoYXMiPT09dC5uYW1lJiYxPT09dC5hcmdzLmxlbmd0aClyZXR1cm4gITE7aWYoInByb3BlcnRpZXMiPT09dC5uYW1lfHwiZ2VvbWV0cnktdHlwZSI9PT10Lm5hbWV8fCJpZCI9PT10Lm5hbWUpcmV0dXJuICExO2lmKC9eZmlsdGVyLS8udGVzdCh0Lm5hbWUpKXJldHVybiAhMX1pZih0IGluc3RhbmNlb2YgQmUpcmV0dXJuICExO3ZhciBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7ZSYmIVZlKHQpJiYoZT0hMSk7fSkpLGV9ZnVuY3Rpb24gRmUodCl7aWYodCBpbnN0YW5jZW9mIG1lJiYiZmVhdHVyZS1zdGF0ZSI9PT10Lm5hbWUpcmV0dXJuICExO3ZhciBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7ZSYmIUZlKHQpJiYoZT0hMSk7fSkpLGV9ZnVuY3Rpb24gRGUodCxlKXtpZih0IGluc3RhbmNlb2YgbWUmJmUuaW5kZXhPZih0Lm5hbWUpPj0wKXJldHVybiAhMTt2YXIgcj0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3ImJiFEZSh0LGUpJiYocj0hMSk7fSkpLHJ9QmUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIid3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7aWYobmUodFsxXSkpe3ZhciByPXRbMV07aWYoIkZlYXR1cmVDb2xsZWN0aW9uIj09PXIudHlwZSlmb3IodmFyIG49MDtuPHIuZmVhdHVyZXMubGVuZ3RoOysrbil7dmFyIGk9ci5mZWF0dXJlc1tuXS5nZW9tZXRyeS50eXBlO2lmKCJQb2x5Z29uIj09PWl8fCJNdWx0aVBvbHlnb24iPT09aSlyZXR1cm4gbmV3IEJlKHIsci5mZWF0dXJlc1tuXS5nZW9tZXRyeSl9ZWxzZSBpZigiRmVhdHVyZSI9PT1yLnR5cGUpe3ZhciBhPXIuZ2VvbWV0cnkudHlwZTtpZigiUG9seWdvbiI9PT1hfHwiTXVsdGlQb2x5Z29uIj09PWEpcmV0dXJuIG5ldyBCZShyLHIuZ2VvbWV0cnkpfWVsc2UgaWYoIlBvbHlnb24iPT09ci50eXBlfHwiTXVsdGlQb2x5Z29uIj09PXIudHlwZSlyZXR1cm4gbmV3IEJlKHIscil9cmV0dXJuIGUuZXJyb3IoIid3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgdmFsaWQgZ2VvanNvbiBvYmplY3QgdGhhdCBjb250YWlucyBwb2x5Z29uIGdlb21ldHJ5IHR5cGUuIil9LEJlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtpZihudWxsIT10Lmdlb21ldHJ5KCkmJm51bGwhPXQuY2Fub25pY2FsSUQoKSl7aWYoIlBvaW50Ij09PXQuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPVsxLzAsMS8wLC0xLzAsLTEvMF0saT10LmNhbm9uaWNhbElEKCk7aWYoIlBvbHlnb24iPT09ZS50eXBlKXt2YXIgYT1DZShlLmNvb3JkaW5hdGVzLG4saSksbz1UZSh0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCF4ZShyLG4pKXJldHVybiAhMTtmb3IodmFyIHM9MCx1PW87czx1Lmxlbmd0aDtzKz0xKWlmKCFfZSh1W3NdLGEpKXJldHVybiAhMX1pZigiTXVsdGlQb2x5Z29uIj09PWUudHlwZSl7dmFyIGw9TWUoZS5jb29yZGluYXRlcyxuLGkpLHA9VGUodC5nZW9tZXRyeSgpLHIsbixpKTtpZigheGUocixuKSlyZXR1cm4gITE7Zm9yKHZhciBjPTAsaD1wO2M8aC5sZW5ndGg7Yys9MSlpZighQWUoaFtjXSxsKSlyZXR1cm4gITF9cmV0dXJuICEwfSh0LHRoaXMuZ2VvbWV0cmllcyk7aWYoIkxpbmVTdHJpbmciPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgcj1bMS8wLDEvMCwtMS8wLC0xLzBdLG49WzEvMCwxLzAsLTEvMCwtMS8wXSxpPXQuY2Fub25pY2FsSUQoKTtpZigiUG9seWdvbiI9PT1lLnR5cGUpe3ZhciBhPUNlKGUuY29vcmRpbmF0ZXMsbixpKSxvPVBlKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIXhlKHIsbikpcmV0dXJuICExO2Zvcih2YXIgcz0wLHU9bztzPHUubGVuZ3RoO3MrPTEpaWYoIUllKHVbc10sYSkpcmV0dXJuICExfWlmKCJNdWx0aVBvbHlnb24iPT09ZS50eXBlKXt2YXIgbD1NZShlLmNvb3JkaW5hdGVzLG4saSkscD1QZSh0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCF4ZShyLG4pKXJldHVybiAhMTtmb3IodmFyIGM9MCxoPXA7YzxoLmxlbmd0aDtjKz0xKWlmKCF6ZShoW2NdLGwpKXJldHVybiAhMX1yZXR1cm4gITB9KHQsdGhpcy5nZW9tZXRyaWVzKX1yZXR1cm4gITF9LEJlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24oKXt9LEJlLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxCZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFsid2l0aGluIix0aGlzLmdlb2pzb25dfTt2YXIgTGU9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9ZS50eXBlLHRoaXMubmFtZT10LHRoaXMuYm91bmRFeHByZXNzaW9uPWU7fTtMZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aHx8InN0cmluZyIhPXR5cGVvZiB0WzFdKXJldHVybiBlLmVycm9yKCIndmFyJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIHN0cmluZyBsaXRlcmFsIGFyZ3VtZW50LiIpO3ZhciByPXRbMV07cmV0dXJuIGUuc2NvcGUuaGFzKHIpP25ldyBMZShyLGUuc2NvcGUuZ2V0KHIpKTplLmVycm9yKCdVbmtub3duIHZhcmlhYmxlICInK3IrJyIuIE1ha2Ugc3VyZSAiJytyKyciIGhhcyBiZWVuIGJvdW5kIGluIGFuIGVuY2xvc2luZyAibGV0IiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC4nLDEpfSxMZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKHQpfSxMZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKCl7fSxMZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sTGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbInZhciIsdGhpcy5uYW1lXX07dmFyIFJlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dm9pZCAwPT09ZSYmKGU9W10pLHZvaWQgMD09PW4mJihuPW5ldyBCdCksdm9pZCAwPT09aSYmKGk9W10pLHRoaXMucmVnaXN0cnk9dCx0aGlzLnBhdGg9ZSx0aGlzLmtleT1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJbIit0KyJdIn0pKS5qb2luKCIiKSx0aGlzLnNjb3BlPW4sdGhpcy5lcnJvcnM9aSx0aGlzLmV4cGVjdGVkVHlwZT1yO307ZnVuY3Rpb24gT2UodCxlKXtmb3IodmFyIHIsbj10Lmxlbmd0aC0xLGk9MCxhPW4sbz0wO2k8PWE7KWlmKChyPXRbbz1NYXRoLmZsb29yKChpK2EpLzIpXSk8PWUpe2lmKG89PT1ufHxlPHRbbysxXSlyZXR1cm4gbztpPW8rMTt9ZWxzZSB7aWYoIShyPmUpKXRocm93IG5ldyBzZSgiSW5wdXQgaXMgbm90IGEgbnVtYmVyLiIpO2E9by0xO31yZXR1cm4gMH1SZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9e30pLGU/dGhpcy5jb25jYXQoZSxyLG4pLl9wYXJzZSh0LGkpOnRoaXMuX3BhcnNlKHQsaSl9LFJlLnByb3RvdHlwZS5fcGFyc2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSxyKXtyZXR1cm4gImFzc2VydCI9PT1yP25ldyBsZShlLFt0XSk6ImNvZXJjZSI9PT1yP25ldyBmZShlLFt0XSk6dH1pZihudWxsIT09dCYmInN0cmluZyIhPXR5cGVvZiB0JiYiYm9vbGVhbiIhPXR5cGVvZiB0JiYibnVtYmVyIiE9dHlwZW9mIHR8fCh0PVsibGl0ZXJhbCIsdF0pLEFycmF5LmlzQXJyYXkodCkpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpcy5lcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbXV0uJyk7dmFyIG49dFswXTtpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMuZXJyb3IoIkV4cHJlc3Npb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgZm91bmQgIit0eXBlb2YgbisnIGluc3RlYWQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgWyJsaXRlcmFsIiwgWy4uLl1dLicsMCksbnVsbDt2YXIgaT10aGlzLnJlZ2lzdHJ5W25dO2lmKGkpe3ZhciBhPWkucGFyc2UodCx0aGlzKTtpZighYSlyZXR1cm4gbnVsbDtpZih0aGlzLmV4cGVjdGVkVHlwZSl7dmFyIG89dGhpcy5leHBlY3RlZFR5cGUscz1hLnR5cGU7aWYoInN0cmluZyIhPT1vLmtpbmQmJiJudW1iZXIiIT09by5raW5kJiYiYm9vbGVhbiIhPT1vLmtpbmQmJiJvYmplY3QiIT09by5raW5kJiYiYXJyYXkiIT09by5raW5kfHwidmFsdWUiIT09cy5raW5kKWlmKCJjb2xvciIhPT1vLmtpbmQmJiJmb3JtYXR0ZWQiIT09by5raW5kJiYicmVzb2x2ZWRJbWFnZSIhPT1vLmtpbmR8fCJ2YWx1ZSIhPT1zLmtpbmQmJiJzdHJpbmciIT09cy5raW5kKXtpZih0aGlzLmNoZWNrU3VidHlwZShvLHMpKXJldHVybiBudWxsfWVsc2UgYT1yKGEsbyxlLnR5cGVBbm5vdGF0aW9ufHwiY29lcmNlIik7ZWxzZSBhPXIoYSxvLGUudHlwZUFubm90YXRpb258fCJhc3NlcnQiKTt9aWYoIShhIGluc3RhbmNlb2Ygb2UpJiYicmVzb2x2ZWRJbWFnZSIhPT1hLnR5cGUua2luZCYmZnVuY3Rpb24gdChlKXtpZihlIGluc3RhbmNlb2YgTGUpcmV0dXJuIHQoZS5ib3VuZEV4cHJlc3Npb24pO2lmKGUgaW5zdGFuY2VvZiBtZSYmImVycm9yIj09PWUubmFtZSlyZXR1cm4gITE7aWYoZSBpbnN0YW5jZW9mIHZlKXJldHVybiAhMTtpZihlIGluc3RhbmNlb2YgQmUpcmV0dXJuICExO3ZhciByPWUgaW5zdGFuY2VvZiBmZXx8ZSBpbnN0YW5jZW9mIGxlLG49ITA7cmV0dXJuIGUuZWFjaENoaWxkKChmdW5jdGlvbihlKXtuPXI/biYmdChlKTpuJiZlIGluc3RhbmNlb2Ygb2U7fSkpLCEhbiYmVmUoZSkmJkRlKGUsWyJ6b29tIiwiaGVhdG1hcC1kZW5zaXR5IiwibGluZS1wcm9ncmVzcyIsImFjY3VtdWxhdGVkIiwiaXMtc3VwcG9ydGVkLXNjcmlwdCJdKX0oYSkpe3ZhciB1PW5ldyBkZTt0cnl7YT1uZXcgb2UoYS50eXBlLGEuZXZhbHVhdGUodSkpO31jYXRjaCh0KXtyZXR1cm4gdGhpcy5lcnJvcih0Lm1lc3NhZ2UpLG51bGx9fXJldHVybiBhfXJldHVybiB0aGlzLmVycm9yKCdVbmtub3duIGV4cHJlc3Npb24gIicrbisnIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbLi4uXV0uJywwKX1yZXR1cm4gdGhpcy5lcnJvcih2b2lkIDA9PT10PyIndW5kZWZpbmVkJyB2YWx1ZSBpbnZhbGlkLiBVc2UgbnVsbCBpbnN0ZWFkLiI6Im9iamVjdCI9PXR5cGVvZiB0PydCYXJlIG9iamVjdHMgaW52YWxpZC4gVXNlIFsibGl0ZXJhbCIsIHsuLi59XSBpbnN0ZWFkLic6IkV4cGVjdGVkIGFuIGFycmF5LCBidXQgZm91bmQgIit0eXBlb2YgdCsiIGluc3RlYWQuIil9LFJlLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPSJudW1iZXIiPT10eXBlb2YgdD90aGlzLnBhdGguY29uY2F0KHQpOnRoaXMucGF0aCxpPXI/dGhpcy5zY29wZS5jb25jYXQocik6dGhpcy5zY29wZTtyZXR1cm4gbmV3IFJlKHRoaXMucmVnaXN0cnksbixlfHxudWxsLGksdGhpcy5lcnJvcnMpfSxSZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLHI9YXJndW1lbnRzLmxlbmd0aC0xO3ItLSA+MDspZVtyXT1hcmd1bWVudHNbcisxXTt2YXIgbj0iIit0aGlzLmtleStlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJbIit0KyJdIn0pKS5qb2luKCIiKTt0aGlzLmVycm9ycy5wdXNoKG5ldyBQdChuLHQpKTt9LFJlLnByb3RvdHlwZS5jaGVja1N1YnR5cGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1YdCh0LGUpO3JldHVybiByJiZ0aGlzLmVycm9yKHIpLHJ9O3ZhciBVZT1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPXQsdGhpcy5pbnB1dD1lLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IodmFyIG49MCxpPXI7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dLG89YVsxXTt0aGlzLmxhYmVscy5wdXNoKGFbMF0pLHRoaXMub3V0cHV0cy5wdXNoKG8pO319O2Z1bmN0aW9uIGplKHQsZSxyKXtyZXR1cm4gdCooMS1yKStlKnJ9VWUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAiKyh0Lmxlbmd0aC0xKSsiLiIpO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsRnQpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPVtdLGk9bnVsbDtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihpPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIGE9MTthPHQubGVuZ3RoO2ErPTIpe3ZhciBvPTE9PT1hPy0xLzA6dFthXSxzPXRbYSsxXSx1PWEsbD1hKzE7aWYoIm51bWJlciIhPXR5cGVvZiBvKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yICJzdGVwIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLHUpO2lmKG4ubGVuZ3RoJiZuW24ubGVuZ3RoLTFdWzBdPj1vKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yICJzdGVwIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLHUpO3ZhciBwPWUucGFyc2UocyxsLGkpO2lmKCFwKXJldHVybiBudWxsO2k9aXx8cC50eXBlLG4ucHVzaChbbyxwXSk7fXJldHVybiBuZXcgVWUoaSxyLG4pfSxVZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sYWJlbHMscj10aGlzLm91dHB1dHM7aWYoMT09PWUubGVuZ3RoKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO3ZhciBuPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYobjw9ZVswXSlyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTt2YXIgaT1lLmxlbmd0aDtyZXR1cm4gbj49ZVtpLTFdP3JbaS0xXS5ldmFsdWF0ZSh0KTpyW09lKGUsbildLmV2YWx1YXRlKHQpfSxVZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCk7Zm9yKHZhciBlPTAscj10aGlzLm91dHB1dHM7ZTxyLmxlbmd0aDtlKz0xKXQocltlXSk7fSxVZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0sVWUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bInN0ZXAiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLGU9MDtlPHRoaXMubGFiZWxzLmxlbmd0aDtlKyspZT4wJiZ0LnB1c2godGhpcy5sYWJlbHNbZV0pLHQucHVzaCh0aGlzLm91dHB1dHNbZV0uc2VyaWFsaXplKCkpO3JldHVybiB0fTt2YXIgcWU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbnVtYmVyOmplLGNvbG9yOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbmV3ICR0KGplKHQucixlLnIsciksamUodC5nLGUuZyxyKSxqZSh0LmIsZS5iLHIpLGplKHQuYSxlLmEscikpfSxhcnJheTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBqZSh0LGVbbl0scil9KSl9fSksTmU9Ni8yOSozKig2LzI5KSxLZT1NYXRoLlBJLzE4MCxHZT0xODAvTWF0aC5QSTtmdW5jdGlvbiBaZSh0KXtyZXR1cm4gdD4uMDA4ODU2NDUxNjc5MDM1NjMxP01hdGgucG93KHQsMS8zKTp0L05lKzQvMjl9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIHQ+Ni8yOT90KnQqdDpOZSoodC00LzI5KX1mdW5jdGlvbiBKZSh0KXtyZXR1cm4gMjU1Kih0PD0uMDAzMTMwOD8xMi45Mip0OjEuMDU1Kk1hdGgucG93KHQsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIEhlKHQpe3JldHVybiAodC89MjU1KTw9LjA0MDQ1P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiBZZSh0KXt2YXIgZT1IZSh0LnIpLHI9SGUodC5nKSxuPUhlKHQuYiksaT1aZSgoLjQxMjQ1NjQqZSsuMzU3NTc2MSpyKy4xODA0Mzc1Km4pLy45NTA0NyksYT1aZSgoLjIxMjY3MjkqZSsuNzE1MTUyMipyKy4wNzIxNzUqbikvMSk7cmV0dXJuIHtsOjExNiphLTE2LGE6NTAwKihpLWEpLGI6MjAwKihhLVplKCguMDE5MzMzOSplKy4xMTkxOTIqcisuOTUwMzA0MSpuKS8xLjA4ODgzKSksYWxwaGE6dC5hfX1mdW5jdGlvbiAkZSh0KXt2YXIgZT0odC5sKzE2KS8xMTYscj1pc05hTih0LmEpP2U6ZSt0LmEvNTAwLG49aXNOYU4odC5iKT9lOmUtdC5iLzIwMDtyZXR1cm4gZT0xKlhlKGUpLHI9Ljk1MDQ3KlhlKHIpLG49MS4wODg4MypYZShuKSxuZXcgJHQoSmUoMy4yNDA0NTQyKnItMS41MzcxMzg1KmUtLjQ5ODUzMTQqbiksSmUoLS45NjkyNjYqcisxLjg3NjAxMDgqZSsuMDQxNTU2Km4pLEplKC4wNTU2NDM0KnItLjIwNDAyNTkqZSsxLjA1NzIyNTIqbiksdC5hbHBoYSl9ZnVuY3Rpb24gV2UodCxlLHIpe3ZhciBuPWUtdDtyZXR1cm4gdCtyKihuPjE4MHx8bjwtMTgwP24tMzYwKk1hdGgucm91bmQobi8zNjApOm4pfXZhciBRZT17Zm9yd2FyZDpZZSxyZXZlcnNlOiRlLGludGVycG9sYXRlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4ge2w6amUodC5sLGUubCxyKSxhOmplKHQuYSxlLmEsciksYjpqZSh0LmIsZS5iLHIpLGFscGhhOmplKHQuYWxwaGEsZS5hbHBoYSxyKX19fSx0cj17Zm9yd2FyZDpmdW5jdGlvbih0KXt2YXIgZT1ZZSh0KSxyPWUubCxuPWUuYSxpPWUuYixhPU1hdGguYXRhbjIoaSxuKSpHZTtyZXR1cm4ge2g6YTwwP2ErMzYwOmEsYzpNYXRoLnNxcnQobipuK2kqaSksbDpyLGFscGhhOnQuYX19LHJldmVyc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5oKktlLHI9dC5jO3JldHVybiAkZSh7bDp0LmwsYTpNYXRoLmNvcyhlKSpyLGI6TWF0aC5zaW4oZSkqcixhbHBoYTp0LmFscGhhfSl9LGludGVycG9sYXRlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4ge2g6V2UodC5oLGUuaCxyKSxjOmplKHQuYyxlLmMsciksbDpqZSh0LmwsZS5sLHIpLGFscGhhOmplKHQuYWxwaGEsZS5hbHBoYSxyKX19fSxlcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxsYWI6UWUsaGNsOnRyfSkscnI9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLnR5cGU9dCx0aGlzLm9wZXJhdG9yPWUsdGhpcy5pbnRlcnBvbGF0aW9uPXIsdGhpcy5pbnB1dD1uLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IodmFyIGE9MCxvPWk7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9c1sxXTt0aGlzLmxhYmVscy5wdXNoKHNbMF0pLHRoaXMub3V0cHV0cy5wdXNoKHUpO319O2Z1bmN0aW9uIG5yKHQsZSxyLG4pe3ZhciBpPW4tcixhPXQtcjtyZXR1cm4gMD09PWk/MDoxPT09ZT9hL2k6KE1hdGgucG93KGUsYSktMSkvKE1hdGgucG93KGUsaSktMSl9cnIuaW50ZXJwb2xhdGlvbkZhY3Rvcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgYT0wO2lmKCJleHBvbmVudGlhbCI9PT10Lm5hbWUpYT1ucihlLHQuYmFzZSxuLGkpO2Vsc2UgaWYoImxpbmVhciI9PT10Lm5hbWUpYT1ucihlLDEsbixpKTtlbHNlIGlmKCJjdWJpYy1iZXppZXIiPT09dC5uYW1lKXt2YXIgbz10LmNvbnRyb2xQb2ludHM7YT1uZXcgcihvWzBdLG9bMV0sb1syXSxvWzNdKS5zb2x2ZShucihlLDEsbixpKSk7fXJldHVybiBhfSxyci5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxhPXQuc2xpY2UoMyk7aWYoIUFycmF5LmlzQXJyYXkobil8fDA9PT1uLmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYW4gaW50ZXJwb2xhdGlvbiB0eXBlIGV4cHJlc3Npb24uIiwxKTtpZigibGluZWFyIj09PW5bMF0pbj17bmFtZToibGluZWFyIn07ZWxzZSBpZigiZXhwb25lbnRpYWwiPT09blswXSl7dmFyIG89blsxXTtpZigibnVtYmVyIiE9dHlwZW9mIG8pcmV0dXJuIGUuZXJyb3IoIkV4cG9uZW50aWFsIGludGVycG9sYXRpb24gcmVxdWlyZXMgYSBudW1lcmljIGJhc2UuIiwxLDEpO249e25hbWU6ImV4cG9uZW50aWFsIixiYXNlOm99O31lbHNlIHtpZigiY3ViaWMtYmV6aWVyIiE9PW5bMF0pcmV0dXJuIGUuZXJyb3IoIlVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlICIrU3RyaW5nKG5bMF0pLDEsMCk7dmFyIHM9bi5zbGljZSgxKTtpZig0IT09cy5sZW5ndGh8fHMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICJudW1iZXIiIT10eXBlb2YgdHx8dDwwfHx0PjF9KSkpcmV0dXJuIGUuZXJyb3IoIkN1YmljIGJlemllciBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGZvdXIgbnVtZXJpYyBhcmd1bWVudHMgd2l0aCB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAxLiIsMSk7bj17bmFtZToiY3ViaWMtYmV6aWVyIixjb250cm9sUG9pbnRzOnN9O31pZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAiKyh0Lmxlbmd0aC0xKSsiLiIpO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7aWYoIShpPWUucGFyc2UoaSwyLEZ0KSkpcmV0dXJuIG51bGw7dmFyIHU9W10sbD1udWxsOyJpbnRlcnBvbGF0ZS1oY2wiPT09cnx8ImludGVycG9sYXRlLWxhYiI9PT1yP2w9UnQ6ZS5leHBlY3RlZFR5cGUmJiJ2YWx1ZSIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYobD1lLmV4cGVjdGVkVHlwZSk7Zm9yKHZhciBwPTA7cDxhLmxlbmd0aDtwKz0yKXt2YXIgYz1hW3BdLGg9YVtwKzFdLGY9cCszLHk9cCs0O2lmKCJudW1iZXIiIT10eXBlb2YgYylyZXR1cm4gZS5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciAiaW50ZXJwb2xhdGUiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsZik7aWYodS5sZW5ndGgmJnVbdS5sZW5ndGgtMV1bMF0+PWMpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgImludGVycG9sYXRlIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLGYpO3ZhciBkPWUucGFyc2UoaCx5LGwpO2lmKCFkKXJldHVybiBudWxsO2w9bHx8ZC50eXBlLHUucHVzaChbYyxkXSk7fXJldHVybiAibnVtYmVyIj09PWwua2luZHx8ImNvbG9yIj09PWwua2luZHx8ImFycmF5Ij09PWwua2luZCYmIm51bWJlciI9PT1sLml0ZW1UeXBlLmtpbmQmJiJudW1iZXIiPT10eXBlb2YgbC5OP25ldyBycihsLHIsbixpLHUpOmUuZXJyb3IoIlR5cGUgIitHdChsKSsiIGlzIG5vdCBpbnRlcnBvbGF0YWJsZS4iKX0scnIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTt2YXIgbj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKG48PWVbMF0pcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7dmFyIGk9ZS5sZW5ndGg7aWYobj49ZVtpLTFdKXJldHVybiByW2ktMV0uZXZhbHVhdGUodCk7dmFyIGE9T2UoZSxuKSxvPXJyLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uLG4sZVthXSxlW2ErMV0pLHM9clthXS5ldmFsdWF0ZSh0KSx1PXJbYSsxXS5ldmFsdWF0ZSh0KTtyZXR1cm4gImludGVycG9sYXRlIj09PXRoaXMub3BlcmF0b3I/cWVbdGhpcy50eXBlLmtpbmQudG9Mb3dlckNhc2UoKV0ocyx1LG8pOiJpbnRlcnBvbGF0ZS1oY2wiPT09dGhpcy5vcGVyYXRvcj90ci5yZXZlcnNlKHRyLmludGVycG9sYXRlKHRyLmZvcndhcmQocyksdHIuZm9yd2FyZCh1KSxvKSk6UWUucmV2ZXJzZShRZS5pbnRlcnBvbGF0ZShRZS5mb3J3YXJkKHMpLFFlLmZvcndhcmQodSksbykpfSxyci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCk7Zm9yKHZhciBlPTAscj10aGlzLm91dHB1dHM7ZTxyLmxlbmd0aDtlKz0xKXQocltlXSk7fSxyci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0scnIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0O3Q9ImxpbmVhciI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT9bImxpbmVhciJdOiJleHBvbmVudGlhbCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT8xPT09dGhpcy5pbnRlcnBvbGF0aW9uLmJhc2U/WyJsaW5lYXIiXTpbImV4cG9uZW50aWFsIix0aGlzLmludGVycG9sYXRpb24uYmFzZV06WyJjdWJpYy1iZXppZXIiXS5jb25jYXQodGhpcy5pbnRlcnBvbGF0aW9uLmNvbnRyb2xQb2ludHMpO2Zvcih2YXIgZT1bdGhpcy5vcGVyYXRvcix0LHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLHI9MDtyPHRoaXMubGFiZWxzLmxlbmd0aDtyKyspZS5wdXNoKHRoaXMubGFiZWxzW3JdLHRoaXMub3V0cHV0c1tyXS5zZXJpYWxpemUoKSk7cmV0dXJuIGV9O3ZhciBpcj1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO307aXIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKCJFeHBlY3RlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuIik7dmFyIHI9bnVsbCxuPWUuZXhwZWN0ZWRUeXBlO24mJiJ2YWx1ZSIhPT1uLmtpbmQmJihyPW4pO2Zvcih2YXIgaT1bXSxhPTAsbz10LnNsaWNlKDEpO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9ZS5wYXJzZShvW2FdLDEraS5sZW5ndGgscix2b2lkIDAse3R5cGVBbm5vdGF0aW9uOiJvbWl0In0pO2lmKCFzKXJldHVybiBudWxsO3I9cnx8cy50eXBlLGkucHVzaChzKTt9dmFyIHU9biYmaS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gWHQobix0LnR5cGUpfSkpO3JldHVybiBuZXcgaXIodT9VdDpyLGkpfSxpci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLHI9bnVsbCxuPTAsaT0wLGE9dGhpcy5hcmdzO2k8YS5sZW5ndGgmJihuKyssKHI9YVtpXS5ldmFsdWF0ZSh0KSkmJnIgaW5zdGFuY2VvZiBlZSYmIXIuYXZhaWxhYmxlJiYoZXx8KGU9ci5uYW1lKSxyPW51bGwsbj09PXRoaXMuYXJncy5sZW5ndGgmJihyPWUpKSxudWxsPT09cik7aSs9MSk7cmV0dXJuIHJ9LGlyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxpci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm91dHB1dERlZmluZWQoKX0pKX0saXIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVsiY29hbGVzY2UiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGUpe3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH07dmFyIGFyPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPWUudHlwZSx0aGlzLmJpbmRpbmdzPVtdLmNvbmNhdCh0KSx0aGlzLnJlc3VsdD1lO307YXIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlc3VsdC5ldmFsdWF0ZSh0KX0sYXIucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYmluZGluZ3M7ZTxyLmxlbmd0aDtlKz0xKXQocltlXVsxXSk7dCh0aGlzLnJlc3VsdCk7fSxhci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO2Zvcih2YXIgcj1bXSxuPTE7bjx0Lmxlbmd0aC0xO24rPTIpe3ZhciBpPXRbbl07aWYoInN0cmluZyIhPXR5cGVvZiBpKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBzdHJpbmcsIGJ1dCBmb3VuZCAiK3R5cGVvZiBpKyIgaW5zdGVhZC4iLG4pO2lmKC9bXmEtekEtWjAtOV9dLy50ZXN0KGkpKXJldHVybiBlLmVycm9yKCJWYXJpYWJsZSBuYW1lcyBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvciAnXycuIixuKTt2YXIgYT1lLnBhcnNlKHRbbisxXSxuKzEpO2lmKCFhKXJldHVybiBudWxsO3IucHVzaChbaSxhXSk7fXZhciBvPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLGUuZXhwZWN0ZWRUeXBlLHIpO3JldHVybiBvP25ldyBhcihyLG8pOm51bGx9LGFyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzdWx0Lm91dHB1dERlZmluZWQoKX0sYXIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bImxldCJdLGU9MCxyPXRoaXMuYmluZGluZ3M7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QucHVzaChuWzBdLG5bMV0uc2VyaWFsaXplKCkpO31yZXR1cm4gdC5wdXNoKHRoaXMucmVzdWx0LnNlcmlhbGl6ZSgpKSx0fTt2YXIgb3I9ZnVuY3Rpb24odCxlLHIpe3RoaXMudHlwZT10LHRoaXMuaW5kZXg9ZSx0aGlzLmlucHV0PXI7fTtvci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDMhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsRnQpLG49ZS5wYXJzZSh0WzJdLDIsS3QoZS5leHBlY3RlZFR5cGV8fFV0KSk7cmV0dXJuIHImJm4/bmV3IG9yKG4udHlwZS5pdGVtVHlwZSxyLG4pOm51bGx9LG9yLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmluZGV4LmV2YWx1YXRlKHQpLHI9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihlPDApdGhyb3cgbmV3IHNlKCJBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAiK2UrIiA8IDAuIik7aWYoZT49ci5sZW5ndGgpdGhyb3cgbmV3IHNlKCJBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAiK2UrIiA+ICIrKHIubGVuZ3RoLTEpKyIuIik7aWYoZSE9PU1hdGguZmxvb3IoZSkpdGhyb3cgbmV3IHNlKCJBcnJheSBpbmRleCBtdXN0IGJlIGFuIGludGVnZXIsIGJ1dCBmb3VuZCAiK2UrIiBpbnN0ZWFkLiIpO3JldHVybiByW2VdfSxvci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbmRleCksdCh0aGlzLmlucHV0KTt9LG9yLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxvci5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFsiYXQiLHRoaXMuaW5kZXguc2VyaWFsaXplKCksdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19O3ZhciBzcj1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1MdCx0aGlzLm5lZWRsZT10LHRoaXMuaGF5c3RhY2s9ZTt9O3NyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICIrKHQubGVuZ3RoLTEpKyIgaW5zdGVhZC4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxVdCksbj1lLnBhcnNlKHRbMl0sMixVdCk7cmV0dXJuIHImJm4/SnQoci50eXBlLFtMdCxEdCxGdCxWdCxVdF0pP25ldyBzcihyLG4pOmUuZXJyb3IoIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICIrR3Qoci50eXBlKSsiIGluc3RlYWQiKTpudWxsfSxzci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZWVkbGUuZXZhbHVhdGUodCkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKHQpO2lmKCFyKXJldHVybiAhMTtpZighSHQoZSxbImJvb2xlYW4iLCJzdHJpbmciLCJudW1iZXIiLCJudWxsIl0pKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgIitHdChpZShlKSkrIiBpbnN0ZWFkLiIpO2lmKCFIdChyLFsic3RyaW5nIiwiYXJyYXkiXSkpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAiK0d0KGllKHIpKSsiIGluc3RlYWQuIik7cmV0dXJuIHIuaW5kZXhPZihlKT49MH0sc3IucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMubmVlZGxlKSx0KHRoaXMuaGF5c3RhY2spO30sc3IucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LHNyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gWyJpbiIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19O3ZhciB1cj1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPUZ0LHRoaXMubmVlZGxlPXQsdGhpcy5oYXlzdGFjaz1lLHRoaXMuZnJvbUluZGV4PXI7fTt1ci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPD0yfHx0Lmxlbmd0aD49NSlyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICIrKHQubGVuZ3RoLTEpKyIgaW5zdGVhZC4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxVdCksbj1lLnBhcnNlKHRbMl0sMixVdCk7aWYoIXJ8fCFuKXJldHVybiBudWxsO2lmKCFKdChyLnR5cGUsW0x0LER0LEZ0LFZ0LFV0XSkpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICIrR3Qoci50eXBlKSsiIGluc3RlYWQiKTtpZig0PT09dC5sZW5ndGgpe3ZhciBpPWUucGFyc2UodFszXSwzLEZ0KTtyZXR1cm4gaT9uZXcgdXIocixuLGkpOm51bGx9cmV0dXJuIG5ldyB1cihyLG4pfSx1ci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZWVkbGUuZXZhbHVhdGUodCkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKHQpO2lmKCFIdChlLFsiYm9vbGVhbiIsInN0cmluZyIsIm51bWJlciIsIm51bGwiXSkpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAiK0d0KGllKGUpKSsiIGluc3RlYWQuIik7aWYoIUh0KHIsWyJzdHJpbmciLCJhcnJheSJdKSl0aHJvdyBuZXcgc2UoIkV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICIrR3QoaWUocikpKyIgaW5zdGVhZC4iKTtpZih0aGlzLmZyb21JbmRleCl7dmFyIG49dGhpcy5mcm9tSW5kZXguZXZhbHVhdGUodCk7cmV0dXJuIHIuaW5kZXhPZihlLG4pfXJldHVybiByLmluZGV4T2YoZSl9LHVyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLm5lZWRsZSksdCh0aGlzLmhheXN0YWNrKSx0aGlzLmZyb21JbmRleCYmdCh0aGlzLmZyb21JbmRleCk7fSx1ci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sdXIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZnJvbUluZGV4JiZ2b2lkIDAhPT10aGlzLmZyb21JbmRleCl7dmFyIHQ9dGhpcy5mcm9tSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFsiaW5kZXgtb2YiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCksdF19cmV0dXJuIFsiaW5kZXgtb2YiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfTt2YXIgbHI9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuaW5wdXRUeXBlPXQsdGhpcy50eXBlPWUsdGhpcy5pbnB1dD1yLHRoaXMuY2FzZXM9bix0aGlzLm91dHB1dHM9aSx0aGlzLm90aGVyd2lzZT1hO307bHIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw1KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgIisodC5sZW5ndGgtMSkrIi4iKTtpZih0Lmxlbmd0aCUyIT0xKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7dmFyIHIsbjtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihuPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIGk9e30sYT1bXSxvPTI7bzx0Lmxlbmd0aC0xO28rPTIpe3ZhciBzPXRbb10sdT10W28rMV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKTt2YXIgbD1lLmNvbmNhdChvKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGwuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuIik7Zm9yKHZhciBwPTAsYz1zO3A8Yy5sZW5ndGg7cCs9MSl7dmFyIGg9Y1twXTtpZigibnVtYmVyIiE9dHlwZW9mIGgmJiJzdHJpbmciIT10eXBlb2YgaClyZXR1cm4gbC5lcnJvcigiQnJhbmNoIGxhYmVscyBtdXN0IGJlIG51bWJlcnMgb3Igc3RyaW5ncy4iKTtpZigibnVtYmVyIj09dHlwZW9mIGgmJk1hdGguYWJzKGgpPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKXJldHVybiBsLmVycm9yKCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlcnMgbm8gbGFyZ2VyIHRoYW4gIitOdW1iZXIuTUFYX1NBRkVfSU5URUdFUisiLiIpO2lmKCJudW1iZXIiPT10eXBlb2YgaCYmTWF0aC5mbG9vcihoKSE9PWgpcmV0dXJuIGwuZXJyb3IoIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLiIpO2lmKHIpe2lmKGwuY2hlY2tTdWJ0eXBlKHIsaWUoaCkpKXJldHVybiBudWxsfWVsc2Ugcj1pZShoKTtpZih2b2lkIDAhPT1pW1N0cmluZyhoKV0pcmV0dXJuIGwuZXJyb3IoIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSB1bmlxdWUuIik7aVtTdHJpbmcoaCldPWEubGVuZ3RoO312YXIgZj1lLnBhcnNlKHUsbyxuKTtpZighZilyZXR1cm4gbnVsbDtuPW58fGYudHlwZSxhLnB1c2goZik7fXZhciB5PWUucGFyc2UodFsxXSwxLFV0KTtpZigheSlyZXR1cm4gbnVsbDt2YXIgZD1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxuKTtyZXR1cm4gZD8idmFsdWUiIT09eS50eXBlLmtpbmQmJmUuY29uY2F0KDEpLmNoZWNrU3VidHlwZShyLHkudHlwZSk/bnVsbDpuZXcgbHIocixuLHksaSxhLGQpOm51bGx9LGxyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO3JldHVybiAoaWUoZSk9PT10aGlzLmlucHV0VHlwZSYmdGhpcy5vdXRwdXRzW3RoaXMuY2FzZXNbZV1dfHx0aGlzLm90aGVyd2lzZSkuZXZhbHVhdGUodCl9LGxyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaCh0KSx0KHRoaXMub3RoZXJ3aXNlKTt9LGxyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3V0cHV0RGVmaW5lZCgpfSkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9LGxyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPVsibWF0Y2giLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLHI9W10sbj17fSxpPTAsYT1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCk7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO3ZvaWQgMD09PShjPW5bdGhpcy5jYXNlc1tvXV0pPyhuW3RoaXMuY2FzZXNbb11dPXIubGVuZ3RoLHIucHVzaChbdGhpcy5jYXNlc1tvXSxbb11dKSk6cltjXVsxXS5wdXNoKG8pO31mb3IodmFyIHM9ZnVuY3Rpb24oZSl7cmV0dXJuICJudW1iZXIiPT09dC5pbnB1dFR5cGUua2luZD9OdW1iZXIoZSk6ZX0sdT0wLGw9cjt1PGwubGVuZ3RoO3UrPTEpe3ZhciBwPWxbdV0sYz1wWzBdLGg9cFsxXTtlLnB1c2goMT09PWgubGVuZ3RoP3MoaFswXSk6aC5tYXAocykpLGUucHVzaCh0aGlzLm91dHB1dHNbb3V0cHV0SW5kZXgkMV0uc2VyaWFsaXplKCkpO31yZXR1cm4gZS5wdXNoKHRoaXMub3RoZXJ3aXNlLnNlcmlhbGl6ZSgpKSxlfTt2YXIgcHI9ZnVuY3Rpb24odCxlLHIpe3RoaXMudHlwZT10LHRoaXMuYnJhbmNoZXM9ZSx0aGlzLm90aGVyd2lzZT1yO307cHIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw0KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgIisodC5sZW5ndGgtMSkrIi4iKTtpZih0Lmxlbmd0aCUyIT0wKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBvZGQgbnVtYmVyIG9mIGFyZ3VtZW50cy4iKTt2YXIgcjtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihyPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIG49W10saT0xO2k8dC5sZW5ndGgtMTtpKz0yKXt2YXIgYT1lLnBhcnNlKHRbaV0saSxMdCk7aWYoIWEpcmV0dXJuIG51bGw7dmFyIG89ZS5wYXJzZSh0W2krMV0saSsxLHIpO2lmKCFvKXJldHVybiBudWxsO24ucHVzaChbYSxvXSkscj1yfHxvLnR5cGU7fXZhciBzPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLHIpO3JldHVybiBzP25ldyBwcihyLG4scyk6bnVsbH0scHIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5icmFuY2hlcztlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0saT1uWzFdO2lmKG5bMF0uZXZhbHVhdGUodCkpcmV0dXJuIGkuZXZhbHVhdGUodCl9cmV0dXJuIHRoaXMub3RoZXJ3aXNlLmV2YWx1YXRlKHQpfSxwci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5icmFuY2hlcztlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0saT1uWzFdO3QoblswXSksdChpKTt9dCh0aGlzLm90aGVyd2lzZSk7fSxwci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJyYW5jaGVzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXS5vdXRwdXREZWZpbmVkKCl9KSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX0scHIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVsiY2FzZSJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgY3I9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy50eXBlPXQsdGhpcy5pbnB1dD1lLHRoaXMuYmVnaW5JbmRleD1yLHRoaXMuZW5kSW5kZXg9bjt9O2Z1bmN0aW9uIGhyKHQsZSl7cmV0dXJuICI9PSI9PT10fHwiIT0iPT09dD8iYm9vbGVhbiI9PT1lLmtpbmR8fCJzdHJpbmciPT09ZS5raW5kfHwibnVtYmVyIj09PWUua2luZHx8Im51bGwiPT09ZS5raW5kfHwidmFsdWUiPT09ZS5raW5kOiJzdHJpbmciPT09ZS5raW5kfHwibnVtYmVyIj09PWUua2luZHx8InZhbHVlIj09PWUua2luZH1mdW5jdGlvbiBmcih0LGUscixuKXtyZXR1cm4gMD09PW4uY29tcGFyZShlLHIpfWZ1bmN0aW9uIHlyKHQsZSxyKXt2YXIgbj0iPT0iIT09dCYmIiE9IiE9PXQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSh0LGUscil7dGhpcy50eXBlPUx0LHRoaXMubGhzPXQsdGhpcy5yaHM9ZSx0aGlzLmNvbGxhdG9yPXIsdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQ9InZhbHVlIj09PXQudHlwZS5raW5kfHwidmFsdWUiPT09ZS50eXBlLmtpbmQ7fXJldHVybiBpLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoJiY0IT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIHR3byBvciB0aHJlZSBhcmd1bWVudHMuIik7dmFyIHI9dFswXSxhPWUucGFyc2UodFsxXSwxLFV0KTtpZighYSlyZXR1cm4gbnVsbDtpZighaHIocixhLnR5cGUpKXJldHVybiBlLmNvbmNhdCgxKS5lcnJvcignIicrcisiXCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyIrR3QoYS50eXBlKSsiJy4iKTt2YXIgbz1lLnBhcnNlKHRbMl0sMixVdCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoIWhyKHIsby50eXBlKSlyZXR1cm4gZS5jb25jYXQoMikuZXJyb3IoJyInK3IrIlwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICciK0d0KG8udHlwZSkrIicuIik7aWYoYS50eXBlLmtpbmQhPT1vLnR5cGUua2luZCYmInZhbHVlIiE9PWEudHlwZS5raW5kJiYidmFsdWUiIT09by50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoIkNhbm5vdCBjb21wYXJlIHR5cGVzICciK0d0KGEudHlwZSkrIicgYW5kICciK0d0KG8udHlwZSkrIicuIik7biYmKCJ2YWx1ZSI9PT1hLnR5cGUua2luZCYmInZhbHVlIiE9PW8udHlwZS5raW5kP2E9bmV3IGxlKG8udHlwZSxbYV0pOiJ2YWx1ZSIhPT1hLnR5cGUua2luZCYmInZhbHVlIj09PW8udHlwZS5raW5kJiYobz1uZXcgbGUoYS50eXBlLFtvXSkpKTt2YXIgcz1udWxsO2lmKDQ9PT10Lmxlbmd0aCl7aWYoInN0cmluZyIhPT1hLnR5cGUua2luZCYmInN0cmluZyIhPT1vLnR5cGUua2luZCYmInZhbHVlIiE9PWEudHlwZS5raW5kJiYidmFsdWUiIT09by50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoIkNhbm5vdCB1c2UgY29sbGF0b3IgdG8gY29tcGFyZSBub24tc3RyaW5nIHR5cGVzLiIpO2lmKCEocz1lLnBhcnNlKHRbM10sMyxqdCkpKXJldHVybiBudWxsfXJldHVybiBuZXcgaShhLG8scyl9LGkucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKGkpe3ZhciBhPXRoaXMubGhzLmV2YWx1YXRlKGkpLG89dGhpcy5yaHMuZXZhbHVhdGUoaSk7aWYobiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe3ZhciBzPWllKGEpLHU9aWUobyk7aWYocy5raW5kIT09dS5raW5kfHwic3RyaW5nIiE9PXMua2luZCYmIm51bWJlciIhPT1zLmtpbmQpdGhyb3cgbmV3IHNlKCdFeHBlY3RlZCBhcmd1bWVudHMgZm9yICInK3QrJyIgdG8gYmUgKHN0cmluZywgc3RyaW5nKSBvciAobnVtYmVyLCBudW1iZXIpLCBidXQgZm91bmQgKCcrcy5raW5kKyIsICIrdS5raW5kKyIpIGluc3RlYWQuIil9aWYodGhpcy5jb2xsYXRvciYmIW4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXt2YXIgbD1pZShhKSxwPWllKG8pO2lmKCJzdHJpbmciIT09bC5raW5kfHwic3RyaW5nIiE9PXAua2luZClyZXR1cm4gZShpLGEsbyl9cmV0dXJuIHRoaXMuY29sbGF0b3I/cihpLGEsbyx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKGkpKTplKGksYSxvKX0saS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5saHMpLHQodGhpcy5yaHMpLHRoaXMuY29sbGF0b3ImJnQodGhpcy5jb2xsYXRvcik7fSxpLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT1bdF07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChmdW5jdGlvbih0KXtlLnB1c2godC5zZXJpYWxpemUoKSk7fSkpLGV9LGl9KCl9Y3IucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw9Mnx8dC5sZW5ndGg+PTUpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsVXQpLG49ZS5wYXJzZSh0WzJdLDIsRnQpO2lmKCFyfHwhbilyZXR1cm4gbnVsbDtpZighSnQoci50eXBlLFtLdChVdCksRHQsVXRdKSlyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAiK0d0KHIudHlwZSkrIiBpbnN0ZWFkIik7aWYoND09PXQubGVuZ3RoKXt2YXIgaT1lLnBhcnNlKHRbM10sMyxGdCk7cmV0dXJuIGk/bmV3IGNyKHIudHlwZSxyLG4saSk6bnVsbH1yZXR1cm4gbmV3IGNyKHIudHlwZSxyLG4pfSxjci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KSxyPXRoaXMuYmVnaW5JbmRleC5ldmFsdWF0ZSh0KTtpZighSHQoZSxbInN0cmluZyIsImFycmF5Il0pKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAiK0d0KGllKGUpKSsiIGluc3RlYWQuIik7aWYodGhpcy5lbmRJbmRleCl7dmFyIG49dGhpcy5lbmRJbmRleC5ldmFsdWF0ZSh0KTtyZXR1cm4gZS5zbGljZShyLG4pfXJldHVybiBlLnNsaWNlKHIpfSxjci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5pbnB1dCksdCh0aGlzLmJlZ2luSW5kZXgpLHRoaXMuZW5kSW5kZXgmJnQodGhpcy5lbmRJbmRleCk7fSxjci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sY3IucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZW5kSW5kZXgmJnZvaWQgMCE9PXRoaXMuZW5kSW5kZXgpe3ZhciB0PXRoaXMuZW5kSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFsic2xpY2UiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpLHRdfXJldHVybiBbInNsaWNlIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKV19O3ZhciBkcj15cigiPT0iLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU9PT1yfSksZnIpLG1yPXlyKCIhPSIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZSE9PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuICFmcigwLGUscixuKX0pKSx2cj15cigiPCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZTxyfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTwwfSkpLGdyPXlyKCI+IiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPnJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPjB9KSkseHI9eXIoIjw9IiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPD1yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTw9MH0pKSxicj15cigiPj0iLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU+PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPj0wfSkpLHdyPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy50eXBlPUR0LHRoaXMubnVtYmVyPXQsdGhpcy5sb2NhbGU9ZSx0aGlzLmN1cnJlbmN5PXIsdGhpcy5taW5GcmFjdGlvbkRpZ2l0cz1uLHRoaXMubWF4RnJhY3Rpb25EaWdpdHM9aTt9O3dyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLiIpO3ZhciByPWUucGFyc2UodFsxXSwxLEZ0KTtpZighcilyZXR1cm4gbnVsbDt2YXIgbj10WzJdO2lmKCJvYmplY3QiIT10eXBlb2Ygbnx8QXJyYXkuaXNBcnJheShuKSlyZXR1cm4gZS5lcnJvcigiTnVtYmVyRm9ybWF0IG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuIik7dmFyIGk9bnVsbDtpZihuLmxvY2FsZSYmIShpPWUucGFyc2Uobi5sb2NhbGUsMSxEdCkpKXJldHVybiBudWxsO3ZhciBhPW51bGw7aWYobi5jdXJyZW5jeSYmIShhPWUucGFyc2Uobi5jdXJyZW5jeSwxLER0KSkpcmV0dXJuIG51bGw7dmFyIG89bnVsbDtpZihuWyJtaW4tZnJhY3Rpb24tZGlnaXRzIl0mJiEobz1lLnBhcnNlKG5bIm1pbi1mcmFjdGlvbi1kaWdpdHMiXSwxLEZ0KSkpcmV0dXJuIG51bGw7dmFyIHM9bnVsbDtyZXR1cm4gblsibWF4LWZyYWN0aW9uLWRpZ2l0cyJdJiYhKHM9ZS5wYXJzZShuWyJtYXgtZnJhY3Rpb24tZGlnaXRzIl0sMSxGdCkpP251bGw6bmV3IHdyKHIsaSxhLG8scyl9LHdyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOltdLHtzdHlsZTp0aGlzLmN1cnJlbmN5PyJjdXJyZW5jeSI6ImRlY2ltYWwiLGN1cnJlbmN5OnRoaXMuY3VycmVuY3k/dGhpcy5jdXJyZW5jeS5ldmFsdWF0ZSh0KTp2b2lkIDAsbWluaW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWluRnJhY3Rpb25EaWdpdHM/dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDAsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWF4RnJhY3Rpb25EaWdpdHM/dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDB9KS5mb3JtYXQodGhpcy5udW1iZXIuZXZhbHVhdGUodCkpfSx3ci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5udW1iZXIpLHRoaXMubG9jYWxlJiZ0KHRoaXMubG9jYWxlKSx0aGlzLmN1cnJlbmN5JiZ0KHRoaXMuY3VycmVuY3kpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJnQodGhpcy5taW5GcmFjdGlvbkRpZ2l0cyksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmdCh0aGlzLm1heEZyYWN0aW9uRGlnaXRzKTt9LHdyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSx3ci5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRoaXMubG9jYWxlJiYodC5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLHRoaXMuY3VycmVuY3kmJih0LmN1cnJlbmN5PXRoaXMuY3VycmVuY3kuc2VyaWFsaXplKCkpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJih0WyJtaW4tZnJhY3Rpb24tZGlnaXRzIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKHRbIm1heC1mcmFjdGlvbi1kaWdpdHMiXT10aGlzLm1heEZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSxbIm51bWJlci1mb3JtYXQiLHRoaXMubnVtYmVyLnNlcmlhbGl6ZSgpLHRdfTt2YXIgX3I9ZnVuY3Rpb24odCl7dGhpcy50eXBlPUZ0LHRoaXMuaW5wdXQ9dDt9O19yLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCAxIGFyZ3VtZW50LCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO3ZhciByPWUucGFyc2UodFsxXSwxKTtyZXR1cm4gcj8iYXJyYXkiIT09ci50eXBlLmtpbmQmJiJzdHJpbmciIT09ci50eXBlLmtpbmQmJiJ2YWx1ZSIhPT1yLnR5cGUua2luZD9lLmVycm9yKCJFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICIrR3Qoci50eXBlKSsiIGluc3RlYWQuIik6bmV3IF9yKHIpOm51bGx9LF9yLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZS5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5sZW5ndGg7dGhyb3cgbmV3IHNlKCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICIrR3QoaWUoZSkpKyIgaW5zdGVhZC4iKX0sX3IucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO30sX3IucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LF9yLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bImxlbmd0aCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgQXI9eyI9PSI6ZHIsIiE9IjptciwiPiI6Z3IsIjwiOnZyLCI+PSI6YnIsIjw9Ijp4cixhcnJheTpsZSxhdDpvcixib29sZWFuOmxlLGNhc2U6cHIsY29hbGVzY2U6aXIsY29sbGF0b3I6dmUsZm9ybWF0OnBlLGltYWdlOmNlLGluOnNyLCJpbmRleC1vZiI6dXIsaW50ZXJwb2xhdGU6cnIsImludGVycG9sYXRlLWhjbCI6cnIsImludGVycG9sYXRlLWxhYiI6cnIsbGVuZ3RoOl9yLGxldDphcixsaXRlcmFsOm9lLG1hdGNoOmxyLG51bWJlcjpsZSwibnVtYmVyLWZvcm1hdCI6d3Isb2JqZWN0OmxlLHNsaWNlOmNyLHN0ZXA6VWUsc3RyaW5nOmxlLCJ0by1ib29sZWFuIjpmZSwidG8tY29sb3IiOmZlLCJ0by1udW1iZXIiOmZlLCJ0by1zdHJpbmciOmZlLHZhcjpMZSx3aXRoaW46QmV9O2Z1bmN0aW9uIFNyKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXTtyPXIuZXZhbHVhdGUodCksbj1uLmV2YWx1YXRlKHQpLGk9aS5ldmFsdWF0ZSh0KTt2YXIgbz1hP2EuZXZhbHVhdGUodCk6MSxzPXJlKHIsbixpLG8pO2lmKHMpdGhyb3cgbmV3IHNlKHMpO3JldHVybiBuZXcgJHQoci8yNTUqbyxuLzI1NSpvLGkvMjU1Km8sbyl9ZnVuY3Rpb24ga3IodCxlKXtyZXR1cm4gdCBpbiBlfWZ1bmN0aW9uIElyKHQsZSl7dmFyIHI9ZVt0XTtyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJ9ZnVuY3Rpb24genIodCl7cmV0dXJuIHt0eXBlOnR9fWZ1bmN0aW9uIENyKHQpe3JldHVybiB7cmVzdWx0OiJzdWNjZXNzIix2YWx1ZTp0fX1mdW5jdGlvbiBNcih0KXtyZXR1cm4ge3Jlc3VsdDoiZXJyb3IiLHZhbHVlOnR9fWZ1bmN0aW9uIEVyKHQpe3JldHVybiAiZGF0YS1kcml2ZW4iPT09dFsicHJvcGVydHktdHlwZSJdfHwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iPT09dFsicHJvcGVydHktdHlwZSJdfWZ1bmN0aW9uIFRyKHQpe3JldHVybiAhIXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLnBhcmFtZXRlcnMuaW5kZXhPZigiem9vbSIpPi0xfWZ1bmN0aW9uIFByKHQpe3JldHVybiAhIXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBCcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcj8ibnVtYmVyIjp0IGluc3RhbmNlb2YgU3RyaW5nPyJzdHJpbmciOnQgaW5zdGFuY2VvZiBCb29sZWFuPyJib29sZWFuIjpBcnJheS5pc0FycmF5KHQpPyJhcnJheSI6bnVsbD09PXQ/Im51bGwiOnR5cGVvZiB0fWZ1bmN0aW9uIFZyKHQpe3JldHVybiAib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPT10JiYhQXJyYXkuaXNBcnJheSh0KX1mdW5jdGlvbiBGcih0KXtyZXR1cm4gdH1mdW5jdGlvbiBEcih0LGUscil7cmV0dXJuIHZvaWQgMCE9PXQ/dDp2b2lkIDAhPT1lP2U6dm9pZCAwIT09cj9yOnZvaWQgMH1mdW5jdGlvbiBMcih0LGUscixuLGkpe3JldHVybiBEcih0eXBlb2Ygcj09PWk/bltyXTp2b2lkIDAsdC5kZWZhdWx0LGUuZGVmYXVsdCl9ZnVuY3Rpb24gUnIodCxlLHIpe2lmKCJudW1iZXIiIT09QnIocikpcmV0dXJuIERyKHQuZGVmYXVsdCxlLmRlZmF1bHQpO3ZhciBuPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI8PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocj49dC5zdG9wc1tuLTFdWzBdKXJldHVybiB0LnN0b3BzW24tMV1bMV07dmFyIGk9T2UodC5zdG9wcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLHIpO3JldHVybiB0LnN0b3BzW2ldWzFdfWZ1bmN0aW9uIE9yKHQsZSxyKXt2YXIgbj12b2lkIDAhPT10LmJhc2U/dC5iYXNlOjE7aWYoIm51bWJlciIhPT1CcihyKSlyZXR1cm4gRHIodC5kZWZhdWx0LGUuZGVmYXVsdCk7dmFyIGk9dC5zdG9wcy5sZW5ndGg7aWYoMT09PWkpcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocjw9dC5zdG9wc1swXVswXSlyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPj10LnN0b3BzW2ktMV1bMF0pcmV0dXJuIHQuc3RvcHNbaS0xXVsxXTt2YXIgYT1PZSh0LnN0b3BzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksciksbz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1uLXIsYT10LXI7cmV0dXJuIDA9PT1pPzA6MT09PWU/YS9pOihNYXRoLnBvdyhlLGEpLTEpLyhNYXRoLnBvdyhlLGkpLTEpfShyLG4sdC5zdG9wc1thXVswXSx0LnN0b3BzW2ErMV1bMF0pLHM9dC5zdG9wc1thXVsxXSx1PXQuc3RvcHNbYSsxXVsxXSxsPXFlW2UudHlwZV18fEZyO2lmKHQuY29sb3JTcGFjZSYmInJnYiIhPT10LmNvbG9yU3BhY2Upe3ZhciBwPWVyW3QuY29sb3JTcGFjZV07bD1mdW5jdGlvbih0LGUpe3JldHVybiBwLnJldmVyc2UocC5pbnRlcnBvbGF0ZShwLmZvcndhcmQodCkscC5mb3J3YXJkKGUpLG8pKX07fXJldHVybiAiZnVuY3Rpb24iPT10eXBlb2Ygcy5ldmFsdWF0ZT97ZXZhbHVhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT1hcmd1bWVudHMubGVuZ3RoO2UtLTspdFtlXT1hcmd1bWVudHNbZV07dmFyIHI9cy5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsdCksbj11LmV2YWx1YXRlLmFwcGx5KHZvaWQgMCx0KTtpZih2b2lkIDAhPT1yJiZ2b2lkIDAhPT1uKXJldHVybiBsKHIsbixvKX19Omwocyx1LG8pfWZ1bmN0aW9uIFVyKHQsZSxyKXtyZXR1cm4gImNvbG9yIj09PWUudHlwZT9yPSR0LnBhcnNlKHIpOiJmb3JtYXR0ZWQiPT09ZS50eXBlP3I9dGUuZnJvbVN0cmluZyhyLnRvU3RyaW5nKCkpOiJyZXNvbHZlZEltYWdlIj09PWUudHlwZT9yPWVlLmZyb21TdHJpbmcoci50b1N0cmluZygpKTpCcihyKT09PWUudHlwZXx8ImVudW0iPT09ZS50eXBlJiZlLnZhbHVlc1tyXXx8KHI9dm9pZCAwKSxEcihyLHQuZGVmYXVsdCxlLmRlZmF1bHQpfW1lLnJlZ2lzdGVyKEFyLHtlcnJvcjpbe2tpbmQ6ImVycm9yIn0sW0R0XSxmdW5jdGlvbih0LGUpe3Rocm93IG5ldyBzZShlWzBdLmV2YWx1YXRlKHQpKX1dLHR5cGVvZjpbRHQsW1V0XSxmdW5jdGlvbih0LGUpe3JldHVybiBHdChpZShlWzBdLmV2YWx1YXRlKHQpKSl9XSwidG8tcmdiYSI6W0t0KEZ0LDQpLFtSdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS50b0FycmF5KCl9XSxyZ2I6W1J0LFtGdCxGdCxGdF0sU3JdLHJnYmE6W1J0LFtGdCxGdCxGdCxGdF0sU3JdLGhhczp7dHlwZTpMdCxvdmVybG9hZHM6W1tbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGtyKGVbMF0uZXZhbHVhdGUodCksdC5wcm9wZXJ0aWVzKCkpfV0sW1tEdCxPdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzFdO3JldHVybiBrcihlWzBdLmV2YWx1YXRlKHQpLHIuZXZhbHVhdGUodCkpfV1dfSxnZXQ6e3R5cGU6VXQsb3ZlcmxvYWRzOltbW0R0XSxmdW5jdGlvbih0LGUpe3JldHVybiBJcihlWzBdLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKX1dLFtbRHQsT3RdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gSXIoZVswXS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKX1dXX0sImZlYXR1cmUtc3RhdGUiOltVdCxbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIElyKGVbMF0uZXZhbHVhdGUodCksdC5mZWF0dXJlU3RhdGV8fHt9KX1dLHByb3BlcnRpZXM6W090LFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BlcnRpZXMoKX1dLCJnZW9tZXRyeS10eXBlIjpbRHQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnlUeXBlKCl9XSxpZDpbVXQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQoKX1dLHpvb206W0Z0LFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdsb2JhbHMuem9vbX1dLCJoZWF0bWFwLWRlbnNpdHkiOltGdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nbG9iYWxzLmhlYXRtYXBEZW5zaXR5fHwwfV0sImxpbmUtcHJvZ3Jlc3MiOltGdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nbG9iYWxzLmxpbmVQcm9ncmVzc3x8MH1dLGFjY3VtdWxhdGVkOltVdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dC5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6dC5nbG9iYWxzLmFjY3VtdWxhdGVkfV0sIisiOltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPTAsaT1lO248aS5sZW5ndGg7bis9MSlyKz1pW25dLmV2YWx1YXRlKHQpO3JldHVybiByfV0sIioiOltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MSxuPTAsaT1lO248aS5sZW5ndGg7bis9MSlyKj1pW25dLmV2YWx1YXRlKHQpO3JldHVybiByfV0sIi0iOnt0eXBlOkZ0LG92ZXJsb2FkczpbW1tGdCxGdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzFdO3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLXIuZXZhbHVhdGUodCl9XSxbW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiAtZVswXS5ldmFsdWF0ZSh0KX1dXX0sIi8iOltGdCxbRnQsRnRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS9yLmV2YWx1YXRlKHQpfV0sIiUiOltGdCxbRnQsRnRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KSVyLmV2YWx1YXRlKHQpfV0sbG4yOltGdCxbXSxmdW5jdGlvbigpe3JldHVybiBNYXRoLkxOMn1dLHBpOltGdCxbXSxmdW5jdGlvbigpe3JldHVybiBNYXRoLlBJfV0sZTpbRnQsW10sZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5FfV0sIl4iOltGdCxbRnQsRnRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gTWF0aC5wb3coZVswXS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKX1dLHNxcnQ6W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5zcXJ0KGVbMF0uZXZhbHVhdGUodCkpfV0sbG9nMTA6W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5sb2coZVswXS5ldmFsdWF0ZSh0KSkvTWF0aC5MTjEwfV0sbG46W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5sb2coZVswXS5ldmFsdWF0ZSh0KSl9XSxsb2cyOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubG9nKGVbMF0uZXZhbHVhdGUodCkpL01hdGguTE4yfV0sc2luOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc2luKGVbMF0uZXZhbHVhdGUodCkpfV0sY29zOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguY29zKGVbMF0uZXZhbHVhdGUodCkpfV0sdGFuOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgudGFuKGVbMF0uZXZhbHVhdGUodCkpfV0sYXNpbjpbRnQsW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFzaW4oZVswXS5ldmFsdWF0ZSh0KSl9XSxhY29zOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWNvcyhlWzBdLmV2YWx1YXRlKHQpKX1dLGF0YW46W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuKGVbMF0uZXZhbHVhdGUodCkpfV0sbWluOltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZhbHVhdGUodCl9KSkpfV0sbWF4OltGdCx6cihGdCksZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZhbHVhdGUodCl9KSkpfV0sYWJzOltGdCxbRnRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWJzKGVbMF0uZXZhbHVhdGUodCkpfV0scm91bmQ6W0Z0LFtGdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLmV2YWx1YXRlKHQpO3JldHVybiByPDA/LU1hdGgucm91bmQoLXIpOk1hdGgucm91bmQocil9XSxmbG9vcjpbRnQsW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmZsb29yKGVbMF0uZXZhbHVhdGUodCkpfV0sY2VpbDpbRnQsW0Z0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmNlaWwoZVswXS5ldmFsdWF0ZSh0KSl9XSwiZmlsdGVyLT09IjpbTHQsW0R0LFV0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiB0LnByb3BlcnRpZXMoKVtyLnZhbHVlXT09PW4udmFsdWV9XSwiZmlsdGVyLWlkLT09IjpbTHQsW1V0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIHQuaWQoKT09PXIudmFsdWV9XSwiZmlsdGVyLXR5cGUtPT0iOltMdCxbRHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gdC5nZW9tZXRyeVR5cGUoKT09PXIudmFsdWV9XSwiZmlsdGVyLTwiOltMdCxbRHQsVXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT10LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxhPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgYSYmaTxhfV0sImZpbHRlci1pZC08IjpbTHQsW1V0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10LmlkKCksaT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48aX1dLCJmaWx0ZXItPiI6W0x0LFtEdCxVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPmF9XSwiZmlsdGVyLWlkLT4iOltMdCxbVXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPXQuaWQoKSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbj5pfV0sImZpbHRlci08PSI6W0x0LFtEdCxVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPD1hfV0sImZpbHRlci1pZC08PSI6W0x0LFtVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49dC5pZCgpLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPD1pfV0sImZpbHRlci0+PSI6W0x0LFtEdCxVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPj1hfV0sImZpbHRlci1pZC0+PSI6W0x0LFtVdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49dC5pZCgpLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPj1pfV0sImZpbHRlci1oYXMiOltMdCxbVXRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0udmFsdWUgaW4gdC5wcm9wZXJ0aWVzKCl9XSwiZmlsdGVyLWhhcy1pZCI6W0x0LFtdLGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dC5pZCgpJiZ2b2lkIDAhPT10LmlkKCl9XSwiZmlsdGVyLXR5cGUtaW4iOltMdCxbS3QoRHQpXSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLnZhbHVlLmluZGV4T2YodC5nZW9tZXRyeVR5cGUoKSk+PTB9XSwiZmlsdGVyLWlkLWluIjpbTHQsW0t0KFV0KV0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS52YWx1ZS5pbmRleE9mKHQuaWQoKSk+PTB9XSwiZmlsdGVyLWluLXNtYWxsIjpbTHQsW0R0LEt0KFV0KV0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdO3JldHVybiBlWzFdLnZhbHVlLmluZGV4T2YodC5wcm9wZXJ0aWVzKClbci52YWx1ZV0pPj0wfV0sImZpbHRlci1pbi1sYXJnZSI6W0x0LFtEdCxLdChVdCldLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV07cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLG4pe2Zvcig7cjw9bjspe3ZhciBpPXIrbj4+MTtpZihlW2ldPT09dClyZXR1cm4gITA7ZVtpXT50P249aS0xOnI9aSsxO31yZXR1cm4gITF9KHQucHJvcGVydGllcygpW3IudmFsdWVdLG4udmFsdWUsMCxuLnZhbHVlLmxlbmd0aC0xKX1dLGFsbDp7dHlwZTpMdCxvdmVybG9hZHM6W1tbTHQsTHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KSYmci5ldmFsdWF0ZSh0KX1dLFt6cihMdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKWlmKCFuW3JdLmV2YWx1YXRlKHQpKXJldHVybiAhMTtyZXR1cm4gITB9XV19LGFueTp7dHlwZTpMdCxvdmVybG9hZHM6W1tbTHQsTHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KXx8ci5ldmFsdWF0ZSh0KX1dLFt6cihMdCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKWlmKG5bcl0uZXZhbHVhdGUodCkpcmV0dXJuICEwO3JldHVybiAhMX1dXX0sIiEiOltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuICFlWzBdLmV2YWx1YXRlKHQpfV0sImlzLXN1cHBvcnRlZC1zY3JpcHQiOltMdCxbRHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5nbG9iYWxzJiZ0Lmdsb2JhbHMuaXNTdXBwb3J0ZWRTY3JpcHQ7cmV0dXJuICFyfHxyKGVbMF0uZXZhbHVhdGUodCkpfV0sdXBjYXNlOltEdCxbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkudG9VcHBlckNhc2UoKX1dLGRvd25jYXNlOltEdCxbRHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkudG9Mb3dlckNhc2UoKX1dLGNvbmNhdDpbRHQsenIoVXQpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYWUoZS5ldmFsdWF0ZSh0KSl9KSkuam9pbigiIil9XSwicmVzb2x2ZWQtbG9jYWxlIjpbRHQsW2p0XSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLnJlc29sdmVkTG9jYWxlKCl9XX0pO3ZhciBqcj1mdW5jdGlvbih0LGUpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMuX3dhcm5pbmdIaXN0b3J5PXt9LHRoaXMuX2V2YWx1YXRvcj1uZXcgZGUsdGhpcy5fZGVmYXVsdFZhbHVlPWU/ZnVuY3Rpb24odCl7cmV0dXJuICJjb2xvciI9PT10LnR5cGUmJlZyKHQuZGVmYXVsdCk/bmV3ICR0KDAsMCwwLDApOiJjb2xvciI9PT10LnR5cGU/JHQucGFyc2UodC5kZWZhdWx0KXx8bnVsbDp2b2lkIDA9PT10LmRlZmF1bHQ/bnVsbDp0LmRlZmF1bHR9KGUpOm51bGwsdGhpcy5fZW51bVZhbHVlcz1lJiYiZW51bSI9PT1lLnR5cGU/ZS52YWx1ZXM6bnVsbDt9O2Z1bmN0aW9uIHFyKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wJiYic3RyaW5nIj09dHlwZW9mIHRbMF0mJnRbMF1pbiBBcn1mdW5jdGlvbiBOcih0LGUpe3ZhciByPW5ldyBSZShBcixbXSxlP2Z1bmN0aW9uKHQpe3ZhciBlPXtjb2xvcjpSdCxzdHJpbmc6RHQsbnVtYmVyOkZ0LGVudW06RHQsYm9vbGVhbjpMdCxmb3JtYXR0ZWQ6cXQscmVzb2x2ZWRJbWFnZTpOdH07cmV0dXJuICJhcnJheSI9PT10LnR5cGU/S3QoZVt0LnZhbHVlXXx8VXQsdC5sZW5ndGgpOmVbdC50eXBlXX0oZSk6dm9pZCAwKSxuPXIucGFyc2UodCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlJiYic3RyaW5nIj09PWUudHlwZT97dHlwZUFubm90YXRpb246ImNvZXJjZSJ9OnZvaWQgMCk7cmV0dXJuIG4/Q3IobmV3IGpyKG4sZSkpOk1yKHIuZXJyb3JzKX1qci5wcm90b3R5cGUuZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZz1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXIsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1uLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1hLHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpfSxqci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1uLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1hfHxudWxsO3RyeXt2YXIgbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKTtpZihudWxsPT1vfHwibnVtYmVyIj09dHlwZW9mIG8mJm8hPW8pcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtpZih0aGlzLl9lbnVtVmFsdWVzJiYhKG8gaW4gdGhpcy5fZW51bVZhbHVlcykpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgIitPYmplY3Qua2V5cyh0aGlzLl9lbnVtVmFsdWVzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0pKS5qb2luKCIsICIpKyIsIGJ1dCBmb3VuZCAiK0pTT04uc3RyaW5naWZ5KG8pKyIgaW5zdGVhZC4iKTtyZXR1cm4gb31jYXRjaCh0KXtyZXR1cm4gdGhpcy5fd2FybmluZ0hpc3RvcnlbdC5tZXNzYWdlXXx8KHRoaXMuX3dhcm5pbmdIaXN0b3J5W3QubWVzc2FnZV09ITAsInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4odC5tZXNzYWdlKSksdGhpcy5fZGVmYXVsdFZhbHVlfX07dmFyIEtyPWZ1bmN0aW9uKHQsZSl7dGhpcy5raW5kPXQsdGhpcy5fc3R5bGVFeHByZXNzaW9uPWUsdGhpcy5pc1N0YXRlRGVwZW5kZW50PSJjb25zdGFudCIhPT10JiYhRmUoZS5leHByZXNzaW9uKTt9O0tyLnByb3RvdHlwZS5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIsbixpLGEpfSxLci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUodCxlLHIsbixpLGEpfTt2YXIgR3I9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5raW5kPXQsdGhpcy56b29tU3RvcHM9cix0aGlzLl9zdHlsZUV4cHJlc3Npb249ZSx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9ImNhbWVyYSIhPT10JiYhRmUoZS5leHByZXNzaW9uKSx0aGlzLmludGVycG9sYXRpb25UeXBlPW47fTtmdW5jdGlvbiBacih0LGUpe2lmKCJlcnJvciI9PT0odD1Ocih0LGUpKS5yZXN1bHQpcmV0dXJuIHQ7dmFyIHI9dC52YWx1ZS5leHByZXNzaW9uLG49VmUocik7aWYoIW4mJiFFcihlKSlyZXR1cm4gTXIoW25ldyBQdCgiIiwiZGF0YSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkIildKTt2YXIgaT1EZShyLFsiem9vbSJdKTtpZighaSYmIVRyKGUpKXJldHVybiBNcihbbmV3IFB0KCIiLCJ6b29tIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWQiKV0pO3ZhciBhPWZ1bmN0aW9uIHQoZSl7dmFyIHI9bnVsbDtpZihlIGluc3RhbmNlb2YgYXIpcj10KGUucmVzdWx0KTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBpcilmb3IodmFyIG49MCxpPWUuYXJncztuPGkubGVuZ3RoJiYhKHI9dChpW25dKSk7bis9MSk7ZWxzZSAoZSBpbnN0YW5jZW9mIFVlfHxlIGluc3RhbmNlb2YgcnIpJiZlLmlucHV0IGluc3RhbmNlb2YgbWUmJiJ6b29tIj09PWUuaW5wdXQubmFtZSYmKHI9ZSk7cmV0dXJuIHIgaW5zdGFuY2VvZiBQdHx8ZS5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGUpe3ZhciBuPXQoZSk7biBpbnN0YW5jZW9mIFB0P3I9bjohciYmbj9yPW5ldyBQdCgiIiwnInpvb20iIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCAic3RlcCIgb3IgImludGVycG9sYXRlIiBleHByZXNzaW9uLicpOnImJm4mJnIhPT1uJiYocj1uZXcgUHQoIiIsJ09ubHkgb25lIHpvb20tYmFzZWQgInN0ZXAiIG9yICJpbnRlcnBvbGF0ZSIgc3ViZXhwcmVzc2lvbiBtYXkgYmUgdXNlZCBpbiBhbiBleHByZXNzaW9uLicpKTt9KSkscn0ocik7cmV0dXJuIGF8fGk/YSBpbnN0YW5jZW9mIFB0P01yKFthXSk6YSBpbnN0YW5jZW9mIHJyJiYhUHIoZSk/TXIoW25ldyBQdCgiIiwnImludGVycG9sYXRlIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOkNyKGE/bmV3IEdyKG4/ImNhbWVyYSI6ImNvbXBvc2l0ZSIsdC52YWx1ZSxhLmxhYmVscyxhIGluc3RhbmNlb2YgcnI/YS5pbnRlcnBvbGF0aW9uOnZvaWQgMCk6bmV3IEtyKG4/ImNvbnN0YW50Ijoic291cmNlIix0LnZhbHVlKSk6TXIoW25ldyBQdCgiIiwnInpvb20iIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCAic3RlcCIgb3IgImludGVycG9sYXRlIiBleHByZXNzaW9uLicpXSl9R3IucHJvdG90eXBlLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmc9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGksYSl9LEdyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZSh0LGUscixuLGksYSl9LEdyLnByb3RvdHlwZS5pbnRlcnBvbGF0aW9uRmFjdG9yPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT9yci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvblR5cGUsdCxlLHIpOjB9O3ZhciBYcj1mdW5jdGlvbih0LGUpe3RoaXMuX3BhcmFtZXRlcnM9dCx0aGlzLl9zcGVjaWZpY2F0aW9uPWUsTXQodGhpcyxmdW5jdGlvbiB0KGUscil7dmFyIG4saSxhLG89ImNvbG9yIj09PXIudHlwZSxzPWUuc3RvcHMmJiJvYmplY3QiPT10eXBlb2YgZS5zdG9wc1swXVswXSx1PXN8fCEoc3x8dm9pZCAwIT09ZS5wcm9wZXJ0eSksbD1lLnR5cGV8fChQcihyKT8iZXhwb25lbnRpYWwiOiJpbnRlcnZhbCIpO2lmKG8mJigoZT1NdCh7fSxlKSkuc3RvcHMmJihlLnN0b3BzPWUuc3RvcHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gW3RbMF0sJHQucGFyc2UodFsxXSldfSkpKSxlLmRlZmF1bHQ9JHQucGFyc2UoZS5kZWZhdWx0P2UuZGVmYXVsdDpyLmRlZmF1bHQpKSxlLmNvbG9yU3BhY2UmJiJyZ2IiIT09ZS5jb2xvclNwYWNlJiYhZXJbZS5jb2xvclNwYWNlXSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gY29sb3Igc3BhY2U6ICIrZS5jb2xvclNwYWNlKTtpZigiZXhwb25lbnRpYWwiPT09bCluPU9yO2Vsc2UgaWYoImludGVydmFsIj09PWwpbj1ScjtlbHNlIGlmKCJjYXRlZ29yaWNhbCI9PT1sKXtuPUxyLGk9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHA9MCxjPWUuc3RvcHM7cDxjLmxlbmd0aDtwKz0xKXt2YXIgaD1jW3BdO2lbaFswXV09aFsxXTt9YT10eXBlb2YgZS5zdG9wc1swXVswXTt9ZWxzZSB7aWYoImlkZW50aXR5IiE9PWwpdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGZ1bmN0aW9uIHR5cGUgIicrbCsnIicpO249VXI7fWlmKHMpe2Zvcih2YXIgZj17fSx5PVtdLGQ9MDtkPGUuc3RvcHMubGVuZ3RoO2QrKyl7dmFyIG09ZS5zdG9wc1tkXSx2PW1bMF0uem9vbTt2b2lkIDA9PT1mW3ZdJiYoZlt2XT17em9vbTp2LHR5cGU6ZS50eXBlLHByb3BlcnR5OmUucHJvcGVydHksZGVmYXVsdDplLmRlZmF1bHQsc3RvcHM6W119LHkucHVzaCh2KSksZlt2XS5zdG9wcy5wdXNoKFttWzBdLnZhbHVlLG1bMV1dKTt9Zm9yKHZhciBnPVtdLHg9MCxiPXk7eDxiLmxlbmd0aDt4Kz0xKXt2YXIgdz1iW3hdO2cucHVzaChbZlt3XS56b29tLHQoZlt3XSxyKV0pO312YXIgXz17bmFtZToibGluZWFyIn07cmV0dXJuIHtraW5kOiJjb21wb3NpdGUiLGludGVycG9sYXRpb25UeXBlOl8saW50ZXJwb2xhdGlvbkZhY3Rvcjpyci5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLF8pLHpvb21TdG9wczpnLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksZXZhbHVhdGU6ZnVuY3Rpb24odCxuKXt2YXIgaT10Lnpvb207cmV0dXJuIE9yKHtzdG9wczpnLGJhc2U6ZS5iYXNlfSxyLGkpLmV2YWx1YXRlKGksbil9fX1pZih1KXt2YXIgQT0iZXhwb25lbnRpYWwiPT09bD97bmFtZToiZXhwb25lbnRpYWwiLGJhc2U6dm9pZCAwIT09ZS5iYXNlP2UuYmFzZToxfTpudWxsO3JldHVybiB7a2luZDoiY2FtZXJhIixpbnRlcnBvbGF0aW9uVHlwZTpBLGludGVycG9sYXRpb25GYWN0b3I6cnIuaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxBKSx6b29tU3RvcHM6ZS5zdG9wcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLGV2YWx1YXRlOmZ1bmN0aW9uKHQpe3JldHVybiBuKGUscix0Lnpvb20saSxhKX19fXJldHVybiB7a2luZDoic291cmNlIixldmFsdWF0ZTpmdW5jdGlvbih0LG8pe3ZhciBzPW8mJm8ucHJvcGVydGllcz9vLnByb3BlcnRpZXNbZS5wcm9wZXJ0eV06dm9pZCAwO3JldHVybiB2b2lkIDA9PT1zP0RyKGUuZGVmYXVsdCxyLmRlZmF1bHQpOm4oZSxyLHMsaSxhKX19fSh0aGlzLl9wYXJhbWV0ZXJzLHRoaXMuX3NwZWNpZmljYXRpb24pKTt9O2Z1bmN0aW9uIEpyKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPXQudmFsdWVTcGVjfHx7fSxpPXQub2JqZWN0RWxlbWVudFZhbGlkYXRvcnN8fHt9LGE9dC5zdHlsZSxvPXQuc3R5bGVTcGVjLHM9W10sdT1CcihyKTtpZigib2JqZWN0IiE9PXUpcmV0dXJuIFtuZXcgenQoZSxyLCJvYmplY3QgZXhwZWN0ZWQsICIrdSsiIGZvdW5kIildO2Zvcih2YXIgbCBpbiByKXt2YXIgcD1sLnNwbGl0KCIuIilbMF0sYz1uW3BdfHxuWyIqIl0saD12b2lkIDA7aWYoaVtwXSloPWlbcF07ZWxzZSBpZihuW3BdKWg9Ym47ZWxzZSBpZihpWyIqIl0paD1pWyIqIl07ZWxzZSB7aWYoIW5bIioiXSl7cy5wdXNoKG5ldyB6dChlLHJbbF0sJ3Vua25vd24gcHJvcGVydHkgIicrbCsnIicpKTtjb250aW51ZX1oPWJuO31zPXMuY29uY2F0KGgoe2tleTooZT9lKyIuIjplKStsLHZhbHVlOnJbbF0sdmFsdWVTcGVjOmMsc3R5bGU6YSxzdHlsZVNwZWM6byxvYmplY3Q6cixvYmplY3RLZXk6bH0scikpO31mb3IodmFyIGYgaW4gbilpW2ZdfHxuW2ZdLnJlcXVpcmVkJiZ2b2lkIDA9PT1uW2ZdLmRlZmF1bHQmJnZvaWQgMD09PXJbZl0mJnMucHVzaChuZXcgenQoZSxyLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICInK2YrJyInKSk7cmV0dXJuIHN9ZnVuY3Rpb24gSHIodCl7dmFyIGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLGE9dC5rZXksbz10LmFycmF5RWxlbWVudFZhbGlkYXRvcnx8Ym47aWYoImFycmF5IiE9PUJyKGUpKXJldHVybiBbbmV3IHp0KGEsZSwiYXJyYXkgZXhwZWN0ZWQsICIrQnIoZSkrIiBmb3VuZCIpXTtpZihyLmxlbmd0aCYmZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4gW25ldyB6dChhLGUsImFycmF5IGxlbmd0aCAiK3IubGVuZ3RoKyIgZXhwZWN0ZWQsIGxlbmd0aCAiK2UubGVuZ3RoKyIgZm91bmQiKV07aWYoclsibWluLWxlbmd0aCJdJiZlLmxlbmd0aDxyWyJtaW4tbGVuZ3RoIl0pcmV0dXJuIFtuZXcgenQoYSxlLCJhcnJheSBsZW5ndGggYXQgbGVhc3QgIityWyJtaW4tbGVuZ3RoIl0rIiBleHBlY3RlZCwgbGVuZ3RoICIrZS5sZW5ndGgrIiBmb3VuZCIpXTt2YXIgcz17dHlwZTpyLnZhbHVlLHZhbHVlczpyLnZhbHVlc307aS4kdmVyc2lvbjw3JiYocy5mdW5jdGlvbj1yLmZ1bmN0aW9uKSwib2JqZWN0Ij09PUJyKHIudmFsdWUpJiYocz1yLnZhbHVlKTtmb3IodmFyIHU9W10sbD0wO2w8ZS5sZW5ndGg7bCsrKXU9dS5jb25jYXQobyh7YXJyYXk6ZSxhcnJheUluZGV4OmwsdmFsdWU6ZVtsXSx2YWx1ZVNwZWM6cyxzdHlsZTpuLHN0eWxlU3BlYzppLGtleTphKyJbIitsKyJdIn0pKTtyZXR1cm4gdX1mdW5jdGlvbiBZcih0KXt2YXIgZT10LmtleSxyPXQudmFsdWUsbj10LnZhbHVlU3BlYyxpPUJyKHIpO3JldHVybiAibnVtYmVyIj09PWkmJnIhPXImJihpPSJOYU4iKSwibnVtYmVyIiE9PWk/W25ldyB6dChlLHIsIm51bWJlciBleHBlY3RlZCwgIitpKyIgZm91bmQiKV06Im1pbmltdW0iaW4gbiYmcjxuLm1pbmltdW0/W25ldyB6dChlLHIscisiIGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSAiK24ubWluaW11bSldOiJtYXhpbXVtImluIG4mJnI+bi5tYXhpbXVtP1tuZXcgenQoZSxyLHIrIiBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW0gdmFsdWUgIituLm1heGltdW0pXTpbXX1mdW5jdGlvbiAkcih0KXt2YXIgZSxyLG4saT10LnZhbHVlU3BlYyxhPUV0KHQudmFsdWUudHlwZSksbz17fSxzPSJjYXRlZ29yaWNhbCIhPT1hJiZ2b2lkIDA9PT10LnZhbHVlLnByb3BlcnR5LHU9IXMsbD0iYXJyYXkiPT09QnIodC52YWx1ZS5zdG9wcykmJiJhcnJheSI9PT1Ccih0LnZhbHVlLnN0b3BzWzBdKSYmIm9iamVjdCI9PT1Ccih0LnZhbHVlLnN0b3BzWzBdWzBdKSxwPUpyKHtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6dC5zdHlsZVNwZWMuZnVuY3Rpb24sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3N0b3BzOmZ1bmN0aW9uKHQpe2lmKCJpZGVudGl0eSI9PT1hKXJldHVybiBbbmV3IHp0KHQua2V5LHQudmFsdWUsJ2lkZW50aXR5IGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBhICJzdG9wcyIgcHJvcGVydHknKV07dmFyIGU9W10scj10LnZhbHVlO3JldHVybiBlPWUuY29uY2F0KEhyKHtrZXk6dC5rZXksdmFsdWU6cix2YWx1ZVNwZWM6dC52YWx1ZVNwZWMsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsYXJyYXlFbGVtZW50VmFsaWRhdG9yOmN9KSksImFycmF5Ij09PUJyKHIpJiYwPT09ci5sZW5ndGgmJmUucHVzaChuZXcgenQodC5rZXksciwiYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdG9wIikpLGV9LGRlZmF1bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGJuKHtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6aSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pfX19KTtyZXR1cm4gImlkZW50aXR5Ij09PWEmJnMmJnAucHVzaChuZXcgenQodC5rZXksdC52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAicHJvcGVydHkiJykpLCJpZGVudGl0eSI9PT1hfHx0LnZhbHVlLnN0b3BzfHxwLnB1c2gobmV3IHp0KHQua2V5LHQudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgInN0b3BzIicpKSwiZXhwb25lbnRpYWwiPT09YSYmdC52YWx1ZVNwZWMuZXhwcmVzc2lvbiYmIVByKHQudmFsdWVTcGVjKSYmcC5wdXNoKG5ldyB6dCh0LmtleSx0LnZhbHVlLCJleHBvbmVudGlhbCBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZCIpKSx0LnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKHUmJiFFcih0LnZhbHVlU3BlYyk/cC5wdXNoKG5ldyB6dCh0LmtleSx0LnZhbHVlLCJwcm9wZXJ0eSBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZCIpKTpzJiYhVHIodC52YWx1ZVNwZWMpJiZwLnB1c2gobmV3IHp0KHQua2V5LHQudmFsdWUsInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWQiKSkpLCJjYXRlZ29yaWNhbCIhPT1hJiYhbHx8dm9pZCAwIT09dC52YWx1ZS5wcm9wZXJ0eXx8cC5wdXNoKG5ldyB6dCh0LmtleSx0LnZhbHVlLCcicHJvcGVydHkiIHByb3BlcnR5IGlzIHJlcXVpcmVkJykpLHA7ZnVuY3Rpb24gYyh0KXt2YXIgZT1bXSxhPXQudmFsdWUscz10LmtleTtpZigiYXJyYXkiIT09QnIoYSkpcmV0dXJuIFtuZXcgenQocyxhLCJhcnJheSBleHBlY3RlZCwgIitCcihhKSsiIGZvdW5kIildO2lmKDIhPT1hLmxlbmd0aClyZXR1cm4gW25ldyB6dChzLGEsImFycmF5IGxlbmd0aCAyIGV4cGVjdGVkLCBsZW5ndGggIithLmxlbmd0aCsiIGZvdW5kIildO2lmKGwpe2lmKCJvYmplY3QiIT09QnIoYVswXSkpcmV0dXJuIFtuZXcgenQocyxhLCJvYmplY3QgZXhwZWN0ZWQsICIrQnIoYVswXSkrIiBmb3VuZCIpXTtpZih2b2lkIDA9PT1hWzBdLnpvb20pcmV0dXJuIFtuZXcgenQocyxhLCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHpvb20iKV07aWYodm9pZCAwPT09YVswXS52YWx1ZSlyZXR1cm4gW25ldyB6dChzLGEsIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWUiKV07aWYobiYmbj5FdChhWzBdLnpvb20pKXJldHVybiBbbmV3IHp0KHMsYVswXS56b29tLCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlciIpXTtFdChhWzBdLnpvb20pIT09biYmKG49RXQoYVswXS56b29tKSxyPXZvaWQgMCxvPXt9KSxlPWUuY29uY2F0KEpyKHtrZXk6cysiWzBdIix2YWx1ZTphWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206WXIsdmFsdWU6aH19KSk7fWVsc2UgZT1lLmNvbmNhdChoKHtrZXk6cysiWzBdIix2YWx1ZTphWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30sYSkpO3JldHVybiBxcihUdChhWzFdKSk/ZS5jb25jYXQoW25ldyB6dChzKyJbMV0iLGFbMV0sImV4cHJlc3Npb25zIGFyZSBub3QgYWxsb3dlZCBpbiBmdW5jdGlvbiBzdG9wcy4iKV0pOmUuY29uY2F0KGJuKHtrZXk6cysiWzFdIix2YWx1ZTphWzFdLHZhbHVlU3BlYzppLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIGgodCxuKXt2YXIgcz1Ccih0LnZhbHVlKSx1PUV0KHQudmFsdWUpLGw9bnVsbCE9PXQudmFsdWU/dC52YWx1ZTpuO2lmKGUpe2lmKHMhPT1lKXJldHVybiBbbmV3IHp0KHQua2V5LGwscysiIHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICIrZSldfWVsc2UgZT1zO2lmKCJudW1iZXIiIT09cyYmInN0cmluZyIhPT1zJiYiYm9vbGVhbiIhPT1zKXJldHVybiBbbmV3IHp0KHQua2V5LGwsInN0b3AgZG9tYWluIHZhbHVlIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhbiIpXTtpZigibnVtYmVyIiE9PXMmJiJjYXRlZ29yaWNhbCIhPT1hKXt2YXIgcD0ibnVtYmVyIGV4cGVjdGVkLCAiK3MrIiBmb3VuZCI7cmV0dXJuIEVyKGkpJiZ2b2lkIDA9PT1hJiYocCs9J1xuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGAidHlwZSI6ICJjYXRlZ29yaWNhbCJgLicpLFtuZXcgenQodC5rZXksbCxwKV19cmV0dXJuICJjYXRlZ29yaWNhbCIhPT1hfHwibnVtYmVyIiE9PXN8fGlzRmluaXRlKHUpJiZNYXRoLmZsb29yKHUpPT09dT8iY2F0ZWdvcmljYWwiIT09YSYmIm51bWJlciI9PT1zJiZ2b2lkIDAhPT1yJiZ1PHI/W25ldyB6dCh0LmtleSxsLCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyIildOihyPXUsImNhdGVnb3JpY2FsIj09PWEmJnUgaW4gbz9bbmV3IHp0KHQua2V5LGwsInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGJlIHVuaXF1ZSIpXToob1t1XT0hMCxbXSkpOltuZXcgenQodC5rZXksbCwiaW50ZWdlciBleHBlY3RlZCwgZm91bmQgIit1KV19fWZ1bmN0aW9uIFdyKHQpe3ZhciBlPSgicHJvcGVydHkiPT09dC5leHByZXNzaW9uQ29udGV4dD9acjpOcikoVHQodC52YWx1ZSksdC52YWx1ZVNwZWMpO2lmKCJlcnJvciI9PT1lLnJlc3VsdClyZXR1cm4gZS52YWx1ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgenQoIiIrdC5rZXkrZS5rZXksdC52YWx1ZSxlLm1lc3NhZ2UpfSkpO3ZhciByPWUudmFsdWUuZXhwcmVzc2lvbnx8ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb247aWYoInByb3BlcnR5Ij09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiJ0ZXh0LWZvbnQiPT09dC5wcm9wZXJ0eUtleSYmIXIub3V0cHV0RGVmaW5lZCgpKXJldHVybiBbbmV3IHp0KHQua2V5LHQudmFsdWUsJ0ludmFsaWQgZGF0YSBleHByZXNzaW9uIGZvciAiJyt0LnByb3BlcnR5S2V5KyciLiBPdXRwdXQgdmFsdWVzIG11c3QgYmUgY29udGFpbmVkIGFzIGxpdGVyYWxzIHdpdGhpbiB0aGUgZXhwcmVzc2lvbi4nKV07aWYoInByb3BlcnR5Ij09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiJsYXlvdXQiPT09dC5wcm9wZXJ0eVR5cGUmJiFGZShyKSlyZXR1cm4gW25ldyB6dCh0LmtleSx0LnZhbHVlLCciZmVhdHVyZS1zdGF0ZSIgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGxheW91dCBwcm9wZXJ0aWVzLicpXTtpZigiZmlsdGVyIj09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiFGZShyKSlyZXR1cm4gW25ldyB6dCh0LmtleSx0LnZhbHVlLCciZmVhdHVyZS1zdGF0ZSIgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGZpbHRlcnMuJyldO2lmKHQuZXhwcmVzc2lvbkNvbnRleHQmJjA9PT10LmV4cHJlc3Npb25Db250ZXh0LmluZGV4T2YoImNsdXN0ZXIiKSl7aWYoIURlKHIsWyJ6b29tIiwiZmVhdHVyZS1zdGF0ZSJdKSlyZXR1cm4gW25ldyB6dCh0LmtleSx0LnZhbHVlLCciem9vbSIgYW5kICJmZWF0dXJlLXN0YXRlIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoImNsdXN0ZXItaW5pdGlhbCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiYhVmUocikpcmV0dXJuIFtuZXcgenQodC5rZXksdC52YWx1ZSwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLiIpXX1yZXR1cm4gW119ZnVuY3Rpb24gUXIodCl7dmFyIGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWMsaT1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuLnZhbHVlcyk/LTE9PT1uLnZhbHVlcy5pbmRleE9mKEV0KHIpKSYmaS5wdXNoKG5ldyB6dChlLHIsImV4cGVjdGVkIG9uZSBvZiBbIituLnZhbHVlcy5qb2luKCIsICIpKyJdLCAiK0pTT04uc3RyaW5naWZ5KHIpKyIgZm91bmQiKSk6LTE9PT1PYmplY3Qua2V5cyhuLnZhbHVlcykuaW5kZXhPZihFdChyKSkmJmkucHVzaChuZXcgenQoZSxyLCJleHBlY3RlZCBvbmUgb2YgWyIrT2JqZWN0LmtleXMobi52YWx1ZXMpLmpvaW4oIiwgIikrIl0sICIrSlNPTi5zdHJpbmdpZnkocikrIiBmb3VuZCIpKSxpfWZ1bmN0aW9uIHRuKHQpe2lmKCEwPT09dHx8ITE9PT10KXJldHVybiAhMDtpZighQXJyYXkuaXNBcnJheSh0KXx8MD09PXQubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2godFswXSl7Y2FzZSJoYXMiOnJldHVybiB0Lmxlbmd0aD49MiYmIiRpZCIhPT10WzFdJiYiJHR5cGUiIT09dFsxXTtjYXNlImluIjpyZXR1cm4gdC5sZW5ndGg+PTMmJigic3RyaW5nIiE9dHlwZW9mIHRbMV18fEFycmF5LmlzQXJyYXkodFsyXSkpO2Nhc2UiIWluIjpjYXNlIiFoYXMiOmNhc2Uibm9uZSI6cmV0dXJuICExO2Nhc2UiPT0iOmNhc2UiIT0iOmNhc2UiPiI6Y2FzZSI+PSI6Y2FzZSI8IjpjYXNlIjw9IjpyZXR1cm4gMyE9PXQubGVuZ3RofHxBcnJheS5pc0FycmF5KHRbMV0pfHxBcnJheS5pc0FycmF5KHRbMl0pO2Nhc2UiYW55IjpjYXNlImFsbCI6Zm9yKHZhciBlPTAscj10LnNsaWNlKDEpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTtpZighdG4obikmJiJib29sZWFuIiE9dHlwZW9mIG4pcmV0dXJuICExfXJldHVybiAhMDtkZWZhdWx0OnJldHVybiAhMH19WHIuZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBYcih0Ll9wYXJhbWV0ZXJzLHQuX3NwZWNpZmljYXRpb24pfSxYci5zZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHtfcGFyYW1ldGVyczp0Ll9wYXJhbWV0ZXJzLF9zcGVjaWZpY2F0aW9uOnQuX3NwZWNpZmljYXRpb259fTt2YXIgZW49e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEsdHJhbnNpdGlvbjohMSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19fTtmdW5jdGlvbiBybih0KXtpZihudWxsPT10KXJldHVybiB7ZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuICEwfSxuZWVkR2VvbWV0cnk6ITF9O3RuKHQpfHwodD1hbih0KSk7dmFyIGU9TnIodCxlbik7aWYoImVycm9yIj09PWUucmVzdWx0KXRocm93IG5ldyBFcnJvcihlLnZhbHVlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5KyI6ICIrdC5tZXNzYWdlfSkpLmpvaW4oIiwgIikpO3JldHVybiB7ZmlsdGVyOmZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS52YWx1ZS5ldmFsdWF0ZSh0LHIse30sbil9LG5lZWRHZW9tZXRyeTpBcnJheS5pc0FycmF5KHQpJiYwIT09dC5sZW5ndGgmJiJ3aXRoaW4iPT09dFswXX19ZnVuY3Rpb24gbm4odCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9ZnVuY3Rpb24gYW4odCl7aWYoIXQpcmV0dXJuICEwO3ZhciBlLHI9dFswXTtyZXR1cm4gdC5sZW5ndGg8PTE/ImFueSIhPT1yOiI9PSI9PT1yP29uKHRbMV0sdFsyXSwiPT0iKToiIT0iPT09cj9sbihvbih0WzFdLHRbMl0sIj09IikpOiI8Ij09PXJ8fCI+Ij09PXJ8fCI8PSI9PT1yfHwiPj0iPT09cj9vbih0WzFdLHRbMl0scik6ImFueSI9PT1yPyhlPXQuc2xpY2UoMSksWyJhbnkiXS5jb25jYXQoZS5tYXAoYW4pKSk6ImFsbCI9PT1yP1siYWxsIl0uY29uY2F0KHQuc2xpY2UoMSkubWFwKGFuKSk6Im5vbmUiPT09cj9bImFsbCJdLmNvbmNhdCh0LnNsaWNlKDEpLm1hcChhbikubWFwKGxuKSk6ImluIj09PXI/c24odFsxXSx0LnNsaWNlKDIpKToiIWluIj09PXI/bG4oc24odFsxXSx0LnNsaWNlKDIpKSk6ImhhcyI9PT1yP3VuKHRbMV0pOiIhaGFzIiE9PXJ8fGxuKHVuKHRbMV0pKX1mdW5jdGlvbiBvbih0LGUscil7c3dpdGNoKHQpe2Nhc2UiJHR5cGUiOnJldHVybiBbImZpbHRlci10eXBlLSIrcixlXTtjYXNlIiRpZCI6cmV0dXJuIFsiZmlsdGVyLWlkLSIrcixlXTtkZWZhdWx0OnJldHVybiBbImZpbHRlci0iK3IsdCxlXX19ZnVuY3Rpb24gc24odCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuICExO3N3aXRjaCh0KXtjYXNlIiR0eXBlIjpyZXR1cm4gWyJmaWx0ZXItdHlwZS1pbiIsWyJsaXRlcmFsIixlXV07Y2FzZSIkaWQiOnJldHVybiBbImZpbHRlci1pZC1pbiIsWyJsaXRlcmFsIixlXV07ZGVmYXVsdDpyZXR1cm4gZS5sZW5ndGg+MjAwJiYhZS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQhPXR5cGVvZiBlWzBdfSkpP1siZmlsdGVyLWluLWxhcmdlIix0LFsibGl0ZXJhbCIsZS5zb3J0KG5uKV1dOlsiZmlsdGVyLWluLXNtYWxsIix0LFsibGl0ZXJhbCIsZV1dfX1mdW5jdGlvbiB1bih0KXtzd2l0Y2godCl7Y2FzZSIkdHlwZSI6cmV0dXJuICEwO2Nhc2UiJGlkIjpyZXR1cm4gWyJmaWx0ZXItaGFzLWlkIl07ZGVmYXVsdDpyZXR1cm4gWyJmaWx0ZXItaGFzIix0XX19ZnVuY3Rpb24gbG4odCl7cmV0dXJuIFsiISIsdF19ZnVuY3Rpb24gcG4odCl7cmV0dXJuIHRuKFR0KHQudmFsdWUpKT9XcihNdCh7fSx0LHtleHByZXNzaW9uQ29udGV4dDoiZmlsdGVyIix2YWx1ZVNwZWM6e3ZhbHVlOiJib29sZWFuIn19KSk6ZnVuY3Rpb24gdChlKXt2YXIgcj1lLnZhbHVlLG49ZS5rZXk7aWYoImFycmF5IiE9PUJyKHIpKXJldHVybiBbbmV3IHp0KG4sciwiYXJyYXkgZXhwZWN0ZWQsICIrQnIocikrIiBmb3VuZCIpXTt2YXIgaSxhPWUuc3R5bGVTcGVjLG89W107aWYoci5sZW5ndGg8MSlyZXR1cm4gW25ldyB6dChuLHIsImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50IildO3N3aXRjaChvPW8uY29uY2F0KFFyKHtrZXk6bisiWzBdIix2YWx1ZTpyWzBdLHZhbHVlU3BlYzphLmZpbHRlcl9vcGVyYXRvcixzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKSxFdChyWzBdKSl7Y2FzZSI8IjpjYXNlIjw9IjpjYXNlIj4iOmNhc2UiPj0iOnIubGVuZ3RoPj0yJiYiJHR5cGUiPT09RXQoclsxXSkmJm8ucHVzaChuZXcgenQobixyLCciJHR5cGUiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciAiJytyWzBdKyciJykpO2Nhc2UiPT0iOmNhc2UiIT0iOjMhPT1yLmxlbmd0aCYmby5wdXNoKG5ldyB6dChuLHIsJ2ZpbHRlciBhcnJheSBmb3Igb3BlcmF0b3IgIicrclswXSsnIiBtdXN0IGhhdmUgMyBlbGVtZW50cycpKTtjYXNlImluIjpjYXNlIiFpbiI6ci5sZW5ndGg+PTImJiJzdHJpbmciIT09KGk9QnIoclsxXSkpJiZvLnB1c2gobmV3IHp0KG4rIlsxXSIsclsxXSwic3RyaW5nIGV4cGVjdGVkLCAiK2krIiBmb3VuZCIpKTtmb3IodmFyIHM9MjtzPHIubGVuZ3RoO3MrKylpPUJyKHJbc10pLCIkdHlwZSI9PT1FdChyWzFdKT9vPW8uY29uY2F0KFFyKHtrZXk6bisiWyIrcysiXSIsdmFsdWU6cltzXSx2YWx1ZVNwZWM6YS5nZW9tZXRyeV90eXBlLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpOiJzdHJpbmciIT09aSYmIm51bWJlciIhPT1pJiYiYm9vbGVhbiIhPT1pJiZvLnB1c2gobmV3IHp0KG4rIlsiK3MrIl0iLHJbc10sInN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAiK2krIiBmb3VuZCIpKTticmVhaztjYXNlImFueSI6Y2FzZSJhbGwiOmNhc2Uibm9uZSI6Zm9yKHZhciB1PTE7dTxyLmxlbmd0aDt1Kyspbz1vLmNvbmNhdCh0KHtrZXk6bisiWyIrdSsiXSIsdmFsdWU6clt1XSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKTticmVhaztjYXNlImhhcyI6Y2FzZSIhaGFzIjppPUJyKHJbMV0pLDIhPT1yLmxlbmd0aD9vLnB1c2gobmV3IHp0KG4sciwnZmlsdGVyIGFycmF5IGZvciAiJytyWzBdKyciIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzJykpOiJzdHJpbmciIT09aSYmby5wdXNoKG5ldyB6dChuKyJbMV0iLHJbMV0sInN0cmluZyBleHBlY3RlZCwgIitpKyIgZm91bmQiKSk7fXJldHVybiBvfSh0KX1mdW5jdGlvbiBjbih0LGUpe3ZhciByPXQua2V5LG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLGE9dC52YWx1ZSxvPXQub2JqZWN0S2V5LHM9aVtlKyJfIit0LmxheWVyVHlwZV07aWYoIXMpcmV0dXJuIFtdO3ZhciB1PW8ubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7aWYoInBhaW50Ij09PWUmJnUmJnNbdVsxXV0mJnNbdVsxXV0udHJhbnNpdGlvbilyZXR1cm4gYm4oe2tleTpyLHZhbHVlOmEsdmFsdWVTcGVjOmkudHJhbnNpdGlvbixzdHlsZTpuLHN0eWxlU3BlYzppfSk7dmFyIGwscD10LnZhbHVlU3BlY3x8c1tvXTtpZighcClyZXR1cm4gW25ldyB6dChyLGEsJ3Vua25vd24gcHJvcGVydHkgIicrbysnIicpXTtpZigic3RyaW5nIj09PUJyKGEpJiZFcihwKSYmIXAudG9rZW5zJiYobD0vXnsoW159XSspfSQvLmV4ZWMoYSkpKXJldHVybiBbbmV3IHp0KHIsYSwnIicrbysnIiBkb2VzIG5vdCBzdXBwb3J0IGludGVycG9sYXRpb24gc3ludGF4XG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogYHsgInR5cGUiOiAiaWRlbnRpdHkiLCAicHJvcGVydHkiOiAnK0pTT04uc3RyaW5naWZ5KGxbMV0pKyIgfWAuIildO3ZhciBjPVtdO3JldHVybiAic3ltYm9sIj09PXQubGF5ZXJUeXBlJiYoInRleHQtZmllbGQiPT09byYmbiYmIW4uZ2x5cGhzJiZjLnB1c2gobmV3IHp0KHIsYSwndXNlIG9mICJ0ZXh0LWZpZWxkIiByZXF1aXJlcyBhIHN0eWxlICJnbHlwaHMiIHByb3BlcnR5JykpLCJ0ZXh0LWZvbnQiPT09byYmVnIoVHQoYSkpJiYiaWRlbnRpdHkiPT09RXQoYS50eXBlKSYmYy5wdXNoKG5ldyB6dChyLGEsJyJ0ZXh0LWZvbnQiIGRvZXMgbm90IHN1cHBvcnQgaWRlbnRpdHkgZnVuY3Rpb25zJykpKSxjLmNvbmNhdChibih7a2V5OnQua2V5LHZhbHVlOmEsdmFsdWVTcGVjOnAsc3R5bGU6bixzdHlsZVNwZWM6aSxleHByZXNzaW9uQ29udGV4dDoicHJvcGVydHkiLHByb3BlcnR5VHlwZTplLHByb3BlcnR5S2V5Om99KSl9ZnVuY3Rpb24gaG4odCl7cmV0dXJuIGNuKHQsInBhaW50Iil9ZnVuY3Rpb24gZm4odCl7cmV0dXJuIGNuKHQsImxheW91dCIpfWZ1bmN0aW9uIHluKHQpe3ZhciBlPVtdLHI9dC52YWx1ZSxuPXQua2V5LGk9dC5zdHlsZSxhPXQuc3R5bGVTcGVjO3IudHlwZXx8ci5yZWZ8fGUucHVzaChuZXcgenQobixyLCdlaXRoZXIgInR5cGUiIG9yICJyZWYiIGlzIHJlcXVpcmVkJykpO3ZhciBvLHM9RXQoci50eXBlKSx1PUV0KHIucmVmKTtpZihyLmlkKWZvcih2YXIgbD1FdChyLmlkKSxwPTA7cDx0LmFycmF5SW5kZXg7cCsrKXt2YXIgYz1pLmxheWVyc1twXTtFdChjLmlkKT09PWwmJmUucHVzaChuZXcgenQobixyLmlkLCdkdXBsaWNhdGUgbGF5ZXIgaWQgIicrci5pZCsnIiwgcHJldmlvdXNseSB1c2VkIGF0IGxpbmUgJytjLmlkLl9fbGluZV9fKSk7fWlmKCJyZWYiaW4gcilbInR5cGUiLCJzb3VyY2UiLCJzb3VyY2UtbGF5ZXIiLCJmaWx0ZXIiLCJsYXlvdXQiXS5mb3JFYWNoKChmdW5jdGlvbih0KXt0IGluIHImJmUucHVzaChuZXcgenQobixyW3RdLCciJyt0KyciIGlzIHByb2hpYml0ZWQgZm9yIHJlZiBsYXllcnMnKSk7fSkpLGkubGF5ZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe0V0KHQuaWQpPT09dSYmKG89dCk7fSkpLG8/by5yZWY/ZS5wdXNoKG5ldyB6dChuLHIucmVmLCJyZWYgY2Fubm90IHJlZmVyZW5jZSBhbm90aGVyIHJlZiBsYXllciIpKTpzPUV0KG8udHlwZSk6ZS5wdXNoKG5ldyB6dChuLHIucmVmLCdyZWYgbGF5ZXIgIicrdSsnIiBub3QgZm91bmQnKSk7ZWxzZSBpZigiYmFja2dyb3VuZCIhPT1zKWlmKHIuc291cmNlKXt2YXIgaD1pLnNvdXJjZXMmJmkuc291cmNlc1tyLnNvdXJjZV0sZj1oJiZFdChoLnR5cGUpO2g/InZlY3RvciI9PT1mJiYicmFzdGVyIj09PXM/ZS5wdXNoKG5ldyB6dChuLHIuc291cmNlLCdsYXllciAiJytyLmlkKyciIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZScpKToicmFzdGVyIj09PWYmJiJyYXN0ZXIiIT09cz9lLnB1c2gobmV3IHp0KG4sci5zb3VyY2UsJ2xheWVyICInK3IuaWQrJyIgcmVxdWlyZXMgYSB2ZWN0b3Igc291cmNlJykpOiJ2ZWN0b3IiIT09Znx8clsic291cmNlLWxheWVyIl0/InJhc3Rlci1kZW0iPT09ZiYmImhpbGxzaGFkZSIhPT1zP2UucHVzaChuZXcgenQobixyLnNvdXJjZSwicmFzdGVyLWRlbSBzb3VyY2UgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGxheWVyIHR5cGUgJ2hpbGxzaGFkZScuIikpOiJsaW5lIiE9PXN8fCFyLnBhaW50fHwhci5wYWludFsibGluZS1ncmFkaWVudCJdfHwiZ2VvanNvbiI9PT1mJiZoLmxpbmVNZXRyaWNzfHxlLnB1c2gobmV3IHp0KG4sciwnbGF5ZXIgIicrci5pZCsnIiBzcGVjaWZpZXMgYSBsaW5lLWdyYWRpZW50LCB3aGljaCByZXF1aXJlcyBhIEdlb0pTT04gc291cmNlIHdpdGggYGxpbmVNZXRyaWNzYCBlbmFibGVkLicpKTplLnB1c2gobmV3IHp0KG4sciwnbGF5ZXIgIicrci5pZCsnIiBtdXN0IHNwZWNpZnkgYSAic291cmNlLWxheWVyIicpKTplLnB1c2gobmV3IHp0KG4sci5zb3VyY2UsJ3NvdXJjZSAiJytyLnNvdXJjZSsnIiBub3QgZm91bmQnKSk7fWVsc2UgZS5wdXNoKG5ldyB6dChuLHIsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgInNvdXJjZSInKSk7cmV0dXJuIGU9ZS5jb25jYXQoSnIoe2tleTpuLHZhbHVlOnIsdmFsdWVTcGVjOmEubGF5ZXIsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6eyIqIjpmdW5jdGlvbigpe3JldHVybiBbXX0sdHlwZTpmdW5jdGlvbigpe3JldHVybiBibih7a2V5Om4rIi50eXBlIix2YWx1ZTpyLnR5cGUsdmFsdWVTcGVjOmEubGF5ZXIudHlwZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3Q6cixvYmplY3RLZXk6InR5cGUifSl9LGZpbHRlcjpwbixsYXlvdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHtsYXllcjpyLGtleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnsiKiI6ZnVuY3Rpb24odCl7cmV0dXJuIGZuKE10KHtsYXllclR5cGU6c30sdCkpfX19KX0scGFpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHtsYXllcjpyLGtleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnsiKiI6ZnVuY3Rpb24odCl7cmV0dXJuIGhuKE10KHtsYXllclR5cGU6c30sdCkpfX19KX19fSkpfWZ1bmN0aW9uIGRuKHQpe3ZhciBlPXQudmFsdWUscj10LmtleSxuPUJyKGUpO3JldHVybiAic3RyaW5nIiE9PW4/W25ldyB6dChyLGUsInN0cmluZyBleHBlY3RlZCwgIituKyIgZm91bmQiKV06W119dmFyIG1uPXtwcm9tb3RlSWQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXkscj10LnZhbHVlO2lmKCJzdHJpbmciPT09QnIocikpcmV0dXJuIGRuKHtrZXk6ZSx2YWx1ZTpyfSk7dmFyIG49W107Zm9yKHZhciBpIGluIHIpbi5wdXNoLmFwcGx5KG4sZG4oe2tleTplKyIuIitpLHZhbHVlOnJbaV19KSk7cmV0dXJuIG59fTtmdW5jdGlvbiB2bih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj10LnN0eWxlU3BlYyxpPXQuc3R5bGU7aWYoIWUudHlwZSlyZXR1cm4gW25ldyB6dChyLGUsJyJ0eXBlIiBpcyByZXF1aXJlZCcpXTt2YXIgYSxvPUV0KGUudHlwZSk7c3dpdGNoKG8pe2Nhc2UidmVjdG9yIjpjYXNlInJhc3RlciI6Y2FzZSJyYXN0ZXItZGVtIjpyZXR1cm4gSnIoe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm5bInNvdXJjZV8iK28ucmVwbGFjZSgiLSIsIl8iKV0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6bixvYmplY3RFbGVtZW50VmFsaWRhdG9yczptbn0pO2Nhc2UiZ2VvanNvbiI6aWYoYT1Kcih7a2V5OnIsdmFsdWU6ZSx2YWx1ZVNwZWM6bi5zb3VyY2VfZ2VvanNvbixzdHlsZTppLHN0eWxlU3BlYzpuLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOm1ufSksZS5jbHVzdGVyKWZvcih2YXIgcyBpbiBlLmNsdXN0ZXJQcm9wZXJ0aWVzKXt2YXIgdT1lLmNsdXN0ZXJQcm9wZXJ0aWVzW3NdLGw9dVswXSxwPSJzdHJpbmciPT10eXBlb2YgbD9bbCxbImFjY3VtdWxhdGVkIl0sWyJnZXQiLHNdXTpsO2EucHVzaC5hcHBseShhLFdyKHtrZXk6cisiLiIrcysiLm1hcCIsdmFsdWU6dVsxXSxleHByZXNzaW9uQ29udGV4dDoiY2x1c3Rlci1tYXAifSkpLGEucHVzaC5hcHBseShhLFdyKHtrZXk6cisiLiIrcysiLnJlZHVjZSIsdmFsdWU6cCxleHByZXNzaW9uQ29udGV4dDoiY2x1c3Rlci1yZWR1Y2UifSkpO31yZXR1cm4gYTtjYXNlInZpZGVvIjpyZXR1cm4gSnIoe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX3ZpZGVvLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlImltYWdlIjpyZXR1cm4gSnIoe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX2ltYWdlLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlImNhbnZhcyI6cmV0dXJuIFtuZXcgenQocixudWxsLCJQbGVhc2UgdXNlIHJ1bnRpbWUgQVBJcyB0byBhZGQgY2FudmFzIHNvdXJjZXMsIHJhdGhlciB0aGFuIGluY2x1ZGluZyB0aGVtIGluIHN0eWxlc2hlZXRzLiIsInNvdXJjZS5jYW52YXMiKV07ZGVmYXVsdDpyZXR1cm4gUXIoe2tleTpyKyIudHlwZSIsdmFsdWU6ZS50eXBlLHZhbHVlU3BlYzp7dmFsdWVzOlsidmVjdG9yIiwicmFzdGVyIiwicmFzdGVyLWRlbSIsImdlb2pzb24iLCJ2aWRlbyIsImltYWdlIl19LHN0eWxlOmksc3R5bGVTcGVjOm59KX19ZnVuY3Rpb24gZ24odCl7dmFyIGU9dC52YWx1ZSxyPXQuc3R5bGVTcGVjLG49ci5saWdodCxpPXQuc3R5bGUsYT1bXSxvPUJyKGUpO2lmKHZvaWQgMD09PWUpcmV0dXJuIGE7aWYoIm9iamVjdCIhPT1vKXJldHVybiBhLmNvbmNhdChbbmV3IHp0KCJsaWdodCIsZSwib2JqZWN0IGV4cGVjdGVkLCAiK28rIiBmb3VuZCIpXSk7Zm9yKHZhciBzIGluIGUpe3ZhciB1PXMubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7YT1hLmNvbmNhdCh1JiZuW3VbMV1dJiZuW3VbMV1dLnRyYW5zaXRpb24/Ym4oe2tleTpzLHZhbHVlOmVbc10sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTppLHN0eWxlU3BlYzpyfSk6bltzXT9ibih7a2V5OnMsdmFsdWU6ZVtzXSx2YWx1ZVNwZWM6bltzXSxzdHlsZTppLHN0eWxlU3BlYzpyfSk6W25ldyB6dChzLGVbc10sJ3Vua25vd24gcHJvcGVydHkgIicrcysnIicpXSk7fXJldHVybiBhfXZhciB4bj17IioiOmZ1bmN0aW9uKCl7cmV0dXJuIFtdfSxhcnJheTpIcixib29sZWFuOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWUscj10LmtleSxuPUJyKGUpO3JldHVybiAiYm9vbGVhbiIhPT1uP1tuZXcgenQocixlLCJib29sZWFuIGV4cGVjdGVkLCAiK24rIiBmb3VuZCIpXTpbXX0sbnVtYmVyOllyLGNvbG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPUJyKHIpO3JldHVybiAic3RyaW5nIiE9PW4/W25ldyB6dChlLHIsImNvbG9yIGV4cGVjdGVkLCAiK24rIiBmb3VuZCIpXTpudWxsPT09WXQocik/W25ldyB6dChlLHIsJ2NvbG9yIGV4cGVjdGVkLCAiJytyKyciIGZvdW5kJyldOltdfSxjb25zdGFudHM6Q3QsZW51bTpRcixmaWx0ZXI6cG4sZnVuY3Rpb246JHIsbGF5ZXI6eW4sb2JqZWN0OkpyLHNvdXJjZTp2bixsaWdodDpnbixzdHJpbmc6ZG4sZm9ybWF0dGVkOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09ZG4odCkubGVuZ3RoP1tdOldyKHQpfSxyZXNvbHZlZEltYWdlOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09ZG4odCkubGVuZ3RoP1tdOldyKHQpfX07ZnVuY3Rpb24gYm4odCl7dmFyIGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZVNwZWM7cmV0dXJuIHIuZXhwcmVzc2lvbiYmVnIoRXQoZSkpPyRyKHQpOnIuZXhwcmVzc2lvbiYmcXIoVHQoZSkpP1dyKHQpOnIudHlwZSYmeG5bci50eXBlXT94bltyLnR5cGVdKHQpOkpyKE10KHt9LHQse3ZhbHVlU3BlYzpyLnR5cGU/bltyLnR5cGVdOnJ9KSl9ZnVuY3Rpb24gd24odCl7dmFyIGU9dC52YWx1ZSxyPXQua2V5LG49ZG4odCk7cmV0dXJuIG4ubGVuZ3RofHwoLTE9PT1lLmluZGV4T2YoIntmb250c3RhY2t9IikmJm4ucHVzaChuZXcgenQocixlLCciZ2x5cGhzIiB1cmwgbXVzdCBpbmNsdWRlIGEgIntmb250c3RhY2t9IiB0b2tlbicpKSwtMT09PWUuaW5kZXhPZigie3JhbmdlfSIpJiZuLnB1c2gobmV3IHp0KHIsZSwnImdseXBocyIgdXJsIG11c3QgaW5jbHVkZSBhICJ7cmFuZ2V9IiB0b2tlbicpKSksbn1mdW5jdGlvbiBfbih0LGUpe3ZvaWQgMD09PWUmJihlPUl0KTt2YXIgcj1bXTtyZXR1cm4gcj1yLmNvbmNhdChibih7a2V5OiIiLHZhbHVlOnQsdmFsdWVTcGVjOmUuJHJvb3Qsc3R5bGVTcGVjOmUsc3R5bGU6dCxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOnduLCIqIjpmdW5jdGlvbigpe3JldHVybiBbXX19fSkpLHQuY29uc3RhbnRzJiYocj1yLmNvbmNhdChDdCh7a2V5OiJjb25zdGFudHMiLHZhbHVlOnQuY29uc3RhbnRzLHN0eWxlOnQsc3R5bGVTcGVjOmV9KSkpLEFuKHIpfWZ1bmN0aW9uIEFuKHQpe3JldHVybiBbXS5jb25jYXQodCkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5saW5lLWUubGluZX0pKX1mdW5jdGlvbiBTbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoO3ItLTspZVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIEFuKHQuYXBwbHkodGhpcyxlKSl9fV9uLnNvdXJjZT1Tbih2biksX24ubGlnaHQ9U24oZ24pLF9uLmxheWVyPVNuKHluKSxfbi5maWx0ZXI9U24ocG4pLF9uLnBhaW50UHJvcGVydHk9U24oaG4pLF9uLmxheW91dFByb3BlcnR5PVNuKGZuKTt2YXIga249X24sSW49a24ubGlnaHQsem49a24ucGFpbnRQcm9wZXJ0eSxDbj1rbi5sYXlvdXRQcm9wZXJ0eTtmdW5jdGlvbiBNbih0LGUpe3ZhciByPSExO2lmKGUmJmUubGVuZ3RoKWZvcih2YXIgbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpdC5maXJlKG5ldyBTdChuZXcgRXJyb3IoaVtuXS5tZXNzYWdlKSkpLHI9ITA7cmV0dXJuIHJ9dmFyIEVuPVRuO2Z1bmN0aW9uIFRuKHQsZSxyKXt2YXIgbj10aGlzLmNlbGxzPVtdO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dGhpcy5hcnJheUJ1ZmZlcj10O3ZhciBpPW5ldyBJbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO3Q9aVswXSx0aGlzLmQ9KGU9aVsxXSkrMioocj1pWzJdKTtmb3IodmFyIGE9MDthPHRoaXMuZCp0aGlzLmQ7YSsrKXt2YXIgbz1pWzMrYV0scz1pWzMrYSsxXTtuLnB1c2gobz09PXM/bnVsbDppLnN1YmFycmF5KG8scykpO312YXIgdT1pWzMrbi5sZW5ndGgrMV07dGhpcy5rZXlzPWkuc3ViYXJyYXkoaVszK24ubGVuZ3RoXSx1KSx0aGlzLmJib3hlcz1pLnN1YmFycmF5KHUpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5O31lbHNlIHt0aGlzLmQ9ZSsyKnI7Zm9yKHZhciBsPTA7bDx0aGlzLmQqdGhpcy5kO2wrKyluLnB1c2goW10pO3RoaXMua2V5cz1bXSx0aGlzLmJib3hlcz1bXTt9dGhpcy5uPWUsdGhpcy5leHRlbnQ9dCx0aGlzLnBhZGRpbmc9cix0aGlzLnNjYWxlPWUvdCx0aGlzLnVpZD0wO3ZhciBwPXIvZSp0O3RoaXMubWluPS1wLHRoaXMubWF4PXQrcDt9VG4ucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKGUscixuLGksdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpO30sVG4ucHJvdG90eXBlLl9pbnNlcnRSZWFkb25seT1mdW5jdGlvbigpe3Rocm93ICJDYW5ub3QgaW5zZXJ0IGludG8gYSBHcmlkSW5kZXggY3JlYXRlZCBmcm9tIGFuIEFycmF5QnVmZmVyLiJ9LFRuLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbih0LGUscixuLGksYSl7dGhpcy5jZWxsc1tpXS5wdXNoKGEpO30sVG4ucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9dGhpcy5taW4sbz10aGlzLm1heDtpZih0PD1hJiZlPD1hJiZvPD1yJiZvPD1uJiYhaSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5rZXlzKTt2YXIgcz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxlLHIsbix0aGlzLl9xdWVyeUNlbGwscyx7fSxpKSxzfSxUbi5wcm90b3R5cGUuX3F1ZXJ5Q2VsbD1mdW5jdGlvbih0LGUscixuLGksYSxvLHMpe3ZhciB1PXRoaXMuY2VsbHNbaV07aWYobnVsbCE9PXUpZm9yKHZhciBsPXRoaXMua2V5cyxwPXRoaXMuYmJveGVzLGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIGg9dVtjXTtpZih2b2lkIDA9PT1vW2hdKXt2YXIgZj00Kmg7KHM/cyhwW2YrMF0scFtmKzFdLHBbZisyXSxwW2YrM10pOnQ8PXBbZisyXSYmZTw9cFtmKzNdJiZyPj1wW2YrMF0mJm4+PXBbZisxXSk/KG9baF09ITAsYS5wdXNoKGxbaF0pKTpvW2hdPSExO319fSxUbi5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7Zm9yKHZhciB1PXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZCh0KSxsPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChlKSxwPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChyKSxjPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChuKSxoPXU7aDw9cDtoKyspZm9yKHZhciBmPWw7Zjw9YztmKyspe3ZhciB5PXRoaXMuZCpmK2g7aWYoKCFzfHxzKHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGgpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGYpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGgrMSksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZisxKSkpJiZpLmNhbGwodGhpcyx0LGUscixuLHksYSxvLHMpKXJldHVybn19LFRuLnByb3RvdHlwZS5fY29udmVydEZyb21DZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuICh0LXRoaXMucGFkZGluZykvdGhpcy5zY2FsZX0sVG4ucHJvdG90eXBlLl9jb252ZXJ0VG9DZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5kLTEsTWF0aC5mbG9vcih0KnRoaXMuc2NhbGUpK3RoaXMucGFkZGluZykpfSxUbi5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciB0PXRoaXMuY2VsbHMsZT0zK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxyPTAsbj0wO248dGhpcy5jZWxscy5sZW5ndGg7bisrKXIrPXRoaXMuY2VsbHNbbl0ubGVuZ3RoO3ZhciBpPW5ldyBJbnQzMkFycmF5KGUrcit0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7aVswXT10aGlzLmV4dGVudCxpWzFdPXRoaXMubixpWzJdPXRoaXMucGFkZGluZztmb3IodmFyIGE9ZSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXRbb107aVszK29dPWEsaS5zZXQocyxhKSxhKz1zLmxlbmd0aDt9cmV0dXJuIGlbMyt0Lmxlbmd0aF09YSxpLnNldCh0aGlzLmtleXMsYSksaVszK3QubGVuZ3RoKzFdPWErPXRoaXMua2V5cy5sZW5ndGgsaS5zZXQodGhpcy5iYm94ZXMsYSksYSs9dGhpcy5iYm94ZXMubGVuZ3RoLGkuYnVmZmVyfTt2YXIgUG49c2VsZi5JbWFnZURhdGEsQm49c2VsZi5JbWFnZUJpdG1hcCxWbj17fTtmdW5jdGlvbiBGbih0LGUscil7dm9pZCAwPT09ciYmKHI9e30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfY2xhc3NSZWdpc3RyeUtleSIse3ZhbHVlOnQsd3JpdGVhYmxlOiExfSksVm5bdF09e2tsYXNzOmUsb21pdDpyLm9taXR8fFtdLHNoYWxsb3c6ci5zaGFsbG93fHxbXX07fWZvcih2YXIgRG4gaW4gRm4oIk9iamVjdCIsT2JqZWN0KSxFbi5zZXJpYWxpemU9ZnVuY3Rpb24odCxlKXt2YXIgcj10LnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gZSYmZS5wdXNoKHIpLHtidWZmZXI6cn19LEVuLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRW4odC5idWZmZXIpfSxGbigiR3JpZCIsRW4pLEZuKCJDb2xvciIsJHQpLEZuKCJFcnJvciIsRXJyb3IpLEZuKCJSZXNvbHZlZEltYWdlIixlZSksRm4oIlN0eWxlUHJvcGVydHlGdW5jdGlvbiIsWHIpLEZuKCJTdHlsZUV4cHJlc3Npb24iLGpyLHtvbWl0OlsiX2V2YWx1YXRvciJdfSksRm4oIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uIixHciksRm4oIlpvb21Db25zdGFudEV4cHJlc3Npb24iLEtyKSxGbigiQ29tcG91bmRFeHByZXNzaW9uIixtZSx7b21pdDpbIl9ldmFsdWF0ZSJdfSksQXIpQXJbRG5dLl9jbGFzc1JlZ2lzdHJ5S2V5fHxGbigiRXhwcmVzc2lvbl8iK0RuLEFyW0RuXSk7ZnVuY3Rpb24gTG4odCl7cmV0dXJuIHQmJiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQuY29uc3RydWN0b3ImJiJBcnJheUJ1ZmZlciI9PT10LmNvbnN0cnVjdG9yLm5hbWUpfWZ1bmN0aW9uIFJuKHQpe3JldHVybiBCbiYmdCBpbnN0YW5jZW9mIEJufWZ1bmN0aW9uIE9uKHQsZSl7aWYobnVsbD09dHx8ImJvb2xlYW4iPT10eXBlb2YgdHx8Im51bWJlciI9PXR5cGVvZiB0fHwic3RyaW5nIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBCb29sZWFufHx0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gdDtpZihMbih0KXx8Um4odCkpcmV0dXJuIGUmJmUucHVzaCh0KSx0O2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSl7dmFyIHI9dDtyZXR1cm4gZSYmZS5wdXNoKHIuYnVmZmVyKSxyfWlmKHQgaW5zdGFuY2VvZiBQbilyZXR1cm4gZSYmZS5wdXNoKHQuZGF0YS5idWZmZXIpLHQ7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBuPVtdLGk9MCxhPXQ7aTxhLmxlbmd0aDtpKz0xKW4ucHVzaChPbihhW2ldLGUpKTtyZXR1cm4gbn1pZigib2JqZWN0Ij09dHlwZW9mIHQpe3ZhciBvPXQuY29uc3RydWN0b3Iscz1vLl9jbGFzc1JlZ2lzdHJ5S2V5O2lmKCFzKXRocm93IG5ldyBFcnJvcigiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB1bnJlZ2lzdGVyZWQgY2xhc3MiKTt2YXIgdT1vLnNlcmlhbGl6ZT9vLnNlcmlhbGl6ZSh0LGUpOnt9O2lmKCFvLnNlcmlhbGl6ZSl7Zm9yKHZhciBsIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShsKSYmIShWbltzXS5vbWl0LmluZGV4T2YobCk+PTApKXt2YXIgcD10W2xdO3VbbF09Vm5bc10uc2hhbGxvdy5pbmRleE9mKGwpPj0wP3A6T24ocCxlKTt9dCBpbnN0YW5jZW9mIEVycm9yJiYodS5tZXNzYWdlPXQubWVzc2FnZSk7fWlmKHUuJG5hbWUpdGhyb3cgbmV3IEVycm9yKCIkbmFtZSBwcm9wZXJ0eSBpcyByZXNlcnZlZCBmb3Igd29ya2VyIHNlcmlhbGl6YXRpb24gbG9naWMuIik7cmV0dXJuICJPYmplY3QiIT09cyYmKHUuJG5hbWU9cyksdX10aHJvdyBuZXcgRXJyb3IoImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSAiK3R5cGVvZiB0KX1mdW5jdGlvbiBVbih0KXtpZihudWxsPT10fHwiYm9vbGVhbiI9PXR5cGVvZiB0fHwibnVtYmVyIj09dHlwZW9mIHR8fCJzdHJpbmciPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEJvb2xlYW58fHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUmVnRXhwfHxMbih0KXx8Um4odCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KXx8dCBpbnN0YW5jZW9mIFBuKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKFVuKTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe3ZhciBlPXQuJG5hbWV8fCJPYmplY3QiLHI9Vm5bZV0ua2xhc3M7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJjYW4ndCBkZXNlcmlhbGl6ZSB1bnJlZ2lzdGVyZWQgY2xhc3MgIitlKTtpZihyLmRlc2VyaWFsaXplKXJldHVybiByLmRlc2VyaWFsaXplKHQpO2Zvcih2YXIgbj1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxpPTAsYT1PYmplY3Qua2V5cyh0KTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07aWYoIiRuYW1lIiE9PW8pe3ZhciBzPXRbb107bltvXT1WbltlXS5zaGFsbG93LmluZGV4T2Yobyk+PTA/czpVbihzKTt9fXJldHVybiBufXRocm93IG5ldyBFcnJvcigiY2FuJ3QgZGVzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgIit0eXBlb2YgdCl9dmFyIGpuPWZ1bmN0aW9uKCl7dGhpcy5maXJzdD0hMDt9O2puLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLmZsb29yKHQpO3JldHVybiB0aGlzLmZpcnN0Pyh0aGlzLmZpcnN0PSExLHRoaXMubGFzdEludGVnZXJab29tPXIsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPTAsdGhpcy5sYXN0Wm9vbT10LHRoaXMubGFzdEZsb29yWm9vbT1yLCEwKToodGhpcy5sYXN0Rmxvb3Jab29tPnI/KHRoaXMubGFzdEludGVnZXJab29tPXIrMSx0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9ZSk6dGhpcy5sYXN0Rmxvb3Jab29tPHImJih0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yLHRoaXMubGFzdEludGVnZXJab29tVGltZT1lKSx0IT09dGhpcy5sYXN0Wm9vbSYmKHRoaXMubGFzdFpvb209dCx0aGlzLmxhc3RGbG9vclpvb209ciwhMCkpfTt2YXIgcW49eyJMYXRpbi0xIFN1cHBsZW1lbnQiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjgmJnQ8PTI1NX0sQXJhYmljOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xNTM2JiZ0PD0xNzkxfSwiQXJhYmljIFN1cHBsZW1lbnQiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xODcyJiZ0PD0xOTE5fSwiQXJhYmljIEV4dGVuZGVkLUEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0yMjA4JiZ0PD0yMzAzfSwiSGFuZ3VsIEphbW8iOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MzUyJiZ0PD00NjA3fSwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTUxMjAmJnQ8PTU3NTl9LEtobWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02MDE2JiZ0PD02MTQzfSwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTYzMjAmJnQ8PTYzOTl9LCJHZW5lcmFsIFB1bmN0dWF0aW9uIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49ODE5MiYmdDw9ODMwM30sIkxldHRlcmxpa2UgU3ltYm9scyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTg0NDgmJnQ8PTg1Mjd9LCJOdW1iZXIgRm9ybXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj04NTI4JiZ0PD04NTkxfSwiTWlzY2VsbGFuZW91cyBUZWNobmljYWwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj04OTYwJiZ0PD05MjE1fSwiQ29udHJvbCBQaWN0dXJlcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTkyMTYmJnQ8PTkyNzl9LCJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvbiI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTkyODAmJnQ8PTkzMTF9LCJFbmNsb3NlZCBBbHBoYW51bWVyaWNzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTMxMiYmdDw9OTQ3MX0sIkdlb21ldHJpYyBTaGFwZXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj05NjMyJiZ0PD05NzI3fSwiTWlzY2VsbGFuZW91cyBTeW1ib2xzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTcyOCYmdDw9OTk4M30sIk1pc2NlbGxhbmVvdXMgU3ltYm9scyBhbmQgQXJyb3dzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTEwMDgmJnQ8PTExMjYzfSwiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnQiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMTkwNCYmdDw9MTIwMzF9LCJLYW5neGkgUmFkaWNhbHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjAzMiYmdDw9MTIyNTV9LCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIyNzImJnQ8PTEyMjg3fSwiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIyODgmJnQ8PTEyMzUxfSxIaXJhZ2FuYTpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIzNTImJnQ8PTEyNDQ3fSxLYXRha2FuYTpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI0NDgmJnQ8PTEyNTQzfSxCb3BvbW9mbzpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI1NDQmJnQ8PTEyNTkxfSwiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtbyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNTkyJiZ0PD0xMjY4N30sS2FuYnVuOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjY4OCYmdDw9MTI3MDN9LCJCb3BvbW9mbyBFeHRlbmRlZCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNzA0JiZ0PD0xMjczNX0sIkNKSyBTdHJva2VzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI3MzYmJnQ8PTEyNzgzfSwiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9ucyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNzg0JiZ0PD0xMjc5OX0sIkVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjgwMCYmdDw9MTMwNTV9LCJDSksgQ29tcGF0aWJpbGl0eSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEzMDU2JiZ0PD0xMzMxMX0sIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMzMxMiYmdDw9MTk5MDN9LCJZaWppbmcgSGV4YWdyYW0gU3ltYm9scyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE5OTA0JiZ0PD0xOTk2N30sIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xOTk2OCYmdDw9NDA5NTl9LCJZaSBTeWxsYWJsZXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MDk2MCYmdDw9NDIxMjd9LCJZaSBSYWRpY2FscyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQyMTI4JiZ0PD00MjE5MX0sIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MzM2MCYmdDw9NDMzOTF9LCJIYW5ndWwgU3lsbGFibGVzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NDQwMzImJnQ8PTU1MjE1fSwiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQiI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTU1MjE2JiZ0PD01NTI5NX0sIlByaXZhdGUgVXNlIEFyZWEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj01NzM0NCYmdDw9NjM3NDN9LCJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjM3NDQmJnQ8PTY0MjU1fSwiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjQzMzYmJnQ8PTY1MDIzfSwiVmVydGljYWwgRm9ybXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTA0MCYmdDw9NjUwNTV9LCJDSksgQ29tcGF0aWJpbGl0eSBGb3JtcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MDcyJiZ0PD02NTEwM30sIlNtYWxsIEZvcm0gVmFyaWFudHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTEwNCYmdDw9NjUxMzV9LCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTEzNiYmdDw9NjUyNzl9LCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3JtcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MjgwJiZ0PD02NTUxOX19O2Z1bmN0aW9uIE5uKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYoS24ocltlXS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEtuKHQpe3JldHVybiAhKDc0NiE9PXQmJjc0NyE9PXQmJih0PDQzNTJ8fCEocW5bIkJvcG9tb2ZvIEV4dGVuZGVkIl0odCl8fHFuLkJvcG9tb2ZvKHQpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXMiXSh0KSYmISh0Pj02NTA5NyYmdDw9NjUxMDMpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBocyJdKHQpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkiXSh0KXx8cW5bIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50Il0odCl8fHFuWyJDSksgU3Ryb2tlcyJdKHQpfHwhKCFxblsiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIl0odCl8fHQ+PTEyMjk2JiZ0PD0xMjMwNXx8dD49MTIzMDgmJnQ8PTEyMzE5fHwxMjMzNj09PXQpfHxxblsiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQSJdKHQpfHxxblsiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyJdKHQpfHxxblsiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRocyJdKHQpfHxxblsiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtbyJdKHQpfHxxblsiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQSJdKHQpfHxxblsiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQiJdKHQpfHxxblsiSGFuZ3VsIEphbW8iXSh0KXx8cW5bIkhhbmd1bCBTeWxsYWJsZXMiXSh0KXx8cW4uSGlyYWdhbmEodCl8fHFuWyJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzIl0odCl8fHFuLkthbmJ1bih0KXx8cW5bIkthbmd4aSBSYWRpY2FscyJdKHQpfHxxblsiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9ucyJdKHQpfHxxbi5LYXRha2FuYSh0KSYmMTI1NDAhPT10fHwhKCFxblsiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXMiXSh0KXx8NjUyODg9PT10fHw2NTI4OT09PXR8fDY1MjkzPT09dHx8dD49NjUzMDYmJnQ8PTY1MzEwfHw2NTMzOT09PXR8fDY1MzQxPT09dHx8NjUzNDM9PT10fHx0Pj02NTM3MSYmdDw9NjU1MDN8fDY1NTA3PT09dHx8dD49NjU1MTImJnQ8PTY1NTE5KXx8ISghcW5bIlNtYWxsIEZvcm0gVmFyaWFudHMiXSh0KXx8dD49NjUxMTImJnQ8PTY1MTE4fHx0Pj02NTEyMyYmdDw9NjUxMjYpfHxxblsiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyJdKHQpfHxxblsiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZCJdKHQpfHxxblsiVmVydGljYWwgRm9ybXMiXSh0KXx8cW5bIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzIl0odCl8fHFuWyJZaSBTeWxsYWJsZXMiXSh0KXx8cW5bIllpIFJhZGljYWxzIl0odCkpKSl9ZnVuY3Rpb24gR24odCl7cmV0dXJuICEoS24odCl8fGZ1bmN0aW9uKHQpe3JldHVybiAhIShxblsiTGF0aW4tMSBTdXBwbGVtZW50Il0odCkmJigxNjc9PT10fHwxNjk9PT10fHwxNzQ9PT10fHwxNzc9PT10fHwxODg9PT10fHwxODk9PT10fHwxOTA9PT10fHwyMTU9PT10fHwyNDc9PT10KXx8cW5bIkdlbmVyYWwgUHVuY3R1YXRpb24iXSh0KSYmKDgyMTQ9PT10fHw4MjI0PT09dHx8ODIyNT09PXR8fDgyNDA9PT10fHw4MjQxPT09dHx8ODI1MT09PXR8fDgyNTI9PT10fHw4MjU4PT09dHx8ODI2Mz09PXR8fDgyNjQ9PT10fHw4MjY1PT09dHx8ODI3Mz09PXQpfHxxblsiTGV0dGVybGlrZSBTeW1ib2xzIl0odCl8fHFuWyJOdW1iZXIgRm9ybXMiXSh0KXx8cW5bIk1pc2NlbGxhbmVvdXMgVGVjaG5pY2FsIl0odCkmJih0Pj04OTYwJiZ0PD04OTY3fHx0Pj04OTcyJiZ0PD04OTkxfHx0Pj04OTk2JiZ0PD05ZTN8fDkwMDM9PT10fHx0Pj05MDg1JiZ0PD05MTE0fHx0Pj05MTUwJiZ0PD05MTY1fHw5MTY3PT09dHx8dD49OTE2OSYmdDw9OTE3OXx8dD49OTE4NiYmdDw9OTIxNSl8fHFuWyJDb250cm9sIFBpY3R1cmVzIl0odCkmJjkyNTEhPT10fHxxblsiT3B0aWNhbCBDaGFyYWN0ZXIgUmVjb2duaXRpb24iXSh0KXx8cW5bIkVuY2xvc2VkIEFscGhhbnVtZXJpY3MiXSh0KXx8cW5bIkdlb21ldHJpYyBTaGFwZXMiXSh0KXx8cW5bIk1pc2NlbGxhbmVvdXMgU3ltYm9scyJdKHQpJiYhKHQ+PTk3NTQmJnQ8PTk3NTkpfHxxblsiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3MiXSh0KSYmKHQ+PTExMDI2JiZ0PD0xMTA1NXx8dD49MTEwODgmJnQ8PTExMDk3fHx0Pj0xMTE5MiYmdDw9MTEyNDMpfHxxblsiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIl0odCl8fHFuLkthdGFrYW5hKHQpfHxxblsiUHJpdmF0ZSBVc2UgQXJlYSJdKHQpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXMiXSh0KXx8cW5bIlNtYWxsIEZvcm0gVmFyaWFudHMiXSh0KXx8cW5bIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zIl0odCl8fDg3MzQ9PT10fHw4NzU2PT09dHx8ODc1Nz09PXR8fHQ+PTk5ODQmJnQ8PTEwMDg3fHx0Pj0xMDEwMiYmdDw9MTAxMzF8fDY1NTMyPT09dHx8NjU1MzM9PT10KX0odCkpfWZ1bmN0aW9uIFpuKHQpe3JldHVybiB0Pj0xNDI0JiZ0PD0yMzAzfHxxblsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIl0odCl8fHFuWyJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiXSh0KX1mdW5jdGlvbiBYbih0LGUpe3JldHVybiAhKCFlJiZabih0KXx8dD49MjMwNCYmdDw9MzU4M3x8dD49Mzg0MCYmdDw9NDI1NXx8cW4uS2htZXIodCkpfWZ1bmN0aW9uIEpuKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYoWm4ocltlXS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfXZhciBIbj1udWxsLFluPSJ1bmF2YWlsYWJsZSIsJG49bnVsbCxXbj1mdW5jdGlvbih0KXt0JiYic3RyaW5nIj09dHlwZW9mIHQmJnQuaW5kZXhPZigiTmV0d29ya0Vycm9yIik+LTEmJihZbj0iZXJyb3IiKSxIbiYmSG4odCk7fTtmdW5jdGlvbiBRbigpe3RpLmZpcmUobmV3IEF0KCJwbHVnaW5TdGF0ZUNoYW5nZSIse3BsdWdpblN0YXR1czpZbixwbHVnaW5VUkw6JG59KSk7fXZhciB0aT1uZXcga3QsZWk9ZnVuY3Rpb24oKXtyZXR1cm4gWW59LHJpPWZ1bmN0aW9uKCl7aWYoImRlZmVycmVkIiE9PVlufHwhJG4pdGhyb3cgbmV3IEVycm9yKCJydGwtdGV4dC1wbHVnaW4gY2Fubm90IGJlIGRvd25sb2FkZWQgdW5sZXNzIGEgcGx1Z2luVVJMIGlzIHNwZWNpZmllZCIpO1luPSJsb2FkaW5nIixRbigpLCRuJiZndCh7dXJsOiRufSwoZnVuY3Rpb24odCl7dD9Xbih0KTooWW49ImxvYWRlZCIsUW4oKSk7fSkpO30sbmk9e2FwcGx5QXJhYmljU2hhcGluZzpudWxsLHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpudWxsLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDpudWxsLGlzTG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkZWQiPT09WW58fG51bGwhPW5pLmFwcGx5QXJhYmljU2hhcGluZ30saXNMb2FkaW5nOmZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkaW5nIj09PVlufSxzZXRTdGF0ZTpmdW5jdGlvbih0KXtZbj10LnBsdWdpblN0YXR1cywkbj10LnBsdWdpblVSTDt9LGlzUGFyc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPW5pLmFwcGx5QXJhYmljU2hhcGluZyYmbnVsbCE9bmkucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0JiZudWxsIT1uaS5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHR9LGdldFBsdWdpblVSTDpmdW5jdGlvbigpe3JldHVybiAkbn19LGlpPWZ1bmN0aW9uKHQsZSl7dGhpcy56b29tPXQsZT8odGhpcy5ub3c9ZS5ub3csdGhpcy5mYWRlRHVyYXRpb249ZS5mYWRlRHVyYXRpb24sdGhpcy56b29tSGlzdG9yeT1lLnpvb21IaXN0b3J5LHRoaXMudHJhbnNpdGlvbj1lLnRyYW5zaXRpb24pOih0aGlzLm5vdz0wLHRoaXMuZmFkZUR1cmF0aW9uPTAsdGhpcy56b29tSGlzdG9yeT1uZXcgam4sdGhpcy50cmFuc2l0aW9uPXt9KTt9O2lpLnByb3RvdHlwZS5pc1N1cHBvcnRlZFNjcmlwdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPXQ7cjxuLmxlbmd0aDtyKz0xKWlmKCFYbihuW3JdLmNoYXJDb2RlQXQoMCksZSkpcmV0dXJuICExO3JldHVybiAhMH0odCxuaS5pc0xvYWRlZCgpKX0saWkucHJvdG90eXBlLmNyb3NzRmFkaW5nRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOk1hdGgubWluKCh0aGlzLm5vdy10aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbVRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uLDEpfSxpaS5wcm90b3R5cGUuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuem9vbSxlPXQtTWF0aC5mbG9vcih0KSxyPXRoaXMuY3Jvc3NGYWRpbmdGYWN0b3IoKTtyZXR1cm4gdD50aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbVNjYWxlOjIsdG9TY2FsZToxLHQ6ZSsoMS1lKSpyfTp7ZnJvbVNjYWxlOi41LHRvU2NhbGU6MSx0OjEtKDEtcikqZX19O3ZhciBhaT1mdW5jdGlvbih0LGUpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5leHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7aWYoVnIodCkpcmV0dXJuIG5ldyBYcih0LGUpO2lmKHFyKHQpKXt2YXIgcj1acih0LGUpO2lmKCJlcnJvciI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleSsiOiAiK3QubWVzc2FnZX0pKS5qb2luKCIsICIpKTtyZXR1cm4gci52YWx1ZX12YXIgbj10O3JldHVybiAic3RyaW5nIj09dHlwZW9mIHQmJiJjb2xvciI9PT1lLnR5cGUmJihuPSR0LnBhcnNlKHQpKSx7a2luZDoiY29uc3RhbnQiLGV2YWx1YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG59fX0odm9pZCAwPT09ZT90LnNwZWNpZmljYXRpb24uZGVmYXVsdDplLHQuc3BlY2lmaWNhdGlvbik7fTthaS5wcm90b3R5cGUuaXNEYXRhRHJpdmVuPWZ1bmN0aW9uKCl7cmV0dXJuICJzb3VyY2UiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fCJjb21wb3NpdGUiPT09dGhpcy5leHByZXNzaW9uLmtpbmR9LGFpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5wb3NzaWJseUV2YWx1YXRlKHRoaXMsdCxlLHIpfTt2YXIgb2k9ZnVuY3Rpb24odCl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9bmV3IGFpKHQsdm9pZCAwKTt9O29pLnByb3RvdHlwZS50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHVpKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxlLHAoe30sdC50cmFuc2l0aW9uLHRoaXMudHJhbnNpdGlvbiksdC5ub3cpfSxvaS5wcm90b3R5cGUudW50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVpKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfTt2YXIgc2k9ZnVuY3Rpb24odCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpO307c2kucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB4KHRoaXMuX3ZhbHVlc1t0XS52YWx1ZS52YWx1ZSl9LHNpLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgb2kodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnZhbHVlPW5ldyBhaSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOngoZSkpO30sc2kucHJvdG90eXBlLmdldFRyYW5zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHgodGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb24pfSxzaS5wcm90b3R5cGUuc2V0VHJhbnNpdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgb2kodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb249eChlKXx8dm9pZCAwO30sc2kucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTAscj1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPXRoaXMuZ2V0VmFsdWUobik7dm9pZCAwIT09aSYmKHRbbl09aSk7dmFyIGE9dGhpcy5nZXRUcmFuc2l0aW9uKG4pO3ZvaWQgMCE9PWEmJih0W24rIi10cmFuc2l0aW9uIl09YSk7fXJldHVybiB0fSxzaS5wcm90b3R5cGUudHJhbnNpdGlvbmVkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPW5ldyBsaSh0aGlzLl9wcm9wZXJ0aWVzKSxuPTAsaT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtyLl92YWx1ZXNbYV09dGhpcy5fdmFsdWVzW2FdLnRyYW5zaXRpb25lZCh0LGUuX3ZhbHVlc1thXSk7fXJldHVybiByfSxzaS5wcm90b3R5cGUudW50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IGxpKHRoaXMuX3Byb3BlcnRpZXMpLGU9MCxyPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QuX3ZhbHVlc1tuXT10aGlzLl92YWx1ZXNbbl0udW50cmFuc2l0aW9uZWQoKTt9cmV0dXJuIHR9O3ZhciB1aT1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5iZWdpbj1pK24uZGVsYXl8fDAsdGhpcy5lbmQ9dGhpcy5iZWdpbituLmR1cmF0aW9ufHwwLHQuc3BlY2lmaWNhdGlvbi50cmFuc2l0aW9uJiYobi5kZWxheXx8bi5kdXJhdGlvbikmJih0aGlzLnByaW9yPXIpO307dWkucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQubm93fHwwLGk9dGhpcy52YWx1ZS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKSxhPXRoaXMucHJpb3I7aWYoYSl7aWYobj50aGlzLmVuZClyZXR1cm4gdGhpcy5wcmlvcj1udWxsLGk7aWYodGhpcy52YWx1ZS5pc0RhdGFEcml2ZW4oKSlyZXR1cm4gdGhpcy5wcmlvcj1udWxsLGk7aWYobjx0aGlzLmJlZ2luKXJldHVybiBhLnBvc3NpYmx5RXZhbHVhdGUodCxlLHIpO3ZhciBvPShuLXRoaXMuYmVnaW4pLyh0aGlzLmVuZC10aGlzLmJlZ2luKTtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5pbnRlcnBvbGF0ZShhLnBvc3NpYmx5RXZhbHVhdGUodCxlLHIpLGksZnVuY3Rpb24odCl7aWYodDw9MClyZXR1cm4gMDtpZih0Pj0xKXJldHVybiAxO3ZhciBlPXQqdCxyPWUqdDtyZXR1cm4gNCoodDwuNT9yOjMqKHQtZSkrci0uNzUpfShvKSl9cmV0dXJuIGl9O3ZhciBsaT1mdW5jdGlvbih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzKTt9O2xpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPW5ldyBoaSh0aGlzLl9wcm9wZXJ0aWVzKSxuPTAsaT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtyLl92YWx1ZXNbYV09dGhpcy5fdmFsdWVzW2FdLnBvc3NpYmx5RXZhbHVhdGUodCxlKTt9cmV0dXJuIHJ9LGxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO3Q8ZS5sZW5ndGg7dCs9MSlpZih0aGlzLl92YWx1ZXNbZVt0XV0ucHJpb3IpcmV0dXJuICEwO3JldHVybiAhMX07dmFyIHBpPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQcm9wZXJ0eVZhbHVlcyk7fTtwaS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHgodGhpcy5fdmFsdWVzW3RdLnZhbHVlKX0scGkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW3RdPW5ldyBhaSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOngoZSkpO30scGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTAscj1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPXRoaXMuZ2V0VmFsdWUobik7dm9pZCAwIT09aSYmKHRbbl09aSk7fXJldHVybiB0fSxwaS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcgaGkodGhpcy5fcHJvcGVydGllcyksbj0wLGk9T2JqZWN0LmtleXModGhpcy5fdmFsdWVzKTtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07ci5fdmFsdWVzW2FdPXRoaXMuX3ZhbHVlc1thXS5wb3NzaWJseUV2YWx1YXRlKHQsZSk7fXJldHVybiByfTt2YXIgY2k9ZnVuY3Rpb24odCxlLHIpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5wYXJhbWV0ZXJzPXI7fTtjaS5wcm90b3R5cGUuaXNDb25zdGFudD1mdW5jdGlvbigpe3JldHVybiAiY29uc3RhbnQiPT09dGhpcy52YWx1ZS5raW5kfSxjaS5wcm90b3R5cGUuY29uc3RhbnRPcj1mdW5jdGlvbih0KXtyZXR1cm4gImNvbnN0YW50Ij09PXRoaXMudmFsdWUua2luZD90aGlzLnZhbHVlLnZhbHVlOnR9LGNpLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5ldmFsdWF0ZSh0aGlzLnZhbHVlLHRoaXMucGFyYW1ldGVycyx0LGUscixuKX07dmFyIGhpPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcyk7fTtoaS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWx1ZXNbdF19O3ZhciBmaT1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9O2ZpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlKX0sZmkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1xZVt0aGlzLnNwZWNpZmljYXRpb24udHlwZV07cmV0dXJuIG4/bih0LGUscik6dH07dmFyIHlpPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcGVjaWZpY2F0aW9uPXQsdGhpcy5vdmVycmlkZXM9ZTt9O3lpLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuZXcgY2kodGhpcywiY29uc3RhbnQiPT09dC5leHByZXNzaW9uLmtpbmR8fCJjYW1lcmEiPT09dC5leHByZXNzaW9uLmtpbmQ/e2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTp0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbil9OnQuZXhwcmVzc2lvbixlKX0seWkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxyKXtpZigiY29uc3RhbnQiIT09dC52YWx1ZS5raW5kfHwiY29uc3RhbnQiIT09ZS52YWx1ZS5raW5kKXJldHVybiB0O2lmKHZvaWQgMD09PXQudmFsdWUudmFsdWV8fHZvaWQgMD09PWUudmFsdWUudmFsdWUpcmV0dXJuIG5ldyBjaSh0aGlzLHtraW5kOiJjb25zdGFudCIsdmFsdWU6dm9pZCAwfSx0LnBhcmFtZXRlcnMpO3ZhciBuPXFlW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uZXcgY2kodGhpcyx7a2luZDoiY29uc3RhbnQiLHZhbHVlOm4odC52YWx1ZS52YWx1ZSxlLnZhbHVlLnZhbHVlLHIpfSx0LnBhcmFtZXRlcnMpOnR9LHlpLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuICJjb25zdGFudCI9PT10LmtpbmQ/dC52YWx1ZTp0LmV2YWx1YXRlKGUscixuLGksYSl9O3ZhciBkaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbil7aWYodm9pZCAwPT09dC52YWx1ZSlyZXR1cm4gbmV3IGNpKHRoaXMse2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTp2b2lkIDB9LGUpO2lmKCJjb25zdGFudCI9PT10LmV4cHJlc3Npb24ua2luZCl7dmFyIGk9dC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pLGE9InJlc29sdmVkSW1hZ2UiPT09dC5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLnR5cGUmJiJzdHJpbmciIT10eXBlb2YgaT9pLm5hbWU6aSxvPXRoaXMuX2NhbGN1bGF0ZShhLGEsYSxlKTtyZXR1cm4gbmV3IGNpKHRoaXMse2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTpvfSxlKX1pZigiY2FtZXJhIj09PXQuZXhwcmVzc2lvbi5raW5kKXt2YXIgcz10aGlzLl9jYWxjdWxhdGUodC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbS0xfSksdC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbX0pLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTplLnpvb20rMX0pLGUpO3JldHVybiBuZXcgY2kodGhpcyx7a2luZDoiY29uc3RhbnQiLHZhbHVlOnN9LGUpfXJldHVybiBuZXcgY2kodGhpcyx0LmV4cHJlc3Npb24sZSl9LGUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtpZigic291cmNlIj09PXQua2luZCl7dmFyIG89dC5ldmFsdWF0ZShlLHIsbixpLGEpO3JldHVybiB0aGlzLl9jYWxjdWxhdGUobyxvLG8sZSl9cmV0dXJuICJjb21wb3NpdGUiPT09dC5raW5kP3RoaXMuX2NhbGN1bGF0ZSh0LmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IoZS56b29tKS0xfSxyLG4pLHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pfSxyLG4pLHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pKzF9LHIsbiksZSk6dC52YWx1ZX0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZX06e2Zyb206cix0bzplfX0sZS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGV9KHlpKSxtaT1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9O21pLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHZvaWQgMCE9PXQudmFsdWUpe2lmKCJjb25zdGFudCI9PT10LmV4cHJlc3Npb24ua2luZCl7dmFyIGk9dC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pO3JldHVybiB0aGlzLl9jYWxjdWxhdGUoaSxpLGksZSl9cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZSh0LmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKE1hdGguZmxvb3IoZS56b29tLTEpLGUpKSx0LmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKE1hdGguZmxvb3IoZS56b29tKSxlKSksdC5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBpaShNYXRoLmZsb29yKGUuem9vbSsxKSxlKSksZSl9fSxtaS5wcm90b3R5cGUuX2NhbGN1bGF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZX06e2Zyb206cix0bzplfX0sbWkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0fTt2YXIgdmk9ZnVuY3Rpb24odCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fTt2aS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gISF0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbil9LHZpLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbigpe3JldHVybiAhMX07dmFyIGdpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnByb3BlcnRpZXM9dCx0aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcz17fSx0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcz1bXSx0KXt2YXIgcj10W2VdO3Iuc3BlY2lmaWNhdGlvbi5vdmVycmlkYWJsZSYmdGhpcy5vdmVycmlkYWJsZVByb3BlcnRpZXMucHVzaChlKTt2YXIgbj10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tlXT1uZXcgYWkocix2b2lkIDApLGk9dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tlXT1uZXcgb2kocik7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW2VdPWkudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tlXT1uLnBvc3NpYmx5RXZhbHVhdGUoe30pO319O0ZuKCJEYXRhRHJpdmVuUHJvcGVydHkiLHlpKSxGbigiRGF0YUNvbnN0YW50UHJvcGVydHkiLGZpKSxGbigiQ3Jvc3NGYWRlZERhdGFEcml2ZW5Qcm9wZXJ0eSIsZGkpLEZuKCJDcm9zc0ZhZGVkUHJvcGVydHkiLG1pKSxGbigiQ29sb3JSYW1wUHJvcGVydHkiLHZpKTt2YXIgeGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe2lmKHQuY2FsbCh0aGlzKSx0aGlzLmlkPWUuaWQsdGhpcy50eXBlPWUudHlwZSx0aGlzLl9mZWF0dXJlRmlsdGVyPXtmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gITB9LG5lZWRHZW9tZXRyeTohMX0sImN1c3RvbSIhPT1lLnR5cGUmJih0aGlzLm1ldGFkYXRhPShlPWUpLm1ldGFkYXRhLHRoaXMubWluem9vbT1lLm1pbnpvb20sdGhpcy5tYXh6b29tPWUubWF4em9vbSwiYmFja2dyb3VuZCIhPT1lLnR5cGUmJih0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLnNvdXJjZUxheWVyPWVbInNvdXJjZS1sYXllciJdLHRoaXMuZmlsdGVyPWUuZmlsdGVyKSxyLmxheW91dCYmKHRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0PW5ldyBwaShyLmxheW91dCkpLHIucGFpbnQpKXtmb3IodmFyIG4gaW4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludD1uZXcgc2koci5wYWludCksZS5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkobixlLnBhaW50W25dLHt2YWxpZGF0ZTohMX0pO2Zvcih2YXIgaSBpbiBlLmxheW91dCl0aGlzLnNldExheW91dFByb3BlcnR5KGksZS5sYXlvdXRbaV0se3ZhbGlkYXRlOiExfSk7dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKTt9fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldENyb3NzZmFkZVBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3Jvc3NmYWRlUGFyYW1ldGVyc30sZS5wcm90b3R5cGUuZ2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJuICJ2aXNpYmlsaXR5Ij09PXQ/dGhpcy52aXNpYmlsaXR5OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKHQpfSxlLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0LGUscil7dm9pZCAwPT09ciYmKHI9e30pLG51bGwhPWUmJnRoaXMuX3ZhbGlkYXRlKENuLCJsYXllcnMuIit0aGlzLmlkKyIubGF5b3V0LiIrdCx0LGUscil8fCgidmlzaWJpbGl0eSIhPT10P3RoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNldFZhbHVlKHQsZSk6dGhpcy52aXNpYmlsaXR5PWUpO30sZS5wcm90b3R5cGUuZ2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gbSh0LCItdHJhbnNpdGlvbiIpP3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VHJhbnNpdGlvbih0LnNsaWNlKDAsLSItdHJhbnNpdGlvbiIubGVuZ3RoKSk6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRWYWx1ZSh0KX0sZS5wcm90b3R5cGUuc2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUscil7aWYodm9pZCAwPT09ciYmKHI9e30pLG51bGwhPWUmJnRoaXMuX3ZhbGlkYXRlKHpuLCJsYXllcnMuIit0aGlzLmlkKyIucGFpbnQuIit0LHQsZSxyKSlyZXR1cm4gITE7aWYobSh0LCItdHJhbnNpdGlvbiIpKXJldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFRyYW5zaXRpb24odC5zbGljZSgwLC0iLXRyYW5zaXRpb24iLmxlbmd0aCksZXx8dm9pZCAwKSwhMTt2YXIgbj10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbdF0saT0iY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iPT09bi5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uWyJwcm9wZXJ0eS10eXBlIl0sYT1uLnZhbHVlLmlzRGF0YURyaXZlbigpLG89bi52YWx1ZTt0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFZhbHVlKHQsZSksdGhpcy5faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUodCk7dmFyIHM9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW3RdLnZhbHVlO3JldHVybiBzLmlzRGF0YURyaXZlbigpfHxhfHxpfHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUodCxvLHMpfSxlLnByb3RvdHlwZS5faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmlzSGlkZGVuPWZ1bmN0aW9uKHQpe3JldHVybiAhISh0aGlzLm1pbnpvb20mJnQ8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZ0Pj10aGlzLm1heHpvb20pfHwibm9uZSI9PT10aGlzLnZpc2liaWxpdHl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zaXRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX3RyYW5zaXRpb25pbmdQYWludD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnRyYW5zaXRpb25lZCh0LHRoaXMuX3RyYW5zaXRpb25pbmdQYWludCk7fSxlLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5oYXNUcmFuc2l0aW9uKCl9LGUucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQsZSl7dC5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzJiYodGhpcy5fY3Jvc3NmYWRlUGFyYW1ldGVycz10LmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKSksdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJih0aGlzLmxheW91dD10aGlzLl91bmV2YWx1YXRlZExheW91dC5wb3NzaWJseUV2YWx1YXRlKHQsZSkpLHRoaXMucGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50LnBvc3NpYmx5RXZhbHVhdGUodCxlKTt9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXtpZDp0aGlzLmlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLnNvdXJjZSwic291cmNlLWxheWVyIjp0aGlzLnNvdXJjZUxheWVyLG1ldGFkYXRhOnRoaXMubWV0YWRhdGEsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20sZmlsdGVyOnRoaXMuZmlsdGVyLGxheW91dDp0aGlzLl91bmV2YWx1YXRlZExheW91dCYmdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2VyaWFsaXplKCkscGFpbnQ6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludCYmdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXJpYWxpemUoKX07cmV0dXJuIHRoaXMudmlzaWJpbGl0eSYmKHQubGF5b3V0PXQubGF5b3V0fHx7fSx0LmxheW91dC52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSksZyh0LChmdW5jdGlvbih0LGUpe3JldHVybiAhKHZvaWQgMD09PXR8fCJsYXlvdXQiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aHx8InBhaW50Ij09PWUmJiFPYmplY3Qua2V5cyh0KS5sZW5ndGgpfSkpfSxlLnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9e30pLCghaXx8ITEhPT1pLnZhbGlkYXRlKSYmTW4odGhpcyx0LmNhbGwoa24se2tleTplLGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5OnIsdmFsdWU6bixzdHlsZVNwZWM6SXQsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfSxlLnByb3RvdHlwZS5pczNEPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5pc1RpbGVDbGlwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5oYXNPZmZzY3JlZW5QYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlzU3RhdGVEZXBlbmRlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wYWludC5fdmFsdWVzKXt2YXIgZT10aGlzLnBhaW50LmdldCh0KTtpZihlIGluc3RhbmNlb2YgY2kmJkVyKGUucHJvcGVydHkuc3BlY2lmaWNhdGlvbikmJigic291cmNlIj09PWUudmFsdWUua2luZHx8ImNvbXBvc2l0ZSI9PT1lLnZhbHVlLmtpbmQpJiZlLnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuICEwfXJldHVybiAhMX0sZX0oa3QpLGJpPXtJbnQ4OkludDhBcnJheSxVaW50ODpVaW50OEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5fSx3aT1mdW5jdGlvbih0LGUpe3RoaXMuX3N0cnVjdEFycmF5PXQsdGhpcy5fcG9zMT1lKnRoaXMuc2l6ZSx0aGlzLl9wb3MyPXRoaXMuX3BvczEvMix0aGlzLl9wb3M0PXRoaXMuX3BvczEvNCx0aGlzLl9wb3M4PXRoaXMuX3BvczEvODt9LF9pPWZ1bmN0aW9uKCl7dGhpcy5pc1RyYW5zZmVycmVkPSExLHRoaXMuY2FwYWNpdHk9LTEsdGhpcy5yZXNpemUoMCk7fTtmdW5jdGlvbiBBaSh0LGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciByPTAsbj0wO3JldHVybiB7bWVtYmVyczp0Lm1hcCgoZnVuY3Rpb24odCl7dmFyIGk9YmlbdC50eXBlXS5CWVRFU19QRVJfRUxFTUVOVCxhPXI9U2kocixNYXRoLm1heChlLGkpKSxvPXQuY29tcG9uZW50c3x8MTtyZXR1cm4gbj1NYXRoLm1heChuLGkpLHIrPWkqbyx7bmFtZTp0Lm5hbWUsdHlwZTp0LnR5cGUsY29tcG9uZW50czpvLG9mZnNldDphfX0pKSxzaXplOlNpKHIsTWF0aC5tYXgobixlKSksYWxpZ25tZW50OmV9fWZ1bmN0aW9uIFNpKHQsZSl7cmV0dXJuIE1hdGguY2VpbCh0L2UpKmV9X2kuc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX3RyaW0oKSxlJiYodC5pc1RyYW5zZmVycmVkPSEwLGUucHVzaCh0LmFycmF5QnVmZmVyKSkse2xlbmd0aDp0Lmxlbmd0aCxhcnJheUJ1ZmZlcjp0LmFycmF5QnVmZmVyfX0sX2kuZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3RvdHlwZSk7cmV0dXJuIGUuYXJyYXlCdWZmZXI9dC5hcnJheUJ1ZmZlcixlLmxlbmd0aD10Lmxlbmd0aCxlLmNhcGFjaXR5PXQuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aC9lLmJ5dGVzUGVyRWxlbWVudCxlLl9yZWZyZXNoVmlld3MoKSxlfSxfaS5wcm90b3R5cGUuX3RyaW09ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSk7fSxfaS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wO30sX2kucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt0aGlzLnJlc2VydmUodCksdGhpcy5sZW5ndGg9dDt9LF9pLnByb3RvdHlwZS5yZXNlcnZlPWZ1bmN0aW9uKHQpe2lmKHQ+dGhpcy5jYXBhY2l0eSl7dGhpcy5jYXBhY2l0eT1NYXRoLm1heCh0LE1hdGguZmxvb3IoNSp0aGlzLmNhcGFjaXR5KSwxMjgpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO3ZhciBlPXRoaXMudWludDg7dGhpcy5fcmVmcmVzaFZpZXdzKCksZSYmdGhpcy51aW50OC5zZXQoZSk7fX0sX2kucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIl9yZWZyZXNoVmlld3MoKSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggY29uY3JldGUgU3RydWN0QXJyYXkgbGF5b3V0Iil9O3ZhciBraT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTIqdDtyZXR1cm4gdGhpcy5pbnQxNltuKzBdPWUsdGhpcy5pbnQxNltuKzFdPXIsdH0sZX0oX2kpO2tpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxGbigiU3RydWN0QXJyYXlMYXlvdXQyaTQiLGtpKTt2YXIgSWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksdCxlLHIsbil9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT00KnQ7cmV0dXJuIHRoaXMuaW50MTZbYSswXT1lLHRoaXMuaW50MTZbYSsxXT1yLHRoaXMuaW50MTZbYSsyXT1uLHRoaXMuaW50MTZbYSszXT1pLHR9LGV9KF9pKTtJaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0NGk4IixJaSk7dmFyIHppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2YXIgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2Uobyx0LGUscixuLGksYSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9Nip0O3JldHVybiB0aGlzLmludDE2W3MrMF09ZSx0aGlzLmludDE2W3MrMV09cix0aGlzLmludDE2W3MrMl09bix0aGlzLmludDE2W3MrM109aSx0aGlzLmludDE2W3MrNF09YSx0aGlzLmludDE2W3MrNV09byx0fSxlfShfaSk7emkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixGbigiU3RydWN0QXJyYXlMYXlvdXQyaTRpMTIiLHppKTt2YXIgQ2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxhKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvKXt2YXIgcz00KnQsdT04KnQ7cmV0dXJuIHRoaXMuaW50MTZbcyswXT1lLHRoaXMuaW50MTZbcysxXT1yLHRoaXMudWludDhbdSs0XT1uLHRoaXMudWludDhbdSs1XT1pLHRoaXMudWludDhbdSs2XT1hLHRoaXMudWludDhbdSs3XT1vLHR9LGV9KF9pKTtDaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0Mmk0dWI4IixDaSk7dmFyIE1pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCl7dmFyIHA9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHArMSksdGhpcy5lbXBsYWNlKHAsdCxlLHIsbixpLGEsbyxzLHUsbCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwKXt2YXIgYz05KnQsaD0xOCp0O3JldHVybiB0aGlzLnVpbnQxNltjKzBdPWUsdGhpcy51aW50MTZbYysxXT1yLHRoaXMudWludDE2W2MrMl09bix0aGlzLnVpbnQxNltjKzNdPWksdGhpcy51aW50MTZbYys0XT1hLHRoaXMudWludDE2W2MrNV09byx0aGlzLnVpbnQxNltjKzZdPXMsdGhpcy51aW50MTZbYys3XT11LHRoaXMudWludDhbaCsxNl09bCx0aGlzLnVpbnQ4W2grMTddPXAsdH0sZX0oX2kpO01pLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0OHVpMnViMTgiLE1pKTt2YXIgRWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjKXt2YXIgaD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaCsxKSx0aGlzLmVtcGxhY2UoaCx0LGUscixuLGksYSxvLHMsdSxsLHAsYyl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCl7dmFyIGY9MTIqdDtyZXR1cm4gdGhpcy5pbnQxNltmKzBdPWUsdGhpcy5pbnQxNltmKzFdPXIsdGhpcy5pbnQxNltmKzJdPW4sdGhpcy5pbnQxNltmKzNdPWksdGhpcy51aW50MTZbZis0XT1hLHRoaXMudWludDE2W2YrNV09byx0aGlzLnVpbnQxNltmKzZdPXMsdGhpcy51aW50MTZbZis3XT11LHRoaXMuaW50MTZbZis4XT1sLHRoaXMuaW50MTZbZis5XT1wLHRoaXMuaW50MTZbZisxMF09Yyx0aGlzLmludDE2W2YrMTFdPWgsdH0sZX0oX2kpO0VpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjQsRm4oIlN0cnVjdEFycmF5TGF5b3V0NGk0dWk0aTI0IixFaSk7dmFyIFRpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTMqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2krMF09ZSx0aGlzLmZsb2F0MzJbaSsxXT1yLHRoaXMuZmxvYXQzMltpKzJdPW4sdH0sZX0oX2kpO1RpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsRm4oIlN0cnVjdEFycmF5TGF5b3V0M2YxMiIsVGkpO3ZhciBQaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudWludDMyWzEqdCswXT1lLHR9LGV9KF9pKTtQaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsRm4oIlN0cnVjdEFycmF5TGF5b3V0MXVsNCIsUGkpO3ZhciBCaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgbD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobCsxKSx0aGlzLmVtcGxhY2UobCx0LGUscixuLGksYSxvLHMsdSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCl7dmFyIHA9MTAqdCxjPTUqdDtyZXR1cm4gdGhpcy5pbnQxNltwKzBdPWUsdGhpcy5pbnQxNltwKzFdPXIsdGhpcy5pbnQxNltwKzJdPW4sdGhpcy5pbnQxNltwKzNdPWksdGhpcy5pbnQxNltwKzRdPWEsdGhpcy5pbnQxNltwKzVdPW8sdGhpcy51aW50MzJbYyszXT1zLHRoaXMudWludDE2W3ArOF09dSx0aGlzLnVpbnQxNltwKzldPWwsdH0sZX0oX2kpO0JpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsRm4oIlN0cnVjdEFycmF5TGF5b3V0NmkxdWwydWkyMCIsQmkpO3ZhciBWaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sdCxlLHIsbixpLGEpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3ZhciBzPTYqdDtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPWUsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy5pbnQxNltzKzJdPW4sdGhpcy5pbnQxNltzKzNdPWksdGhpcy5pbnQxNltzKzRdPWEsdGhpcy5pbnQxNltzKzVdPW8sdH0sZX0oX2kpO1ZpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsRm4oIlN0cnVjdEFycmF5TGF5b3V0MmkyaTJpMTIiLFZpKTt2YXIgRmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSx0LGUscixuLGkpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2YXIgbz00KnQscz04KnQ7cmV0dXJuIHRoaXMuZmxvYXQzMltvKzBdPWUsdGhpcy5mbG9hdDMyW28rMV09cix0aGlzLmZsb2F0MzJbbysyXT1uLHRoaXMuaW50MTZbcys2XT1pLHRoaXMuaW50MTZbcys3XT1hLHR9LGV9KF9pKTtGaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LEZuKCJTdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2IixGaSk7dmFyIERpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTEyKnQsbz0zKnQ7cmV0dXJuIHRoaXMudWludDhbYSswXT1lLHRoaXMudWludDhbYSsxXT1yLHRoaXMuZmxvYXQzMltvKzFdPW4sdGhpcy5mbG9hdDMyW28rMl09aSx0fSxlfShfaSk7RGkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixGbigiU3RydWN0QXJyYXlMYXlvdXQydWIyZjEyIixEaSk7dmFyIExpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT0zKnQ7cmV0dXJuIHRoaXMudWludDE2W2krMF09ZSx0aGlzLnVpbnQxNltpKzFdPXIsdGhpcy51aW50MTZbaSsyXT1uLHR9LGV9KF9pKTtMaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsRm4oIlN0cnVjdEFycmF5TGF5b3V0M3VpNiIsTGkpO3ZhciBSaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSl7dmFyIHY9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHYrMSksdGhpcy5lbXBsYWNlKHYsdCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCxtKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoLGYseSxkLG0sdil7dmFyIGc9MjQqdCx4PTEyKnQsYj00OCp0O3JldHVybiB0aGlzLmludDE2W2crMF09ZSx0aGlzLmludDE2W2crMV09cix0aGlzLnVpbnQxNltnKzJdPW4sdGhpcy51aW50MTZbZyszXT1pLHRoaXMudWludDMyW3grMl09YSx0aGlzLnVpbnQzMlt4KzNdPW8sdGhpcy51aW50MzJbeCs0XT1zLHRoaXMudWludDE2W2crMTBdPXUsdGhpcy51aW50MTZbZysxMV09bCx0aGlzLnVpbnQxNltnKzEyXT1wLHRoaXMuZmxvYXQzMlt4KzddPWMsdGhpcy5mbG9hdDMyW3grOF09aCx0aGlzLnVpbnQ4W2IrMzZdPWYsdGhpcy51aW50OFtiKzM3XT15LHRoaXMudWludDhbYiszOF09ZCx0aGlzLnVpbnQzMlt4KzEwXT1tLHRoaXMuaW50MTZbZysyMl09dix0fSxlfShfaSk7UmkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00OCxGbigiU3RydWN0QXJyYXlMYXlvdXQyaTJ1aTN1bDN1aTJmM3ViMXVsMWk0OCIsUmkpO3ZhciBPaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayxJLHope3ZhciBDPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShDKzEpLHRoaXMuZW1wbGFjZShDLHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayxJLHopfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayxJLHosQyl7dmFyIE09MzQqdCxFPTE3KnQ7cmV0dXJuIHRoaXMuaW50MTZbTSswXT1lLHRoaXMuaW50MTZbTSsxXT1yLHRoaXMuaW50MTZbTSsyXT1uLHRoaXMuaW50MTZbTSszXT1pLHRoaXMuaW50MTZbTSs0XT1hLHRoaXMuaW50MTZbTSs1XT1vLHRoaXMuaW50MTZbTSs2XT1zLHRoaXMuaW50MTZbTSs3XT11LHRoaXMudWludDE2W00rOF09bCx0aGlzLnVpbnQxNltNKzldPXAsdGhpcy51aW50MTZbTSsxMF09Yyx0aGlzLnVpbnQxNltNKzExXT1oLHRoaXMudWludDE2W00rMTJdPWYsdGhpcy51aW50MTZbTSsxM109eSx0aGlzLnVpbnQxNltNKzE0XT1kLHRoaXMudWludDE2W00rMTVdPW0sdGhpcy51aW50MTZbTSsxNl09dix0aGlzLnVpbnQxNltNKzE3XT1nLHRoaXMudWludDE2W00rMThdPXgsdGhpcy51aW50MTZbTSsxOV09Yix0aGlzLnVpbnQxNltNKzIwXT13LHRoaXMudWludDE2W00rMjFdPV8sdGhpcy51aW50MTZbTSsyMl09QSx0aGlzLnVpbnQzMltFKzEyXT1TLHRoaXMuZmxvYXQzMltFKzEzXT1rLHRoaXMuZmxvYXQzMltFKzE0XT1JLHRoaXMuZmxvYXQzMltFKzE1XT16LHRoaXMuZmxvYXQzMltFKzE2XT1DLHR9LGV9KF9pKTtPaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTY4LEZuKCJTdHJ1Y3RBcnJheUxheW91dDhpMTV1aTF1bDRmNjgiLE9pKTt2YXIgVWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKnQrMF09ZSx0fSxlfShfaSk7VWkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LEZuKCJTdHJ1Y3RBcnJheUxheW91dDFmNCIsVWkpO3ZhciBqaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTMqdDtyZXR1cm4gdGhpcy5pbnQxNltpKzBdPWUsdGhpcy5pbnQxNltpKzFdPXIsdGhpcy5pbnQxNltpKzJdPW4sdH0sZX0oX2kpO2ppLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixGbigiU3RydWN0QXJyYXlMYXlvdXQzaTYiLGppKTt2YXIgcWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT00KnQ7cmV0dXJuIHRoaXMudWludDMyWzIqdCswXT1lLHRoaXMudWludDE2W2krMl09cix0aGlzLnVpbnQxNltpKzNdPW4sdH0sZX0oX2kpO3FpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxGbigiU3RydWN0QXJyYXlMYXlvdXQxdWwydWk4IixxaSk7dmFyIE5pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0yKnQ7cmV0dXJuIHRoaXMudWludDE2W24rMF09ZSx0aGlzLnVpbnQxNltuKzFdPXIsdH0sZX0oX2kpO05pLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxGbigiU3RydWN0QXJyYXlMYXlvdXQydWk0IixOaSk7dmFyIEtpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51aW50MTZbMSp0KzBdPWUsdH0sZX0oX2kpO0tpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixGbigiU3RydWN0QXJyYXlMYXlvdXQxdWkyIixLaSk7dmFyIEdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTIqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW24rMF09ZSx0aGlzLmZsb2F0MzJbbisxXT1yLHR9LGV9KF9pKTtHaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsRm4oIlN0cnVjdEFycmF5TGF5b3V0MmY4IixHaSk7dmFyIFppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTQqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0fSxlfShfaSk7WmkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixGbigiU3RydWN0QXJyYXlMYXlvdXQ0ZjE2IixaaSk7dmFyIFhpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgcj17YW5jaG9yUG9pbnRYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclBvaW50WTp7Y29uZmlndXJhYmxlOiEwfSx4MTp7Y29uZmlndXJhYmxlOiEwfSx5MTp7Y29uZmlndXJhYmxlOiEwfSx4Mjp7Y29uZmlndXJhYmxlOiEwfSx5Mjp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sc291cmNlTGF5ZXJJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxidWNrZXRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxhbmNob3JQb2ludDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIHIuYW5jaG9yUG9pbnRYLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfSxyLmFuY2hvclBvaW50WS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci54MS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX0sci55MS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX0sci54Mi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX0sci55Mi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX0sci5mZWF0dXJlSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzNdfSxyLnNvdXJjZUxheWVySW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfSxyLmJ1Y2tldEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX0sci5hbmNob3JQb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5hbmNob3JQb2ludFgsdGhpcy5hbmNob3JQb2ludFkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfSh3aSk7WGkucHJvdG90eXBlLnNpemU9MjA7dmFyIEppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWGkodGhpcyx0KX0sZX0oQmkpO0ZuKCJDb2xsaXNpb25Cb3hBcnJheSIsSmkpO3ZhciBIaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWU7dmFyIHI9e2FuY2hvclg6e2NvbmZpZ3VyYWJsZTohMH0sYW5jaG9yWTp7Y29uZmlndXJhYmxlOiEwfSxnbHlwaFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtR2x5cGhzOntjb25maWd1cmFibGU6ITB9LHZlcnRleFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZVN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZUxlbmd0aDp7Y29uZmlndXJhYmxlOiEwfSxzZWdtZW50Ontjb25maWd1cmFibGU6ITB9LGxvd2VyU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSx1cHBlclNpemU6e2NvbmZpZ3VyYWJsZTohMH0sbGluZU9mZnNldFg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZU9mZnNldFk6e2NvbmZpZ3VyYWJsZTohMH0sd3JpdGluZ01vZGU6e2NvbmZpZ3VyYWJsZTohMH0scGxhY2VkT3JpZW50YXRpb246e2NvbmZpZ3VyYWJsZTohMH0saGlkZGVuOntjb25maWd1cmFibGU6ITB9LGNyb3NzVGlsZUlEOntjb25maWd1cmFibGU6ITB9LGFzc29jaWF0ZWRJY29uSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmFuY2hvclguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5nbHlwaFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfSxyLm51bUdseXBocy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119LHIudmVydGV4U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMl19LHIubGluZVN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzNdfSxyLmxpbmVMZW5ndGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzRdfSxyLnNlZ21lbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEwXX0sci5sb3dlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzExXX0sci51cHBlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEyXX0sci5saW5lT2Zmc2V0WC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzddfSxyLmxpbmVPZmZzZXRZLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrOF19LHIud3JpdGluZ01vZGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzZdfSxyLnBsYWNlZE9yaWVudGF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM3XX0sci5wbGFjZWRPcmllbnRhdGlvbi5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSszN109dDt9LHIuaGlkZGVuLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM4XX0sci5oaWRkZW4uc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzhdPXQ7fSxyLmNyb3NzVGlsZUlELmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxMF19LHIuY3Jvc3NUaWxlSUQuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEwXT10O30sci5hc3NvY2lhdGVkSWNvbkluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzIyXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsciksZX0od2kpO0hpLnByb3RvdHlwZS5zaXplPTQ4O3ZhciBZaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEhpKHRoaXMsdCl9LGV9KFJpKTtGbigiUGxhY2VkU3ltYm9sQXJyYXkiLFlpKTt2YXIgJGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO310JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lO3ZhciByPXthbmNob3JYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclk6e2NvbmZpZ3VyYWJsZTohMH0scmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0scGxhY2VkSWNvblN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LGtleTp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94RW5kSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxUZXh0Qm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxpY29uQm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxpY29uQm94RW5kSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxJY29uQm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMH0sbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9LG51bUljb25WZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSxudW1WZXJ0aWNhbEljb25WZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSx1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlczp7Y29uZmlndXJhYmxlOiEwfSxjcm9zc1RpbGVJRDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94U2NhbGU6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDA6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDE6e2NvbmZpZ3VyYWJsZTohMH0sY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXI6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmFuY2hvclguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX0sci5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119LHIubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX0sci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX0sci5wbGFjZWRJY29uU3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNl19LHIudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrN119LHIua2V5LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis4XX0sci50ZXh0Qm94U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV19LHIudGV4dEJveEVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMF19LHIudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTFdfSxyLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMl19LHIuaWNvbkJveFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEzXX0sci5pY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE0XX0sci52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNV19LHIudmVydGljYWxJY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX0sci5mZWF0dXJlSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX0sci5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfSxyLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfSxyLm51bUljb25WZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfSxyLm51bVZlcnRpY2FsSWNvblZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19LHIudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIyXX0sci5jcm9zc1RpbGVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTJdfSxyLmNyb3NzVGlsZUlELnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxMl09dDt9LHIudGV4dEJveFNjYWxlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTNdfSxyLnRleHRPZmZzZXQwLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTRdfSxyLnRleHRPZmZzZXQxLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTVdfSxyLmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfSh3aSk7JGkucHJvdG90eXBlLnNpemU9Njg7dmFyIFdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgJGkodGhpcyx0KX0sZX0oT2kpO0ZuKCJTeW1ib2xJbnN0YW5jZUFycmF5IixXaSk7dmFyIFFpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0b2Zmc2V0WD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqdCswXX0sZX0oVWkpO0ZuKCJHbHlwaE9mZnNldEFycmF5IixRaSk7dmFyIHRhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0eD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMF19LGUucHJvdG90eXBlLmdldHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzFdfSxlLnByb3RvdHlwZS5nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMl19LGV9KGppKTtGbigiU3ltYm9sTGluZVZlcnRleEFycmF5Iix0YSk7dmFyIGVhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgcj17ZmVhdHVyZUluZGV4Ontjb25maWd1cmFibGU6ITB9LHNvdXJjZUxheWVySW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sYnVja2V0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmZlYXR1cmVJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMF19LHIuc291cmNlTGF5ZXJJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMl19LHIuYnVja2V0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzNdfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfSh3aSk7ZWEucHJvdG90eXBlLnNpemU9ODt2YXIgcmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlYSh0aGlzLHQpfSxlfShxaSk7Rm4oIkZlYXR1cmVJbmRleEFycmF5IixyYSk7dmFyIG5hPUFpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLGlhPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVtdKSx0aGlzLnNlZ21lbnRzPXQ7fTtmdW5jdGlvbiBhYSh0LGUpe3JldHVybiAyNTYqKHQ9dShNYXRoLmZsb29yKHQpLDAsMjU1KSkrdShNYXRoLmZsb29yKGUpLDAsMjU1KX1pYS5wcm90b3R5cGUucHJlcGFyZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5zZWdtZW50c1t0aGlzLnNlZ21lbnRzLmxlbmd0aC0xXTtyZXR1cm4gdD5pYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCYmdygiTWF4IHZlcnRpY2VzIHBlciBzZWdtZW50IGlzICIraWEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgrIjogYnVja2V0IHJlcXVlc3RlZCAiK3QpLCghaXx8aS52ZXJ0ZXhMZW5ndGgrdD5pYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSHx8aS5zb3J0S2V5IT09bikmJihpPXt2ZXJ0ZXhPZmZzZXQ6ZS5sZW5ndGgscHJpbWl0aXZlT2Zmc2V0OnIubGVuZ3RoLHZlcnRleExlbmd0aDowLHByaW1pdGl2ZUxlbmd0aDowfSx2b2lkIDAhPT1uJiYoaS5zb3J0S2V5PW4pLHRoaXMuc2VnbWVudHMucHVzaChpKSksaX0saWEucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZ21lbnRzfSxpYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5zZWdtZW50czt0PGUubGVuZ3RoO3QrPTEpe3ZhciByPWVbdF07Zm9yKHZhciBuIGluIHIudmFvcylyLnZhb3Nbbl0uZGVzdHJveSgpO319LGlhLnNpbXBsZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG5ldyBpYShbe3ZlcnRleE9mZnNldDp0LHByaW1pdGl2ZU9mZnNldDplLHZlcnRleExlbmd0aDpyLHByaW1pdGl2ZUxlbmd0aDpuLHZhb3M6e30sc29ydEtleTowfV0pfSxpYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSD1NYXRoLnBvdygyLDE2KS0xLEZuKCJTZWdtZW50VmVjdG9yIixpYSk7dmFyIG9hPUFpKFt7bmFtZToiYV9wYXR0ZXJuX2Zyb20iLGNvbXBvbmVudHM6NCx0eXBlOiJVaW50MTYifSx7bmFtZToiYV9wYXR0ZXJuX3RvIixjb21wb25lbnRzOjQsdHlwZToiVWludDE2In0se25hbWU6ImFfcGl4ZWxfcmF0aW9fZnJvbSIsY29tcG9uZW50czoxLHR5cGU6IlVpbnQ4In0se25hbWU6ImFfcGl4ZWxfcmF0aW9fdG8iLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50OCJ9XSksc2E9ZSgoZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEsbyxzLHUsbDtmb3Iobj10Lmxlbmd0aC0ocj0zJnQubGVuZ3RoKSxpPWUsbz0zNDMyOTE4MzUzLHM9NDYxODQ1OTA3LGw9MDtsPG47KXU9MjU1JnQuY2hhckNvZGVBdChsKXwoMjU1JnQuY2hhckNvZGVBdCgrK2wpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK2wpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKytsKSk8PDI0LCsrbCxpPTI3NDkyKyg2NTUzNSYoYT01Kig2NTUzNSYoaT0oaV49dT0oNjU1MzUmKHU9KHU9KDY1NTM1JnUpKm8rKCgodT4+PjE2KSpvJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXx1Pj4+MTcpKSpzKygoKHU+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8aT4+PjE5KSkrKCg1KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhhPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaCh1PTAscil7Y2FzZSAzOnVePSgyNTUmdC5jaGFyQ29kZUF0KGwrMikpPDwxNjtjYXNlIDI6dV49KDI1NSZ0LmNoYXJDb2RlQXQobCsxKSk8PDg7Y2FzZSAxOmlePXU9KDY1NTM1Jih1PSh1PSg2NTUzNSYodV49MjU1JnQuY2hhckNvZGVBdChsKSkpKm8rKCgodT4+PjE2KSpvJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXx1Pj4+MTcpKSpzKygoKHU+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1O31yZXR1cm4gaV49dC5sZW5ndGgsaT0yMjQ2ODIyNTA3Kig2NTUzNSYoaV49aT4+PjE2KSkrKCgyMjQ2ODIyNTA3KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsaT0zMjY2NDg5OTA5Kig2NTUzNSYoaV49aT4+PjEzKSkrKCgzMjY2NDg5OTA5KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKGlePWk+Pj4xNik+Pj4wfTt9KSksdWE9ZSgoZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLG49dC5sZW5ndGgsaT1lXm4sYT0wO24+PTQ7KXI9MTU0MDQ4MzQ3NyooNjU1MzUmKHI9MjU1JnQuY2hhckNvZGVBdChhKXwoMjU1JnQuY2hhckNvZGVBdCgrK2EpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK2EpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKythKSk8PDI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpLGk9MTU0MDQ4MzQ3NyooNjU1MzUmaSkrKCgxNTQwNDgzNDc3KihpPj4+MTYpJjY1NTM1KTw8MTYpXihyPTE1NDA0ODM0NzcqKDY1NTM1JihyXj1yPj4+MjQpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNikpLG4tPTQsKythO3N3aXRjaChuKXtjYXNlIDM6aV49KDI1NSZ0LmNoYXJDb2RlQXQoYSsyKSk8PDE2O2Nhc2UgMjppXj0oMjU1JnQuY2hhckNvZGVBdChhKzEpKTw8ODtjYXNlIDE6aT0xNTQwNDgzNDc3Kig2NTUzNSYoaV49MjU1JnQuY2hhckNvZGVBdChhKSkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KTt9cmV0dXJuIGk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePWk+Pj4xMykpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KSwoaV49aT4+PjE1KT4+PjB9O30pKSxsYT1zYSxwYT11YTtsYS5tdXJtdXIzPXNhLGxhLm11cm11cjI9cGE7dmFyIGNhPWZ1bmN0aW9uKCl7dGhpcy5pZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExO307Y2EucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUscixuKXt0aGlzLmlkcy5wdXNoKGZhKHQpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKGUscixuKTt9LGNhLnByb3RvdHlwZS5nZXRQb3NpdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWZhKHQpLHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO3I8bjspe3ZhciBpPXIrbj4+MTt0aGlzLmlkc1tpXT49ZT9uPWk6cj1pKzE7fWZvcih2YXIgYT1bXTt0aGlzLmlkc1tyXT09PWU7KWEucHVzaCh7aW5kZXg6dGhpcy5wb3NpdGlvbnNbMypyXSxzdGFydDp0aGlzLnBvc2l0aW9uc1szKnIrMV0sZW5kOnRoaXMucG9zaXRpb25zWzMqcisyXX0pLHIrKztyZXR1cm4gYX0sY2Euc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IEZsb2F0NjRBcnJheSh0Lmlkcyksbj1uZXcgVWludDMyQXJyYXkodC5wb3NpdGlvbnMpO3JldHVybiBmdW5jdGlvbiB0KGUscixuLGkpe2Zvcig7bjxpOyl7Zm9yKHZhciBhPWVbbitpPj4xXSxvPW4tMSxzPWkrMTs7KXtkb3tvKys7fXdoaWxlKGVbb108YSk7ZG97cy0tO313aGlsZShlW3NdPmEpO2lmKG8+PXMpYnJlYWs7eWEoZSxvLHMpLHlhKHIsMypvLDMqcykseWEociwzKm8rMSwzKnMrMSkseWEociwzKm8rMiwzKnMrMik7fXMtbjxpLXM/KHQoZSxyLG4scyksbj1zKzEpOih0KGUscixzKzEsaSksaT1zKTt9fShyLG4sMCxyLmxlbmd0aC0xKSxlJiZlLnB1c2goci5idWZmZXIsbi5idWZmZXIpLHtpZHM6cixwb3NpdGlvbnM6bn19LGNhLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjYTtyZXR1cm4gZS5pZHM9dC5pZHMsZS5wb3NpdGlvbnM9dC5wb3NpdGlvbnMsZS5pbmRleGVkPSEwLGV9O3ZhciBoYT1NYXRoLnBvdygyLDUzKS0xO2Z1bmN0aW9uIGZhKHQpe3ZhciBlPSt0O3JldHVybiAhaXNOYU4oZSkmJmU8PWhhP2U6bGEoU3RyaW5nKHQpKX1mdW5jdGlvbiB5YSh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31GbigiRmVhdHVyZVBvc2l0aW9uTWFwIixjYSk7dmFyIGRhPWZ1bmN0aW9uKHQsZSl7dGhpcy5nbD10LmdsLHRoaXMubG9jYXRpb249ZTt9LG1hPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0wO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMubG9jYXRpb24sdCkpO30sZX0oZGEpLHZhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0wO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMubG9jYXRpb24sdCkpO30sZX0oZGEpLGdhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD1bMCwwXTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RbMF09PT10aGlzLmN1cnJlbnRbMF0mJnRbMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLHRbMF0sdFsxXSkpO30sZX0oZGEpLHhhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD1bMCwwLDBdO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dFswXT09PXRoaXMuY3VycmVudFswXSYmdFsxXT09PXRoaXMuY3VycmVudFsxXSYmdFsyXT09PXRoaXMuY3VycmVudFsyXXx8KHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTNmKHRoaXMubG9jYXRpb24sdFswXSx0WzFdLHRbMl0pKTt9LGV9KGRhKSxiYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9WzAsMCwwLDBdO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dFswXT09PXRoaXMuY3VycmVudFswXSYmdFsxXT09PXRoaXMuY3VycmVudFsxXSYmdFsyXT09PXRoaXMuY3VycmVudFsyXSYmdFszXT09PXRoaXMuY3VycmVudFszXXx8KHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24sdFswXSx0WzFdLHRbMl0sdFszXSkpO30sZX0oZGEpLHdhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0kdC50cmFuc3BhcmVudDt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3Qucj09PXRoaXMuY3VycmVudC5yJiZ0Lmc9PT10aGlzLmN1cnJlbnQuZyYmdC5iPT09dGhpcy5jdXJyZW50LmImJnQuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbix0LnIsdC5nLHQuYix0LmEpKTt9LGV9KGRhKSxfYT1uZXcgRmxvYXQzMkFycmF5KDE2KSxBYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9X2E7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0WzEyXSE9PXRoaXMuY3VycmVudFsxMl18fHRbMF0hPT10aGlzLmN1cnJlbnRbMF0pcmV0dXJuIHRoaXMuY3VycmVudD10LHZvaWQgdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb24sITEsdCk7Zm9yKHZhciBlPTE7ZTwxNjtlKyspaWYodFtlXSE9PXRoaXMuY3VycmVudFtlXSl7dGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb24sITEsdCk7YnJlYWt9fSxlfShkYSk7ZnVuY3Rpb24gU2EodCl7cmV0dXJuIFthYSgyNTUqdC5yLDI1NSp0LmcpLGFhKDI1NSp0LmIsMjU1KnQuYSldfXZhciBrYT1mdW5jdGlvbih0LGUscil7dGhpcy52YWx1ZT10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0fSkpLHRoaXMudHlwZT1yO307a2EucHJvdG90eXBlLnNldFVuaWZvcm09ZnVuY3Rpb24odCxlLHIpe3Quc2V0KHIuY29uc3RhbnRPcih0aGlzLnZhbHVlKSk7fSxrYS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuICJjb2xvciI9PT10aGlzLnR5cGU/bmV3IHdhKHQsZSk6bmV3IHZhKHQsZSl9O3ZhciBJYT1mdW5jdGlvbih0LGUpe3RoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0fSkpLHRoaXMucGF0dGVybkZyb209bnVsbCx0aGlzLnBhdHRlcm5Ubz1udWxsLHRoaXMucGl4ZWxSYXRpb0Zyb209MSx0aGlzLnBpeGVsUmF0aW9Ubz0xO307SWEucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbih0LGUpe3RoaXMucGl4ZWxSYXRpb0Zyb209ZS5waXhlbFJhdGlvLHRoaXMucGl4ZWxSYXRpb1RvPXQucGl4ZWxSYXRpbyx0aGlzLnBhdHRlcm5Gcm9tPWUudGxicix0aGlzLnBhdHRlcm5Ubz10LnRsYnI7fSxJYS5wcm90b3R5cGUuc2V0VW5pZm9ybT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT0idV9wYXR0ZXJuX3RvIj09PW4/dGhpcy5wYXR0ZXJuVG86InVfcGF0dGVybl9mcm9tIj09PW4/dGhpcy5wYXR0ZXJuRnJvbToidV9waXhlbF9yYXRpb190byI9PT1uP3RoaXMucGl4ZWxSYXRpb1RvOiJ1X3BpeGVsX3JhdGlvX2Zyb20iPT09bj90aGlzLnBpeGVsUmF0aW9Gcm9tOm51bGw7aSYmdC5zZXQoaSk7fSxJYS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuICJ1X3BhdHRlcm4iPT09ci5zdWJzdHIoMCw5KT9uZXcgYmEodCxlKTpuZXcgdmEodCxlKX07dmFyIHphPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudHlwZT1yLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHtuYW1lOiJhXyIrdCx0eXBlOiJGbG9hdDMyIixjb21wb25lbnRzOiJjb2xvciI9PT1yPzI6MSxvZmZzZXQ6MH19KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBuO307emEucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGgsbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKDApLGUse30sbixbXSxpKTt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKHQpLHRoaXMuX3NldFBhaW50VmFsdWUoYSx0LG8pO30semEucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOjB9LHIsbik7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUsaSk7fSx6YS5wcm90b3R5cGUuX3NldFBhaW50VmFsdWU9ZnVuY3Rpb24odCxlLHIpe2lmKCJjb2xvciI9PT10aGlzLnR5cGUpZm9yKHZhciBuPVNhKHIpLGk9dDtpPGU7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGksblswXSxuWzFdKTtlbHNlIHtmb3IodmFyIGE9dDthPGU7YSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGEscik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpKTt9fSx6YS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LHphLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fTt2YXIgQ2E9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0KyJfdCJ9KSksdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHtuYW1lOiJhXyIrdCx0eXBlOiJGbG9hdDMyIixjb21wb25lbnRzOiJjb2xvciI9PT1yPzQ6MixvZmZzZXQ6MH19KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBhO307Q2EucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgaWkodGhpcy56b29tKSxlLHt9LG4sW10saSksbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGlpKHRoaXMuem9vbSsxKSxlLHt9LG4sW10saSkscz10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy5fc2V0UGFpbnRWYWx1ZShzLHQsYSxvKTt9LENhLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb219LHIsbiksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzF9LHIsbik7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUsaSxhKTt9LENhLnByb3RvdHlwZS5fc2V0UGFpbnRWYWx1ZT1mdW5jdGlvbih0LGUscixuKXtpZigiY29sb3IiPT09dGhpcy50eXBlKWZvcih2YXIgaT1TYShyKSxhPVNhKG4pLG89dDtvPGU7bysrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8saVswXSxpWzFdLGFbMF0sYVsxXSk7ZWxzZSB7Zm9yKHZhciBzPXQ7czxlO3MrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShzLHIsbik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpLE1hdGguYWJzKG4pKTt9fSxDYS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LENhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fSxDYS5wcm90b3R5cGUuc2V0VW5pZm9ybT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihlLnpvb20pOmUuem9vbSxuPXUodGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iocix0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7dC5zZXQobik7fSxDYS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyB2YSh0LGUpfTt2YXIgTWE9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudHlwZT1lLHRoaXMudXNlSW50ZWdlclpvb209cix0aGlzLnpvb209bix0aGlzLmxheWVySWQ9YSx0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXk9bmV3IGksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheT1uZXcgaTt9O01hLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlcyhuLHQsZS5wYXR0ZXJucyYmZS5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLHIpO30sTWEucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLl9zZXRQYWludFZhbHVlcyh0LGUsci5wYXR0ZXJucyYmci5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLGkpO30sTWEucHJvdG90eXBlLl9zZXRQYWludFZhbHVlcz1mdW5jdGlvbih0LGUscixuKXtpZihuJiZyKXt2YXIgaT1uW3IubWluXSxhPW5bci5taWRdLG89bltyLm1heF07aWYoaSYmYSYmbylmb3IodmFyIHM9dDtzPGU7cysrKXRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHMsYS50bFswXSxhLnRsWzFdLGEuYnJbMF0sYS5iclsxXSxpLnRsWzBdLGkudGxbMV0saS5iclswXSxpLmJyWzFdLGEucGl4ZWxSYXRpbyxpLnBpeGVsUmF0aW8pLHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShzLGEudGxbMF0sYS50bFsxXSxhLmJyWzBdLGEuYnJbMV0sby50bFswXSxvLnRsWzFdLG8uYnJbMF0sby5iclsxXSxhLnBpeGVsUmF0aW8sby5waXhlbFJhdGlvKTt9fSxNYS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5JiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXksb2EubWVtYmVycyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSxvYS5tZW1iZXJzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSk7fSxNYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlciYmdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fTt2YXIgRWE9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5iaW5kZXJzPXt9LHRoaXMubGF5b3V0QXR0cmlidXRlcz1uLHRoaXMuX2J1ZmZlcnM9W107dmFyIGk9W107Zm9yKHZhciBhIGluIHQucGFpbnQuX3ZhbHVlcylpZihyKGEpKXt2YXIgbz10LnBhaW50LmdldChhKTtpZihvIGluc3RhbmNlb2YgY2kmJkVyKG8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbikpe3ZhciBzPVBhKGEsdC50eXBlKSx1PW8udmFsdWUsbD1vLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSxwPW8ucHJvcGVydHkudXNlSW50ZWdlclpvb20sYz1vLnByb3BlcnR5LnNwZWNpZmljYXRpb25bInByb3BlcnR5LXR5cGUiXSxoPSJjcm9zcy1mYWRlZCI9PT1jfHwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4iPT09YztpZigiY29uc3RhbnQiPT09dS5raW5kKXRoaXMuYmluZGVyc1thXT1oP25ldyBJYSh1LnZhbHVlLHMpOm5ldyBrYSh1LnZhbHVlLHMsbCksaS5wdXNoKCIvdV8iK2EpO2Vsc2UgaWYoInNvdXJjZSI9PT11LmtpbmR8fGgpe3ZhciBmPUJhKGEsbCwic291cmNlIik7dGhpcy5iaW5kZXJzW2FdPWg/bmV3IE1hKHUsbCxwLGUsZix0LmlkKTpuZXcgemEodSxzLGwsZiksaS5wdXNoKCIvYV8iK2EpO31lbHNlIHt2YXIgeT1CYShhLGwsImNvbXBvc2l0ZSIpO3RoaXMuYmluZGVyc1thXT1uZXcgQ2EodSxzLGwscCxlLHkpLGkucHVzaCgiL3pfIithKTt9fX10aGlzLmNhY2hlS2V5PWkuc29ydCgpLmpvaW4oIiIpO307RWEucHJvdG90eXBlLmdldE1heFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmluZGVyc1t0XTtyZXR1cm4gZSBpbnN0YW5jZW9mIHphfHxlIGluc3RhbmNlb2YgQ2E/ZS5tYXhWYWx1ZTowfSxFYS5wcm90b3R5cGUucG9wdWxhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYSBpbiB0aGlzLmJpbmRlcnMpe3ZhciBvPXRoaXMuYmluZGVyc1thXTsobyBpbnN0YW5jZW9mIHphfHxvIGluc3RhbmNlb2YgQ2F8fG8gaW5zdGFuY2VvZiBNYSkmJm8ucG9wdWxhdGVQYWludEFycmF5KHQsZSxyLG4saSk7fX0sRWEucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiB0aGlzLmJpbmRlcnMpe3ZhciBuPXRoaXMuYmluZGVyc1tyXTtuIGluc3RhbmNlb2YgSWEmJm4uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsZSk7fX0sRWEucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9ITE7Zm9yKHZhciBvIGluIHQpZm9yKHZhciBzPTAsdT1lLmdldFBvc2l0aW9ucyhvKTtzPHUubGVuZ3RoO3MrPTEpe3ZhciBsPXVbc10scD1yLmZlYXR1cmUobC5pbmRleCk7Zm9yKHZhciBjIGluIHRoaXMuYmluZGVycyl7dmFyIGg9dGhpcy5iaW5kZXJzW2NdO2lmKChoIGluc3RhbmNlb2YgemF8fGggaW5zdGFuY2VvZiBDYXx8aCBpbnN0YW5jZW9mIE1hKSYmITA9PT1oLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCl7dmFyIGY9bi5wYWludC5nZXQoYyk7aC5leHByZXNzaW9uPWYudmFsdWUsaC51cGRhdGVQYWludEFycmF5KGwuc3RhcnQsbC5lbmQscCx0W29dLGkpLGE9ITA7fX19cmV0dXJuIGF9LEVhLnByb3RvdHlwZS5kZWZpbmVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuYmluZGVycyl7dmFyIHI9dGhpcy5iaW5kZXJzW2VdOyhyIGluc3RhbmNlb2Yga2F8fHIgaW5zdGFuY2VvZiBJYSkmJnQucHVzaC5hcHBseSh0LHIudW5pZm9ybU5hbWVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICIjZGVmaW5lIEhBU19VTklGT1JNXyIrdH0pKSk7fXJldHVybiB0fSxFYS5wcm90b3R5cGUuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9LEVhLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbih0LGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0aGlzLmJpbmRlcnMpe3ZhciBpPXRoaXMuYmluZGVyc1tuXTtpZihpIGluc3RhbmNlb2Yga2F8fGkgaW5zdGFuY2VvZiBJYXx8aSBpbnN0YW5jZW9mIENhKWZvcih2YXIgYT0wLG89aS51bmlmb3JtTmFtZXM7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO2lmKGVbc10pe3ZhciB1PWkuZ2V0QmluZGluZyh0LGVbc10scyk7ci5wdXNoKHtuYW1lOnMscHJvcGVydHk6bixiaW5kaW5nOnV9KTt9fX1yZXR1cm4gcn0sRWEucHJvdG90eXBlLnNldFVuaWZvcm1zPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV0scz1vLm5hbWUsdT1vLnByb3BlcnR5O3RoaXMuYmluZGVyc1t1XS5zZXRVbmlmb3JtKG8uYmluZGluZyxuLHIuZ2V0KHUpLHMpO319LEVhLnByb3RvdHlwZS51cGRhdGVQYWludEJ1ZmZlcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX2J1ZmZlcnM9W10sdGhpcy5iaW5kZXJzKXt2YXIgcj10aGlzLmJpbmRlcnNbZV07aWYodCYmciBpbnN0YW5jZW9mIE1hKXt2YXIgbj0yPT09dC5mcm9tU2NhbGU/ci56b29tSW5QYWludFZlcnRleEJ1ZmZlcjpyLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcjtuJiZ0aGlzLl9idWZmZXJzLnB1c2gobik7fWVsc2UgKHIgaW5zdGFuY2VvZiB6YXx8ciBpbnN0YW5jZW9mIENhKSYmci5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5fYnVmZmVycy5wdXNoKHIucGFpbnRWZXJ0ZXhCdWZmZXIpO319LEVhLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYmluZGVycyl7dmFyIHI9dGhpcy5iaW5kZXJzW2VdOyhyIGluc3RhbmNlb2YgemF8fHIgaW5zdGFuY2VvZiBDYXx8ciBpbnN0YW5jZW9mIE1hKSYmci51cGxvYWQodCk7fXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCk7fSxFYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmJpbmRlcnMpe3ZhciBlPXRoaXMuYmluZGVyc1t0XTsoZSBpbnN0YW5jZW9mIHphfHxlIGluc3RhbmNlb2YgQ2F8fGUgaW5zdGFuY2VvZiBNYSkmJmUuZGVzdHJveSgpO319O3ZhciBUYT1mdW5jdGlvbih0LGUscixuKXt2b2lkIDA9PT1uJiYobj1mdW5jdGlvbigpe3JldHVybiAhMH0pLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF09bmV3IEVhKG8scixuLHQpO310aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IGNhLHRoaXMuX2J1ZmZlck9mZnNldD0wO307ZnVuY3Rpb24gUGEodCxlKXtyZXR1cm4geyJ0ZXh0LW9wYWNpdHkiOlsib3BhY2l0eSJdLCJpY29uLW9wYWNpdHkiOlsib3BhY2l0eSJdLCJ0ZXh0LWNvbG9yIjpbImZpbGxfY29sb3IiXSwiaWNvbi1jb2xvciI6WyJmaWxsX2NvbG9yIl0sInRleHQtaGFsby1jb2xvciI6WyJoYWxvX2NvbG9yIl0sImljb24taGFsby1jb2xvciI6WyJoYWxvX2NvbG9yIl0sInRleHQtaGFsby1ibHVyIjpbImhhbG9fYmx1ciJdLCJpY29uLWhhbG8tYmx1ciI6WyJoYWxvX2JsdXIiXSwidGV4dC1oYWxvLXdpZHRoIjpbImhhbG9fd2lkdGgiXSwiaWNvbi1oYWxvLXdpZHRoIjpbImhhbG9fd2lkdGgiXSwibGluZS1nYXAtd2lkdGgiOlsiZ2Fwd2lkdGgiXSwibGluZS1wYXR0ZXJuIjpbInBhdHRlcm5fdG8iLCJwYXR0ZXJuX2Zyb20iLCJwaXhlbF9yYXRpb190byIsInBpeGVsX3JhdGlvX2Zyb20iXSwiZmlsbC1wYXR0ZXJuIjpbInBhdHRlcm5fdG8iLCJwYXR0ZXJuX2Zyb20iLCJwaXhlbF9yYXRpb190byIsInBpeGVsX3JhdGlvX2Zyb20iXSwiZmlsbC1leHRydXNpb24tcGF0dGVybiI6WyJwYXR0ZXJuX3RvIiwicGF0dGVybl9mcm9tIiwicGl4ZWxfcmF0aW9fdG8iLCJwaXhlbF9yYXRpb19mcm9tIl19W3RdfHxbdC5yZXBsYWNlKGUrIi0iLCIiKS5yZXBsYWNlKC8tL2csIl8iKV19ZnVuY3Rpb24gQmEodCxlLHIpe3ZhciBuPXtjb2xvcjp7c291cmNlOkdpLGNvbXBvc2l0ZTpaaX0sbnVtYmVyOntzb3VyY2U6VWksY29tcG9zaXRlOkdpfX0saT1mdW5jdGlvbih0KXtyZXR1cm4geyJsaW5lLXBhdHRlcm4iOntzb3VyY2U6TWksY29tcG9zaXRlOk1pfSwiZmlsbC1wYXR0ZXJuIjp7c291cmNlOk1pLGNvbXBvc2l0ZTpNaX0sImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iOntzb3VyY2U6TWksY29tcG9zaXRlOk1pfX1bdF19KHQpO3JldHVybiBpJiZpW3JdfHxuW2VdW3JdfVRhLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtmb3IodmFyIG8gaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbb10ucG9wdWxhdGVQYWludEFycmF5cyh0LGUsbixpLGEpO3ZvaWQgMCE9PWUuaWQmJnRoaXMuX2ZlYXR1cmVNYXAuYWRkKGUuaWQscix0aGlzLl9idWZmZXJPZmZzZXQsdCksdGhpcy5fYnVmZmVyT2Zmc2V0PXQsdGhpcy5uZWVkc1VwbG9hZD0hMDt9LFRhLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPXI7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO3RoaXMubmVlZHNVcGxvYWQ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF0udXBkYXRlUGFpbnRBcnJheXModCx0aGlzLl9mZWF0dXJlTWFwLGUsbyxuKXx8dGhpcy5uZWVkc1VwbG9hZDt9fSxUYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XX0sVGEucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXtpZih0aGlzLm5lZWRzVXBsb2FkKXtmb3IodmFyIGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0udXBsb2FkKHQpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX0sVGEucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0uZGVzdHJveSgpO30sRm4oIkNvbnN0YW50QmluZGVyIixrYSksRm4oIkNyb3NzRmFkZWRDb25zdGFudEJpbmRlciIsSWEpLEZuKCJTb3VyY2VFeHByZXNzaW9uQmluZGVyIix6YSksRm4oIkNyb3NzRmFkZWRDb21wb3NpdGVCaW5kZXIiLE1hKSxGbigiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlciIsQ2EpLEZuKCJQcm9ncmFtQ29uZmlndXJhdGlvbiIsRWEse29taXQ6WyJfYnVmZmVycyJdfSksRm4oIlByb2dyYW1Db25maWd1cmF0aW9uU2V0IixUYSk7dmFyIFZhPXttaW46LTEqTWF0aC5wb3coMiwxNCksbWF4Ok1hdGgucG93KDIsMTQpLTF9O2Z1bmN0aW9uIEZhKHQpe2Zvcih2YXIgZT04MTkyL3QuZXh0ZW50LHI9dC5sb2FkR2VvbWV0cnkoKSxuPTA7bjxyLmxlbmd0aDtuKyspZm9yKHZhciBpPXJbbl0sYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgbz1pW2FdO28ueD1NYXRoLnJvdW5kKG8ueCplKSxvLnk9TWF0aC5yb3VuZChvLnkqZSksKG8ueDxWYS5taW58fG8ueD5WYS5tYXh8fG8ueTxWYS5taW58fG8ueT5WYS5tYXgpJiYodygiR2VvbWV0cnkgZXhjZWVkcyBhbGxvd2VkIGV4dGVudCwgcmVkdWNlIHlvdXIgdmVjdG9yIHRpbGUgYnVmZmVyIHNpemUiKSxvLng9dShvLngsVmEubWluLFZhLm1heCksby55PXUoby55LFZhLm1pbixWYS5tYXgpKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gRGEodCxlLHIsbixpKXt0LmVtcGxhY2VCYWNrKDIqZSsobisxKS8yLDIqcisoaSsxKS8yKTt9dmFyIExhPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGtpLHRoaXMuaW5kZXhBcnJheT1uZXcgTGksdGhpcy5zZWdtZW50cz1uZXcgaWEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFRhKG5hLHQubGF5ZXJzLHQuem9vbSksdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtmdW5jdGlvbiBSYSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKFhhKGUsdFtyXSkpcmV0dXJuICEwO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKFhhKHQsZVtuXSkpcmV0dXJuICEwO3JldHVybiAhIXFhKHQsZSl9ZnVuY3Rpb24gT2EodCxlLHIpe3JldHVybiAhIVhhKHQsZSl8fCEhS2EoZSx0LHIpfWZ1bmN0aW9uIFVhKHQsZSl7aWYoMT09PXQubGVuZ3RoKXJldHVybiBaYShlLHRbMF0pO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1lW3JdLGk9MDtpPG4ubGVuZ3RoO2krKylpZihYYSh0LG5baV0pKXJldHVybiAhMDtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKylpZihaYShlLHRbYV0pKXJldHVybiAhMDtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylpZihxYSh0LGVbb10pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gamEodCxlLHIpe2lmKHQubGVuZ3RoPjEpe2lmKHFhKHQsZSkpcmV0dXJuICEwO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKEthKGVbbl0sdCxyKSlyZXR1cm4gITB9Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoS2EodFtpXSxlLHIpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcWEodCxlKXtpZigwPT09dC5sZW5ndGh8fDA9PT1lLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aC0xO3IrKylmb3IodmFyIG49dFtyXSxpPXRbcisxXSxhPTA7YTxlLmxlbmd0aC0xO2ErKylpZihOYShuLGksZVthXSxlW2ErMV0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gTmEodCxlLHIsbil7cmV0dXJuIF8odCxyLG4pIT09XyhlLHIsbikmJl8odCxlLHIpIT09Xyh0LGUsbil9ZnVuY3Rpb24gS2EodCxlLHIpe3ZhciBuPXIqcjtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHQuZGlzdFNxcihlWzBdKTxuO2Zvcih2YXIgaT0xO2k8ZS5sZW5ndGg7aSsrKWlmKEdhKHQsZVtpLTFdLGVbaV0pPG4pcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBHYSh0LGUscil7dmFyIG49ZS5kaXN0U3FyKHIpO2lmKDA9PT1uKXJldHVybiB0LmRpc3RTcXIoZSk7dmFyIGk9KCh0LngtZS54KSooci54LWUueCkrKHQueS1lLnkpKihyLnktZS55KSkvbjtyZXR1cm4gdC5kaXN0U3FyKGk8MD9lOmk+MT9yOnIuc3ViKGUpLl9tdWx0KGkpLl9hZGQoZSkpfWZ1bmN0aW9uIFphKHQsZSl7Zm9yKHZhciByLG4saSxhPSExLG89MDtvPHQubGVuZ3RoO28rKylmb3IodmFyIHM9MCx1PShyPXRbb10pLmxlbmd0aC0xO3M8ci5sZW5ndGg7dT1zKyspKG49cltzXSkueT5lLnkhPShpPXJbdV0pLnk+ZS55JiZlLng8KGkueC1uLngpKihlLnktbi55KS8oaS55LW4ueSkrbi54JiYoYT0hYSk7cmV0dXJuIGF9ZnVuY3Rpb24gWGEodCxlKXtmb3IodmFyIHI9ITEsbj0wLGk9dC5sZW5ndGgtMTtuPHQubGVuZ3RoO2k9bisrKXt2YXIgYT10W25dLG89dFtpXTthLnk+ZS55IT1vLnk+ZS55JiZlLng8KG8ueC1hLngpKihlLnktYS55KS8oby55LWEueSkrYS54JiYocj0hcik7fXJldHVybiByfWZ1bmN0aW9uIEphKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsyXTtpZih0Lng8bi54JiZlLng8bi54fHx0Lng+aS54JiZlLng+aS54fHx0Lnk8bi55JiZlLnk8bi55fHx0Lnk+aS55JiZlLnk+aS55KXJldHVybiAhMTt2YXIgYT1fKHQsZSxyWzBdKTtyZXR1cm4gYSE9PV8odCxlLHJbMV0pfHxhIT09Xyh0LGUsclsyXSl8fGEhPT1fKHQsZSxyWzNdKX1mdW5jdGlvbiBIYSh0LGUscil7dmFyIG49ZS5wYWludC5nZXQodCkudmFsdWU7cmV0dXJuICJjb25zdGFudCI9PT1uLmtpbmQ/bi52YWx1ZTpyLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoZS5pZCkuZ2V0TWF4VmFsdWUodCl9ZnVuY3Rpb24gWWEodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKX1mdW5jdGlvbiAkYSh0LGUscixuLGEpe2lmKCFlWzBdJiYhZVsxXSlyZXR1cm4gdDt2YXIgbz1pLmNvbnZlcnQoZSkuX211bHQoYSk7InZpZXdwb3J0Ij09PXImJm8uX3JvdGF0ZSgtbik7Zm9yKHZhciBzPVtdLHU9MDt1PHQubGVuZ3RoO3UrKylzLnB1c2godFt1XS5zdWIobykpO3JldHVybiBzfUxhLnByb3RvdHlwZS5wb3B1bGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sYXllcnNbMF0saT1bXSxhPW51bGw7ImNpcmNsZSI9PT1uLnR5cGUmJihhPW4ubGF5b3V0LmdldCgiY2lyY2xlLXNvcnQta2V5IikpO2Zvcih2YXIgbz0wLHM9dDtvPHMubGVuZ3RoO28rPTEpe3ZhciB1PXNbb10sbD11LmZlYXR1cmUscD11LmlkLGM9dS5pbmRleCxoPXUuc291cmNlTGF5ZXJJbmRleCxmPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx5PXt0eXBlOmwudHlwZSxpZDpwLHByb3BlcnRpZXM6bC5wcm9wZXJ0aWVzLGdlb21ldHJ5OmY/RmEobCk6W119O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgaWkodGhpcy56b29tKSx5LHIpKXtmfHwoeS5nZW9tZXRyeT1GYShsKSk7dmFyIGQ9YT9hLmV2YWx1YXRlKHkse30scik6dm9pZCAwO2kucHVzaCh7aWQ6cCxwcm9wZXJ0aWVzOmwucHJvcGVydGllcyx0eXBlOmwudHlwZSxzb3VyY2VMYXllckluZGV4OmgsaW5kZXg6YyxnZW9tZXRyeTp5Lmdlb21ldHJ5LHBhdHRlcm5zOnt9LHNvcnRLZXk6ZH0pO319YSYmaS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRLZXktZS5zb3J0S2V5fSkpO2Zvcih2YXIgbT0wLHY9aTttPHYubGVuZ3RoO20rPTEpe3ZhciBnPXZbbV0seD1nLmdlb21ldHJ5LGI9Zy5pbmRleCx3PWcuc291cmNlTGF5ZXJJbmRleCxfPXRbYl0uZmVhdHVyZTt0aGlzLmFkZEZlYXR1cmUoZyx4LGIsciksZS5mZWF0dXJlSW5kZXguaW5zZXJ0KF8seCxiLHcsdGhpcy5pbmRleCk7fX0sTGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30sTGEucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSxMYS5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LExhLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbmEpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LExhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9LExhLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpZm9yKHZhciBvPTAscz1hW2ldO288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxsPXUueCxwPXUueTtpZighKGw8MHx8bD49ODE5Mnx8cDwwfHxwPj04MTkyKSl7dmFyIGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5LHQuc29ydEtleSksaD1jLnZlcnRleExlbmd0aDtEYSh0aGlzLmxheW91dFZlcnRleEFycmF5LGwscCwtMSwtMSksRGEodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxsLHAsMSwtMSksRGEodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxsLHAsMSwxKSxEYSh0aGlzLmxheW91dFZlcnRleEFycmF5LGwscCwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCxoKzEsaCsyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCxoKzMsaCsyKSxjLnZlcnRleExlbmd0aCs9NCxjLnByaW1pdGl2ZUxlbmd0aCs9Mjt9fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLHt9LG4pO30sRm4oIkNpcmNsZUJ1Y2tldCIsTGEse29taXQ6WyJsYXllcnMiXX0pO3ZhciBXYT1uZXcgZ2koeyJjaXJjbGUtc29ydC1rZXkiOm5ldyB5aShJdC5sYXlvdXRfY2lyY2xlWyJjaXJjbGUtc29ydC1rZXkiXSl9KSxRYT17cGFpbnQ6bmV3IGdpKHsiY2lyY2xlLXJhZGl1cyI6bmV3IHlpKEl0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXJhZGl1cyJdKSwiY2lyY2xlLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtY29sb3IiXSksImNpcmNsZS1ibHVyIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtYmx1ciJdKSwiY2lyY2xlLW9wYWNpdHkiOm5ldyB5aShJdC5wYWludF9jaXJjbGVbImNpcmNsZS1vcGFjaXR5Il0pLCJjaXJjbGUtdHJhbnNsYXRlIjpuZXcgZmkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtdHJhbnNsYXRlIl0pLCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciI6bmV3IGZpKEl0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3IiXSksImNpcmNsZS1waXRjaC1zY2FsZSI6bmV3IGZpKEl0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXBpdGNoLXNjYWxlIl0pLCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50IjpuZXcgZmkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Il0pLCJjaXJjbGUtc3Ryb2tlLXdpZHRoIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtc3Ryb2tlLXdpZHRoIl0pLCJjaXJjbGUtc3Ryb2tlLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfY2lyY2xlWyJjaXJjbGUtc3Ryb2tlLWNvbG9yIl0pLCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHkiOm5ldyB5aShJdC5wYWludF9jaXJjbGVbImNpcmNsZS1zdHJva2Utb3BhY2l0eSJdKX0pLGxheW91dDpXYX0sdG89InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIGVvKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdH1mdW5jdGlvbiBybyh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPWVbNF0sdT1lWzVdLGw9ZVs2XSxwPWVbN10sYz1lWzhdLGg9ZVs5XSxmPWVbMTBdLHk9ZVsxMV0sZD1lWzEyXSxtPWVbMTNdLHY9ZVsxNF0sZz1lWzE1XSx4PXJbMF0sYj1yWzFdLHc9clsyXSxfPXJbM107cmV0dXJuIHRbMF09eCpuK2Iqcyt3KmMrXypkLHRbMV09eCppK2IqdSt3KmgrXyptLHRbMl09eCphK2IqbCt3KmYrXyp2LHRbM109eCpvK2IqcCt3KnkrXypnLHRbNF09KHg9cls0XSkqbisoYj1yWzVdKSpzKyh3PXJbNl0pKmMrKF89cls3XSkqZCx0WzVdPXgqaStiKnUrdypoK18qbSx0WzZdPXgqYStiKmwrdypmK18qdix0WzddPXgqbytiKnArdyp5K18qZyx0WzhdPSh4PXJbOF0pKm4rKGI9cls5XSkqcysodz1yWzEwXSkqYysoXz1yWzExXSkqZCx0WzldPXgqaStiKnUrdypoK18qbSx0WzEwXT14KmErYipsK3cqZitfKnYsdFsxMV09eCpvK2IqcCt3KnkrXypnLHRbMTJdPSh4PXJbMTJdKSpuKyhiPXJbMTNdKSpzKyh3PXJbMTRdKSpjKyhfPXJbMTVdKSpkLHRbMTNdPXgqaStiKnUrdypoK18qbSx0WzE0XT14KmErYipsK3cqZitfKnYsdFsxNV09eCpvK2IqcCt3KnkrXypnLHR9TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLGU9MCxyPWFyZ3VtZW50cy5sZW5ndGg7ci0tOyllKz10W3JdKnRbcl07cmV0dXJuIE1hdGguc3FydChlKX0pO3ZhciBubyxpbz1ybztmdW5jdGlvbiBhbyh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXTtyZXR1cm4gdFswXT1yWzBdKm4rcls0XSppK3JbOF0qYStyWzEyXSpvLHRbMV09clsxXSpuK3JbNV0qaStyWzldKmErclsxM10qbyx0WzJdPXJbMl0qbityWzZdKmkrclsxMF0qYStyWzE0XSpvLHRbM109clszXSpuK3JbN10qaStyWzExXSphK3JbMTVdKm8sdH1ubz1uZXcgdG8oMyksdG8hPUZsb2F0MzJBcnJheSYmKG5vWzBdPTAsbm9bMV09MCxub1syXT0wKSxmdW5jdGlvbigpe3ZhciB0PW5ldyB0byg0KTt0byE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCx0WzJdPTAsdFszXT0wKTt9KCk7dmFyIG9vPShmdW5jdGlvbigpe3ZhciB0PW5ldyB0bygyKTt0byE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCk7fSgpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxRYSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IExhKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiBIYSgiY2lyY2xlLXJhZGl1cyIsdGhpcyxlKStIYSgiY2lyY2xlLXN0cm9rZS13aWR0aCIsdGhpcyxlKStZYSh0aGlzLnBhaW50LmdldCgiY2lyY2xlLXRyYW5zbGF0ZSIpKX0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMpe2Zvcih2YXIgdT0kYSh0LHRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yIiksYS5hbmdsZSxvKSxsPXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcmFkaXVzIikuZXZhbHVhdGUoZSxyKSt0aGlzLnBhaW50LmdldCgiY2lyY2xlLXN0cm9rZS13aWR0aCIpLmV2YWx1YXRlKGUscikscD0ibWFwIj09PXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50IiksYz1wP3U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBzbyh0LGUpfSkpfSh1LHMpLGg9cD9sKm86bCxmPTAseT1uO2Y8eS5sZW5ndGg7Zis9MSlmb3IodmFyIGQ9MCxtPXlbZl07ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9cD92OnNvKHYscykseD1oLGI9YW8oW10sW3YueCx2LnksMCwxXSxzKTtpZigidmlld3BvcnQiPT09dGhpcy5wYWludC5nZXQoImNpcmNsZS1waXRjaC1zY2FsZSIpJiYibWFwIj09PXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Iik/eCo9YlszXS9hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6Im1hcCI9PT10aGlzLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLXNjYWxlIikmJiJ2aWV3cG9ydCI9PT10aGlzLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLWFsaWdubWVudCIpJiYoeCo9YS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2JbM10pLE9hKGMsZyx4KSlyZXR1cm4gITB9cmV0dXJuICExfSxlfSh4aSkpO2Z1bmN0aW9uIHNvKHQsZSl7dmFyIHI9YW8oW10sW3QueCx0LnksMCwxXSxlKTtyZXR1cm4gbmV3IGkoclswXS9yWzNdLHJbMV0vclszXSl9dmFyIHVvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oTGEpO2Z1bmN0aW9uIGxvKHQsZSxyLG4pe3ZhciBpPWUud2lkdGgsYT1lLmhlaWdodDtpZihuKXtpZihuIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpbj1uZXcgVWludDhBcnJheShuLmJ1ZmZlcik7ZWxzZSBpZihuLmxlbmd0aCE9PWkqYSpyKXRocm93IG5ldyBSYW5nZUVycm9yKCJtaXNtYXRjaGVkIGltYWdlIHNpemUiKX1lbHNlIG49bmV3IFVpbnQ4QXJyYXkoaSphKnIpO3JldHVybiB0LndpZHRoPWksdC5oZWlnaHQ9YSx0LmRhdGE9bix0fWZ1bmN0aW9uIHBvKHQsZSxyKXt2YXIgbj1lLndpZHRoLGk9ZS5oZWlnaHQ7aWYobiE9PXQud2lkdGh8fGkhPT10LmhlaWdodCl7dmFyIGE9bG8oe30se3dpZHRoOm4saGVpZ2h0Oml9LHIpO2NvKHQsYSx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbih0LndpZHRoLG4pLGhlaWdodDpNYXRoLm1pbih0LmhlaWdodCxpKX0sciksdC53aWR0aD1uLHQuaGVpZ2h0PWksdC5kYXRhPWEuZGF0YTt9fWZ1bmN0aW9uIGNvKHQsZSxyLG4saSxhKXtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybiBlO2lmKGkud2lkdGg+dC53aWR0aHx8aS5oZWlnaHQ+dC5oZWlnaHR8fHIueD50LndpZHRoLWkud2lkdGh8fHIueT50LmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weSIpO2lmKGkud2lkdGg+ZS53aWR0aHx8aS5oZWlnaHQ+ZS5oZWlnaHR8fG4ueD5lLndpZHRoLWkud2lkdGh8fG4ueT5lLmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGRlc3RpbmF0aW9uIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5Iik7Zm9yKHZhciBvPXQuZGF0YSxzPWUuZGF0YSx1PTA7dTxpLmhlaWdodDt1KyspZm9yKHZhciBsPSgoci55K3UpKnQud2lkdGgrci54KSphLHA9KChuLnkrdSkqZS53aWR0aCtuLngpKmEsYz0wO2M8aS53aWR0aCphO2MrKylzW3ArY109b1tsK2NdO3JldHVybiBlfUZuKCJIZWF0bWFwQnVja2V0Iix1byx7b21pdDpbImxheWVycyJdfSk7dmFyIGhvPWZ1bmN0aW9uKHQsZSl7bG8odGhpcyx0LDEsZSk7fTtoby5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3BvKHRoaXMsdCwxKTt9LGhvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaG8oe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX0saG8uY29weT1mdW5jdGlvbih0LGUscixuLGkpe2NvKHQsZSxyLG4saSwxKTt9O3ZhciBmbz1mdW5jdGlvbih0LGUpe2xvKHRoaXMsdCw0LGUpO307Zm8ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXtwbyh0aGlzLHQsNCk7fSxmby5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0LGUpe2U/dGhpcy5kYXRhLnNldCh0KTp0aGlzLmRhdGE9dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P25ldyBVaW50OEFycmF5KHQuYnVmZmVyKTp0O30sZm8ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmbyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfSxmby5jb3B5PWZ1bmN0aW9uKHQsZSxyLG4saSl7Y28odCxlLHIsbixpLDQpO30sRm4oIkFscGhhSW1hZ2UiLGhvKSxGbigiUkdCQUltYWdlIixmbyk7dmFyIHlvPXtwYWludDpuZXcgZ2koeyJoZWF0bWFwLXJhZGl1cyI6bmV3IHlpKEl0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtcmFkaXVzIl0pLCJoZWF0bWFwLXdlaWdodCI6bmV3IHlpKEl0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtd2VpZ2h0Il0pLCJoZWF0bWFwLWludGVuc2l0eSI6bmV3IGZpKEl0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtaW50ZW5zaXR5Il0pLCJoZWF0bWFwLWNvbG9yIjpuZXcgdmkoSXQucGFpbnRfaGVhdG1hcFsiaGVhdG1hcC1jb2xvciJdKSwiaGVhdG1hcC1vcGFjaXR5IjpuZXcgZmkoSXQucGFpbnRfaGVhdG1hcFsiaGVhdG1hcC1vcGFjaXR5Il0pfSl9O2Z1bmN0aW9uIG1vKHQsZSl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KDEwMjQpLG49e30saT0wLGE9MDtpPDI1NjtpKyssYSs9NCl7bltlXT1pLzI1NTt2YXIgbz10LmV2YWx1YXRlKG4pO3JbYSswXT1NYXRoLmZsb29yKDI1NSpvLnIvby5hKSxyW2ErMV09TWF0aC5mbG9vcigyNTUqby5nL28uYSksclthKzJdPU1hdGguZmxvb3IoMjU1Km8uYi9vLmEpLHJbYSszXT1NYXRoLmZsb29yKDI1NSpvLmEpO31yZXR1cm4gbmV3IGZvKHt3aWR0aDoyNTYsaGVpZ2h0OjF9LHIpfXZhciB2bz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUseW8pLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1byh0KX0sZS5wcm90b3R5cGUuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQpeyJoZWF0bWFwLWNvbG9yIj09PXQmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO30sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbG9yUmFtcD1mdW5jdGlvbigpe3RoaXMuY29sb3JSYW1wPW1vKHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1siaGVhdG1hcC1jb2xvciJdLnZhbHVlLmV4cHJlc3Npb24sImhlYXRtYXBEZW5zaXR5IiksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmhlYXRtYXBGYm8mJih0aGlzLmhlYXRtYXBGYm8uZGVzdHJveSgpLHRoaXMuaGVhdG1hcEZibz1udWxsKTt9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KCJoZWF0bWFwLW9wYWNpdHkiKSYmIm5vbmUiIT09dGhpcy52aXNpYmlsaXR5fSxlfSh4aSksZ289e3BhaW50Om5ldyBnaSh7ImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvbiJdKSwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3IiOm5ldyBmaShJdC5wYWludF9oaWxsc2hhZGVbImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIl0pLCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIl0pLCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIl0pLCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIl0pLCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIjpuZXcgZmkoSXQucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIl0pfSl9LHhvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxnbyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIikmJiJub25lIiE9PXRoaXMudmlzaWJpbGl0eX0sZX0oeGkpLGJvPUFpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLHdvPUFvLF9vPUFvO2Z1bmN0aW9uIEFvKHQsZSxyKXtyPXJ8fDI7dmFyIG4saSxhLG8scyx1LGwscD1lJiZlLmxlbmd0aCxjPXA/ZVswXSpyOnQubGVuZ3RoLGg9U28odCwwLGMsciwhMCksZj1bXTtpZighaHx8aC5uZXh0PT09aC5wcmV2KXJldHVybiBmO2lmKHAmJihoPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpLGEsbyxzPVtdO2ZvcihpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKShvPVNvKHQsZVtpXSpuLGk8YS0xP2VbaSsxXSpuOnQubGVuZ3RoLG4sITEpKT09PW8ubmV4dCYmKG8uc3RlaW5lcj0hMCkscy5wdXNoKEZvKG8pKTtmb3Iocy5zb3J0KFRvKSxpPTA7aTxzLmxlbmd0aDtpKyspUG8oc1tpXSxyKSxyPWtvKHIsci5uZXh0KTtyZXR1cm4gcn0odCxlLGgscikpLHQubGVuZ3RoPjgwKnIpe249YT10WzBdLGk9bz10WzFdO2Zvcih2YXIgeT1yO3k8Yzt5Kz1yKShzPXRbeV0pPG4mJihuPXMpLCh1PXRbeSsxXSk8aSYmKGk9dSkscz5hJiYoYT1zKSx1Pm8mJihvPXUpO2w9MCE9PShsPU1hdGgubWF4KGEtbixvLWkpKT8xL2w6MDt9cmV0dXJuIElvKGgsZixyLG4saSxsKSxmfWZ1bmN0aW9uIFNvKHQsZSxyLG4saSl7dmFyIGEsbztpZihpPT09Sm8odCxlLHIsbik+MClmb3IoYT1lO2E8cjthKz1uKW89R28oYSx0W2FdLHRbYSsxXSxvKTtlbHNlIGZvcihhPXItbjthPj1lO2EtPW4pbz1HbyhhLHRbYV0sdFthKzFdLG8pO3JldHVybiBvJiZPbyhvLG8ubmV4dCkmJihabyhvKSxvPW8ubmV4dCksb31mdW5jdGlvbiBrbyh0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO3ZhciByLG49dDtkb3tpZihyPSExLG4uc3RlaW5lcnx8IU9vKG4sbi5uZXh0KSYmMCE9PVJvKG4ucHJldixuLG4ubmV4dCkpbj1uLm5leHQ7ZWxzZSB7aWYoWm8obiksKG49ZT1uLnByZXYpPT09bi5uZXh0KWJyZWFrO3I9ITA7fX13aGlsZShyfHxuIT09ZSk7cmV0dXJuIGV9ZnVuY3Rpb24gSW8odCxlLHIsbixpLGEsbyl7aWYodCl7IW8mJmEmJmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXQ7ZG97bnVsbD09PWkueiYmKGkuej1WbyhpLngsaS55LGUscixuKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHQ7fXdoaWxlKGkhPT10KTtpLnByZXZaLm5leHRaPW51bGwsaS5wcmV2Wj1udWxsLGZ1bmN0aW9uKHQpe3ZhciBlLHIsbixpLGEsbyxzLHUsbD0xO2Rve2ZvcihyPXQsdD1udWxsLGE9bnVsbCxvPTA7cjspe2ZvcihvKyssbj1yLHM9MCxlPTA7ZTxsJiYocysrLG49bi5uZXh0Wik7ZSsrKTtmb3IodT1sO3M+MHx8dT4wJiZuOykwIT09cyYmKDA9PT11fHwhbnx8ci56PD1uLnopPyhpPXIscj1yLm5leHRaLHMtLSk6KGk9bixuPW4ubmV4dFosdS0tKSxhP2EubmV4dFo9aTp0PWksaS5wcmV2Wj1hLGE9aTtyPW47fWEubmV4dFo9bnVsbCxsKj0yO313aGlsZShvPjEpfShpKTt9KHQsbixpLGEpO2Zvcih2YXIgcyx1LGw9dDt0LnByZXYhPT10Lm5leHQ7KWlmKHM9dC5wcmV2LHU9dC5uZXh0LGE/Q28odCxuLGksYSk6em8odCkpZS5wdXNoKHMuaS9yKSxlLnB1c2godC5pL3IpLGUucHVzaCh1LmkvciksWm8odCksdD11Lm5leHQsbD11Lm5leHQ7ZWxzZSBpZigodD11KT09PWwpe28/MT09PW8/SW8odD1Nbyhrbyh0KSxlLHIpLGUscixuLGksYSwyKToyPT09byYmRW8odCxlLHIsbixpLGEpOklvKGtvKHQpLGUscixuLGksYSwxKTticmVha319fWZ1bmN0aW9uIHpvKHQpe3ZhciBlPXQucHJldixyPXQsbj10Lm5leHQ7aWYoUm8oZSxyLG4pPj0wKXJldHVybiAhMTtmb3IodmFyIGk9dC5uZXh0Lm5leHQ7aSE9PXQucHJldjspe2lmKERvKGUueCxlLnksci54LHIueSxuLngsbi55LGkueCxpLnkpJiZSbyhpLnByZXYsaSxpLm5leHQpPj0wKXJldHVybiAhMTtpPWkubmV4dDt9cmV0dXJuICEwfWZ1bmN0aW9uIENvKHQsZSxyLG4pe3ZhciBpPXQucHJldixhPXQsbz10Lm5leHQ7aWYoUm8oaSxhLG8pPj0wKXJldHVybiAhMTtmb3IodmFyIHM9aS54PmEueD9pLng+by54P2kueDpvLng6YS54Pm8ueD9hLng6by54LHU9aS55PmEueT9pLnk+by55P2kueTpvLnk6YS55Pm8ueT9hLnk6by55LGw9Vm8oaS54PGEueD9pLng8by54P2kueDpvLng6YS54PG8ueD9hLng6by54LGkueTxhLnk/aS55PG8ueT9pLnk6by55OmEueTxvLnk/YS55Om8ueSxlLHIsbikscD1WbyhzLHUsZSxyLG4pLGM9dC5wcmV2WixoPXQubmV4dFo7YyYmYy56Pj1sJiZoJiZoLno8PXA7KXtpZihjIT09dC5wcmV2JiZjIT09dC5uZXh0JiZEbyhpLngsaS55LGEueCxhLnksby54LG8ueSxjLngsYy55KSYmUm8oYy5wcmV2LGMsYy5uZXh0KT49MClyZXR1cm4gITE7aWYoYz1jLnByZXZaLGghPT10LnByZXYmJmghPT10Lm5leHQmJkRvKGkueCxpLnksYS54LGEueSxvLngsby55LGgueCxoLnkpJiZSbyhoLnByZXYsaCxoLm5leHQpPj0wKXJldHVybiAhMTtoPWgubmV4dFo7fWZvcig7YyYmYy56Pj1sOyl7aWYoYyE9PXQucHJldiYmYyE9PXQubmV4dCYmRG8oaS54LGkueSxhLngsYS55LG8ueCxvLnksYy54LGMueSkmJlJvKGMucHJldixjLGMubmV4dCk+PTApcmV0dXJuICExO2M9Yy5wcmV2Wjt9Zm9yKDtoJiZoLno8PXA7KXtpZihoIT09dC5wcmV2JiZoIT09dC5uZXh0JiZEbyhpLngsaS55LGEueCxhLnksby54LG8ueSxoLngsaC55KSYmUm8oaC5wcmV2LGgsaC5uZXh0KT49MClyZXR1cm4gITE7aD1oLm5leHRaO31yZXR1cm4gITB9ZnVuY3Rpb24gTW8odCxlLHIpe3ZhciBuPXQ7ZG97dmFyIGk9bi5wcmV2LGE9bi5uZXh0Lm5leHQ7IU9vKGksYSkmJlVvKGksbixuLm5leHQsYSkmJk5vKGksYSkmJk5vKGEsaSkmJihlLnB1c2goaS5pL3IpLGUucHVzaChuLmkvciksZS5wdXNoKGEuaS9yKSxabyhuKSxabyhuLm5leHQpLG49dD1hKSxuPW4ubmV4dDt9d2hpbGUobiE9PXQpO3JldHVybiBrbyhuKX1mdW5jdGlvbiBFbyh0LGUscixuLGksYSl7dmFyIG89dDtkb3tmb3IodmFyIHM9by5uZXh0Lm5leHQ7cyE9PW8ucHJldjspe2lmKG8uaSE9PXMuaSYmTG8obyxzKSl7dmFyIHU9S28obyxzKTtyZXR1cm4gbz1rbyhvLG8ubmV4dCksdT1rbyh1LHUubmV4dCksSW8obyxlLHIsbixpLGEpLHZvaWQgSW8odSxlLHIsbixpLGEpfXM9cy5uZXh0O31vPW8ubmV4dDt9d2hpbGUobyE9PXQpfWZ1bmN0aW9uIFRvKHQsZSl7cmV0dXJuIHQueC1lLnh9ZnVuY3Rpb24gUG8odCxlKXtpZihlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj1lLGk9dC54LGE9dC55LG89LTEvMDtkb3tpZihhPD1uLnkmJmE+PW4ubmV4dC55JiZuLm5leHQueSE9PW4ueSl7dmFyIHM9bi54KyhhLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aWYoczw9aSYmcz5vKXtpZihvPXMscz09PWkpe2lmKGE9PT1uLnkpcmV0dXJuIG47aWYoYT09PW4ubmV4dC55KXJldHVybiBuLm5leHR9cj1uLng8bi5uZXh0Lng/bjpuLm5leHQ7fX1uPW4ubmV4dDt9d2hpbGUobiE9PWUpO2lmKCFyKXJldHVybiBudWxsO2lmKGk9PT1vKXJldHVybiByO3ZhciB1LGw9cixwPXIueCxjPXIueSxoPTEvMDtuPXI7ZG97aT49bi54JiZuLng+PXAmJmkhPT1uLngmJkRvKGE8Yz9pOm8sYSxwLGMsYTxjP286aSxhLG4ueCxuLnkpJiYodT1NYXRoLmFicyhhLW4ueSkvKGktbi54KSxObyhuLHQpJiYodTxofHx1PT09aCYmKG4ueD5yLnh8fG4ueD09PXIueCYmQm8ocixuKSkpJiYocj1uLGg9dSkpLG49bi5uZXh0O313aGlsZShuIT09bCk7cmV0dXJuIHJ9KHQsZSkpe3ZhciByPUtvKGUsdCk7a28oZSxlLm5leHQpLGtvKHIsci5uZXh0KTt9fWZ1bmN0aW9uIEJvKHQsZSl7cmV0dXJuIFJvKHQucHJldix0LGUucHJldik8MCYmUm8oZS5uZXh0LHQsdC5uZXh0KTwwfWZ1bmN0aW9uIFZvKHQsZSxyLG4saSl7cmV0dXJuICh0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9MzI3NjcqKHQtcikqaSl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpfChlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9MzI3NjcqKGUtbikqaSl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIEZvKHQpe3ZhciBlPXQscj10O2RveyhlLng8ci54fHxlLng9PT1yLngmJmUueTxyLnkpJiYocj1lKSxlPWUubmV4dDt9d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIERvKHQsZSxyLG4saSxhLG8scyl7cmV0dXJuIChpLW8pKihlLXMpLSh0LW8pKihhLXMpPj0wJiYodC1vKSoobi1zKS0oci1vKSooZS1zKT49MCYmKHItbykqKGEtcyktKGktbykqKG4tcyk+PTB9ZnVuY3Rpb24gTG8odCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhZnVuY3Rpb24odCxlKXt2YXIgcj10O2Rve2lmKHIuaSE9PXQuaSYmci5uZXh0LmkhPT10LmkmJnIuaSE9PWUuaSYmci5uZXh0LmkhPT1lLmkmJlVvKHIsci5uZXh0LHQsZSkpcmV0dXJuICEwO3I9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuICExfSh0LGUpJiYoTm8odCxlKSYmTm8oZSx0KSYmZnVuY3Rpb24odCxlKXt2YXIgcj10LG49ITEsaT0odC54K2UueCkvMixhPSh0LnkrZS55KS8yO2Rve3IueT5hIT1yLm5leHQueT5hJiZyLm5leHQueSE9PXIueSYmaTwoci5uZXh0Lngtci54KSooYS1yLnkpLyhyLm5leHQueS1yLnkpK3IueCYmKG49IW4pLHI9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuIG59KHQsZSkmJihSbyh0LnByZXYsdCxlLnByZXYpfHxSbyh0LGUucHJldixlKSl8fE9vKHQsZSkmJlJvKHQucHJldix0LHQubmV4dCk+MCYmUm8oZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBSbyh0LGUscil7cmV0dXJuIChlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBPbyh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBVbyh0LGUscixuKXt2YXIgaT1xbyhSbyh0LGUscikpLGE9cW8oUm8odCxlLG4pKSxvPXFvKFJvKHIsbix0KSkscz1xbyhSbyhyLG4sZSkpO3JldHVybiBpIT09YSYmbyE9PXN8fCEoMCE9PWl8fCFqbyh0LHIsZSkpfHwhKDAhPT1hfHwham8odCxuLGUpKXx8ISgwIT09b3x8IWpvKHIsdCxuKSl8fCEoMCE9PXN8fCFqbyhyLGUsbikpfWZ1bmN0aW9uIGpvKHQsZSxyKXtyZXR1cm4gZS54PD1NYXRoLm1heCh0Lngsci54KSYmZS54Pj1NYXRoLm1pbih0Lngsci54KSYmZS55PD1NYXRoLm1heCh0Lnksci55KSYmZS55Pj1NYXRoLm1pbih0Lnksci55KX1mdW5jdGlvbiBxbyh0KXtyZXR1cm4gdD4wPzE6dDwwPy0xOjB9ZnVuY3Rpb24gTm8odCxlKXtyZXR1cm4gUm8odC5wcmV2LHQsdC5uZXh0KTwwP1JvKHQsZSx0Lm5leHQpPj0wJiZSbyh0LHQucHJldixlKT49MDpSbyh0LGUsdC5wcmV2KTwwfHxSbyh0LHQubmV4dCxlKTwwfWZ1bmN0aW9uIEtvKHQsZSl7dmFyIHI9bmV3IFhvKHQuaSx0LngsdC55KSxuPW5ldyBYbyhlLmksZS54LGUueSksaT10Lm5leHQsYT1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LHIubmV4dD1pLGkucHJldj1yLG4ubmV4dD1yLHIucHJldj1uLGEubmV4dD1uLG4ucHJldj1hLG59ZnVuY3Rpb24gR28odCxlLHIsbil7dmFyIGk9bmV3IFhvKHQsZSxyKTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gWm8odCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKTt9ZnVuY3Rpb24gWG8odCxlLHIpe3RoaXMuaT10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExO31mdW5jdGlvbiBKbyh0LGUscixuKXtmb3IodmFyIGk9MCxhPWUsbz1yLW47YTxyO2ErPW4paSs9KHRbb10tdFthXSkqKHRbYSsxXSt0W28rMV0pLG89YTtyZXR1cm4gaX1mdW5jdGlvbiBIbyh0LGUscixuLGkpeyFmdW5jdGlvbiB0KGUscixuLGksYSl7Zm9yKDtpPm47KXtpZihpLW4+NjAwKXt2YXIgbz1pLW4rMSxzPXItbisxLHU9TWF0aC5sb2cobyksbD0uNSpNYXRoLmV4cCgyKnUvMykscD0uNSpNYXRoLnNxcnQodSpsKihvLWwpL28pKihzLW8vMjwwPy0xOjEpO3QoZSxyLE1hdGgubWF4KG4sTWF0aC5mbG9vcihyLXMqbC9vK3ApKSxNYXRoLm1pbihpLE1hdGguZmxvb3Iocisoby1zKSpsL28rcCkpLGEpO312YXIgYz1lW3JdLGg9bixmPWk7Zm9yKFlvKGUsbixyKSxhKGVbaV0sYyk+MCYmWW8oZSxuLGkpO2g8Zjspe2ZvcihZbyhlLGgsZiksaCsrLGYtLTthKGVbaF0sYyk8MDspaCsrO2Zvcig7YShlW2ZdLGMpPjA7KWYtLTt9MD09PWEoZVtuXSxjKT9ZbyhlLG4sZik6WW8oZSwrK2YsaSksZjw9ciYmKG49ZisxKSxyPD1mJiYoaT1mLTEpO319KHQsZSxyfHwwLG58fHQubGVuZ3RoLTEsaXx8JG8pO31mdW5jdGlvbiBZbyh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31mdW5jdGlvbiAkbyh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBXbyh0LGUpe3ZhciByPXQubGVuZ3RoO2lmKHI8PTEpcmV0dXJuIFt0XTtmb3IodmFyIG4saSxhPVtdLG89MDtvPHI7bysrKXt2YXIgcz1BKHRbb10pOzAhPT1zJiYodFtvXS5hcmVhPU1hdGguYWJzKHMpLHZvaWQgMD09PWkmJihpPXM8MCksaT09PXM8MD8obiYmYS5wdXNoKG4pLG49W3Rbb11dKTpuLnB1c2godFtvXSkpO31pZihuJiZhLnB1c2gobiksZT4xKWZvcih2YXIgdT0wO3U8YS5sZW5ndGg7dSsrKWFbdV0ubGVuZ3RoPD1lfHwoSG8oYVt1XSxlLDEsYVt1XS5sZW5ndGgtMSxRbyksYVt1XT1hW3VdLnNsaWNlKDAsZSkpO3JldHVybiBhfWZ1bmN0aW9uIFFvKHQsZSl7cmV0dXJuIGUuYXJlYS10LmFyZWF9ZnVuY3Rpb24gdHModCxlLHIpe2Zvcih2YXIgbj1yLnBhdHRlcm5EZXBlbmRlbmNpZXMsaT0hMSxhPTAsbz1lO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXS5wYWludC5nZXQodCsiLXBhdHRlcm4iKTtzLmlzQ29uc3RhbnQoKXx8KGk9ITApO3ZhciB1PXMuY29uc3RhbnRPcihudWxsKTt1JiYoaT0hMCxuW3UudG9dPSEwLG5bdS5mcm9tXT0hMCk7fXJldHVybiBpfWZ1bmN0aW9uIGVzKHQsZSxyLG4saSl7Zm9yKHZhciBhPWkucGF0dGVybkRlcGVuZGVuY2llcyxvPTAscz1lO288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxsPXUucGFpbnQuZ2V0KHQrIi1wYXR0ZXJuIikudmFsdWU7aWYoImNvbnN0YW50IiE9PWwua2luZCl7dmFyIHA9bC5ldmFsdWF0ZSh7em9vbTpuLTF9LHIse30saS5hdmFpbGFibGVJbWFnZXMpLGM9bC5ldmFsdWF0ZSh7em9vbTpufSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKSxoPWwuZXZhbHVhdGUoe3pvb206bisxfSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKTtjPWMmJmMubmFtZT9jLm5hbWU6YyxoPWgmJmgubmFtZT9oLm5hbWU6aCxhW3A9cCYmcC5uYW1lP3AubmFtZTpwXT0hMCxhW2NdPSEwLGFbaF09ITAsci5wYXR0ZXJuc1t1LmlkXT17bWluOnAsbWlkOmMsbWF4Omh9O319cmV0dXJuIHJ9QW8uZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPWUmJmUubGVuZ3RoLGE9TWF0aC5hYnMoSm8odCwwLGk/ZVswXSpyOnQubGVuZ3RoLHIpKTtpZihpKWZvcih2YXIgbz0wLHM9ZS5sZW5ndGg7bzxzO28rKylhLT1NYXRoLmFicyhKbyh0LGVbb10qcixvPHMtMT9lW28rMV0qcjp0Lmxlbmd0aCxyKSk7dmFyIHU9MDtmb3Iobz0wO288bi5sZW5ndGg7bys9Myl7dmFyIGw9bltvXSpyLHA9bltvKzFdKnIsYz1uW28rMl0qcjt1Kz1NYXRoLmFicygodFtsXS10W2NdKSoodFtwKzFdLXRbbCsxXSktKHRbbF0tdFtwXSkqKHRbYysxXS10W2wrMV0pKTt9cmV0dXJuIDA9PT1hJiYwPT09dT8wOk1hdGguYWJzKCh1LWEpL2EpfSxBby5mbGF0dGVuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10WzBdWzBdLmxlbmd0aCxyPXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOmV9LG49MCxpPTA7aTx0Lmxlbmd0aDtpKyspe2Zvcih2YXIgYT0wO2E8dFtpXS5sZW5ndGg7YSsrKWZvcih2YXIgbz0wO288ZTtvKyspci52ZXJ0aWNlcy5wdXNoKHRbaV1bYV1bb10pO2k+MCYmci5ob2xlcy5wdXNoKG4rPXRbaS0xXS5sZW5ndGgpO31yZXR1cm4gcn0sd28uZGVmYXVsdD1fbzt2YXIgcnM9ZnVuY3Rpb24odCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcga2ksdGhpcy5pbmRleEFycmF5PW5ldyBMaSx0aGlzLmluZGV4QXJyYXkyPW5ldyBOaSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgVGEoYm8sdC5sYXllcnMsdC56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBpYSx0aGlzLnNlZ21lbnRzMj1uZXcgaWEsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtycy5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuaGFzUGF0dGVybj10cygiZmlsbCIsdGhpcy5sYXllcnMsZSk7Zm9yKHZhciBuPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoImZpbGwtc29ydC1rZXkiKSxpPVtdLGE9MCxvPXQ7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9cy5mZWF0dXJlLGw9cy5pZCxwPXMuaW5kZXgsYz1zLnNvdXJjZUxheWVySW5kZXgsaD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksZj17dHlwZTp1LnR5cGUsaWQ6bCxwcm9wZXJ0aWVzOnUucHJvcGVydGllcyxnZW9tZXRyeTpoP0ZhKHUpOltdfTtpZih0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IGlpKHRoaXMuem9vbSksZixyKSl7aHx8KGYuZ2VvbWV0cnk9RmEodSkpO3ZhciB5PW4/bi5ldmFsdWF0ZShmLHt9LHIsZS5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMDtpLnB1c2goe2lkOmwscHJvcGVydGllczp1LnByb3BlcnRpZXMsdHlwZTp1LnR5cGUsc291cmNlTGF5ZXJJbmRleDpjLGluZGV4OnAsZ2VvbWV0cnk6Zi5nZW9tZXRyeSxwYXR0ZXJuczp7fSxzb3J0S2V5Onl9KTt9fW4mJmkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zb3J0S2V5LWUuc29ydEtleX0pKTtmb3IodmFyIGQ9MCxtPWk7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9di5nZW9tZXRyeSx4PXYuaW5kZXgsYj12LnNvdXJjZUxheWVySW5kZXg7aWYodGhpcy5oYXNQYXR0ZXJuKXt2YXIgdz1lcygiZmlsbCIsdGhpcy5sYXllcnMsdix0aGlzLnpvb20sZSk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaCh3KTt9ZWxzZSB0aGlzLmFkZEZlYXR1cmUodixnLHgscix7fSk7ZS5mZWF0dXJlSW5kZXguaW5zZXJ0KHRbeF0uZmVhdHVyZSxnLHgsYix0aGlzLmluZGV4KTt9fSxycy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscik7fSxycy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5wYXR0ZXJuRmVhdHVyZXM7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3RoaXMuYWRkRmVhdHVyZShhLGEuZ2VvbWV0cnksYS5pbmRleCxlLHIpO319LHJzLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0scnMucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxycy5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGJvKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmluZGV4QnVmZmVyMj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheTIpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LHJzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpO30scnMucHJvdG90eXBlLmFkZEZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixpKXtmb3IodmFyIGE9MCxvPVdvKGUsNTAwKTthPG8ubGVuZ3RoO2ErPTEpe2Zvcih2YXIgcz1vW2FdLHU9MCxsPTAscD1zO2w8cC5sZW5ndGg7bCs9MSl1Kz1wW2xdLmxlbmd0aDtmb3IodmFyIGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCh1LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxoPWMudmVydGV4TGVuZ3RoLGY9W10seT1bXSxkPTAsbT1zO2Q8bS5sZW5ndGg7ZCs9MSl7dmFyIHY9bVtkXTtpZigwIT09di5sZW5ndGgpe3YhPT1zWzBdJiZ5LnB1c2goZi5sZW5ndGgvMik7dmFyIGc9dGhpcy5zZWdtZW50czIucHJlcGFyZVNlZ21lbnQodi5sZW5ndGgsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkyKSx4PWcudmVydGV4TGVuZ3RoO3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodlswXS54LHZbMF0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayh4K3YubGVuZ3RoLTEseCksZi5wdXNoKHZbMF0ueCksZi5wdXNoKHZbMF0ueSk7Zm9yKHZhciBiPTE7Yjx2Lmxlbmd0aDtiKyspdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh2W2JdLngsdltiXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKHgrYi0xLHgrYiksZi5wdXNoKHZbYl0ueCksZi5wdXNoKHZbYl0ueSk7Zy52ZXJ0ZXhMZW5ndGgrPXYubGVuZ3RoLGcucHJpbWl0aXZlTGVuZ3RoKz12Lmxlbmd0aDt9fWZvcih2YXIgdz13byhmLHkpLF89MDtfPHcubGVuZ3RoO18rPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGgrd1tfXSxoK3dbXysxXSxoK3dbXysyXSk7Yy52ZXJ0ZXhMZW5ndGgrPXUsYy5wcmltaXRpdmVMZW5ndGgrPXcubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGksbik7fSxGbigiRmlsbEJ1Y2tldCIscnMse29taXQ6WyJsYXllcnMiLCJwYXR0ZXJuRmVhdHVyZXMiXX0pO3ZhciBucz1uZXcgZ2koeyJmaWxsLXNvcnQta2V5IjpuZXcgeWkoSXQubGF5b3V0X2ZpbGxbImZpbGwtc29ydC1rZXkiXSl9KSxpcz17cGFpbnQ6bmV3IGdpKHsiZmlsbC1hbnRpYWxpYXMiOm5ldyBmaShJdC5wYWludF9maWxsWyJmaWxsLWFudGlhbGlhcyJdKSwiZmlsbC1vcGFjaXR5IjpuZXcgeWkoSXQucGFpbnRfZmlsbFsiZmlsbC1vcGFjaXR5Il0pLCJmaWxsLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfZmlsbFsiZmlsbC1jb2xvciJdKSwiZmlsbC1vdXRsaW5lLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfZmlsbFsiZmlsbC1vdXRsaW5lLWNvbG9yIl0pLCJmaWxsLXRyYW5zbGF0ZSI6bmV3IGZpKEl0LnBhaW50X2ZpbGxbImZpbGwtdHJhbnNsYXRlIl0pLCJmaWxsLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdC5wYWludF9maWxsWyJmaWxsLXRyYW5zbGF0ZS1hbmNob3IiXSksImZpbGwtcGF0dGVybiI6bmV3IGRpKEl0LnBhaW50X2ZpbGxbImZpbGwtcGF0dGVybiJdKX0pLGxheW91dDpuc30sYXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLGlzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucmVjYWxjdWxhdGU9ZnVuY3Rpb24oZSxyKXt0LnByb3RvdHlwZS5yZWNhbGN1bGF0ZS5jYWxsKHRoaXMsZSxyKTt2YXIgbj10aGlzLnBhaW50Ll92YWx1ZXNbImZpbGwtb3V0bGluZS1jb2xvciJdOyJjb25zdGFudCI9PT1uLnZhbHVlLmtpbmQmJnZvaWQgMD09PW4udmFsdWUudmFsdWUmJih0aGlzLnBhaW50Ll92YWx1ZXNbImZpbGwtb3V0bGluZS1jb2xvciJdPXRoaXMucGFpbnQuX3ZhbHVlc1siZmlsbC1jb2xvciJdKTt9LGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHJzKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBZYSh0aGlzLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUiKSl9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7cmV0dXJuIFVhKCRhKHQsdGhpcy5wYWludC5nZXQoImZpbGwtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImZpbGwtdHJhbnNsYXRlLWFuY2hvciIpLGEuYW5nbGUsbyksbil9LGUucHJvdG90eXBlLmlzVGlsZUNsaXBwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LGV9KHhpKSxvcz1BaShbe25hbWU6ImFfcG9zIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifSx7bmFtZToiYV9ub3JtYWxfZWQiLGNvbXBvbmVudHM6NCx0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLHNzPXVzO2Z1bmN0aW9uIHVzKHQsZSxyLG4saSl7dGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuZXh0ZW50PXIsdGhpcy50eXBlPTAsdGhpcy5fcGJmPXQsdGhpcy5fZ2VvbWV0cnk9LTEsdGhpcy5fa2V5cz1uLHRoaXMuX3ZhbHVlcz1pLHQucmVhZEZpZWxkcyhscyx0aGlzLGUpO31mdW5jdGlvbiBscyh0LGUscil7MT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PXQ/ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dC5yZWFkVmFyaW50KCkrdC5wb3M7dC5wb3M8cjspe3ZhciBuPWUuX2tleXNbdC5yZWFkVmFyaW50KCldLGk9ZS5fdmFsdWVzW3QucmVhZFZhcmludCgpXTtlLnByb3BlcnRpZXNbbl09aTt9fShyLGUpOjM9PXQ/ZS50eXBlPXIucmVhZFZhcmludCgpOjQ9PXQmJihlLl9nZW9tZXRyeT1yLnBvcyk7fWZ1bmN0aW9uIHBzKHQpe2Zvcih2YXIgZSxyLG49MCxpPTAsYT10Lmxlbmd0aCxvPWEtMTtpPGE7bz1pKyspbis9KChyPXRbb10pLngtKGU9dFtpXSkueCkqKGUueStyLnkpO3JldHVybiBufXVzLnR5cGVzPVsiVW5rbm93biIsIlBvaW50IiwiTGluZVN0cmluZyIsIlBvbHlnb24iXSx1cy5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZSxyPXQucmVhZFZhcmludCgpK3QucG9zLG49MSxhPTAsbz0wLHM9MCx1PVtdO3QucG9zPHI7KXtpZihhPD0wKXt2YXIgbD10LnJlYWRWYXJpbnQoKTtuPTcmbCxhPWw+PjM7fWlmKGEtLSwxPT09bnx8Mj09PW4pbys9dC5yZWFkU1ZhcmludCgpLHMrPXQucmVhZFNWYXJpbnQoKSwxPT09biYmKGUmJnUucHVzaChlKSxlPVtdKSxlLnB1c2gobmV3IGkobyxzKSk7ZWxzZSB7aWYoNyE9PW4pdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGNvbW1hbmQgIituKTtlJiZlLnB1c2goZVswXS5jbG9uZSgpKTt9fXJldHVybiBlJiZ1LnB1c2goZSksdX0sdXMucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYmY7dC5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciBlPXQucmVhZFZhcmludCgpK3QucG9zLHI9MSxuPTAsaT0wLGE9MCxvPTEvMCxzPS0xLzAsdT0xLzAsbD0tMS8wO3QucG9zPGU7KXtpZihuPD0wKXt2YXIgcD10LnJlYWRWYXJpbnQoKTtyPTcmcCxuPXA+PjM7fWlmKG4tLSwxPT09cnx8Mj09PXIpKGkrPXQucmVhZFNWYXJpbnQoKSk8byYmKG89aSksaT5zJiYocz1pKSwoYSs9dC5yZWFkU1ZhcmludCgpKTx1JiYodT1hKSxhPmwmJihsPWEpO2Vsc2UgaWYoNyE9PXIpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGNvbW1hbmQgIityKX1yZXR1cm4gW28sdSxzLGxdfSx1cy5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLGE9dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxvPXRoaXMuZXh0ZW50KnQscz10aGlzLmV4dGVudCplLHU9dGhpcy5sb2FkR2VvbWV0cnkoKSxsPXVzLnR5cGVzW3RoaXMudHlwZV07ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTt0W2VdPVszNjAqKHIueCtvKS9hLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqKHIueStzKS9hKSpNYXRoLlBJLzE4MCkpLTkwXTt9fXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMTp2YXIgYz1bXTtmb3Iobj0wO248dS5sZW5ndGg7bisrKWNbbl09dVtuXVswXTtwKHU9Yyk7YnJlYWs7Y2FzZSAyOmZvcihuPTA7bjx1Lmxlbmd0aDtuKyspcCh1W25dKTticmVhaztjYXNlIDM6Zm9yKHU9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoZTw9MSlyZXR1cm4gW3RdO2Zvcih2YXIgcixuLGk9W10sYT0wO2E8ZTthKyspe3ZhciBvPXBzKHRbYV0pOzAhPT1vJiYodm9pZCAwPT09biYmKG49bzwwKSxuPT09bzwwPyhyJiZpLnB1c2gocikscj1bdFthXV0pOnIucHVzaCh0W2FdKSk7fXJldHVybiByJiZpLnB1c2gociksaX0odSksbj0wO248dS5sZW5ndGg7bisrKWZvcihpPTA7aTx1W25dLmxlbmd0aDtpKyspcCh1W25dW2ldKTt9MT09PXUubGVuZ3RoP3U9dVswXTpsPSJNdWx0aSIrbDt2YXIgaD17dHlwZToiRmVhdHVyZSIsZ2VvbWV0cnk6e3R5cGU6bCxjb29yZGluYXRlczp1fSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuICJpZCJpbiB0aGlzJiYoaC5pZD10aGlzLmlkKSxofTt2YXIgY3M9aHM7ZnVuY3Rpb24gaHModCxlKXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPXQsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sdC5yZWFkRmllbGRzKGZzLHRoaXMsZSksdGhpcy5sZW5ndGg9dGhpcy5fZmVhdHVyZXMubGVuZ3RoO31mdW5jdGlvbiBmcyh0LGUscil7MTU9PT10P2UudmVyc2lvbj1yLnJlYWRWYXJpbnQoKToxPT09dD9lLm5hbWU9ci5yZWFkU3RyaW5nKCk6NT09PXQ/ZS5leHRlbnQ9ci5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5fZmVhdHVyZXMucHVzaChyLnBvcyk6Mz09PXQ/ZS5fa2V5cy5wdXNoKHIucmVhZFN0cmluZygpKTo0PT09dCYmZS5fdmFsdWVzLnB1c2goZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwscj10LnJlYWRWYXJpbnQoKSt0LnBvczt0LnBvczxyOyl7dmFyIG49dC5yZWFkVmFyaW50KCk+PjM7ZT0xPT09bj90LnJlYWRTdHJpbmcoKToyPT09bj90LnJlYWRGbG9hdCgpOjM9PT1uP3QucmVhZERvdWJsZSgpOjQ9PT1uP3QucmVhZFZhcmludDY0KCk6NT09PW4/dC5yZWFkVmFyaW50KCk6Nj09PW4/dC5yZWFkU1ZhcmludCgpOjc9PT1uP3QucmVhZEJvb2xlYW4oKTpudWxsO31yZXR1cm4gZX0ocikpO31mdW5jdGlvbiB5cyh0LGUscil7aWYoMz09PXQpe3ZhciBuPW5ldyBjcyhyLHIucmVhZFZhcmludCgpK3IucG9zKTtuLmxlbmd0aCYmKGVbbi5uYW1lXT1uKTt9fWhzLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZmVhdHVyZSBpbmRleCBvdXQgb2YgYm91bmRzIik7dGhpcy5fcGJmLnBvcz10aGlzLl9mZWF0dXJlc1t0XTt2YXIgZT10aGlzLl9wYmYucmVhZFZhcmludCgpK3RoaXMuX3BiZi5wb3M7cmV0dXJuIG5ldyBzcyh0aGlzLl9wYmYsZSx0aGlzLmV4dGVudCx0aGlzLl9rZXlzLHRoaXMuX3ZhbHVlcyl9O3ZhciBkcz17VmVjdG9yVGlsZTpmdW5jdGlvbih0LGUpe3RoaXMubGF5ZXJzPXQucmVhZEZpZWxkcyh5cyx7fSxlKTt9LFZlY3RvclRpbGVGZWF0dXJlOnNzLFZlY3RvclRpbGVMYXllcjpjc30sbXM9ZHMuVmVjdG9yVGlsZUZlYXR1cmUudHlwZXMsdnM9TWF0aC5wb3coMiwxMyk7ZnVuY3Rpb24gZ3ModCxlLHIsbixpLGEsbyxzKXt0LmVtcGxhY2VCYWNrKGUsciwyKk1hdGguZmxvb3Iobip2cykrbyxpKnZzKjIsYSp2cyoyLE1hdGgucm91bmQocykpO312YXIgeHM9ZnVuY3Rpb24odCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgemksdGhpcy5pbmRleEFycmF5PW5ldyBMaSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgVGEob3MsdC5sYXllcnMsdC56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBpYSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1N0YXRlRGVwZW5kZW50KCl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKTt9O2Z1bmN0aW9uIGJzKHQsZSl7cmV0dXJuIHQueD09PWUueCYmKHQueDwwfHx0Lng+ODE5Mil8fHQueT09PWUueSYmKHQueTwwfHx0Lnk+ODE5Mil9eHMucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj10cygiZmlsbC1leHRydXNpb24iLHRoaXMubGF5ZXJzLGUpO2Zvcih2YXIgbj0wLGk9dDtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl0sbz1hLmZlYXR1cmUscz1hLmlkLHU9YS5pbmRleCxsPWEuc291cmNlTGF5ZXJJbmRleCxwPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPXt0eXBlOm8udHlwZSxpZDpzLHByb3BlcnRpZXM6by5wcm9wZXJ0aWVzLGdlb21ldHJ5OnA/RmEobyk6W119O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgaWkodGhpcy56b29tKSxjLHIpKXt2YXIgaD17aWQ6cyxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6dSxnZW9tZXRyeTpwP2MuZ2VvbWV0cnk6RmEobykscHJvcGVydGllczpvLnByb3BlcnRpZXMsdHlwZTpvLnR5cGUscGF0dGVybnM6e319O3ZvaWQgMCE9PW8uaWQmJihoLmlkPW8uaWQpLHRoaXMuaGFzUGF0dGVybj90aGlzLmZlYXR1cmVzLnB1c2goZXMoImZpbGwtZXh0cnVzaW9uIix0aGlzLmxheWVycyxoLHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKGgsaC5nZW9tZXRyeSx1LHIse30pLGUuZmVhdHVyZUluZGV4Lmluc2VydChvLGguZ2VvbWV0cnksdSxsLHRoaXMuaW5kZXgsITApO319fSx4cy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5mZWF0dXJlcztuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07dGhpcy5hZGRGZWF0dXJlKGEsYS5nZW9tZXRyeSxhLmluZGV4LGUscik7fX0seHMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30seHMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSx4cy5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LHhzLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksb3MpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LHhzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9LHhzLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSl7Zm9yKHZhciBhPTAsbz1XbyhlLDUwMCk7YTxvLmxlbmd0aDthKz0xKXtmb3IodmFyIHM9b1thXSx1PTAsbD0wLHA9cztsPHAubGVuZ3RoO2wrPTEpdSs9cFtsXS5sZW5ndGg7Zm9yKHZhciBjPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksaD0wLGY9cztoPGYubGVuZ3RoO2grPTEpe3ZhciB5PWZbaF07aWYoMCE9PXkubGVuZ3RoJiYhKChQPXkpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC54PDB9KSl8fFAuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lng+ODE5Mn0pKXx8UC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQueTwwfSkpfHxQLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC55PjgxOTJ9KSkpKWZvcih2YXIgZD0wLG09MDttPHkubGVuZ3RoO20rKyl7dmFyIHY9eVttXTtpZihtPj0xKXt2YXIgZz15W20tMV07aWYoIWJzKHYsZykpe2MudmVydGV4TGVuZ3RoKzQ+aWEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJihjPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSkpO3ZhciB4PXYuc3ViKGcpLl9wZXJwKCkuX3VuaXQoKSxiPWcuZGlzdCh2KTtkK2I+MzI3NjgmJihkPTApLGdzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx4LngseC55LDAsMCxkKSxncyh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnkseC54LHgueSwwLDEsZCksZ3ModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxnLngsZy55LHgueCx4LnksMCwwLGQrPWIpLGdzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksZy54LGcueSx4LngseC55LDAsMSxkKTt2YXIgdz1jLnZlcnRleExlbmd0aDt0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodyx3KzIsdysxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodysxLHcrMix3KzMpLGMudmVydGV4TGVuZ3RoKz00LGMucHJpbWl0aXZlTGVuZ3RoKz0yO319fX1pZihjLnZlcnRleExlbmd0aCt1PmlhLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIJiYoYz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KHUsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpKSwiUG9seWdvbiI9PT1tc1t0LnR5cGVdKXtmb3IodmFyIF89W10sQT1bXSxTPWMudmVydGV4TGVuZ3RoLGs9MCxJPXM7azxJLmxlbmd0aDtrKz0xKXt2YXIgej1JW2tdO2lmKDAhPT16Lmxlbmd0aCl7eiE9PXNbMF0mJkEucHVzaChfLmxlbmd0aC8yKTtmb3IodmFyIEM9MDtDPHoubGVuZ3RoO0MrKyl7dmFyIE09eltDXTtncyh0aGlzLmxheW91dFZlcnRleEFycmF5LE0ueCxNLnksMCwwLDEsMSwwKSxfLnB1c2goTS54KSxfLnB1c2goTS55KTt9fX1mb3IodmFyIEU9d28oXyxBKSxUPTA7VDxFLmxlbmd0aDtUKz0zKXRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTK0VbVF0sUytFW1QrMl0sUytFW1QrMV0pO2MucHJpbWl0aXZlTGVuZ3RoKz1FLmxlbmd0aC8zLGMudmVydGV4TGVuZ3RoKz11O319dmFyIFA7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIsaSxuKTt9LEZuKCJGaWxsRXh0cnVzaW9uQnVja2V0Iix4cyx7b21pdDpbImxheWVycyIsImZlYXR1cmVzIl19KTt2YXIgd3M9e3BhaW50Om5ldyBnaSh7ImZpbGwtZXh0cnVzaW9uLW9wYWNpdHkiOm5ldyBmaShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tb3BhY2l0eSJdKSwiZmlsbC1leHRydXNpb24tY29sb3IiOm5ldyB5aShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tY29sb3IiXSksImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZSI6bmV3IGZpKEl0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiXSksImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciJdKSwiZmlsbC1leHRydXNpb24tcGF0dGVybiI6bmV3IGRpKEl0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuIl0pLCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHQiOm5ldyB5aShJdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24taGVpZ2h0Il0pLCJmaWxsLWV4dHJ1c2lvbi1iYXNlIjpuZXcgeWkoSXRbInBhaW50X2ZpbGwtZXh0cnVzaW9uIl1bImZpbGwtZXh0cnVzaW9uLWJhc2UiXSksImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50IjpuZXcgZmkoSXRbInBhaW50X2ZpbGwtZXh0cnVzaW9uIl1bImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50Il0pfSl9LF9zPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSx3cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHhzKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBZYSh0aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIikpfSxlLnByb3RvdHlwZS5pczNEPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMsdSl7dmFyIGw9JGEodCx0aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3IiKSxvLmFuZ2xlLHMpLHA9dGhpcy5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLWhlaWdodCIpLmV2YWx1YXRlKGUsciksYz10aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tYmFzZSIpLmV2YWx1YXRlKGUsciksaD1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGE9W10sbz0wLHM9dDtvPHMubGVuZ3RoO28rPTEpe3ZhciB1PXNbb10sbD1bdS54LHUueSwwLDFdO2FvKGwsbCxlKSxhLnB1c2gobmV3IGkobFswXS9sWzNdLGxbMV0vbFszXSkpO31yZXR1cm4gYX0obCx1KSxmPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgYT1bXSxvPVtdLHM9bls4XSplLHU9bls5XSplLGw9blsxMF0qZSxwPW5bMTFdKmUsYz1uWzhdKnIsaD1uWzldKnIsZj1uWzEwXSpyLHk9blsxMV0qcixkPTAsbT10O2Q8bS5sZW5ndGg7ZCs9MSl7Zm9yKHZhciB2PVtdLGc9W10seD0wLGI9bVtkXTt4PGIubGVuZ3RoO3grPTEpe3ZhciB3PWJbeF0sXz13LngsQT13LnksUz1uWzBdKl8rbls0XSpBK25bMTJdLGs9blsxXSpfK25bNV0qQStuWzEzXSxJPW5bMl0qXytuWzZdKkErblsxNF0sej1uWzNdKl8rbls3XSpBK25bMTVdLEM9SStsLE09eitwLEU9UytjLFQ9aytoLFA9SStmLEI9eit5LFY9bmV3IGkoKFMrcykvTSwoayt1KS9NKTtWLno9Qy9NLHYucHVzaChWKTt2YXIgRj1uZXcgaShFL0IsVC9CKTtGLno9UC9CLGcucHVzaChGKTt9YS5wdXNoKHYpLG8ucHVzaChnKTt9cmV0dXJuIFthLG9dfShuLGMscCx1KTtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe3ZhciBuPTEvMDtVYShyLGUpJiYobj1TcyhyLGVbMF0pKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIGE9ZVtpXSxvPXRbaV0scz0wO3M8YS5sZW5ndGgtMTtzKyspe3ZhciB1PWFbc10sbD1bdSxhW3MrMV0sb1tzKzFdLG9bc10sdV07UmEocixsKSYmKG49TWF0aC5taW4obixTcyhyLGwpKSk7fXJldHVybiBuIT09MS8wJiZufShmWzBdLGZbMV0saCl9LGV9KHhpKTtmdW5jdGlvbiBBcyh0LGUpe3JldHVybiB0LngqZS54K3QueSplLnl9ZnVuY3Rpb24gU3ModCxlKXtpZigxPT09dC5sZW5ndGgpe2Zvcih2YXIgcixuPTAsaT1lW24rK107IXJ8fGkuZXF1YWxzKHIpOylpZighKHI9ZVtuKytdKSlyZXR1cm4gMS8wO2Zvcig7bjxlLmxlbmd0aDtuKyspe3ZhciBhPWVbbl0sbz10WzBdLHM9ci5zdWIoaSksdT1hLnN1YihpKSxsPW8uc3ViKGkpLHA9QXMocyxzKSxjPUFzKHMsdSksaD1Bcyh1LHUpLGY9QXMobCxzKSx5PUFzKGwsdSksZD1wKmgtYypjLG09KGgqZi1jKnkpL2Qsdj0ocCp5LWMqZikvZCxnPWkueiooMS1tLXYpK3IueiptK2Eueip2O2lmKGlzRmluaXRlKGcpKXJldHVybiBnfXJldHVybiAxLzB9Zm9yKHZhciB4PTEvMCxiPTAsdz1lO2I8dy5sZW5ndGg7Yis9MSl4PU1hdGgubWluKHgsd1tiXS56KTtyZXR1cm4geH12YXIga3M9QWkoW3tuYW1lOiJhX3Bvc19ub3JtYWwiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9LHtuYW1lOiJhX2RhdGEiLGNvbXBvbmVudHM6NCx0eXBlOiJVaW50OCJ9XSw0KS5tZW1iZXJzLElzPWRzLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLHpzPU1hdGguY29zKE1hdGguUEkvMTgwKjM3LjUpLENzPU1hdGgucG93KDIsMTQpLy41LE1zPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IENpLHRoaXMuaW5kZXhBcnJheT1uZXcgTGksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFRhKGtzLHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgaWEsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtNcy5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuaGFzUGF0dGVybj10cygibGluZSIsdGhpcy5sYXllcnMsZSk7Zm9yKHZhciBuPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoImxpbmUtc29ydC1rZXkiKSxpPVtdLGE9MCxvPXQ7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9cy5mZWF0dXJlLGw9cy5pZCxwPXMuaW5kZXgsYz1zLnNvdXJjZUxheWVySW5kZXgsaD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksZj17dHlwZTp1LnR5cGUsaWQ6bCxwcm9wZXJ0aWVzOnUucHJvcGVydGllcyxnZW9tZXRyeTpoP0ZhKHUpOltdfTtpZih0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IGlpKHRoaXMuem9vbSksZixyKSl7aHx8KGYuZ2VvbWV0cnk9RmEodSkpO3ZhciB5PW4/bi5ldmFsdWF0ZShmLHt9LHIpOnZvaWQgMDtpLnB1c2goe2lkOmwscHJvcGVydGllczp1LnByb3BlcnRpZXMsdHlwZTp1LnR5cGUsc291cmNlTGF5ZXJJbmRleDpjLGluZGV4OnAsZ2VvbWV0cnk6Zi5nZW9tZXRyeSxwYXR0ZXJuczp7fSxzb3J0S2V5Onl9KTt9fW4mJmkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zb3J0S2V5LWUuc29ydEtleX0pKTtmb3IodmFyIGQ9MCxtPWk7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9di5nZW9tZXRyeSx4PXYuaW5kZXgsYj12LnNvdXJjZUxheWVySW5kZXg7aWYodGhpcy5oYXNQYXR0ZXJuKXt2YXIgdz1lcygibGluZSIsdGhpcy5sYXllcnMsdix0aGlzLnpvb20sZSk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaCh3KTt9ZWxzZSB0aGlzLmFkZEZlYXR1cmUodixnLHgscix7fSk7ZS5mZWF0dXJlSW5kZXguaW5zZXJ0KHRbeF0uZmVhdHVyZSxnLHgsYix0aGlzLmluZGV4KTt9fSxNcy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscik7fSxNcy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5wYXR0ZXJuRmVhdHVyZXM7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3RoaXMuYWRkRmVhdHVyZShhLGEuZ2VvbWV0cnksYS5pbmRleCxlLHIpO319LE1zLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0sTXMucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxNcy5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGtzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxNcy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fSxNcy5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYT10aGlzLmxheWVyc1swXS5sYXlvdXQsbz1hLmdldCgibGluZS1qb2luIikuZXZhbHVhdGUodCx7fSkscz1hLmdldCgibGluZS1jYXAiKSx1PWEuZ2V0KCJsaW5lLW1pdGVyLWxpbWl0IiksbD1hLmdldCgibGluZS1yb3VuZC1saW1pdCIpLHA9MCxjPWU7cDxjLmxlbmd0aDtwKz0xKXRoaXMuYWRkTGluZShjW3BdLHQsbyxzLHUsbCk7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIsaSxuKTt9LE1zLnByb3RvdHlwZS5hZGRMaW5lPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtpZih0aGlzLmRpc3RhbmNlPTAsdGhpcy5zY2FsZWREaXN0YW5jZT0wLHRoaXMudG90YWxEaXN0YW5jZT0wLGUucHJvcGVydGllcyYmZS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KCJtYXBib3hfY2xpcF9zdGFydCIpJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoIm1hcGJveF9jbGlwX2VuZCIpKXt0aGlzLmNsaXBTdGFydD0rZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX3N0YXJ0LHRoaXMuY2xpcEVuZD0rZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX2VuZDtmb3IodmFyIG89MDtvPHQubGVuZ3RoLTE7bysrKXRoaXMudG90YWxEaXN0YW5jZSs9dFtvXS5kaXN0KHRbbysxXSk7dGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpO31mb3IodmFyIHM9IlBvbHlnb24iPT09SXNbZS50eXBlXSx1PXQubGVuZ3RoO3U+PTImJnRbdS0xXS5lcXVhbHModFt1LTJdKTspdS0tO2Zvcih2YXIgbD0wO2w8dS0xJiZ0W2xdLmVxdWFscyh0W2wrMV0pOylsKys7aWYoISh1PChzPzM6MikpKXsiYmV2ZWwiPT09ciYmKGk9MS4wNSk7dmFyIHAsYz10aGlzLm92ZXJzY2FsaW5nPD0xNj8xMjI4ODAvKDUxMip0aGlzLm92ZXJzY2FsaW5nKTowLGg9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCp1LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxmPXZvaWQgMCx5PXZvaWQgMCxkPXZvaWQgMCxtPXZvaWQgMDt0aGlzLmUxPXRoaXMuZTI9LTEscyYmKG09dFtsXS5zdWIocD10W3UtMl0pLl91bml0KCkuX3BlcnAoKSk7Zm9yKHZhciB2PWw7djx1O3YrKylpZighKHk9dj09PXUtMT9zP3RbbCsxXTp2b2lkIDA6dFt2KzFdKXx8IXRbdl0uZXF1YWxzKHkpKXttJiYoZD1tKSxwJiYoZj1wKSxwPXRbdl0sbT15P3kuc3ViKHApLl91bml0KCkuX3BlcnAoKTpkO3ZhciBnPShkPWR8fG0pLmFkZChtKTswPT09Zy54JiYwPT09Zy55fHxnLl91bml0KCk7dmFyIHg9ZC54Km0ueCtkLnkqbS55LGI9Zy54Km0ueCtnLnkqbS55LHc9MCE9PWI/MS9iOjEvMCxfPTIqTWF0aC5zcXJ0KDItMipiKSxBPWI8enMmJmYmJnksUz1kLngqbS55LWQueSptLng+MDtpZihBJiZ2Pmwpe3ZhciBrPXAuZGlzdChmKTtpZihrPjIqYyl7dmFyIEk9cC5zdWIocC5zdWIoZikuX211bHQoYy9rKS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShmLEkpLHRoaXMuYWRkQ3VycmVudFZlcnRleChJLGQsMCwwLGgpLGY9STt9fXZhciB6PWYmJnksQz16P3I6cz8iYnV0dCI6bjtpZih6JiYicm91bmQiPT09QyYmKHc8YT9DPSJtaXRlciI6dzw9MiYmKEM9ImZha2Vyb3VuZCIpKSwibWl0ZXIiPT09QyYmdz5pJiYoQz0iYmV2ZWwiKSwiYmV2ZWwiPT09QyYmKHc+MiYmKEM9ImZsaXBiZXZlbCIpLHc8aSYmKEM9Im1pdGVyIikpLGYmJnRoaXMudXBkYXRlRGlzdGFuY2UoZixwKSwibWl0ZXIiPT09QylnLl9tdWx0KHcpLHRoaXMuYWRkQ3VycmVudFZlcnRleChwLGcsMCwwLGgpO2Vsc2UgaWYoImZsaXBiZXZlbCI9PT1DKXtpZih3PjEwMClnPW0ubXVsdCgtMSk7ZWxzZSB7dmFyIE09dypkLmFkZChtKS5tYWcoKS9kLnN1YihtKS5tYWcoKTtnLl9wZXJwKCkuX211bHQoTSooUz8tMToxKSk7fXRoaXMuYWRkQ3VycmVudFZlcnRleChwLGcsMCwwLGgpLHRoaXMuYWRkQ3VycmVudFZlcnRleChwLGcubXVsdCgtMSksMCwwLGgpO31lbHNlIGlmKCJiZXZlbCI9PT1DfHwiZmFrZXJvdW5kIj09PUMpe3ZhciBFPS1NYXRoLnNxcnQodyp3LTEpLFQ9Uz9FOjAsUD1TPzA6RTtpZihmJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxkLFQsUCxoKSwiZmFrZXJvdW5kIj09PUMpZm9yKHZhciBCPU1hdGgucm91bmQoMTgwKl8vTWF0aC5QSS8yMCksVj0xO1Y8QjtWKyspe3ZhciBGPVYvQjtpZiguNSE9PUYpe3ZhciBEPUYtLjU7Ris9RipEKihGLTEpKigoMS4wOTA0K3gqKHgqKDMuNTU2NDUtMS40MzUxOSp4KS0zLjI0NTIpKSpEKkQrKC44NDgwMTMreCooLjIxNTYzOCp4LTEuMDYwMjEpKSk7fXZhciBMPW0uc3ViKGQpLl9tdWx0KEYpLl9hZGQoZCkuX3VuaXQoKS5fbXVsdChTPy0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChwLEwueCxMLnksITEsUywwLGgpO315JiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxtLC1ULC1QLGgpO31lbHNlIGlmKCJidXR0Ij09PUMpdGhpcy5hZGRDdXJyZW50VmVydGV4KHAsZywwLDAsaCk7ZWxzZSBpZigic3F1YXJlIj09PUMpe3ZhciBSPWY/MTotMTt0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxnLFIsUixoKTt9ZWxzZSAicm91bmQiPT09QyYmKGYmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxkLDAsMCxoKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgocCxkLDEsMSxoLCEwKSkseSYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChwLG0sLTEsLTEsaCwhMCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHAsbSwwLDAsaCkpKTtpZihBJiZ2PHUtMSl7dmFyIE89cC5kaXN0KHkpO2lmKE8+MipjKXt2YXIgVT1wLmFkZCh5LnN1YihwKS5fbXVsdChjL08pLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKHAsVSksdGhpcy5hZGRDdXJyZW50VmVydGV4KFUsbSwwLDAsaCkscD1VO319fX19LE1zLnByb3RvdHlwZS5hZGRDdXJyZW50VmVydGV4PWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2b2lkIDA9PT1hJiYoYT0hMSk7dmFyIG89ZS55Km4tZS54LHM9LWUueS1lLngqbjt0aGlzLmFkZEhhbGZWZXJ0ZXgodCxlLngrZS55KnIsZS55LWUueCpyLGEsITEscixpKSx0aGlzLmFkZEhhbGZWZXJ0ZXgodCxvLHMsYSwhMCwtbixpKSx0aGlzLmRpc3RhbmNlPkNzLzImJjA9PT10aGlzLnRvdGFsRGlzdGFuY2UmJih0aGlzLmRpc3RhbmNlPTAsdGhpcy5hZGRDdXJyZW50VmVydGV4KHQsZSxyLG4saSxhKSk7fSxNcy5wcm90b3R5cGUuYWRkSGFsZlZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSxvKXt2YXIgcz0uNSp0aGlzLnNjYWxlZERpc3RhbmNlO3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soKHQueDw8MSkrKG4/MTowKSwodC55PDwxKSsoaT8xOjApLE1hdGgucm91bmQoNjMqZSkrMTI4LE1hdGgucm91bmQoNjMqcikrMTI4LDErKDA9PT1hPzA6YTwwPy0xOjEpfCg2MyZzKTw8MixzPj42KTt2YXIgdT1vLnZlcnRleExlbmd0aCsrO3RoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLHUpLG8ucHJpbWl0aXZlTGVuZ3RoKyspLGk/dGhpcy5lMj11OnRoaXMuZTE9dTt9LE1zLnByb3RvdHlwZS51cGRhdGVTY2FsZWREaXN0YW5jZT1mdW5jdGlvbigpe3RoaXMuc2NhbGVkRGlzdGFuY2U9dGhpcy50b3RhbERpc3RhbmNlPjA/KHRoaXMuY2xpcFN0YXJ0Kyh0aGlzLmNsaXBFbmQtdGhpcy5jbGlwU3RhcnQpKnRoaXMuZGlzdGFuY2UvdGhpcy50b3RhbERpc3RhbmNlKSooQ3MtMSk6dGhpcy5kaXN0YW5jZTt9LE1zLnByb3RvdHlwZS51cGRhdGVEaXN0YW5jZT1mdW5jdGlvbih0LGUpe3RoaXMuZGlzdGFuY2UrPXQuZGlzdChlKSx0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCk7fSxGbigiTGluZUJ1Y2tldCIsTXMse29taXQ6WyJsYXllcnMiLCJwYXR0ZXJuRmVhdHVyZXMiXX0pO3ZhciBFcz1uZXcgZ2koeyJsaW5lLWNhcCI6bmV3IGZpKEl0LmxheW91dF9saW5lWyJsaW5lLWNhcCJdKSwibGluZS1qb2luIjpuZXcgeWkoSXQubGF5b3V0X2xpbmVbImxpbmUtam9pbiJdKSwibGluZS1taXRlci1saW1pdCI6bmV3IGZpKEl0LmxheW91dF9saW5lWyJsaW5lLW1pdGVyLWxpbWl0Il0pLCJsaW5lLXJvdW5kLWxpbWl0IjpuZXcgZmkoSXQubGF5b3V0X2xpbmVbImxpbmUtcm91bmQtbGltaXQiXSksImxpbmUtc29ydC1rZXkiOm5ldyB5aShJdC5sYXlvdXRfbGluZVsibGluZS1zb3J0LWtleSJdKX0pLFRzPXtwYWludDpuZXcgZ2koeyJsaW5lLW9wYWNpdHkiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLW9wYWNpdHkiXSksImxpbmUtY29sb3IiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLWNvbG9yIl0pLCJsaW5lLXRyYW5zbGF0ZSI6bmV3IGZpKEl0LnBhaW50X2xpbmVbImxpbmUtdHJhbnNsYXRlIl0pLCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdC5wYWludF9saW5lWyJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiXSksImxpbmUtd2lkdGgiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLXdpZHRoIl0pLCJsaW5lLWdhcC13aWR0aCI6bmV3IHlpKEl0LnBhaW50X2xpbmVbImxpbmUtZ2FwLXdpZHRoIl0pLCJsaW5lLW9mZnNldCI6bmV3IHlpKEl0LnBhaW50X2xpbmVbImxpbmUtb2Zmc2V0Il0pLCJsaW5lLWJsdXIiOm5ldyB5aShJdC5wYWludF9saW5lWyJsaW5lLWJsdXIiXSksImxpbmUtZGFzaGFycmF5IjpuZXcgbWkoSXQucGFpbnRfbGluZVsibGluZS1kYXNoYXJyYXkiXSksImxpbmUtcGF0dGVybiI6bmV3IGRpKEl0LnBhaW50X2xpbmVbImxpbmUtcGF0dGVybiJdKSwibGluZS1ncmFkaWVudCI6bmV3IHZpKEl0LnBhaW50X2xpbmVbImxpbmUtZ3JhZGllbnQiXSl9KSxsYXlvdXQ6RXN9LFBzPW5ldyhmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcj1uZXcgaWkoTWF0aC5mbG9vcihyLnpvb20pLHtub3c6ci5ub3csZmFkZUR1cmF0aW9uOnIuZmFkZUR1cmF0aW9uLHpvb21IaXN0b3J5OnIuem9vbUhpc3RvcnksdHJhbnNpdGlvbjpyLnRyYW5zaXRpb259KSx0LnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlLmNhbGwodGhpcyxlLHIpfSxlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbihlLHIsbixpKXtyZXR1cm4gcj1wKHt9LHIse3pvb206TWF0aC5mbG9vcihyLnpvb20pfSksdC5wcm90b3R5cGUuZXZhbHVhdGUuY2FsbCh0aGlzLGUscixuLGkpfSxlfSh5aSkpKFRzLnBhaW50LnByb3BlcnRpZXNbImxpbmUtd2lkdGgiXS5zcGVjaWZpY2F0aW9uKTtQcy51c2VJbnRlZ2VyWm9vbT0hMDt2YXIgQnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLFRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQpeyJsaW5lLWdyYWRpZW50Ij09PXQmJnRoaXMuX3VwZGF0ZUdyYWRpZW50KCk7fSxlLnByb3RvdHlwZS5fdXBkYXRlR3JhZGllbnQ9ZnVuY3Rpb24oKXt0aGlzLmdyYWRpZW50PW1vKHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1sibGluZS1ncmFkaWVudCJdLnZhbHVlLmV4cHJlc3Npb24sImxpbmVQcm9ncmVzcyIpLHRoaXMuZ3JhZGllbnRUZXh0dXJlPW51bGw7fSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbihlLHIpe3QucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlLHIpLHRoaXMucGFpbnQuX3ZhbHVlc1sibGluZS1mbG9vcndpZHRoIl09UHMucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1sibGluZS13aWR0aCJdLnZhbHVlLGUpO30sZS5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTXModCl9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQscj1WcyhIYSgibGluZS13aWR0aCIsdGhpcyxlKSxIYSgibGluZS1nYXAtd2lkdGgiLHRoaXMsZSkpLG49SGEoImxpbmUtb2Zmc2V0Iix0aGlzLGUpO3JldHVybiByLzIrTWF0aC5hYnMobikrWWEodGhpcy5wYWludC5nZXQoImxpbmUtdHJhbnNsYXRlIikpfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMpe3ZhciB1PSRhKHQsdGhpcy5wYWludC5nZXQoImxpbmUtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImxpbmUtdHJhbnNsYXRlLWFuY2hvciIpLG8uYW5nbGUscyksbD1zLzIqVnModGhpcy5wYWludC5nZXQoImxpbmUtd2lkdGgiKS5ldmFsdWF0ZShlLHIpLHRoaXMucGFpbnQuZ2V0KCJsaW5lLWdhcC13aWR0aCIpLmV2YWx1YXRlKGUscikpLHA9dGhpcy5wYWludC5nZXQoImxpbmUtb2Zmc2V0IikuZXZhbHVhdGUoZSxyKTtyZXR1cm4gcCYmKG49ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj1uZXcgaSgwLDApLGE9MDthPHQubGVuZ3RoO2ErKyl7Zm9yKHZhciBvPXRbYV0scz1bXSx1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBsPW9bdV0scD1vW3UrMV0sYz0wPT09dT9uOmwuc3ViKG9bdS0xXSkuX3VuaXQoKS5fcGVycCgpLGg9dT09PW8ubGVuZ3RoLTE/bjpwLnN1YihsKS5fdW5pdCgpLl9wZXJwKCksZj1jLl9hZGQoaCkuX3VuaXQoKTtmLl9tdWx0KDEvKGYueCpoLngrZi55KmgueSkpLHMucHVzaChmLl9tdWx0KGUpLl9hZGQobCkpO31yLnB1c2gocyk7fXJldHVybiByfShuLHAqcykpLGZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZih0Lmxlbmd0aD49Mylmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpZihYYSh0LGlbYV0pKXJldHVybiAhMDtpZihqYSh0LGkscikpcmV0dXJuICEwfXJldHVybiAhMX0odSxuLGwpfSxlLnByb3RvdHlwZS5pc1RpbGVDbGlwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxlfSh4aSk7ZnVuY3Rpb24gVnModCxlKXtyZXR1cm4gZT4wP2UrMip0OnR9dmFyIEZzPUFpKFt7bmFtZToiYV9wb3Nfb2Zmc2V0Iixjb21wb25lbnRzOjQsdHlwZToiSW50MTYifSx7bmFtZToiYV9kYXRhIixjb21wb25lbnRzOjQsdHlwZToiVWludDE2In0se25hbWU6ImFfcGl4ZWxvZmZzZXQiLGNvbXBvbmVudHM6NCx0eXBlOiJJbnQxNiJ9XSw0KSxEcz1BaShbe25hbWU6ImFfcHJvamVjdGVkX3BvcyIsY29tcG9uZW50czozLHR5cGU6IkZsb2F0MzIifV0sNCksTHM9KEFpKFt7bmFtZToiYV9mYWRlX29wYWNpdHkiLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50MzIifV0sNCksQWkoW3tuYW1lOiJhX3BsYWNlZCIsY29tcG9uZW50czoyLHR5cGU6IlVpbnQ4In0se25hbWU6ImFfc2hpZnQiLGNvbXBvbmVudHM6Mix0eXBlOiJGbG9hdDMyIn1dKSksUnM9KEFpKFt7dHlwZToiSW50MTYiLG5hbWU6ImFuY2hvclBvaW50WCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yUG9pbnRZIn0se3R5cGU6IkludDE2IixuYW1lOiJ4MSJ9LHt0eXBlOiJJbnQxNiIsbmFtZToieTEifSx7dHlwZToiSW50MTYiLG5hbWU6IngyIn0se3R5cGU6IkludDE2IixuYW1lOiJ5MiJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImZlYXR1cmVJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InNvdXJjZUxheWVySW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJidWNrZXRJbmRleCJ9XSksQWkoW3tuYW1lOiJhX3BvcyIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In0se25hbWU6ImFfYW5jaG9yX3BvcyIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In0se25hbWU6ImFfZXh0cnVkZSIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In1dLDQpKSxPcz1BaShbe25hbWU6ImFfcG9zIixjb21wb25lbnRzOjIsdHlwZToiRmxvYXQzMiJ9LHtuYW1lOiJhX3JhZGl1cyIsY29tcG9uZW50czoxLHR5cGU6IkZsb2F0MzIifSx7bmFtZToiYV9mbGFncyIsY29tcG9uZW50czoyLHR5cGU6IkludDE2In1dLDQpO2Z1bmN0aW9uIFVzKHQsZSxyKXtyZXR1cm4gdC5zZWN0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnRleHQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUubGF5b3V0LmdldCgidGV4dC10cmFuc2Zvcm0iKS5ldmFsdWF0ZShyLHt9KTtyZXR1cm4gInVwcGVyY2FzZSI9PT1uP3Q9dC50b0xvY2FsZVVwcGVyQ2FzZSgpOiJsb3dlcmNhc2UiPT09biYmKHQ9dC50b0xvY2FsZUxvd2VyQ2FzZSgpKSxuaS5hcHBseUFyYWJpY1NoYXBpbmcmJih0PW5pLmFwcGx5QXJhYmljU2hhcGluZyh0KSksdH0odC50ZXh0LGUscik7fSkpLHR9QWkoW3tuYW1lOiJ0cmlhbmdsZSIsY29tcG9uZW50czozLHR5cGU6IlVpbnQxNiJ9XSksQWkoW3t0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yWCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yWSJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6ImdseXBoU3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bUdseXBocyJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6InZlcnRleFN0YXJ0SW5kZXgifSx7dHlwZToiVWludDMyIixuYW1lOiJsaW5lU3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImxpbmVMZW5ndGgifSx7dHlwZToiVWludDE2IixuYW1lOiJzZWdtZW50In0se3R5cGU6IlVpbnQxNiIsbmFtZToibG93ZXJTaXplIn0se3R5cGU6IlVpbnQxNiIsbmFtZToidXBwZXJTaXplIn0se3R5cGU6IkZsb2F0MzIiLG5hbWU6ImxpbmVPZmZzZXRYIn0se3R5cGU6IkZsb2F0MzIiLG5hbWU6ImxpbmVPZmZzZXRZIn0se3R5cGU6IlVpbnQ4IixuYW1lOiJ3cml0aW5nTW9kZSJ9LHt0eXBlOiJVaW50OCIsbmFtZToicGxhY2VkT3JpZW50YXRpb24ifSx7dHlwZToiVWludDgiLG5hbWU6ImhpZGRlbiJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImNyb3NzVGlsZUlEIn0se3R5cGU6IkludDE2IixuYW1lOiJhc3NvY2lhdGVkSWNvbkluZGV4In1dKSxBaShbe3R5cGU6IkludDE2IixuYW1lOiJhbmNob3JYIn0se3R5cGU6IkludDE2IixuYW1lOiJhbmNob3JZIn0se3R5cGU6IkludDE2IixuYW1lOiJyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4In0se3R5cGU6IkludDE2IixuYW1lOiJsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4In0se3R5cGU6IkludDE2IixuYW1lOiJ2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToicGxhY2VkSWNvblN5bWJvbEluZGV4In0se3R5cGU6IkludDE2IixuYW1lOiJ2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6ImtleSJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InRleHRCb3hTdGFydEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidGV4dEJveEVuZEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InZlcnRpY2FsVGV4dEJveEVuZEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToiaWNvbkJveFN0YXJ0SW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJpY29uQm94RW5kSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidmVydGljYWxJY29uQm94RW5kSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJmZWF0dXJlSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bUljb25WZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Im51bVZlcnRpY2FsSWNvblZlcnRpY2VzIn0se3R5cGU6IlVpbnQxNiIsbmFtZToidXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMifSx7dHlwZToiVWludDMyIixuYW1lOiJjcm9zc1RpbGVJRCJ9LHt0eXBlOiJGbG9hdDMyIixuYW1lOiJ0ZXh0Qm94U2NhbGUifSx7dHlwZToiRmxvYXQzMiIsY29tcG9uZW50czoyLG5hbWU6InRleHRPZmZzZXQifSx7dHlwZToiRmxvYXQzMiIsbmFtZToiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIifV0pLEFpKFt7dHlwZToiRmxvYXQzMiIsbmFtZToib2Zmc2V0WCJ9XSksQWkoW3t0eXBlOiJJbnQxNiIsbmFtZToieCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToieSJ9LHt0eXBlOiJJbnQxNiIsbmFtZToidGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IifV0pO3ZhciBqcz17IiEiOiLvuJUiLCIjIjoi77yDIiwkOiLvvIQiLCIlIjoi77yFIiwiJiI6Iu+8hiIsIigiOiLvuLUiLCIpIjoi77i2IiwiKiI6Iu+8iiIsIisiOiLvvIsiLCIsIjoi77iQIiwiLSI6Iu+4siIsIi4iOiLjg7siLCIvIjoi77yPIiwiOiI6Iu+4kyIsIjsiOiLvuJQiLCI8Ijoi77i/IiwiPSI6Iu+8nSIsIj4iOiLvuYAiLCI/Ijoi77iWIiwiQCI6Iu+8oCIsIlsiOiLvuYciLCJcXCI6Iu+8vCIsIl0iOiLvuYgiLCJeIjoi77y+IixfOiLvuLMiLCJgIjoi772AIiwieyI6Iu+4tyIsInwiOiLigJUiLCJ9Ijoi77i4IiwifiI6Iu+9niIsIsKiIjoi77+gIiwiwqMiOiLvv6EiLCLCpSI6Iu+/pSIsIsKmIjoi77+kIiwiwqwiOiLvv6IiLCLCryI6Iu+/oyIsIuKAkyI6Iu+4siIsIuKAlCI6Iu+4sSIsIuKAmCI6Iu+5gyIsIuKAmSI6Iu+5hCIsIuKAnCI6Iu+5gSIsIuKAnSI6Iu+5giIsIuKApiI6Iu+4mSIsIuKApyI6IuODuyIsIuKCqSI6Iu+/piIsIuOAgSI6Iu+4kSIsIuOAgiI6Iu+4kiIsIuOAiCI6Iu+4vyIsIuOAiSI6Iu+5gCIsIuOAiiI6Iu+4vSIsIuOAiyI6Iu+4viIsIuOAjCI6Iu+5gSIsIuOAjSI6Iu+5giIsIuOAjiI6Iu+5gyIsIuOAjyI6Iu+5hCIsIuOAkCI6Iu+4uyIsIuOAkSI6Iu+4vCIsIuOAlCI6Iu+4uSIsIuOAlSI6Iu+4uiIsIuOAliI6Iu+4lyIsIuOAlyI6Iu+4mCIsIu+8gSI6Iu+4lSIsIu+8iCI6Iu+4tSIsIu+8iSI6Iu+4tiIsIu+8jCI6Iu+4kCIsIu+8jSI6Iu+4siIsIu+8jiI6IuODuyIsIu+8miI6Iu+4kyIsIu+8myI6Iu+4lCIsIu+8nCI6Iu+4vyIsIu+8niI6Iu+5gCIsIu+8nyI6Iu+4liIsIu+8uyI6Iu+5hyIsIu+8vSI6Iu+5iCIsIu+8vyI6Iu+4syIsIu+9myI6Iu+4tyIsIu+9nCI6IuKAlSIsIu+9nSI6Iu+4uCIsIu+9nyI6Iu+4tSIsIu+9oCI6Iu+4tiIsIu+9oSI6Iu+4kiIsIu+9oiI6Iu+5gSIsIu+9oyI6Iu+5giJ9LHFzPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGEsbyxzPTgqaS1uLTEsdT0oMTw8cyktMSxsPXU+PjEscD0tNyxjPXI/aS0xOjAsaD1yPy0xOjEsZj10W2UrY107Zm9yKGMrPWgsYT1mJigxPDwtcCktMSxmPj49LXAscCs9cztwPjA7YT0yNTYqYSt0W2UrY10sYys9aCxwLT04KTtmb3Iobz1hJigxPDwtcCktMSxhPj49LXAscCs9bjtwPjA7bz0yNTYqbyt0W2UrY10sYys9aCxwLT04KTtpZigwPT09YSlhPTEtbDtlbHNlIHtpZihhPT09dSlyZXR1cm4gbz9OYU46MS8wKihmPy0xOjEpO28rPU1hdGgucG93KDIsbiksYS09bDt9cmV0dXJuIChmPy0xOjEpKm8qTWF0aC5wb3coMixhLW4pfSxOcz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG8scyx1LGw9OCphLWktMSxwPSgxPDxsKS0xLGM9cD4+MSxoPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6YS0xLHk9bj8xOi0xLGQ9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhzPWlzTmFOKGUpPzE6MCxvPXApOihvPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtbykpPDEmJihvLS0sdSo9MiksKGUrPW8rYz49MT9oL3U6aCpNYXRoLnBvdygyLDEtYykpKnU+PTImJihvKyssdS89MiksbytjPj1wPyhzPTAsbz1wKTpvK2M+PTE/KHM9KGUqdS0xKSpNYXRoLnBvdygyLGkpLG8rPWMpOihzPWUqTWF0aC5wb3coMixjLTEpKk1hdGgucG93KDIsaSksbz0wKSk7aT49ODt0W3IrZl09MjU1JnMsZis9eSxzLz0yNTYsaS09OCk7Zm9yKG89bzw8aXxzLGwrPWk7bD4wO3RbcitmXT0yNTUmbyxmKz15LG8vPTI1NixsLT04KTt0W3IrZi15XXw9MTI4KmQ7fSxLcz1HcztmdW5jdGlvbiBHcyh0KXt0aGlzLmJ1Zj1BcnJheUJ1ZmZlci5pc1ZpZXcmJkFycmF5QnVmZmVyLmlzVmlldyh0KT90Om5ldyBVaW50OEFycmF5KHR8fDApLHRoaXMucG9zPTAsdGhpcy50eXBlPTAsdGhpcy5sZW5ndGg9dGhpcy5idWYubGVuZ3RoO31Hcy5WYXJpbnQ9MCxHcy5GaXhlZDY0PTEsR3MuQnl0ZXM9MixHcy5GaXhlZDMyPTU7dmFyIFpzPSJ1bmRlZmluZWQiPT10eXBlb2YgVGV4dERlY29kZXI/bnVsbDpuZXcgVGV4dERlY29kZXIoInV0ZjgiKTtmdW5jdGlvbiBYcyh0KXtyZXR1cm4gdC50eXBlPT09R3MuQnl0ZXM/dC5yZWFkVmFyaW50KCkrdC5wb3M6dC5wb3MrMX1mdW5jdGlvbiBKcyh0LGUscil7cmV0dXJuIHI/NDI5NDk2NzI5NiplKyh0Pj4+MCk6NDI5NDk2NzI5NiooZT4+PjApKyh0Pj4+MCl9ZnVuY3Rpb24gSHModCxlLHIpe3ZhciBuPWU8PTE2MzgzPzE6ZTw9MjA5NzE1MT8yOmU8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2coZSkvKDcqTWF0aC5MTjIpKTtyLnJlYWxsb2Mobik7Zm9yKHZhciBpPXIucG9zLTE7aT49dDtpLS0pci5idWZbaStuXT1yLmJ1ZltpXTt9ZnVuY3Rpb24gWXModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlVmFyaW50KHRbcl0pO31mdW5jdGlvbiAkcyh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTVmFyaW50KHRbcl0pO31mdW5jdGlvbiBXcyh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGbG9hdCh0W3JdKTt9ZnVuY3Rpb24gUXModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRG91YmxlKHRbcl0pO31mdW5jdGlvbiB0dSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVCb29sZWFuKHRbcl0pO31mdW5jdGlvbiBldSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGaXhlZDMyKHRbcl0pO31mdW5jdGlvbiBydSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTRml4ZWQzMih0W3JdKTt9ZnVuY3Rpb24gbnUodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRml4ZWQ2NCh0W3JdKTt9ZnVuY3Rpb24gaXUodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU0ZpeGVkNjQodFtyXSk7fWZ1bmN0aW9uIGF1KHQsZSl7cmV0dXJuICh0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsxNjc3NzIxNip0W2UrM119ZnVuY3Rpb24gb3UodCxlLHIpe3Rbcl09ZSx0W3IrMV09ZT4+PjgsdFtyKzJdPWU+Pj4xNix0W3IrM109ZT4+PjI0O31mdW5jdGlvbiBzdSh0LGUpe3JldHVybiAodFtlXXx0W2UrMV08PDh8dFtlKzJdPDwxNikrKHRbZSszXTw8MjQpfWZ1bmN0aW9uIHV1KHQsZSxyKXsxPT09dCYmci5yZWFkTWVzc2FnZShsdSxlKTt9ZnVuY3Rpb24gbHUodCxlLHIpe2lmKDM9PT10KXt2YXIgbj1yLnJlYWRNZXNzYWdlKHB1LHt9KSxpPW4ud2lkdGgsYT1uLmhlaWdodCxvPW4ubGVmdCxzPW4udG9wLHU9bi5hZHZhbmNlO2UucHVzaCh7aWQ6bi5pZCxiaXRtYXA6bmV3IGhvKHt3aWR0aDppKzYsaGVpZ2h0OmErNn0sbi5iaXRtYXApLG1ldHJpY3M6e3dpZHRoOmksaGVpZ2h0OmEsbGVmdDpvLHRvcDpzLGFkdmFuY2U6dX19KTt9fWZ1bmN0aW9uIHB1KHQsZSxyKXsxPT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PT10P2UuYml0bWFwPXIucmVhZEJ5dGVzKCk6Mz09PXQ/ZS53aWR0aD1yLnJlYWRWYXJpbnQoKTo0PT09dD9lLmhlaWdodD1yLnJlYWRWYXJpbnQoKTo1PT09dD9lLmxlZnQ9ci5yZWFkU1ZhcmludCgpOjY9PT10P2UudG9wPXIucmVhZFNWYXJpbnQoKTo3PT09dCYmKGUuYWR2YW5jZT1yLnJlYWRWYXJpbnQoKSk7fWZ1bmN0aW9uIGN1KHQpe2Zvcih2YXIgZT0wLHI9MCxuPTAsaT10O248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtlKz1hLncqYS5oLHI9TWF0aC5tYXgocixhLncpO310LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaC10Lmh9KSk7Zm9yKHZhciBvPVt7eDowLHk6MCx3Ok1hdGgubWF4KE1hdGguY2VpbChNYXRoLnNxcnQoZS8uOTUpKSxyKSxoOjEvMH1dLHM9MCx1PTAsbD0wLHA9dDtsPHAubGVuZ3RoO2wrPTEpZm9yKHZhciBjPXBbbF0saD1vLmxlbmd0aC0xO2g+PTA7aC0tKXt2YXIgZj1vW2hdO2lmKCEoYy53PmYud3x8Yy5oPmYuaCkpe2lmKGMueD1mLngsYy55PWYueSx1PU1hdGgubWF4KHUsYy55K2MuaCkscz1NYXRoLm1heChzLGMueCtjLncpLGMudz09PWYudyYmYy5oPT09Zi5oKXt2YXIgeT1vLnBvcCgpO2g8by5sZW5ndGgmJihvW2hdPXkpO31lbHNlIGMuaD09PWYuaD8oZi54Kz1jLncsZi53LT1jLncpOmMudz09PWYudz8oZi55Kz1jLmgsZi5oLT1jLmgpOihvLnB1c2goe3g6Zi54K2Mudyx5OmYueSx3OmYudy1jLncsaDpjLmh9KSxmLnkrPWMuaCxmLmgtPWMuaCk7YnJlYWt9fXJldHVybiB7dzpzLGg6dSxmaWxsOmUvKHMqdSl8fDB9fUdzLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGw7fSxyZWFkRmllbGRzOmZ1bmN0aW9uKHQsZSxyKXtmb3Iocj1yfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxyOyl7dmFyIG49dGhpcy5yZWFkVmFyaW50KCksaT1uPj4zLGE9dGhpcy5wb3M7dGhpcy50eXBlPTcmbix0KGksZSx0aGlzKSx0aGlzLnBvcz09PWEmJnRoaXMuc2tpcChuKTt9cmV0dXJuIGV9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyh0LGUsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PWF1KHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9c3UodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciB0PWF1KHRoaXMuYnVmLHRoaXMucG9zKSs0Mjk0OTY3Mjk2KmF1KHRoaXMuYnVmLHRoaXMucG9zKzQpO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkU0ZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgdD1hdSh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5NipzdSh0aGlzLmJ1Zix0aGlzLnBvcys0KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZEZsb2F0OmZ1bmN0aW9uKCl7dmFyIHQ9cXModGhpcy5idWYsdGhpcy5wb3MsITAsMjMsNCk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWREb3VibGU6ZnVuY3Rpb24oKXt2YXIgdD1xcyh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFZhcmludDpmdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5idWY7cmV0dXJuIGU9MTI3JihyPW5bdGhpcy5wb3MrK10pLHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDw3LHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDwxNCxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MjEscjwxMjg/ZTpmdW5jdGlvbih0LGUscil7dmFyIG4saSxhPXIuYnVmO2lmKG49KDExMiYoaT1hW3IucG9zKytdKSk+PjQsaTwxMjgpcmV0dXJuIEpzKHQsbixlKTtpZihufD0oMTI3JihpPWFbci5wb3MrK10pKTw8MyxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwxMCxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwxNyxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwyNCxpPDEyOClyZXR1cm4gSnModCxuLGUpO2lmKG58PSgxJihpPWFbci5wb3MrK10pKTw8MzEsaTwxMjgpcmV0dXJuIEpzKHQsbixlKTt0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzIil9KGV8PSgxNSYocj1uW3RoaXMucG9zXSkpPDwyOCx0LHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gdCUyPT0xPyh0KzEpLy0yOnQvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPXRoaXMucG9zO3JldHVybiB0aGlzLnBvcz10LHQtZT49MTImJlpzP2Z1bmN0aW9uKHQsZSxyKXtyZXR1cm4gWnMuZGVjb2RlKHQuc3ViYXJyYXkoZSxyKSl9KHRoaXMuYnVmLGUsdCk6ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0iIixpPWU7aTxyOyl7dmFyIGEsbyxzLHU9dFtpXSxsPW51bGwscD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKGkrcD5yKWJyZWFrOzE9PT1wP3U8MTI4JiYobD11KToyPT09cD8xMjg9PSgxOTImKGE9dFtpKzFdKSkmJihsPSgzMSZ1KTw8Nnw2MyZhKTw9MTI3JiYobD1udWxsKTozPT09cD8obz10W2krMl0sMTI4PT0oMTkyJihhPXRbaSsxXSkpJiYxMjg9PSgxOTImbykmJigobD0oMTUmdSk8PDEyfCg2MyZhKTw8Nnw2MyZvKTw9MjA0N3x8bD49NTUyOTYmJmw8PTU3MzQzKSYmKGw9bnVsbCkpOjQ9PT1wJiYobz10W2krMl0scz10W2krM10sMTI4PT0oMTkyJihhPXRbaSsxXSkpJiYxMjg9PSgxOTImbykmJjEyOD09KDE5MiZzKSYmKChsPSgxNSZ1KTw8MTh8KDYzJmEpPDwxMnwoNjMmbyk8PDZ8NjMmcyk8PTY1NTM1fHxsPj0xMTE0MTEyKSYmKGw9bnVsbCkpLG51bGw9PT1sPyhsPTY1NTMzLHA9MSk6bD42NTUzNSYmKGwtPTY1NTM2LG4rPVN0cmluZy5mcm9tQ2hhckNvZGUobD4+PjEwJjEwMjN8NTUyOTYpLGw9NTYzMjB8MTAyMyZsKSxuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGwpLGkrPXA7fXJldHVybiBufSh0aGlzLmJ1ZixlLHQpfSxyZWFkQnl0ZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPXRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLHQpO3JldHVybiB0aGlzLnBvcz10LGV9LHJlYWRQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnR5cGUhPT1Hcy5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7dmFyIHI9WHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8cjspdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PUdzLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3ZhciBlPVhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7dmFyIGU9WHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3ZhciBlPVhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3JldHVybiB0fSxyZWFkUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09R3MuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PUdzLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTt2YXIgZT1Ycyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PUdzLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7dmFyIGU9WHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3JldHVybiB0fSxza2lwOmZ1bmN0aW9uKHQpe3ZhciBlPTcmdDtpZihlPT09R3MuVmFyaW50KWZvcig7dGhpcy5idWZbdGhpcy5wb3MrK10+MTI3Oyk7ZWxzZSBpZihlPT09R3MuQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZihlPT09R3MuRml4ZWQzMil0aGlzLnBvcys9NDtlbHNlIHtpZihlIT09R3MuRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoIlVuaW1wbGVtZW50ZWQgdHlwZTogIitlKTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVWYXJpbnQodDw8M3xlKTt9LHJlYWxsb2M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMubGVuZ3RofHwxNjtlPHRoaXMucG9zK3Q7KWUqPTI7aWYoZSE9PXRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDhBcnJheShlKTtyLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9cix0aGlzLmxlbmd0aD1lO319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLG91KHRoaXMuYnVmLHQsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksb3UodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLG91KHRoaXMuYnVmLC0xJnQsdGhpcy5wb3MpLG91KHRoaXMuYnVmLE1hdGguZmxvb3IodCooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxvdSh0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxvdSh0aGlzLmJ1ZixNYXRoLmZsb29yKHQqKDEvNDI5NDk2NzI5NikpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24odCl7KHQ9K3R8fDApPjI2ODQzNTQ1NXx8dDwwP2Z1bmN0aW9uKHQsZSl7dmFyIHIsbjtpZih0Pj0wPyhyPXQlNDI5NDk2NzI5NnwwLG49dC80Mjk0OTY3Mjk2fDApOihuPX4oLXQvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4ocj1+KC10JTQyOTQ5NjcyOTYpKT9yPXIrMXwwOihyPTAsbj1uKzF8MCkpLHQ+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fHQ8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKCJHaXZlbiB2YXJpbnQgZG9lc24ndCBmaXQgaW50byAxMCBieXRlcyIpO2UucmVhbGxvYygxMCksZnVuY3Rpb24odCxlLHIpe3IuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCxyLmJ1ZltyLnBvc109MTI3Jih0Pj4+PTcpO30ociwwLGUpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9KDcmdCk8PDQ7ZS5idWZbZS5wb3MrK118PXJ8KCh0Pj4+PTMpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnQpKSkpKTt9KG4sZSk7fSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpO30sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQodDwwPzIqLXQtMToyKnQpO30sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbih0KSk7fSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLGksYT0wO2E8ZS5sZW5ndGg7YSsrKXtpZigobj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7bj41NjMxOXx8YSsxPT09ZS5sZW5ndGg/KHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5KTppPW47Y29udGludWV9aWYobjw1NjMyMCl7dFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODksaT1uO2NvbnRpbnVlfW49aS01NTI5Njw8MTB8bi01NjMyMHw2NTUzNixpPW51bGw7fWVsc2UgaSYmKHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5LGk9bnVsbCk7bjwxMjg/dFtyKytdPW46KG48MjA0OD90W3IrK109bj4+NnwxOTI6KG48NjU1MzY/dFtyKytdPW4+PjEyfDIyNDoodFtyKytdPW4+PjE4fDI0MCx0W3IrK109bj4+MTImNjN8MTI4KSx0W3IrK109bj4+NiY2M3wxMjgpLHRbcisrXT02MyZufDEyOCk7fXJldHVybiByfSh0aGlzLmJ1Zix0LHRoaXMucG9zKTt2YXIgcj10aGlzLnBvcy1lO3I+PTEyOCYmSHMoZSxyLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yO30sd3JpdGVGbG9hdDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksTnModGhpcy5idWYsdCx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NDt9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxOcyh0aGlzLmJ1Zix0LHRoaXMucG9zLCEwLDUyLDgpLHRoaXMucG9zKz04O30sd3JpdGVCeXRlczpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KGUpLHRoaXMucmVhbGxvYyhlKTtmb3IodmFyIHI9MDtyPGU7cisrKXRoaXMuYnVmW3RoaXMucG9zKytdPXRbcl07fSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciByPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgbj10aGlzLnBvcy1yO24+PTEyOCYmSHMocixuLHRoaXMpLHRoaXMucG9zPXItMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1uO30sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKHQsZSxyKXt0aGlzLndyaXRlVGFnKHQsR3MuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUscik7fSx3cml0ZVBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LFlzLGUpO30sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsJHMsZSk7fSx3cml0ZVBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCx0dSxlKTt9LHdyaXRlUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxXcyxlKTt9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsUXMsZSk7fSx3cml0ZVBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxldSxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxydSxlKTt9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LG51LGUpO30sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGl1LGUpO30sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXMoZSk7fSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMihlKTt9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSk7fSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NChlKTt9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxHcy5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQoZSk7fSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLlZhcmludCksdGhpcy53cml0ZVZhcmludChlKTt9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQoZSk7fSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKGUpO30sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LEdzLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKTt9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsR3MuRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZShlKTt9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSk7fX07dmFyIGh1PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5waXhlbFJhdGlvLG49ZS52ZXJzaW9uLGk9ZS5zdHJldGNoWCxhPWUuc3RyZXRjaFksbz1lLmNvbnRlbnQ7dGhpcy5wYWRkZWRSZWN0PXQsdGhpcy5waXhlbFJhdGlvPXIsdGhpcy5zdHJldGNoWD1pLHRoaXMuc3RyZXRjaFk9YSx0aGlzLmNvbnRlbnQ9byx0aGlzLnZlcnNpb249bjt9LGZ1PXt0bDp7Y29uZmlndXJhYmxlOiEwfSxicjp7Y29uZmlndXJhYmxlOiEwfSx0bGJyOntjb25maWd1cmFibGU6ITB9LGRpc3BsYXlTaXplOntjb25maWd1cmFibGU6ITB9fTtmdS50bC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54KzEsdGhpcy5wYWRkZWRSZWN0LnkrMV19LGZ1LmJyLmdldD1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrdGhpcy5wYWRkZWRSZWN0LnctMSx0aGlzLnBhZGRlZFJlY3QueSt0aGlzLnBhZGRlZFJlY3QuaC0xXX0sZnUudGxici5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50bC5jb25jYXQodGhpcy5icil9LGZ1LmRpc3BsYXlTaXplLmdldD1mdW5jdGlvbigpe3JldHVybiBbKHRoaXMucGFkZGVkUmVjdC53LTIpL3RoaXMucGl4ZWxSYXRpbywodGhpcy5wYWRkZWRSZWN0LmgtMikvdGhpcy5waXhlbFJhdGlvXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaHUucHJvdG90eXBlLGZ1KTt2YXIgeXU9ZnVuY3Rpb24odCxlKXt2YXIgcj17fSxuPXt9O3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz1bXTt2YXIgaT1bXTt0aGlzLmFkZEltYWdlcyh0LHIsaSksdGhpcy5hZGRJbWFnZXMoZSxuLGkpO3ZhciBhPWN1KGkpLG89bmV3IGZvKHt3aWR0aDphLnd8fDEsaGVpZ2h0OmEuaHx8MX0pO2Zvcih2YXIgcyBpbiB0KXt2YXIgdT10W3NdLGw9cltzXS5wYWRkZWRSZWN0O2ZvLmNvcHkodS5kYXRhLG8se3g6MCx5OjB9LHt4OmwueCsxLHk6bC55KzF9LHUuZGF0YSk7fWZvcih2YXIgcCBpbiBlKXt2YXIgYz1lW3BdLGg9bltwXS5wYWRkZWRSZWN0LGY9aC54KzEseT1oLnkrMSxkPWMuZGF0YS53aWR0aCxtPWMuZGF0YS5oZWlnaHQ7Zm8uY29weShjLmRhdGEsbyx7eDowLHk6MH0se3g6Zix5Onl9LGMuZGF0YSksZm8uY29weShjLmRhdGEsbyx7eDowLHk6bS0xfSx7eDpmLHk6eS0xfSx7d2lkdGg6ZCxoZWlnaHQ6MX0pLGZvLmNvcHkoYy5kYXRhLG8se3g6MCx5OjB9LHt4OmYseTp5K219LHt3aWR0aDpkLGhlaWdodDoxfSksZm8uY29weShjLmRhdGEsbyx7eDpkLTEseTowfSx7eDpmLTEseTp5fSx7d2lkdGg6MSxoZWlnaHQ6bX0pLGZvLmNvcHkoYy5kYXRhLG8se3g6MCx5OjB9LHt4OmYrZCx5Onl9LHt3aWR0aDoxLGhlaWdodDptfSk7fXRoaXMuaW1hZ2U9byx0aGlzLmljb25Qb3NpdGlvbnM9cix0aGlzLnBhdHRlcm5Qb3NpdGlvbnM9bjt9O3l1LnByb3RvdHlwZS5hZGRJbWFnZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dLGE9e3g6MCx5OjAsdzppLmRhdGEud2lkdGgrMixoOmkuZGF0YS5oZWlnaHQrMn07ci5wdXNoKGEpLGVbbl09bmV3IGh1KGEsaSksaS5oYXNSZW5kZXJDYWxsYmFjayYmdGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLnB1c2gobik7fX0seXUucHJvdG90eXBlLnBhdGNoVXBkYXRlZEltYWdlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiB0LmRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKHRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcyksdC51cGRhdGVkSW1hZ2VzKXRoaXMucGF0Y2hVcGRhdGVkSW1hZ2UodGhpcy5pY29uUG9zaXRpb25zW3JdLHQuZ2V0SW1hZ2UociksZSksdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLnBhdHRlcm5Qb3NpdGlvbnNbcl0sdC5nZXRJbWFnZShyKSxlKTt9LHl1LnByb3RvdHlwZS5wYXRjaFVwZGF0ZWRJbWFnZT1mdW5jdGlvbih0LGUscil7aWYodCYmZSYmdC52ZXJzaW9uIT09ZS52ZXJzaW9uKXt0LnZlcnNpb249ZS52ZXJzaW9uO3ZhciBuPXQudGw7ci51cGRhdGUoZS5kYXRhLHZvaWQgMCx7eDpuWzBdLHk6blsxXX0pO319LEZuKCJJbWFnZVBvc2l0aW9uIixodSksRm4oIkltYWdlQXRsYXMiLHl1KTt2YXIgZHU9e2hvcml6b250YWw6MSx2ZXJ0aWNhbDoyLGhvcml6b250YWxPbmx5OjN9LG11PWZ1bmN0aW9uKCl7dGhpcy5zY2FsZT0xLHRoaXMuZm9udFN0YWNrPSIiLHRoaXMuaW1hZ2VOYW1lPW51bGw7fTttdS5mb3JUZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IG11O3JldHVybiByLnNjYWxlPXR8fDEsci5mb250U3RhY2s9ZSxyfSxtdS5mb3JJbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbXU7cmV0dXJuIGUuaW1hZ2VOYW1lPXQsZX07dmFyIHZ1PWZ1bmN0aW9uKCl7dGhpcy50ZXh0PSIiLHRoaXMuc2VjdGlvbkluZGV4PVtdLHRoaXMuc2VjdGlvbnM9W10sdGhpcy5pbWFnZVNlY3Rpb25JRD1udWxsO307ZnVuY3Rpb24gZ3UodCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCl7dmFyIG0sdj12dS5mcm9tRmVhdHVyZSh0LGkpO2M9PT1kdS52ZXJ0aWNhbCYmdi52ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKCk7dmFyIGc9bmkucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LHg9bmkucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O2lmKGcmJjE9PT12LnNlY3Rpb25zLmxlbmd0aCl7bT1bXTtmb3IodmFyIGI9MCx3PWcodi50b1N0cmluZygpLGt1KHYsbCxhLGUsbixmLHkpKTtiPHcubGVuZ3RoO2IrPTEpe3ZhciBfPXdbYl0sQT1uZXcgdnU7QS50ZXh0PV8sQS5zZWN0aW9ucz12LnNlY3Rpb25zO2Zvcih2YXIgUz0wO1M8Xy5sZW5ndGg7UysrKUEuc2VjdGlvbkluZGV4LnB1c2goMCk7bS5wdXNoKEEpO319ZWxzZSBpZih4KXttPVtdO2Zvcih2YXIgaz0wLEk9eCh2LnRleHQsdi5zZWN0aW9uSW5kZXgsa3UodixsLGEsZSxuLGYseSkpO2s8SS5sZW5ndGg7ays9MSl7dmFyIHo9SVtrXSxDPW5ldyB2dTtDLnRleHQ9elswXSxDLnNlY3Rpb25JbmRleD16WzFdLEMuc2VjdGlvbnM9di5zZWN0aW9ucyxtLnB1c2goQyk7fX1lbHNlIG09ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj10LnRleHQsaT0wLGE9MCxvPWU7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO3IucHVzaCh0LnN1YnN0cmluZyhpLHMpKSxpPXM7fXJldHVybiBpPG4ubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSxuLmxlbmd0aCkpLHJ9KHYsa3UodixsLGEsZSxuLGYseSkpO3ZhciBNPVtdLEU9e3Bvc2l0aW9uZWRMaW5lczpNLHRleHQ6di50b1N0cmluZygpLHRvcDpwWzFdLGJvdHRvbTpwWzFdLGxlZnQ6cFswXSxyaWdodDpwWzBdLHdyaXRpbmdNb2RlOmMsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITF9O3JldHVybiBmdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyl7Zm9yKHZhciBoPTAsZj0tMTcseT0wLGQ9MCxtPSJyaWdodCI9PT1zPzE6ImxlZnQiPT09cz8wOi41LHY9MCxnPTAseD1pO2c8eC5sZW5ndGg7Zys9MSl7dmFyIGI9eFtnXTtiLnRyaW0oKTt2YXIgdz1iLmdldE1heFNjYWxlKCksXz0yNCoody0xKSxBPXtwb3NpdGlvbmVkR2x5cGhzOltdLGxpbmVPZmZzZXQ6MH07dC5wb3NpdGlvbmVkTGluZXNbdl09QTt2YXIgUz1BLnBvc2l0aW9uZWRHbHlwaHMsaz0wO2lmKGIubGVuZ3RoKCkpe2Zvcih2YXIgST0wO0k8Yi5sZW5ndGgoKTtJKyspe3ZhciB6PWIuZ2V0U2VjdGlvbihJKSxDPWIuZ2V0U2VjdGlvbkluZGV4KEkpLE09Yi5nZXRDaGFyQ29kZShJKSxFPTAsVD1udWxsLFA9bnVsbCxCPW51bGwsVj0yNCxGPSEodT09PWR1Lmhvcml6b250YWx8fCFwJiYhS24oTSl8fHAmJih4dVtNXXx8KEs9TSxxbi5BcmFiaWMoSyl8fHFuWyJBcmFiaWMgU3VwcGxlbWVudCJdKEspfHxxblsiQXJhYmljIEV4dGVuZGVkLUEiXShLKXx8cW5bIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQSJdKEspfHxxblsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CIl0oSykpKSk7aWYoei5pbWFnZU5hbWUpe3ZhciBEPW5bei5pbWFnZU5hbWVdO2lmKCFEKWNvbnRpbnVlO0I9ei5pbWFnZU5hbWUsdC5pY29uc0luVGV4dD10Lmljb25zSW5UZXh0fHwhMCxQPUQucGFkZGVkUmVjdDt2YXIgTD1ELmRpc3BsYXlTaXplO3ouc2NhbGU9MjQqei5zY2FsZS9jLEU9XysoMjQtTFsxXSp6LnNjYWxlKSxWPShUPXt3aWR0aDpMWzBdLGhlaWdodDpMWzFdLGxlZnQ6MSx0b3A6LTMsYWR2YW5jZTpGP0xbMV06TFswXX0pLmFkdmFuY2U7dmFyIFI9Rj9MWzBdKnouc2NhbGUtMjQqdzpMWzFdKnouc2NhbGUtMjQqdztSPjAmJlI+ayYmKGs9Uik7fWVsc2Uge3ZhciBPPXJbei5mb250U3RhY2tdLFU9TyYmT1tNXTtpZihVJiZVLnJlY3QpUD1VLnJlY3QsVD1VLm1ldHJpY3M7ZWxzZSB7dmFyIGo9ZVt6LmZvbnRTdGFja10scT1qJiZqW01dO2lmKCFxKWNvbnRpbnVlO1Q9cS5tZXRyaWNzO31FPTI0Kih3LXouc2NhbGUpO31GPyh0LnZlcnRpY2FsaXphYmxlPSEwLFMucHVzaCh7Z2x5cGg6TSxpbWFnZU5hbWU6Qix4OmgseTpmK0UsdmVydGljYWw6RixzY2FsZTp6LnNjYWxlLGZvbnRTdGFjazp6LmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6QyxtZXRyaWNzOlQscmVjdDpQfSksaCs9Vip6LnNjYWxlK2wpOihTLnB1c2goe2dseXBoOk0saW1hZ2VOYW1lOkIseDpoLHk6ZitFLHZlcnRpY2FsOkYsc2NhbGU6ei5zY2FsZSxmb250U3RhY2s6ei5mb250U3RhY2ssc2VjdGlvbkluZGV4OkMsbWV0cmljczpULHJlY3Q6UH0pLGgrPVQuYWR2YW5jZSp6LnNjYWxlK2wpO30wIT09Uy5sZW5ndGgmJih5PU1hdGgubWF4KGgtbCx5KSx6dShTLDAsUy5sZW5ndGgtMSxtLGspKSxoPTA7dmFyIE49YSp3K2s7QS5saW5lT2Zmc2V0PU1hdGgubWF4KGssXyksZis9TixkPU1hdGgubWF4KE4sZCksKyt2O31lbHNlIGYrPWEsKyt2O312YXIgSyxHPWYtIC0xNyxaPUl1KG8pLFg9Wi5ob3Jpem9udGFsQWxpZ24sSj1aLnZlcnRpY2FsQWxpZ247KGZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgbCxwPShlLXIpKmk7bD1hIT09bz8tcypuLSAtMTc6KC1uKnUrLjUpKm87Zm9yKHZhciBjPTAsaD10O2M8aC5sZW5ndGg7Yys9MSlmb3IodmFyIGY9MCx5PWhbY10ucG9zaXRpb25lZEdseXBocztmPHkubGVuZ3RoO2YrPTEpe3ZhciBkPXlbZl07ZC54Kz1wLGQueSs9bDt9fSkodC5wb3NpdGlvbmVkTGluZXMsbSxYLEoseSxkLGEsRyxpLmxlbmd0aCksdC50b3ArPS1KKkcsdC5ib3R0b209dC50b3ArRyx0LmxlZnQrPS1YKnksdC5yaWdodD10LmxlZnQreTt9KEUsZSxyLG4sbSxvLHMsdSxjLGwsaCxkKSwhZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSs9MSlpZigwIT09cltlXS5wb3NpdGlvbmVkR2x5cGhzLmxlbmd0aClyZXR1cm4gITE7cmV0dXJuICEwfShNKSYmRX12dS5mcm9tRmVhdHVyZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcgdnUsbj0wO248dC5zZWN0aW9ucy5sZW5ndGg7bisrKXt2YXIgaT10LnNlY3Rpb25zW25dO2kuaW1hZ2U/ci5hZGRJbWFnZVNlY3Rpb24oaSk6ci5hZGRUZXh0U2VjdGlvbihpLGUpO31yZXR1cm4gcn0sdnUucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofSx2dS5wcm90b3R5cGUuZ2V0U2VjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZWN0aW9uc1t0aGlzLnNlY3Rpb25JbmRleFt0XV19LHZ1LnByb3RvdHlwZS5nZXRTZWN0aW9uSW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4W3RdfSx2dS5wcm90b3R5cGUuZ2V0Q2hhckNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dC5jaGFyQ29kZUF0KHQpfSx2dS5wcm90b3R5cGUudmVydGljYWxpemVQdW5jdHVhdGlvbj1mdW5jdGlvbigpe3RoaXMudGV4dD1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10LmNoYXJDb2RlQXQocisxKXx8bnVsbCxpPXQuY2hhckNvZGVBdChyLTEpfHxudWxsO2UrPW4mJkduKG4pJiYhanNbdFtyKzFdXXx8aSYmR24oaSkmJiFqc1t0W3ItMV1dfHwhanNbdFtyXV0/dFtyXTpqc1t0W3JdXTt9cmV0dXJuIGV9KHRoaXMudGV4dCk7fSx2dS5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMudGV4dC5sZW5ndGgmJnh1W3RoaXMudGV4dC5jaGFyQ29kZUF0KGUpXTtlKyspdCsrO2Zvcih2YXIgcj10aGlzLnRleHQubGVuZ3RoLG49dGhpcy50ZXh0Lmxlbmd0aC0xO24+PTAmJm4+PXQmJnh1W3RoaXMudGV4dC5jaGFyQ29kZUF0KG4pXTtuLS0pci0tO3RoaXMudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsciksdGhpcy5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxyKTt9LHZ1LnByb3RvdHlwZS5zdWJzdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgdnU7cmV0dXJuIHIudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsZSksci5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxlKSxyLnNlY3Rpb25zPXRoaXMuc2VjdGlvbnMscn0sdnUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0sdnUucHJvdG90eXBlLmdldE1heFNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXgucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBNYXRoLm1heChlLHQuc2VjdGlvbnNbcl0uc2NhbGUpfSksMCl9LHZ1LnByb3RvdHlwZS5hZGRUZXh0U2VjdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMudGV4dCs9dC50ZXh0LHRoaXMuc2VjdGlvbnMucHVzaChtdS5mb3JUZXh0KHQuc2NhbGUsdC5mb250U3RhY2t8fGUpKTtmb3IodmFyIHI9dGhpcy5zZWN0aW9ucy5sZW5ndGgtMSxuPTA7bjx0LnRleHQubGVuZ3RoOysrbil0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHIpO30sdnUucHJvdG90eXBlLmFkZEltYWdlU2VjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10LmltYWdlP3QuaW1hZ2UubmFtZToiIjtpZigwIT09ZS5sZW5ndGgpe3ZhciByPXRoaXMuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCk7cj8odGhpcy50ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpLHRoaXMuc2VjdGlvbnMucHVzaChtdS5mb3JJbWFnZShlKSksdGhpcy5zZWN0aW9uSW5kZXgucHVzaCh0aGlzLnNlY3Rpb25zLmxlbmd0aC0xKSk6dygiUmVhY2hlZCBtYXhpbXVtIG51bWJlciBvZiBpbWFnZXMgNjQwMSIpO31lbHNlIHcoIkNhbid0IGFkZCBGb3JtYXR0ZWRTZWN0aW9uIHdpdGggYW4gZW1wdHkgaW1hZ2UuIik7fSx2dS5wcm90b3R5cGUuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VTZWN0aW9uSUQ/dGhpcy5pbWFnZVNlY3Rpb25JRD49NjM3NDM/bnVsbDorK3RoaXMuaW1hZ2VTZWN0aW9uSUQ6KHRoaXMuaW1hZ2VTZWN0aW9uSUQ9NTczNDQsdGhpcy5pbWFnZVNlY3Rpb25JRCl9O3ZhciB4dT17OTohMCwxMDohMCwxMTohMCwxMjohMCwxMzohMCwzMjohMH0sYnU9e307ZnVuY3Rpb24gd3UodCxlLHIsbixpLGEpe2lmKGUuaW1hZ2VOYW1lKXt2YXIgbz1uW2UuaW1hZ2VOYW1lXTtyZXR1cm4gbz9vLmRpc3BsYXlTaXplWzBdKmUuc2NhbGUqMjQvYStpOjB9dmFyIHM9cltlLmZvbnRTdGFja10sdT1zJiZzW3RdO3JldHVybiB1P3UubWV0cmljcy5hZHZhbmNlKmUuc2NhbGUraTowfWZ1bmN0aW9uIF91KHQsZSxyLG4pe3ZhciBpPU1hdGgucG93KHQtZSwyKTtyZXR1cm4gbj90PGU/aS8yOjIqaTppK01hdGguYWJzKHIpKnJ9ZnVuY3Rpb24gQXUodCxlLHIpe3ZhciBuPTA7cmV0dXJuIDEwPT09dCYmKG4tPTFlNCksciYmKG4rPTE1MCksNDAhPT10JiY2NTI4OCE9PXR8fChuKz01MCksNDEhPT1lJiY2NTI4OSE9PWV8fChuKz01MCksbn1mdW5jdGlvbiBTdSh0LGUscixuLGksYSl7Zm9yKHZhciBvPW51bGwscz1fdShlLHIsaSxhKSx1PTAsbD1uO3U8bC5sZW5ndGg7dSs9MSl7dmFyIHA9bFt1XSxjPV91KGUtcC54LHIsaSxhKStwLmJhZG5lc3M7Yzw9cyYmKG89cCxzPWMpO31yZXR1cm4ge2luZGV4OnQseDplLHByaW9yQnJlYWs6byxiYWRuZXNzOnN9fWZ1bmN0aW9uIGt1KHQsZSxyLG4saSxhLG8pe2lmKCJwb2ludCIhPT1hKXJldHVybiBbXTtpZighdClyZXR1cm4gW107Zm9yKHZhciBzLHU9W10sbD1mdW5jdGlvbih0LGUscixuLGksYSl7Zm9yKHZhciBvPTAscz0wO3M8dC5sZW5ndGgoKTtzKyspe3ZhciB1PXQuZ2V0U2VjdGlvbihzKTtvKz13dSh0LmdldENoYXJDb2RlKHMpLHUsbixpLGUsYSk7fXJldHVybiBvL01hdGgubWF4KDEsTWF0aC5jZWlsKG8vcikpfSh0LGUscixuLGksbykscD10LnRleHQuaW5kZXhPZigi4oCLIik+PTAsYz0wLGg9MDtoPHQubGVuZ3RoKCk7aCsrKXt2YXIgZj10LmdldFNlY3Rpb24oaCkseT10LmdldENoYXJDb2RlKGgpO2lmKHh1W3ldfHwoYys9d3UoeSxmLG4saSxlLG8pKSxoPHQubGVuZ3RoKCktMSl7dmFyIGQ9ISgocz15KTwxMTkwNHx8IShxblsiQm9wb21vZm8gRXh0ZW5kZWQiXShzKXx8cW4uQm9wb21vZm8ocyl8fHFuWyJDSksgQ29tcGF0aWJpbGl0eSBGb3JtcyJdKHMpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBocyJdKHMpfHxxblsiQ0pLIENvbXBhdGliaWxpdHkiXShzKXx8cW5bIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50Il0ocyl8fHFuWyJDSksgU3Ryb2tlcyJdKHMpfHxxblsiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uIl0ocyl8fHFuWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBIl0ocyl8fHFuWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIl0ocyl8fHFuWyJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzIl0ocyl8fHFuWyJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3JtcyJdKHMpfHxxbi5IaXJhZ2FuYShzKXx8cW5bIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnMiXShzKXx8cW5bIkthbmd4aSBSYWRpY2FscyJdKHMpfHxxblsiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9ucyJdKHMpfHxxbi5LYXRha2FuYShzKXx8cW5bIlZlcnRpY2FsIEZvcm1zIl0ocyl8fHFuWyJZaSBSYWRpY2FscyJdKHMpfHxxblsiWWkgU3lsbGFibGVzIl0ocykpKTsoYnVbeV18fGR8fGYuaW1hZ2VOYW1lKSYmdS5wdXNoKFN1KGgrMSxjLGwsdSxBdSh5LHQuZ2V0Q2hhckNvZGUoaCsxKSxkJiZwKSwhMSkpO319cmV0dXJuIGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU/dChlLnByaW9yQnJlYWspLmNvbmNhdChlLmluZGV4KTpbXX0oU3UodC5sZW5ndGgoKSxjLGwsdSwwLCEwKSl9ZnVuY3Rpb24gSXUodCl7dmFyIGU9LjUscj0uNTtzd2l0Y2godCl7Y2FzZSJyaWdodCI6Y2FzZSJ0b3AtcmlnaHQiOmNhc2UiYm90dG9tLXJpZ2h0IjplPTE7YnJlYWs7Y2FzZSJsZWZ0IjpjYXNlInRvcC1sZWZ0IjpjYXNlImJvdHRvbS1sZWZ0IjplPTA7fXN3aXRjaCh0KXtjYXNlImJvdHRvbSI6Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UiYm90dG9tLWxlZnQiOnI9MTticmVhaztjYXNlInRvcCI6Y2FzZSJ0b3AtcmlnaHQiOmNhc2UidG9wLWxlZnQiOnI9MDt9cmV0dXJuIHtob3Jpem9udGFsQWxpZ246ZSx2ZXJ0aWNhbEFsaWduOnJ9fWZ1bmN0aW9uIHp1KHQsZSxyLG4saSl7aWYobnx8aSlmb3IodmFyIGE9dFtyXSxvPSh0W3JdLngrYS5tZXRyaWNzLmFkdmFuY2UqYS5zY2FsZSkqbixzPWU7czw9cjtzKyspdFtzXS54LT1vLHRbc10ueSs9aTt9ZnVuY3Rpb24gQ3UodCxlLHIsbixpLGEpe3ZhciBvLHM9dC5pbWFnZTtpZihzLmNvbnRlbnQpe3ZhciB1PXMuY29udGVudCxsPXMucGl4ZWxSYXRpb3x8MTtvPVt1WzBdL2wsdVsxXS9sLHMuZGlzcGxheVNpemVbMF0tdVsyXS9sLHMuZGlzcGxheVNpemVbMV0tdVszXS9sXTt9dmFyIHAsYyxoLGYseT1lLmxlZnQqYSxkPWUucmlnaHQqYTsid2lkdGgiPT09cnx8ImJvdGgiPT09cj8oZj1pWzBdK3ktblszXSxjPWlbMF0rZCtuWzFdKTpjPShmPWlbMF0rKHkrZC1zLmRpc3BsYXlTaXplWzBdKS8yKStzLmRpc3BsYXlTaXplWzBdO3ZhciBtPWUudG9wKmEsdj1lLmJvdHRvbSphO3JldHVybiAiaGVpZ2h0Ij09PXJ8fCJib3RoIj09PXI/KHA9aVsxXSttLW5bMF0saD1pWzFdK3YrblsyXSk6aD0ocD1pWzFdKyhtK3Ytcy5kaXNwbGF5U2l6ZVsxXSkvMikrcy5kaXNwbGF5U2l6ZVsxXSx7aW1hZ2U6cyx0b3A6cCxyaWdodDpjLGJvdHRvbTpoLGxlZnQ6Zixjb2xsaXNpb25QYWRkaW5nOm99fWJ1WzEwXT0hMCxidVszMl09ITAsYnVbMzhdPSEwLGJ1WzQwXT0hMCxidVs0MV09ITAsYnVbNDNdPSEwLGJ1WzQ1XT0hMCxidVs0N109ITAsYnVbMTczXT0hMCxidVsxODNdPSEwLGJ1WzgyMDNdPSEwLGJ1WzgyMDhdPSEwLGJ1WzgyMTFdPSEwLGJ1WzgyMzFdPSEwO3ZhciBNdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixuLGkpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5hbmdsZT1uLHZvaWQgMCE9PWkmJih0aGlzLnNlZ21lbnQ9aSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMueCx0aGlzLnksdGhpcy5hbmdsZSx0aGlzLnNlZ21lbnQpfSxlfShpKTtmdW5jdGlvbiBFdSh0LGUpe3ZhciByPWUuZXhwcmVzc2lvbjtpZigiY29uc3RhbnQiPT09ci5raW5kKXJldHVybiB7a2luZDoiY29uc3RhbnQiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgaWkodCsxKSl9O2lmKCJzb3VyY2UiPT09ci5raW5kKXJldHVybiB7a2luZDoic291cmNlIn07Zm9yKHZhciBuPXIuem9vbVN0b3BzLGk9ci5pbnRlcnBvbGF0aW9uVHlwZSxhPTA7YTxuLmxlbmd0aCYmblthXTw9dDspYSsrO2Zvcih2YXIgbz1hPU1hdGgubWF4KDAsYS0xKTtvPG4ubGVuZ3RoJiZuW29dPHQrMTspbysrO289TWF0aC5taW4obi5sZW5ndGgtMSxvKTt2YXIgcz1uW2FdLHU9bltvXTtyZXR1cm4gImNvbXBvc2l0ZSI9PT1yLmtpbmQ/e2tpbmQ6ImNvbXBvc2l0ZSIsbWluWm9vbTpzLG1heFpvb206dSxpbnRlcnBvbGF0aW9uVHlwZTppfTp7a2luZDoiY2FtZXJhIixtaW5ab29tOnMsbWF4Wm9vbTp1LG1pblNpemU6ci5ldmFsdWF0ZShuZXcgaWkocykpLG1heFNpemU6ci5ldmFsdWF0ZShuZXcgaWkodSkpLGludGVycG9sYXRpb25UeXBlOml9fWZ1bmN0aW9uIFR1KHQsZSxyKXt2YXIgbj1lLnVTaXplLGk9ci5sb3dlclNpemU7cmV0dXJuICJzb3VyY2UiPT09dC5raW5kP2kvMTI4OiJjb21wb3NpdGUiPT09dC5raW5kP2plKGkvMTI4LHIudXBwZXJTaXplLzEyOCxlLnVTaXplVCk6bn1mdW5jdGlvbiBQdSh0LGUpe3ZhciByPTAsbj0wO2lmKCJjb25zdGFudCI9PT10LmtpbmQpbj10LmxheW91dFNpemU7ZWxzZSBpZigic291cmNlIiE9PXQua2luZCl7dmFyIGk9dC5pbnRlcnBvbGF0aW9uVHlwZSxhPWk/dShyci5pbnRlcnBvbGF0aW9uRmFjdG9yKGksZSx0Lm1pblpvb20sdC5tYXhab29tKSwwLDEpOjA7ImNhbWVyYSI9PT10LmtpbmQ/bj1qZSh0Lm1pblNpemUsdC5tYXhTaXplLGEpOnI9YTt9cmV0dXJuIHt1U2l6ZVQ6cix1U2l6ZTpufX1GbigiQW5jaG9yIixNdSk7dmFyIEJ1PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGdldFNpemVEYXRhOkV1LGV2YWx1YXRlU2l6ZUZvckZlYXR1cmU6VHUsZXZhbHVhdGVTaXplRm9yWm9vbTpQdSxTSVpFX1BBQ0tfRkFDVE9SOjEyOH0pO2Z1bmN0aW9uIFZ1KHQsZSxyLG4saSl7aWYodm9pZCAwPT09ZS5zZWdtZW50KXJldHVybiAhMDtmb3IodmFyIGE9ZSxvPWUuc2VnbWVudCsxLHM9MDtzPi1yLzI7KXtpZigtLW88MClyZXR1cm4gITE7cy09dFtvXS5kaXN0KGEpLGE9dFtvXTt9cys9dFtvXS5kaXN0KHRbbysxXSksbysrO2Zvcih2YXIgdT1bXSxsPTA7czxyLzI7KXt2YXIgcD10W29dLGM9dFtvKzFdO2lmKCFjKXJldHVybiAhMTt2YXIgaD10W28tMV0uYW5nbGVUbyhwKS1wLmFuZ2xlVG8oYyk7Zm9yKGg9TWF0aC5hYnMoKGgrMypNYXRoLlBJKSUoMipNYXRoLlBJKS1NYXRoLlBJKSx1LnB1c2goe2Rpc3RhbmNlOnMsYW5nbGVEZWx0YTpofSksbCs9aDtzLXVbMF0uZGlzdGFuY2U+bjspbC09dS5zaGlmdCgpLmFuZ2xlRGVsdGE7aWYobD5pKXJldHVybiAhMTtvKysscys9cC5kaXN0KGMpO31yZXR1cm4gITB9ZnVuY3Rpb24gRnUodCl7Zm9yKHZhciBlPTAscj0wO3I8dC5sZW5ndGgtMTtyKyspZSs9dFtyXS5kaXN0KHRbcisxXSk7cmV0dXJuIGV9ZnVuY3Rpb24gRHUodCxlLHIpe3JldHVybiB0Py42KmUqcjowfWZ1bmN0aW9uIEx1KHQsZSl7cmV0dXJuIE1hdGgubWF4KHQ/dC5yaWdodC10LmxlZnQ6MCxlP2UucmlnaHQtZS5sZWZ0OjApfWZ1bmN0aW9uIFJ1KHQsZSxyLG4saSxhKXtmb3IodmFyIG89RHUocixpLGEpLHM9THUocixuKSphLHU9MCxsPUZ1KHQpLzIscD0wO3A8dC5sZW5ndGgtMTtwKyspe3ZhciBjPXRbcF0saD10W3ArMV0sZj1jLmRpc3QoaCk7aWYodStmPmwpe3ZhciB5PShsLXUpL2YsZD1qZShjLngsaC54LHkpLG09amUoYy55LGgueSx5KSx2PW5ldyBNdShkLG0saC5hbmdsZVRvKGMpLHApO3JldHVybiB2Ll9yb3VuZCgpLCFvfHxWdSh0LHYscyxvLGUpP3Y6dm9pZCAwfXUrPWY7fX1mdW5jdGlvbiBPdSh0LGUscixuLGksYSxvLHMsdSl7dmFyIGw9RHUobixhLG8pLHA9THUobixpKSxjPXAqbyxoPTA9PT10WzBdLnh8fHRbMF0ueD09PXV8fDA9PT10WzBdLnl8fHRbMF0ueT09PXU7cmV0dXJuIGUtYzxlLzQmJihlPWMrZS80KSxmdW5jdGlvbiB0KGUscixuLGksYSxvLHMsdSxsKXtmb3IodmFyIHA9by8yLGM9RnUoZSksaD0wLGY9ci1uLHk9W10sZD0wO2Q8ZS5sZW5ndGgtMTtkKyspe2Zvcih2YXIgbT1lW2RdLHY9ZVtkKzFdLGc9bS5kaXN0KHYpLHg9di5hbmdsZVRvKG0pO2YrbjxoK2c7KXt2YXIgYj0oKGYrPW4pLWgpL2csdz1qZShtLngsdi54LGIpLF89amUobS55LHYueSxiKTtpZih3Pj0wJiZ3PGwmJl8+PTAmJl88bCYmZi1wPj0wJiZmK3A8PWMpe3ZhciBBPW5ldyBNdSh3LF8seCxkKTtBLl9yb3VuZCgpLGkmJiFWdShlLEEsbyxpLGEpfHx5LnB1c2goQSk7fX1oKz1nO31yZXR1cm4gdXx8eS5sZW5ndGh8fHN8fCh5PXQoZSxoLzIsbixpLGEsbyxzLCEwLGwpKSx5fSh0LGg/ZS8yKnMlZToocC8yKzIqYSkqbypzJWUsZSxsLHIsYyxoLCExLHUpfWZ1bmN0aW9uIFV1KHQsZSxyLG4sYSl7Zm9yKHZhciBvPVtdLHM9MDtzPHQubGVuZ3RoO3MrKylmb3IodmFyIHU9dFtzXSxsPXZvaWQgMCxwPTA7cDx1Lmxlbmd0aC0xO3ArKyl7dmFyIGM9dVtwXSxoPXVbcCsxXTtjLng8ZSYmaC54PGV8fChjLng8ZT9jPW5ldyBpKGUsYy55KyhlLWMueCkvKGgueC1jLngpKihoLnktYy55KSkuX3JvdW5kKCk6aC54PGUmJihoPW5ldyBpKGUsYy55KyhlLWMueCkvKGgueC1jLngpKihoLnktYy55KSkuX3JvdW5kKCkpLGMueTxyJiZoLnk8cnx8KGMueTxyP2M9bmV3IGkoYy54KyhyLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxyKS5fcm91bmQoKTpoLnk8ciYmKGg9bmV3IGkoYy54KyhyLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxyKS5fcm91bmQoKSksYy54Pj1uJiZoLng+PW58fChjLng+PW4/Yz1uZXcgaShuLGMueSsobi1jLngpLyhoLngtYy54KSooaC55LWMueSkpLl9yb3VuZCgpOmgueD49biYmKGg9bmV3IGkobixjLnkrKG4tYy54KS8oaC54LWMueCkqKGgueS1jLnkpKS5fcm91bmQoKSksYy55Pj1hJiZoLnk+PWF8fChjLnk+PWE/Yz1uZXcgaShjLngrKGEtYy55KS8oaC55LWMueSkqKGgueC1jLngpLGEpLl9yb3VuZCgpOmgueT49YSYmKGg9bmV3IGkoYy54KyhhLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxhKS5fcm91bmQoKSksbCYmYy5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fG8ucHVzaChsPVtjXSksbC5wdXNoKGgpKSkpKTt9cmV0dXJuIG99ZnVuY3Rpb24ganUodCxlLHIsbil7dmFyIGE9W10sbz10LmltYWdlLHM9by5waXhlbFJhdGlvLHU9by5wYWRkZWRSZWN0LnctMixsPW8ucGFkZGVkUmVjdC5oLTIscD10LnJpZ2h0LXQubGVmdCxjPXQuYm90dG9tLXQudG9wLGg9by5zdHJldGNoWHx8W1swLHVdXSxmPW8uc3RyZXRjaFl8fFtbMCxsXV0seT1mdW5jdGlvbih0LGUpe3JldHVybiB0K2VbMV0tZVswXX0sZD1oLnJlZHVjZSh5LDApLG09Zi5yZWR1Y2UoeSwwKSx2PXUtZCxnPWwtbSx4PTAsYj1kLHc9MCxfPW0sQT0wLFM9dixrPTAsST1nO2lmKG8uY29udGVudCYmbil7dmFyIHo9by5jb250ZW50O3g9cXUoaCwwLHpbMF0pLHc9cXUoZiwwLHpbMV0pLGI9cXUoaCx6WzBdLHpbMl0pLF89cXUoZix6WzFdLHpbM10pLEE9elswXS14LGs9elsxXS13LFM9elsyXS16WzBdLWIsST16WzNdLXpbMV0tXzt9dmFyIEM9ZnVuY3Rpb24obixhLHUsbCl7dmFyIGg9S3Uobi5zdHJldGNoLXgsYixwLHQubGVmdCksZj1HdShuLmZpeGVkLUEsUyxuLnN0cmV0Y2gsZCkseT1LdShhLnN0cmV0Y2gtdyxfLGMsdC50b3ApLHY9R3UoYS5maXhlZC1rLEksYS5zdHJldGNoLG0pLGc9S3UodS5zdHJldGNoLXgsYixwLHQubGVmdCksej1HdSh1LmZpeGVkLUEsUyx1LnN0cmV0Y2gsZCksQz1LdShsLnN0cmV0Y2gtdyxfLGMsdC50b3ApLE09R3UobC5maXhlZC1rLEksbC5zdHJldGNoLG0pLEU9bmV3IGkoaCx5KSxUPW5ldyBpKGcseSksUD1uZXcgaShnLEMpLEI9bmV3IGkoaCxDKSxWPW5ldyBpKGYvcyx2L3MpLEY9bmV3IGkoei9zLE0vcyksRD1lKk1hdGguUEkvMTgwO2lmKEQpe3ZhciBMPU1hdGguc2luKEQpLFI9TWF0aC5jb3MoRCksTz1bUiwtTCxMLFJdO0UuX21hdE11bHQoTyksVC5fbWF0TXVsdChPKSxCLl9tYXRNdWx0KE8pLFAuX21hdE11bHQoTyk7fXZhciBVPW4uc3RyZXRjaCtuLmZpeGVkLGo9YS5zdHJldGNoK2EuZml4ZWQ7cmV0dXJuIHt0bDpFLHRyOlQsYmw6QixicjpQLHRleDp7eDpvLnBhZGRlZFJlY3QueCsxK1UseTpvLnBhZGRlZFJlY3QueSsxK2osdzp1LnN0cmV0Y2grdS5maXhlZC1VLGg6bC5zdHJldGNoK2wuZml4ZWQtan0sd3JpdGluZ01vZGU6dm9pZCAwLGdseXBoT2Zmc2V0OlswLDBdLHNlY3Rpb25JbmRleDowLHBpeGVsT2Zmc2V0VEw6VixwaXhlbE9mZnNldEJSOkYsbWluRm9udFNjYWxlWDpTL3MvcCxtaW5Gb250U2NhbGVZOkkvcy9jLGlzU0RGOnJ9fTtpZihuJiYoby5zdHJldGNoWHx8by5zdHJldGNoWSkpZm9yKHZhciBNPU51KGgsdixkKSxFPU51KGYsZyxtKSxUPTA7VDxNLmxlbmd0aC0xO1QrKylmb3IodmFyIFA9TVtUXSxCPU1bVCsxXSxWPTA7VjxFLmxlbmd0aC0xO1YrKylhLnB1c2goQyhQLEVbVl0sQixFW1YrMV0pKTtlbHNlIGEucHVzaChDKHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6dSsxfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0pKTtyZXR1cm4gYX1mdW5jdGlvbiBxdSh0LGUscil7Zm9yKHZhciBuPTAsaT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07bis9TWF0aC5tYXgoZSxNYXRoLm1pbihyLG9bMV0pKS1NYXRoLm1heChlLE1hdGgubWluKHIsb1swXSkpO31yZXR1cm4gbn1mdW5jdGlvbiBOdSh0LGUscil7Zm9yKHZhciBuPVt7Zml4ZWQ6LTEsc3RyZXRjaDowfV0saT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV0scz1vWzBdLHU9b1sxXSxsPW5bbi5sZW5ndGgtMV07bi5wdXNoKHtmaXhlZDpzLWwuc3RyZXRjaCxzdHJldGNoOmwuc3RyZXRjaH0pLG4ucHVzaCh7Zml4ZWQ6cy1sLnN0cmV0Y2gsc3RyZXRjaDpsLnN0cmV0Y2grKHUtcyl9KTt9cmV0dXJuIG4ucHVzaCh7Zml4ZWQ6ZSsxLHN0cmV0Y2g6cn0pLG59ZnVuY3Rpb24gS3UodCxlLHIsbil7cmV0dXJuIHQvZSpyK259ZnVuY3Rpb24gR3UodCxlLHIsbil7cmV0dXJuIHQtZSpyL259dmFyIFp1PWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMsdSxsLHApe2lmKHRoaXMuYm94U3RhcnRJbmRleD10Lmxlbmd0aCxsKXt2YXIgYz1vLnRvcCxoPW8uYm90dG9tLGY9by5jb2xsaXNpb25QYWRkaW5nO2YmJihjLT1mWzFdLGgrPWZbM10pO3ZhciB5PWgtYzt5PjAmJih5PU1hdGgubWF4KDEwLHkpLHRoaXMuY2lyY2xlRGlhbWV0ZXI9eSk7fWVsc2Uge3ZhciBkPW8udG9wKnMtdSxtPW8uYm90dG9tKnMrdSx2PW8ubGVmdCpzLXUsZz1vLnJpZ2h0KnMrdSx4PW8uY29sbGlzaW9uUGFkZGluZztpZih4JiYodi09eFswXSpzLGQtPXhbMV0qcyxnKz14WzJdKnMsbSs9eFszXSpzKSxwKXt2YXIgYj1uZXcgaSh2LGQpLHc9bmV3IGkoZyxkKSxfPW5ldyBpKHYsbSksQT1uZXcgaShnLG0pLFM9cCpNYXRoLlBJLzE4MDtiLl9yb3RhdGUoUyksdy5fcm90YXRlKFMpLF8uX3JvdGF0ZShTKSxBLl9yb3RhdGUoUyksdj1NYXRoLm1pbihiLngsdy54LF8ueCxBLngpLGc9TWF0aC5tYXgoYi54LHcueCxfLngsQS54KSxkPU1hdGgubWluKGIueSx3LnksXy55LEEueSksbT1NYXRoLm1heChiLnksdy55LF8ueSxBLnkpO310LmVtcGxhY2VCYWNrKGUueCxlLnksdixkLGcsbSxyLG4sYSk7fXRoaXMuYm94RW5kSW5kZXg9dC5sZW5ndGg7fSxYdT1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1lJiYoZT1KdSksdGhpcy5kYXRhPXQsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9ZSx0aGlzLmxlbmd0aD4wKWZvcih2YXIgcj0odGhpcy5sZW5ndGg+PjEpLTE7cj49MDtyLS0pdGhpcy5fZG93bihyKTt9O2Z1bmN0aW9uIEp1KHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIEh1KHQsZSxyKXt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1yJiYocj0hMSk7Zm9yKHZhciBuPTEvMCxhPTEvMCxvPS0xLzAscz0tMS8wLHU9dFswXSxsPTA7bDx1Lmxlbmd0aDtsKyspe3ZhciBwPXVbbF07KCFsfHxwLng8bikmJihuPXAueCksKCFsfHxwLnk8YSkmJihhPXAueSksKCFsfHxwLng+bykmJihvPXAueCksKCFsfHxwLnk+cykmJihzPXAueSk7fXZhciBjPU1hdGgubWluKG8tbixzLWEpLGg9Yy8yLGY9bmV3IFh1KFtdLFl1KTtpZigwPT09YylyZXR1cm4gbmV3IGkobixhKTtmb3IodmFyIHk9bjt5PG87eSs9Yylmb3IodmFyIGQ9YTtkPHM7ZCs9YylmLnB1c2gobmV3ICR1KHkraCxkK2gsaCx0KSk7Zm9yKHZhciBtPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9MCxuPTAsaT10WzBdLGE9MCxvPWkubGVuZ3RoLHM9by0xO2E8bztzPWErKyl7dmFyIHU9aVthXSxsPWlbc10scD11LngqbC55LWwueCp1Lnk7cis9KHUueCtsLngpKnAsbis9KHUueStsLnkpKnAsZSs9MypwO31yZXR1cm4gbmV3ICR1KHIvZSxuL2UsMCx0KX0odCksdj1mLmxlbmd0aDtmLmxlbmd0aDspe3ZhciBnPWYucG9wKCk7KGcuZD5tLmR8fCFtLmQpJiYobT1nLHImJmNvbnNvbGUubG9nKCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2JlcyIsTWF0aC5yb3VuZCgxZTQqZy5kKS8xZTQsdikpLGcubWF4LW0uZDw9ZXx8KGYucHVzaChuZXcgJHUoZy5wLngtKGg9Zy5oLzIpLGcucC55LWgsaCx0KSksZi5wdXNoKG5ldyAkdShnLnAueCtoLGcucC55LWgsaCx0KSksZi5wdXNoKG5ldyAkdShnLnAueC1oLGcucC55K2gsaCx0KSksZi5wdXNoKG5ldyAkdShnLnAueCtoLGcucC55K2gsaCx0KSksdis9NCk7fXJldHVybiByJiYoY29uc29sZS5sb2coIm51bSBwcm9iZXM6ICIrdiksY29uc29sZS5sb2coImJlc3QgZGlzdGFuY2U6ICIrbS5kKSksbS5wfWZ1bmN0aW9uIFl1KHQsZSl7cmV0dXJuIGUubWF4LXQubWF4fWZ1bmN0aW9uICR1KHQsZSxyLG4pe3RoaXMucD1uZXcgaSh0LGUpLHRoaXMuaD1yLHRoaXMuZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0hMSxuPTEvMCxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBhPWVbaV0sbz0wLHM9YS5sZW5ndGgsdT1zLTE7bzxzO3U9bysrKXt2YXIgbD1hW29dLHA9YVt1XTtsLnk+dC55IT1wLnk+dC55JiZ0Lng8KHAueC1sLngpKih0LnktbC55KS8ocC55LWwueSkrbC54JiYocj0hciksbj1NYXRoLm1pbihuLEdhKHQsbCxwKSk7fXJldHVybiAocj8xOi0xKSpNYXRoLnNxcnQobil9KHRoaXMucCxuKSx0aGlzLm1heD10aGlzLmQrdGhpcy5oKk1hdGguU1FSVDI7fVh1LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5wdXNoKHQpLHRoaXMubGVuZ3RoKyssdGhpcy5fdXAodGhpcy5sZW5ndGgtMSk7fSxYdS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGVuZ3RoKXt2YXIgdD10aGlzLmRhdGFbMF0sZT10aGlzLmRhdGEucG9wKCk7cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5sZW5ndGg+MCYmKHRoaXMuZGF0YVswXT1lLHRoaXMuX2Rvd24oMCkpLHR9fSxYdS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LFh1LnByb3RvdHlwZS5fdXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGF0YSxyPXRoaXMuY29tcGFyZSxuPWVbdF07dD4wOyl7dmFyIGk9dC0xPj4xLGE9ZVtpXTtpZihyKG4sYSk+PTApYnJlYWs7ZVt0XT1hLHQ9aTt9ZVt0XT1uO30sWHUucHJvdG90eXBlLl9kb3duPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmRhdGEscj10aGlzLmNvbXBhcmUsbj10aGlzLmxlbmd0aD4+MSxpPWVbdF07dDxuOyl7dmFyIGE9MSsodDw8MSksbz1lW2FdLHM9YSsxO2lmKHM8dGhpcy5sZW5ndGgmJnIoZVtzXSxvKTwwJiYoYT1zLG89ZVtzXSkscihvLGkpPj0wKWJyZWFrO2VbdF09byx0PWE7fWVbdF09aTt9O3ZhciBXdT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7ZnVuY3Rpb24gUXUodCxlKXtyZXR1cm4gZVsxXSE9PVd1P2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLGk9MDtzd2l0Y2goZT1NYXRoLmFicyhlKSxyPU1hdGguYWJzKHIpLHQpe2Nhc2UidG9wLXJpZ2h0IjpjYXNlInRvcC1sZWZ0IjpjYXNlInRvcCI6aT1yLTc7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UiYm90dG9tLWxlZnQiOmNhc2UiYm90dG9tIjppPTctcjt9c3dpdGNoKHQpe2Nhc2UidG9wLXJpZ2h0IjpjYXNlImJvdHRvbS1yaWdodCI6Y2FzZSJyaWdodCI6bj0tZTticmVhaztjYXNlInRvcC1sZWZ0IjpjYXNlImJvdHRvbS1sZWZ0IjpjYXNlImxlZnQiOm49ZTt9cmV0dXJuIFtuLGldfSh0LGVbMF0sZVsxXSk6ZnVuY3Rpb24odCxlKXt2YXIgcj0wLG49MDtlPDAmJihlPTApO3ZhciBpPWUvTWF0aC5zcXJ0KDIpO3N3aXRjaCh0KXtjYXNlInRvcC1yaWdodCI6Y2FzZSJ0b3AtbGVmdCI6bj1pLTc7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UiYm90dG9tLWxlZnQiOm49Ny1pO2JyZWFrO2Nhc2UiYm90dG9tIjpuPTctZTticmVhaztjYXNlInRvcCI6bj1lLTc7fXN3aXRjaCh0KXtjYXNlInRvcC1yaWdodCI6Y2FzZSJib3R0b20tcmlnaHQiOnI9LWk7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6Y2FzZSJib3R0b20tbGVmdCI6cj1pO2JyZWFrO2Nhc2UibGVmdCI6cj1lO2JyZWFrO2Nhc2UicmlnaHQiOnI9LWU7fXJldHVybiBbcixuXX0odCxlWzBdKX1mdW5jdGlvbiB0bCh0KXtzd2l0Y2godCl7Y2FzZSJyaWdodCI6Y2FzZSJ0b3AtcmlnaHQiOmNhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4gInJpZ2h0IjtjYXNlImxlZnQiOmNhc2UidG9wLWxlZnQiOmNhc2UiYm90dG9tLWxlZnQiOnJldHVybiAibGVmdCJ9cmV0dXJuICJjZW50ZXIifWZ1bmN0aW9uIGVsKHQsZSxyLG4sYSxvLHMsdSxsLHAsYyxoLGYseSxkKXt2YXIgbT1mdW5jdGlvbih0LGUscixuLGEsbyxzLHUpe2Zvcih2YXIgbD1uLmxheW91dC5nZXQoInRleHQtcm90YXRlIikuZXZhbHVhdGUobyx7fSkqTWF0aC5QSS8xODAscD1bXSxjPTAsaD1lLnBvc2l0aW9uZWRMaW5lcztjPGgubGVuZ3RoO2MrPTEpZm9yKHZhciBmPWhbY10seT0wLGQ9Zi5wb3NpdGlvbmVkR2x5cGhzO3k8ZC5sZW5ndGg7eSs9MSl7dmFyIG09ZFt5XTtpZihtLnJlY3Qpe3ZhciB2PW0ucmVjdHx8e30sZz00LHg9ITAsYj0xLHc9MCxfPShhfHx1KSYmbS52ZXJ0aWNhbCxBPW0ubWV0cmljcy5hZHZhbmNlKm0uc2NhbGUvMjtpZih1JiZlLnZlcnRpY2FsaXphYmxlJiYodz1mLmxpbmVPZmZzZXQvMi0obS5pbWFnZU5hbWU/LSgyNC1tLm1ldHJpY3Mud2lkdGgqbS5zY2FsZSkvMjoyNCoobS5zY2FsZS0xKSkpLG0uaW1hZ2VOYW1lKXt2YXIgUz1zW20uaW1hZ2VOYW1lXTt4PVMuc2RmLGc9MS8oYj1TLnBpeGVsUmF0aW8pO312YXIgaz1hP1ttLngrQSxtLnldOlswLDBdLEk9YT9bMCwwXTpbbS54K0ErclswXSxtLnkrclsxXS13XSx6PVswLDBdO18mJih6PUksST1bMCwwXSk7dmFyIEM9KG0ubWV0cmljcy5sZWZ0LWcpKm0uc2NhbGUtQStJWzBdLE09KC1tLm1ldHJpY3MudG9wLWcpKm0uc2NhbGUrSVsxXSxFPUMrdi53Km0uc2NhbGUvYixUPU0rdi5oKm0uc2NhbGUvYixQPW5ldyBpKEMsTSksQj1uZXcgaShFLE0pLFY9bmV3IGkoQyxUKSxGPW5ldyBpKEUsVCk7aWYoXyl7dmFyIEQ9bmV3IGkoLUEsQS0gLTE3KSxMPS1NYXRoLlBJLzIsUj0xMi1BLE89bmV3IGkoMjItUiwtKG0uaW1hZ2VOYW1lP1I6MCkpLFU9bmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGksW251bGxdLmNvbmNhdCh6KSkpO1AuX3JvdGF0ZUFyb3VuZChMLEQpLl9hZGQoTykuX2FkZChVKSxCLl9yb3RhdGVBcm91bmQoTCxEKS5fYWRkKE8pLl9hZGQoVSksVi5fcm90YXRlQXJvdW5kKEwsRCkuX2FkZChPKS5fYWRkKFUpLEYuX3JvdGF0ZUFyb3VuZChMLEQpLl9hZGQoTykuX2FkZChVKTt9aWYobCl7dmFyIGo9TWF0aC5zaW4obCkscT1NYXRoLmNvcyhsKSxOPVtxLC1qLGoscV07UC5fbWF0TXVsdChOKSxCLl9tYXRNdWx0KE4pLFYuX21hdE11bHQoTiksRi5fbWF0TXVsdChOKTt9dmFyIEs9bmV3IGkoMCwwKSxHPW5ldyBpKDAsMCk7cC5wdXNoKHt0bDpQLHRyOkIsYmw6VixicjpGLHRleDp2LHdyaXRpbmdNb2RlOmUud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6ayxzZWN0aW9uSW5kZXg6bS5zZWN0aW9uSW5kZXgsaXNTREY6eCxwaXhlbE9mZnNldFRMOksscGl4ZWxPZmZzZXRCUjpHLG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KTt9fXJldHVybiBwfSgwLHIsdSxhLG8scyxuLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj10LnRleHRTaXplRGF0YSxnPW51bGw7InNvdXJjZSI9PT12LmtpbmQ/KGc9WzEyOCphLmxheW91dC5nZXQoInRleHQtc2l6ZSIpLmV2YWx1YXRlKHMse30pXSlbMF0+MzI2NDAmJncodC5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgInRleHQtc2l6ZSIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciAidGV4dC1zaXplIi4nKToiY29tcG9zaXRlIj09PXYua2luZCYmKChnPVsxMjgqeS5jb21wb3NpdGVUZXh0U2l6ZXNbMF0uZXZhbHVhdGUocyx7fSxkKSwxMjgqeS5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUocyx7fSxkKV0pWzBdPjMyNjQwfHxnWzFdPjMyNjQwKSYmdyh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciAidGV4dC1zaXplIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyICJ0ZXh0LXNpemUiLicpLHQuYWRkU3ltYm9scyh0LnRleHQsbSxnLHUsbyxzLHAsZSxsLmxpbmVTdGFydEluZGV4LGwubGluZUxlbmd0aCxmLGQpO2Zvcih2YXIgeD0wLGI9Yzt4PGIubGVuZ3RoO3grPTEpaFtiW3hdXT10LnRleHQucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTE7cmV0dXJuIDQqbS5sZW5ndGh9ZnVuY3Rpb24gcmwodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuIHRbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gbmwodCxlLHIsbil7dmFyIGk9dC5jb21wYXJlVGV4dDtpZihlIGluIGkpe2Zvcih2YXIgYT1pW2VdLG89YS5sZW5ndGgtMTtvPj0wO28tLSlpZihuLmRpc3QoYVtvXSk8cilyZXR1cm4gITB9ZWxzZSBpW2VdPVtdO3JldHVybiBpW2VdLnB1c2gobiksITF9dmFyIGlsPWRzLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLGFsPVt7bmFtZToiYV9mYWRlX29wYWNpdHkiLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50OCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBvbCh0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoKXt2YXIgZj1zP01hdGgubWluKDMyNjQwLE1hdGgucm91bmQoc1swXSkpOjAseT1zP01hdGgubWluKDMyNjQwLE1hdGgucm91bmQoc1sxXSkpOjA7dC5lbXBsYWNlQmFjayhlLHIsTWF0aC5yb3VuZCgzMipuKSxNYXRoLnJvdW5kKDMyKmkpLGEsbywoZjw8MSkrKHU/MTowKSx5LDE2KmwsMTYqcCwyNTYqYywyNTYqaCk7fWZ1bmN0aW9uIHNsKHQsZSxyKXt0LmVtcGxhY2VCYWNrKGUueCxlLnksciksdC5lbXBsYWNlQmFjayhlLngsZS55LHIpLHQuZW1wbGFjZUJhY2soZS54LGUueSxyKSx0LmVtcGxhY2VCYWNrKGUueCxlLnkscik7fWZ1bmN0aW9uIHVsKHQpe2Zvcih2YXIgZT0wLHI9dC5zZWN0aW9ucztlPHIubGVuZ3RoO2UrPTEpaWYoSm4ocltlXS50ZXh0KSlyZXR1cm4gITA7cmV0dXJuICExfXZhciBsbD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBFaSx0aGlzLmluZGV4QXJyYXk9bmV3IExpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXQsdGhpcy5zZWdtZW50cz1uZXcgaWEsdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IFRpLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBQaSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBZaTt9O2xsLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuaW5kZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGh9LGxsLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5pc0VtcHR5KCl8fChyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxGcy5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LGUpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxEcy5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXksYWwsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5pdGVtU2l6ZT0xKSwocnx8bikmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSk7fSxsbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCkpO30sRm4oIlN5bWJvbEJ1ZmZlcnMiLGxsKTt2YXIgcGw9ZnVuY3Rpb24odCxlLHIpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHQsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPWUsdGhpcy5pbmRleEFycmF5PW5ldyByLHRoaXMuc2VnbWVudHM9bmV3IGlhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IERpO307cGwucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxMcy5tZW1iZXJzLCEwKTt9LHBsLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKTt9LEZuKCJDb2xsaXNpb25CdWZmZXJzIixwbCk7dmFyIGNsPWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PXQuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuc29ydEtleVJhbmdlcz1bXSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5PVtdLHRoaXMucGxhY2VtZW50SW52UHJvak1hdHJpeD1lbyhbXSksdGhpcy5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeD1lbyhbXSk7dmFyIGU9dGhpcy5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXM7dGhpcy50ZXh0U2l6ZURhdGE9RXUodGhpcy56b29tLGVbInRleHQtc2l6ZSJdKSx0aGlzLmljb25TaXplRGF0YT1FdSh0aGlzLnpvb20sZVsiaWNvbi1zaXplIl0pO3ZhciByPXRoaXMubGF5ZXJzWzBdLmxheW91dCxuPXIuZ2V0KCJzeW1ib2wtc29ydC1rZXkiKSxpPXIuZ2V0KCJzeW1ib2wtei1vcmRlciIpO3RoaXMuc29ydEZlYXR1cmVzQnlLZXk9InZpZXdwb3J0LXkiIT09aSYmdm9pZCAwIT09bi5jb25zdGFudE9yKDEpLHRoaXMuc29ydEZlYXR1cmVzQnlZPSgidmlld3BvcnQteSI9PT1pfHwiYXV0byI9PT1pJiYhdGhpcy5zb3J0RmVhdHVyZXNCeUtleSkmJihyLmdldCgidGV4dC1hbGxvdy1vdmVybGFwIil8fHIuZ2V0KCJpY29uLWFsbG93LW92ZXJsYXAiKXx8ci5nZXQoInRleHQtaWdub3JlLXBsYWNlbWVudCIpfHxyLmdldCgiaWNvbi1pZ25vcmUtcGxhY2VtZW50IikpLCJwb2ludCI9PT1yLmdldCgic3ltYm9sLXBsYWNlbWVudCIpJiYodGhpcy53cml0aW5nTW9kZXM9ci5nZXQoInRleHQtd3JpdGluZy1tb2RlIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZHVbdF19KSkpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzU3RhdGVEZXBlbmRlbnQoKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLHRoaXMuc291cmNlSUQ9dC5zb3VyY2VJRDt9O2NsLnByb3RvdHlwZS5jcmVhdGVBcnJheXM9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9bmV3IGxsKG5ldyBUYShGcy5tZW1iZXJzLHRoaXMubGF5ZXJzLHRoaXMuem9vbSwoZnVuY3Rpb24odCl7cmV0dXJuIC9edGV4dC8udGVzdCh0KX0pKSksdGhpcy5pY29uPW5ldyBsbChuZXcgVGEoRnMubWVtYmVycyx0aGlzLmxheWVycyx0aGlzLnpvb20sKGZ1bmN0aW9uKHQpe3JldHVybiAvXmljb24vLnRlc3QodCl9KSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgUWksdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IHRhLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBXaTt9LGNsLnByb3RvdHlwZS5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcz1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKWlmKGVbdC5jaGFyQ29kZUF0KGEpXT0hMCwocnx8bikmJmkpe3ZhciBvPWpzW3QuY2hhckF0KGEpXTtvJiYoZVtvLmNoYXJDb2RlQXQoMCldPSEwKTt9fSxjbC5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGF5ZXJzWzBdLGk9bi5sYXlvdXQsYT1pLmdldCgidGV4dC1mb250Iiksbz1pLmdldCgidGV4dC1maWVsZCIpLHM9aS5nZXQoImljb24taW1hZ2UiKSx1PSgiY29uc3RhbnQiIT09by52YWx1ZS5raW5kfHxvLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgdGUmJiFvLnZhbHVlLnZhbHVlLmlzRW1wdHkoKXx8by52YWx1ZS52YWx1ZS50b1N0cmluZygpLmxlbmd0aD4wKSYmKCJjb25zdGFudCIhPT1hLnZhbHVlLmtpbmR8fGEudmFsdWUudmFsdWUubGVuZ3RoPjApLGw9ImNvbnN0YW50IiE9PXMudmFsdWUua2luZHx8ISFzLnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyhzLnBhcmFtZXRlcnMpLmxlbmd0aD4wLHA9aS5nZXQoInN5bWJvbC1zb3J0LWtleSIpO2lmKHRoaXMuZmVhdHVyZXM9W10sdXx8bCl7Zm9yKHZhciBjPWUuaWNvbkRlcGVuZGVuY2llcyxoPWUuZ2x5cGhEZXBlbmRlbmNpZXMsZj1lLmF2YWlsYWJsZUltYWdlcyx5PW5ldyBpaSh0aGlzLnpvb20pLGQ9MCxtPXQ7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9di5mZWF0dXJlLHg9di5pZCxiPXYuaW5kZXgsdz12LnNvdXJjZUxheWVySW5kZXgsXz1uLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxBPXt0eXBlOmcudHlwZSxpZDp4LHByb3BlcnRpZXM6Zy5wcm9wZXJ0aWVzLGdlb21ldHJ5Ol8/RmEoZyk6W119O2lmKG4uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKHksQSxyKSl7X3x8KEEuZ2VvbWV0cnk9RmEoZykpO3ZhciBTPXZvaWQgMDtpZih1KXt2YXIgaz1uLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucygidGV4dC1maWVsZCIsQSxyLGYpLEk9dGUuZmFjdG9yeShrKTt1bChJKSYmKHRoaXMuaGFzUlRMVGV4dD0hMCksKCF0aGlzLmhhc1JUTFRleHR8fCJ1bmF2YWlsYWJsZSI9PT1laSgpfHx0aGlzLmhhc1JUTFRleHQmJm5pLmlzUGFyc2VkKCkpJiYoUz1VcyhJLG4sQSkpO312YXIgej12b2lkIDA7aWYobCl7dmFyIEM9bi5nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoImljb24taW1hZ2UiLEEscixmKTt6PUMgaW5zdGFuY2VvZiBlZT9DOmVlLmZyb21TdHJpbmcoQyk7fWlmKFN8fHope3ZhciBNPXRoaXMuc29ydEZlYXR1cmVzQnlLZXk/cC5ldmFsdWF0ZShBLHt9LHIpOnZvaWQgMCxFPXtpZDp4LHRleHQ6UyxpY29uOnosaW5kZXg6Yixzb3VyY2VMYXllckluZGV4OncsZ2VvbWV0cnk6RmEoZykscHJvcGVydGllczpnLnByb3BlcnRpZXMsdHlwZTppbFtnLnR5cGVdLHNvcnRLZXk6TX07aWYodGhpcy5mZWF0dXJlcy5wdXNoKEUpLHomJihjW3oubmFtZV09ITApLFMpe3ZhciBUPWEuZXZhbHVhdGUoQSx7fSxyKS5qb2luKCIsIiksUD0ibWFwIj09PWkuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpJiYicG9pbnQiIT09aS5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKTt0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQ9dGhpcy53cml0aW5nTW9kZXMmJnRoaXMud3JpdGluZ01vZGVzLmluZGV4T2YoZHUudmVydGljYWwpPj0wO2Zvcih2YXIgQj0wLFY9Uy5zZWN0aW9ucztCPFYubGVuZ3RoO0IrPTEpe3ZhciBGPVZbQl07aWYoRi5pbWFnZSljW0YuaW1hZ2UubmFtZV09ITA7ZWxzZSB7dmFyIEQ9Tm4oUy50b1N0cmluZygpKSxMPUYuZm9udFN0YWNrfHxULFI9aFtMXT1oW0xdfHx7fTt0aGlzLmNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKEYudGV4dCxSLFAsdGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50LEQpO319fX19fSJsaW5lIj09PWkuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IikmJih0aGlzLmZlYXR1cmVzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LHI9e30sbj1bXSxpPTA7ZnVuY3Rpb24gYShlKXtuLnB1c2godFtlXSksaSsrO31mdW5jdGlvbiBvKHQsZSxpKXt2YXIgYT1yW3RdO3JldHVybiBkZWxldGUgclt0XSxyW2VdPWEsblthXS5nZW9tZXRyeVswXS5wb3AoKSxuW2FdLmdlb21ldHJ5WzBdPW5bYV0uZ2VvbWV0cnlbMF0uY29uY2F0KGlbMF0pLGF9ZnVuY3Rpb24gcyh0LHIsaSl7dmFyIGE9ZVtyXTtyZXR1cm4gZGVsZXRlIGVbcl0sZVt0XT1hLG5bYV0uZ2VvbWV0cnlbMF0uc2hpZnQoKSxuW2FdLmdlb21ldHJ5WzBdPWlbMF0uY29uY2F0KG5bYV0uZ2VvbWV0cnlbMF0pLGF9ZnVuY3Rpb24gdSh0LGUscil7dmFyIG49cj9lWzBdW2VbMF0ubGVuZ3RoLTFdOmVbMF1bMF07cmV0dXJuIHQrIjoiK24ueCsiOiIrbi55fWZvcih2YXIgbD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgcD10W2xdLGM9cC5nZW9tZXRyeSxoPXAudGV4dD9wLnRleHQudG9TdHJpbmcoKTpudWxsO2lmKGgpe3ZhciBmPXUoaCxjKSx5PXUoaCxjLCEwKTtpZihmIGluIHImJnkgaW4gZSYmcltmXSE9PWVbeV0pe3ZhciBkPXMoZix5LGMpLG09byhmLHksbltkXS5nZW9tZXRyeSk7ZGVsZXRlIGVbZl0sZGVsZXRlIHJbeV0sclt1KGgsblttXS5nZW9tZXRyeSwhMCldPW0sbltkXS5nZW9tZXRyeT1udWxsO31lbHNlIGYgaW4gcj9vKGYseSxjKTp5IGluIGU/cyhmLHksYyk6KGEobCksZVtmXT1pLTEsclt5XT1pLTEpO31lbHNlIGEobCk7fXJldHVybiBuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnl9KSl9KHRoaXMuZmVhdHVyZXMpKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5JiZ0aGlzLmZlYXR1cmVzLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7fX0sY2wucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJih0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLmxheWVycyxyKSx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLmxheWVycyxyKSk7fSxjbC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoJiYhdGhpcy5oYXNSVExUZXh0fSxjbC5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZHx8dGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH0sY2wucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXshdGhpcy51cGxvYWRlZCYmdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmKHRoaXMudGV4dENvbGxpc2lvbkJveC51cGxvYWQodCksdGhpcy5pY29uQ29sbGlzaW9uQm94LnVwbG9hZCh0KSksdGhpcy50ZXh0LnVwbG9hZCh0LHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQpLHRoaXMuaWNvbi51cGxvYWQodCx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLnVwbG9hZGVkPSEwO30sY2wucHJvdG90eXBlLmRlc3Ryb3lEZWJ1Z0RhdGE9ZnVuY3Rpb24oKXt0aGlzLnRleHRDb2xsaXNpb25Cb3guZGVzdHJveSgpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC5kZXN0cm95KCk7fSxjbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKTt9LGNsLnByb3RvdHlwZS5hZGRUb0xpbmVWZXJ0ZXhBcnJheT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aDtpZih2b2lkIDAhPT10LnNlZ21lbnQpe2Zvcih2YXIgbj10LmRpc3QoZVt0LnNlZ21lbnQrMV0pLGk9dC5kaXN0KGVbdC5zZWdtZW50XSksYT17fSxvPXQuc2VnbWVudCsxO288ZS5sZW5ndGg7bysrKWFbb109e3g6ZVtvXS54LHk6ZVtvXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOm59LG88ZS5sZW5ndGgtMSYmKG4rPWVbbysxXS5kaXN0KGVbb10pKTtmb3IodmFyIHM9dC5zZWdtZW50fHwwO3M+PTA7cy0tKWFbc109e3g6ZVtzXS54LHk6ZVtzXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOml9LHM+MCYmKGkrPWVbcy0xXS5kaXN0KGVbc10pKTtmb3IodmFyIHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGw9YVt1XTt0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhsLngsbC55LGwudGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IpO319cmV0dXJuIHtsaW5lU3RhcnRJbmRleDpyLGxpbmVMZW5ndGg6dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoLXJ9fSxjbC5wcm90b3R5cGUuYWRkU3ltYm9scz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyl7Zm9yKHZhciBoPXQuaW5kZXhBcnJheSxmPXQubGF5b3V0VmVydGV4QXJyYXkseT10LnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQqZS5sZW5ndGgsZixoLGEuc29ydEtleSksZD10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLG09eS52ZXJ0ZXhMZW5ndGgsdj10aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm89PT1kdS52ZXJ0aWNhbD9NYXRoLlBJLzI6MCxnPWEudGV4dCYmYS50ZXh0LnNlY3Rpb25zLHg9MDt4PGUubGVuZ3RoO3grKyl7dmFyIGI9ZVt4XSx3PWIudGwsXz1iLnRyLEE9Yi5ibCxTPWIuYnIsaz1iLnRleCxJPWIucGl4ZWxPZmZzZXRUTCx6PWIucGl4ZWxPZmZzZXRCUixDPWIubWluRm9udFNjYWxlWCxNPWIubWluRm9udFNjYWxlWSxFPWIuZ2x5cGhPZmZzZXQsVD1iLmlzU0RGLFA9Yi5zZWN0aW9uSW5kZXgsQj15LnZlcnRleExlbmd0aCxWPUVbMV07b2woZixzLngscy55LHcueCxWK3cueSxrLngsay55LHIsVCxJLngsSS55LEMsTSksb2woZixzLngscy55LF8ueCxWK18ueSxrLngray53LGsueSxyLFQsei54LEkueSxDLE0pLG9sKGYscy54LHMueSxBLngsVitBLnksay54LGsueStrLmgscixULEkueCx6LnksQyxNKSxvbChmLHMueCxzLnksUy54LFYrUy55LGsueCtrLncsay55K2suaCxyLFQsei54LHoueSxDLE0pLHNsKHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHMsdiksaC5lbXBsYWNlQmFjayhCLEIrMSxCKzIpLGguZW1wbGFjZUJhY2soQisxLEIrMixCKzMpLHkudmVydGV4TGVuZ3RoKz00LHkucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhFWzBdKSx4IT09ZS5sZW5ndGgtMSYmUD09PWVbeCsxXS5zZWN0aW9uSW5kZXh8fHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMoZi5sZW5ndGgsYSxhLmluZGV4LHt9LGMsZyYmZ1tQXSk7fXQucGxhY2VkU3ltYm9sQXJyYXkuZW1wbGFjZUJhY2socy54LHMueSxkLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGgtZCxtLHUsbCxzLnNlZ21lbnQscj9yWzBdOjAscj9yWzFdOjAsblswXSxuWzFdLG8sMCwhMSwwLHApO30sY2wucHJvdG90eXBlLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIGUuZW1wbGFjZUJhY2soMCwwKSx0LmVtcGxhY2VCYWNrKHIueCxyLnksbixpLE1hdGgucm91bmQoYS54KSxNYXRoLnJvdW5kKGEueSkpfSxjbC5wcm90b3R5cGUuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcz1mdW5jdGlvbih0LGUscixuLGEsbyxzKXt2YXIgdT1hLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsYS5sYXlvdXRWZXJ0ZXhBcnJheSxhLmluZGV4QXJyYXkpLGw9dS52ZXJ0ZXhMZW5ndGgscD1hLmxheW91dFZlcnRleEFycmF5LGM9YS5jb2xsaXNpb25WZXJ0ZXhBcnJheSxoPXMuYW5jaG9yWCxmPXMuYW5jaG9yWTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleChwLGMsbyxoLGYsbmV3IGkodCxlKSksdGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0ZXgocCxjLG8saCxmLG5ldyBpKHIsZSkpLHRoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGV4KHAsYyxvLGgsZixuZXcgaShyLG4pKSx0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleChwLGMsbyxoLGYsbmV3IGkodCxuKSksdS52ZXJ0ZXhMZW5ndGgrPTQ7dmFyIHk9YS5pbmRleEFycmF5O3kuZW1wbGFjZUJhY2sobCxsKzEpLHkuZW1wbGFjZUJhY2sobCsxLGwrMikseS5lbXBsYWNlQmFjayhsKzIsbCszKSx5LmVtcGxhY2VCYWNrKGwrMyxsKSx1LnByaW1pdGl2ZUxlbmd0aCs9NDt9LGNsLnByb3RvdHlwZS5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT10O2k8ZTtpKyspe3ZhciBhPXRoaXMuY29sbGlzaW9uQm94QXJyYXkuZ2V0KGkpO3RoaXMuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhhLngxLGEueTEsYS54MixhLnkyLG4/dGhpcy50ZXh0Q29sbGlzaW9uQm94OnRoaXMuaWNvbkNvbGxpc2lvbkJveCxhLmFuY2hvclBvaW50LHIpO319LGNsLnByb3RvdHlwZS5nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycz1mdW5jdGlvbigpe3RoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpLHRoaXMudGV4dENvbGxpc2lvbkJveD1uZXcgcGwoVmksUnMubWVtYmVycyxOaSksdGhpcy5pY29uQ29sbGlzaW9uQm94PW5ldyBwbChWaSxScy5tZW1iZXJzLE5pKTtmb3IodmFyIHQ9MDt0PHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTt0aGlzLmFkZERlYnVnQ29sbGlzaW9uQm94ZXMoZS50ZXh0Qm94U3RhcnRJbmRleCxlLnRleHRCb3hFbmRJbmRleCxlLCEwKSx0aGlzLmFkZERlYnVnQ29sbGlzaW9uQm94ZXMoZS52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LGUudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsZSwhMCksdGhpcy5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzKGUuaWNvbkJveFN0YXJ0SW5kZXgsZS5pY29uQm94RW5kSW5kZXgsZSwhMSksdGhpcy5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzKGUudmVydGljYWxJY29uQm94U3RhcnRJbmRleCxlLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LGUsITEpO319LGNsLnByb3RvdHlwZS5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbD1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSl7Zm9yKHZhciBsPXt9LHA9ZTtwPHI7cCsrKXt2YXIgYz10LmdldChwKTtsLnRleHRCb3g9e3gxOmMueDEseTE6Yy55MSx4MjpjLngyLHkyOmMueTIsYW5jaG9yUG9pbnRYOmMuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTpjLmFuY2hvclBvaW50WX0sbC50ZXh0RmVhdHVyZUluZGV4PWMuZmVhdHVyZUluZGV4O2JyZWFrfWZvcih2YXIgaD1uO2g8aTtoKyspe3ZhciBmPXQuZ2V0KGgpO2wudmVydGljYWxUZXh0Qm94PXt4MTpmLngxLHkxOmYueTEseDI6Zi54Mix5MjpmLnkyLGFuY2hvclBvaW50WDpmLmFuY2hvclBvaW50WCxhbmNob3JQb2ludFk6Zi5hbmNob3JQb2ludFl9LGwudmVydGljYWxUZXh0RmVhdHVyZUluZGV4PWYuZmVhdHVyZUluZGV4O2JyZWFrfWZvcih2YXIgeT1hO3k8bzt5Kyspe3ZhciBkPXQuZ2V0KHkpO2wuaWNvbkJveD17eDE6ZC54MSx5MTpkLnkxLHgyOmQueDIseTI6ZC55MixhbmNob3JQb2ludFg6ZC5hbmNob3JQb2ludFgsYW5jaG9yUG9pbnRZOmQuYW5jaG9yUG9pbnRZfSxsLmljb25GZWF0dXJlSW5kZXg9ZC5mZWF0dXJlSW5kZXg7YnJlYWt9Zm9yKHZhciBtPXM7bTx1O20rKyl7dmFyIHY9dC5nZXQobSk7bC52ZXJ0aWNhbEljb25Cb3g9e3gxOnYueDEseTE6di55MSx4Mjp2LngyLHkyOnYueTIsYW5jaG9yUG9pbnRYOnYuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTp2LmFuY2hvclBvaW50WX0sbC52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9di5mZWF0dXJlSW5kZXg7YnJlYWt9cmV0dXJuIGx9LGNsLnByb3RvdHlwZS5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uQXJyYXlzPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl7dmFyIHI9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuY29sbGlzaW9uQXJyYXlzLnB1c2godGhpcy5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbCh0LHIudGV4dEJveFN0YXJ0SW5kZXgsci50ZXh0Qm94RW5kSW5kZXgsci52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LHIudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsci5pY29uQm94U3RhcnRJbmRleCxyLmljb25Cb3hFbmRJbmRleCxyLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsci52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCkpO319LGNsLnByb3RvdHlwZS5oYXNUZXh0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5oYXNJY29uRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5oYXNEZWJ1Z0RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9LGNsLnByb3RvdHlwZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LGNsLnByb3RvdHlwZS5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLG49ci52ZXJ0ZXhTdGFydEluZGV4KzQqci5udW1HbHlwaHMsaT1yLnZlcnRleFN0YXJ0SW5kZXg7aTxuO2krPTQpdC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGksaSsxLGkrMiksdC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGkrMSxpKzIsaSszKTt9LGNsLnByb3RvdHlwZS5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT10JiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Zm9yKHZhciBlPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCksbj1bXSxpPVtdLGE9W10sbz0wO288dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrbyl7YS5wdXNoKG8pO3ZhciBzPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChvKTtuLnB1c2goMHxNYXRoLnJvdW5kKGUqcy5hbmNob3JYK3Iqcy5hbmNob3JZKSksaS5wdXNoKHMuZmVhdHVyZUluZGV4KTt9cmV0dXJuIGEuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gblt0XS1uW2VdfHxpW2VdLWlbdF19KSksYX0sY2wucHJvdG90eXBlLmFkZFRvU29ydEtleVJhbmdlcz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuc29ydEtleVJhbmdlc1t0aGlzLnNvcnRLZXlSYW5nZXMubGVuZ3RoLTFdO3ImJnIuc29ydEtleT09PWU/ci5zeW1ib2xJbnN0YW5jZUVuZD10KzE6dGhpcy5zb3J0S2V5UmFuZ2VzLnB1c2goe3NvcnRLZXk6ZSxzeW1ib2xJbnN0YW5jZVN0YXJ0OnQsc3ltYm9sSW5zdGFuY2VFbmQ6dCsxfSk7fSxjbC5wcm90b3R5cGUuc29ydEZlYXR1cmVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5zb3J0RmVhdHVyZXNCeVkmJnRoaXMuc29ydGVkQW5nbGUhPT10JiYhKHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MXx8dGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xKSl7dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM9dGhpcy5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHQpLHRoaXMuc29ydGVkQW5nbGU9dCx0aGlzLnRleHQuaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuaWNvbi5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5mZWF0dXJlU29ydE9yZGVyPVtdO2Zvcih2YXIgcj0wLG49dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQobltyXSk7dGhpcy5mZWF0dXJlU29ydE9yZGVyLnB1c2goaS5mZWF0dXJlSW5kZXgpLFtpLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGkuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGkubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleF0uZm9yRWFjaCgoZnVuY3Rpb24odCxyLG4pe3Q+PTAmJm4uaW5kZXhPZih0KT09PXImJmUuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbChlLnRleHQsdCk7fSkpLGkudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsaS52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCksaS5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24saS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLGkudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24saS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCk7fXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpO319LEZuKCJTeW1ib2xCdWNrZXQiLGNsLHtvbWl0OlsibGF5ZXJzIiwiY29sbGlzaW9uQm94QXJyYXkiLCJmZWF0dXJlcyIsImNvbXBhcmVUZXh0Il19KSxjbC5NQVhfR0xZUEhTPTY1NTM1LGNsLmFkZER5bmFtaWNBdHRyaWJ1dGVzPXNsO3ZhciBobD1uZXcgZ2koeyJzeW1ib2wtcGxhY2VtZW50IjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsic3ltYm9sLXBsYWNlbWVudCJdKSwic3ltYm9sLXNwYWNpbmciOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtc3BhY2luZyJdKSwic3ltYm9sLWF2b2lkLWVkZ2VzIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsic3ltYm9sLWF2b2lkLWVkZ2VzIl0pLCJzeW1ib2wtc29ydC1rZXkiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtc29ydC1rZXkiXSksInN5bWJvbC16LW9yZGVyIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsic3ltYm9sLXotb3JkZXIiXSksImljb24tYWxsb3ctb3ZlcmxhcCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbImljb24tYWxsb3ctb3ZlcmxhcCJdKSwiaWNvbi1pZ25vcmUtcGxhY2VtZW50IjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1pZ25vcmUtcGxhY2VtZW50Il0pLCJpY29uLW9wdGlvbmFsIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1vcHRpb25hbCJdKSwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJpY29uLXJvdGF0aW9uLWFsaWdubWVudCJdKSwiaWNvbi1zaXplIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1zaXplIl0pLCJpY29uLXRleHQtZml0IjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi10ZXh0LWZpdCJdKSwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIl0pLCJpY29uLWltYWdlIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1pbWFnZSJdKSwiaWNvbi1yb3RhdGUiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJpY29uLXJvdGF0ZSJdKSwiaWNvbi1wYWRkaW5nIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsiaWNvbi1wYWRkaW5nIl0pLCJpY29uLWtlZXAtdXByaWdodCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbImljb24ta2VlcC11cHJpZ2h0Il0pLCJpY29uLW9mZnNldCI6bmV3IHlpKEl0LmxheW91dF9zeW1ib2xbImljb24tb2Zmc2V0Il0pLCJpY29uLWFuY2hvciI6bmV3IHlpKEl0LmxheW91dF9zeW1ib2xbImljb24tYW5jaG9yIl0pLCJpY29uLXBpdGNoLWFsaWdubWVudCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbImljb24tcGl0Y2gtYWxpZ25tZW50Il0pLCJ0ZXh0LXBpdGNoLWFsaWdubWVudCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbInRleHQtcGl0Y2gtYWxpZ25tZW50Il0pLCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbInRleHQtcm90YXRpb24tYWxpZ25tZW50Il0pLCJ0ZXh0LWZpZWxkIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1maWVsZCJdKSwidGV4dC1mb250IjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1mb250Il0pLCJ0ZXh0LXNpemUiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXNpemUiXSksInRleHQtbWF4LXdpZHRoIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1tYXgtd2lkdGgiXSksInRleHQtbGluZS1oZWlnaHQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWxpbmUtaGVpZ2h0Il0pLCJ0ZXh0LWxldHRlci1zcGFjaW5nIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1sZXR0ZXItc3BhY2luZyJdKSwidGV4dC1qdXN0aWZ5IjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1qdXN0aWZ5Il0pLCJ0ZXh0LXJhZGlhbC1vZmZzZXQiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXJhZGlhbC1vZmZzZXQiXSksInRleHQtdmFyaWFibGUtYW5jaG9yIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC12YXJpYWJsZS1hbmNob3IiXSksInRleHQtYW5jaG9yIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1hbmNob3IiXSksInRleHQtbWF4LWFuZ2xlIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1tYXgtYW5nbGUiXSksInRleHQtd3JpdGluZy1tb2RlIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC13cml0aW5nLW1vZGUiXSksInRleHQtcm90YXRlIjpuZXcgeWkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1yb3RhdGUiXSksInRleHQtcGFkZGluZyI6bmV3IGZpKEl0LmxheW91dF9zeW1ib2xbInRleHQtcGFkZGluZyJdKSwidGV4dC1rZWVwLXVwcmlnaHQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWtlZXAtdXByaWdodCJdKSwidGV4dC10cmFuc2Zvcm0iOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXRyYW5zZm9ybSJdKSwidGV4dC1vZmZzZXQiOm5ldyB5aShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LW9mZnNldCJdKSwidGV4dC1hbGxvdy1vdmVybGFwIjpuZXcgZmkoSXQubGF5b3V0X3N5bWJvbFsidGV4dC1hbGxvdy1vdmVybGFwIl0pLCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiXSksInRleHQtb3B0aW9uYWwiOm5ldyBmaShJdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LW9wdGlvbmFsIl0pfSksZmw9e3BhaW50Om5ldyBnaSh7Imljb24tb3BhY2l0eSI6bmV3IHlpKEl0LnBhaW50X3N5bWJvbFsiaWNvbi1vcGFjaXR5Il0pLCJpY29uLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJpY29uLWNvbG9yIl0pLCJpY29uLWhhbG8tY29sb3IiOm5ldyB5aShJdC5wYWludF9zeW1ib2xbImljb24taGFsby1jb2xvciJdKSwiaWNvbi1oYWxvLXdpZHRoIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJpY29uLWhhbG8td2lkdGgiXSksImljb24taGFsby1ibHVyIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJpY29uLWhhbG8tYmx1ciJdKSwiaWNvbi10cmFuc2xhdGUiOm5ldyBmaShJdC5wYWludF9zeW1ib2xbImljb24tdHJhbnNsYXRlIl0pLCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBmaShJdC5wYWludF9zeW1ib2xbImljb24tdHJhbnNsYXRlLWFuY2hvciJdKSwidGV4dC1vcGFjaXR5IjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LW9wYWNpdHkiXSksInRleHQtY29sb3IiOm5ldyB5aShJdC5wYWludF9zeW1ib2xbInRleHQtY29sb3IiXSx7cnVudGltZVR5cGU6UnQsZ2V0T3ZlcnJpZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudGV4dENvbG9yfSxoYXNPdmVycmlkZTpmdW5jdGlvbih0KXtyZXR1cm4gISF0LnRleHRDb2xvcn19KSwidGV4dC1oYWxvLWNvbG9yIjpuZXcgeWkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LWhhbG8tY29sb3IiXSksInRleHQtaGFsby13aWR0aCI6bmV3IHlpKEl0LnBhaW50X3N5bWJvbFsidGV4dC1oYWxvLXdpZHRoIl0pLCJ0ZXh0LWhhbG8tYmx1ciI6bmV3IHlpKEl0LnBhaW50X3N5bWJvbFsidGV4dC1oYWxvLWJsdXIiXSksInRleHQtdHJhbnNsYXRlIjpuZXcgZmkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LXRyYW5zbGF0ZSJdKSwidGV4dC10cmFuc2xhdGUtYW5jaG9yIjpuZXcgZmkoSXQucGFpbnRfc3ltYm9sWyJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiXSl9KSxsYXlvdXQ6aGx9LHlsPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT10LnByb3BlcnR5Lm92ZXJyaWRlcz90LnByb3BlcnR5Lm92ZXJyaWRlcy5ydW50aW1lVHlwZTpWdCx0aGlzLmRlZmF1bHRWYWx1ZT10O307eWwucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2lmKHQuZm9ybWF0dGVkU2VjdGlvbil7dmFyIGU9dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkub3ZlcnJpZGVzO2lmKGUmJmUuaGFzT3ZlcnJpZGUodC5mb3JtYXR0ZWRTZWN0aW9uKSlyZXR1cm4gZS5nZXRPdmVycmlkZSh0LmZvcm1hdHRlZFNlY3Rpb24pfXJldHVybiB0LmZlYXR1cmUmJnQuZmVhdHVyZVN0YXRlP3RoaXMuZGVmYXVsdFZhbHVlLmV2YWx1YXRlKHQuZmVhdHVyZSx0LmZlYXR1cmVTdGF0ZSk6dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkuc3BlY2lmaWNhdGlvbi5kZWZhdWx0fSx5bC5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuZGVmYXVsdFZhbHVlLmlzQ29uc3RhbnQoKXx8dCh0aGlzLmRlZmF1bHRWYWx1ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24pO30seWwucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LHlsLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sRm4oIkZvcm1hdFNlY3Rpb25PdmVycmlkZSIseWwse29taXQ6WyJkZWZhdWx0VmFsdWUiXX0pO3ZhciBkbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsZmwpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbihlLHIpe2lmKHQucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlLHIpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbImljb24tcm90YXRpb24tYWxpZ25tZW50Il09InBvaW50IiE9PXRoaXMubGF5b3V0LmdldCgic3ltYm9sLXBsYWNlbWVudCIpPyJtYXAiOiJ2aWV3cG9ydCIpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtcm90YXRpb24tYWxpZ25tZW50Il09InBvaW50IiE9PXRoaXMubGF5b3V0LmdldCgic3ltYm9sLXBsYWNlbWVudCIpPyJtYXAiOiJ2aWV3cG9ydCIpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtcGl0Y2gtYWxpZ25tZW50Il09dGhpcy5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpKSwiYXV0byI9PT10aGlzLmxheW91dC5nZXQoImljb24tcGl0Y2gtYWxpZ25tZW50IikmJih0aGlzLmxheW91dC5fdmFsdWVzWyJpY29uLXBpdGNoLWFsaWdubWVudCJdPXRoaXMubGF5b3V0LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSksInBvaW50Ij09PXRoaXMubGF5b3V0LmdldCgic3ltYm9sLXBsYWNlbWVudCIpKXt2YXIgbj10aGlzLmxheW91dC5nZXQoInRleHQtd3JpdGluZy1tb2RlIik7aWYobil7Zm9yKHZhciBpPVtdLGE9MCxvPW47YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO2kuaW5kZXhPZihzKTwwJiZpLnB1c2gocyk7fXRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtd3JpdGluZy1tb2RlIl09aTt9ZWxzZSB0aGlzLmxheW91dC5fdmFsdWVzWyJ0ZXh0LXdyaXRpbmctbW9kZSJdPVsiaG9yaXpvbnRhbCJdO310aGlzLl9zZXRQYWludE92ZXJyaWRlcygpO30sZS5wcm90b3R5cGUuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMubGF5b3V0LmdldCh0KS5ldmFsdWF0ZShlLHt9LHIsbiksYT10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW3RdO3JldHVybiBhLmlzRGF0YURyaXZlbigpfHxxcihhLnZhbHVlKXx8IWk/aTpmdW5jdGlvbih0LGUpe3JldHVybiBlLnJlcGxhY2UoL3soW157fV0rKX0vZywoZnVuY3Rpb24oZSxyKXtyZXR1cm4gciBpbiB0P1N0cmluZyh0W3JdKToiIn0pKX0oZS5wcm9wZXJ0aWVzLGkpfSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjbCh0KX0sZS5wcm90b3R5cGUucXVlcnlSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuX3NldFBhaW50T3ZlcnJpZGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj1mbC5wYWludC5vdmVycmlkYWJsZVByb3BlcnRpZXM7dDxyLmxlbmd0aDt0Kz0xKXt2YXIgbj1yW3RdO2lmKGUuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCxuKSl7dmFyIGksYT10aGlzLnBhaW50LmdldChuKSxvPW5ldyB5bChhKSxzPW5ldyBqcihvLGEucHJvcGVydHkuc3BlY2lmaWNhdGlvbik7aT0iY29uc3RhbnQiPT09YS52YWx1ZS5raW5kfHwic291cmNlIj09PWEudmFsdWUua2luZD9uZXcgS3IoInNvdXJjZSIscyk6bmV3IEdyKCJjb21wb3NpdGUiLHMsYS52YWx1ZS56b29tU3RvcHMsYS52YWx1ZS5faW50ZXJwb2xhdGlvblR5cGUpLHRoaXMucGFpbnQuX3ZhbHVlc1tuXT1uZXcgY2koYS5wcm9wZXJ0eSxpLGEucGFyYW1ldGVycyk7fX19LGUucHJvdG90eXBlLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGU9ZnVuY3Rpb24odCxyLG4pe3JldHVybiAhKCF0aGlzLmxheW91dHx8ci5pc0RhdGFEcml2ZW4oKXx8bi5pc0RhdGFEcml2ZW4oKSkmJmUuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCx0KX0sZS5oYXNQYWludE92ZXJyaWRlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5nZXQoInRleHQtZmllbGQiKSxuPWZsLnBhaW50LnByb3BlcnRpZXNbZV0saT0hMSxhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYobi5vdmVycmlkZXMmJm4ub3ZlcnJpZGVzLmhhc092ZXJyaWRlKHJbZV0pKXJldHVybiB2b2lkKGk9ITApfTtpZigiY29uc3RhbnQiPT09ci52YWx1ZS5raW5kJiZyLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgdGUpYShyLnZhbHVlLnZhbHVlLnNlY3Rpb25zKTtlbHNlIGlmKCJzb3VyY2UiPT09ci52YWx1ZS5raW5kKXt2YXIgbz1mdW5jdGlvbih0KXtpfHwodCBpbnN0YW5jZW9mIG9lJiZpZSh0LnZhbHVlKT09PXF0P2EodC52YWx1ZS5zZWN0aW9ucyk6dCBpbnN0YW5jZW9mIHBlP2EodC5zZWN0aW9ucyk6dC5lYWNoQ2hpbGQobykpO30scz1yLnZhbHVlO3MuX3N0eWxlRXhwcmVzc2lvbiYmbyhzLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fXJldHVybiBpfSxlfSh4aSksbWw9e3BhaW50Om5ldyBnaSh7ImJhY2tncm91bmQtY29sb3IiOm5ldyBmaShJdC5wYWludF9iYWNrZ3JvdW5kWyJiYWNrZ3JvdW5kLWNvbG9yIl0pLCJiYWNrZ3JvdW5kLXBhdHRlcm4iOm5ldyBtaShJdC5wYWludF9iYWNrZ3JvdW5kWyJiYWNrZ3JvdW5kLXBhdHRlcm4iXSksImJhY2tncm91bmQtb3BhY2l0eSI6bmV3IGZpKEl0LnBhaW50X2JhY2tncm91bmRbImJhY2tncm91bmQtb3BhY2l0eSJdKX0pfSx2bD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsbWwpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlfSh4aSksZ2w9e3BhaW50Om5ldyBnaSh7InJhc3Rlci1vcGFjaXR5IjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItb3BhY2l0eSJdKSwicmFzdGVyLWh1ZS1yb3RhdGUiOm5ldyBmaShJdC5wYWludF9yYXN0ZXJbInJhc3Rlci1odWUtcm90YXRlIl0pLCJyYXN0ZXItYnJpZ2h0bmVzcy1taW4iOm5ldyBmaShJdC5wYWludF9yYXN0ZXJbInJhc3Rlci1icmlnaHRuZXNzLW1pbiJdKSwicmFzdGVyLWJyaWdodG5lc3MtbWF4IjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiXSksInJhc3Rlci1zYXR1cmF0aW9uIjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItc2F0dXJhdGlvbiJdKSwicmFzdGVyLWNvbnRyYXN0IjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItY29udHJhc3QiXSksInJhc3Rlci1yZXNhbXBsaW5nIjpuZXcgZmkoSXQucGFpbnRfcmFzdGVyWyJyYXN0ZXItcmVzYW1wbGluZyJdKSwicmFzdGVyLWZhZGUtZHVyYXRpb24iOm5ldyBmaShJdC5wYWludF9yYXN0ZXJbInJhc3Rlci1mYWRlLWR1cmF0aW9uIl0pfSl9LHhsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxnbCk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGV9KHhpKSxibD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUse30pLHRoaXMuaW1wbGVtZW50YXRpb249ZTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaXMzRD1mdW5jdGlvbigpe3JldHVybiAiM2QiPT09dGhpcy5pbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlfSxlLnByb3RvdHlwZS5oYXNPZmZzY3JlZW5QYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuaW1wbGVtZW50YXRpb24ucHJlcmVuZGVyfSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vbkFkZCYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vbkFkZCh0LHQucGFpbnRlci5jb250ZXh0LmdsKTt9LGUucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUodCx0LnBhaW50ZXIuY29udGV4dC5nbCk7fSxlfSh4aSksd2w9e2NpcmNsZTpvbyxoZWF0bWFwOnZvLGhpbGxzaGFkZTp4byxmaWxsOmFzLCJmaWxsLWV4dHJ1c2lvbiI6X3MsbGluZTpCcyxzeW1ib2w6ZGwsYmFja2dyb3VuZDp2bCxyYXN0ZXI6eGx9LF9sPXNlbGYuSFRNTEltYWdlRWxlbWVudCxBbD1zZWxmLkhUTUxDYW52YXNFbGVtZW50LFNsPXNlbGYuSFRNTFZpZGVvRWxlbWVudCxrbD1zZWxmLkltYWdlRGF0YSxJbD1zZWxmLkltYWdlQml0bWFwLHpsPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMuY29udGV4dD10LHRoaXMuZm9ybWF0PXIsdGhpcy50ZXh0dXJlPXQuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMudXBkYXRlKGUsbik7fTt6bC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LndpZHRoLGk9dC5oZWlnaHQsYT0hKHRoaXMuc2l6ZSYmdGhpcy5zaXplWzBdPT09biYmdGhpcy5zaXplWzFdPT09aXx8ciksbz10aGlzLmNvbnRleHQscz1vLmdsO2lmKHRoaXMudXNlTWlwbWFwPUJvb2xlYW4oZSYmZS51c2VNaXBtYXApLHMuYmluZFRleHR1cmUocy5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksby5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0KCExKSxvLnBpeGVsU3RvcmVVbnBhY2suc2V0KDEpLG8ucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KHRoaXMuZm9ybWF0PT09cy5SR0JBJiYoIWV8fCExIT09ZS5wcmVtdWx0aXBseSkpLGEpdGhpcy5zaXplPVtuLGldLHQgaW5zdGFuY2VvZiBfbHx8dCBpbnN0YW5jZW9mIEFsfHx0IGluc3RhbmNlb2YgU2x8fHQgaW5zdGFuY2VvZiBrbHx8SWwmJnQgaW5zdGFuY2VvZiBJbD9zLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdGhpcy5mb3JtYXQscy5VTlNJR05FRF9CWVRFLHQpOnMudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxuLGksMCx0aGlzLmZvcm1hdCxzLlVOU0lHTkVEX0JZVEUsdC5kYXRhKTtlbHNlIHt2YXIgdT1yfHx7eDowLHk6MH0sbD11LngscD11Lnk7dCBpbnN0YW5jZW9mIF9sfHx0IGluc3RhbmNlb2YgQWx8fHQgaW5zdGFuY2VvZiBTbHx8dCBpbnN0YW5jZW9mIGtsfHxJbCYmdCBpbnN0YW5jZW9mIElsP3MudGV4U3ViSW1hZ2UyRChzLlRFWFRVUkVfMkQsMCxsLHAscy5SR0JBLHMuVU5TSUdORURfQllURSx0KTpzLnRleFN1YkltYWdlMkQocy5URVhUVVJFXzJELDAsbCxwLG4saSxzLlJHQkEscy5VTlNJR05FRF9CWVRFLHQuZGF0YSk7fXRoaXMudXNlTWlwbWFwJiZ0aGlzLmlzU2l6ZVBvd2VyT2ZUd28oKSYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfMkQpO30semwucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMuY29udGV4dC5nbDtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHIhPT1uLkxJTkVBUl9NSVBNQVBfTkVBUkVTVHx8dGhpcy5pc1NpemVQb3dlck9mVHdvKCl8fChyPW4uTElORUFSKSx0IT09dGhpcy5maWx0ZXImJihuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLHQpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01JTl9GSUxURVIscnx8dCksdGhpcy5maWx0ZXI9dCksZSE9PXRoaXMud3JhcCYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfUyxlKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1QsZSksdGhpcy53cmFwPWUpO30semwucHJvdG90eXBlLmlzU2l6ZVBvd2VyT2ZUd289ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplWzBdPT09dGhpcy5zaXplWzFdJiZNYXRoLmxvZyh0aGlzLnNpemVbMF0pL01hdGguTE4yJTE9PTB9LHpsLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LmdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKSx0aGlzLnRleHR1cmU9bnVsbDt9O3ZhciBDbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NhbGxiYWNrPXQsdGhpcy5fdHJpZ2dlcmVkPSExLCJ1bmRlZmluZWQiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJih0aGlzLl9jaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbCx0aGlzLl9jaGFubmVsLnBvcnQyLm9ubWVzc2FnZT1mdW5jdGlvbigpe2UuX3RyaWdnZXJlZD0hMSxlLl9jYWxsYmFjaygpO30pO307Q2wucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3RyaWdnZXJlZHx8KHRoaXMuX3RyaWdnZXJlZD0hMCx0aGlzLl9jaGFubmVsP3RoaXMuX2NoYW5uZWwucG9ydDEucG9zdE1lc3NhZ2UoITApOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fdHJpZ2dlcmVkPSExLHQuX2NhbGxiYWNrKCk7fSksMCkpO30sQ2wucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9jaGFubmVsLHRoaXMuX2NhbGxiYWNrPWZ1bmN0aW9uKCl7fTt9O3ZhciBNbD1mdW5jdGlvbih0LGUscil7dGhpcy50YXJnZXQ9dCx0aGlzLnBhcmVudD1lLHRoaXMubWFwSWQ9cix0aGlzLmNhbGxiYWNrcz17fSx0aGlzLnRhc2tzPXt9LHRoaXMudGFza1F1ZXVlPVtdLHRoaXMuY2FuY2VsQ2FsbGJhY2tzPXt9LGQoWyJyZWNlaXZlIiwicHJvY2VzcyJdLHRoaXMpLHRoaXMuaW52b2tlcj1uZXcgQ2wodGhpcy5wcm9jZXNzKSx0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnJlY2VpdmUsITEpLHRoaXMuZ2xvYmFsU2NvcGU9UygpP3Q6c2VsZjt9O2Z1bmN0aW9uIEVsKHQsZSxyKXt2YXIgbj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixyKTtyZXR1cm4gW3Qqbi0yKk1hdGguUEkqNjM3ODEzNy8yLGUqbi0yKk1hdGguUEkqNjM3ODEzNy8yXX1NbC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXM7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBvPU1hdGgucm91bmQoMWUxOCpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDAsMTApO3ImJih0aGlzLmNhbGxiYWNrc1tvXT1yKTt2YXIgcz16KHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXTtyZXR1cm4gdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOm8sdHlwZTp0LGhhc0NhbGxiYWNrOiEhcix0YXJnZXRNYXBJZDpuLG11c3RRdWV1ZTppLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZGF0YTpPbihlLHMpfSxzKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ciYmZGVsZXRlIGEuY2FsbGJhY2tzW29dLGEudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDpvLHR5cGU6IjxjYW5jZWw+Iix0YXJnZXRNYXBJZDpuLHNvdXJjZU1hcElkOmEubWFwSWR9KTt9fX0sTWwucHJvdG90eXBlLnJlY2VpdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhLHI9ZS5pZDtpZihyJiYoIWUudGFyZ2V0TWFwSWR8fHRoaXMubWFwSWQ9PT1lLnRhcmdldE1hcElkKSlpZigiPGNhbmNlbD4iPT09ZS50eXBlKXtkZWxldGUgdGhpcy50YXNrc1tyXTt2YXIgbj10aGlzLmNhbmNlbENhbGxiYWNrc1tyXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3Nbcl0sbiYmbigpO31lbHNlIFMoKXx8ZS5tdXN0UXVldWU/KHRoaXMudGFza3Nbcl09ZSx0aGlzLnRhc2tRdWV1ZS5wdXNoKHIpLHRoaXMuaW52b2tlci50cmlnZ2VyKCkpOnRoaXMucHJvY2Vzc1Rhc2socixlKTt9LE1sLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7aWYodGhpcy50YXNrUXVldWUubGVuZ3RoKXt2YXIgdD10aGlzLnRhc2tRdWV1ZS5zaGlmdCgpLGU9dGhpcy50YXNrc1t0XTtkZWxldGUgdGhpcy50YXNrc1t0XSx0aGlzLnRhc2tRdWV1ZS5sZW5ndGgmJnRoaXMuaW52b2tlci50cmlnZ2VyKCksZSYmdGhpcy5wcm9jZXNzVGFzayh0LGUpO319LE1sLnByb3RvdHlwZS5wcm9jZXNzVGFzaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7aWYoIjxyZXNwb25zZT4iPT09ZS50eXBlKXt2YXIgbj10aGlzLmNhbGxiYWNrc1t0XTtkZWxldGUgdGhpcy5jYWxsYmFja3NbdF0sbiYmKGUuZXJyb3I/bihVbihlLmVycm9yKSk6bihudWxsLFVuKGUuZGF0YSkpKTt9ZWxzZSB7dmFyIGk9ITEsYT16KHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXSxvPWUuaGFzQ2FsbGJhY2s/ZnVuY3Rpb24oZSxuKXtpPSEwLGRlbGV0ZSByLmNhbmNlbENhbGxiYWNrc1t0XSxyLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6dCx0eXBlOiI8cmVzcG9uc2U+Iixzb3VyY2VNYXBJZDpyLm1hcElkLGVycm9yOmU/T24oZSk6bnVsbCxkYXRhOk9uKG4sYSl9LGEpO306ZnVuY3Rpb24odCl7aT0hMDt9LHM9bnVsbCx1PVVuKGUuZGF0YSk7aWYodGhpcy5wYXJlbnRbZS50eXBlXSlzPXRoaXMucGFyZW50W2UudHlwZV0oZS5zb3VyY2VNYXBJZCx1LG8pO2Vsc2UgaWYodGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKXt2YXIgbD1lLnR5cGUuc3BsaXQoIi4iKTtzPXRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZShlLnNvdXJjZU1hcElkLGxbMF0sdS5zb3VyY2UpW2xbMV1dKHUsbyk7fWVsc2UgbyhuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uICIrZS50eXBlKSk7IWkmJnMmJnMuY2FuY2VsJiYodGhpcy5jYW5jZWxDYWxsYmFja3NbdF09cy5jYW5jZWwpO319LE1sLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmludm9rZXIucmVtb3ZlKCksdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5yZWNlaXZlLCExKTt9O3ZhciBUbD1mdW5jdGlvbih0LGUpe3QmJihlP3RoaXMuc2V0U291dGhXZXN0KHQpLnNldE5vcnRoRWFzdChlKTo0PT09dC5sZW5ndGg/dGhpcy5zZXRTb3V0aFdlc3QoW3RbMF0sdFsxXV0pLnNldE5vcnRoRWFzdChbdFsyXSx0WzNdXSk6dGhpcy5zZXRTb3V0aFdlc3QodFswXSkuc2V0Tm9ydGhFYXN0KHRbMV0pKTt9O1RsLnByb3RvdHlwZS5zZXROb3J0aEVhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25lPXQgaW5zdGFuY2VvZiBQbD9uZXcgUGwodC5sbmcsdC5sYXQpOlBsLmNvbnZlcnQodCksdGhpc30sVGwucHJvdG90eXBlLnNldFNvdXRoV2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3c9dCBpbnN0YW5jZW9mIFBsP25ldyBQbCh0LmxuZyx0LmxhdCk6UGwuY29udmVydCh0KSx0aGlzfSxUbC5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbj10aGlzLl9zdyxpPXRoaXMuX25lO2lmKHQgaW5zdGFuY2VvZiBQbCllPXQscj10O2Vsc2Uge2lmKCEodCBpbnN0YW5jZW9mIFRsKSlyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT80PT09dC5sZW5ndGh8fHQuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoVGwuY29udmVydCh0KSk6dGhpcy5leHRlbmQoUGwuY29udmVydCh0KSk6dGhpcztpZihyPXQuX25lLCEoZT10Ll9zdyl8fCFyKXJldHVybiB0aGlzfXJldHVybiBufHxpPyhuLmxuZz1NYXRoLm1pbihlLmxuZyxuLmxuZyksbi5sYXQ9TWF0aC5taW4oZS5sYXQsbi5sYXQpLGkubG5nPU1hdGgubWF4KHIubG5nLGkubG5nKSxpLmxhdD1NYXRoLm1heChyLmxhdCxpLmxhdCkpOih0aGlzLl9zdz1uZXcgUGwoZS5sbmcsZS5sYXQpLHRoaXMuX25lPW5ldyBQbChyLmxuZyxyLmxhdCkpLHRoaXN9LFRsLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBsKCh0aGlzLl9zdy5sbmcrdGhpcy5fbmUubG5nKS8yLCh0aGlzLl9zdy5sYXQrdGhpcy5fbmUubGF0KS8yKX0sVGwucHJvdG90eXBlLmdldFNvdXRoV2VzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zd30sVGwucHJvdG90eXBlLmdldE5vcnRoRWFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZX0sVGwucHJvdG90eXBlLmdldE5vcnRoV2VzdD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGwodGhpcy5nZXRXZXN0KCksdGhpcy5nZXROb3J0aCgpKX0sVGwucHJvdG90eXBlLmdldFNvdXRoRWFzdD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGwodGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX0sVGwucHJvdG90eXBlLmdldFdlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3cubG5nfSxUbC5wcm90b3R5cGUuZ2V0U291dGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3cubGF0fSxUbC5wcm90b3R5cGUuZ2V0RWFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZS5sbmd9LFRsLnByb3RvdHlwZS5nZXROb3J0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZS5sYXR9LFRsLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIFt0aGlzLl9zdy50b0FycmF5KCksdGhpcy5fbmUudG9BcnJheSgpXX0sVGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICJMbmdMYXRCb3VuZHMoIit0aGlzLl9zdy50b1N0cmluZygpKyIsICIrdGhpcy5fbmUudG9TdHJpbmcoKSsiKSJ9LFRsLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuICEodGhpcy5fc3cmJnRoaXMuX25lKX0sVGwucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3ZhciBlPVBsLmNvbnZlcnQodCkscj1lLmxuZyxuPWUubGF0LGk9dGhpcy5fc3cubG5nPD1yJiZyPD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihpPXRoaXMuX3N3LmxuZz49ciYmcj49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PW4mJm48PXRoaXMuX25lLmxhdCYmaX0sVGwuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gIXR8fHQgaW5zdGFuY2VvZiBUbD90Om5ldyBUbCh0KX07dmFyIFBsPWZ1bmN0aW9uKHQsZSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoIit0KyIsICIrZSsiKSIpO2lmKHRoaXMubG5nPSt0LHRoaXMubGF0PStlLHRoaXMubGF0PjkwfHx0aGlzLmxhdDwtOTApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExuZ0xhdCBsYXRpdHVkZSB2YWx1ZTogbXVzdCBiZSBiZXR3ZWVuIC05MCBhbmQgOTAiKX07UGwucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBsKGwodGhpcy5sbmcsLTE4MCwxODApLHRoaXMubGF0KX0sUGwucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMubG5nLHRoaXMubGF0XX0sUGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICJMbmdMYXQoIit0aGlzLmxuZysiLCAiK3RoaXMubGF0KyIpIn0sUGwucHJvdG90eXBlLmRpc3RhbmNlVG89ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5QSS8xODAscj10aGlzLmxhdCplLG49dC5sYXQqZSxpPU1hdGguc2luKHIpKk1hdGguc2luKG4pK01hdGguY29zKHIpKk1hdGguY29zKG4pKk1hdGguY29zKCh0LmxuZy10aGlzLmxuZykqZSk7cmV0dXJuIDYzNzEwMDguOCpNYXRoLmFjb3MoTWF0aC5taW4oaSwxKSl9LFBsLnByb3RvdHlwZS50b0JvdW5kcz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0wKTt2YXIgZT0zNjAqdC80MDA3NTAxNyxyPWUvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgVGwobmV3IFBsKHRoaXMubG5nLXIsdGhpcy5sYXQtZSksbmV3IFBsKHRoaXMubG5nK3IsdGhpcy5sYXQrZSkpfSxQbC5jb252ZXJ0PWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBQbClyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpJiYoMj09PXQubGVuZ3RofHwzPT09dC5sZW5ndGgpKXJldHVybiBuZXcgUGwoTnVtYmVyKHRbMF0pLE51bWJlcih0WzFdKSk7aWYoIUFycmF5LmlzQXJyYXkodCkmJiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQpcmV0dXJuIG5ldyBQbChOdW1iZXIoImxuZyJpbiB0P3QubG5nOnQubG9uKSxOdW1iZXIodC5sYXQpKTt0aHJvdyBuZXcgRXJyb3IoImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgYW4gb2JqZWN0IHtsb246IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl0iKX07dmFyIEJsPTIqTWF0aC5QSSo2MzcxMDA4Ljg7ZnVuY3Rpb24gVmwodCl7cmV0dXJuIEJsKk1hdGguY29zKHQqTWF0aC5QSS8xODApfWZ1bmN0aW9uIEZsKHQpe3JldHVybiAoMTgwK3QpLzM2MH1mdW5jdGlvbiBEbCh0KXtyZXR1cm4gKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdCpNYXRoLlBJLzM2MCkpKS8zNjB9ZnVuY3Rpb24gTGwodCxlKXtyZXR1cm4gdC9WbChlKX1mdW5jdGlvbiBSbCh0KXtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKnQpKk1hdGguUEkvMTgwKSktOTB9dmFyIE9sPWZ1bmN0aW9uKHQsZSxyKXt2b2lkIDA9PT1yJiYocj0wKSx0aGlzLng9K3QsdGhpcy55PStlLHRoaXMuej0rcjt9O09sLmZyb21MbmdMYXQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgcj1QbC5jb252ZXJ0KHQpO3JldHVybiBuZXcgT2woRmwoci5sbmcpLERsKHIubGF0KSxMbChlLHIubGF0KSl9LE9sLnByb3RvdHlwZS50b0xuZ0xhdD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGwoMzYwKnRoaXMueC0xODAsUmwodGhpcy55KSl9LE9sLnByb3RvdHlwZS50b0FsdGl0dWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueipWbChSbCh0aGlzLnkpKX0sT2wucHJvdG90eXBlLm1ldGVySW5NZXJjYXRvckNvb3JkaW5hdGVVbml0cz1mdW5jdGlvbigpe3JldHVybiAxL0JsKih0PVJsKHRoaXMueSksMS9NYXRoLmNvcyh0Kk1hdGguUEkvMTgwKSk7dmFyIHQ7fTt2YXIgVWw9ZnVuY3Rpb24odCxlLHIpe3RoaXMuej10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMua2V5PU5sKDAsdCx0LGUscik7fTtVbC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLno9PT10LnomJnRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxVbC5wcm90b3R5cGUudXJsPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEsbyxzPShuPXRoaXMueSxpPXRoaXMueixhPUVsKDI1Nioocj10aGlzLngpLDI1Nioobj1NYXRoLnBvdygyLGkpLW4tMSksaSksbz1FbCgyNTYqKHIrMSksMjU2KihuKzEpLGkpLGFbMF0rIiwiK2FbMV0rIiwiK29bMF0rIiwiK29bMV0pLHU9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbixpPSIiLGE9dDthPjA7YS0tKWkrPShlJihuPTE8PGEtMSk/MTowKSsociZuPzI6MCk7cmV0dXJuIGl9KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gdFsodGhpcy54K3RoaXMueSkldC5sZW5ndGhdLnJlcGxhY2UoIntwcmVmaXh9IiwodGhpcy54JTE2KS50b1N0cmluZygxNikrKHRoaXMueSUxNikudG9TdHJpbmcoMTYpKS5yZXBsYWNlKCJ7en0iLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKCJ7eH0iLFN0cmluZyh0aGlzLngpKS5yZXBsYWNlKCJ7eX0iLFN0cmluZygidG1zIj09PWU/TWF0aC5wb3coMix0aGlzLnopLXRoaXMueS0xOnRoaXMueSkpLnJlcGxhY2UoIntxdWFka2V5fSIsdSkucmVwbGFjZSgie2Jib3gtZXBzZy0zODU3fSIscyl9LFVsLnByb3RvdHlwZS5nZXRUaWxlUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5wb3coMix0aGlzLnopO3JldHVybiBuZXcgaSg4MTkyKih0LngqZS10aGlzLngpLDgxOTIqKHQueSplLXRoaXMueSkpfSxVbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56KyIvIit0aGlzLngrIi8iK3RoaXMueX07dmFyIGpsPWZ1bmN0aW9uKHQsZSl7dGhpcy53cmFwPXQsdGhpcy5jYW5vbmljYWw9ZSx0aGlzLmtleT1ObCh0LGUueixlLnosZS54LGUueSk7fSxxbD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMub3ZlcnNjYWxlZFo9dCx0aGlzLndyYXA9ZSx0aGlzLmNhbm9uaWNhbD1uZXcgVWwociwrbiwraSksdGhpcy5rZXk9TmwoZSx0LHIsbixpKTt9O2Z1bmN0aW9uIE5sKHQsZSxyLG4saSl7KHQqPTIpPDAmJih0PS0xKnQtMSk7dmFyIGE9MTw8cjtyZXR1cm4gKGEqYSp0K2EqaStuKS50b1N0cmluZygzNikrci50b1N0cmluZygzNikrZS50b1N0cmluZygzNil9cWwucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWj09PXQub3ZlcnNjYWxlZFomJnRoaXMud3JhcD09PXQud3JhcCYmdGhpcy5jYW5vbmljYWwuZXF1YWxzKHQuY2Fub25pY2FsKX0scWwucHJvdG90eXBlLnNjYWxlZFRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2Fub25pY2FsLnotdDtyZXR1cm4gdD50aGlzLmNhbm9uaWNhbC56P25ldyBxbCh0LHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk6bmV3IHFsKHQsdGhpcy53cmFwLHQsdGhpcy5jYW5vbmljYWwueD4+ZSx0aGlzLmNhbm9uaWNhbC55Pj5lKX0scWwucHJvdG90eXBlLmNhbGN1bGF0ZVNjYWxlZEtleT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuY2Fub25pY2FsLnotdDtyZXR1cm4gdD50aGlzLmNhbm9uaWNhbC56P05sKHRoaXMud3JhcCorZSx0LHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpObCh0aGlzLndyYXAqK2UsdCx0LHRoaXMuY2Fub25pY2FsLng+PnIsdGhpcy5jYW5vbmljYWwueT4+cil9LHFsLnByb3RvdHlwZS5pc0NoaWxkT2Y9ZnVuY3Rpb24odCl7aWYodC53cmFwIT09dGhpcy53cmFwKXJldHVybiAhMTt2YXIgZT10aGlzLmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLno7cmV0dXJuIDA9PT10Lm92ZXJzY2FsZWRafHx0Lm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJnQuY2Fub25pY2FsLng9PT10aGlzLmNhbm9uaWNhbC54Pj5lJiZ0LmNhbm9uaWNhbC55PT09dGhpcy5jYW5vbmljYWwueT4+ZX0scWwucHJvdG90eXBlLmNoaWxkcmVuPWZ1bmN0aW9uKHQpe2lmKHRoaXMub3ZlcnNjYWxlZFo+PXQpcmV0dXJuIFtuZXcgcWwodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO3ZhciBlPXRoaXMuY2Fub25pY2FsLnorMSxyPTIqdGhpcy5jYW5vbmljYWwueCxuPTIqdGhpcy5jYW5vbmljYWwueTtyZXR1cm4gW25ldyBxbChlLHRoaXMud3JhcCxlLHIsbiksbmV3IHFsKGUsdGhpcy53cmFwLGUscisxLG4pLG5ldyBxbChlLHRoaXMud3JhcCxlLHIsbisxKSxuZXcgcWwoZSx0aGlzLndyYXAsZSxyKzEsbisxKV19LHFsLnByb3RvdHlwZS5pc0xlc3NUaGFuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndyYXA8dC53cmFwfHwhKHRoaXMud3JhcD50LndyYXApJiYodGhpcy5vdmVyc2NhbGVkWjx0Lm92ZXJzY2FsZWRafHwhKHRoaXMub3ZlcnNjYWxlZFo+dC5vdmVyc2NhbGVkWikmJih0aGlzLmNhbm9uaWNhbC54PHQuY2Fub25pY2FsLnh8fCEodGhpcy5jYW5vbmljYWwueD50LmNhbm9uaWNhbC54KSYmdGhpcy5jYW5vbmljYWwueTx0LmNhbm9uaWNhbC55KSl9LHFsLnByb3RvdHlwZS53cmFwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxbCh0aGlzLm92ZXJzY2FsZWRaLDAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfSxxbC5wcm90b3R5cGUudW53cmFwVG89ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBxbCh0aGlzLm92ZXJzY2FsZWRaLHQsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfSxxbC5wcm90b3R5cGUub3ZlcnNjYWxlRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucG93KDIsdGhpcy5vdmVyc2NhbGVkWi10aGlzLmNhbm9uaWNhbC56KX0scWwucHJvdG90eXBlLnRvVW53cmFwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqbCh0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwpfSxxbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWisiLyIrdGhpcy5jYW5vbmljYWwueCsiLyIrdGhpcy5jYW5vbmljYWwueX0scWwucHJvdG90eXBlLmdldFRpbGVQb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW5vbmljYWwuZ2V0VGlsZVBvaW50KG5ldyBPbCh0LngtdGhpcy53cmFwLHQueSkpfSxGbigiQ2Fub25pY2FsVGlsZUlEIixVbCksRm4oIk92ZXJzY2FsZWRUaWxlSUQiLHFsLHtvbWl0OlsicG9zTWF0cml4Il19KTt2YXIgS2w9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMudWlkPXQsZS5oZWlnaHQhPT1lLndpZHRoKXRocm93IG5ldyBSYW5nZUVycm9yKCJERU0gdGlsZXMgbXVzdCBiZSBzcXVhcmUiKTtpZihyJiYibWFwYm94IiE9PXImJiJ0ZXJyYXJpdW0iIT09cilyZXR1cm4gdygnIicrcisnIiBpcyBub3QgYSB2YWxpZCBlbmNvZGluZyB0eXBlLiBWYWxpZCB0eXBlcyBpbmNsdWRlICJtYXBib3giIGFuZCAidGVycmFyaXVtIi4nKTt0aGlzLnN0cmlkZT1lLmhlaWdodDt2YXIgbj10aGlzLmRpbT1lLmhlaWdodC0yO3RoaXMuZGF0YT1uZXcgVWludDMyQXJyYXkoZS5kYXRhLmJ1ZmZlciksdGhpcy5lbmNvZGluZz1yfHwibWFwYm94Ijtmb3IodmFyIGk9MDtpPG47aSsrKXRoaXMuZGF0YVt0aGlzLl9pZHgoLTEsaSldPXRoaXMuZGF0YVt0aGlzLl9pZHgoMCxpKV0sdGhpcy5kYXRhW3RoaXMuX2lkeChuLGkpXT10aGlzLmRhdGFbdGhpcy5faWR4KG4tMSxpKV0sdGhpcy5kYXRhW3RoaXMuX2lkeChpLC0xKV09dGhpcy5kYXRhW3RoaXMuX2lkeChpLDApXSx0aGlzLmRhdGFbdGhpcy5faWR4KGksbildPXRoaXMuZGF0YVt0aGlzLl9pZHgoaSxuLTEpXTt0aGlzLmRhdGFbdGhpcy5faWR4KC0xLC0xKV09dGhpcy5kYXRhW3RoaXMuX2lkeCgwLDApXSx0aGlzLmRhdGFbdGhpcy5faWR4KG4sLTEpXT10aGlzLmRhdGFbdGhpcy5faWR4KG4tMSwwKV0sdGhpcy5kYXRhW3RoaXMuX2lkeCgtMSxuKV09dGhpcy5kYXRhW3RoaXMuX2lkeCgwLG4tMSldLHRoaXMuZGF0YVt0aGlzLl9pZHgobixuKV09dGhpcy5kYXRhW3RoaXMuX2lkeChuLTEsbi0xKV07fTtLbC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlciksbj00KnRoaXMuX2lkeCh0LGUpO3JldHVybiAoInRlcnJhcml1bSI9PT10aGlzLmVuY29kaW5nP3RoaXMuX3VucGFja1RlcnJhcml1bTp0aGlzLl91bnBhY2tNYXBib3gpKHJbbl0scltuKzFdLHJbbisyXSl9LEtsLnByb3RvdHlwZS5nZXRVbnBhY2tWZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gInRlcnJhcml1bSI9PT10aGlzLmVuY29kaW5nP1syNTYsMSwxLzI1NiwzMjc2OF06WzY1NTMuNiwyNS42LC4xLDFlNF19LEtsLnByb3RvdHlwZS5faWR4PWZ1bmN0aW9uKHQsZSl7aWYodDwtMXx8dD49dGhpcy5kaW0rMXx8ZTwtMXx8ZT49dGhpcy5kaW0rMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgREVNIGRhdGEiKTtyZXR1cm4gKGUrMSkqdGhpcy5zdHJpZGUrKHQrMSl9LEtsLnByb3RvdHlwZS5fdW5wYWNrTWFwYm94PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gKDI1Nip0KjI1NisyNTYqZStyKS8xMC0xZTR9LEtsLnByb3RvdHlwZS5fdW5wYWNrVGVycmFyaXVtPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMjU2KnQrZStyLzI1Ni0zMjc2OH0sS2wucHJvdG90eXBlLmdldFBpeGVscz1mdW5jdGlvbigpe3JldHVybiBuZXcgZm8oe3dpZHRoOnRoaXMuc3RyaWRlLGhlaWdodDp0aGlzLnN0cmlkZX0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcikpfSxLbC5wcm90b3R5cGUuYmFja2ZpbGxCb3JkZXI9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuZGltIT09dC5kaW0pdGhyb3cgbmV3IEVycm9yKCJkZW0gZGltZW5zaW9uIG1pc21hdGNoIik7dmFyIG49ZSp0aGlzLmRpbSxpPWUqdGhpcy5kaW0rdGhpcy5kaW0sYT1yKnRoaXMuZGltLG89cip0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2goZSl7Y2FzZS0xOm49aS0xO2JyZWFrO2Nhc2UgMTppPW4rMTt9c3dpdGNoKHIpe2Nhc2UtMTphPW8tMTticmVhaztjYXNlIDE6bz1hKzE7fWZvcih2YXIgcz0tZSp0aGlzLmRpbSx1PS1yKnRoaXMuZGltLGw9YTtsPG87bCsrKWZvcih2YXIgcD1uO3A8aTtwKyspdGhpcy5kYXRhW3RoaXMuX2lkeChwLGwpXT10LmRhdGFbdGhpcy5faWR4KHArcyxsK3UpXTt9LEZuKCJERU1EYXRhIixLbCk7dmFyIEdsPWZ1bmN0aW9uKHQpe3RoaXMuX3N0cmluZ1RvTnVtYmVyPXt9LHRoaXMuX251bWJlclRvU3RyaW5nPVtdO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW3JdPWUsdGhpcy5fbnVtYmVyVG9TdHJpbmdbZV09cjt9fTtHbC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdHJpbmdUb051bWJlclt0XX0sR2wucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbnVtYmVyVG9TdHJpbmdbdF19O3ZhciBabD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMudHlwZT0iRmVhdHVyZSIsdGhpcy5fdmVjdG9yVGlsZUZlYXR1cmU9dCx0Ll96PWUsdC5feD1yLHQuX3k9bix0aGlzLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzLHRoaXMuaWQ9aTt9LFhsPXtnZW9tZXRyeTp7Y29uZmlndXJhYmxlOiEwfX07WGwuZ2VvbWV0cnkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2dlb21ldHJ5JiYodGhpcy5fZ2VvbWV0cnk9dGhpcy5fdmVjdG9yVGlsZUZlYXR1cmUudG9HZW9KU09OKHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl94LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl95LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl96KS5nZW9tZXRyeSksdGhpcy5fZ2VvbWV0cnl9LFhsLmdlb21ldHJ5LnNldD1mdW5jdGlvbih0KXt0aGlzLl9nZW9tZXRyeT10O30sWmwucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtnZW9tZXRyeTp0aGlzLmdlb21ldHJ5fTtmb3IodmFyIGUgaW4gdGhpcykiX2dlb21ldHJ5IiE9PWUmJiJfdmVjdG9yVGlsZUZlYXR1cmUiIT09ZSYmKHRbZV09dGhpc1tlXSk7cmV0dXJuIHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFpsLnByb3RvdHlwZSxYbCk7dmFyIEpsPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17fSx0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e307fTtKbC5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPVN0cmluZyhlKTtpZih0aGlzLnN0YXRlQ2hhbmdlc1t0XT10aGlzLnN0YXRlQ2hhbmdlc1t0XXx8e30sdGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl09dGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl18fHt9LHAodGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl0sciksbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlmb3IodmFyIGkgaW4gdGhpcy5kZWxldGVkU3RhdGVzW3RdPXt9LHRoaXMuc3RhdGVbdF0paSE9PW4mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1baV09bnVsbCk7ZWxzZSBpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl0pZm9yKHZhciBhIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT17fSx0aGlzLnN0YXRlW3RdW25dKXJbYV18fCh0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bYV09bnVsbCk7ZWxzZSBmb3IodmFyIG8gaW4gcil0aGlzLmRlbGV0ZWRTdGF0ZXNbdF0mJnRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtvXSYmZGVsZXRlIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtvXTt9LEpsLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlLHIpe2lmKG51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pe3ZhciBuPVN0cmluZyhlKTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF09dGhpcy5kZWxldGVkU3RhdGVzW3RdfHx7fSxyJiZ2b2lkIDAhPT1lKW51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl0mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dfHx7fSx0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bcl09bnVsbCk7ZWxzZSBpZih2b2lkIDAhPT1lKWlmKHRoaXMuc3RhdGVDaGFuZ2VzW3RdJiZ0aGlzLnN0YXRlQ2hhbmdlc1t0XVtuXSlmb3IociBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09e30sdGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl0pdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW3JdPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1t0XT1udWxsO319LEpsLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbih0LGUpe3ZhciByPVN0cmluZyhlKSxuPXAoe30sKHRoaXMuc3RhdGVbdF18fHt9KVtyXSwodGhpcy5zdGF0ZUNoYW5nZXNbdF18fHt9KVtyXSk7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlyZXR1cm4ge307aWYodGhpcy5kZWxldGVkU3RhdGVzW3RdKXt2YXIgaT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bZV07aWYobnVsbD09PWkpcmV0dXJuIHt9O2Zvcih2YXIgYSBpbiBpKWRlbGV0ZSBuW2FdO31yZXR1cm4gbn0sSmwucHJvdG90eXBlLmluaXRpYWxpemVUaWxlU3RhdGU9ZnVuY3Rpb24odCxlKXt0LnNldEZlYXR1cmVTdGF0ZSh0aGlzLnN0YXRlLGUpO30sSmwucHJvdG90eXBlLmNvYWxlc2NlQ2hhbmdlcz1mdW5jdGlvbih0LGUpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiB0aGlzLnN0YXRlQ2hhbmdlcyl7dGhpcy5zdGF0ZVtuXT10aGlzLnN0YXRlW25dfHx7fTt2YXIgaT17fTtmb3IodmFyIGEgaW4gdGhpcy5zdGF0ZUNoYW5nZXNbbl0pdGhpcy5zdGF0ZVtuXVthXXx8KHRoaXMuc3RhdGVbbl1bYV09e30pLHAodGhpcy5zdGF0ZVtuXVthXSx0aGlzLnN0YXRlQ2hhbmdlc1tuXVthXSksaVthXT10aGlzLnN0YXRlW25dW2FdO3Jbbl09aTt9Zm9yKHZhciBvIGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVtvXT10aGlzLnN0YXRlW29dfHx7fTt2YXIgcz17fTtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW29dKWZvcih2YXIgdSBpbiB0aGlzLnN0YXRlW29dKXNbdV09e30sdGhpcy5zdGF0ZVtvXVt1XT17fTtlbHNlIGZvcih2YXIgbCBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbb10pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbb11bbF0pdGhpcy5zdGF0ZVtvXVtsXT17fTtlbHNlIGZvcih2YXIgYz0wLGg9T2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW29dW2xdKTtjPGgubGVuZ3RoO2MrPTEpZGVsZXRlIHRoaXMuc3RhdGVbb11bbF1baFtjXV07c1tsXT10aGlzLnN0YXRlW29dW2xdO31yW29dPXJbb118fHt9LHAocltvXSxzKTt9aWYodGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9LDAhPT1PYmplY3Qua2V5cyhyKS5sZW5ndGgpZm9yKHZhciBmIGluIHQpdFtmXS5zZXRGZWF0dXJlU3RhdGUocixlKTt9O3ZhciBIbD1mdW5jdGlvbih0LGUpe3RoaXMudGlsZUlEPXQsdGhpcy54PXQuY2Fub25pY2FsLngsdGhpcy55PXQuY2Fub25pY2FsLnksdGhpcy56PXQuY2Fub25pY2FsLnosdGhpcy5ncmlkPW5ldyBFbig4MTkyLDE2LDApLHRoaXMuZ3JpZDNEPW5ldyBFbig4MTkyLDE2LDApLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9bmV3IHJhLHRoaXMucHJvbW90ZUlkPWU7fTtmdW5jdGlvbiBZbCh0LGUscixuLGkpe3JldHVybiB2KHQsKGZ1bmN0aW9uKHQsYSl7dmFyIG89ZSBpbnN0YW5jZW9mIGhpP2UuZ2V0KGEpOm51bGw7cmV0dXJuIG8mJm8uZXZhbHVhdGU/by5ldmFsdWF0ZShyLG4saSk6b30pKX1mdW5jdGlvbiAkbCh0KXtmb3IodmFyIGU9MS8wLHI9MS8wLG49LTEvMCxpPS0xLzAsYT0wLG89dDthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV07ZT1NYXRoLm1pbihlLHMueCkscj1NYXRoLm1pbihyLHMueSksbj1NYXRoLm1heChuLHMueCksaT1NYXRoLm1heChpLHMueSk7fXJldHVybiB7bWluWDplLG1pblk6cixtYXhYOm4sbWF4WTppfX1mdW5jdGlvbiBXbCh0LGUpe3JldHVybiBlLXR9SGwucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLG4saSk7Zm9yKHZhciBzPWE/dGhpcy5ncmlkM0Q6dGhpcy5ncmlkLHU9MDt1PGUubGVuZ3RoO3UrKyl7Zm9yKHZhciBsPWVbdV0scD1bMS8wLDEvMCwtMS8wLC0xLzBdLGM9MDtjPGwubGVuZ3RoO2MrKyl7dmFyIGg9bFtjXTtwWzBdPU1hdGgubWluKHBbMF0saC54KSxwWzFdPU1hdGgubWluKHBbMV0saC55KSxwWzJdPU1hdGgubWF4KHBbMl0saC54KSxwWzNdPU1hdGgubWF4KHBbM10saC55KTt9cFswXTw4MTkyJiZwWzFdPDgxOTImJnBbMl0+PTAmJnBbM10+PTAmJnMuaW5zZXJ0KG8scFswXSxwWzFdLHBbMl0scFszXSk7fX0sSGwucHJvdG90eXBlLmxvYWRWVExheWVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ0TGF5ZXJzfHwodGhpcy52dExheWVycz1uZXcgZHMuVmVjdG9yVGlsZShuZXcgS3ModGhpcy5yYXdUaWxlRGF0YSkpLmxheWVycyx0aGlzLnNvdXJjZUxheWVyQ29kZXI9bmV3IEdsKHRoaXMudnRMYXllcnM/T2JqZWN0LmtleXModGhpcy52dExheWVycykuc29ydCgpOlsiX2dlb2pzb25UaWxlTGF5ZXIiXSkpLHRoaXMudnRMYXllcnN9LEhsLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUscixuKXt2YXIgYT10aGlzO3RoaXMubG9hZFZUTGF5ZXJzKCk7Zm9yKHZhciBvPXQucGFyYW1zfHx7fSxzPTgxOTIvdC50aWxlU2l6ZS90LnNjYWxlLHU9cm4oby5maWx0ZXIpLGw9dC5xdWVyeUdlb21ldHJ5LHA9dC5xdWVyeVBhZGRpbmcqcyxjPSRsKGwpLGg9dGhpcy5ncmlkLnF1ZXJ5KGMubWluWC1wLGMubWluWS1wLGMubWF4WCtwLGMubWF4WStwKSxmPSRsKHQuY2FtZXJhUXVlcnlHZW9tZXRyeSkseT10aGlzLmdyaWQzRC5xdWVyeShmLm1pblgtcCxmLm1pblktcCxmLm1heFgrcCxmLm1heFkrcCwoZnVuY3Rpb24oZSxyLG4sYSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLG4sYSl7Zm9yKHZhciBvPTAscz10O288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXTtpZihlPD11LngmJnI8PXUueSYmbj49dS54JiZhPj11LnkpcmV0dXJuICEwfXZhciBsPVtuZXcgaShlLHIpLG5ldyBpKGUsYSksbmV3IGkobixhKSxuZXcgaShuLHIpXTtpZih0Lmxlbmd0aD4yKWZvcih2YXIgcD0wLGM9bDtwPGMubGVuZ3RoO3ArPTEpaWYoWGEodCxjW3BdKSlyZXR1cm4gITA7Zm9yKHZhciBoPTA7aDx0Lmxlbmd0aC0xO2grKylpZihKYSh0W2hdLHRbaCsxXSxsKSlyZXR1cm4gITA7cmV0dXJuICExfSh0LmNhbWVyYVF1ZXJ5R2VvbWV0cnksZS1wLHItcCxuK3AsYStwKX0pKSxkPTAsbT15O2Q8bS5sZW5ndGg7ZCs9MSloLnB1c2gobVtkXSk7aC5zb3J0KFdsKTtmb3IodmFyIHYsZz17fSx4PWZ1bmN0aW9uKGkpe3ZhciBwPWhbaV07aWYocCE9PXYpe3Y9cDt2YXIgYz1hLmZlYXR1cmVJbmRleEFycmF5LmdldChwKSxmPW51bGw7YS5sb2FkTWF0Y2hpbmdGZWF0dXJlKGcsYy5idWNrZXRJbmRleCxjLnNvdXJjZUxheWVySW5kZXgsYy5mZWF0dXJlSW5kZXgsdSxvLmxheWVycyxvLmF2YWlsYWJsZUltYWdlcyxlLHIsbiwoZnVuY3Rpb24oZSxyLG4pe3JldHVybiBmfHwoZj1GYShlKSksci5xdWVyeUludGVyc2VjdHNGZWF0dXJlKGwsZSxuLGYsYS56LHQudHJhbnNmb3JtLHMsdC5waXhlbFBvc01hdHJpeCl9KSk7fX0sYj0wO2I8aC5sZW5ndGg7YisrKXgoYik7cmV0dXJuIGd9LEhsLnByb3RvdHlwZS5sb2FkTWF0Y2hpbmdGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCl7dmFyIGM9dGhpcy5idWNrZXRMYXllcklEc1tlXTtpZighYXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0oYSxjKSl7dmFyIGg9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShyKSxmPXRoaXMudnRMYXllcnNbaF0uZmVhdHVyZShuKTtpZihpLmZpbHRlcihuZXcgaWkodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGYpKWZvcih2YXIgeT10aGlzLmdldElkKGYsaCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgbT1jW2RdO2lmKCEoYSYmYS5pbmRleE9mKG0pPDApKXt2YXIgdj1zW21dO2lmKHYpe3ZhciBnPXt9O3ZvaWQgMCE9PXkmJmwmJihnPWwuZ2V0U3RhdGUodi5zb3VyY2VMYXllcnx8Il9nZW9qc29uVGlsZUxheWVyIix5KSk7dmFyIHg9dVttXTt4LnBhaW50PVlsKHgucGFpbnQsdi5wYWludCxmLGcsbykseC5sYXlvdXQ9WWwoeC5sYXlvdXQsdi5sYXlvdXQsZixnLG8pO3ZhciBiPSFwfHxwKGYsdixnKTtpZihiKXt2YXIgdz1uZXcgWmwoZix0aGlzLnosdGhpcy54LHRoaXMueSx5KTt3LmxheWVyPXg7dmFyIF89dFttXTt2b2lkIDA9PT1fJiYoXz10W21dPVtdKSxfLnB1c2goe2ZlYXR1cmVJbmRleDpuLGZlYXR1cmU6dyxpbnRlcnNlY3Rpb25aOmJ9KTt9fX19fX0sSGwucHJvdG90eXBlLmxvb2t1cFN5bWJvbEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7dmFyIHU9e307dGhpcy5sb2FkVlRMYXllcnMoKTtmb3IodmFyIGw9cm4oaSkscD0wLGM9dDtwPGMubGVuZ3RoO3ArPTEpdGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKHUscixuLGNbcF0sbCxhLG8scyxlKTtyZXR1cm4gdX0sSGwucHJvdG90eXBlLmhhc0xheWVyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5idWNrZXRMYXllcklEcztlPHIubGVuZ3RoO2UrPTEpZm9yKHZhciBuPTAsaT1yW2VdO248aS5sZW5ndGg7bis9MSlpZih0PT09aVtuXSlyZXR1cm4gITA7cmV0dXJuICExfSxIbC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmlkO3JldHVybiB0aGlzLnByb21vdGVJZCYmImJvb2xlYW4iPT10eXBlb2Yocj10LnByb3BlcnRpZXNbInN0cmluZyI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFtlXV0pJiYocj1OdW1iZXIocikpLHJ9LEZuKCJGZWF0dXJlSW5kZXgiLEhsLHtvbWl0OlsicmF3VGlsZURhdGEiLCJzb3VyY2VMYXllckNvZGVyIl19KTt2YXIgUWw9ZnVuY3Rpb24odCxlKXt0aGlzLnRpbGVJRD10LHRoaXMudWlkPWgoKSx0aGlzLnVzZXM9MCx0aGlzLnRpbGVTaXplPWUsdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT0ibG9hZGluZyI7fTtRbC5wcm90b3R5cGUucmVnaXN0ZXJGYWRlRHVyYXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dCt0aGlzLnRpbWVBZGRlZDtlPEQubm93KCl8fHRoaXMuZmFkZUVuZFRpbWUmJmU8dGhpcy5mYWRlRW5kVGltZXx8KHRoaXMuZmFkZUVuZFRpbWU9ZSk7fSxRbC5wcm90b3R5cGUud2FzUmVxdWVzdGVkPWZ1bmN0aW9uKCl7cmV0dXJuICJlcnJvcmVkIj09PXRoaXMuc3RhdGV8fCJsb2FkZWQiPT09dGhpcy5zdGF0ZXx8InJlbG9hZGluZyI9PT10aGlzLnN0YXRlfSxRbC5wcm90b3R5cGUubG9hZFZlY3RvckRhdGE9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuaGFzRGF0YSgpJiZ0aGlzLnVubG9hZFZlY3RvckRhdGEoKSx0aGlzLnN0YXRlPSJsb2FkZWQiLHQpe2Zvcih2YXIgbiBpbiB0LmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4LHQucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9dC5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtpZighZSlyZXR1cm4gcjtmb3IodmFyIG49ZnVuY3Rpb24oKXt2YXIgdD1hW2ldLG49dC5sYXllcklkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldExheWVyKHQpfSkpLmZpbHRlcihCb29sZWFuKTtpZigwIT09bi5sZW5ndGgpe3QubGF5ZXJzPW4sdC5zdGF0ZURlcGVuZGVudExheWVySWRzJiYodC5zdGF0ZURlcGVuZGVudExheWVycz10LnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKVswXX0pKSk7Zm9yKHZhciBvPTAscz1uO288cy5sZW5ndGg7bys9MSlyW3Nbb10uaWRdPXQ7fX0saT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpbigpO3JldHVybiByfSh0LmJ1Y2tldHMsZS5zdHlsZSksdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuYnVja2V0cyl7dmFyIGk9dGhpcy5idWNrZXRzW25dO2lmKGkgaW5zdGFuY2VvZiBjbCl7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFyKWJyZWFrO2kuanVzdFJlbG9hZGVkPSEwO319aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IodmFyIGEgaW4gdGhpcy5idWNrZXRzKXt2YXIgbz10aGlzLmJ1Y2tldHNbYV07aWYobyBpbnN0YW5jZW9mIGNsJiZvLmhhc1JUTFRleHQpe3RoaXMuaGFzUlRMVGV4dD0hMCxuaS5pc0xvYWRpbmcoKXx8bmkuaXNMb2FkZWQoKXx8ImRlZmVycmVkIiE9PWVpKCl8fHJpKCk7YnJlYWt9fWZvcih2YXIgcyBpbiB0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuYnVja2V0cyl7dmFyIHU9dGhpcy5idWNrZXRzW3NdO3RoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGUuc3R5bGUuZ2V0TGF5ZXIocykucXVlcnlSYWRpdXModSkpO310LmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9dC5pbWFnZUF0bGFzKSx0LmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPXQuZ2x5cGhBdGxhc0ltYWdlKTt9ZWxzZSB0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBKaTt9LFFsLnByb3RvdHlwZS51bmxvYWRWZWN0b3JEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYnVja2V0cyl0aGlzLmJ1Y2tldHNbdF0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlJiZ0aGlzLmltYWdlQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9bnVsbCksdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSYmdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9bnVsbCx0aGlzLnN0YXRlPSJ1bmxvYWRlZCI7fSxRbC5wcm90b3R5cGUuZ2V0QnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJ1Y2tldHNbdC5pZF19LFFsLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYnVja2V0cyl7dmFyIHI9dGhpcy5idWNrZXRzW2VdO3IudXBsb2FkUGVuZGluZygpJiZyLnVwbG9hZCh0KTt9dmFyIG49dC5nbDt0aGlzLmltYWdlQXRsYXMmJiF0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQmJih0aGlzLmltYWdlQXRsYXNUZXh0dXJlPW5ldyB6bCh0LHRoaXMuaW1hZ2VBdGxhcy5pbWFnZSxuLlJHQkEpLHRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZD0hMCksdGhpcy5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlPW5ldyB6bCh0LHRoaXMuZ2x5cGhBdGxhc0ltYWdlLG4uQUxQSEEpLHRoaXMuZ2x5cGhBdGxhc0ltYWdlPW51bGwpO30sUWwucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7dGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0Y2hVcGRhdGVkSW1hZ2VzKHQsdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSk7fSxRbC5wcm90b3R5cGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwpe3JldHVybiB0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE/dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucXVlcnkoe3F1ZXJ5R2VvbWV0cnk6bixjYW1lcmFRdWVyeUdlb21ldHJ5Omksc2NhbGU6YSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHBpeGVsUG9zTWF0cml4OmwsdHJhbnNmb3JtOnMscGFyYW1zOm8scXVlcnlQYWRkaW5nOnRoaXMucXVlcnlQYWRkaW5nKnV9LHQsZSxyKTp7fX0sUWwucHJvdG90eXBlLnF1ZXJ5U291cmNlRmVhdHVyZXM9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZihyJiZyLnJhd1RpbGVEYXRhKXt2YXIgbj1yLmxvYWRWVExheWVycygpLGk9ZT9lLnNvdXJjZUxheWVyOiIiLGE9bi5fZ2VvanNvblRpbGVMYXllcnx8bltpXTtpZihhKWZvcih2YXIgbz1ybihlJiZlLmZpbHRlcikscz10aGlzLnRpbGVJRC5jYW5vbmljYWwsdT1zLnosbD1zLngscD1zLnksYz17ejp1LHg6bCx5OnB9LGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIGY9YS5mZWF0dXJlKGgpO2lmKG8uZmlsdGVyKG5ldyBpaSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZikpe3ZhciB5PXIuZ2V0SWQoZixpKSxkPW5ldyBabChmLHUsbCxwLHkpO2QudGlsZT1jLHQucHVzaChkKTt9fX19LFFsLnByb3RvdHlwZS5oYXNEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkZWQiPT09dGhpcy5zdGF0ZXx8InJlbG9hZGluZyI9PT10aGlzLnN0YXRlfHwiZXhwaXJlZCI9PT10aGlzLnN0YXRlfSxRbC5wcm90b3R5cGUucGF0dGVybnNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZUF0bGFzJiYhIU9iamVjdC5rZXlzKHRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zKS5sZW5ndGh9LFFsLnByb3RvdHlwZS5zZXRFeHBpcnlEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZXhwaXJhdGlvblRpbWU7aWYodC5jYWNoZUNvbnRyb2wpe3ZhciByPWsodC5jYWNoZUNvbnRyb2wpO3JbIm1heC1hZ2UiXSYmKHRoaXMuZXhwaXJhdGlvblRpbWU9RGF0ZS5ub3coKSsxZTMqclsibWF4LWFnZSJdKTt9ZWxzZSB0LmV4cGlyZXMmJih0aGlzLmV4cGlyYXRpb25UaW1lPW5ldyBEYXRlKHQuZXhwaXJlcykuZ2V0VGltZSgpKTtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXt2YXIgbj1EYXRlLm5vdygpLGk9ITE7aWYodGhpcy5leHBpcmF0aW9uVGltZT5uKWk9ITE7ZWxzZSBpZihlKWlmKHRoaXMuZXhwaXJhdGlvblRpbWU8ZSlpPSEwO2Vsc2Uge3ZhciBhPXRoaXMuZXhwaXJhdGlvblRpbWUtZTthP3RoaXMuZXhwaXJhdGlvblRpbWU9bitNYXRoLm1heChhLDNlNCk6aT0hMDt9ZWxzZSBpPSEwO2k/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9ImV4cGlyZWQiKTp0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MDt9fSxRbC5wcm90b3R5cGUuZ2V0RXhwaXJ5VGltZW91dD1mdW5jdGlvbigpe2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpcmV0dXJuIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD8xZTMqKDE8PE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudC0xLDMxKSk6TWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZS0obmV3IERhdGUpLmdldFRpbWUoKSxNYXRoLnBvdygyLDMxKS0xKX0sUWwucHJvdG90eXBlLnNldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YSYmMCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aCl7dmFyIHI9dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgubG9hZFZUTGF5ZXJzKCk7Zm9yKHZhciBuIGluIHRoaXMuYnVja2V0cylpZihlLnN0eWxlLmhhc0xheWVyKG4pKXt2YXIgaT10aGlzLmJ1Y2tldHNbbl0sYT1pLmxheWVyc1swXS5zb3VyY2VMYXllcnx8Il9nZW9qc29uVGlsZUxheWVyIixvPXJbYV0scz10W2FdO2lmKG8mJnMmJjAhPT1PYmplY3Qua2V5cyhzKS5sZW5ndGgpe2kudXBkYXRlKHMsbyx0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zfHx7fSk7dmFyIHU9ZSYmZS5zdHlsZSYmZS5zdHlsZS5nZXRMYXllcihuKTt1JiZ1LnBhaW50JiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsdS5xdWVyeVJhZGl1cyhpKSkpO319fX0sUWwucHJvdG90eXBlLmhvbGRpbmdGb3JGYWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbH0sUWwucHJvdG90eXBlLnN5bWJvbEZhZGVGaW5pc2hlZD1mdW5jdGlvbigpe3JldHVybiAhdGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfHx0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw8RC5ub3coKX0sUWwucHJvdG90eXBlLmNsZWFyRmFkZUhvbGQ9ZnVuY3Rpb24oKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9dm9pZCAwO30sUWwucHJvdG90eXBlLnNldEhvbGREdXJhdGlvbj1mdW5jdGlvbih0KXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9RC5ub3coKSt0O30sUWwucHJvdG90eXBlLnNldERlcGVuZGVuY2llcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj17fSxuPTAsaT1lO248aS5sZW5ndGg7bis9MSlyW2lbbl1dPSEwO3RoaXMuZGVwZW5kZW5jaWVzW3RdPXI7fSxRbC5wcm90b3R5cGUuaGFzRGVwZW5kZW5jeT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49dDtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPXRoaXMuZGVwZW5kZW5jaWVzW25bcl1dO2lmKGkpZm9yKHZhciBhPTAsbz1lO2E8by5sZW5ndGg7YSs9MSlpZihpW29bYV1dKXJldHVybiAhMH1yZXR1cm4gITF9O3ZhciB0cD1zZWxmLnBlcmZvcm1hbmNlLGVwPWZ1bmN0aW9uKHQpe3RoaXMuX21hcmtzPXtzdGFydDpbdC51cmwsInN0YXJ0Il0uam9pbigiIyIpLGVuZDpbdC51cmwsImVuZCJdLmpvaW4oIiMiKSxtZWFzdXJlOnQudXJsLnRvU3RyaW5nKCl9LHRwLm1hcmsodGhpcy5fbWFya3Muc3RhcnQpO307ZXAucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3RwLm1hcmsodGhpcy5fbWFya3MuZW5kKTt2YXIgdD10cC5nZXRFbnRyaWVzQnlOYW1lKHRoaXMuX21hcmtzLm1lYXN1cmUpO3JldHVybiAwPT09dC5sZW5ndGgmJih0cC5tZWFzdXJlKHRoaXMuX21hcmtzLm1lYXN1cmUsdGhpcy5fbWFya3Muc3RhcnQsdGhpcy5fbWFya3MuZW5kKSx0PXRwLmdldEVudHJpZXNCeU5hbWUodGhpcy5fbWFya3MubWVhc3VyZSksdHAuY2xlYXJNYXJrcyh0aGlzLl9tYXJrcy5zdGFydCksdHAuY2xlYXJNYXJrcyh0aGlzLl9tYXJrcy5lbmQpLHRwLmNsZWFyTWVhc3VyZXModGhpcy5fbWFya3MubWVhc3VyZSkpLHR9LHQuQWN0b3I9TWwsdC5BbHBoYUltYWdlPWhvLHQuQ2Fub25pY2FsVGlsZUlEPVVsLHQuQ29sbGlzaW9uQm94QXJyYXk9SmksdC5Db2xvcj0kdCx0LkRFTURhdGE9S2wsdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eT1maSx0LkRpY3Rpb25hcnlDb2Rlcj1HbCx0LkVYVEVOVD04MTkyLHQuRXJyb3JFdmVudD1TdCx0LkV2YWx1YXRpb25QYXJhbWV0ZXJzPWlpLHQuRXZlbnQ9QXQsdC5FdmVudGVkPWt0LHQuRmVhdHVyZUluZGV4PUhsLHQuRmlsbEJ1Y2tldD1ycyx0LkZpbGxFeHRydXNpb25CdWNrZXQ9eHMsdC5JbWFnZUF0bGFzPXl1LHQuSW1hZ2VQb3NpdGlvbj1odSx0LkxpbmVCdWNrZXQ9TXMsdC5MbmdMYXQ9UGwsdC5MbmdMYXRCb3VuZHM9VGwsdC5NZXJjYXRvckNvb3JkaW5hdGU9T2wsdC5PTkVfRU09MjQsdC5PdmVyc2NhbGVkVGlsZUlEPXFsLHQuUG9pbnQ9aSx0LlBvaW50JDE9aSx0LlByb3BlcnRpZXM9Z2ksdC5Qcm90b2J1Zj1Lcyx0LlJHQkFJbWFnZT1mbyx0LlJlcXVlc3RNYW5hZ2VyPU4sdC5SZXF1ZXN0UGVyZm9ybWFuY2U9ZXAsdC5SZXNvdXJjZVR5cGU9aHQsdC5TZWdtZW50VmVjdG9yPWlhLHQuU291cmNlRmVhdHVyZVN0YXRlPUpsLHQuU3RydWN0QXJyYXlMYXlvdXQxdWkyPUtpLHQuU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNj1GaSx0LlN0cnVjdEFycmF5TGF5b3V0Mmk0PWtpLHQuU3RydWN0QXJyYXlMYXlvdXQzdWk2PUxpLHQuU3RydWN0QXJyYXlMYXlvdXQ0aTg9SWksdC5TeW1ib2xCdWNrZXQ9Y2wsdC5UZXh0dXJlPXpsLHQuVGlsZT1RbCx0LlRyYW5zaXRpb25hYmxlPXNpLHQuVW5pZm9ybTFmPXZhLHQuVW5pZm9ybTFpPW1hLHQuVW5pZm9ybTJmPWdhLHQuVW5pZm9ybTNmPXhhLHQuVW5pZm9ybTRmPWJhLHQuVW5pZm9ybUNvbG9yPXdhLHQuVW5pZm9ybU1hdHJpeDRmPUFhLHQuVW53cmFwcGVkVGlsZUlEPWpsLHQuVmFsaWRhdGlvbkVycm9yPXp0LHQuV3JpdGluZ01vZGU9ZHUsdC5ab29tSGlzdG9yeT1qbix0LmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHR9LHQuYWRkRHluYW1pY0F0dHJpYnV0ZXM9c2wsdC5hc3luY0FsbD1mdW5jdGlvbih0LGUscil7aWYoIXQubGVuZ3RoKXJldHVybiByKG51bGwsW10pO3ZhciBuPXQubGVuZ3RoLGk9bmV3IEFycmF5KHQubGVuZ3RoKSxhPW51bGw7dC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe2UodCwoZnVuY3Rpb24odCxlKXt0JiYoYT10KSxpW29dPWUsMD09LS1uJiZyKGEsaSk7fSkpO30pKTt9LHQuYmV6aWVyPW8sdC5iaW5kQWxsPWQsdC5icm93c2VyPUQsdC5jYWNoZUVudHJ5UG9zc2libHlBZGRlZD1mdW5jdGlvbih0KXsrK3B0Pm90JiYodC5nZXRBY3RvcigpLnNlbmQoImVuZm9yY2VDYWNoZVNpemVMaW1pdCIsYXQpLHB0PTApO30sdC5jbGFtcD11LHQuY2xlYXJUaWxlQ2FjaGU9ZnVuY3Rpb24odCl7dmFyIGU9c2VsZi5jYWNoZXMuZGVsZXRlKCJtYXBib3gtdGlsZXMiKTt0JiZlLmNhdGNoKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQoKX0pKTt9LHQuY2xpcExpbmU9VXUsdC5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdG8oMTYpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sdC5jbG9uZSQxPXgsdC5jbG9uZSQyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0bygzKTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZX0sdC5jb2xsaXNpb25DaXJjbGVMYXlvdXQ9T3MsdC5jb25maWc9TCx0LmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB0bygxNik7cmV0dXJuIHRvIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTApLHRbMF09MSx0WzVdPTEsdFsxMF09MSx0WzE1XT0xLHR9LHQuY3JlYXRlJDE9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgdG8oOSk7cmV0dXJuIHRvIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzVdPTAsdFs2XT0wLHRbN109MCksdFswXT0xLHRbNF09MSx0WzhdPTEsdH0sdC5jcmVhdGUkMj1mdW5jdGlvbigpe3ZhciB0PW5ldyB0byg0KTtyZXR1cm4gdG8hPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTApLHRbMF09MSx0WzNdPTEsdH0sdC5jcmVhdGVDb21tb25qc01vZHVsZT1lLHQuY3JlYXRlRXhwcmVzc2lvbj1Ocix0LmNyZWF0ZUxheW91dD1BaSx0LmNyZWF0ZVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7cmV0dXJuICJjdXN0b20iPT09dC50eXBlP25ldyBibCh0KTpuZXcgd2xbdC50eXBlXSh0KX0sdC5jcm9zcz1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89clswXSxzPXJbMV0sdT1yWzJdO3JldHVybiB0WzBdPWkqdS1hKnMsdFsxXT1hKm8tbip1LHRbMl09bipzLWkqbyx0fSx0LmRlZXBFcXVhbD1mdW5jdGlvbiB0KGUscil7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoIUFycmF5LmlzQXJyYXkocil8fGUubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuICExO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKCF0KGVbbl0scltuXSkpcmV0dXJuICExO3JldHVybiAhMH1pZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT09cil7aWYoIm9iamVjdCIhPXR5cGVvZiByKXJldHVybiAhMTtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuICExO2Zvcih2YXIgaSBpbiBlKWlmKCF0KGVbaV0scltpXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gZT09PXJ9LHQuZG90PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdfSx0LmRvdCQxPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdK3RbM10qZVszXX0sdC5lYXNlPXMsdC5lbWl0VmFsaWRhdGlvbkVycm9ycz1Nbix0LmVuZHNXaXRoPW0sdC5lbmZvcmNlQ2FjaGVTaXplTGltaXQ9ZnVuY3Rpb24odCl7c3QoKSxXJiZXLnRoZW4oKGZ1bmN0aW9uKGUpe2Uua2V5cygpLnRoZW4oKGZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ci5sZW5ndGgtdDtuKyspZS5kZWxldGUocltuXSk7fSkpO30pKTt9LHQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZT1UdSx0LmV2YWx1YXRlU2l6ZUZvclpvb209UHUsdC5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0PVF1LHQuZXZlbnRlZD10aSx0LmV4dGVuZD1wLHQuZmVhdHVyZUZpbHRlcj1ybix0LmZpbHRlck9iamVjdD1nLHQuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtyZXR1cm4gdFswXT1uLHRbMV09cix0WzJdPTAsdFszXT0tcix0WzRdPW4sdFs1XT0wLHRbNl09MCx0WzddPTAsdFs4XT0xLHR9LHQuZ2V0QW5jaG9yQWxpZ25tZW50PUl1LHQuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbj10bCx0LmdldEFycmF5QnVmZmVyPWd0LHQuZ2V0SW1hZ2U9YnQsdC5nZXRKU09OPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZ0KHAodCx7dHlwZToianNvbiJ9KSxlKX0sdC5nZXRSVExUZXh0UGx1Z2luU3RhdHVzPWVpLHQuZ2V0UmVmZXJyZXI9eXQsdC5nZXRWaWRlbz1mdW5jdGlvbih0LGUpe3ZhciByLG4saT1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7aS5tdXRlZD0hMCxpLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7ZShudWxsLGkpO307Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBvPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic291cmNlIik7cj10W2FdLG49dm9pZCAwLChuPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPXIsKG4ucHJvdG9jb2whPT1zZWxmLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfHxuLmhvc3QhPT1zZWxmLmRvY3VtZW50LmxvY2F0aW9uLmhvc3QpJiYoaS5jcm9zc09yaWdpbj0iQW5vbnltb3VzIiksby5zcmM9dFthXSxpLmFwcGVuZENoaWxkKG8pO31yZXR1cm4ge2NhbmNlbDpmdW5jdGlvbigpe319fSx0LmlkZW50aXR5PWVvLHQuaW52ZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXSxvPWVbNF0scz1lWzVdLHU9ZVs2XSxsPWVbN10scD1lWzhdLGM9ZVs5XSxoPWVbMTBdLGY9ZVsxMV0seT1lWzEyXSxkPWVbMTNdLG09ZVsxNF0sdj1lWzE1XSxnPXIqcy1uKm8seD1yKnUtaSpvLGI9cipsLWEqbyx3PW4qdS1pKnMsXz1uKmwtYSpzLEE9aSpsLWEqdSxTPXAqZC1jKnksaz1wKm0taCp5LEk9cCp2LWYqeSx6PWMqbS1oKmQsQz1jKnYtZipkLE09aCp2LWYqbSxFPWcqTS14KkMrYip6K3cqSS1fKmsrQSpTO3JldHVybiBFPyh0WzBdPShzKk0tdSpDK2wqeikqKEU9MS9FKSx0WzFdPShpKkMtbipNLWEqeikqRSx0WzJdPShkKkEtbSpfK3YqdykqRSx0WzNdPShoKl8tYypBLWYqdykqRSx0WzRdPSh1KkktbypNLWwqaykqRSx0WzVdPShyKk0taSpJK2EqaykqRSx0WzZdPShtKmIteSpBLXYqeCkqRSx0WzddPShwKkEtaCpiK2YqeCkqRSx0WzhdPShvKkMtcypJK2wqUykqRSx0WzldPShuKkktcipDLWEqUykqRSx0WzEwXT0oeSpfLWQqYit2KmcpKkUsdFsxMV09KGMqYi1wKl8tZipnKSpFLHRbMTJdPShzKmstbyp6LXUqUykqRSx0WzEzXT0ocip6LW4qaytpKlMpKkUsdFsxNF09KGQqeC15KnctbSpnKSpFLHRbMTVdPShwKnctYyp4K2gqZykqRSx0KTpudWxsfSx0LmlzQ2hhcj1xbix0LmlzTWFwYm94VVJMPUssdC5rZXlzRGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0KW4gaW4gZXx8ci5wdXNoKG4pO3JldHVybiByfSx0Lm1ha2VSZXF1ZXN0PXZ0LHQubWFwT2JqZWN0PXYsdC5tZXJjYXRvclhmcm9tTG5nPUZsLHQubWVyY2F0b3JZZnJvbUxhdD1EbCx0Lm1lcmNhdG9yWmZyb21BbHRpdHVkZT1MbCx0Lm11bD1pbyx0Lm11bHRpcGx5PXJvLHQubXZ0PWRzLHQubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9cipyK24qbitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9LHQubnVtYmVyPWplLHQub2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkPWN0LHQub3J0aG89ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9MS8oZS1yKSx1PTEvKG4taSksbD0xLyhhLW8pO3JldHVybiB0WzBdPS0yKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09LTIqdSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MipsLHRbMTFdPTAsdFsxMl09KGUrcikqcyx0WzEzXT0oaStuKSp1LHRbMTRdPShvK2EpKmwsdFsxNV09MSx0fSx0LnBhcnNlR2x5cGhQQkY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBLcyh0KS5yZWFkRmllbGRzKHV1LFtdKX0sdC5wYmY9S3MsdC5wZXJmb3JtU3ltYm9sTGF5b3V0PWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3QuY3JlYXRlQXJyYXlzKCksdC50aWxlUGl4ZWxSYXRpbz04MTkyLyg1MTIqdC5vdmVyc2NhbGluZyksdC5jb21wYXJlVGV4dD17fSx0Lmljb25zTmVlZExpbmVhcj0hMTt2YXIgcz10LmxheWVyc1swXS5sYXlvdXQsdT10LmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlcyxsPXt9O2lmKCJjb21wb3NpdGUiPT09dC50ZXh0U2l6ZURhdGEua2luZCl7dmFyIHA9dC50ZXh0U2l6ZURhdGEsYz1wLm1heFpvb207bC5jb21wb3NpdGVUZXh0U2l6ZXM9W3VbInRleHQtc2l6ZSJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGlpKHAubWluWm9vbSksbyksdVsidGV4dC1zaXplIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgaWkoYyksbyldO31pZigiY29tcG9zaXRlIj09PXQuaWNvblNpemVEYXRhLmtpbmQpe3ZhciBoPXQuaWNvblNpemVEYXRhLGY9aC5tYXhab29tO2wuY29tcG9zaXRlSWNvblNpemVzPVt1WyJpY29uLXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaShoLm1pblpvb20pLG8pLHVbImljb24tc2l6ZSJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGlpKGYpLG8pXTt9bC5sYXlvdXRUZXh0U2l6ZT11WyJ0ZXh0LXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaSh0Lnpvb20rMSksbyksbC5sYXlvdXRJY29uU2l6ZT11WyJpY29uLXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaSh0Lnpvb20rMSksbyksbC50ZXh0TWF4U2l6ZT11WyJ0ZXh0LXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBpaSgxOCkpO2Zvcih2YXIgeT0yNCpzLmdldCgidGV4dC1saW5lLWhlaWdodCIpLGQ9Im1hcCI9PT1zLmdldCgidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmInBvaW50IiE9PXMuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IiksbT1zLmdldCgidGV4dC1rZWVwLXVwcmlnaHQiKSx2PXMuZ2V0KCJ0ZXh0LXNpemUiKSxnPWZ1bmN0aW9uKCl7dmFyIGE9Ylt4XSx1PXMuZ2V0KCJ0ZXh0LWZvbnQiKS5ldmFsdWF0ZShhLHt9LG8pLmpvaW4oIiwiKSxwPXYuZXZhbHVhdGUoYSx7fSxvKSxjPWwubGF5b3V0VGV4dFNpemUuZXZhbHVhdGUoYSx7fSxvKSxoPWwubGF5b3V0SWNvblNpemUuZXZhbHVhdGUoYSx7fSxvKSxmPXtob3Jpem9udGFsOnt9LHZlcnRpY2FsOnZvaWQgMH0sZz1hLnRleHQsXz1bMCwwXTtpZihnKXt2YXIgQT1nLnRvU3RyaW5nKCksUz0yNCpzLmdldCgidGV4dC1sZXR0ZXItc3BhY2luZyIpLmV2YWx1YXRlKGEse30sbyksaz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKWlmKG49cltlXS5jaGFyQ29kZUF0KDApLHFuLkFyYWJpYyhuKXx8cW5bIkFyYWJpYyBTdXBwbGVtZW50Il0obil8fHFuWyJBcmFiaWMgRXh0ZW5kZWQtQSJdKG4pfHxxblsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIl0obil8fHFuWyJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiXShuKSlyZXR1cm4gITE7dmFyIG47cmV0dXJuICEwfShBKT9TOjAsST1zLmdldCgidGV4dC1hbmNob3IiKS5ldmFsdWF0ZShhLHt9LG8pLHo9cy5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIik7aWYoIXope3ZhciBDPXMuZ2V0KCJ0ZXh0LXJhZGlhbC1vZmZzZXQiKS5ldmFsdWF0ZShhLHt9LG8pO189Qz9RdShJLFsyNCpDLFd1XSk6cy5nZXQoInRleHQtb2Zmc2V0IikuZXZhbHVhdGUoYSx7fSxvKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyNCp0fSkpO312YXIgTT1kPyJjZW50ZXIiOnMuZ2V0KCJ0ZXh0LWp1c3RpZnkiKS5ldmFsdWF0ZShhLHt9LG8pLEU9cy5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSxUPSJwb2ludCI9PT1FPzI0KnMuZ2V0KCJ0ZXh0LW1heC13aWR0aCIpLmV2YWx1YXRlKGEse30sbyk6MCxQPWZ1bmN0aW9uKCl7dC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZObihBKSYmKGYudmVydGljYWw9Z3UoZyxlLHIsaSx1LFQseSxJLCJsZWZ0IixrLF8sZHUudmVydGljYWwsITAsRSxjLHApKTt9O2lmKCFkJiZ6KXtmb3IodmFyIEI9ImF1dG8iPT09TT96Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRsKHQpfSkpOltNXSxWPSExLEY9MDtGPEIubGVuZ3RoO0YrKyl7dmFyIEQ9QltGXTtpZighZi5ob3Jpem9udGFsW0RdKWlmKFYpZi5ob3Jpem9udGFsW0RdPWYuaG9yaXpvbnRhbFswXTtlbHNlIHt2YXIgTD1ndShnLGUscixpLHUsVCx5LCJjZW50ZXIiLEQsayxfLGR1Lmhvcml6b250YWwsITEsRSxjLHApO0wmJihmLmhvcml6b250YWxbRF09TCxWPTE9PT1MLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpO319UCgpO31lbHNlIHsiYXV0byI9PT1NJiYoTT10bChJKSk7dmFyIFI9Z3UoZyxlLHIsaSx1LFQseSxJLE0sayxfLGR1Lmhvcml6b250YWwsITEsRSxjLHApO1ImJihmLmhvcml6b250YWxbTV09UiksUCgpLE5uKEEpJiZkJiZtJiYoZi52ZXJ0aWNhbD1ndShnLGUscixpLHUsVCx5LEksTSxrLF8sZHUudmVydGljYWwsITEsRSxjLHApKTt9fXZhciBPPXZvaWQgMCxVPSExO2lmKGEuaWNvbiYmYS5pY29uLm5hbWUpe3ZhciBqPW5bYS5pY29uLm5hbWVdO2omJihPPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1JdShyKSxpPWVbMF0tdC5kaXNwbGF5U2l6ZVswXSpuLmhvcml6b250YWxBbGlnbixhPWVbMV0tdC5kaXNwbGF5U2l6ZVsxXSpuLnZlcnRpY2FsQWxpZ247cmV0dXJuIHtpbWFnZTp0LHRvcDphLGJvdHRvbTphK3QuZGlzcGxheVNpemVbMV0sbGVmdDppLHJpZ2h0OmkrdC5kaXNwbGF5U2l6ZVswXX19KGlbYS5pY29uLm5hbWVdLHMuZ2V0KCJpY29uLW9mZnNldCIpLmV2YWx1YXRlKGEse30sbykscy5nZXQoImljb24tYW5jaG9yIikuZXZhbHVhdGUoYSx7fSxvKSksVT1qLnNkZix2b2lkIDA9PT10LnNkZkljb25zP3Quc2RmSWNvbnM9ai5zZGY6dC5zZGZJY29ucyE9PWouc2RmJiZ3KCJTdHlsZSBzaGVldCB3YXJuaW5nOiBDYW5ub3QgbWl4IFNERiBhbmQgbm9uLVNERiBpY29ucyBpbiBvbmUgYnVmZmVyIiksKGoucGl4ZWxSYXRpbyE9PXQucGl4ZWxSYXRpb3x8MCE9PXMuZ2V0KCJpY29uLXJvdGF0ZSIpLmNvbnN0YW50T3IoMSkpJiYodC5pY29uc05lZWRMaW5lYXI9ITApKTt9dmFyIHE9cmwoZi5ob3Jpem9udGFsKXx8Zi52ZXJ0aWNhbDt0Lmljb25zSW5UZXh0PSEhcSYmcS5pY29uc0luVGV4dCwocXx8TykmJmZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCl7dmFyIGM9YS50ZXh0TWF4U2l6ZS5ldmFsdWF0ZShlLHt9KTt2b2lkIDA9PT1jJiYoYz1vKTt2YXIgaCxmPXQubGF5ZXJzWzBdLmxheW91dCx5PWYuZ2V0KCJpY29uLW9mZnNldCIpLmV2YWx1YXRlKGUse30scCksZD1ybChyLmhvcml6b250YWwpLG09by8yNCx2PXQudGlsZVBpeGVsUmF0aW8qbSxnPXQudGlsZVBpeGVsUmF0aW8qYy8yNCx4PXQudGlsZVBpeGVsUmF0aW8qcyxiPXQudGlsZVBpeGVsUmF0aW8qZi5nZXQoInN5bWJvbC1zcGFjaW5nIiksXz1mLmdldCgidGV4dC1wYWRkaW5nIikqdC50aWxlUGl4ZWxSYXRpbyxBPWYuZ2V0KCJpY29uLXBhZGRpbmciKSp0LnRpbGVQaXhlbFJhdGlvLFM9Zi5nZXQoInRleHQtbWF4LWFuZ2xlIikvMTgwKk1hdGguUEksaz0ibWFwIj09PWYuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpJiYicG9pbnQiIT09Zi5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSxJPSJtYXAiPT09Zi5nZXQoImljb24tcm90YXRpb24tYWxpZ25tZW50IikmJiJwb2ludCIhPT1mLmdldCgic3ltYm9sLXBsYWNlbWVudCIpLHo9Zi5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSxDPWIvMixNPWYuZ2V0KCJpY29uLXRleHQtZml0Iik7biYmIm5vbmUiIT09TSYmKHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmci52ZXJ0aWNhbCYmKGg9Q3UobixyLnZlcnRpY2FsLE0sZi5nZXQoImljb24tdGV4dC1maXQtcGFkZGluZyIpLHksbSkpLGQmJihuPUN1KG4sZCxNLGYuZ2V0KCJpY29uLXRleHQtZml0LXBhZGRpbmciKSx5LG0pKSk7dmFyIEU9ZnVuY3Rpb24ocyxjKXtjLng8MHx8Yy54Pj04MTkyfHxjLnk8MHx8Yy55Pj04MTkyfHxmdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoLGYseSxkLG0sdixnLHgsYixfLEEsUyxrKXt2YXIgSSx6LEMsTSxFLFQ9dC5hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLHIpLFA9MCxCPTAsVj0wLEY9MCxEPS0xLEw9LTEsUj17fSxPPWxhKCIiKSxVPTAsaj0wO2lmKHZvaWQgMD09PXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKCJ0ZXh0LXJhZGlhbC1vZmZzZXQiKT8oVT0oST1zLmxheW91dC5nZXQoInRleHQtb2Zmc2V0IikuZXZhbHVhdGUoYix7fSxTKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyNCp0fSkpKVswXSxqPUlbMV0pOihVPTI0KnMubGF5b3V0LmdldCgidGV4dC1yYWRpYWwtb2Zmc2V0IikuZXZhbHVhdGUoYix7fSxTKSxqPVd1KSx0LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm4udmVydGljYWwpe3ZhciBxPXMubGF5b3V0LmdldCgidGV4dC1yb3RhdGUiKS5ldmFsdWF0ZShiLHt9LFMpKzkwO009bmV3IFp1KHUsZSxsLHAsYyxuLnZlcnRpY2FsLGgsZix5LHEpLG8mJihFPW5ldyBadSh1LGUsbCxwLGMsbyxtLHYseSxxKSk7fWlmKGkpe3ZhciBOPXMubGF5b3V0LmdldCgiaWNvbi1yb3RhdGUiKS5ldmFsdWF0ZShiLHt9KSxLPSJub25lIiE9PXMubGF5b3V0LmdldCgiaWNvbi10ZXh0LWZpdCIpLEc9anUoaSxOLEEsSyksWj1vP2p1KG8sTixBLEspOnZvaWQgMDtDPW5ldyBadSh1LGUsbCxwLGMsaSxtLHYsITEsTiksUD00KkcubGVuZ3RoO3ZhciBYPXQuaWNvblNpemVEYXRhLEo9bnVsbDsic291cmNlIj09PVgua2luZD8oSj1bMTI4KnMubGF5b3V0LmdldCgiaWNvbi1zaXplIikuZXZhbHVhdGUoYix7fSldKVswXT4zMjY0MCYmdyh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciAiaWNvbi1zaXplIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyICJpY29uLXNpemUiLicpOiJjb21wb3NpdGUiPT09WC5raW5kJiYoKEo9WzEyOCpfLmNvbXBvc2l0ZUljb25TaXplc1swXS5ldmFsdWF0ZShiLHt9LFMpLDEyOCpfLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZShiLHt9LFMpXSlbMF0+MzI2NDB8fEpbMV0+MzI2NDApJiZ3KHQubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yICJpY29uLXNpemUiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgImljb24tc2l6ZSIuJyksdC5hZGRTeW1ib2xzKHQuaWNvbixHLEoseCxnLGIsITEsZSxULmxpbmVTdGFydEluZGV4LFQubGluZUxlbmd0aCwtMSxTKSxEPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSxaJiYoQj00KloubGVuZ3RoLHQuYWRkU3ltYm9scyh0Lmljb24sWixKLHgsZyxiLGR1LnZlcnRpY2FsLGUsVC5saW5lU3RhcnRJbmRleCxULmxpbmVMZW5ndGgsLTEsUyksTD10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEpO31mb3IodmFyIEggaW4gbi5ob3Jpem9udGFsKXt2YXIgWT1uLmhvcml6b250YWxbSF07aWYoIXope089bGEoWS50ZXh0KTt2YXIgJD1zLmxheW91dC5nZXQoInRleHQtcm90YXRlIikuZXZhbHVhdGUoYix7fSxTKTt6PW5ldyBadSh1LGUsbCxwLGMsWSxoLGYseSwkKTt9dmFyIFc9MT09PVkucG9zaXRpb25lZExpbmVzLmxlbmd0aDtpZihWKz1lbCh0LGUsWSxhLHMseSxiLGQsVCxuLnZlcnRpY2FsP2R1Lmhvcml6b250YWw6ZHUuaG9yaXpvbnRhbE9ubHksVz9PYmplY3Qua2V5cyhuLmhvcml6b250YWwpOltIXSxSLEQsXyxTKSxXKWJyZWFrfW4udmVydGljYWwmJihGKz1lbCh0LGUsbi52ZXJ0aWNhbCxhLHMseSxiLGQsVCxkdS52ZXJ0aWNhbCxbInZlcnRpY2FsIl0sUixMLF8sUykpO3ZhciBRPXo/ei5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHR0PXo/ei5ib3hFbmRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxldD1NP00uYm94U3RhcnRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxydD1NP00uYm94RW5kSW5kZXg6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsbnQ9Qz9DLmJveFN0YXJ0SW5kZXg6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsaXQ9Qz9DLmJveEVuZEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLGF0PUU/RS5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLG90PUU/RS5ib3hFbmRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxzdD0tMSx1dD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0LmNpcmNsZURpYW1ldGVyP01hdGgubWF4KHQuY2lyY2xlRGlhbWV0ZXIsZSk6ZX07c3Q9dXQoeixzdCksc3Q9dXQoTSxzdCksc3Q9dXQoQyxzdCk7dmFyIGx0PShzdD11dChFLHN0KSk+LTE/MTowO2x0JiYoc3QqPWsvMjQpLHQuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGg+PWNsLk1BWF9HTFlQSFMmJncoIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwNyIpLHZvaWQgMCE9PWIuc29ydEtleSYmdC5hZGRUb1NvcnRLZXlSYW5nZXModC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLGIuc29ydEtleSksdC5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2soZS54LGUueSxSLnJpZ2h0Pj0wP1IucmlnaHQ6LTEsUi5jZW50ZXI+PTA/Ui5jZW50ZXI6LTEsUi5sZWZ0Pj0wP1IubGVmdDotMSxSLnZlcnRpY2FsfHwtMSxELEwsTyxRLHR0LGV0LHJ0LG50LGl0LGF0LG90LGwsVixGLFAsQixsdCwwLGgsVSxqLHN0KTt9KHQsYyxzLHIsbixpLGgsdC5sYXllcnNbMF0sdC5jb2xsaXNpb25Cb3hBcnJheSxlLmluZGV4LGUuc291cmNlTGF5ZXJJbmRleCx0LmluZGV4LHYsXyxrLHUseCxBLEkseSxlLGEsbCxwLG8pO307aWYoImxpbmUiPT09eilmb3IodmFyIFQ9MCxQPVV1KGUuZ2VvbWV0cnksMCwwLDgxOTIsODE5Mik7VDxQLmxlbmd0aDtUKz0xKWZvcih2YXIgQj1QW1RdLFY9MCxGPU91KEIsYixTLHIudmVydGljYWx8fGQsbiwyNCxnLHQub3ZlcnNjYWxpbmcsODE5Mik7VjxGLmxlbmd0aDtWKz0xKXt2YXIgRD1GW1ZdO2QmJm5sKHQsZC50ZXh0LEMsRCl8fEUoQixEKTt9ZWxzZSBpZigibGluZS1jZW50ZXIiPT09eilmb3IodmFyIEw9MCxSPWUuZ2VvbWV0cnk7TDxSLmxlbmd0aDtMKz0xKXt2YXIgTz1SW0xdO2lmKE8ubGVuZ3RoPjEpe3ZhciBVPVJ1KE8sUyxyLnZlcnRpY2FsfHxkLG4sMjQsZyk7VSYmRShPLFUpO319ZWxzZSBpZigiUG9seWdvbiI9PT1lLnR5cGUpZm9yKHZhciBqPTAscT1XbyhlLmdlb21ldHJ5LDApO2o8cS5sZW5ndGg7ais9MSl7dmFyIE49cVtqXSxLPUh1KE4sMTYpO0UoTlswXSxuZXcgTXUoSy54LEsueSwwKSk7fWVsc2UgaWYoIkxpbmVTdHJpbmciPT09ZS50eXBlKWZvcih2YXIgRz0wLFo9ZS5nZW9tZXRyeTtHPFoubGVuZ3RoO0crPTEpe3ZhciBYPVpbR107RShYLG5ldyBNdShYWzBdLngsWFswXS55LDApKTt9ZWxzZSBpZigiUG9pbnQiPT09ZS50eXBlKWZvcih2YXIgSj0wLEg9ZS5nZW9tZXRyeTtKPEgubGVuZ3RoO0orPTEpZm9yKHZhciBZPTAsJD1IW0pdO1k8JC5sZW5ndGg7WSs9MSl7dmFyIFc9JFtZXTtFKFtXXSxuZXcgTXUoVy54LFcueSwwKSk7fX0odCxhLGYsTyxuLGwsYyxoLF8sVSxvKTt9LHg9MCxiPXQuZmVhdHVyZXM7eDxiLmxlbmd0aDt4Kz0xKWcoKTthJiZ0LmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKCk7fSx0LnBlcnNwZWN0aXZlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGEsbz0xL01hdGgudGFuKGUvMik7cmV0dXJuIHRbMF09by9yLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPW8sdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPS0xLHRbMTJdPTAsdFsxM109MCx0WzE1XT0wLG51bGwhPWkmJmkhPT0xLzA/KHRbMTBdPShpK24pKihhPTEvKG4taSkpLHRbMTRdPTIqaSpuKmEpOih0WzEwXT0tMSx0WzE0XT0tMipuKSx0fSx0LnBpY2s9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kgaW4gdCYmKHJbaV09dFtpXSk7fXJldHVybiByfSx0LnBsdWdpbj1uaSx0LnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbj1SYSx0LnBvc3RNYXBMb2FkRXZlbnQ9aXQsdC5wb3N0VHVybnN0aWxlRXZlbnQ9cnQsdC5wb3RwYWNrPWN1LHQucmVmUHJvcGVydGllcz1bInR5cGUiLCJzb3VyY2UiLCJzb3VyY2UtbGF5ZXIiLCJtaW56b29tIiwibWF4em9vbSIsImZpbHRlciIsImxheW91dCJdLHQucmVnaXN0ZXI9Rm4sdC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0KHtwbHVnaW5TdGF0dXM6WW4scGx1Z2luVVJMOiRufSksdGkub24oInBsdWdpblN0YXRlQ2hhbmdlIix0KSx0fSx0LnJvdGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPU1hdGguc2luKHIpLHU9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09bip1K2Eqcyx0WzFdPWkqdStvKnMsdFsyXT1uKi1zK2EqdSx0WzNdPWkqLXMrbyp1LHR9LHQucm90YXRlWD1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbNF0sbz1lWzVdLHM9ZVs2XSx1PWVbN10sbD1lWzhdLHA9ZVs5XSxjPWVbMTBdLGg9ZVsxMV07cmV0dXJuIGUhPT10JiYodFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0WzRdPWEqaStsKm4sdFs1XT1vKmkrcCpuLHRbNl09cyppK2Mqbix0WzddPXUqaStoKm4sdFs4XT1sKmktYSpuLHRbOV09cCppLW8qbix0WzEwXT1jKmktcypuLHRbMTFdPWgqaS11Km4sdH0sdC5yb3RhdGVaPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLGE9ZVswXSxvPWVbMV0scz1lWzJdLHU9ZVszXSxsPWVbNF0scD1lWzVdLGM9ZVs2XSxoPWVbN107cmV0dXJuIGUhPT10JiYodFs4XT1lWzhdLHRbOV09ZVs5XSx0WzEwXT1lWzEwXSx0WzExXT1lWzExXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmkrbCpuLHRbMV09byppK3Aqbix0WzJdPXMqaStjKm4sdFszXT11KmkraCpuLHRbNF09bCppLWEqbix0WzVdPXAqaS1vKm4sdFs2XT1jKmktcypuLHRbN109aCppLXUqbix0fSx0LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxhPXJbMl07cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHRbMl09ZVsyXSpuLHRbM109ZVszXSpuLHRbNF09ZVs0XSppLHRbNV09ZVs1XSppLHRbNl09ZVs2XSppLHRbN109ZVs3XSppLHRbOF09ZVs4XSphLHRbOV09ZVs5XSphLHRbMTBdPWVbMTBdKmEsdFsxMV09ZVsxMV0qYSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fSx0LnNjYWxlJDE9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0fSx0LnNjYWxlJDI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0fSx0LnNldENhY2hlTGltaXRzPWZ1bmN0aW9uKHQsZSl7YXQ9dCxvdD1lO30sdC5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj0hMSksImRlZmVycmVkIj09PVlufHwibG9hZGluZyI9PT1Zbnx8ImxvYWRlZCI9PT1Zbil0aHJvdyBuZXcgRXJyb3IoInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4iKTskbj1ELnJlc29sdmVVUkwodCksWW49ImRlZmVycmVkIixIbj1lLFFuKCkscnx8cmkoKTt9LHQuc3BoZXJpY2FsVG9DYXJ0ZXNpYW49ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiByKz05MCxyKj1NYXRoLlBJLzE4MCxuKj1NYXRoLlBJLzE4MCx7eDplKk1hdGguY29zKHIpKk1hdGguc2luKG4pLHk6ZSpNYXRoLnNpbihyKSpNYXRoLnNpbihuKSx6OmUqTWF0aC5jb3Mobil9fSx0LnNxckxlbj1mdW5jdGlvbih0KXt2YXIgZT10WzBdLHI9dFsxXTtyZXR1cm4gZSplK3Iqcn0sdC5zdHlsZVNwZWM9SXQsdC5zdWI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0tclswXSx0WzFdPWVbMV0tclsxXSx0WzJdPWVbMl0tclsyXSx0fSx0LnN5bWJvbFNpemU9QnUsdC50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl07cmV0dXJuIHRbMF09bipyWzBdK2kqclszXSthKnJbNl0sdFsxXT1uKnJbMV0raSpyWzRdK2Eqcls3XSx0WzJdPW4qclsyXStpKnJbNV0rYSpyWzhdLHR9LHQudHJhbnNmb3JtTWF0ND1hbyx0LnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQ9clswXSxtPXJbMV0sdj1yWzJdO3JldHVybiBlPT09dD8odFsxMl09ZVswXSpkK2VbNF0qbStlWzhdKnYrZVsxMl0sdFsxM109ZVsxXSpkK2VbNV0qbStlWzldKnYrZVsxM10sdFsxNF09ZVsyXSpkK2VbNl0qbStlWzEwXSp2K2VbMTRdLHRbMTVdPWVbM10qZCtlWzddKm0rZVsxMV0qditlWzE1XSk6KGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sbD1lWzZdLHA9ZVs3XSxjPWVbOF0saD1lWzldLGY9ZVsxMF0seT1lWzExXSx0WzBdPW49ZVswXSx0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09bCx0WzddPXAsdFs4XT1jLHRbOV09aCx0WzEwXT1mLHRbMTFdPXksdFsxMl09bipkK3MqbStjKnYrZVsxMl0sdFsxM109aSpkK3UqbStoKnYrZVsxM10sdFsxNF09YSpkK2wqbStmKnYrZVsxNF0sdFsxNV09bypkK3AqbSt5KnYrZVsxNV0pLHR9LHQudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudD1Xbix0LnVuaXF1ZUlkPWgsdC52YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7dmFyIGU9W10scj10LmlkO3JldHVybiB2b2lkIDA9PT1yJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiaWQiJ30pLHZvaWQgMD09PXQucmVuZGVyJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogbWlzc2luZyByZXF1aXJlZCBtZXRob2QgInJlbmRlciInfSksdC5yZW5kZXJpbmdNb2RlJiYiMmQiIT09dC5yZW5kZXJpbmdNb2RlJiYiM2QiIT09dC5yZW5kZXJpbmdNb2RlJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogcHJvcGVydHkgInJlbmRlcmluZ01vZGUiIG11c3QgYmUgZWl0aGVyICIyZCIgb3IgIjNkIid9KSxlfSx0LnZhbGlkYXRlTGlnaHQ9SW4sdC52YWxpZGF0ZVN0eWxlPWtuLHQudmFsdWVzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgciBpbiB0KWUucHVzaCh0W3JdKTtyZXR1cm4gZX0sdC52ZWN0b3JUaWxlPWRzLHQudmVyc2lvbj0iMS4xMC4wIix0Lndhcm5PbmNlPXcsdC53ZWJwU3VwcG9ydGVkPVIsdC53aW5kb3c9c2VsZix0LndyYXA9bDt9KSk7CgpkZWZpbmUoWyIuL3NoYXJlZCJdLChmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXt2YXIgcj10eXBlb2YgZTtpZigibnVtYmVyIj09PXJ8fCJib29sZWFuIj09PXJ8fCJzdHJpbmciPT09cnx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBpPSJbIixvPTAsbj1lO288bi5sZW5ndGg7bys9MSlpKz10KG5bb10pKyIsIjtyZXR1cm4gaSsiXSJ9Zm9yKHZhciBzPU9iamVjdC5rZXlzKGUpLnNvcnQoKSxhPSJ7IixsPTA7bDxzLmxlbmd0aDtsKyspYSs9SlNPTi5zdHJpbmdpZnkoc1tsXSkrIjoiK3QoZVtzW2xdXSkrIiwiO3JldHVybiBhKyJ9In1mdW5jdGlvbiByKHIpe2Zvcih2YXIgaT0iIixvPTAsbj1lLnJlZlByb3BlcnRpZXM7bzxuLmxlbmd0aDtvKz0xKWkrPSIvIit0KHJbbltvXV0pO3JldHVybiBpfXZhciBpPWZ1bmN0aW9uKGUpe3RoaXMua2V5Q2FjaGU9e30sZSYmdGhpcy5yZXBsYWNlKGUpO307aS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10pO30saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBvPXRoaXMsbj0wLHM9dDtuPHMubGVuZ3RoO24rPTEpe3ZhciBhPXNbbl07dGhpcy5fbGF5ZXJDb25maWdzW2EuaWRdPWE7dmFyIGw9dGhpcy5fbGF5ZXJzW2EuaWRdPWUuY3JlYXRlU3R5bGVMYXllcihhKTtsLl9mZWF0dXJlRmlsdGVyPWUuZmVhdHVyZUZpbHRlcihsLmZpbHRlciksdGhpcy5rZXlDYWNoZVthLmlkXSYmZGVsZXRlIHRoaXMua2V5Q2FjaGVbYS5pZF07fWZvcih2YXIgdT0wLGg9aTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBjPWhbdV07ZGVsZXRlIHRoaXMua2V5Q2FjaGVbY10sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tjXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2NdO310aGlzLmZhbWlsaWVzQnlTb3VyY2U9e307Zm9yKHZhciBwPTAsZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT17fSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBuPXQmJnRbZVtvXS5pZF18fHIoZVtvXSk7dCYmKHRbZVtvXS5pZF09bik7dmFyIHM9aVtuXTtzfHwocz1pW25dPVtdKSxzLnB1c2goZVtvXSk7fXZhciBhPVtdO2Zvcih2YXIgbCBpbiBpKWEucHVzaChpW2xdKTtyZXR1cm4gYX0oZS52YWx1ZXModGhpcy5fbGF5ZXJDb25maWdzKSx0aGlzLmtleUNhY2hlKTtwPGYubGVuZ3RoO3ArPTEpe3ZhciBkPWZbcF0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gby5fbGF5ZXJzW2UuaWRdfSkpLGc9ZFswXTtpZigibm9uZSIhPT1nLnZpc2liaWxpdHkpe3ZhciBtPWcuc291cmNlfHwiIix2PXRoaXMuZmFtaWxpZXNCeVNvdXJjZVttXTt2fHwodj10aGlzLmZhbWlsaWVzQnlTb3VyY2VbbV09e30pO3ZhciB5PWcuc291cmNlTGF5ZXJ8fCJfZ2VvanNvblRpbGVMYXllciIseD12W3ldO3h8fCh4PXZbeV09W10pLHgucHVzaChkKTt9fX07dmFyIG89ZnVuY3Rpb24odCl7dmFyIHI9e30saT1bXTtmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXSxzPXJbb109e307Zm9yKHZhciBhIGluIG4pe3ZhciBsPW5bK2FdO2lmKGwmJjAhPT1sLmJpdG1hcC53aWR0aCYmMCE9PWwuYml0bWFwLmhlaWdodCl7dmFyIHU9e3g6MCx5OjAsdzpsLmJpdG1hcC53aWR0aCsyLGg6bC5iaXRtYXAuaGVpZ2h0KzJ9O2kucHVzaCh1KSxzW2FdPXtyZWN0OnUsbWV0cmljczpsLm1ldHJpY3N9O319fXZhciBoPWUucG90cGFjayhpKSxjPW5ldyBlLkFscGhhSW1hZ2Uoe3dpZHRoOmgud3x8MSxoZWlnaHQ6aC5ofHwxfSk7Zm9yKHZhciBwIGluIHQpe3ZhciBmPXRbcF07Zm9yKHZhciBkIGluIGYpe3ZhciBnPWZbK2RdO2lmKGcmJjAhPT1nLmJpdG1hcC53aWR0aCYmMCE9PWcuYml0bWFwLmhlaWdodCl7dmFyIG09cltwXVtkXS5yZWN0O2UuQWxwaGFJbWFnZS5jb3B5KGcuYml0bWFwLGMse3g6MCx5OjB9LHt4Om0ueCsxLHk6bS55KzF9LGcuYml0bWFwKTt9fX10aGlzLmltYWdlPWMsdGhpcy5wb3NpdGlvbnM9cjt9O2UucmVnaXN0ZXIoIkdseXBoQXRsYXMiLG8pO3ZhciBuPWZ1bmN0aW9uKHQpe3RoaXMudGlsZUlEPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC50aWxlSUQub3ZlcnNjYWxlZFosdC50aWxlSUQud3JhcCx0LnRpbGVJRC5jYW5vbmljYWwueix0LnRpbGVJRC5jYW5vbmljYWwueCx0LnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy51aWQ9dC51aWQsdGhpcy56b29tPXQuem9vbSx0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9dC50aWxlU2l6ZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nPSEhdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM9ISF0LnJldHVybkRlcGVuZGVuY2llcyx0aGlzLnByb21vdGVJZD10LnByb21vdGVJZDt9O2Z1bmN0aW9uIHModCxyLGkpe2Zvcih2YXIgbz1uZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyhyKSxuPTAscz10O248cy5sZW5ndGg7bis9MSlzW25dLnJlY2FsY3VsYXRlKG8saSk7fWZ1bmN0aW9uIGEodCxyKXt2YXIgaT1lLmdldEFycmF5QnVmZmVyKHQucmVxdWVzdCwoZnVuY3Rpb24odCxpLG8sbil7dD9yKHQpOmkmJnIobnVsbCx7dmVjdG9yVGlsZTpuZXcgZS52ZWN0b3JUaWxlLlZlY3RvclRpbGUobmV3IGUucGJmKGkpKSxyYXdEYXRhOmksY2FjaGVDb250cm9sOm8sZXhwaXJlczpufSk7fSkpO3JldHVybiBmdW5jdGlvbigpe2kuY2FuY2VsKCkscigpO319bi5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxyLGksbixhKXt2YXIgbD10aGlzO3RoaXMuc3RhdHVzPSJwYXJzaW5nIix0aGlzLmRhdGE9dCx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBlLkNvbGxpc2lvbkJveEFycmF5O3ZhciB1PW5ldyBlLkRpY3Rpb25hcnlDb2RlcihPYmplY3Qua2V5cyh0LmxheWVycykuc29ydCgpKSxoPW5ldyBlLkZlYXR1cmVJbmRleCh0aGlzLnRpbGVJRCx0aGlzLnByb21vdGVJZCk7aC5idWNrZXRMYXllcklEcz1bXTt2YXIgYyxwLGYsZCxnPXt9LG09e2ZlYXR1cmVJbmRleDpoLGljb25EZXBlbmRlbmNpZXM6e30scGF0dGVybkRlcGVuZGVuY2llczp7fSxnbHlwaERlcGVuZGVuY2llczp7fSxhdmFpbGFibGVJbWFnZXM6aX0sdj1yLmZhbWlsaWVzQnlTb3VyY2VbdGhpcy5zb3VyY2VdO2Zvcih2YXIgeSBpbiB2KXt2YXIgeD10LmxheWVyc1t5XTtpZih4KXsxPT09eC52ZXJzaW9uJiZlLndhcm5PbmNlKCdWZWN0b3IgdGlsZSBzb3VyY2UgIicrdGhpcy5zb3VyY2UrJyIgbGF5ZXIgIicreSsnIiBkb2VzIG5vdCB1c2UgdmVjdG9yIHRpbGUgc3BlYyB2MiBhbmQgdGhlcmVmb3JlIG1heSBoYXZlIHNvbWUgcmVuZGVyaW5nIGVycm9ycy4nKTtmb3IodmFyIHc9dS5lbmNvZGUoeSksUz1bXSxJPTA7STx4Lmxlbmd0aDtJKyspe3ZhciBNPXguZmVhdHVyZShJKSxiPWguZ2V0SWQoTSx5KTtTLnB1c2goe2ZlYXR1cmU6TSxpZDpiLGluZGV4Okksc291cmNlTGF5ZXJJbmRleDp3fSk7fWZvcih2YXIgXz0wLGs9dlt5XTtfPGsubGVuZ3RoO18rPTEpe3ZhciBQPWtbX10sVD1QWzBdO1QubWluem9vbSYmdGhpcy56b29tPE1hdGguZmxvb3IoVC5taW56b29tKXx8VC5tYXh6b29tJiZ0aGlzLnpvb20+PVQubWF4em9vbXx8Im5vbmUiIT09VC52aXNpYmlsaXR5JiYocyhQLHRoaXMuem9vbSxpKSwoZ1tULmlkXT1ULmNyZWF0ZUJ1Y2tldCh7aW5kZXg6aC5idWNrZXRMYXllcklEcy5sZW5ndGgsbGF5ZXJzOlAsem9vbTp0aGlzLnpvb20scGl4ZWxSYXRpbzp0aGlzLnBpeGVsUmF0aW8sb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LHNvdXJjZUxheWVySW5kZXg6dyxzb3VyY2VJRDp0aGlzLnNvdXJjZX0pKS5wb3B1bGF0ZShTLG0sdGhpcy50aWxlSUQuY2Fub25pY2FsKSxoLmJ1Y2tldExheWVySURzLnB1c2goUC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpKSk7fX19dmFyIEM9ZS5tYXBPYmplY3QobS5nbHlwaERlcGVuZGVuY2llcywoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChOdW1iZXIpfSkpO09iamVjdC5rZXlzKEMpLmxlbmd0aD9uLnNlbmQoImdldEdseXBocyIse3VpZDp0aGlzLnVpZCxzdGFja3M6Q30sKGZ1bmN0aW9uKGUsdCl7Y3x8KGM9ZSxwPXQsTy5jYWxsKGwpKTt9KSk6cD17fTt2YXIgRD1PYmplY3Qua2V5cyhtLmljb25EZXBlbmRlbmNpZXMpO0QubGVuZ3RoP24uc2VuZCgiZ2V0SW1hZ2VzIix7aWNvbnM6RCxzb3VyY2U6dGhpcy5zb3VyY2UsdGlsZUlEOnRoaXMudGlsZUlELHR5cGU6Imljb25zIn0sKGZ1bmN0aW9uKGUsdCl7Y3x8KGM9ZSxmPXQsTy5jYWxsKGwpKTt9KSk6Zj17fTt2YXIgTD1PYmplY3Qua2V5cyhtLnBhdHRlcm5EZXBlbmRlbmNpZXMpO2Z1bmN0aW9uIE8oKXtpZihjKXJldHVybiBhKGMpO2lmKHAmJmYmJmQpe3ZhciB0PW5ldyBvKHApLHI9bmV3IGUuSW1hZ2VBdGxhcyhmLGQpO2Zvcih2YXIgbiBpbiBnKXt2YXIgbD1nW25dO2wgaW5zdGFuY2VvZiBlLlN5bWJvbEJ1Y2tldD8ocyhsLmxheWVycyx0aGlzLnpvb20saSksZS5wZXJmb3JtU3ltYm9sTGF5b3V0KGwscCx0LnBvc2l0aW9ucyxmLHIuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLnRpbGVJRC5jYW5vbmljYWwpKTpsLmhhc1BhdHRlcm4mJihsIGluc3RhbmNlb2YgZS5MaW5lQnVja2V0fHxsIGluc3RhbmNlb2YgZS5GaWxsQnVja2V0fHxsIGluc3RhbmNlb2YgZS5GaWxsRXh0cnVzaW9uQnVja2V0KSYmKHMobC5sYXllcnMsdGhpcy56b29tLGkpLGwuYWRkRmVhdHVyZXMobSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsci5wYXR0ZXJuUG9zaXRpb25zKSk7fXRoaXMuc3RhdHVzPSJkb25lIixhKG51bGwse2J1Y2tldHM6ZS52YWx1ZXMoZykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gIWUuaXNFbXB0eSgpfSkpLGZlYXR1cmVJbmRleDpoLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksZ2x5cGhBdGxhc0ltYWdlOnQuaW1hZ2UsaW1hZ2VBdGxhczpyLGdseXBoTWFwOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP3A6bnVsbCxpY29uTWFwOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP2Y6bnVsbCxnbHlwaFBvc2l0aW9uczp0aGlzLnJldHVybkRlcGVuZGVuY2llcz90LnBvc2l0aW9uczpudWxsfSk7fX1MLmxlbmd0aD9uLnNlbmQoImdldEltYWdlcyIse2ljb25zOkwsc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOiJwYXR0ZXJucyJ9LChmdW5jdGlvbihlLHQpe2N8fChjPWUsZD10LE8uY2FsbChsKSk7fSkpOmQ9e30sTy5jYWxsKHRoaXMpO307dmFyIGw9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5hY3Rvcj1lLHRoaXMubGF5ZXJJbmRleD10LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXIsdGhpcy5sb2FkVmVjdG9yRGF0YT1pfHxhLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fTt9O2wucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcyxvPXQudWlkO3RoaXMubG9hZGluZ3x8KHRoaXMubG9hZGluZz17fSk7dmFyIHM9ISEodCYmdC5yZXF1ZXN0JiZ0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nKSYmbmV3IGUuUmVxdWVzdFBlcmZvcm1hbmNlKHQucmVxdWVzdCksYT10aGlzLmxvYWRpbmdbb109bmV3IG4odCk7YS5hYm9ydD10aGlzLmxvYWRWZWN0b3JEYXRhKHQsKGZ1bmN0aW9uKHQsbil7aWYoZGVsZXRlIGkubG9hZGluZ1tvXSx0fHwhbilyZXR1cm4gYS5zdGF0dXM9ImRvbmUiLGkubG9hZGVkW29dPWEscih0KTt2YXIgbD1uLnJhd0RhdGEsdT17fTtuLmV4cGlyZXMmJih1LmV4cGlyZXM9bi5leHBpcmVzKSxuLmNhY2hlQ29udHJvbCYmKHUuY2FjaGVDb250cm9sPW4uY2FjaGVDb250cm9sKTt2YXIgaD17fTtpZihzKXt2YXIgYz1zLmZpbmlzaCgpO2MmJihoLnJlc291cmNlVGltaW5nPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYykpKTt9YS52ZWN0b3JUaWxlPW4udmVjdG9yVGlsZSxhLnBhcnNlKG4udmVjdG9yVGlsZSxpLmxheWVySW5kZXgsaS5hdmFpbGFibGVJbWFnZXMsaS5hY3RvciwoZnVuY3Rpb24odCxpKXtpZih0fHwhaSlyZXR1cm4gcih0KTtyKG51bGwsZS5leHRlbmQoe3Jhd1RpbGVEYXRhOmwuc2xpY2UoMCl9LGksdSxoKSk7fSkpLGkubG9hZGVkPWkubG9hZGVkfHx7fSxpLmxvYWRlZFtvXT1hO30pKTt9LGwucHJvdG90eXBlLnJlbG9hZFRpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5sb2FkZWQsbz1lLnVpZCxuPXRoaXM7aWYoaSYmaVtvXSl7dmFyIHM9aVtvXTtzLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlczt2YXIgYT1mdW5jdGlvbihlLGkpe3ZhciBvPXMucmVsb2FkQ2FsbGJhY2s7byYmKGRlbGV0ZSBzLnJlbG9hZENhbGxiYWNrLHMucGFyc2Uocy52ZWN0b3JUaWxlLG4ubGF5ZXJJbmRleCxyLmF2YWlsYWJsZUltYWdlcyxuLmFjdG9yLG8pKSx0KGUsaSk7fTsicGFyc2luZyI9PT1zLnN0YXR1cz9zLnJlbG9hZENhbGxiYWNrPWE6ImRvbmUiPT09cy5zdGF0dXMmJihzLnZlY3RvclRpbGU/cy5wYXJzZShzLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsYSk6YSgpKTt9fSxsLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmxvYWRpbmcsaT1lLnVpZDtyJiZyW2ldJiZyW2ldLmFib3J0JiYocltpXS5hYm9ydCgpLGRlbGV0ZSByW2ldKSx0KCk7fSxsLnByb3RvdHlwZS5yZW1vdmVUaWxlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5sb2FkZWQsaT1lLnVpZDtyJiZyW2ldJiZkZWxldGUgcltpXSx0KCk7fTt2YXIgdT1lLndpbmRvdy5JbWFnZUJpdG1hcCxoPWZ1bmN0aW9uKCl7dGhpcy5sb2FkZWQ9e307fTtmdW5jdGlvbiBjKGUsdCl7aWYoMCE9PWUubGVuZ3RoKXtwKGVbMF0sdCk7Zm9yKHZhciByPTE7cjxlLmxlbmd0aDtyKyspcChlW3JdLCF0KTt9fWZ1bmN0aW9uIHAoZSx0KXtmb3IodmFyIHI9MCxpPTAsbz1lLmxlbmd0aCxuPW8tMTtpPG87bj1pKyspcis9KGVbaV1bMF0tZVtuXVswXSkqKGVbbl1bMV0rZVtpXVsxXSk7cj49MCE9ISF0JiZlLnJldmVyc2UoKTt9aC5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24odCxyKXt2YXIgaT10LnVpZCxvPXQuZW5jb2Rpbmcsbj10LnJhd0ltYWdlRGF0YSxzPXUmJm4gaW5zdGFuY2VvZiB1P3RoaXMuZ2V0SW1hZ2VEYXRhKG4pOm4sYT1uZXcgZS5ERU1EYXRhKGkscyxvKTt0aGlzLmxvYWRlZD10aGlzLmxvYWRlZHx8e30sdGhpcy5sb2FkZWRbaV09YSxyKG51bGwsYSk7fSxoLnByb3RvdHlwZS5nZXRJbWFnZURhdGE9ZnVuY3Rpb24odCl7dGhpcy5vZmZzY3JlZW5DYW52YXMmJnRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dHx8KHRoaXMub2Zmc2NyZWVuQ2FudmFzPW5ldyBPZmZzY3JlZW5DYW52YXModC53aWR0aCx0LmhlaWdodCksdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0PXRoaXMub2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoIjJkIikpLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoPXQud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodCwwLDAsdC53aWR0aCx0LmhlaWdodCk7dmFyIHI9dGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSgtMSwtMSx0LndpZHRoKzIsdC5oZWlnaHQrMik7cmV0dXJuIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCksbmV3IGUuUkdCQUltYWdlKHt3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH0sci5kYXRhKX0saC5wcm90b3R5cGUucmVtb3ZlVGlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxvYWRlZCxyPWUudWlkO3QmJnRbcl0mJmRlbGV0ZSB0W3JdO307dmFyIGY9ZS52ZWN0b3JUaWxlLlZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04sZD1mdW5jdGlvbih0KXt0aGlzLl9mZWF0dXJlPXQsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy50eXBlPXQudHlwZSx0aGlzLnByb3BlcnRpZXM9dC50YWdzLCJpZCJpbiB0JiYhaXNOYU4odC5pZCkmJih0aGlzLmlkPXBhcnNlSW50KHQuaWQsMTApKTt9O2QucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe2lmKDE9PT10aGlzLl9mZWF0dXJlLnR5cGUpe2Zvcih2YXIgdD1bXSxyPTAsaT10aGlzLl9mZWF0dXJlLmdlb21ldHJ5O3I8aS5sZW5ndGg7cis9MSl7dmFyIG89aVtyXTt0LnB1c2goW25ldyBlLlBvaW50JDEob1swXSxvWzFdKV0pO31yZXR1cm4gdH1mb3IodmFyIG49W10scz0wLGE9dGhpcy5fZmVhdHVyZS5nZW9tZXRyeTtzPGEubGVuZ3RoO3MrPTEpe2Zvcih2YXIgbD1bXSx1PTAsaD1hW3NdO3U8aC5sZW5ndGg7dSs9MSl7dmFyIGM9aFt1XTtsLnB1c2gobmV3IGUuUG9pbnQkMShjWzBdLGNbMV0pKTt9bi5wdXNoKGwpO31yZXR1cm4gbn0sZC5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZi5jYWxsKHRoaXMsZSx0LHIpfTt2YXIgZz1mdW5jdGlvbih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPSJfZ2VvanNvblRpbGVMYXllciIsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dDt9O2cucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkKHRoaXMuX2ZlYXR1cmVzW2VdKX07dmFyIG09ZS52ZWN0b3JUaWxlLlZlY3RvclRpbGVGZWF0dXJlLHY9eTtmdW5jdGlvbiB5KGUsdCl7dGhpcy5vcHRpb25zPXR8fHt9LHRoaXMuZmVhdHVyZXM9ZSx0aGlzLmxlbmd0aD1lLmxlbmd0aDt9ZnVuY3Rpb24geChlLHQpe3RoaXMuaWQ9Im51bWJlciI9PXR5cGVvZiBlLmlkP2UuaWQ6dm9pZCAwLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yYXdHZW9tZXRyeT0xPT09ZS50eXBlP1tlLmdlb21ldHJ5XTplLmdlb21ldHJ5LHRoaXMucHJvcGVydGllcz1lLnRhZ3MsdGhpcy5leHRlbnQ9dHx8NDA5Njt9eS5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHgodGhpcy5mZWF0dXJlc1tlXSx0aGlzLm9wdGlvbnMuZXh0ZW50KX0seC5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXtmb3IodmFyIGk9dFtyXSxvPVtdLG49MDtuPGkubGVuZ3RoO24rKylvLnB1c2gobmV3IGUuUG9pbnQkMShpW25dWzBdLGlbbl1bMV0pKTt0aGlzLmdlb21ldHJ5LnB1c2gobyk7fXJldHVybiB0aGlzLmdlb21ldHJ5fSx4LnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeXx8dGhpcy5sb2FkR2VvbWV0cnkoKTtmb3IodmFyIGU9dGhpcy5nZW9tZXRyeSx0PTEvMCxyPS0xLzAsaT0xLzAsbz0tMS8wLG49MDtuPGUubGVuZ3RoO24rKylmb3IodmFyIHM9ZVtuXSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciBsPXNbYV07dD1NYXRoLm1pbih0LGwueCkscj1NYXRoLm1heChyLGwueCksaT1NYXRoLm1pbihpLGwueSksbz1NYXRoLm1heChvLGwueSk7fXJldHVybiBbdCxpLHIsb119LHgucHJvdG90eXBlLnRvR2VvSlNPTj1tLnByb3RvdHlwZS50b0dlb0pTT047dmFyIHc9SSxTPXY7ZnVuY3Rpb24gSSh0KXt2YXIgcj1uZXcgZS5wYmY7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGUubGF5ZXJzKXQud3JpdGVNZXNzYWdlKDMsTSxlLmxheWVyc1tyXSk7fSh0LHIpLHIuZmluaXNoKCl9ZnVuY3Rpb24gTShlLHQpe3ZhciByO3Qud3JpdGVWYXJpbnRGaWVsZCgxNSxlLnZlcnNpb258fDEpLHQud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZXx8IiIpLHQud3JpdGVWYXJpbnRGaWVsZCg1LGUuZXh0ZW50fHw0MDk2KTt2YXIgaT17a2V5czpbXSx2YWx1ZXM6W10sa2V5Y2FjaGU6e30sdmFsdWVjYWNoZTp7fX07Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpLmZlYXR1cmU9ZS5mZWF0dXJlKHIpLHQud3JpdGVNZXNzYWdlKDIsYixpKTt2YXIgbz1pLmtleXM7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyl0LndyaXRlU3RyaW5nRmllbGQoMyxvW3JdKTt2YXIgbj1pLnZhbHVlcztmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXQud3JpdGVNZXNzYWdlKDQsQyxuW3JdKTt9ZnVuY3Rpb24gYihlLHQpe3ZhciByPWUuZmVhdHVyZTt2b2lkIDAhPT1yLmlkJiZ0LndyaXRlVmFyaW50RmllbGQoMSxyLmlkKSx0LndyaXRlTWVzc2FnZSgyLF8sZSksdC53cml0ZVZhcmludEZpZWxkKDMsci50eXBlKSx0LndyaXRlTWVzc2FnZSg0LFQscik7fWZ1bmN0aW9uIF8oZSx0KXt2YXIgcj1lLmZlYXR1cmUsaT1lLmtleXMsbz1lLnZhbHVlcyxuPWUua2V5Y2FjaGUscz1lLnZhbHVlY2FjaGU7Zm9yKHZhciBhIGluIHIucHJvcGVydGllcyl7dmFyIGw9blthXTt2b2lkIDA9PT1sJiYoaS5wdXNoKGEpLG5bYV09bD1pLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGwpO3ZhciB1PXIucHJvcGVydGllc1thXSxoPXR5cGVvZiB1OyJzdHJpbmciIT09aCYmImJvb2xlYW4iIT09aCYmIm51bWJlciIhPT1oJiYodT1KU09OLnN0cmluZ2lmeSh1KSk7dmFyIGM9aCsiOiIrdSxwPXNbY107dm9pZCAwPT09cCYmKG8ucHVzaCh1KSxzW2NdPXA9by5sZW5ndGgtMSksdC53cml0ZVZhcmludChwKTt9fWZ1bmN0aW9uIGsoZSx0KXtyZXR1cm4gKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU8PDFeZT4+MzF9ZnVuY3Rpb24gVChlLHQpe2Zvcih2YXIgcj1lLmxvYWRHZW9tZXRyeSgpLGk9ZS50eXBlLG89MCxuPTAscz1yLmxlbmd0aCxhPTA7YTxzO2ErKyl7dmFyIGw9clthXSx1PTE7MT09PWkmJih1PWwubGVuZ3RoKSx0LndyaXRlVmFyaW50KGsoMSx1KSk7Zm9yKHZhciBoPTM9PT1pP2wubGVuZ3RoLTE6bC5sZW5ndGgsYz0wO2M8aDtjKyspezE9PT1jJiYxIT09aSYmdC53cml0ZVZhcmludChrKDIsaC0xKSk7dmFyIHA9bFtjXS54LW8sZj1sW2NdLnktbjt0LndyaXRlVmFyaW50KFAocCkpLHQud3JpdGVWYXJpbnQoUChmKSksbys9cCxuKz1mO30zPT09aSYmdC53cml0ZVZhcmludChrKDcsMSkpO319ZnVuY3Rpb24gQyhlLHQpe3ZhciByPXR5cGVvZiBlOyJzdHJpbmciPT09cj90LndyaXRlU3RyaW5nRmllbGQoMSxlKToiYm9vbGVhbiI9PT1yP3Qud3JpdGVCb29sZWFuRmllbGQoNyxlKToibnVtYmVyIj09PXImJihlJTEhPTA/dC53cml0ZURvdWJsZUZpZWxkKDMsZSk6ZTwwP3Qud3JpdGVTVmFyaW50RmllbGQoNixlKTp0LndyaXRlVmFyaW50RmllbGQoNSxlKSk7fWZ1bmN0aW9uIEQoZSx0LHIsaSl7TChlLHIsaSksTCh0LDIqciwyKmkpLEwodCwyKnIrMSwyKmkrMSk7fWZ1bmN0aW9uIEwoZSx0LHIpe3ZhciBpPWVbdF07ZVt0XT1lW3JdLGVbcl09aTt9ZnVuY3Rpb24gTyhlLHQscixpKXt2YXIgbz1lLXIsbj10LWk7cmV0dXJuIG8qbytuKm59dy5mcm9tVmVjdG9yVGlsZUpzPUksdy5mcm9tR2VvanNvblZ0PWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmb3IodmFyIGkgaW4gZSlyW2ldPW5ldyB2KGVbaV0uZmVhdHVyZXMsdCkscltpXS5uYW1lPWkscltpXS52ZXJzaW9uPXQudmVyc2lvbixyW2ldLmV4dGVudD10LmV4dGVudDtyZXR1cm4gSSh7bGF5ZXJzOnJ9KX0sdy5HZW9KU09OV3JhcHBlcj1TO3ZhciB6PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSxGPWZ1bmN0aW9uKGUsdCxyLGksbyl7dm9pZCAwPT09dCYmKHQ9eiksdm9pZCAwPT09ciYmKHI9RSksdm9pZCAwPT09aSYmKGk9NjQpLHZvaWQgMD09PW8mJihvPUZsb2F0NjRBcnJheSksdGhpcy5ub2RlU2l6ZT1pLHRoaXMucG9pbnRzPWU7Zm9yKHZhciBuPWUubGVuZ3RoPDY1NTM2P1VpbnQxNkFycmF5OlVpbnQzMkFycmF5LHM9dGhpcy5pZHM9bmV3IG4oZS5sZW5ndGgpLGE9dGhpcy5jb29yZHM9bmV3IG8oMiplLmxlbmd0aCksbD0wO2w8ZS5sZW5ndGg7bCsrKXNbbF09bCxhWzIqbF09dChlW2xdKSxhWzIqbCsxXT1yKGVbbF0pOyFmdW5jdGlvbiBlKHQscixpLG8sbixzKXtpZighKG4tbzw9aSkpe3ZhciBhPW8rbj4+MTshZnVuY3Rpb24gZSh0LHIsaSxvLG4scyl7Zm9yKDtuPm87KXtpZihuLW8+NjAwKXt2YXIgYT1uLW8rMSxsPWktbysxLHU9TWF0aC5sb2coYSksaD0uNSpNYXRoLmV4cCgyKnUvMyksYz0uNSpNYXRoLnNxcnQodSpoKihhLWgpL2EpKihsLWEvMjwwPy0xOjEpO2UodCxyLGksTWF0aC5tYXgobyxNYXRoLmZsb29yKGktbCpoL2ErYykpLE1hdGgubWluKG4sTWF0aC5mbG9vcihpKyhhLWwpKmgvYStjKSkscyk7fXZhciBwPXJbMippK3NdLGY9byxkPW47Zm9yKEQodCxyLG8saSksclsyKm4rc10+cCYmRCh0LHIsbyxuKTtmPGQ7KXtmb3IoRCh0LHIsZixkKSxmKyssZC0tO3JbMipmK3NdPHA7KWYrKztmb3IoO3JbMipkK3NdPnA7KWQtLTt9clsyKm8rc109PT1wP0QodCxyLG8sZCk6RCh0LHIsKytkLG4pLGQ8PWkmJihvPWQrMSksaTw9ZCYmKG49ZC0xKTt9fSh0LHIsYSxvLG4scyUyKSxlKHQscixpLG8sYS0xLHMrMSksZSh0LHIsaSxhKzEsbixzKzEpO319KHMsYSxpLDAscy5sZW5ndGgtMSwwKTt9O0YucHJvdG90eXBlLnJhbmdlPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBmdW5jdGlvbihlLHQscixpLG8sbixzKXtmb3IodmFyIGEsbCx1PVswLGUubGVuZ3RoLTEsMF0saD1bXTt1Lmxlbmd0aDspe3ZhciBjPXUucG9wKCkscD11LnBvcCgpLGY9dS5wb3AoKTtpZihwLWY8PXMpZm9yKHZhciBkPWY7ZDw9cDtkKyspbD10WzIqZCsxXSwoYT10WzIqZF0pPj1yJiZhPD1vJiZsPj1pJiZsPD1uJiZoLnB1c2goZVtkXSk7ZWxzZSB7dmFyIGc9TWF0aC5mbG9vcigoZitwKS8yKTtsPXRbMipnKzFdLChhPXRbMipnXSk+PXImJmE8PW8mJmw+PWkmJmw8PW4mJmgucHVzaChlW2ddKTt2YXIgbT0oYysxKSUyOygwPT09Yz9yPD1hOmk8PWwpJiYodS5wdXNoKGYpLHUucHVzaChnLTEpLHUucHVzaChtKSksKDA9PT1jP28+PWE6bj49bCkmJih1LnB1c2goZysxKSx1LnB1c2gocCksdS5wdXNoKG0pKTt9fXJldHVybiBofSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscixpLHRoaXMubm9kZVNpemUpfSxGLnByb3RvdHlwZS53aXRoaW49ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscixpLG8sbil7Zm9yKHZhciBzPVswLGUubGVuZ3RoLTEsMF0sYT1bXSxsPW8qbztzLmxlbmd0aDspe3ZhciB1PXMucG9wKCksaD1zLnBvcCgpLGM9cy5wb3AoKTtpZihoLWM8PW4pZm9yKHZhciBwPWM7cDw9aDtwKyspTyh0WzIqcF0sdFsyKnArMV0scixpKTw9bCYmYS5wdXNoKGVbcF0pO2Vsc2Uge3ZhciBmPU1hdGguZmxvb3IoKGMraCkvMiksZD10WzIqZl0sZz10WzIqZisxXTtPKGQsZyxyLGkpPD1sJiZhLnB1c2goZVtmXSk7dmFyIG09KHUrMSklMjsoMD09PXU/ci1vPD1kOmktbzw9ZykmJihzLnB1c2goYykscy5wdXNoKGYtMSkscy5wdXNoKG0pKSwoMD09PXU/citvPj1kOmkrbz49ZykmJihzLnB1c2goZisxKSxzLnB1c2goaCkscy5wdXNoKG0pKTt9fXJldHVybiBhfSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscix0aGlzLm5vZGVTaXplKX07dmFyIE49e21pblpvb206MCxtYXhab29tOjE2LHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gZX19LEo9ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPVYoT2JqZWN0LmNyZWF0ZShOKSxlKSx0aGlzLnRyZWVzPW5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKTt9O2Z1bmN0aW9uIFooZSx0LHIsaSxvKXtyZXR1cm4ge3g6ZSx5OnQsem9vbToxLzAsaWQ6cixwYXJlbnRJZDotMSxudW1Qb2ludHM6aSxwcm9wZXJ0aWVzOm99fWZ1bmN0aW9uIEEoZSx0KXt2YXIgcj1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLGk9clsxXTtyZXR1cm4ge3g6WShyWzBdKSx5OmooaSksem9vbToxLzAsaW5kZXg6dCxwYXJlbnRJZDotMX19ZnVuY3Rpb24gQihlKXtyZXR1cm4ge3R5cGU6IkZlYXR1cmUiLGlkOmUuaWQscHJvcGVydGllczpHKGUpLGdlb21ldHJ5Ont0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6WyhpPWUueCwzNjAqKGktLjUpKSwodD1lLnkscj0oMTgwLTM2MCp0KSpNYXRoLlBJLzE4MCwzNjAqTWF0aC5hdGFuKE1hdGguZXhwKHIpKS9NYXRoLlBJLTkwKV19fTt2YXIgdCxyLGk7fWZ1bmN0aW9uIEcoZSl7dmFyIHQ9ZS5udW1Qb2ludHMscj10Pj0xZTQ/TWF0aC5yb3VuZCh0LzFlMykrImsiOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCsiayI6dDtyZXR1cm4gVihWKHt9LGUucHJvcGVydGllcykse2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplLmlkLHBvaW50X2NvdW50OnQscG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6cn0pfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIGooZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gVihlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnh9ZnVuY3Rpb24gVyhlKXtyZXR1cm4gZS55fWZ1bmN0aW9uIFIoZSx0LHIsaSxvLG4pe3ZhciBzPW8tcixhPW4taTtpZigwIT09c3x8MCE9PWEpe3ZhciBsPSgoZS1yKSpzKyh0LWkpKmEpLyhzKnMrYSphKTtsPjE/KHI9byxpPW4pOmw+MCYmKHIrPXMqbCxpKz1hKmwpO31yZXR1cm4gKHM9ZS1yKSpzKyhhPXQtaSkqYX1mdW5jdGlvbiBxKGUsdCxyLGkpe3ZhciBvPXtpZDp2b2lkIDA9PT1lP251bGw6ZSx0eXBlOnQsZ2VvbWV0cnk6cix0YWdzOmksbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2VvbWV0cnkscj1lLnR5cGU7aWYoIlBvaW50Ij09PXJ8fCJNdWx0aVBvaW50Ij09PXJ8fCJMaW5lU3RyaW5nIj09PXIpVShlLHQpO2Vsc2UgaWYoIlBvbHlnb24iPT09cnx8Ik11bHRpTGluZVN0cmluZyI9PT1yKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKVUoZSx0W2ldKTtlbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09cilmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWZvcih2YXIgbz0wO288dFtpXS5sZW5ndGg7bysrKVUoZSx0W2ldW29dKTt9KG8pLG99ZnVuY3Rpb24gVShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cis9MyllLm1pblg9TWF0aC5taW4oZS5taW5YLHRbcl0pLGUubWluWT1NYXRoLm1pbihlLm1pblksdFtyKzFdKSxlLm1heFg9TWF0aC5tYXgoZS5tYXhYLHRbcl0pLGUubWF4WT1NYXRoLm1heChlLm1heFksdFtyKzFdKTt9ZnVuY3Rpb24gJChlLHQscixpKXtpZih0Lmdlb21ldHJ5KXt2YXIgbz10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLG49dC5nZW9tZXRyeS50eXBlLHM9TWF0aC5wb3coci50b2xlcmFuY2UvKCgxPDxyLm1heFpvb20pKnIuZXh0ZW50KSwyKSxhPVtdLGw9dC5pZDtpZihyLnByb21vdGVJZD9sPXQucHJvcGVydGllc1tyLnByb21vdGVJZF06ci5nZW5lcmF0ZUlkJiYobD1pfHwwKSwiUG9pbnQiPT09bilIKG8sYSk7ZWxzZSBpZigiTXVsdGlQb2ludCI9PT1uKWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKUgob1t1XSxhKTtlbHNlIGlmKCJMaW5lU3RyaW5nIj09PW4pSyhvLGEscywhMSk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PW4pe2lmKHIubGluZU1ldHJpY3Mpe2Zvcih1PTA7dTxvLmxlbmd0aDt1KyspSyhvW3VdLGE9W10scywhMSksZS5wdXNoKHEobCwiTGluZVN0cmluZyIsYSx0LnByb3BlcnRpZXMpKTtyZXR1cm59UShvLGEscywhMSk7fWVsc2UgaWYoIlBvbHlnb24iPT09bilRKG8sYSxzLCEwKTtlbHNlIHtpZigiTXVsdGlQb2x5Z29uIiE9PW4pe2lmKCJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bil7Zm9yKHU9MDt1PHQuZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7dSsrKSQoZSx7aWQ6bCxnZW9tZXRyeTp0Lmdlb21ldHJ5Lmdlb21ldHJpZXNbdV0scHJvcGVydGllczp0LnByb3BlcnRpZXN9LHIsaSk7cmV0dXJufXRocm93IG5ldyBFcnJvcigiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC4iKX1mb3IodT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgaD1bXTtRKG9bdV0saCxzLCEwKSxhLnB1c2goaCk7fX1lLnB1c2gocShsLG4sYSx0LnByb3BlcnRpZXMpKTt9fWZ1bmN0aW9uIEgoZSx0KXt0LnB1c2goZWUoZVswXSkpLHQucHVzaCh0ZShlWzFdKSksdC5wdXNoKDApO31mdW5jdGlvbiBLKGUsdCxyLGkpe2Zvcih2YXIgbyxuLHM9MCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBsPWVlKGVbYV1bMF0pLHU9dGUoZVthXVsxXSk7dC5wdXNoKGwpLHQucHVzaCh1KSx0LnB1c2goMCksYT4wJiYocys9aT8obyp1LWwqbikvMjpNYXRoLnNxcnQoTWF0aC5wb3cobC1vLDIpK01hdGgucG93KHUtbiwyKSkpLG89bCxuPXU7fXZhciBoPXQubGVuZ3RoLTM7dFsyXT0xLGZ1bmN0aW9uIGUodCxyLGksbyl7Zm9yKHZhciBuLHM9byxhPWktcj4+MSxsPWktcix1PXRbcl0saD10W3IrMV0sYz10W2ldLHA9dFtpKzFdLGY9ciszO2Y8aTtmKz0zKXt2YXIgZD1SKHRbZl0sdFtmKzFdLHUsaCxjLHApO2lmKGQ+cyluPWYscz1kO2Vsc2UgaWYoZD09PXMpe3ZhciBnPU1hdGguYWJzKGYtYSk7ZzxsJiYobj1mLGw9Zyk7fX1zPm8mJihuLXI+MyYmZSh0LHIsbixvKSx0W24rMl09cyxpLW4+MyYmZSh0LG4saSxvKSk7fSh0LDAsaCxyKSx0W2grMl09MSx0LnNpemU9TWF0aC5hYnMocyksdC5zdGFydD0wLHQuZW5kPXQuc2l6ZTt9ZnVuY3Rpb24gUShlLHQscixpKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIG49W107SyhlW29dLG4scixpKSx0LnB1c2gobik7fX1mdW5jdGlvbiBlZShlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gdGUoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gcmUoZSx0LHIsaSxvLG4scyxhKXtpZihpLz10LG4+PShyLz10KSYmczxpKXJldHVybiBlO2lmKHM8cnx8bj49aSlyZXR1cm4gbnVsbDtmb3IodmFyIGw9W10sdT0wO3U8ZS5sZW5ndGg7dSsrKXt2YXIgaD1lW3VdLGM9aC5nZW9tZXRyeSxwPWgudHlwZSxmPTA9PT1vP2gubWluWDpoLm1pblksZD0wPT09bz9oLm1heFg6aC5tYXhZO2lmKGY+PXImJmQ8aSlsLnB1c2goaCk7ZWxzZSBpZighKGQ8cnx8Zj49aSkpe3ZhciBnPVtdO2lmKCJQb2ludCI9PT1wfHwiTXVsdGlQb2ludCI9PT1wKWllKGMsZyxyLGksbyk7ZWxzZSBpZigiTGluZVN0cmluZyI9PT1wKW9lKGMsZyxyLGksbywhMSxhLmxpbmVNZXRyaWNzKTtlbHNlIGlmKCJNdWx0aUxpbmVTdHJpbmciPT09cClzZShjLGcscixpLG8sITEpO2Vsc2UgaWYoIlBvbHlnb24iPT09cClzZShjLGcscixpLG8sITApO2Vsc2UgaWYoIk11bHRpUG9seWdvbiI9PT1wKWZvcih2YXIgbT0wO208Yy5sZW5ndGg7bSsrKXt2YXIgdj1bXTtzZShjW21dLHYscixpLG8sITApLHYubGVuZ3RoJiZnLnB1c2godik7fWlmKGcubGVuZ3RoKXtpZihhLmxpbmVNZXRyaWNzJiYiTGluZVN0cmluZyI9PT1wKXtmb3IobT0wO208Zy5sZW5ndGg7bSsrKWwucHVzaChxKGguaWQscCxnW21dLGgudGFncykpO2NvbnRpbnVlfSJMaW5lU3RyaW5nIiE9PXAmJiJNdWx0aUxpbmVTdHJpbmciIT09cHx8KDE9PT1nLmxlbmd0aD8ocD0iTGluZVN0cmluZyIsZz1nWzBdKTpwPSJNdWx0aUxpbmVTdHJpbmciKSwiUG9pbnQiIT09cCYmIk11bHRpUG9pbnQiIT09cHx8KHA9Mz09PWcubGVuZ3RoPyJQb2ludCI6Ik11bHRpUG9pbnQiKSxsLnB1c2gocShoLmlkLHAsZyxoLnRhZ3MpKTt9fX1yZXR1cm4gbC5sZW5ndGg/bDpudWxsfWZ1bmN0aW9uIGllKGUsdCxyLGksbyl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0zKXt2YXIgcz1lW24rb107cz49ciYmczw9aSYmKHQucHVzaChlW25dKSx0LnB1c2goZVtuKzFdKSx0LnB1c2goZVtuKzJdKSk7fX1mdW5jdGlvbiBvZShlLHQscixpLG8sbixzKXtmb3IodmFyIGEsbCx1PW5lKGUpLGg9MD09PW8/bGU6dWUsYz1lLnN0YXJ0LHA9MDtwPGUubGVuZ3RoLTM7cCs9Myl7dmFyIGY9ZVtwXSxkPWVbcCsxXSxnPWVbcCsyXSxtPWVbcCszXSx2PWVbcCs0XSx5PTA9PT1vP2Y6ZCx4PTA9PT1vP206dix3PSExO3MmJihhPU1hdGguc3FydChNYXRoLnBvdyhmLW0sMikrTWF0aC5wb3coZC12LDIpKSkseTxyP3g+ciYmKGw9aCh1LGYsZCxtLHYscikscyYmKHUuc3RhcnQ9YythKmwpKTp5Pmk/eDxpJiYobD1oKHUsZixkLG0sdixpKSxzJiYodS5zdGFydD1jK2EqbCkpOmFlKHUsZixkLGcpLHg8ciYmeT49ciYmKGw9aCh1LGYsZCxtLHYsciksdz0hMCkseD5pJiZ5PD1pJiYobD1oKHUsZixkLG0sdixpKSx3PSEwKSwhbiYmdyYmKHMmJih1LmVuZD1jK2EqbCksdC5wdXNoKHUpLHU9bmUoZSkpLHMmJihjKz1hKTt9dmFyIFM9ZS5sZW5ndGgtMztmPWVbU10sZD1lW1MrMV0sZz1lW1MrMl0sKHk9MD09PW8/ZjpkKT49ciYmeTw9aSYmYWUodSxmLGQsZyksUz11Lmxlbmd0aC0zLG4mJlM+PTMmJih1W1NdIT09dVswXXx8dVtTKzFdIT09dVsxXSkmJmFlKHUsdVswXSx1WzFdLHVbMl0pLHUubGVuZ3RoJiZ0LnB1c2godSk7fWZ1bmN0aW9uIG5lKGUpe3ZhciB0PVtdO3JldHVybiB0LnNpemU9ZS5zaXplLHQuc3RhcnQ9ZS5zdGFydCx0LmVuZD1lLmVuZCx0fWZ1bmN0aW9uIHNlKGUsdCxyLGksbyxuKXtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKylvZShlW3NdLHQscixpLG8sbiwhMSk7fWZ1bmN0aW9uIGFlKGUsdCxyLGkpe2UucHVzaCh0KSxlLnB1c2gociksZS5wdXNoKGkpO31mdW5jdGlvbiBsZShlLHQscixpLG8sbil7dmFyIHM9KG4tdCkvKGktdCk7cmV0dXJuIGUucHVzaChuKSxlLnB1c2gocisoby1yKSpzKSxlLnB1c2goMSksc31mdW5jdGlvbiB1ZShlLHQscixpLG8sbil7dmFyIHM9KG4tcikvKG8tcik7cmV0dXJuIGUucHVzaCh0KyhpLXQpKnMpLGUucHVzaChuKSxlLnB1c2goMSksc31mdW5jdGlvbiBoZShlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvLG49ZVtpXSxzPW4udHlwZTtpZigiUG9pbnQiPT09c3x8Ik11bHRpUG9pbnQiPT09c3x8IkxpbmVTdHJpbmciPT09cylvPWNlKG4uZ2VvbWV0cnksdCk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PXN8fCJQb2x5Z29uIj09PXMpe289W107Zm9yKHZhciBhPTA7YTxuLmdlb21ldHJ5Lmxlbmd0aDthKyspby5wdXNoKGNlKG4uZ2VvbWV0cnlbYV0sdCkpO31lbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09cylmb3Iobz1bXSxhPTA7YTxuLmdlb21ldHJ5Lmxlbmd0aDthKyspe2Zvcih2YXIgbD1bXSx1PTA7dTxuLmdlb21ldHJ5W2FdLmxlbmd0aDt1KyspbC5wdXNoKGNlKG4uZ2VvbWV0cnlbYV1bdV0sdCkpO28ucHVzaChsKTt9ci5wdXNoKHEobi5pZCxzLG8sbi50YWdzKSk7fXJldHVybiByfWZ1bmN0aW9uIGNlKGUsdCl7dmFyIHI9W107ci5zaXplPWUuc2l6ZSx2b2lkIDAhPT1lLnN0YXJ0JiYoci5zdGFydD1lLnN0YXJ0LHIuZW5kPWUuZW5kKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krPTMpci5wdXNoKGVbaV0rdCxlW2krMV0sZVtpKzJdKTtyZXR1cm4gcn1mdW5jdGlvbiBwZShlLHQpe2lmKGUudHJhbnNmb3JtZWQpcmV0dXJuIGU7dmFyIHIsaSxvLG49MTw8ZS56LHM9ZS54LGE9ZS55O2ZvcihyPTA7cjxlLmZlYXR1cmVzLmxlbmd0aDtyKyspe3ZhciBsPWUuZmVhdHVyZXNbcl0sdT1sLmdlb21ldHJ5LGg9bC50eXBlO2lmKGwuZ2VvbWV0cnk9W10sMT09PWgpZm9yKGk9MDtpPHUubGVuZ3RoO2krPTIpbC5nZW9tZXRyeS5wdXNoKGZlKHVbaV0sdVtpKzFdLHQsbixzLGEpKTtlbHNlIGZvcihpPTA7aTx1Lmxlbmd0aDtpKyspe3ZhciBjPVtdO2ZvcihvPTA7bzx1W2ldLmxlbmd0aDtvKz0yKWMucHVzaChmZSh1W2ldW29dLHVbaV1bbysxXSx0LG4scyxhKSk7bC5nZW9tZXRyeS5wdXNoKGMpO319cmV0dXJuIGUudHJhbnNmb3JtZWQ9ITAsZX1mdW5jdGlvbiBmZShlLHQscixpLG8sbil7cmV0dXJuIFtNYXRoLnJvdW5kKHIqKGUqaS1vKSksTWF0aC5yb3VuZChyKih0KmktbikpXX1mdW5jdGlvbiBkZShlLHQscixpLG8pe2Zvcih2YXIgbj10PT09by5tYXhab29tPzA6by50b2xlcmFuY2UvKCgxPDx0KSpvLmV4dGVudCkscz17ZmVhdHVyZXM6W10sbnVtUG9pbnRzOjAsbnVtU2ltcGxpZmllZDowLG51bUZlYXR1cmVzOjAsc291cmNlOm51bGwseDpyLHk6aSx6OnQsdHJhbnNmb3JtZWQ6ITEsbWluWDoyLG1pblk6MSxtYXhYOi0xLG1heFk6MH0sYT0wO2E8ZS5sZW5ndGg7YSsrKXtzLm51bUZlYXR1cmVzKyssZ2UocyxlW2FdLG4sbyk7dmFyIGw9ZVthXS5taW5YLHU9ZVthXS5taW5ZLGg9ZVthXS5tYXhYLGM9ZVthXS5tYXhZO2w8cy5taW5YJiYocy5taW5YPWwpLHU8cy5taW5ZJiYocy5taW5ZPXUpLGg+cy5tYXhYJiYocy5tYXhYPWgpLGM+cy5tYXhZJiYocy5tYXhZPWMpO31yZXR1cm4gc31mdW5jdGlvbiBnZShlLHQscixpKXt2YXIgbz10Lmdlb21ldHJ5LG49dC50eXBlLHM9W107aWYoIlBvaW50Ij09PW58fCJNdWx0aVBvaW50Ij09PW4pZm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKz0zKXMucHVzaChvW2FdKSxzLnB1c2gob1thKzFdKSxlLm51bVBvaW50cysrLGUubnVtU2ltcGxpZmllZCsrO2Vsc2UgaWYoIkxpbmVTdHJpbmciPT09biltZShzLG8sZSxyLCExLCExKTtlbHNlIGlmKCJNdWx0aUxpbmVTdHJpbmciPT09bnx8IlBvbHlnb24iPT09bilmb3IoYT0wO2E8by5sZW5ndGg7YSsrKW1lKHMsb1thXSxlLHIsIlBvbHlnb24iPT09biwwPT09YSk7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW4pZm9yKHZhciBsPTA7bDxvLmxlbmd0aDtsKyspe3ZhciB1PW9bbF07Zm9yKGE9MDthPHUubGVuZ3RoO2ErKyltZShzLHVbYV0sZSxyLCEwLDA9PT1hKTt9aWYocy5sZW5ndGgpe3ZhciBoPXQudGFnc3x8bnVsbDtpZigiTGluZVN0cmluZyI9PT1uJiZpLmxpbmVNZXRyaWNzKXtmb3IodmFyIGMgaW4gaD17fSx0LnRhZ3MpaFtjXT10LnRhZ3NbY107aC5tYXBib3hfY2xpcF9zdGFydD1vLnN0YXJ0L28uc2l6ZSxoLm1hcGJveF9jbGlwX2VuZD1vLmVuZC9vLnNpemU7fXZhciBwPXtnZW9tZXRyeTpzLHR5cGU6IlBvbHlnb24iPT09bnx8Ik11bHRpUG9seWdvbiI9PT1uPzM6IkxpbmVTdHJpbmciPT09bnx8Ik11bHRpTGluZVN0cmluZyI9PT1uPzI6MSx0YWdzOmh9O251bGwhPT10LmlkJiYocC5pZD10LmlkKSxlLmZlYXR1cmVzLnB1c2gocCk7fX1mdW5jdGlvbiBtZShlLHQscixpLG8sbil7dmFyIHM9aSppO2lmKGk+MCYmdC5zaXplPChvP3M6aSkpci5udW1Qb2ludHMrPXQubGVuZ3RoLzM7ZWxzZSB7Zm9yKHZhciBhPVtdLGw9MDtsPHQubGVuZ3RoO2wrPTMpKDA9PT1pfHx0W2wrMl0+cykmJihyLm51bVNpbXBsaWZpZWQrKyxhLnB1c2godFtsXSksYS5wdXNoKHRbbCsxXSkpLHIubnVtUG9pbnRzKys7byYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxpPTAsbz1lLmxlbmd0aCxuPW8tMjtpPG87bj1pLGkrPTIpcis9KGVbaV0tZVtuXSkqKGVbaSsxXStlW24rMV0pO2lmKHI+MD09PXQpZm9yKGk9MCxvPWUubGVuZ3RoO2k8by8yO2krPTIpe3ZhciBzPWVbaV0sYT1lW2krMV07ZVtpXT1lW28tMi1pXSxlW2krMV09ZVtvLTEtaV0sZVtvLTItaV09cyxlW28tMS1pXT1hO319KGEsbiksZS5wdXNoKGEpO319ZnVuY3Rpb24gdmUoZSx0KXt2YXIgcj0odD10aGlzLm9wdGlvbnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9KE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zKSx0KSkuZGVidWc7aWYociYmY29uc29sZS50aW1lKCJwcmVwcm9jZXNzIGRhdGEiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcigibWF4Wm9vbSBzaG91bGQgYmUgaW4gdGhlIDAtMjQgcmFuZ2UiKTtpZih0LnByb21vdGVJZCYmdC5nZW5lcmF0ZUlkKXRocm93IG5ldyBFcnJvcigicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLiIpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoIkZlYXR1cmVDb2xsZWN0aW9uIj09PWUudHlwZSlmb3IodmFyIGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKykkKHIsZS5mZWF0dXJlc1tpXSx0LGkpO2Vsc2UgJChyLCJGZWF0dXJlIj09PWUudHlwZT9lOntnZW9tZXRyeTplfSx0KTtyZXR1cm4gcn0oZSx0KTt0aGlzLnRpbGVzPXt9LHRoaXMudGlsZUNvb3Jkcz1bXSxyJiYoY29uc29sZS50aW1lRW5kKCJwcmVwcm9jZXNzIGRhdGEiKSxjb25zb2xlLmxvZygiaW5kZXg6IG1heFpvb206ICVkLCBtYXhQb2ludHM6ICVkIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoImdlbmVyYXRlIHRpbGVzIiksdGhpcy5zdGF0cz17fSx0aGlzLnRvdGFsPTApLChpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5idWZmZXIvdC5leHRlbnQsaT1lLG89cmUoZSwxLC0xLXIsciwwLC0xLDIsdCksbj1yZShlLDEsMS1yLDIrciwwLC0xLDIsdCk7cmV0dXJuIChvfHxuKSYmKGk9cmUoZSwxLC1yLDErciwwLC0xLDIsdCl8fFtdLG8mJihpPWhlKG8sMSkuY29uY2F0KGkpKSxuJiYoaT1pLmNvbmNhdChoZShuLC0xKSkpKSxpfShpLHQpKS5sZW5ndGgmJnRoaXMuc3BsaXRUaWxlKGksMCwwLDApLHImJihpLmxlbmd0aCYmY29uc29sZS5sb2coImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCIsdGhpcy50aWxlc1swXS5udW1GZWF0dXJlcyx0aGlzLnRpbGVzWzBdLm51bVBvaW50cyksY29uc29sZS50aW1lRW5kKCJnZW5lcmF0ZSB0aWxlcyIpLGNvbnNvbGUubG9nKCJ0aWxlcyBnZW5lcmF0ZWQ6Iix0aGlzLnRvdGFsLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHMpKSk7fWZ1bmN0aW9uIHllKGUsdCxyKXtyZXR1cm4gMzIqKCgxPDxlKSpyK3QpK2V9ZnVuY3Rpb24geGUoZSx0KXt2YXIgcj1lLnRpbGVJRC5jYW5vbmljYWw7aWYoIXRoaXMuX2dlb0pTT05JbmRleClyZXR1cm4gdChudWxsLG51bGwpO3ZhciBpPXRoaXMuX2dlb0pTT05JbmRleC5nZXRUaWxlKHIueixyLngsci55KTtpZighaSlyZXR1cm4gdChudWxsLG51bGwpO3ZhciBvPW5ldyBnKGkuZmVhdHVyZXMpLG49dyhvKTswPT09bi5ieXRlT2Zmc2V0JiZuLmJ5dGVMZW5ndGg9PT1uLmJ1ZmZlci5ieXRlTGVuZ3RofHwobj1uZXcgVWludDhBcnJheShuKSksdChudWxsLHt2ZWN0b3JUaWxlOm8scmF3RGF0YTpuLmJ1ZmZlcn0pO31KLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucyxyPXQubG9nLGk9dC5taW5ab29tLG89dC5tYXhab29tLG49dC5ub2RlU2l6ZTtyJiZjb25zb2xlLnRpbWUoInRvdGFsIHRpbWUiKTt2YXIgcz0icHJlcGFyZSAiK2UubGVuZ3RoKyIgcG9pbnRzIjtyJiZjb25zb2xlLnRpbWUocyksdGhpcy5wb2ludHM9ZTtmb3IodmFyIGE9W10sbD0wO2w8ZS5sZW5ndGg7bCsrKWVbbF0uZ2VvbWV0cnkmJmEucHVzaChBKGVbbF0sbCkpO3RoaXMudHJlZXNbbysxXT1uZXcgRihhLFgsVyxuLEZsb2F0MzJBcnJheSksciYmY29uc29sZS50aW1lRW5kKHMpO2Zvcih2YXIgdT1vO3U+PWk7dS0tKXt2YXIgaD0rRGF0ZS5ub3coKTthPXRoaXMuX2NsdXN0ZXIoYSx1KSx0aGlzLnRyZWVzW3VdPW5ldyBGKGEsWCxXLG4sRmxvYXQzMkFycmF5KSxyJiZjb25zb2xlLmxvZygieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zIix1LGEubGVuZ3RoLCtEYXRlLm5vdygpLWgpO31yZXR1cm4gciYmY29uc29sZS50aW1lRW5kKCJ0b3RhbCB0aW1lIiksdGhpc30sSi5wcm90b3R5cGUuZ2V0Q2x1c3RlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwLGk9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKSxvPTE4MD09PWVbMl0/MTgwOigoZVsyXSsxODApJTM2MCszNjApJTM2MC0xODAsbj1NYXRoLm1heCgtOTAsTWF0aC5taW4oOTAsZVszXSkpO2lmKGVbMl0tZVswXT49MzYwKXI9LTE4MCxvPTE4MDtlbHNlIGlmKHI+byl7dmFyIHM9dGhpcy5nZXRDbHVzdGVycyhbcixpLDE4MCxuXSx0KSxhPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsaSxvLG5dLHQpO3JldHVybiBzLmNvbmNhdChhKX1mb3IodmFyIGw9dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20odCldLHU9W10saD0wLGM9bC5yYW5nZShZKHIpLGoobiksWShvKSxqKGkpKTtoPGMubGVuZ3RoO2grPTEpe3ZhciBwPWwucG9pbnRzW2NbaF1dO3UucHVzaChwLm51bVBvaW50cz9CKHApOnRoaXMucG9pbnRzW3AuaW5kZXhdKTt9cmV0dXJuIHV9LEoucHJvdG90eXBlLmdldENoaWxkcmVuPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldE9yaWdpbklkKGUpLHI9dGhpcy5fZ2V0T3JpZ2luWm9vbShlKSxpPSJObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC4iLG89dGhpcy50cmVlc1tyXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoaSk7dmFyIG49by5wb2ludHNbdF07aWYoIW4pdGhyb3cgbmV3IEVycm9yKGkpO2Zvcih2YXIgcz10aGlzLm9wdGlvbnMucmFkaXVzLyh0aGlzLm9wdGlvbnMuZXh0ZW50Kk1hdGgucG93KDIsci0xKSksYT1bXSxsPTAsdT1vLndpdGhpbihuLngsbi55LHMpO2w8dS5sZW5ndGg7bCs9MSl7dmFyIGg9by5wb2ludHNbdVtsXV07aC5wYXJlbnRJZD09PWUmJmEucHVzaChoLm51bVBvaW50cz9CKGgpOnRoaXMucG9pbnRzW2guaW5kZXhdKTt9aWYoMD09PWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4gYX0sSi5wcm90b3R5cGUuZ2V0TGVhdmVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1bXTtyZXR1cm4gdGhpcy5fYXBwZW5kTGVhdmVzKGksZSx0PXR8fDEwLHI9cnx8MCwwKSxpfSxKLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbShlKV0sbz1NYXRoLnBvdygyLGUpLG49dGhpcy5vcHRpb25zLHM9bi5yYWRpdXMvbi5leHRlbnQsYT0oci1zKS9vLGw9KHIrMStzKS9vLHU9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoKHQtcykvbyxhLCh0KzErcykvbyxsKSxpLnBvaW50cyx0LHIsbyx1KSwwPT09dCYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoMS1zL28sYSwxLGwpLGkucG9pbnRzLG8scixvLHUpLHQ9PT1vLTEmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhpLnJhbmdlKDAsYSxzL28sbCksaS5wb2ludHMsLTEscixvLHUpLHUuZmVhdHVyZXMubGVuZ3RoP3U6bnVsbH0sSi5wcm90b3R5cGUuZ2V0Q2x1c3RlckV4cGFuc2lvblpvb209ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dldE9yaWdpblpvb20oZSktMTt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe3ZhciByPXRoaXMuZ2V0Q2hpbGRyZW4oZSk7aWYodCsrLDEhPT1yLmxlbmd0aClicmVhaztlPXJbMF0ucHJvcGVydGllcy5jbHVzdGVyX2lkO31yZXR1cm4gdH0sSi5wcm90b3R5cGUuX2FwcGVuZExlYXZlcz1mdW5jdGlvbihlLHQscixpLG8pe2Zvcih2YXIgbj0wLHM9dGhpcy5nZXRDaGlsZHJlbih0KTtuPHMubGVuZ3RoO24rPTEpe3ZhciBhPXNbbl0sbD1hLnByb3BlcnRpZXM7aWYobCYmbC5jbHVzdGVyP28rbC5wb2ludF9jb3VudDw9aT9vKz1sLnBvaW50X2NvdW50Om89dGhpcy5fYXBwZW5kTGVhdmVzKGUsbC5jbHVzdGVyX2lkLHIsaSxvKTpvPGk/bysrOmUucHVzaChhKSxlLmxlbmd0aD09PXIpYnJlYWt9cmV0dXJuIG99LEoucHJvdG90eXBlLl9hZGRUaWxlRmVhdHVyZXM9ZnVuY3Rpb24oZSx0LHIsaSxvLG4pe2Zvcih2YXIgcz0wLGE9ZTtzPGEubGVuZ3RoO3MrPTEpe3ZhciBsPXRbYVtzXV0sdT1sLm51bVBvaW50cyxoPXt0eXBlOjEsZ2VvbWV0cnk6W1tNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKGwueCpvLXIpKSxNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKGwueSpvLWkpKV1dLHRhZ3M6dT9HKGwpOnRoaXMucG9pbnRzW2wuaW5kZXhdLnByb3BlcnRpZXN9LGM9dm9pZCAwO3U/Yz1sLmlkOnRoaXMub3B0aW9ucy5nZW5lcmF0ZUlkP2M9bC5pbmRleDp0aGlzLnBvaW50c1tsLmluZGV4XS5pZCYmKGM9dGhpcy5wb2ludHNbbC5pbmRleF0uaWQpLHZvaWQgMCE9PWMmJihoLmlkPWMpLG4uZmVhdHVyZXMucHVzaChoKTt9fSxKLnByb3RvdHlwZS5fbGltaXRab29tPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihlLHRoaXMub3B0aW9ucy5tYXhab29tKzEpKX0sSi5wcm90b3R5cGUuX2NsdXN0ZXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT10aGlzLm9wdGlvbnMsbz1pLnJlZHVjZSxuPWkucmFkaXVzLyhpLmV4dGVudCpNYXRoLnBvdygyLHQpKSxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBhPWVbc107aWYoIShhLnpvb208PXQpKXthLnpvb209dDtmb3IodmFyIGw9dGhpcy50cmVlc1t0KzFdLHU9bC53aXRoaW4oYS54LGEueSxuKSxoPWEubnVtUG9pbnRzfHwxLGM9YS54KmgscD1hLnkqaCxmPW8mJmg+MT90aGlzLl9tYXAoYSwhMCk6bnVsbCxkPShzPDw1KSsodCsxKSt0aGlzLnBvaW50cy5sZW5ndGgsZz0wLG09dTtnPG0ubGVuZ3RoO2crPTEpe3ZhciB2PWwucG9pbnRzW21bZ11dO2lmKCEodi56b29tPD10KSl7di56b29tPXQ7dmFyIHk9di5udW1Qb2ludHN8fDE7Yys9di54KnkscCs9di55KnksaCs9eSx2LnBhcmVudElkPWQsbyYmKGZ8fChmPXRoaXMuX21hcChhLCEwKSksbyhmLHRoaXMuX21hcCh2KSkpO319MT09PWg/ci5wdXNoKGEpOihhLnBhcmVudElkPWQsci5wdXNoKFooYy9oLHAvaCxkLGgsZikpKTt9fXJldHVybiByfSxKLnByb3RvdHlwZS5fZ2V0T3JpZ2luSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUtdGhpcy5wb2ludHMubGVuZ3RoPj41fSxKLnByb3RvdHlwZS5fZ2V0T3JpZ2luWm9vbT1mdW5jdGlvbihlKXtyZXR1cm4gKGUtdGhpcy5wb2ludHMubGVuZ3RoKSUzMn0sSi5wcm90b3R5cGUuX21hcD1mdW5jdGlvbihlLHQpe2lmKGUubnVtUG9pbnRzKXJldHVybiB0P1Yoe30sZS5wcm9wZXJ0aWVzKTplLnByb3BlcnRpZXM7dmFyIHI9dGhpcy5wb2ludHNbZS5pbmRleF0ucHJvcGVydGllcyxpPXRoaXMub3B0aW9ucy5tYXAocik7cmV0dXJuIHQmJmk9PT1yP1Yoe30saSk6aX0sdmUucHJvdG90eXBlLm9wdGlvbnM9e21heFpvb206MTQsaW5kZXhNYXhab29tOjUsaW5kZXhNYXhQb2ludHM6MWU1LHRvbGVyYW5jZTozLGV4dGVudDo0MDk2LGJ1ZmZlcjo2NCxsaW5lTWV0cmljczohMSxwcm9tb3RlSWQ6bnVsbCxnZW5lcmF0ZUlkOiExLGRlYnVnOjB9LHZlLnByb3RvdHlwZS5zcGxpdFRpbGU9ZnVuY3Rpb24oZSx0LHIsaSxvLG4scyl7Zm9yKHZhciBhPVtlLHQscixpXSxsPXRoaXMub3B0aW9ucyx1PWwuZGVidWc7YS5sZW5ndGg7KXtpPWEucG9wKCkscj1hLnBvcCgpLHQ9YS5wb3AoKSxlPWEucG9wKCk7dmFyIGg9MTw8dCxjPXllKHQscixpKSxwPXRoaXMudGlsZXNbY107aWYoIXAmJih1PjEmJmNvbnNvbGUudGltZSgiY3JlYXRpb24iKSxwPXRoaXMudGlsZXNbY109ZGUoZSx0LHIsaSxsKSx0aGlzLnRpbGVDb29yZHMucHVzaCh7ejp0LHg6cix5Oml9KSx1KSl7dT4xJiYoY29uc29sZS5sb2coInRpbGUgeiVkLSVkLSVkIChmZWF0dXJlczogJWQsIHBvaW50czogJWQsIHNpbXBsaWZpZWQ6ICVkKSIsdCxyLGkscC5udW1GZWF0dXJlcyxwLm51bVBvaW50cyxwLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZCgiY3JlYXRpb24iKSk7dmFyIGY9InoiK3Q7dGhpcy5zdGF0c1tmXT0odGhpcy5zdGF0c1tmXXx8MCkrMSx0aGlzLnRvdGFsKys7fWlmKHAuc291cmNlPWUsbyl7aWYodD09PWwubWF4Wm9vbXx8dD09PW8pY29udGludWU7dmFyIGQ9MTw8by10O2lmKHIhPT1NYXRoLmZsb29yKG4vZCl8fGkhPT1NYXRoLmZsb29yKHMvZCkpY29udGludWV9ZWxzZSBpZih0PT09bC5pbmRleE1heFpvb218fHAubnVtUG9pbnRzPD1sLmluZGV4TWF4UG9pbnRzKWNvbnRpbnVlO2lmKHAuc291cmNlPW51bGwsMCE9PWUubGVuZ3RoKXt1PjEmJmNvbnNvbGUudGltZSgiY2xpcHBpbmciKTt2YXIgZyxtLHYseSx4LHcsUz0uNSpsLmJ1ZmZlci9sLmV4dGVudCxJPS41LVMsTT0uNStTLGI9MStTO2c9bT12PXk9bnVsbCx4PXJlKGUsaCxyLVMscitNLDAscC5taW5YLHAubWF4WCxsKSx3PXJlKGUsaCxyK0kscitiLDAscC5taW5YLHAubWF4WCxsKSxlPW51bGwseCYmKGc9cmUoeCxoLGktUyxpK00sMSxwLm1pblkscC5tYXhZLGwpLG09cmUoeCxoLGkrSSxpK2IsMSxwLm1pblkscC5tYXhZLGwpLHg9bnVsbCksdyYmKHY9cmUodyxoLGktUyxpK00sMSxwLm1pblkscC5tYXhZLGwpLHk9cmUodyxoLGkrSSxpK2IsMSxwLm1pblkscC5tYXhZLGwpLHc9bnVsbCksdT4xJiZjb25zb2xlLnRpbWVFbmQoImNsaXBwaW5nIiksYS5wdXNoKGd8fFtdLHQrMSwyKnIsMippKSxhLnB1c2gobXx8W10sdCsxLDIqciwyKmkrMSksYS5wdXNoKHZ8fFtdLHQrMSwyKnIrMSwyKmkpLGEucHVzaCh5fHxbXSx0KzEsMipyKzEsMippKzEpO319fSx2ZS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5vcHRpb25zLG89aS5leHRlbnQsbj1pLmRlYnVnO2lmKGU8MHx8ZT4yNClyZXR1cm4gbnVsbDt2YXIgcz0xPDxlLGE9eWUoZSx0PSh0JXMrcyklcyxyKTtpZih0aGlzLnRpbGVzW2FdKXJldHVybiBwZSh0aGlzLnRpbGVzW2FdLG8pO24+MSYmY29uc29sZS5sb2coImRyaWxsaW5nIGRvd24gdG8geiVkLSVkLSVkIixlLHQscik7Zm9yKHZhciBsLHU9ZSxoPXQsYz1yOyFsJiZ1PjA7KXUtLSxoPU1hdGguZmxvb3IoaC8yKSxjPU1hdGguZmxvb3IoYy8yKSxsPXRoaXMudGlsZXNbeWUodSxoLGMpXTtyZXR1cm4gbCYmbC5zb3VyY2U/KG4+MSYmY29uc29sZS5sb2coImZvdW5kIHBhcmVudCB0aWxlIHolZC0lZC0lZCIsdSxoLGMpLG4+MSYmY29uc29sZS50aW1lKCJkcmlsbGluZyBkb3duIiksdGhpcy5zcGxpdFRpbGUobC5zb3VyY2UsdSxoLGMsZSx0LHIpLG4+MSYmY29uc29sZS50aW1lRW5kKCJkcmlsbGluZyBkb3duIiksdGhpcy50aWxlc1thXT9wZSh0aGlzLnRpbGVzW2FdLG8pOm51bGwpOm51bGx9O3ZhciB3ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUscixpLG8pe3QuY2FsbCh0aGlzLGUscixpLHhlKSxvJiYodGhpcy5sb2FkR2VvSlNPTj1vKTt9cmV0dXJuIHQmJihyLl9fcHJvdG9fXz10KSwoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXIsci5wcm90b3R5cGUubG9hZERhdGE9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wZW5kaW5nQ2FsbGJhY2smJnRoaXMuX3BlbmRpbmdDYWxsYmFjayhudWxsLHthYmFuZG9uZWQ6ITB9KSx0aGlzLl9wZW5kaW5nQ2FsbGJhY2s9dCx0aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXM9ZSx0aGlzLl9zdGF0ZSYmIklkbGUiIT09dGhpcy5fc3RhdGU/dGhpcy5fc3RhdGU9Ik5lZWRzTG9hZERhdGEiOih0aGlzLl9zdGF0ZT0iQ29hbGVzY2luZyIsdGhpcy5fbG9hZERhdGEoKSk7fSxyLnByb3RvdHlwZS5fbG9hZERhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX3BlbmRpbmdDYWxsYmFjayYmdGhpcy5fcGVuZGluZ0xvYWREYXRhUGFyYW1zKXt2YXIgcj10aGlzLl9wZW5kaW5nQ2FsbGJhY2ssaT10aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXM7ZGVsZXRlIHRoaXMuX3BlbmRpbmdDYWxsYmFjayxkZWxldGUgdGhpcy5fcGVuZGluZ0xvYWREYXRhUGFyYW1zO3ZhciBvPSEhKGkmJmkucmVxdWVzdCYmaS5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZykmJm5ldyBlLlJlcXVlc3RQZXJmb3JtYW5jZShpLnJlcXVlc3QpO3RoaXMubG9hZEdlb0pTT04oaSwoZnVuY3Rpb24obixzKXtpZihufHwhcylyZXR1cm4gcihuKTtpZigib2JqZWN0IiE9dHlwZW9mIHMpcmV0dXJuIHIobmV3IEVycm9yKCJJbnB1dCBkYXRhIGdpdmVuIHRvICciK2kuc291cmNlKyInIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LiIpKTshZnVuY3Rpb24gZSh0LHIpe3ZhciBpLG89dCYmdC50eXBlO2lmKCJGZWF0dXJlQ29sbGVjdGlvbiI9PT1vKWZvcihpPTA7aTx0LmZlYXR1cmVzLmxlbmd0aDtpKyspZSh0LmZlYXR1cmVzW2ldLHIpO2Vsc2UgaWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1vKWZvcihpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKyllKHQuZ2VvbWV0cmllc1tpXSxyKTtlbHNlIGlmKCJGZWF0dXJlIj09PW8pZSh0Lmdlb21ldHJ5LHIpO2Vsc2UgaWYoIlBvbHlnb24iPT09byljKHQuY29vcmRpbmF0ZXMscik7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW8pZm9yKGk9MDtpPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2krKyljKHQuY29vcmRpbmF0ZXNbaV0scik7cmV0dXJuIHR9KHMsITApO3RyeXt0Ll9nZW9KU09OSW5kZXg9aS5jbHVzdGVyP25ldyBKKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3VwZXJjbHVzdGVyT3B0aW9ucyxpPXQuY2x1c3RlclByb3BlcnRpZXM7aWYoIWl8fCFyKXJldHVybiByO2Zvcih2YXIgbz17fSxuPXt9LHM9e2FjY3VtdWxhdGVkOm51bGwsem9vbTowfSxhPXtwcm9wZXJ0aWVzOm51bGx9LGw9T2JqZWN0LmtleXMoaSksdT0wLGg9bDt1PGgubGVuZ3RoO3UrPTEpe3ZhciBjPWhbdV0scD1pW2NdLGY9cFswXSxkPWUuY3JlYXRlRXhwcmVzc2lvbihwWzFdKSxnPWUuY3JlYXRlRXhwcmVzc2lvbigic3RyaW5nIj09dHlwZW9mIGY/W2YsWyJhY2N1bXVsYXRlZCJdLFsiZ2V0IixjXV06Zik7b1tjXT1kLnZhbHVlLG5bY109Zy52YWx1ZTt9cmV0dXJuIHIubWFwPWZ1bmN0aW9uKGUpe2EucHJvcGVydGllcz1lO2Zvcih2YXIgdD17fSxyPTAsaT1sO3I8aS5sZW5ndGg7cis9MSl7dmFyIG49aVtyXTt0W25dPW9bbl0uZXZhbHVhdGUocyxhKTt9cmV0dXJuIHR9LHIucmVkdWNlPWZ1bmN0aW9uKGUsdCl7YS5wcm9wZXJ0aWVzPXQ7Zm9yKHZhciByPTAsaT1sO3I8aS5sZW5ndGg7cis9MSl7dmFyIG89aVtyXTtzLmFjY3VtdWxhdGVkPWVbb10sZVtvXT1uW29dLmV2YWx1YXRlKHMsYSk7fX0scn0oaSkpLmxvYWQocy5mZWF0dXJlcyk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHZlKGUsdCl9KHMsaS5nZW9qc29uVnRPcHRpb25zKTt9Y2F0Y2gobil7cmV0dXJuIHIobil9dC5sb2FkZWQ9e307dmFyIGE9e307aWYobyl7dmFyIGw9by5maW5pc2goKTtsJiYoYS5yZXNvdXJjZVRpbWluZz17fSxhLnJlc291cmNlVGltaW5nW2kuc291cmNlXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGwpKSk7fXIobnVsbCxhKTt9KSk7fX0sci5wcm90b3R5cGUuY29hbGVzY2U9ZnVuY3Rpb24oKXsiQ29hbGVzY2luZyI9PT10aGlzLl9zdGF0ZT90aGlzLl9zdGF0ZT0iSWRsZSI6Ik5lZWRzTG9hZERhdGEiPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT0iQ29hbGVzY2luZyIsdGhpcy5fbG9hZERhdGEoKSk7fSxyLnByb3RvdHlwZS5yZWxvYWRUaWxlPWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcy5sb2FkZWQ7cmV0dXJuIGkmJmlbZS51aWRdP3QucHJvdG90eXBlLnJlbG9hZFRpbGUuY2FsbCh0aGlzLGUscik6dGhpcy5sb2FkVGlsZShlLHIpfSxyLnByb3RvdHlwZS5sb2FkR2VvSlNPTj1mdW5jdGlvbih0LHIpe2lmKHQucmVxdWVzdCllLmdldEpTT04odC5yZXF1ZXN0LHIpO2Vsc2Uge2lmKCJzdHJpbmciIT10eXBlb2YgdC5kYXRhKXJldHVybiByKG5ldyBFcnJvcigiSW5wdXQgZGF0YSBnaXZlbiB0byAnIit0LnNvdXJjZSsiJyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC4iKSk7dHJ5e3JldHVybiByKG51bGwsSlNPTi5wYXJzZSh0LmRhdGEpKX1jYXRjaChlKXtyZXR1cm4gcihuZXcgRXJyb3IoIklucHV0IGRhdGEgZ2l2ZW4gdG8gJyIrdC5zb3VyY2UrIicgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuIikpfX19LHIucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbihlLHQpe3RoaXMuX3BlbmRpbmdDYWxsYmFjayYmdGhpcy5fcGVuZGluZ0NhbGxiYWNrKG51bGwse2FiYW5kb25lZDohMH0pLHQoKTt9LHIucHJvdG90eXBlLmdldENsdXN0ZXJFeHBhbnNpb25ab29tPWZ1bmN0aW9uKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fSxyLnByb3RvdHlwZS5nZXRDbHVzdGVyQ2hpbGRyZW49ZnVuY3Rpb24oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRDaGlsZHJlbihlLmNsdXN0ZXJJZCkpO31jYXRjaChlKXt0KGUpO319LHIucHJvdG90eXBlLmdldENsdXN0ZXJMZWF2ZXM9ZnVuY3Rpb24oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRMZWF2ZXMoZS5jbHVzdGVySWQsZS5saW1pdCxlLm9mZnNldCkpO31jYXRjaChlKXt0KGUpO319LHJ9KGwpLFNlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5zZWxmPXQsdGhpcy5hY3Rvcj1uZXcgZS5BY3Rvcih0LHRoaXMpLHRoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXt9LHRoaXMud29ya2VyU291cmNlVHlwZXM9e3ZlY3RvcjpsLGdlb2pzb246d2V9LHRoaXMud29ya2VyU291cmNlcz17fSx0aGlzLmRlbVdvcmtlclNvdXJjZXM9e30sdGhpcy5zZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCl7aWYoci53b3JrZXJTb3VyY2VUeXBlc1tlXSl0aHJvdyBuZXcgRXJyb3IoJ1dvcmtlciBzb3VyY2Ugd2l0aCBuYW1lICInK2UrJyIgYWxyZWFkeSByZWdpc3RlcmVkLicpO3Iud29ya2VyU291cmNlVHlwZXNbZV09dDt9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49ZnVuY3Rpb24odCl7aWYoZS5wbHVnaW4uaXNQYXJzZWQoKSl0aHJvdyBuZXcgRXJyb3IoIlJUTCB0ZXh0IHBsdWdpbiBhbHJlYWR5IHJlZ2lzdGVyZWQuIik7ZS5wbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nPXQuYXBwbHlBcmFiaWNTaGFwaW5nLGUucGx1Z2luLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCxlLnBsdWdpbi5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ7fTt9O3JldHVybiBTZS5wcm90b3R5cGUuc2V0UmVmZXJyZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLnJlZmVycmVyPXQ7fSxTZS5wcm90b3R5cGUuc2V0SW1hZ2VzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT10LHIoKTt9LFNlLnByb3RvdHlwZS5zZXRMYXllcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS5yZXBsYWNlKHQpLHIoKTt9LFNlLnByb3RvdHlwZS51cGRhdGVMYXllcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzKSxyKCk7fSxTZS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5sb2FkVGlsZSh0LHIpO30sU2UucHJvdG90eXBlLmxvYWRERU1UaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldERFTVdvcmtlclNvdXJjZShlLHQuc291cmNlKS5sb2FkVGlsZSh0LHIpO30sU2UucHJvdG90eXBlLnJlbG9hZFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5yZWxvYWRUaWxlKHQscik7fSxTZS5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkuYWJvcnRUaWxlKHQscik7fSxTZS5wcm90b3R5cGUucmVtb3ZlVGlsZT1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLnJlbW92ZVRpbGUodCxyKTt9LFNlLnByb3RvdHlwZS5yZW1vdmVERU1UaWxlPWZ1bmN0aW9uKGUsdCl7dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UoZSx0LnNvdXJjZSkucmVtb3ZlVGlsZSh0KTt9LFNlLnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMud29ya2VyU291cmNlc1tlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSl7dmFyIGk9dGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdO2RlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0sdm9pZCAwIT09aS5yZW1vdmVTb3VyY2U/aS5yZW1vdmVTb3VyY2UodCxyKTpyKCk7fX0sU2UucHJvdG90eXBlLmxvYWRXb3JrZXJTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCkscigpO31jYXRjaChlKXtyKGUudG9TdHJpbmcoKSk7fX0sU2UucHJvdG90eXBlLnN5bmNSVExQbHVnaW5TdGF0ZT1mdW5jdGlvbih0LHIsaSl7dHJ5e2UucGx1Z2luLnNldFN0YXRlKHIpO3ZhciBvPWUucGx1Z2luLmdldFBsdWdpblVSTCgpO2lmKGUucGx1Z2luLmlzTG9hZGVkKCkmJiFlLnBsdWdpbi5pc1BhcnNlZCgpJiZudWxsIT1vKXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyhvKTt2YXIgbj1lLnBsdWdpbi5pc1BhcnNlZCgpO2kobj92b2lkIDA6bmV3IEVycm9yKCJSVEwgVGV4dCBQbHVnaW4gZmFpbGVkIHRvIGltcG9ydCBzY3JpcHRzIGZyb20gIitvKSxuKTt9fWNhdGNoKGUpe2koZS50b1N0cmluZygpKTt9fSxTZS5wcm90b3R5cGUuZ2V0QXZhaWxhYmxlSW1hZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdO3JldHVybiB0fHwodD1bXSksdH0sU2UucHJvdG90eXBlLmdldExheWVySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sYXllckluZGV4ZXNbZV07cmV0dXJuIHR8fCh0PXRoaXMubGF5ZXJJbmRleGVzW2VdPW5ldyBpKSx0fSxTZS5wcm90b3R5cGUuZ2V0V29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMud29ya2VyU291cmNlc1tlXVt0XT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3RdKHtzZW5kOmZ1bmN0aW9uKHQscixvKXtpLmFjdG9yLnNlbmQodCxyLG8sZSk7fX0sdGhpcy5nZXRMYXllckluZGV4KGUpLHRoaXMuZ2V0QXZhaWxhYmxlSW1hZ2VzKGUpKSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdfSxTZS5wcm90b3R5cGUuZ2V0REVNV29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXT17fSksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdPW5ldyBoKSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF19LFNlLnByb3RvdHlwZS5lbmZvcmNlQ2FjaGVTaXplTGltaXQ9ZnVuY3Rpb24odCxyKXtlLmVuZm9yY2VDYWNoZVNpemVMaW1pdChyKTt9LCJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnZvaWQgMCE9PWUud2luZG93JiZlLndpbmRvdyBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYoZS53aW5kb3cud29ya2VyPW5ldyBTZShlLndpbmRvdykpLFNlfSkpOwoKZGVmaW5lKFsiLi9zaGFyZWQiXSwoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO3ZhciBlPXQuY3JlYXRlQ29tbW9uanNNb2R1bGUoKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuICFpKHQpfWZ1bmN0aW9uIGkodCl7cmV0dXJuICJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93fHwidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50PyJub3QgYSBicm93c2VyIjpBcnJheS5wcm90b3R5cGUmJkFycmF5LnByb3RvdHlwZS5ldmVyeSYmQXJyYXkucHJvdG90eXBlLmZpbHRlciYmQXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5pbmRleE9mJiZBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5tYXAmJkFycmF5LnByb3RvdHlwZS5zb21lJiZBcnJheS5wcm90b3R5cGUucmVkdWNlJiZBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQmJkFycmF5LmlzQXJyYXk/RnVuY3Rpb24ucHJvdG90eXBlJiZGdW5jdGlvbi5wcm90b3R5cGUuYmluZD9PYmplY3Qua2V5cyYmT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmT2JqZWN0LmlzU2VhbGVkJiZPYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0V4dGVuc2libGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMmJk9iamVjdC5zZWFsJiZPYmplY3QuZnJlZXplJiZPYmplY3QucHJldmVudEV4dGVuc2lvbnM/IkpTT04iaW4gd2luZG93JiYicGFyc2UiaW4gSlNPTiYmInN0cmluZ2lmeSJpbiBKU09OP2Z1bmN0aW9uKCl7aWYoISgiV29ya2VyImluIHdpbmRvdyYmIkJsb2IiaW4gd2luZG93JiYiVVJMImluIHdpbmRvdykpcmV0dXJuICExO3ZhciB0LGUsaT1uZXcgQmxvYihbIiJdLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSksbz1VUkwuY3JlYXRlT2JqZWN0VVJMKGkpO3RyeXtlPW5ldyBXb3JrZXIobyksdD0hMDt9Y2F0Y2goZSl7dD0hMTt9cmV0dXJuIGUmJmUudGVybWluYXRlKCksVVJMLnJldm9rZU9iamVjdFVSTChvKSx0fSgpPyJVaW50OENsYW1wZWRBcnJheSJpbiB3aW5kb3c/QXJyYXlCdWZmZXIuaXNWaWV3P2Z1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7dC53aWR0aD10LmhlaWdodD0xO3ZhciBlPXQuZ2V0Q29udGV4dCgiMmQiKTtpZighZSlyZXR1cm4gITE7dmFyIGk9ZS5nZXRJbWFnZURhdGEoMCwwLDEsMSk7cmV0dXJuIGkmJmkud2lkdGg9PT10LndpZHRofSgpPyh2b2lkIDA9PT1vW2k9dCYmdC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSYmKG9baV09ZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24odCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksbz1PYmplY3QuY3JlYXRlKGUud2ViR0xDb250ZXh0QXR0cmlidXRlcyk7cmV0dXJuIG8uZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD10LGkucHJvYmFibHlTdXBwb3J0c0NvbnRleHQ/aS5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgid2ViZ2wiLG8pfHxpLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLG8pOmkuc3VwcG9ydHNDb250ZXh0P2kuc3VwcG9ydHNDb250ZXh0KCJ3ZWJnbCIsbyl8fGkuc3VwcG9ydHNDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLG8pOmkuZ2V0Q29udGV4dCgid2ViZ2wiLG8pfHxpLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsbyl9KHQpO2lmKCFpKXJldHVybiAhMTt2YXIgbz1pLmNyZWF0ZVNoYWRlcihpLlZFUlRFWF9TSEFERVIpO3JldHVybiAhKCFvfHxpLmlzQ29udGV4dExvc3QoKSkmJihpLnNoYWRlclNvdXJjZShvLCJ2b2lkIG1haW4oKSB7fSIpLGkuY29tcGlsZVNoYWRlcihvKSwhMD09PWkuZ2V0U2hhZGVyUGFyYW1ldGVyKG8saS5DT01QSUxFX1NUQVRVUykpfShpKSksb1tpXT92b2lkIDA6Imluc3VmZmljaWVudCBXZWJHTCBzdXBwb3J0Iik6Imluc3VmZmljaWVudCBDYW52YXMvZ2V0SW1hZ2VEYXRhIHN1cHBvcnQiOiJpbnN1ZmZpY2llbnQgQXJyYXlCdWZmZXIgc3VwcG9ydCI6Imluc3VmZmljaWVudCBVaW50OENsYW1wZWRBcnJheSBzdXBwb3J0IjoiaW5zdWZmaWNpZW50IHdvcmtlciBzdXBwb3J0IjoiaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydCI6Imluc3VmZmljaWVudCBPYmplY3Qgc3VwcG9ydCI6Imluc3VmZmljaWVudCBGdW5jdGlvbiBzdXBwb3J0IjoiaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydCI7dmFyIGk7fXQuZXhwb3J0cz90LmV4cG9ydHM9ZTp3aW5kb3cmJih3aW5kb3cubWFwYm94Z2w9d2luZG93Lm1hcGJveGdsfHx7fSx3aW5kb3cubWFwYm94Z2wuc3VwcG9ydGVkPWUsd2luZG93Lm1hcGJveGdsLm5vdFN1cHBvcnRlZFJlYXNvbj1pKTt2YXIgbz17fTtlLndlYkdMQ29udGV4dEF0dHJpYnV0ZXM9e2FudGlhbGlhczohMSxhbHBoYTohMCxzdGVuY2lsOiEwLGRlcHRoOiEwfTt9KSksaT17Y3JlYXRlOmZ1bmN0aW9uKGUsaSxvKXt2YXIgcj10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiB2b2lkIDAhPT1pJiYoci5jbGFzc05hbWU9aSksbyYmby5hcHBlbmRDaGlsZChyKSxyfSxjcmVhdGVOUzpmdW5jdGlvbihlLGkpe3JldHVybiB0LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZSxpKX19LG89dC53aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2Z1bmN0aW9uIHIodCl7aWYoIW8pcmV0dXJuIHRbMF07Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXWluIG8pcmV0dXJuIHRbZV07cmV0dXJuIHRbMF19dmFyIGEsbj1yKFsidXNlclNlbGVjdCIsIk1velVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwibXNVc2VyU2VsZWN0Il0pO2kuZGlzYWJsZURyYWc9ZnVuY3Rpb24oKXtvJiZuJiYoYT1vW25dLG9bbl09Im5vbmUiKTt9LGkuZW5hYmxlRHJhZz1mdW5jdGlvbigpe28mJm4mJihvW25dPWEpO307dmFyIHM9cihbInRyYW5zZm9ybSIsIldlYmtpdFRyYW5zZm9ybSJdKTtpLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3Quc3R5bGVbc109ZTt9O3ZhciBsPSExO3RyeXt2YXIgYz1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtsPSEwO319KTt0LndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixjLGMpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGMsYyk7fWNhdGNoKHQpe2w9ITE7fWkuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdC5hZGRFdmVudExpc3RlbmVyKGUsaSwicGFzc2l2ZSJpbiBvJiZsP286by5jYXB0dXJlKTt9LGkucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSwicGFzc2l2ZSJpbiBvJiZsP286by5jYXB0dXJlKTt9O3ZhciB1PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIix1LCEwKTt9O2Z1bmN0aW9uIGgodCl7dmFyIGU9dC51c2VySW1hZ2U7cmV0dXJuICEhKGUmJmUucmVuZGVyJiZlLnJlbmRlcigpKSYmKHQuZGF0YS5yZXBsYWNlKG5ldyBVaW50OEFycmF5KGUuZGF0YS5idWZmZXIpKSwhMCl9aS5zdXBwcmVzc0NsaWNrPWZ1bmN0aW9uKCl7dC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLHUsITApLHQud2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLHUsITApO30pLDApO30saS5tb3VzZVBvcz1mdW5jdGlvbihlLGkpe3ZhciBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG5ldyB0LlBvaW50KGkuY2xpZW50WC1vLmxlZnQtZS5jbGllbnRMZWZ0LGkuY2xpZW50WS1vLnRvcC1lLmNsaWVudFRvcCl9LGkudG91Y2hQb3M9ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPVtdLGE9MDthPGkubGVuZ3RoO2ErKylyLnB1c2gobmV3IHQuUG9pbnQoaVthXS5jbGllbnRYLW8ubGVmdC1lLmNsaWVudExlZnQsaVthXS5jbGllbnRZLW8udG9wLWUuY2xpZW50VG9wKSk7cmV0dXJuIHJ9LGkubW91c2VCdXR0b249ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQud2luZG93Lkluc3RhbGxUcmlnZ2VyJiYyPT09ZS5idXR0b24mJmUuY3RybEtleSYmdC53aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZigiTUFDIik+PTA/MDplLmJ1dHRvbn0saS5yZW1vdmU9ZnVuY3Rpb24odCl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7fTt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7ZS5jYWxsKHRoaXMpLHRoaXMuaW1hZ2VzPXt9LHRoaXMudXBkYXRlZEltYWdlcz17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fSx0aGlzLmxvYWRlZD0hMSx0aGlzLnJlcXVlc3RvcnM9W10sdGhpcy5wYXR0ZXJucz17fSx0aGlzLmF0bGFzSW1hZ2U9bmV3IHQuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSksdGhpcy5kaXJ0eT0hMDt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2FkZWR9LGkucHJvdG90eXBlLnNldExvYWRlZD1mdW5jdGlvbih0KXtpZih0aGlzLmxvYWRlZCE9PXQmJih0aGlzLmxvYWRlZD10LHQpKXtmb3IodmFyIGU9MCxpPXRoaXMucmVxdWVzdG9ycztlPGkubGVuZ3RoO2UrPTEpe3ZhciBvPWlbZV07dGhpcy5fbm90aWZ5KG8uaWRzLG8uY2FsbGJhY2spO310aGlzLnJlcXVlc3RvcnM9W107fX0saS5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW1hZ2VzW3RdfSxpLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbGlkYXRlKHQsZSkmJih0aGlzLmltYWdlc1t0XT1lKTt9LGkucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbihlLGkpe3ZhciBvPSEwO3JldHVybiB0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaS5zdHJldGNoWCxpLmRhdGEmJmkuZGF0YS53aWR0aCl8fCh0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0ltYWdlICInK2UrJyIgaGFzIGludmFsaWQgInN0cmV0Y2hYIiB2YWx1ZScpKSksbz0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKGkuc3RyZXRjaFksaS5kYXRhJiZpLmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignSW1hZ2UgIicrZSsnIiBoYXMgaW52YWxpZCAic3RyZXRjaFkiIHZhbHVlJykpKSxvPSExKSx0aGlzLl92YWxpZGF0ZUNvbnRlbnQoaS5jb250ZW50LGkpfHwodGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCdJbWFnZSAiJytlKyciIGhhcyBpbnZhbGlkICJjb250ZW50IiB2YWx1ZScpKSksbz0hMSksb30saS5wcm90b3R5cGUuX3ZhbGlkYXRlU3RyZXRjaD1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiAhMDtmb3IodmFyIGk9MCxvPTAscj10O288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTtpZihhWzBdPGl8fGFbMV08YVswXXx8ZTxhWzFdKXJldHVybiAhMTtpPWFbMV07fXJldHVybiAhMH0saS5wcm90b3R5cGUuX3ZhbGlkYXRlQ29udGVudD1mdW5jdGlvbih0LGUpe3JldHVybiAhKHQmJig0IT09dC5sZW5ndGh8fHRbMF08MHx8ZS5kYXRhLndpZHRoPHRbMF18fHRbMV08MHx8ZS5kYXRhLmhlaWdodDx0WzFdfHx0WzJdPDB8fGUuZGF0YS53aWR0aDx0WzJdfHx0WzNdPDB8fGUuZGF0YS5oZWlnaHQ8dFszXXx8dFsyXTx0WzBdfHx0WzNdPHRbMV0pKX0saS5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24odCxlKXtlLnZlcnNpb249dGhpcy5pbWFnZXNbdF0udmVyc2lvbisxLHRoaXMuaW1hZ2VzW3RdPWUsdGhpcy51cGRhdGVkSW1hZ2VzW3RdPSEwO30saS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbWFnZXNbdF07ZGVsZXRlIHRoaXMuaW1hZ2VzW3RdLGRlbGV0ZSB0aGlzLnBhdHRlcm5zW3RdLGUudXNlckltYWdlJiZlLnVzZXJJbWFnZS5vblJlbW92ZSYmZS51c2VySW1hZ2Uub25SZW1vdmUoKTt9LGkucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5pbWFnZXMpfSxpLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24odCxlKXt2YXIgaT0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcih2YXIgbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpdGhpcy5pbWFnZXNbcltvXV18fChpPSExKTt0aGlzLmlzTG9hZGVkKCl8fGk/dGhpcy5fbm90aWZ5KHQsZSk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczp0LGNhbGxiYWNrOmV9KTt9LGkucHJvdG90eXBlLl9ub3RpZnk9ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89e30scj0wLGE9ZTtyPGEubGVuZ3RoO3IrPTEpe3ZhciBuPWFbcl07dGhpcy5pbWFnZXNbbl18fHRoaXMuZmlyZShuZXcgdC5FdmVudCgic3R5bGVpbWFnZW1pc3NpbmciLHtpZDpufSkpO3ZhciBzPXRoaXMuaW1hZ2VzW25dO3M/b1tuXT17ZGF0YTpzLmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOnMucGl4ZWxSYXRpbyxzZGY6cy5zZGYsdmVyc2lvbjpzLnZlcnNpb24sc3RyZXRjaFg6cy5zdHJldGNoWCxzdHJldGNoWTpzLnN0cmV0Y2hZLGNvbnRlbnQ6cy5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4ocy51c2VySW1hZ2UmJnMudXNlckltYWdlLnJlbmRlcil9OnQud2Fybk9uY2UoJ0ltYWdlICInK24rJyIgY291bGQgbm90IGJlIGxvYWRlZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBhZGRlZCB0aGUgaW1hZ2Ugd2l0aCBtYXAuYWRkSW1hZ2UoKSBvciBhICJzcHJpdGUiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSAic3R5bGVpbWFnZW1pc3NpbmciIG1hcCBldmVudC4nKTt9aShudWxsLG8pO30saS5wcm90b3R5cGUuZ2V0UGl4ZWxTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdGxhc0ltYWdlO3JldHVybiB7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fSxpLnByb3RvdHlwZS5nZXRQYXR0ZXJuPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucGF0dGVybnNbZV0sbz10aGlzLmdldEltYWdlKGUpO2lmKCFvKXJldHVybiBudWxsO2lmKGkmJmkucG9zaXRpb24udmVyc2lvbj09PW8udmVyc2lvbilyZXR1cm4gaS5wb3NpdGlvbjtpZihpKWkucG9zaXRpb24udmVyc2lvbj1vLnZlcnNpb247ZWxzZSB7dmFyIHI9e3c6by5kYXRhLndpZHRoKzIsaDpvLmRhdGEuaGVpZ2h0KzIseDowLHk6MH0sYT1uZXcgdC5JbWFnZVBvc2l0aW9uKHIsbyk7dGhpcy5wYXR0ZXJuc1tlXT17YmluOnIscG9zaXRpb246YX07fXJldHVybiB0aGlzLl91cGRhdGVQYXR0ZXJuQXRsYXMoKSx0aGlzLnBhdHRlcm5zW2VdLnBvc2l0aW9ufSxpLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3ZhciBpPWUuZ2w7dGhpcy5hdGxhc1RleHR1cmU/dGhpcy5kaXJ0eSYmKHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpLHRoaXMuZGlydHk9ITEpOnRoaXMuYXRsYXNUZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx0aGlzLmF0bGFzSW1hZ2UsaS5SR0JBKSx0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUGF0dGVybkF0bGFzPWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciBpIGluIHRoaXMucGF0dGVybnMpZS5wdXNoKHRoaXMucGF0dGVybnNbaV0uYmluKTt2YXIgbz10LnBvdHBhY2soZSkscj1vLncsYT1vLmgsbj10aGlzLmF0bGFzSW1hZ2U7Zm9yKHZhciBzIGluIG4ucmVzaXplKHt3aWR0aDpyfHwxLGhlaWdodDphfHwxfSksdGhpcy5wYXR0ZXJucyl7dmFyIGw9dGhpcy5wYXR0ZXJuc1tzXS5iaW4sYz1sLngrMSx1PWwueSsxLGg9dGhpcy5pbWFnZXNbc10uZGF0YSxwPWgud2lkdGgsZD1oLmhlaWdodDt0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDowLHk6MH0se3g6Yyx5OnV9LHt3aWR0aDpwLGhlaWdodDpkfSksdC5SR0JBSW1hZ2UuY29weShoLG4se3g6MCx5OmQtMX0se3g6Yyx5OnUtMX0se3dpZHRoOnAsaGVpZ2h0OjF9KSx0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDowLHk6MH0se3g6Yyx5OnUrZH0se3dpZHRoOnAsaGVpZ2h0OjF9KSx0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDpwLTEseTowfSx7eDpjLTEseTp1fSx7d2lkdGg6MSxoZWlnaHQ6ZH0pLHQuUkdCQUltYWdlLmNvcHkoaCxuLHt4OjAseTowfSx7eDpjK3AseTp1fSx7d2lkdGg6MSxoZWlnaHQ6ZH0pO310aGlzLmRpcnR5PSEwO30saS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9O30saS5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10O2U8aS5sZW5ndGg7ZSs9MSl7dmFyIG89aVtlXTtpZighdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbb10pe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW29dPSEwO3ZhciByPXRoaXMuaW1hZ2VzW29dO2gocikmJnRoaXMudXBkYXRlSW1hZ2UobyxyKTt9fX0saX0odC5FdmVudGVkKSxkPW0sXz1tLGY9MWUyMDtmdW5jdGlvbiBtKHQsZSxpLG8scixhKXt0aGlzLmZvbnRTaXplPXR8fDI0LHRoaXMuYnVmZmVyPXZvaWQgMD09PWU/MzplLHRoaXMuY3V0b2ZmPW98fC4yNSx0aGlzLmZvbnRGYW1pbHk9cnx8InNhbnMtc2VyaWYiLHRoaXMuZm9udFdlaWdodD1hfHwibm9ybWFsIix0aGlzLnJhZGl1cz1pfHw4O3ZhciBuPXRoaXMuc2l6ZT10aGlzLmZvbnRTaXplKzIqdGhpcy5idWZmZXI7dGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdGhpcy5jYW52YXMud2lkdGg9dGhpcy5jYW52YXMuaGVpZ2h0PW4sdGhpcy5jdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5mb250PXRoaXMuZm9udFdlaWdodCsiICIrdGhpcy5mb250U2l6ZSsicHggIit0aGlzLmZvbnRGYW1pbHksdGhpcy5jdHgudGV4dEJhc2VsaW5lPSJtaWRkbGUiLHRoaXMuY3R4LmZpbGxTdHlsZT0iYmxhY2siLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkobipuKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KG4qbiksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkobiksdGhpcy5kPW5ldyBGbG9hdDY0QXJyYXkobiksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkobisxKSx0aGlzLnY9bmV3IEludDE2QXJyYXkobiksdGhpcy5taWRkbGU9TWF0aC5yb3VuZChuLzIqKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiR2Vja28vIik+PTA/MS4yOjEpKTt9ZnVuY3Rpb24gZyh0LGUsaSxvLHIsYSxuKXtmb3IodmFyIHM9MDtzPGU7cysrKXtmb3IodmFyIGw9MDtsPGk7bCsrKW9bbF09dFtsKmUrc107Zm9yKHYobyxyLGEsbixpKSxsPTA7bDxpO2wrKyl0W2wqZStzXT1yW2xdO31mb3IobD0wO2w8aTtsKyspe2ZvcihzPTA7czxlO3MrKylvW3NdPXRbbCplK3NdO2Zvcih2KG8scixhLG4sZSkscz0wO3M8ZTtzKyspdFtsKmUrc109TWF0aC5zcXJ0KHJbc10pO319ZnVuY3Rpb24gdih0LGUsaSxvLHIpe2lbMF09MCxvWzBdPS1mLG9bMV09K2Y7Zm9yKHZhciBhPTEsbj0wO2E8cjthKyspe2Zvcih2YXIgcz0odFthXSthKmEtKHRbaVtuXV0raVtuXSppW25dKSkvKDIqYS0yKmlbbl0pO3M8PW9bbl07KW4tLSxzPSh0W2FdK2EqYS0odFtpW25dXStpW25dKmlbbl0pKS8oMiphLTIqaVtuXSk7aVsrK25dPWEsb1tuXT1zLG9bbisxXT0rZjt9Zm9yKGE9MCxuPTA7YTxyO2ErKyl7Zm9yKDtvW24rMV08YTspbisrO2VbYV09KGEtaVtuXSkqKGEtaVtuXSkrdFtpW25dXTt9fW0ucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSx0aGlzLmN0eC5maWxsVGV4dCh0LHRoaXMuYnVmZmVyLHRoaXMubWlkZGxlKTtmb3IodmFyIGU9dGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSxpPW5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUqdGhpcy5zaXplKSxvPTA7bzx0aGlzLnNpemUqdGhpcy5zaXplO28rKyl7dmFyIHI9ZS5kYXRhWzQqbyszXS8yNTU7dGhpcy5ncmlkT3V0ZXJbb109MT09PXI/MDowPT09cj9mOk1hdGgucG93KE1hdGgubWF4KDAsLjUtciksMiksdGhpcy5ncmlkSW5uZXJbb109MT09PXI/ZjowPT09cj8wOk1hdGgucG93KE1hdGgubWF4KDAsci0uNSksMik7fWZvcihnKHRoaXMuZ3JpZE91dGVyLHRoaXMuc2l6ZSx0aGlzLnNpemUsdGhpcy5mLHRoaXMuZCx0aGlzLnYsdGhpcy56KSxnKHRoaXMuZ3JpZElubmVyLHRoaXMuc2l6ZSx0aGlzLnNpemUsdGhpcy5mLHRoaXMuZCx0aGlzLnYsdGhpcy56KSxvPTA7bzx0aGlzLnNpemUqdGhpcy5zaXplO28rKylpW29dPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQoMjU1LTI1NSooKHRoaXMuZ3JpZE91dGVyW29dLXRoaXMuZ3JpZElubmVyW29dKS90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpKSk7cmV0dXJuIGl9LGQuZGVmYXVsdD1fO3ZhciB5PWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXF1ZXN0TWFuYWdlcj10LHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWUsdGhpcy5lbnRyaWVzPXt9O307eS5wcm90b3R5cGUuc2V0VVJMPWZ1bmN0aW9uKHQpe3RoaXMudXJsPXQ7fSx5LnByb3RvdHlwZS5nZXRHbHlwaHM9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9W107Zm9yKHZhciBhIGluIGUpZm9yKHZhciBuPTAscz1lW2FdO248cy5sZW5ndGg7bis9MSlyLnB1c2goe3N0YWNrOmEsaWQ6c1tuXX0pO3QuYXN5bmNBbGwociwoZnVuY3Rpb24odCxlKXt2YXIgaT10LnN0YWNrLHI9dC5pZCxhPW8uZW50cmllc1tpXTthfHwoYT1vLmVudHJpZXNbaV09e2dseXBoczp7fSxyZXF1ZXN0czp7fSxyYW5nZXM6e319KTt2YXIgbj1hLmdseXBoc1tyXTtpZih2b2lkIDA9PT1uKXtpZihuPW8uX3RpbnlTREYoYSxpLHIpKXJldHVybiBhLmdseXBoc1tyXT1uLHZvaWQgZShudWxsLHtzdGFjazppLGlkOnIsZ2x5cGg6bn0pO3ZhciBzPU1hdGguZmxvb3Ioci8yNTYpO2lmKDI1NipzPjY1NTM1KWUobmV3IEVycm9yKCJnbHlwaHMgPiA2NTUzNSBub3Qgc3VwcG9ydGVkIikpO2Vsc2UgaWYoYS5yYW5nZXNbc10pZShudWxsLHtzdGFjazppLGlkOnIsZ2x5cGg6bn0pO2Vsc2Uge3ZhciBsPWEucmVxdWVzdHNbc107bHx8KGw9YS5yZXF1ZXN0c1tzXT1bXSx5LmxvYWRHbHlwaFJhbmdlKGkscyxvLnVybCxvLnJlcXVlc3RNYW5hZ2VyLChmdW5jdGlvbih0LGUpe2lmKGUpe2Zvcih2YXIgaSBpbiBlKW8uX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoK2kpfHwoYS5nbHlwaHNbK2ldPWVbK2ldKTthLnJhbmdlc1tzXT0hMDt9Zm9yKHZhciByPTAsbj1sO3I8bi5sZW5ndGg7cis9MSkoMCxuW3JdKSh0LGUpO2RlbGV0ZSBhLnJlcXVlc3RzW3NdO30pKSksbC5wdXNoKChmdW5jdGlvbih0LG8pe3Q/ZSh0KTpvJiZlKG51bGwse3N0YWNrOmksaWQ6cixnbHlwaDpvW3JdfHxudWxsfSk7fSkpO319ZWxzZSBlKG51bGwse3N0YWNrOmksaWQ6cixnbHlwaDpufSk7fSksKGZ1bmN0aW9uKHQsZSl7aWYodClpKHQpO2Vsc2UgaWYoZSl7Zm9yKHZhciBvPXt9LHI9MCxhPWU7cjxhLmxlbmd0aDtyKz0xKXt2YXIgbj1hW3JdLHM9bi5zdGFjayxsPW4uaWQsYz1uLmdseXBoOyhvW3NdfHwob1tzXT17fSkpW2xdPWMmJntpZDpjLmlkLGJpdG1hcDpjLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6Yy5tZXRyaWNzfTt9aShudWxsLG8pO319KSk7fSx5LnByb3RvdHlwZS5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaD1mdW5jdGlvbihlKXtyZXR1cm4gISF0aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmKHQuaXNDaGFyWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIl0oZSl8fHQuaXNDaGFyWyJIYW5ndWwgU3lsbGFibGVzIl0oZSl8fHQuaXNDaGFyLkhpcmFnYW5hKGUpfHx0LmlzQ2hhci5LYXRha2FuYShlKSl9LHkucHJvdG90eXBlLl90aW55U0RGPWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj10aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtpZihyJiZ0aGlzLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKG8pKXt2YXIgYT1lLnRpbnlTREY7aWYoIWEpe3ZhciBuPSI0MDAiOy9ib2xkL2kudGVzdChpKT9uPSI5MDAiOi9tZWRpdW0vaS50ZXN0KGkpP249IjUwMCI6L2xpZ2h0L2kudGVzdChpKSYmKG49IjIwMCIpLGE9ZS50aW55U0RGPW5ldyB5LlRpbnlTREYoMjQsMyw4LC4yNSxyLG4pO31yZXR1cm4ge2lkOm8sYml0bWFwOm5ldyB0LkFscGhhSW1hZ2Uoe3dpZHRoOjMwLGhlaWdodDozMH0sYS5kcmF3KFN0cmluZy5mcm9tQ2hhckNvZGUobykpKSxtZXRyaWNzOnt3aWR0aDoyNCxoZWlnaHQ6MjQsbGVmdDowLHRvcDotOCxhZHZhbmNlOjI0fX19fSx5LmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKGUsaSxvLHIsYSl7dmFyIG49MjU2Kmkscz1uKzI1NSxsPXIudHJhbnNmb3JtUmVxdWVzdChyLm5vcm1hbGl6ZUdseXBoc1VSTChvKS5yZXBsYWNlKCJ7Zm9udHN0YWNrfSIsZSkucmVwbGFjZSgie3JhbmdlfSIsbisiLSIrcyksdC5SZXNvdXJjZVR5cGUuR2x5cGhzKTt0LmdldEFycmF5QnVmZmVyKGwsKGZ1bmN0aW9uKGUsaSl7aWYoZSlhKGUpO2Vsc2UgaWYoaSl7Zm9yKHZhciBvPXt9LHI9MCxuPXQucGFyc2VHbHlwaFBCRihpKTtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBzPW5bcl07b1tzLmlkXT1zO31hKG51bGwsbyk7fX0pKTt9LHkuVGlueVNERj1kO3ZhciB4PWZ1bmN0aW9uKCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQuc3R5bGVTcGVjLmxpZ2h0LnBvc2l0aW9uO307eC5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbihlLGkpe3JldHVybiB0LnNwaGVyaWNhbFRvQ2FydGVzaWFuKGUuZXhwcmVzc2lvbi5ldmFsdWF0ZShpKSl9LHgucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4ge3g6dC5udW1iZXIoZS54LGkueCxvKSx5OnQubnVtYmVyKGUueSxpLnksbyksejp0Lm51bWJlcihlLnosaS56LG8pfX07dmFyIGI9bmV3IHQuUHJvcGVydGllcyh7YW5jaG9yOm5ldyB0LkRhdGFDb25zdGFudFByb3BlcnR5KHQuc3R5bGVTcGVjLmxpZ2h0LmFuY2hvcikscG9zaXRpb246bmV3IHgsY29sb3I6bmV3IHQuRGF0YUNvbnN0YW50UHJvcGVydHkodC5zdHlsZVNwZWMubGlnaHQuY29sb3IpLGludGVuc2l0eTpuZXcgdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eSh0LnN0eWxlU3BlYy5saWdodC5pbnRlbnNpdHkpfSksdz1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGkpe2UuY2FsbCh0aGlzKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgdC5UcmFuc2l0aW9uYWJsZShiKSx0aGlzLnNldExpZ2h0KGkpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLCF0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlTGlnaHQsZSxpKSlmb3IodmFyIG8gaW4gZSl7dmFyIHI9ZVtvXTt0LmVuZHNXaXRoKG8sIi10cmFuc2l0aW9uIik/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihvLnNsaWNlKDAsLSItdHJhbnNpdGlvbiIubGVuZ3RoKSxyKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShvLHIpO319LGkucHJvdG90eXBlLnVwZGF0ZVRyYW5zaXRpb25zPWZ1bmN0aW9uKHQpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHQsdGhpcy5fdHJhbnNpdGlvbmluZyk7fSxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfSxpLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbih0KXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKHQpO30saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gKCFvfHwhMSE9PW8udmFsaWRhdGUpJiZ0LmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsZS5jYWxsKHQudmFsaWRhdGVTdHlsZSx0LmV4dGVuZCh7dmFsdWU6aSxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpKX0saX0odC5FdmVudGVkKSxUPWZ1bmN0aW9uKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5uZXh0Um93PTAsdGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQpLHRoaXMuZGFzaEVudHJ5PXt9O307VC5wcm90b3R5cGUuZ2V0RGFzaD1mdW5jdGlvbih0LGUpe3ZhciBpPXQuam9pbigiLCIpK1N0cmluZyhlKTtyZXR1cm4gdGhpcy5kYXNoRW50cnlbaV18fCh0aGlzLmRhc2hFbnRyeVtpXT10aGlzLmFkZERhc2godCxlKSksdGhpcy5kYXNoRW50cnlbaV19LFQucHJvdG90eXBlLmdldERhc2hSYW5nZXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPVtdLHI9dC5sZW5ndGglMj09MT8tdFt0Lmxlbmd0aC0xXSppOjAsYT10WzBdKmksbj0hMDtvLnB1c2goe2xlZnQ6cixyaWdodDphLGlzRGFzaDpuLHplcm9MZW5ndGg6MD09PXRbMF19KTtmb3IodmFyIHM9dFswXSxsPTE7bDx0Lmxlbmd0aDtsKyspe3ZhciBjPXRbbF07by5wdXNoKHtsZWZ0OnI9cyppLHJpZ2h0OmE9KHMrPWMpKmksaXNEYXNoOm49IW4semVyb0xlbmd0aDowPT09Y30pO31yZXR1cm4gb30sVC5wcm90b3R5cGUuYWRkUm91bmREYXNoPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ZS8yLHI9LWk7cjw9aTtyKyspZm9yKHZhciBhPXRoaXMud2lkdGgqKHRoaXMubmV4dFJvdytpK3IpLG49MCxzPXRbbl0sbD0wO2w8dGhpcy53aWR0aDtsKyspe2wvcy5yaWdodD4xJiYocz10Wysrbl0pO3ZhciBjPU1hdGguYWJzKGwtcy5sZWZ0KSx1PU1hdGguYWJzKGwtcy5yaWdodCksaD1NYXRoLm1pbihjLHUpLHA9dm9pZCAwLGQ9ci9pKihvKzEpO2lmKHMuaXNEYXNoKXt2YXIgXz1vLU1hdGguYWJzKGQpO3A9TWF0aC5zcXJ0KGgqaCtfKl8pO31lbHNlIHA9by1NYXRoLnNxcnQoaCpoK2QqZCk7dGhpcy5kYXRhW2ErbF09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUscCsxMjgpKTt9fSxULnByb3RvdHlwZS5hZGRSZWd1bGFyRGFzaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIGk9dFtlXSxvPXRbZSsxXTtpLnplcm9MZW5ndGg/dC5zcGxpY2UoZSwxKTpvJiZvLmlzRGFzaD09PWkuaXNEYXNoJiYoby5sZWZ0PWkubGVmdCx0LnNwbGljZShlLDEpKTt9dmFyIHI9dFswXSxhPXRbdC5sZW5ndGgtMV07ci5pc0Rhc2g9PT1hLmlzRGFzaCYmKHIubGVmdD1hLmxlZnQtdGhpcy53aWR0aCxhLnJpZ2h0PXIucmlnaHQrdGhpcy53aWR0aCk7Zm9yKHZhciBuPXRoaXMud2lkdGgqdGhpcy5uZXh0Um93LHM9MCxsPXRbc10sYz0wO2M8dGhpcy53aWR0aDtjKyspe2MvbC5yaWdodD4xJiYobD10Wysrc10pO3ZhciB1PU1hdGguYWJzKGMtbC5sZWZ0KSxoPU1hdGguYWJzKGMtbC5yaWdodCkscD1NYXRoLm1pbih1LGgpO3RoaXMuZGF0YVtuK2NdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LChsLmlzRGFzaD9wOi1wKSsxMjgpKTt9fSxULnByb3RvdHlwZS5hZGREYXNoPWZ1bmN0aW9uKGUsaSl7dmFyIG89aT83OjAscj0yKm8rMTtpZih0aGlzLm5leHRSb3crcj50aGlzLmhlaWdodClyZXR1cm4gdC53YXJuT25jZSgiTGluZUF0bGFzIG91dCBvZiBzcGFjZSIpLG51bGw7Zm9yKHZhciBhPTAsbj0wO248ZS5sZW5ndGg7bisrKWErPWVbbl07aWYoMCE9PWEpe3ZhciBzPXRoaXMud2lkdGgvYSxsPXRoaXMuZ2V0RGFzaFJhbmdlcyhlLHRoaXMud2lkdGgscyk7aT90aGlzLmFkZFJvdW5kRGFzaChsLHMsbyk6dGhpcy5hZGRSZWd1bGFyRGFzaChsKTt9dmFyIGM9e3k6KHRoaXMubmV4dFJvdytvKy41KS90aGlzLmhlaWdodCxoZWlnaHQ6MipvL3RoaXMuaGVpZ2h0LHdpZHRoOmF9O3JldHVybiB0aGlzLm5leHRSb3crPXIsdGhpcy5kaXJ0eT0hMCxjfSxULnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2w7dGhpcy50ZXh0dXJlPyhlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHRoaXMuZGlydHkmJih0aGlzLmRpcnR5PSExLGUudGV4U3ViSW1hZ2UyRChlLlRFWFRVUkVfMkQsMCwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxlLkFMUEhBLGUuVU5TSUdORURfQllURSx0aGlzLmRhdGEpKSk6KHRoaXMudGV4dHVyZT1lLmNyZWF0ZVRleHR1cmUoKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX1dSQVBfUyxlLlJFUEVBVCksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfV1JBUF9ULGUuUkVQRUFUKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NSU5fRklMVEVSLGUuTElORUFSKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NQUdfRklMVEVSLGUuTElORUFSKSxlLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5BTFBIQSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsZS5BTFBIQSxlLlVOU0lHTkVEX0JZVEUsdGhpcy5kYXRhKSk7fTt2YXIgRT1mdW5jdGlvbiBlKGksbyl7dGhpcy53b3JrZXJQb29sPWksdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPXQudW5pcXVlSWQoKTtmb3IodmFyIHI9dGhpcy53b3JrZXJQb29sLmFjcXVpcmUodGhpcy5pZCksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbj1uZXcgZS5BY3RvcihyW2FdLG8sdGhpcy5pZCk7bi5uYW1lPSJXb3JrZXIgIithLHRoaXMuYWN0b3JzLnB1c2gobik7fX07ZnVuY3Rpb24gSShlLGksbyl7dmFyIHI9ZnVuY3Rpb24ocixhKXtpZihyKXJldHVybiBvKHIpO2lmKGEpe3ZhciBuPXQucGljayh0LmV4dGVuZChhLGUpLFsidGlsZXMiLCJtaW56b29tIiwibWF4em9vbSIsImF0dHJpYnV0aW9uIiwibWFwYm94X2xvZ28iLCJib3VuZHMiLCJzY2hlbWUiLCJ0aWxlU2l6ZSIsImVuY29kaW5nIl0pO2EudmVjdG9yX2xheWVycyYmKG4udmVjdG9yTGF5ZXJzPWEudmVjdG9yX2xheWVycyxuLnZlY3RvckxheWVySWRzPW4udmVjdG9yTGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSkpLG4udGlsZXM9aS5jYW5vbmljYWxpemVUaWxlc2V0KG4sZS51cmwpLG8obnVsbCxuKTt9fTtyZXR1cm4gZS51cmw/dC5nZXRKU09OKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNvdXJjZVVSTChlLnVybCksdC5SZXNvdXJjZVR5cGUuU291cmNlKSxyKTp0LmJyb3dzZXIuZnJhbWUoKGZ1bmN0aW9uKCl7cmV0dXJuIHIobnVsbCxlKX0pKX1FLnByb3RvdHlwZS5icm9hZGNhc3Q9ZnVuY3Rpb24oZSxpLG8pe3QuYXN5bmNBbGwodGhpcy5hY3RvcnMsKGZ1bmN0aW9uKHQsbyl7dC5zZW5kKGUsaSxvKTt9KSxvPW98fGZ1bmN0aW9uKCl7fSk7fSxFLnByb3RvdHlwZS5nZXRBY3Rvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rvcj0odGhpcy5jdXJyZW50QWN0b3IrMSkldGhpcy5hY3RvcnMubGVuZ3RoLHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXX0sRS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5hY3RvcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5yZW1vdmUoKTt9KSksdGhpcy5hY3RvcnM9W10sdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7fSxFLkFjdG9yPXQuQWN0b3I7dmFyIFA9ZnVuY3Rpb24oZSxpLG8pe3RoaXMuYm91bmRzPXQuTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyhlKSksdGhpcy5taW56b29tPWl8fDAsdGhpcy5tYXh6b29tPW98fDI0O307UC5wcm90b3R5cGUudmFsaWRhdGVCb3VuZHM9ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJjQ9PT10Lmxlbmd0aD9bTWF0aC5tYXgoLTE4MCx0WzBdKSxNYXRoLm1heCgtOTAsdFsxXSksTWF0aC5taW4oMTgwLHRbMl0pLE1hdGgubWluKDkwLHRbM10pXTpbLTE4MCwtOTAsMTgwLDkwXX0sUC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7dmFyIGk9TWF0aC5wb3coMixlLnopLG89TWF0aC5mbG9vcih0Lm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0V2VzdCgpKSppKSxyPU1hdGguZmxvb3IodC5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKmkpLGE9TWF0aC5jZWlsKHQubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpKmkpLG49TWF0aC5jZWlsKHQubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXRTb3V0aCgpKSppKTtyZXR1cm4gZS54Pj1vJiZlLng8YSYmZS55Pj1yJiZlLnk8bn07dmFyIFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtpZihlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMuZGlzcGF0Y2hlcj1yLHRoaXMudHlwZT0idmVjdG9yIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5zY2hlbWU9Inh5eiIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5fbG9hZGVkPSExLHQuZXh0ZW5kKHRoaXMsdC5waWNrKG8sWyJ1cmwiLCJzY2hlbWUiLCJ0aWxlU2l6ZSIsInByb21vdGVJZCJdKSksdGhpcy5fb3B0aW9ucz10LmV4dGVuZCh7dHlwZToidmVjdG9yIn0sbyksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPW8uY29sbGVjdFJlc291cmNlVGltaW5nLDUxMiE9PXRoaXMudGlsZVNpemUpdGhyb3cgbmV3IEVycm9yKCJ2ZWN0b3IgdGlsZSBzb3VyY2VzIG11c3QgaGF2ZSBhIHRpbGVTaXplIG9mIDUxMiIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChhKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic291cmNlIn0pKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9SSh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoZnVuY3Rpb24oaSxvKXtlLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCxlLl9sb2FkZWQ9ITAsaT9lLmZpcmUobmV3IHQuRXJyb3JFdmVudChpKSk6byYmKHQuZXh0ZW5kKGUsbyksby5ib3VuZHMmJihlLnRpbGVCb3VuZHM9bmV3IFAoby5ib3VuZHMsZS5taW56b29tLGUubWF4em9vbSkpLHQucG9zdFR1cm5zdGlsZUV2ZW50KG8udGlsZXMsZS5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiksdC5wb3N0TWFwTG9hZEV2ZW50KG8udGlsZXMsZS5tYXAuX2dldE1hcElkKCksZS5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbixlLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSxlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIixzb3VyY2VEYXRhVHlwZToibWV0YWRhdGEifSkpLGUuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJjb250ZW50In0pKSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUuaGFzVGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHQuY2Fub25pY2FsKX0saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fdGlsZUpTT05SZXF1ZXN0JiYodGhpcy5fdGlsZUpTT05SZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsKTt9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX0saS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTChlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpKSxyPXtyZXF1ZXN0OnRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sdC5SZXNvdXJjZVR5cGUuVGlsZSksdWlkOmUudWlkLHRpbGVJRDplLnRpbGVJRCx6b29tOmUudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQscGl4ZWxSYXRpbzp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZH07ZnVuY3Rpb24gYShvLHIpe3JldHVybiBkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZD9pKG51bGwpOm8mJjQwNCE9PW8uc3RhdHVzP2kobyk6KHImJnIucmVzb3VyY2VUaW1pbmcmJihlLnJlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZyJiZlLnNldEV4cGlyeURhdGEociksZS5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIpLHQuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKSxpKG51bGwpLHZvaWQoZS5yZWxvYWRDYWxsYmFjayYmKHRoaXMubG9hZFRpbGUoZSxlLnJlbG9hZENhbGxiYWNrKSxlLnJlbG9hZENhbGxiYWNrPW51bGwpKSl9ci5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsZS5hY3RvciYmImV4cGlyZWQiIT09ZS5zdGF0ZT8ibG9hZGluZyI9PT1lLnN0YXRlP2UucmVsb2FkQ2FsbGJhY2s9aTplLnJlcXVlc3Q9ZS5hY3Rvci5zZW5kKCJyZWxvYWRUaWxlIixyLGEuYmluZCh0aGlzKSk6KGUuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksZS5yZXF1ZXN0PWUuYWN0b3Iuc2VuZCgibG9hZFRpbGUiLHIsYS5iaW5kKHRoaXMpKSk7fSxpLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24odCl7dC5yZXF1ZXN0JiYodC5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSB0LnJlcXVlc3QpLHQuYWN0b3ImJnQuYWN0b3Iuc2VuZCgiYWJvcnRUaWxlIix7dWlkOnQudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSx2b2lkIDApO30saS5wcm90b3R5cGUudW5sb2FkVGlsZT1mdW5jdGlvbih0KXt0LnVubG9hZFZlY3RvckRhdGEoKSx0LmFjdG9yJiZ0LmFjdG9yLnNlbmQoInJlbW92ZVRpbGUiLHt1aWQ6dC51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LHZvaWQgMCk7fSxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxpfSh0LkV2ZW50ZWQpLEM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMuZGlzcGF0Y2hlcj1yLHRoaXMuc2V0RXZlbnRlZFBhcmVudChhKSx0aGlzLnR5cGU9InJhc3RlciIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMucm91bmRab29tPSEwLHRoaXMuc2NoZW1lPSJ4eXoiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt0eXBlOiJyYXN0ZXIifSxvKSx0LmV4dGVuZCh0aGlzLHQucGljayhvLFsidXJsIiwic2NoZW1lIiwidGlsZVNpemUiXSkpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1JKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLChmdW5jdGlvbihpLG8pe2UuX3RpbGVKU09OUmVxdWVzdD1udWxsLGUuX2xvYWRlZD0hMCxpP2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KGkpKTpvJiYodC5leHRlbmQoZSxvKSxvLmJvdW5kcyYmKGUudGlsZUJvdW5kcz1uZXcgUChvLmJvdW5kcyxlLm1pbnpvb20sZS5tYXh6b29tKSksdC5wb3N0VHVybnN0aWxlRXZlbnQoby50aWxlcyksdC5wb3N0TWFwTG9hZEV2ZW50KG8udGlsZXMsZS5tYXAuX2dldE1hcElkKCksZS5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbiksZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InNvdXJjZSIsc291cmNlRGF0YVR5cGU6Im1ldGFkYXRhIn0pKSxlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIixzb3VyY2VEYXRhVHlwZToiY29udGVudCJ9KSkpO30pKTt9LGkucHJvdG90eXBlLmxvYWRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkZWR9LGkucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubWFwPXQsdGhpcy5sb2FkKCk7fSxpLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9LGkucHJvdG90eXBlLmhhc1RpbGU9ZnVuY3Rpb24odCl7cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0LmNhbm9uaWNhbCl9LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcyxyPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksdGhpcy50aWxlU2l6ZSk7ZS5yZXF1ZXN0PXQuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3Qocix0LlJlc291cmNlVHlwZS5UaWxlKSwoZnVuY3Rpb24ocixhKXtpZihkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZCllLnN0YXRlPSJ1bmxvYWRlZCIsaShudWxsKTtlbHNlIGlmKHIpZS5zdGF0ZT0iZXJyb3JlZCIsaShyKTtlbHNlIGlmKGEpe28ubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZlLnNldEV4cGlyeURhdGEoYSksZGVsZXRlIGEuY2FjaGVDb250cm9sLGRlbGV0ZSBhLmV4cGlyZXM7dmFyIG49by5tYXAucGFpbnRlci5jb250ZXh0LHM9bi5nbDtlLnRleHR1cmU9by5tYXAucGFpbnRlci5nZXRUaWxlVGV4dHVyZShhLndpZHRoKSxlLnRleHR1cmU/ZS50ZXh0dXJlLnVwZGF0ZShhLHt1c2VNaXBtYXA6ITB9KTooZS50ZXh0dXJlPW5ldyB0LlRleHR1cmUobixhLHMuUkdCQSx7dXNlTWlwbWFwOiEwfSksZS50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFLHMuTElORUFSX01JUE1BUF9ORUFSRVNUKSxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmcy50ZXhQYXJhbWV0ZXJmKHMuVEVYVFVSRV8yRCxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkpLGUuc3RhdGU9ImxvYWRlZCIsdC5jYWNoZUVudHJ5UG9zc2libHlBZGRlZChvLmRpc3BhdGNoZXIpLGkobnVsbCk7fX0pKTt9LGkucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbih0LGUpe3QucmVxdWVzdCYmKHQucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgdC5yZXF1ZXN0KSxlKCk7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dC50ZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LnRleHR1cmUpLGUoKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksej1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyxyLGEpe2UuY2FsbCh0aGlzLGksbyxyLGEpLHRoaXMudHlwZT0icmFzdGVyLWRlbSIsdGhpcy5tYXh6b29tPTIyLHRoaXMuX29wdGlvbnM9dC5leHRlbmQoe3R5cGU6InJhc3Rlci1kZW0ifSxvKSx0aGlzLmVuY29kaW5nPW8uZW5jb2Rpbmd8fCJtYXBib3giO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6InJhc3Rlci1kZW0iLHVybDp0aGlzLnVybCx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHRpbGVzOnRoaXMudGlsZXMsYm91bmRzOnRoaXMuYm91bmRzLGVuY29kaW5nOnRoaXMuZW5jb2Rpbmd9fSxpLnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksdGhpcy50aWxlU2l6ZSk7ZnVuY3Rpb24gcih0LG8pe3QmJihlLnN0YXRlPSJlcnJvcmVkIixpKHQpKSxvJiYoZS5kZW09byxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCxlLnN0YXRlPSJsb2FkZWQiLGkobnVsbCkpO31lLnJlcXVlc3Q9dC5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChvLHQuUmVzb3VyY2VUeXBlLlRpbGUpLGZ1bmN0aW9uKG8sYSl7aWYoZGVsZXRlIGUucmVxdWVzdCxlLmFib3J0ZWQpZS5zdGF0ZT0idW5sb2FkZWQiLGkobnVsbCk7ZWxzZSBpZihvKWUuc3RhdGU9ImVycm9yZWQiLGkobyk7ZWxzZSBpZihhKXt0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmZS5zZXRFeHBpcnlEYXRhKGEpLGRlbGV0ZSBhLmNhY2hlQ29udHJvbCxkZWxldGUgYS5leHBpcmVzO3ZhciBuPXQud2luZG93LkltYWdlQml0bWFwJiZhIGluc3RhbmNlb2YgdC53aW5kb3cuSW1hZ2VCaXRtYXAmJnQub2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkKCk/YTp0LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGEsMSkscz17dWlkOmUudWlkLGNvb3JkOmUudGlsZUlELHNvdXJjZTp0aGlzLmlkLHJhd0ltYWdlRGF0YTpuLGVuY29kaW5nOnRoaXMuZW5jb2Rpbmd9O2UuYWN0b3ImJiJleHBpcmVkIiE9PWUuc3RhdGV8fChlLmFjdG9yPXRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpLGUuYWN0b3Iuc2VuZCgibG9hZERFTVRpbGUiLHMsci5iaW5kKHRoaXMpKSk7fX0uYmluZCh0aGlzKSksZS5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXMoZS50aWxlSUQpO30saS5wcm90b3R5cGUuX2dldE5laWdoYm9yaW5nVGlsZXM9ZnVuY3Rpb24oZSl7dmFyIGk9ZS5jYW5vbmljYWwsbz1NYXRoLnBvdygyLGkueikscj0oaS54LTErbyklbyxhPTA9PT1pLng/ZS53cmFwLTE6ZS53cmFwLG49KGkueCsxK28pJW8scz1pLngrMT09PW8/ZS53cmFwKzE6ZS53cmFwLGw9e307cmV0dXJuIGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLGEsaS56LHIsaS55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixzLGkueixuLGkueSkua2V5XT17YmFja2ZpbGxlZDohMX0saS55PjAmJihsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixhLGkueixyLGkueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixlLndyYXAsaS56LGkueCxpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFoscyxpLnosbixpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGkueSsxPG8mJihsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixhLGkueixyLGkueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixlLndyYXAsaS56LGkueCxpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFoscyxpLnosbixpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGx9LGkucHJvdG90eXBlLnVubG9hZFRpbGU9ZnVuY3Rpb24odCl7dC5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LmRlbVRleHR1cmUpLHQuZmJvJiYodC5mYm8uZGVzdHJveSgpLGRlbGV0ZSB0LmZibyksdC5kZW0mJmRlbGV0ZSB0LmRlbSxkZWxldGUgdC5uZWlnaGJvcmluZ1RpbGVzLHQuc3RhdGU9InVubG9hZGVkIix0LmFjdG9yJiZ0LmFjdG9yLnNlbmQoInJlbW92ZURFTVRpbGUiLHt1aWQ6dC51aWQsc291cmNlOnRoaXMuaWR9KTt9LGl9KEMpLEQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMudHlwZT0iZ2VvanNvbiIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTE4LHRoaXMudGlsZVNpemU9NTEyLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuX3JlbW92ZWQ9ITEsdGhpcy5fbG9hZGVkPSExLHRoaXMuYWN0b3I9ci5nZXRBY3RvcigpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChhKSx0aGlzLl9kYXRhPW8uZGF0YSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt9LG8pLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1vLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9yZXNvdXJjZVRpbWluZz1bXSx2b2lkIDAhPT1vLm1heHpvb20mJih0aGlzLm1heHpvb209by5tYXh6b29tKSxvLnR5cGUmJih0aGlzLnR5cGU9by50eXBlKSxvLmF0dHJpYnV0aW9uJiYodGhpcy5hdHRyaWJ1dGlvbj1vLmF0dHJpYnV0aW9uKSx0aGlzLnByb21vdGVJZD1vLnByb21vdGVJZDt2YXIgbj10LkVYVEVOVC90aGlzLnRpbGVTaXplO3RoaXMud29ya2VyT3B0aW9ucz10LmV4dGVuZCh7c291cmNlOnRoaXMuaWQsY2x1c3RlcjpvLmNsdXN0ZXJ8fCExLGdlb2pzb25WdE9wdGlvbnM6e2J1ZmZlcjoodm9pZCAwIT09by5idWZmZXI/by5idWZmZXI6MTI4KSpuLHRvbGVyYW5jZToodm9pZCAwIT09by50b2xlcmFuY2U/by50b2xlcmFuY2U6LjM3NSkqbixleHRlbnQ6dC5FWFRFTlQsbWF4Wm9vbTp0aGlzLm1heHpvb20sbGluZU1ldHJpY3M6by5saW5lTWV0cmljc3x8ITEsZ2VuZXJhdGVJZDpvLmdlbmVyYXRlSWR8fCExfSxzdXBlcmNsdXN0ZXJPcHRpb25zOnttYXhab29tOnZvaWQgMCE9PW8uY2x1c3Rlck1heFpvb20/TWF0aC5taW4oby5jbHVzdGVyTWF4Wm9vbSx0aGlzLm1heHpvb20tMSk6dGhpcy5tYXh6b29tLTEsZXh0ZW50OnQuRVhURU5ULHJhZGl1czooby5jbHVzdGVyUmFkaXVzfHw1MCkqbixsb2c6ITEsZ2VuZXJhdGVJZDpvLmdlbmVyYXRlSWR8fCExfSxjbHVzdGVyUHJvcGVydGllczpvLmNsdXN0ZXJQcm9wZXJ0aWVzfSxvLndvcmtlck9wdGlvbnMpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InNvdXJjZSJ9KSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgoZnVuY3Rpb24oaSl7aWYoaSllLmZpcmUobmV3IHQuRXJyb3JFdmVudChpKSk7ZWxzZSB7dmFyIG89e2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJtZXRhZGF0YSJ9O2UuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmZS5fcmVzb3VyY2VUaW1pbmcmJmUuX3Jlc291cmNlVGltaW5nLmxlbmd0aD4wJiYoby5yZXNvdXJjZVRpbWluZz1lLl9yZXNvdXJjZVRpbWluZyxlLl9yZXNvdXJjZVRpbWluZz1bXSksZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIixvKSk7fX0pKTt9LGkucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubWFwPXQsdGhpcy5sb2FkKCk7fSxpLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuX2RhdGE9ZSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InNvdXJjZSJ9KSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgoZnVuY3Rpb24oZSl7aWYoZSlpLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk7ZWxzZSB7dmFyIG89e2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJjb250ZW50In07aS5fY29sbGVjdFJlc291cmNlVGltaW5nJiZpLl9yZXNvdXJjZVRpbWluZyYmaS5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoPjAmJihvLnJlc291cmNlVGltaW5nPWkuX3Jlc291cmNlVGltaW5nLGkuX3Jlc291cmNlVGltaW5nPVtdKSxpLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLG8pKTt9fSkpLHRoaXN9LGkucHJvdG90eXBlLmdldENsdXN0ZXJFeHBhbnNpb25ab29tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZCgiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbSIse2NsdXN0ZXJJZDp0LHNvdXJjZTp0aGlzLmlkfSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlbiIse2NsdXN0ZXJJZDp0LHNvdXJjZTp0aGlzLmlkfSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyTGVhdmVzPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlcyIse3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXJJZDp0LGxpbWl0OmUsb2Zmc2V0Oml9LG8pLHRoaXN9LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJEYXRhPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5fbG9hZGVkPSExO3ZhciBvPXQuZXh0ZW5kKHt9LHRoaXMud29ya2VyT3B0aW9ucykscj10aGlzLl9kYXRhOyJzdHJpbmciPT10eXBlb2Ygcj8oby5yZXF1ZXN0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQuYnJvd3Nlci5yZXNvbHZlVVJMKHIpLHQuUmVzb3VyY2VUeXBlLlNvdXJjZSksby5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOm8uZGF0YT1KU09OLnN0cmluZ2lmeShyKSx0aGlzLmFjdG9yLnNlbmQodGhpcy50eXBlKyIubG9hZERhdGEiLG8sKGZ1bmN0aW9uKHQscil7aS5fcmVtb3ZlZHx8ciYmci5hYmFuZG9uZWR8fChpLl9sb2FkZWQ9ITAsciYmci5yZXNvdXJjZVRpbWluZyYmci5yZXNvdXJjZVRpbWluZ1tpLmlkXSYmKGkuX3Jlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmdbaS5pZF0uc2xpY2UoMCkpLGkuYWN0b3Iuc2VuZChpLnR5cGUrIi5jb2FsZXNjZSIse3NvdXJjZTpvLnNvdXJjZX0sbnVsbCksZSh0KSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9ZS5hY3Rvcj8icmVsb2FkVGlsZSI6ImxvYWRUaWxlIjtlLmFjdG9yPXRoaXMuYWN0b3IsZS5yZXF1ZXN0PXRoaXMuYWN0b3Iuc2VuZChyLHt0eXBlOnRoaXMudHlwZSx1aWQ6ZS51aWQsdGlsZUlEOmUudGlsZUlELHpvb206ZS50aWxlSUQub3ZlcnNjYWxlZFosbWF4Wm9vbTp0aGlzLm1heHpvb20sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfSwoZnVuY3Rpb24odCxhKXtyZXR1cm4gZGVsZXRlIGUucmVxdWVzdCxlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFib3J0ZWQ/aShudWxsKTp0P2kodCk6KGUubG9hZFZlY3RvckRhdGEoYSxvLm1hcC5wYWludGVyLCJyZWxvYWRUaWxlIj09PXIpLGkobnVsbCkpfSkpO30saS5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKHQpe3QucmVxdWVzdCYmKHQucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgdC5yZXF1ZXN0KSx0LmFib3J0ZWQ9ITA7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe3QudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuYWN0b3Iuc2VuZCgicmVtb3ZlVGlsZSIse3VpZDp0LnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pO30saS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVkPSEwLHRoaXMuYWN0b3Iuc2VuZCgicmVtb3ZlU291cmNlIix7dHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLHt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9KX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiAhMX0saX0odC5FdmVudGVkKSxNPXQuY3JlYXRlTGF5b3V0KFt7bmFtZToiYV9wb3MiLHR5cGU6IkludDE2Iixjb21wb25lbnRzOjJ9LHtuYW1lOiJhX3RleHR1cmVfcG9zIix0eXBlOiJJbnQxNiIsY29tcG9uZW50czoyfV0pLEE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSh0LGksbyxyKXtlLmNhbGwodGhpcyksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMuY29vcmRpbmF0ZXM9aS5jb29yZGluYXRlcyx0aGlzLnR5cGU9ImltYWdlIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpczt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMudXJsPXRoaXMub3B0aW9ucy51cmwsdC5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0aGlzLnVybCx0LlJlc291cmNlVHlwZS5JbWFnZSksKGZ1bmN0aW9uKHIsYSl7by5fbG9hZGVkPSEwLHI/by5maXJlKG5ldyB0LkVycm9yRXZlbnQocikpOmEmJihvLmltYWdlPWEsZSYmKG8uY29vcmRpbmF0ZXM9ZSksaSYmaSgpLG8uX2ZpbmlzaExvYWRpbmcoKSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5pbWFnZSYmdC51cmw/KHRoaXMub3B0aW9ucy51cmw9dC51cmwsdGhpcy5sb2FkKHQuY29vcmRpbmF0ZXMsKGZ1bmN0aW9uKCl7ZS50ZXh0dXJlPW51bGw7fSkpLHRoaXMpOnRoaXN9LGkucHJvdG90eXBlLl9maW5pc2hMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJtZXRhZGF0YSJ9KSkpO30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9LGkucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5jb29yZGluYXRlcz1lO3ZhciBvPWUubWFwKHQuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpO3RoaXMudGlsZUlEPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0xLzAsbz0xLzAscj0tMS8wLGE9LTEvMCxuPTAscz1lO248cy5sZW5ndGg7bis9MSl7dmFyIGw9c1tuXTtpPU1hdGgubWluKGksbC54KSxvPU1hdGgubWluKG8sbC55KSxyPU1hdGgubWF4KHIsbC54KSxhPU1hdGgubWF4KGEsbC55KTt9dmFyIGM9TWF0aC5tYXgoci1pLGEtbyksdT1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKGMpL01hdGguTE4yKSksaD1NYXRoLnBvdygyLHUpO3JldHVybiBuZXcgdC5DYW5vbmljYWxUaWxlSUQodSxNYXRoLmZsb29yKChpK3IpLzIqaCksTWF0aC5mbG9vcigobythKS8yKmgpKX0obyksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56O3ZhciByPW8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gaS50aWxlSUQuZ2V0VGlsZVBvaW50KHQpLl9yb3VuZCgpfSkpO3JldHVybiB0aGlzLl9ib3VuZHNBcnJheT1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDRpOCx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzBdLngsclswXS55LDAsMCksdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2soclsxXS54LHJbMV0ueSx0LkVYVEVOVCwwKSx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzNdLngsclszXS55LDAsdC5FWFRFTlQpLHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHJbMl0ueCxyWzJdLnksdC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMuYm91bmRzQnVmZmVyJiYodGhpcy5ib3VuZHNCdWZmZXIuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmJvdW5kc0J1ZmZlciksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InNvdXJjZSIsc291cmNlRGF0YVR5cGU6ImNvbnRlbnQifSkpLHRoaXN9LGkucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXtpZigwIT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoJiZ0aGlzLmltYWdlKXt2YXIgZT10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsaT1lLmdsO2Zvcih2YXIgbyBpbiB0aGlzLmJvdW5kc0J1ZmZlcnx8KHRoaXMuYm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuX2JvdW5kc0FycmF5LE0ubWVtYmVycykpLHRoaXMuYm91bmRzU2VnbWVudHN8fCh0aGlzLmJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpKSx0aGlzLnRleHR1cmV8fCh0aGlzLnRleHR1cmU9bmV3IHQuVGV4dHVyZShlLHRoaXMuaW1hZ2UsaS5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpKSx0aGlzLnRpbGVzKXt2YXIgcj10aGlzLnRpbGVzW29dOyJsb2FkZWQiIT09ci5zdGF0ZSYmKHIuc3RhdGU9ImxvYWRlZCIsci50ZXh0dXJlPXRoaXMudGV4dHVyZSk7fX19LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dGhpcy50aWxlSUQmJnRoaXMudGlsZUlELmVxdWFscyh0LnRpbGVJRC5jYW5vbmljYWwpPyh0aGlzLnRpbGVzW1N0cmluZyh0LnRpbGVJRC53cmFwKV09dCx0LmJ1Y2tldHM9e30sZShudWxsKSk6KHQuc3RhdGU9ImVycm9yZWQiLGUobnVsbCkpO30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHt0eXBlOiJpbWFnZSIsdXJsOnRoaXMub3B0aW9ucy51cmwsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksTD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKHQsaSxvLHIpe2UuY2FsbCh0aGlzLHQsaSxvLHIpLHRoaXMucm91bmRab29tPSEwLHRoaXMudHlwZT0idmlkZW8iLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2FkZWQ9ITE7dmFyIGk9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IodmFyIG89MCxyPWkudXJscztvPHIubGVuZ3RoO28rPTEpdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocltvXSx0LlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7dC5nZXRWaWRlbyh0aGlzLnVybHMsKGZ1bmN0aW9uKGksbyl7ZS5fbG9hZGVkPSEwLGk/ZS5maXJlKG5ldyB0LkVycm9yRXZlbnQoaSkpOm8mJihlLnZpZGVvPW8sZS52aWRlby5sb29wPSEwLGUudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigicGxheWluZyIsKGZ1bmN0aW9uKCl7ZS5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksZS5tYXAmJmUudmlkZW8ucGxheSgpLGUuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO30saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLnZpZGVvJiZ0aGlzLnZpZGVvLnBhdXNlKCk7fSxpLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wbGF5KCk7fSxpLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe2lmKHRoaXMudmlkZW8pe3ZhciBpPXRoaXMudmlkZW8uc2Vla2FibGU7ZTxpLnN0YXJ0KDApfHxlPmkuZW5kKDApP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK3RoaXMuaWQsbnVsbCwiUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICIraS5zdGFydCgwKSsiIGFuZCAiK2kuZW5kKDApKyItc2Vjb25kIG1hcmsuIikpKTp0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWU7fX0saS5wcm90b3R5cGUuZ2V0VmlkZW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWRlb30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXB8fCh0aGlzLm1hcD10LHRoaXMubG9hZCgpLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpKSk7fSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7aWYoISgwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8Mikpe3ZhciBlPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxpPWUuZ2w7Zm9yKHZhciBvIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksTS5tZW1iZXJzKSksdGhpcy5ib3VuZHNTZWdtZW50c3x8KHRoaXMuYm91bmRzU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMikpLHRoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhTdWJJbWFnZTJEKGkuVEVYVFVSRV8yRCwwLDAsMCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx0aGlzLnZpZGVvLGkuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSksdGhpcy50aWxlcyl7dmFyIHI9dGhpcy50aWxlc1tvXTsibG9hZGVkIiE9PXIuc3RhdGUmJihyLnN0YXRlPSJsb2FkZWQiLHIudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6InZpZGVvIix1cmxzOnRoaXMudXJscyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9LGl9KEEpLFI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyxpLG8scixhKSxvLmNvb3JkaW5hdGVzP0FycmF5LmlzQXJyYXkoby5jb29yZGluYXRlcykmJjQ9PT1vLmNvb3JkaW5hdGVzLmxlbmd0aCYmIW8uY29vcmRpbmF0ZXMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICFBcnJheS5pc0FycmF5KHQpfHwyIT09dC5sZW5ndGh8fHQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICJudW1iZXIiIT10eXBlb2YgdH0pKX0pKXx8dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCciY29vcmRpbmF0ZXMiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK2ksbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiY29vcmRpbmF0ZXMiJykpKSxvLmFuaW1hdGUmJiJib29sZWFuIiE9dHlwZW9mIG8uYW5pbWF0ZSYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCdvcHRpb25hbCAiYW5pbWF0ZSIgcHJvcGVydHkgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUnKSkpLG8uY2FudmFzPyJzdHJpbmciPT10eXBlb2Ygby5jYW52YXN8fG8uY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK2ksbnVsbCwnImNhbnZhcyIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJjYW52YXMiJykpKSx0aGlzLm9wdGlvbnM9byx0aGlzLmFuaW1hdGU9dm9pZCAwPT09by5hbmltYXRlfHxvLmFuaW1hdGU7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5vcHRpb25zLmNhbnZhczp0LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSksdGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKT90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkNhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby4iKSkpOih0aGlzLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSEwLHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCk7fSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZyYmKHRoaXMucHJlcGFyZSgpLHRoaXMuX3BsYXlpbmc9ITEpO30sdGhpcy5fZmluaXNoTG9hZGluZygpKTt9LGkucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZSgpO30saS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe3ZhciBlPSExO2lmKHRoaXMuY2FudmFzLndpZHRoIT09dGhpcy53aWR0aCYmKHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsZT0hMCksdGhpcy5jYW52YXMuaGVpZ2h0IT09dGhpcy5oZWlnaHQmJih0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsZT0hMCksIXRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkmJjAhPT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpe3ZhciBpPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxvPWkuZ2w7Zm9yKHZhciByIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9aS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksTS5tZW1iZXJzKSksdGhpcy5ib3VuZHNTZWdtZW50c3x8KHRoaXMuYm91bmRzU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMikpLHRoaXMudGV4dHVyZT8oZXx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyB0LlRleHR1cmUoaSx0aGlzLmNhbnZhcyxvLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy50aWxlcyl7dmFyIGE9dGhpcy50aWxlc1tyXTsibG9hZGVkIiE9PWEuc3RhdGUmJihhLnN0YXRlPSJsb2FkZWQiLGEudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6ImNhbnZhcyIsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ30saS5wcm90b3R5cGUuX2hhc0ludmFsaWREaW1lbnNpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1bdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XTt0PGUubGVuZ3RoO3QrPTEpe3ZhciBpPWVbdF07aWYoaXNOYU4oaSl8fGk8PTApcmV0dXJuICEwfXJldHVybiAhMX0saX0oQSksaz17dmVjdG9yOlMscmFzdGVyOkMsInJhc3Rlci1kZW0iOnosZ2VvanNvbjpELHZpZGVvOkwsaW1hZ2U6QSxjYW52YXM6Un07ZnVuY3Rpb24gQihlLGkpe3ZhciBvPXQuaWRlbnRpdHkoW10pO3JldHVybiB0LnRyYW5zbGF0ZShvLG8sWzEsMSwwXSksdC5zY2FsZShvLG8sWy41KmUud2lkdGgsLjUqZS5oZWlnaHQsMV0pLHQubXVsdGlwbHkobyxvLGUuY2FsY3VsYXRlUG9zTWF0cml4KGkudG9VbndyYXBwZWQoKSkpfWZ1bmN0aW9uIE8odCxlLGksbyxyLGEpe3ZhciBuPWZ1bmN0aW9uKHQsZSxpKXtpZih0KWZvcih2YXIgbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPWVbcltvXV07aWYoYSYmYS5zb3VyY2U9PT1pJiYiZmlsbC1leHRydXNpb24iPT09YS50eXBlKXJldHVybiAhMH1lbHNlIGZvcih2YXIgbiBpbiBlKXt2YXIgcz1lW25dO2lmKHMuc291cmNlPT09aSYmImZpbGwtZXh0cnVzaW9uIj09PXMudHlwZSlyZXR1cm4gITB9cmV0dXJuICExfShyJiZyLmxheWVycyxlLHQuaWQpLHM9YS5tYXhQaXRjaFNjYWxlRmFjdG9yKCksbD10LnRpbGVzSW4obyxzLG4pO2wuc29ydChGKTtmb3IodmFyIGM9W10sdT0wLGg9bDt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV07Yy5wdXNoKHt3cmFwcGVkVGlsZUlEOnAudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOnAudGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZSxpLHQuX3N0YXRlLHAucXVlcnlHZW9tZXRyeSxwLmNhbWVyYVF1ZXJ5R2VvbWV0cnkscC5zY2FsZSxyLGEscyxCKHQudHJhbnNmb3JtLHAudGlsZUlEKSl9KTt9dmFyIGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LGk9e30sbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb10sbj1hLnF1ZXJ5UmVzdWx0cyxzPWEud3JhcHBlZFRpbGVJRCxsPWlbc109aVtzXXx8e307Zm9yKHZhciBjIGluIG4pZm9yKHZhciB1PW5bY10saD1sW2NdPWxbY118fHt9LHA9ZVtjXT1lW2NdfHxbXSxkPTAsXz11O2Q8Xy5sZW5ndGg7ZCs9MSl7dmFyIGY9X1tkXTtoW2YuZmVhdHVyZUluZGV4XXx8KGhbZi5mZWF0dXJlSW5kZXhdPSEwLHAucHVzaChmKSk7fX1yZXR1cm4gZX0oYyk7Zm9yKHZhciBfIGluIGQpZFtfXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLmZlYXR1cmUsbz10LmdldEZlYXR1cmVTdGF0ZShpLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSxpLmlkKTtpLnNvdXJjZT1pLmxheWVyLnNvdXJjZSxpLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSYmKGkuc291cmNlTGF5ZXI9aS5sYXllclsic291cmNlLWxheWVyIl0pLGkuc3RhdGU9bzt9KSk7cmV0dXJuIGR9ZnVuY3Rpb24gRih0LGUpe3ZhciBpPXQudGlsZUlELG89ZS50aWxlSUQ7cmV0dXJuIGkub3ZlcnNjYWxlZFotby5vdmVyc2NhbGVkWnx8aS5jYW5vbmljYWwueS1vLmNhbm9uaWNhbC55fHxpLndyYXAtby53cmFwfHxpLmNhbm9uaWNhbC54LW8uY2Fub25pY2FsLnh9dmFyIFU9ZnVuY3Rpb24odCxlKXt0aGlzLm1heD10LHRoaXMub25SZW1vdmU9ZSx0aGlzLnJlc2V0KCk7fTtVLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmRhdGEpZm9yKHZhciBlPTAsaT10aGlzLmRhdGFbdF07ZTxpLmxlbmd0aDtlKz0xKXt2YXIgbz1pW2VdO28udGltZW91dCYmY2xlYXJUaW1lb3V0KG8udGltZW91dCksdGhpcy5vblJlbW92ZShvLnZhbHVlKTt9cmV0dXJuIHRoaXMuZGF0YT17fSx0aGlzLm9yZGVyPVtdLHRoaXN9LFUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcyxyPXQud3JhcHBlZCgpLmtleTt2b2lkIDA9PT10aGlzLmRhdGFbcl0mJih0aGlzLmRhdGFbcl09W10pO3ZhciBhPXt2YWx1ZTplLHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1pJiYoYS50aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by5yZW1vdmUodCxhKTt9KSxpKSksdGhpcy5kYXRhW3JdLnB1c2goYSksdGhpcy5vcmRlci5wdXNoKHIpLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXt2YXIgbj10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtuJiZ0aGlzLm9uUmVtb3ZlKG4pO31yZXR1cm4gdGhpc30sVS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0LndyYXBwZWQoKS5rZXkgaW4gdGhpcy5kYXRhfSxVLnByb3RvdHlwZS5nZXRBbmRSZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHQud3JhcHBlZCgpLmtleSk6bnVsbH0sVS5wcm90b3R5cGUuX2dldEFuZFJlbW92ZUJ5S2V5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YVt0XS5zaGlmdCgpO3JldHVybiBlLnRpbWVvdXQmJmNsZWFyVGltZW91dChlLnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW3RdLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZih0KSwxKSxlLnZhbHVlfSxVLnByb3RvdHlwZS5nZXRCeUtleT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGFbdF07cmV0dXJuIGU/ZVswXS52YWx1ZTpudWxsfSxVLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuZGF0YVt0LndyYXBwZWQoKS5rZXldWzBdLnZhbHVlOm51bGx9LFUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4gdGhpczt2YXIgaT10LndyYXBwZWQoKS5rZXksbz12b2lkIDA9PT1lPzA6dGhpcy5kYXRhW2ldLmluZGV4T2YoZSkscj10aGlzLmRhdGFbaV1bb107cmV0dXJuIHRoaXMuZGF0YVtpXS5zcGxpY2UobywxKSxyLnRpbWVvdXQmJmNsZWFyVGltZW91dChyLnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbaV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW2ldLHRoaXMub25SZW1vdmUoci52YWx1ZSksdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGkpLDEpLHRoaXN9LFUucHJvdG90eXBlLnNldE1heFNpemU9ZnVuY3Rpb24odCl7Zm9yKHRoaXMubWF4PXQ7dGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXg7KXt2YXIgZT10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtlJiZ0aGlzLm9uUmVtb3ZlKGUpO31yZXR1cm4gdGhpc30sVS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0aGlzLmRhdGEpZm9yKHZhciBvPTAscj10aGlzLmRhdGFbaV07bzxyLmxlbmd0aDtvKz0xKXt2YXIgYT1yW29dO3QoYS52YWx1ZSl8fGUucHVzaChhKTt9Zm9yKHZhciBuPTAscz1lO248cy5sZW5ndGg7bis9MSl7dmFyIGw9c1tuXTt0aGlzLnJlbW92ZShsLnZhbHVlLnRpbGVJRCxsKTt9fTt2YXIgTj1mdW5jdGlvbih0LGUsaSl7dGhpcy5jb250ZXh0PXQ7dmFyIG89dC5nbDt0aGlzLmJ1ZmZlcj1vLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZHluYW1pY0RyYXc9Qm9vbGVhbihpKSx0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG8uYnVmZmVyRGF0YShvLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9vLkRZTkFNSUNfRFJBVzpvLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHxkZWxldGUgZS5hcnJheUJ1ZmZlcjt9O04ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTt9LE4ucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmJpbmQoKSxlLmJ1ZmZlclN1YkRhdGEoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUiwwLHQuYXJyYXlCdWZmZXIpO30sTi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9O3ZhciBaPXtJbnQ4OiJCWVRFIixVaW50ODoiVU5TSUdORURfQllURSIsSW50MTY6IlNIT1JUIixVaW50MTY6IlVOU0lHTkVEX1NIT1JUIixJbnQzMjoiSU5UIixVaW50MzI6IlVOU0lHTkVEX0lOVCIsRmxvYXQzMjoiRkxPQVQifSxqPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz1pLHRoaXMuaXRlbVNpemU9ZS5ieXRlc1BlckVsZW1lbnQsdGhpcy5keW5hbWljRHJhdz1vLHRoaXMuY29udGV4dD10O3ZhciByPXQuZ2w7dGhpcy5idWZmZXI9ci5jcmVhdGVCdWZmZXIoKSx0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKSxyLmJ1ZmZlckRhdGEoci5BUlJBWV9CVUZGRVIsZS5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P3IuRFlOQU1JQ19EUkFXOnIuU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fGRlbGV0ZSBlLmFycmF5QnVmZmVyO307ai5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fSxqLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmJpbmQoKSxlLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0LmFycmF5QnVmZmVyKTt9LGoucHJvdG90eXBlLmVuYWJsZUF0dHJpYnV0ZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7aSsrKXt2YXIgbz1lLmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWVdO3ZvaWQgMCE9PW8mJnQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobyk7fX0sai5wcm90b3R5cGUuc2V0VmVydGV4QXR0cmliUG9pbnRlcnM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wO288dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtvKyspe3ZhciByPXRoaXMuYXR0cmlidXRlc1tvXSxhPWUuYXR0cmlidXRlc1tyLm5hbWVdO3ZvaWQgMCE9PWEmJnQudmVydGV4QXR0cmliUG9pbnRlcihhLHIuY29tcG9uZW50cyx0W1pbci50eXBlXV0sITEsdGhpcy5pdGVtU2l6ZSxyLm9mZnNldCt0aGlzLml0ZW1TaXplKihpfHwwKSk7fX0sai5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9O3ZhciBxPWZ1bmN0aW9uKHQpe3RoaXMuZ2w9dC5nbCx0aGlzLmRlZmF1bHQ9dGhpcy5nZXREZWZhdWx0KCksdGhpcy5jdXJyZW50PXRoaXMuZGVmYXVsdCx0aGlzLmRpcnR5PSExO307cS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0scS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe30scS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHR9LHEucHJvdG90eXBlLnNldERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLmRlZmF1bHQpO307dmFyIFY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29sb3IudHJhbnNwYXJlbnR9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHQuciE9PWUucnx8dC5nIT09ZS5nfHx0LmIhPT1lLmJ8fHQuYSE9PWUuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyQ29sb3IodC5yLHQuZyx0LmIsdC5hKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGl9KHEpLEc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyRGVwdGgodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxXPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhclN0ZW5jaWwodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxYPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBbITAsITAsITAsITBdfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRbMl0hPT1lWzJdfHx0WzNdIT09ZVszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNvbG9yTWFzayh0WzBdLHRbMV0sdFsyXSx0WzNdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLEg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aE1hc2sodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxLPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAyNTV9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksWT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4ge2Z1bmM6dGhpcy5nbC5BTFdBWVMscmVmOjAsbWFzazoyNTV9fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0LmZ1bmMhPT1lLmZ1bmN8fHQucmVmIT09ZS5yZWZ8fHQubWFzayE9PWUubWFza3x8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxGdW5jKHQuZnVuYyx0LnJlZix0Lm1hc2spLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksSj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3JldHVybiBbdC5LRUVQLHQuS0VFUCx0LktFRVBdfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRbMl0hPT1lWzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKHRbMF0sdFsxXSx0WzJdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLFE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDt0P2UuZW5hYmxlKGUuU1RFTkNJTF9URVNUKTplLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksJD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gWzAsMV19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHRbMF0hPT1lWzBdfHx0WzFdIT09ZVsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoUmFuZ2UodFswXSx0WzFdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLHR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7dD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksZXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuTEVTU30sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhGdW5jKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksaXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDt0P2UuZW5hYmxlKGUuQkxFTkQpOmUuZGlzYWJsZShlLkJMRU5EKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLG90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7cmV0dXJuIFt0Lk9ORSx0LlpFUk9dfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEZ1bmModFswXSx0WzFdKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLHJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0LkNvbG9yLnRyYW5zcGFyZW50fSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0LnIhPT1lLnJ8fHQuZyE9PWUuZ3x8dC5iIT09ZS5ifHx0LmEhPT1lLmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZENvbG9yKHQucix0LmcsdC5iLHQuYSksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxpfShxKSxhdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5GVU5DX0FERH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRFcXVhdGlvbih0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLG50PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7dD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLHN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLkJBQ0t9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmN1bGxGYWNlKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksbHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuQ0NXfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5mcm9udEZhY2UodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShxKSxjdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudXNlUHJvZ3JhbSh0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KHEpLHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLlRFWFRVUkUwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksaHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDtyZXR1cm4gWzAsMCx0LmRyYXdpbmdCdWZmZXJXaWR0aCx0LmRyYXdpbmdCdWZmZXJIZWlnaHRdfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0WzBdIT09ZVswXXx8dFsxXSE9PWVbMV18fHRbMl0hPT1lWzJdfHx0WzNdIT09ZVszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnZpZXdwb3J0KHRbMF0sdFsxXSx0WzJdLHRbM10pLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSkscHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShxKSxkdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7ZS5iaW5kUmVuZGVyYnVmZmVyKGUuUkVOREVSQlVGRkVSLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksX3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSksZnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLG10PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDtlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO30sZX0ocSksZ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlKSx0aGlzLnZhbz1lLmV4dFZlcnRleEFycmF5T2JqZWN0O31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLnZhbyYmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy52YW8uYmluZFZlcnRleEFycmF5T0VTKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0ocSksdnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDR9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UucGl4ZWxTdG9yZWkoZS5VTlBBQ0tfQUxJR05NRU5ULHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSkseXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDtlLnBpeGVsU3RvcmVpKGUuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0ocSkseHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDtlLnBpeGVsU3RvcmVpKGUuVU5QQUNLX0ZMSVBfWV9XRUJHTCx0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHEpLGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt0LmNhbGwodGhpcyxlKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLnBhcmVudD1pO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV9KHEpLHd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwO30sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTt2YXIgZT10aGlzLmdsO2UuZnJhbWVidWZmZXJUZXh0dXJlMkQoZS5GUkFNRUJVRkZFUixlLkNPTE9SX0FUVEFDSE1FTlQwLGUuVEVYVFVSRV8yRCx0LDApLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0oYnQpLFR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTt2YXIgZT10aGlzLmdsO2UuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZS5GUkFNRUJVRkZFUixlLkRFUFRIX0FUVEFDSE1FTlQsZS5SRU5ERVJCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShidCksRXQ9ZnVuY3Rpb24odCxlLGksbyl7dGhpcy5jb250ZXh0PXQsdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PWk7dmFyIHI9dGhpcy5mcmFtZWJ1ZmZlcj10LmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7dGhpcy5jb2xvckF0dGFjaG1lbnQ9bmV3IHd0KHQsciksbyYmKHRoaXMuZGVwdGhBdHRhY2htZW50PW5ldyBUdCh0LHIpKTt9O0V0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsLGU9dGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7aWYoZSYmdC5kZWxldGVUZXh0dXJlKGUpLHRoaXMuZGVwdGhBdHRhY2htZW50KXt2YXIgaT10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTtpJiZ0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihpKTt9dC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTt9O3ZhciBJdD1mdW5jdGlvbih0LGUsaSl7dGhpcy5mdW5jPXQsdGhpcy5tYXNrPWUsdGhpcy5yYW5nZT1pO307SXQuUmVhZE9ubHk9ITEsSXQuUmVhZFdyaXRlPSEwLEl0LmRpc2FibGVkPW5ldyBJdCg1MTksSXQuUmVhZE9ubHksWzAsMV0pO3ZhciBQdD1mdW5jdGlvbih0LGUsaSxvLHIsYSl7dGhpcy50ZXN0PXQsdGhpcy5yZWY9ZSx0aGlzLm1hc2s9aSx0aGlzLmZhaWw9byx0aGlzLmRlcHRoRmFpbD1yLHRoaXMucGFzcz1hO307UHQuZGlzYWJsZWQ9bmV3IFB0KHtmdW5jOjUxOSxtYXNrOjB9LDAsMCw3NjgwLDc2ODAsNzY4MCk7dmFyIFN0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJsZW5kRnVuY3Rpb249dCx0aGlzLmJsZW5kQ29sb3I9ZSx0aGlzLm1hc2s9aTt9O1N0LmRpc2FibGVkPW5ldyBTdChTdC5SZXBsYWNlPVsxLDBdLHQuQ29sb3IudHJhbnNwYXJlbnQsWyExLCExLCExLCExXSksU3QudW5ibGVuZGVkPW5ldyBTdChTdC5SZXBsYWNlLHQuQ29sb3IudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSksU3QuYWxwaGFCbGVuZGVkPW5ldyBTdChbMSw3NzFdLHQuQ29sb3IudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7dmFyIEN0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmVuYWJsZT10LHRoaXMubW9kZT1lLHRoaXMuZnJvbnRGYWNlPWk7fTtDdC5kaXNhYmxlZD1uZXcgQ3QoITEsMTAyOSwyMzA1KSxDdC5iYWNrQ0NXPW5ldyBDdCghMCwxMDI5LDIzMDUpO3ZhciB6dD1mdW5jdGlvbih0KXt0aGlzLmdsPXQsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdD10aGlzLmdsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSx0aGlzLmNsZWFyQ29sb3I9bmV3IFYodGhpcyksdGhpcy5jbGVhckRlcHRoPW5ldyBHKHRoaXMpLHRoaXMuY2xlYXJTdGVuY2lsPW5ldyBXKHRoaXMpLHRoaXMuY29sb3JNYXNrPW5ldyBYKHRoaXMpLHRoaXMuZGVwdGhNYXNrPW5ldyBIKHRoaXMpLHRoaXMuc3RlbmNpbE1hc2s9bmV3IEsodGhpcyksdGhpcy5zdGVuY2lsRnVuYz1uZXcgWSh0aGlzKSx0aGlzLnN0ZW5jaWxPcD1uZXcgSih0aGlzKSx0aGlzLnN0ZW5jaWxUZXN0PW5ldyBRKHRoaXMpLHRoaXMuZGVwdGhSYW5nZT1uZXcgJCh0aGlzKSx0aGlzLmRlcHRoVGVzdD1uZXcgdHQodGhpcyksdGhpcy5kZXB0aEZ1bmM9bmV3IGV0KHRoaXMpLHRoaXMuYmxlbmQ9bmV3IGl0KHRoaXMpLHRoaXMuYmxlbmRGdW5jPW5ldyBvdCh0aGlzKSx0aGlzLmJsZW5kQ29sb3I9bmV3IHJ0KHRoaXMpLHRoaXMuYmxlbmRFcXVhdGlvbj1uZXcgYXQodGhpcyksdGhpcy5jdWxsRmFjZT1uZXcgbnQodGhpcyksdGhpcy5jdWxsRmFjZVNpZGU9bmV3IHN0KHRoaXMpLHRoaXMuZnJvbnRGYWNlPW5ldyBsdCh0aGlzKSx0aGlzLnByb2dyYW09bmV3IGN0KHRoaXMpLHRoaXMuYWN0aXZlVGV4dHVyZT1uZXcgdXQodGhpcyksdGhpcy52aWV3cG9ydD1uZXcgaHQodGhpcyksdGhpcy5iaW5kRnJhbWVidWZmZXI9bmV3IHB0KHRoaXMpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlcj1uZXcgZHQodGhpcyksdGhpcy5iaW5kVGV4dHVyZT1uZXcgX3QodGhpcyksdGhpcy5iaW5kVmVydGV4QnVmZmVyPW5ldyBmdCh0aGlzKSx0aGlzLmJpbmRFbGVtZW50QnVmZmVyPW5ldyBtdCh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUz10aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiZuZXcgZ3QodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrPW5ldyB2dCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhPW5ldyB5dCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWT1uZXcgeHQodGhpcyksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWM9dC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0LmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiYodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXg9dC5nZXRQYXJhbWV0ZXIodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0PXQuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IiksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0JiYodC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIiksdGhpcy5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ9dC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCIpKSx0aGlzLmV4dFRpbWVyUXVlcnk9dC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIpO307enQucHJvdG90eXBlLnNldERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnVuYmluZFZBTygpLHRoaXMuY2xlYXJDb2xvci5zZXREZWZhdWx0KCksdGhpcy5jbGVhckRlcHRoLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyU3RlbmNpbC5zZXREZWZhdWx0KCksdGhpcy5jb2xvck1hc2suc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxGdW5jLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxPcC5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aFJhbmdlLnNldERlZmF1bHQoKSx0aGlzLmRlcHRoVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmQuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRGdW5jLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kQ29sb3Iuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRFcXVhdGlvbi5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuZnJvbnRGYWNlLnNldERlZmF1bHQoKSx0aGlzLnByb2dyYW0uc2V0RGVmYXVsdCgpLHRoaXMuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5iaW5kRnJhbWVidWZmZXIuc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO30senQucHJvdG90eXBlLnNldERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5jbGVhckNvbG9yLmRpcnR5PSEwLHRoaXMuY2xlYXJEZXB0aC5kaXJ0eT0hMCx0aGlzLmNsZWFyU3RlbmNpbC5kaXJ0eT0hMCx0aGlzLmNvbG9yTWFzay5kaXJ0eT0hMCx0aGlzLmRlcHRoTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbEZ1bmMuZGlydHk9ITAsdGhpcy5zdGVuY2lsT3AuZGlydHk9ITAsdGhpcy5zdGVuY2lsVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoUmFuZ2UuZGlydHk9ITAsdGhpcy5kZXB0aFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZC5kaXJ0eT0hMCx0aGlzLmJsZW5kRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kQ29sb3IuZGlydHk9ITAsdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2UuZGlydHk9ITAsdGhpcy5jdWxsRmFjZVNpZGUuZGlydHk9ITAsdGhpcy5mcm9udEZhY2UuZGlydHk9ITAsdGhpcy5wcm9ncmFtLmRpcnR5PSEwLHRoaXMuYWN0aXZlVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLnZpZXdwb3J0LmRpcnR5PSEwLHRoaXMuYmluZEZyYW1lYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRUZXh0dXJlLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRFbGVtZW50QnVmZmVyLmRpcnR5PSEwLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJih0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eT0hMCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuZGlydHk9ITA7fSx6dC5wcm90b3R5cGUuY3JlYXRlSW5kZXhCdWZmZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IE4odGhpcyx0LGUpfSx6dC5wcm90b3R5cGUuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IGoodGhpcyx0LGUsaSl9LHp0LnByb3RvdHlwZS5jcmVhdGVSZW5kZXJidWZmZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMuZ2wscj1vLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KHIpLG8ucmVuZGVyYnVmZmVyU3RvcmFnZShvLlJFTkRFUkJVRkZFUix0LGUsaSksdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKSxyfSx6dC5wcm90b3R5cGUuY3JlYXRlRnJhbWVidWZmZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgRXQodGhpcyx0LGUsaSl9LHp0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0KXt2YXIgZT10LmNvbG9yLGk9dC5kZXB0aCxvPXRoaXMuZ2wscj0wO2UmJihyfD1vLkNPTE9SX0JVRkZFUl9CSVQsdGhpcy5jbGVhckNvbG9yLnNldChlKSx0aGlzLmNvbG9yTWFzay5zZXQoWyEwLCEwLCEwLCEwXSkpLHZvaWQgMCE9PWkmJihyfD1vLkRFUFRIX0JVRkZFUl9CSVQsdGhpcy5kZXB0aFJhbmdlLnNldChbMCwxXSksdGhpcy5jbGVhckRlcHRoLnNldChpKSx0aGlzLmRlcHRoTWFzay5zZXQoITApKSxvLmNsZWFyKHIpO30senQucHJvdG90eXBlLnNldEN1bGxGYWNlPWZ1bmN0aW9uKHQpeyExPT09dC5lbmFibGU/dGhpcy5jdWxsRmFjZS5zZXQoITEpOih0aGlzLmN1bGxGYWNlLnNldCghMCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0KHQubW9kZSksdGhpcy5mcm9udEZhY2Uuc2V0KHQuZnJvbnRGYWNlKSk7fSx6dC5wcm90b3R5cGUuc2V0RGVwdGhNb2RlPWZ1bmN0aW9uKHQpe3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHx0Lm1hc2s/KHRoaXMuZGVwdGhUZXN0LnNldCghMCksdGhpcy5kZXB0aEZ1bmMuc2V0KHQuZnVuYyksdGhpcy5kZXB0aE1hc2suc2V0KHQubWFzayksdGhpcy5kZXB0aFJhbmdlLnNldCh0LnJhbmdlKSk6dGhpcy5kZXB0aFRlc3Quc2V0KCExKTt9LHp0LnByb3RvdHlwZS5zZXRTdGVuY2lsTW9kZT1mdW5jdGlvbih0KXt0LnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHx0Lm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCh0Lm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbdC5mYWlsLHQuZGVwdGhGYWlsLHQucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOnQudGVzdC5mdW5jLHJlZjp0LnJlZixtYXNrOnQudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKTt9LHp0LnByb3RvdHlwZS5zZXRDb2xvck1vZGU9ZnVuY3Rpb24oZSl7dC5kZWVwRXF1YWwoZS5ibGVuZEZ1bmN0aW9uLFN0LlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChlLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoZS5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KGUubWFzayk7fSx6dC5wcm90b3R5cGUudW5iaW5kVkFPPWZ1bmN0aW9uKCl7dGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpO307dmFyIER0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoaSxvLHIpe3ZhciBhPXRoaXM7ZS5jYWxsKHRoaXMpLHRoaXMuaWQ9aSx0aGlzLmRpc3BhdGNoZXI9cix0aGlzLm9uKCJkYXRhIiwoZnVuY3Rpb24odCl7InNvdXJjZSI9PT10LmRhdGFUeXBlJiYibWV0YWRhdGEiPT09dC5zb3VyY2VEYXRhVHlwZSYmKGEuX3NvdXJjZUxvYWRlZD0hMCksYS5fc291cmNlTG9hZGVkJiYhYS5fcGF1c2VkJiYic291cmNlIj09PXQuZGF0YVR5cGUmJiJjb250ZW50Ij09PXQuc291cmNlRGF0YVR5cGUmJihhLnJlbG9hZCgpLGEudHJhbnNmb3JtJiZhLnVwZGF0ZShhLnRyYW5zZm9ybSkpO30pKSx0aGlzLm9uKCJlcnJvciIsKGZ1bmN0aW9uKCl7YS5fc291cmNlRXJyb3JlZD0hMDt9KSksdGhpcy5fc291cmNlPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPW5ldyBrW2kudHlwZV0oZSxpLG8scik7aWYoYS5pZCE9PWUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgIitlKyIgaW5zdGVhZCBvZiAiK2EuaWQpO3JldHVybiB0LmJpbmRBbGwoWyJsb2FkIiwiYWJvcnQiLCJ1bmxvYWQiLCJzZXJpYWxpemUiLCJwcmVwYXJlIl0sYSksYX0oaSxvLHIsdGhpcyksdGhpcy5fdGlsZXM9e30sdGhpcy5fY2FjaGU9bmV3IFUoMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPW51bGwsdGhpcy5fbG9hZGVkUGFyZW50VGlsZXM9e30sdGhpcy5fY292ZXJlZFRpbGVzPXt9LHRoaXMuX3N0YXRlPW5ldyB0LlNvdXJjZUZlYXR1cmVTdGF0ZTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQ/dC5fbWF4VGlsZUNhY2hlU2l6ZTpudWxsLHRoaXMuX3NvdXJjZSYmdGhpcy5fc291cmNlLm9uQWRkJiZ0aGlzLl9zb3VyY2Uub25BZGQodCk7fSxpLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9zb3VyY2UmJnRoaXMuX3NvdXJjZS5vblJlbW92ZSYmdGhpcy5fc291cmNlLm9uUmVtb3ZlKHQpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fc291cmNlRXJyb3JlZClyZXR1cm4gITA7aWYoIXRoaXMuX3NvdXJjZUxvYWRlZClyZXR1cm4gITE7aWYoIXRoaXMuX3NvdXJjZS5sb2FkZWQoKSlyZXR1cm4gITE7Zm9yKHZhciB0IGluIHRoaXMuX3RpbGVzKXt2YXIgZT10aGlzLl90aWxlc1t0XTtpZigibG9hZGVkIiE9PWUuc3RhdGUmJiJlcnJvcmVkIiE9PWUuc3RhdGUpcmV0dXJuICExfXJldHVybiAhMH0saS5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITA7fSxpLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtpZih0aGlzLl9wYXVzZWQpe3ZhciB0PXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0JiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fX0saS5wcm90b3R5cGUuX2xvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3NvdXJjZS5sb2FkVGlsZSh0LGUpfSxpLnByb3RvdHlwZS5fdW5sb2FkVGlsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUodCwoZnVuY3Rpb24oKXt9KSl9LGkucHJvdG90eXBlLl9hYm9ydFRpbGU9ZnVuY3Rpb24odCl7aWYodGhpcy5fc291cmNlLmFib3J0VGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLmFib3J0VGlsZSh0LChmdW5jdGlvbigpe30pKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5zZXJpYWxpemUoKX0saS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5fc291cmNlLnByZXBhcmUmJnRoaXMuX3NvdXJjZS5wcmVwYXJlKCksdGhpcy5fc3RhdGUuY29hbGVzY2VDaGFuZ2VzKHRoaXMuX3RpbGVzLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fdGlsZXMpe3ZhciBpPXRoaXMuX3RpbGVzW2VdO2kudXBsb2FkKHQpLGkucHJlcGFyZSh0aGlzLm1hcC5zdHlsZS5pbWFnZU1hbmFnZXIpO319LGkucHJvdG90eXBlLmdldElkcz1mdW5jdGlvbigpe3JldHVybiB0LnZhbHVlcyh0aGlzLl90aWxlcykubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWxlSUR9KSkuc29ydChNdCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXl9KSl9LGkucHJvdG90eXBlLmdldFJlbmRlcmFibGVJZHM9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxvPVtdO2Zvcih2YXIgciBpbiB0aGlzLl90aWxlcyl0aGlzLl9pc0lkUmVuZGVyYWJsZShyLGUpJiZvLnB1c2godGhpcy5fdGlsZXNbcl0pO3JldHVybiBlP28uc29ydCgoZnVuY3Rpb24oZSxvKXt2YXIgcj1lLnRpbGVJRCxhPW8udGlsZUlELG49bmV3IHQuUG9pbnQoci5jYW5vbmljYWwueCxyLmNhbm9uaWNhbC55KS5fcm90YXRlKGkudHJhbnNmb3JtLmFuZ2xlKSxzPW5ldyB0LlBvaW50KGEuY2Fub25pY2FsLngsYS5jYW5vbmljYWwueSkuX3JvdGF0ZShpLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIHIub3ZlcnNjYWxlZFotYS5vdmVyc2NhbGVkWnx8cy55LW4ueXx8cy54LW4ueH0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGVJRC5rZXl9KSk6by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGVJRH0pKS5zb3J0KE10KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleX0pKX0saS5wcm90b3R5cGUuaGFzUmVuZGVyYWJsZVBhcmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmRMb2FkZWRQYXJlbnQodCwwKTtyZXR1cm4gISFlJiZ0aGlzLl9pc0lkUmVuZGVyYWJsZShlLnRpbGVJRC5rZXkpfSxpLnByb3RvdHlwZS5faXNJZFJlbmRlcmFibGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdGlsZXNbdF0mJnRoaXMuX3RpbGVzW3RdLmhhc0RhdGEoKSYmIXRoaXMuX2NvdmVyZWRUaWxlc1t0XSYmKGV8fCF0aGlzLl90aWxlc1t0XS5ob2xkaW5nRm9yRmFkZSgpKX0saS5wcm90b3R5cGUucmVsb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5fcGF1c2VkKXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSEwO2Vsc2UgZm9yKHZhciB0IGluIHRoaXMuX2NhY2hlLnJlc2V0KCksdGhpcy5fdGlsZXMpImVycm9yZWQiIT09dGhpcy5fdGlsZXNbdF0uc3RhdGUmJnRoaXMuX3JlbG9hZFRpbGUodCwicmVsb2FkaW5nIik7fSxpLnByb3RvdHlwZS5fcmVsb2FkVGlsZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3RpbGVzW3RdO2kmJigibG9hZGluZyIhPT1pLnN0YXRlJiYoaS5zdGF0ZT1lKSx0aGlzLl9sb2FkVGlsZShpLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLGksdCxlKSkpO30saS5wcm90b3R5cGUuX3RpbGVMb2FkZWQ9ZnVuY3Rpb24oZSxpLG8scil7aWYocilyZXR1cm4gZS5zdGF0ZT0iZXJyb3JlZCIsdm9pZCg0MDQhPT1yLnN0YXR1cz90aGlzLl9zb3VyY2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KHIse3RpbGU6ZX0pKTp0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO2UudGltZUFkZGVkPXQuYnJvd3Nlci5ub3coKSwiZXhwaXJlZCI9PT1vJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGksZSksInJhc3Rlci1kZW0iPT09dGhpcy5nZXRTb3VyY2UoKS50eXBlJiZlLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0oZSksdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZShlLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fc291cmNlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIix0aWxlOmUsY29vcmQ6ZS50aWxlSUR9KSk7fSxpLnByb3RvdHlwZS5fYmFja2ZpbGxERU09ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0UmVuZGVyYWJsZUlkcygpLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtpZih0Lm5laWdoYm9yaW5nVGlsZXMmJnQubmVpZ2hib3JpbmdUaWxlc1tvXSl7dmFyIHI9dGhpcy5nZXRUaWxlQnlJRChvKTthKHQsciksYShyLHQpO319ZnVuY3Rpb24gYSh0LGUpe3QubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwO3ZhciBpPWUudGlsZUlELmNhbm9uaWNhbC54LXQudGlsZUlELmNhbm9uaWNhbC54LG89ZS50aWxlSUQuY2Fub25pY2FsLnktdC50aWxlSUQuY2Fub25pY2FsLnkscj1NYXRoLnBvdygyLHQudGlsZUlELmNhbm9uaWNhbC56KSxhPWUudGlsZUlELmtleTswPT09aSYmMD09PW98fE1hdGguYWJzKG8pPjF8fChNYXRoLmFicyhpKT4xJiYoMT09PU1hdGguYWJzKGkrcik/aSs9cjoxPT09TWF0aC5hYnMoaS1yKSYmKGktPXIpKSxlLmRlbSYmdC5kZW0mJih0LmRlbS5iYWNrZmlsbEJvcmRlcihlLmRlbSxpLG8pLHQubmVpZ2hib3JpbmdUaWxlcyYmdC5uZWlnaGJvcmluZ1RpbGVzW2FdJiYodC5uZWlnaGJvcmluZ1RpbGVzW2FdLmJhY2tmaWxsZWQ9ITApKSk7fX0saS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRUaWxlQnlJRCh0LmtleSl9LGkucHJvdG90eXBlLmdldFRpbGVCeUlEPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aWxlc1t0XX0saS5wcm90b3R5cGUuX3JldGFpbkxvYWRlZENoaWxkcmVuPWZ1bmN0aW9uKHQsZSxpLG8pe2Zvcih2YXIgciBpbiB0aGlzLl90aWxlcyl7dmFyIGE9dGhpcy5fdGlsZXNbcl07aWYoIShvW3JdfHwhYS5oYXNEYXRhKCl8fGEudGlsZUlELm92ZXJzY2FsZWRaPD1lfHxhLnRpbGVJRC5vdmVyc2NhbGVkWj5pKSl7Zm9yKHZhciBuPWEudGlsZUlEO2EmJmEudGlsZUlELm92ZXJzY2FsZWRaPmUrMTspe3ZhciBzPWEudGlsZUlELnNjYWxlZFRvKGEudGlsZUlELm92ZXJzY2FsZWRaLTEpOyhhPXRoaXMuX3RpbGVzW3Mua2V5XSkmJmEuaGFzRGF0YSgpJiYobj1zKTt9Zm9yKHZhciBsPW47bC5vdmVyc2NhbGVkWj5lOylpZih0WyhsPWwuc2NhbGVkVG8obC5vdmVyc2NhbGVkWi0xKSkua2V5XSl7b1tuLmtleV09bjticmVha319fX0saS5wcm90b3R5cGUuZmluZExvYWRlZFBhcmVudD1mdW5jdGlvbih0LGUpe2lmKHQua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXt2YXIgaT10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1t0LmtleV07cmV0dXJuIGkmJmkudGlsZUlELm92ZXJzY2FsZWRaPj1lP2k6bnVsbH1mb3IodmFyIG89dC5vdmVyc2NhbGVkWi0xO28+PWU7by0tKXt2YXIgcj10LnNjYWxlZFRvKG8pLGE9dGhpcy5fZ2V0TG9hZGVkVGlsZShyKTtpZihhKXJldHVybiBhfX0saS5wcm90b3R5cGUuX2dldExvYWRlZFRpbGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZXNbdC5rZXldO3JldHVybiBlJiZlLmhhc0RhdGEoKT9lOnRoaXMuX2NhY2hlLmdldEJ5S2V5KHQud3JhcHBlZCgpLmtleSl9LGkucHJvdG90eXBlLnVwZGF0ZUNhY2hlU2l6ZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmNlaWwodC53aWR0aC90aGlzLl9zb3VyY2UudGlsZVNpemUpKzEsaT1NYXRoLmNlaWwodC5oZWlnaHQvdGhpcy5fc291cmNlLnRpbGVTaXplKSsxLG89TWF0aC5mbG9vcihlKmkqNSkscj0ibnVtYmVyIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxvKTpvO3RoaXMuX2NhY2hlLnNldE1heFNpemUocik7fSxpLnByb3RvdHlwZS5oYW5kbGVXcmFwSnVtcD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnJvdW5kKCh0LSh2b2lkIDA9PT10aGlzLl9wcmV2TG5nP3Q6dGhpcy5fcHJldkxuZykpLzM2MCk7aWYodGhpcy5fcHJldkxuZz10LGUpe3ZhciBpPXt9O2Zvcih2YXIgbyBpbiB0aGlzLl90aWxlcyl7dmFyIHI9dGhpcy5fdGlsZXNbb107ci50aWxlSUQ9ci50aWxlSUQudW53cmFwVG8oci50aWxlSUQud3JhcCtlKSxpW3IudGlsZUlELmtleV09cjt9Zm9yKHZhciBhIGluIHRoaXMuX3RpbGVzPWksdGhpcy5fdGltZXJzKWNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbYV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbYV07Zm9yKHZhciBuIGluIHRoaXMuX3RpbGVzKXRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihuLHRoaXMuX3RpbGVzW25dKTt9fSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcztpZih0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3NvdXJjZUxvYWRlZCYmIXRoaXMuX3BhdXNlZCl7dmFyIHI7dGhpcy51cGRhdGVDYWNoZVNpemUoZSksdGhpcy5oYW5kbGVXcmFwSnVtcCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nKSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy51c2VkP3RoaXMuX3NvdXJjZS50aWxlSUQ/cj1lLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aGlzLl9zb3VyY2UudGlsZUlEKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUuY2Fub25pY2FsLnosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KX0pKToocj1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMuX3NvdXJjZS50aWxlU2l6ZSxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkfSksdGhpcy5fc291cmNlLmhhc1RpbGUmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gby5fc291cmNlLmhhc1RpbGUodCl9KSkpKTpyPVtdO3ZhciBhPWUuY292ZXJpbmdab29tTGV2ZWwodGhpcy5fc291cmNlKSxuPU1hdGgubWF4KGEtaS5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkscz1NYXRoLm1heChhK2kubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxsPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMocixhKTtpZihBdCh0aGlzLl9zb3VyY2UudHlwZSkpe2Zvcih2YXIgYz17fSx1PXt9LGg9MCxwPU9iamVjdC5rZXlzKGwpO2g8cC5sZW5ndGg7aCs9MSl7dmFyIGQ9cFtoXSxfPWxbZF0sZj10aGlzLl90aWxlc1tkXTtpZihmJiYhKGYuZmFkZUVuZFRpbWUmJmYuZmFkZUVuZFRpbWU8PXQuYnJvd3Nlci5ub3coKSkpe3ZhciBtPXRoaXMuZmluZExvYWRlZFBhcmVudChfLG4pO20mJih0aGlzLl9hZGRUaWxlKG0udGlsZUlEKSxjW20udGlsZUlELmtleV09bS50aWxlSUQpLHVbZF09Xzt9fWZvcih2YXIgZyBpbiB0aGlzLl9yZXRhaW5Mb2FkZWRDaGlsZHJlbih1LGEscyxsKSxjKWxbZ118fCh0aGlzLl9jb3ZlcmVkVGlsZXNbZ109ITAsbFtnXT1jW2ddKTt9Zm9yKHZhciB2IGluIGwpdGhpcy5fdGlsZXNbdl0uY2xlYXJGYWRlSG9sZCgpO2Zvcih2YXIgeT0wLHg9dC5rZXlzRGlmZmVyZW5jZSh0aGlzLl90aWxlcyxsKTt5PHgubGVuZ3RoO3krPTEpe3ZhciBiPXhbeV0sdz10aGlzLl90aWxlc1tiXTt3Lmhhc1N5bWJvbEJ1Y2tldHMmJiF3LmhvbGRpbmdGb3JGYWRlKCk/dy5zZXRIb2xkRHVyYXRpb24odGhpcy5tYXAuX2ZhZGVEdXJhdGlvbik6dy5oYXNTeW1ib2xCdWNrZXRzJiYhdy5zeW1ib2xGYWRlRmluaXNoZWQoKXx8dGhpcy5fcmVtb3ZlVGlsZShiKTt9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCk7fX0saS5wcm90b3R5cGUucmVsZWFzZVN5bWJvbEZhZGVUaWxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1t0XS5ob2xkaW5nRm9yRmFkZSgpJiZ0aGlzLl9yZW1vdmVUaWxlKHQpO30saS5wcm90b3R5cGUuX3VwZGF0ZVJldGFpbmVkVGlsZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG89e30scj17fSxhPU1hdGgubWF4KGUtaS5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSksbj1NYXRoLm1heChlK2kubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxzPXt9LGw9MCxjPXQ7bDxjLmxlbmd0aDtsKz0xKXt2YXIgdT1jW2xdLGg9dGhpcy5fYWRkVGlsZSh1KTtvW3Uua2V5XT11LGguaGFzRGF0YSgpfHxlPHRoaXMuX3NvdXJjZS5tYXh6b29tJiYoc1t1LmtleV09dSk7fXRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKHMsZSxuLG8pO2Zvcih2YXIgcD0wLGQ9dDtwPGQubGVuZ3RoO3ArPTEpe3ZhciBfPWRbcF0sZj10aGlzLl90aWxlc1tfLmtleV07aWYoIWYuaGFzRGF0YSgpKXtpZihlKzE+dGhpcy5fc291cmNlLm1heHpvb20pe3ZhciBtPV8uY2hpbGRyZW4odGhpcy5fc291cmNlLm1heHpvb20pWzBdLGc9dGhpcy5nZXRUaWxlKG0pO2lmKGcmJmcuaGFzRGF0YSgpKXtvW20ua2V5XT1tO2NvbnRpbnVlfX1lbHNlIHt2YXIgdj1fLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZihvW3ZbMF0ua2V5XSYmb1t2WzFdLmtleV0mJm9bdlsyXS5rZXldJiZvW3ZbM10ua2V5XSljb250aW51ZX1mb3IodmFyIHk9Zi53YXNSZXF1ZXN0ZWQoKSx4PV8ub3ZlcnNjYWxlZFotMTt4Pj1hOy0teCl7dmFyIGI9Xy5zY2FsZWRUbyh4KTtpZihyW2Iua2V5XSlicmVhaztpZihyW2Iua2V5XT0hMCwhKGY9dGhpcy5nZXRUaWxlKGIpKSYmeSYmKGY9dGhpcy5fYWRkVGlsZShiKSksZiYmKG9bYi5rZXldPWIseT1mLndhc1JlcXVlc3RlZCgpLGYuaGFzRGF0YSgpKSlicmVha319fXJldHVybiBvfSxpLnByb3RvdHlwZS5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9LHRoaXMuX3RpbGVzKXtmb3IodmFyIGU9W10saT12b2lkIDAsbz10aGlzLl90aWxlc1t0XS50aWxlSUQ7by5vdmVyc2NhbGVkWj4wOyl7aWYoby5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2k9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbby5rZXldO2JyZWFrfWUucHVzaChvLmtleSk7dmFyIHI9by5zY2FsZWRUbyhvLm92ZXJzY2FsZWRaLTEpO2lmKGk9dGhpcy5fZ2V0TG9hZGVkVGlsZShyKSlicmVhaztvPXI7fWZvcih2YXIgYT0wLG49ZTthPG4ubGVuZ3RoO2ErPTEpdGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbblthXV09aTt9fSxpLnByb3RvdHlwZS5fYWRkVGlsZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzLl90aWxlc1tlLmtleV07aWYoaSlyZXR1cm4gaTsoaT10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUoZSkpJiYodGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LGkpLGkudGlsZUlEPWUsdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZShpLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSksZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoZS5rZXksaSkpKTt2YXIgbz1Cb29sZWFuKGkpO3JldHVybiBvfHwoaT1uZXcgdC5UaWxlKGUsdGhpcy5fc291cmNlLnRpbGVTaXplKmUub3ZlcnNjYWxlRmFjdG9yKCkpLHRoaXMuX2xvYWRUaWxlKGksdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsaSxlLmtleSxpLnN0YXRlKSkpLGk/KGkudXNlcysrLHRoaXMuX3RpbGVzW2Uua2V5XT1pLG98fHRoaXMuX3NvdXJjZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse3RpbGU6aSxjb29yZDppLnRpbGVJRCxkYXRhVHlwZToic291cmNlIn0pKSxpKTpudWxsfSxpLnByb3RvdHlwZS5fc2V0VGlsZVJlbG9hZFRpbWVyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpczt0IGluIHRoaXMuX3RpbWVycyYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF0pO3ZhciBvPWUuZ2V0RXhwaXJ5VGltZW91dCgpO28mJih0aGlzLl90aW1lcnNbdF09c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpLl9yZWxvYWRUaWxlKHQsImV4cGlyZWQiKSxkZWxldGUgaS5fdGltZXJzW3RdO30pLG8pKTt9LGkucHJvdG90eXBlLl9yZW1vdmVUaWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO2UmJihlLnVzZXMtLSxkZWxldGUgdGhpcy5fdGlsZXNbdF0sdGhpcy5fdGltZXJzW3RdJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1t0XSksZGVsZXRlIHRoaXMuX3RpbWVyc1t0XSksZS51c2VzPjB8fChlLmhhc0RhdGEoKSYmInJlbG9hZGluZyIhPT1lLnN0YXRlP3RoaXMuX2NhY2hlLmFkZChlLnRpbGVJRCxlLGUuZ2V0RXhwaXJ5VGltZW91dCgpKTooZS5hYm9ydGVkPSEwLHRoaXMuX2Fib3J0VGlsZShlKSx0aGlzLl91bmxvYWRUaWxlKGUpKSkpO30saS5wcm90b3R5cGUuY2xlYXJUaWxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fdGlsZXMpdGhpcy5fcmVtb3ZlVGlsZSh0KTt0aGlzLl9jYWNoZS5yZXNldCgpO30saS5wcm90b3R5cGUudGlsZXNJbj1mdW5jdGlvbihlLGksbyl7dmFyIHI9dGhpcyxhPVtdLG49dGhpcy50cmFuc2Zvcm07aWYoIW4pcmV0dXJuIGE7Zm9yKHZhciBzPW8/bi5nZXRDYW1lcmFRdWVyeUdlb21ldHJ5KGUpOmUsbD1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4ucG9pbnRDb29yZGluYXRlKHQpfSkpLGM9cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnBvaW50Q29vcmRpbmF0ZSh0KX0pKSx1PXRoaXMuZ2V0SWRzKCksaD0xLzAscD0xLzAsZD0tMS8wLF89LTEvMCxmPTAsbT1jO2Y8bS5sZW5ndGg7Zis9MSl7dmFyIGc9bVtmXTtoPU1hdGgubWluKGgsZy54KSxwPU1hdGgubWluKHAsZy55KSxkPU1hdGgubWF4KGQsZy54KSxfPU1hdGgubWF4KF8sZy55KTt9Zm9yKHZhciB2PWZ1bmN0aW9uKGUpe3ZhciBvPXIuX3RpbGVzW3VbZV1dO2lmKCFvLmhvbGRpbmdGb3JGYWRlKCkpe3ZhciBzPW8udGlsZUlELGY9TWF0aC5wb3coMixuLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLG09aSpvLnF1ZXJ5UGFkZGluZyp0LkVYVEVOVC9vLnRpbGVTaXplL2YsZz1bcy5nZXRUaWxlUG9pbnQobmV3IHQuTWVyY2F0b3JDb29yZGluYXRlKGgscCkpLHMuZ2V0VGlsZVBvaW50KG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShkLF8pKV07aWYoZ1swXS54LW08dC5FWFRFTlQmJmdbMF0ueS1tPHQuRVhURU5UJiZnWzFdLngrbT49MCYmZ1sxXS55K20+PTApe3ZhciB2PWwubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcy5nZXRUaWxlUG9pbnQodCl9KSkseT1jLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHMuZ2V0VGlsZVBvaW50KHQpfSkpO2EucHVzaCh7dGlsZTpvLHRpbGVJRDpzLHF1ZXJ5R2VvbWV0cnk6dixjYW1lcmFRdWVyeUdlb21ldHJ5Onksc2NhbGU6Zn0pO319fSx5PTA7eTx1Lmxlbmd0aDt5Kyspdih5KTtyZXR1cm4gYX0saS5wcm90b3R5cGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLGk9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3RpbGVzW3RdLnRpbGVJRH0pKSxvPTAscj1pO288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTthLnBvc01hdHJpeD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoYS50b1Vud3JhcHBlZCgpKTt9cmV0dXJuIGl9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtpZihBdCh0aGlzLl9zb3VyY2UudHlwZSkpZm9yKHZhciBlIGluIHRoaXMuX3RpbGVzKXt2YXIgaT10aGlzLl90aWxlc1tlXTtpZih2b2lkIDAhPT1pLmZhZGVFbmRUaW1lJiZpLmZhZGVFbmRUaW1lPj10LmJyb3dzZXIubm93KCkpcmV0dXJuICEwfXJldHVybiAhMX0saS5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9zdGF0ZS51cGRhdGVTdGF0ZSh0PXR8fCJfZ2VvanNvblRpbGVMYXllciIsZSxpKTt9LGkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5fc3RhdGUucmVtb3ZlRmVhdHVyZVN0YXRlKHQ9dHx8Il9nZW9qc29uVGlsZUxheWVyIixlLGkpO30saS5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFN0YXRlKHQ9dHx8Il9nZW9qc29uVGlsZUxheWVyIixlKX0saS5wcm90b3R5cGUuc2V0RGVwZW5kZW5jaWVzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLl90aWxlc1t0XTtvJiZvLnNldERlcGVuZGVuY2llcyhlLGkpO30saS5wcm90b3R5cGUucmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbaV0uaGFzRGVwZW5kZW5jeSh0LGUpJiZ0aGlzLl9yZWxvYWRUaWxlKGksInJlbG9hZGluZyIpO3RoaXMuX2NhY2hlLmZpbHRlcigoZnVuY3Rpb24oaSl7cmV0dXJuICFpLmhhc0RlcGVuZGVuY3kodCxlKX0pKTt9LGl9KHQuRXZlbnRlZCk7ZnVuY3Rpb24gTXQodCxlKXt2YXIgaT1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCksbz1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCk7cmV0dXJuIHQub3ZlcnNjYWxlZFotZS5vdmVyc2NhbGVkWnx8by1pfHxlLmNhbm9uaWNhbC55LXQuY2Fub25pY2FsLnl8fGUuY2Fub25pY2FsLngtdC5jYW5vbmljYWwueH1mdW5jdGlvbiBBdCh0KXtyZXR1cm4gInJhc3RlciI9PT10fHwiaW1hZ2UiPT09dHx8InZpZGVvIj09PXR9ZnVuY3Rpb24gTHQoKXtyZXR1cm4gbmV3IHQud2luZG93LldvcmtlcihXci53b3JrZXJVcmwpfUR0Lm1heE92ZXJ6b29taW5nPTEwLER0Lm1heFVuZGVyem9vbWluZz0zO3ZhciBSdD0ibWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sIixrdD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlPXt9O307a3QucHJvdG90eXBlLmFjcXVpcmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMud29ya2Vycylmb3IodGhpcy53b3JrZXJzPVtdO3RoaXMud29ya2Vycy5sZW5ndGg8a3Qud29ya2VyQ291bnQ7KXRoaXMud29ya2Vycy5wdXNoKG5ldyBMdCk7cmV0dXJuIHRoaXMuYWN0aXZlW3RdPSEwLHRoaXMud29ya2Vycy5zbGljZSgpfSxrdC5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5hY3RpdmVbdF0sMD09PXRoaXMubnVtQWN0aXZlKCkmJih0aGlzLndvcmtlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50ZXJtaW5hdGUoKTt9KSksdGhpcy53b3JrZXJzPW51bGwpO30sa3QucHJvdG90eXBlLmlzUHJlbG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5hY3RpdmVbUnRdfSxrdC5wcm90b3R5cGUubnVtQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlKS5sZW5ndGh9O3ZhciBCdCxPdD1NYXRoLmZsb29yKHQuYnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5LzIpO2Z1bmN0aW9uIEZ0KCl7cmV0dXJuIEJ0fHwoQnQ9bmV3IGt0KSxCdH1mdW5jdGlvbiBVdChlLGkpe3ZhciBvPXt9O2Zvcih2YXIgciBpbiBlKSJyZWYiIT09ciYmKG9bcl09ZVtyXSk7cmV0dXJuIHQucmVmUHJvcGVydGllcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0IGluIGkmJihvW3RdPWlbdF0pO30pKSxvfWZ1bmN0aW9uIE50KHQpe3Q9dC5zbGljZSgpO2Zvcih2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpLGk9MDtpPHQubGVuZ3RoO2krKyllW3RbaV0uaWRdPXRbaV07Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspInJlZiJpbiB0W29dJiYodFtvXT1VdCh0W29dLGVbdFtvXS5yZWZdKSk7cmV0dXJuIHR9a3Qud29ya2VyQ291bnQ9TWF0aC5tYXgoTWF0aC5taW4oT3QsNiksMSk7dmFyIFp0PXtzZXRTdHlsZToic2V0U3R5bGUiLGFkZExheWVyOiJhZGRMYXllciIscmVtb3ZlTGF5ZXI6InJlbW92ZUxheWVyIixzZXRQYWludFByb3BlcnR5OiJzZXRQYWludFByb3BlcnR5IixzZXRMYXlvdXRQcm9wZXJ0eToic2V0TGF5b3V0UHJvcGVydHkiLHNldEZpbHRlcjoic2V0RmlsdGVyIixhZGRTb3VyY2U6ImFkZFNvdXJjZSIscmVtb3ZlU291cmNlOiJyZW1vdmVTb3VyY2UiLHNldEdlb0pTT05Tb3VyY2VEYXRhOiJzZXRHZW9KU09OU291cmNlRGF0YSIsc2V0TGF5ZXJab29tUmFuZ2U6InNldExheWVyWm9vbVJhbmdlIixzZXRMYXllclByb3BlcnR5OiJzZXRMYXllclByb3BlcnR5IixzZXRDZW50ZXI6InNldENlbnRlciIsc2V0Wm9vbToic2V0Wm9vbSIsc2V0QmVhcmluZzoic2V0QmVhcmluZyIsc2V0UGl0Y2g6InNldFBpdGNoIixzZXRTcHJpdGU6InNldFNwcml0ZSIsc2V0R2x5cGhzOiJzZXRHbHlwaHMiLHNldFRyYW5zaXRpb246InNldFRyYW5zaXRpb24iLHNldExpZ2h0OiJzZXRMaWdodCJ9O2Z1bmN0aW9uIGp0KHQsZSxpKXtpLnB1c2goe2NvbW1hbmQ6WnQuYWRkU291cmNlLGFyZ3M6W3QsZVt0XV19KTt9ZnVuY3Rpb24gcXQodCxlLGkpe2UucHVzaCh7Y29tbWFuZDpadC5yZW1vdmVTb3VyY2UsYXJnczpbdF19KSxpW3RdPSEwO31mdW5jdGlvbiBWdCh0LGUsaSxvKXtxdCh0LGksbyksanQodCxlLGkpO31mdW5jdGlvbiBHdChlLGksbyl7dmFyIHI7Zm9yKHIgaW4gZVtvXSlpZihlW29dLmhhc093blByb3BlcnR5KHIpJiYiZGF0YSIhPT1yJiYhdC5kZWVwRXF1YWwoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7Zm9yKHIgaW4gaVtvXSlpZihpW29dLmhhc093blByb3BlcnR5KHIpJiYiZGF0YSIhPT1yJiYhdC5kZWVwRXF1YWwoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIFd0KGUsaSxvLHIsYSxuKXt2YXIgcztmb3IocyBpbiBpPWl8fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQuZGVlcEVxdWFsKGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDpuLGFyZ3M6W3IscyxpW3NdLGFdfSkpO2ZvcihzIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShzKSYmIWUuaGFzT3duUHJvcGVydHkocykmJih0LmRlZXBFcXVhbChlW3NdLGlbc10pfHxvLnB1c2goe2NvbW1hbmQ6bixhcmdzOltyLHMsaVtzXSxhXX0pKTt9ZnVuY3Rpb24gWHQodCl7cmV0dXJuIHQuaWR9ZnVuY3Rpb24gSHQodCxlKXtyZXR1cm4gdFtlLmlkXT1lLHR9dmFyIEt0PWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNldCh0LGUpO307S3QucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5wb2ludHM9dHx8W10sdGhpcy5fZGlzdGFuY2VzPVswXTtmb3IodmFyIGk9MTtpPHRoaXMucG9pbnRzLmxlbmd0aDtpKyspdGhpcy5fZGlzdGFuY2VzW2ldPXRoaXMuX2Rpc3RhbmNlc1tpLTFdK3RoaXMucG9pbnRzW2ldLmRpc3QodGhpcy5wb2ludHNbaS0xXSk7dGhpcy5sZW5ndGg9dGhpcy5fZGlzdGFuY2VzW3RoaXMuX2Rpc3RhbmNlcy5sZW5ndGgtMV0sdGhpcy5wYWRkaW5nPU1hdGgubWluKGV8fDAsLjUqdGhpcy5sZW5ndGgpLHRoaXMucGFkZGVkTGVuZ3RoPXRoaXMubGVuZ3RoLTIqdGhpcy5wYWRkaW5nO30sS3QucHJvdG90eXBlLmxlcnA9ZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMucG9pbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5wb2ludHNbMF07ZT10LmNsYW1wKGUsMCwxKTtmb3IodmFyIGk9MSxvPXRoaXMuX2Rpc3RhbmNlc1tpXSxyPWUqdGhpcy5wYWRkZWRMZW5ndGgrdGhpcy5wYWRkaW5nO288ciYmaTx0aGlzLl9kaXN0YW5jZXMubGVuZ3RoOylvPXRoaXMuX2Rpc3RhbmNlc1srK2ldO3ZhciBhPWktMSxuPXRoaXMuX2Rpc3RhbmNlc1thXSxzPW8tbixsPXM+MD8oci1uKS9zOjA7cmV0dXJuIHRoaXMucG9pbnRzW2FdLm11bHQoMS1sKS5hZGQodGhpcy5wb2ludHNbaV0ubXVsdChsKSl9O3ZhciBZdD1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5ib3hDZWxscz1bXSxyPXRoaXMuY2lyY2xlQ2VsbHM9W107dGhpcy54Q2VsbENvdW50PU1hdGguY2VpbCh0L2kpLHRoaXMueUNlbGxDb3VudD1NYXRoLmNlaWwoZS9pKTtmb3IodmFyIGE9MDthPHRoaXMueENlbGxDb3VudCp0aGlzLnlDZWxsQ291bnQ7YSsrKW8ucHVzaChbXSksci5wdXNoKFtdKTt0aGlzLmNpcmNsZUtleXM9W10sdGhpcy5ib3hLZXlzPVtdLHRoaXMuYmJveGVzPVtdLHRoaXMuY2lyY2xlcz1bXSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnhTY2FsZT10aGlzLnhDZWxsQ291bnQvdCx0aGlzLnlTY2FsZT10aGlzLnlDZWxsQ291bnQvZSx0aGlzLmJveFVpZD0wLHRoaXMuY2lyY2xlVWlkPTA7fTtmdW5jdGlvbiBKdChlLGksbyxyLGEpe3ZhciBuPXQuY3JlYXRlKCk7cmV0dXJuIGk/KHQuc2NhbGUobixuLFsxL2EsMS9hLDFdKSxvfHx0LnJvdGF0ZVoobixuLHIuYW5nbGUpKTp0Lm11bHRpcGx5KG4sci5sYWJlbFBsYW5lTWF0cml4LGUpLG59ZnVuY3Rpb24gUXQoZSxpLG8scixhKXtpZihpKXt2YXIgbj10LmNsb25lKGUpO3JldHVybiB0LnNjYWxlKG4sbixbYSxhLDFdKSxvfHx0LnJvdGF0ZVoobixuLC1yLmFuZ2xlKSxufXJldHVybiByLmdsQ29vcmRNYXRyaXh9ZnVuY3Rpb24gJHQoZSxpKXt2YXIgbz1bZS54LGUueSwwLDFdO3VlKG8sbyxpKTt2YXIgcj1vWzNdO3JldHVybiB7cG9pbnQ6bmV3IHQuUG9pbnQob1swXS9yLG9bMV0vciksc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOnJ9fWZ1bmN0aW9uIHRlKHQsZSl7cmV0dXJuIC41K3QvZSouNX1mdW5jdGlvbiBlZSh0LGUpe3ZhciBpPXRbMF0vdFszXSxvPXRbMV0vdFszXTtyZXR1cm4gaT49LWVbMF0mJmk8PWVbMF0mJm8+PS1lWzFdJiZvPD1lWzFdfWZ1bmN0aW9uIGllKGUsaSxvLHIsYSxuLHMsbCl7dmFyIGM9cj9lLnRleHRTaXplRGF0YTplLmljb25TaXplRGF0YSx1PXQuZXZhbHVhdGVTaXplRm9yWm9vbShjLG8udHJhbnNmb3JtLnpvb20pLGg9WzI1Ni9vLndpZHRoKjIrMSwyNTYvby5oZWlnaHQqMisxXSxwPXI/ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTplLmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O3AuY2xlYXIoKTtmb3IodmFyIGQ9ZS5saW5lVmVydGV4QXJyYXksXz1yP2UudGV4dC5wbGFjZWRTeW1ib2xBcnJheTplLmljb24ucGxhY2VkU3ltYm9sQXJyYXksZj1vLnRyYW5zZm9ybS53aWR0aC9vLnRyYW5zZm9ybS5oZWlnaHQsbT0hMSxnPTA7ZzxfLmxlbmd0aDtnKyspe3ZhciB2PV8uZ2V0KGcpO2lmKHYuaGlkZGVufHx2LndyaXRpbmdNb2RlPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCYmIW0pY2Uodi5udW1HbHlwaHMscCk7ZWxzZSB7bT0hMTt2YXIgeT1bdi5hbmNob3JYLHYuYW5jaG9yWSwwLDFdO2lmKHQudHJhbnNmb3JtTWF0NCh5LHksaSksZWUoeSxoKSl7dmFyIHg9dGUoby50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx5WzNdKSxiPXQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShjLHUsdiksdz1zP2IveDpiKngsVD1uZXcgdC5Qb2ludCh2LmFuY2hvclgsdi5hbmNob3JZKSxFPSR0KFQsYSkucG9pbnQsST17fSxQPWFlKHYsdywhMSxsLGksYSxuLGUuZ2x5cGhPZmZzZXRBcnJheSxkLHAsRSxULEksZik7bT1QLnVzZVZlcnRpY2FsLChQLm5vdEVub3VnaFJvb218fG18fFAubmVlZHNGbGlwcGluZyYmYWUodix3LCEwLGwsaSxhLG4sZS5nbHlwaE9mZnNldEFycmF5LGQscCxFLFQsSSxmKS5ub3RFbm91Z2hSb29tKSYmY2Uodi5udW1HbHlwaHMscCk7fWVsc2UgY2Uodi5udW1HbHlwaHMscCk7fX1yP2UudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEocCk6ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShwKTt9ZnVuY3Rpb24gb2UodCxlLGksbyxyLGEsbixzLGwsYyx1KXt2YXIgaD1zLmdseXBoU3RhcnRJbmRleCtzLm51bUdseXBocyxwPXMubGluZVN0YXJ0SW5kZXgsZD1zLmxpbmVTdGFydEluZGV4K3MubGluZUxlbmd0aCxfPWUuZ2V0b2Zmc2V0WChzLmdseXBoU3RhcnRJbmRleCksZj1lLmdldG9mZnNldFgoaC0xKSxtPXNlKHQqXyxpLG8scixhLG4scy5zZWdtZW50LHAsZCxsLGMsdSk7aWYoIW0pcmV0dXJuIG51bGw7dmFyIGc9c2UodCpmLGksbyxyLGEsbixzLnNlZ21lbnQscCxkLGwsYyx1KTtyZXR1cm4gZz97Zmlyc3Q6bSxsYXN0Omd9Om51bGx9ZnVuY3Rpb24gcmUoZSxpLG8scil7cmV0dXJuIGU9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWwmJk1hdGguYWJzKG8ueS1pLnkpPk1hdGguYWJzKG8ueC1pLngpKnI/e3VzZVZlcnRpY2FsOiEwfTooZT09PXQuV3JpdGluZ01vZGUudmVydGljYWw/aS55PG8ueTppLng+by54KT97bmVlZHNGbGlwcGluZzohMH06bnVsbH1mdW5jdGlvbiBhZShlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8pe3ZhciBmLG09aS8yNCxnPWUubGluZU9mZnNldFgqbSx2PWUubGluZU9mZnNldFkqbTtpZihlLm51bUdseXBocz4xKXt2YXIgeT1lLmdseXBoU3RhcnRJbmRleCtlLm51bUdseXBocyx4PWUubGluZVN0YXJ0SW5kZXgsYj1lLmxpbmVTdGFydEluZGV4K2UubGluZUxlbmd0aCx3PW9lKG0sbCxnLHYsbyxoLHAsZSxjLG4sZCk7aWYoIXcpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTt2YXIgVD0kdCh3LmZpcnN0LnBvaW50LHMpLnBvaW50LEU9JHQody5sYXN0LnBvaW50LHMpLnBvaW50O2lmKHImJiFvKXt2YXIgST1yZShlLndyaXRpbmdNb2RlLFQsRSxfKTtpZihJKXJldHVybiBJfWY9W3cuZmlyc3RdO2Zvcih2YXIgUD1lLmdseXBoU3RhcnRJbmRleCsxO1A8eS0xO1ArKylmLnB1c2goc2UobSpsLmdldG9mZnNldFgoUCksZyx2LG8saCxwLGUuc2VnbWVudCx4LGIsYyxuLGQpKTtmLnB1c2gody5sYXN0KTt9ZWxzZSB7aWYociYmIW8pe3ZhciBTPSR0KHAsYSkucG9pbnQsQz1lLmxpbmVTdGFydEluZGV4K2Uuc2VnbWVudCsxLHo9bmV3IHQuUG9pbnQoYy5nZXR4KEMpLGMuZ2V0eShDKSksRD0kdCh6LGEpLE09RC5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9ELnBvaW50Om5lKHAseixTLDEsYSksQT1yZShlLndyaXRpbmdNb2RlLFMsTSxfKTtpZihBKXJldHVybiBBfXZhciBMPXNlKG0qbC5nZXRvZmZzZXRYKGUuZ2x5cGhTdGFydEluZGV4KSxnLHYsbyxoLHAsZS5zZWdtZW50LGUubGluZVN0YXJ0SW5kZXgsZS5saW5lU3RhcnRJbmRleCtlLmxpbmVMZW5ndGgsYyxuLGQpO2lmKCFMKXJldHVybiB7bm90RW5vdWdoUm9vbTohMH07Zj1bTF07fWZvcih2YXIgUj0wLGs9ZjtSPGsubGVuZ3RoO1IrPTEpe3ZhciBCPWtbUl07dC5hZGREeW5hbWljQXR0cmlidXRlcyh1LEIucG9pbnQsQi5hbmdsZSk7fXJldHVybiB7fX1mdW5jdGlvbiBuZSh0LGUsaSxvLHIpe3ZhciBhPSR0KHQuYWRkKHQuc3ViKGUpLl91bml0KCkpLHIpLnBvaW50LG49aS5zdWIoYSk7cmV0dXJuIGkuYWRkKG4uX211bHQoby9uLm1hZygpKSl9ZnVuY3Rpb24gc2UoZSxpLG8scixhLG4scyxsLGMsdSxoLHApe3ZhciBkPXI/ZS1pOmUraSxfPWQ+MD8xOi0xLGY9MDtyJiYoXyo9LTEsZj1NYXRoLlBJKSxfPDAmJihmKz1NYXRoLlBJKTtmb3IodmFyIG09Xz4wP2wrczpsK3MrMSxnPWEsdj1hLHk9MCx4PTAsYj1NYXRoLmFicyhkKSx3PVtdO3kreDw9Yjspe2lmKChtKz1fKTxsfHxtPj1jKXJldHVybiBudWxsO2lmKHY9Zyx3LnB1c2goZyksdm9pZCAwPT09KGc9cFttXSkpe3ZhciBUPW5ldyB0LlBvaW50KHUuZ2V0eChtKSx1LmdldHkobSkpLEU9JHQoVCxoKTtpZihFLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wKWc9cFttXT1FLnBvaW50O2Vsc2Uge3ZhciBJPW0tXztnPW5lKDA9PT15P246bmV3IHQuUG9pbnQodS5nZXR4KEkpLHUuZ2V0eShJKSksVCx2LGIteSsxLGgpO319eSs9eCx4PXYuZGlzdChnKTt9dmFyIFA9KGIteSkveCxTPWcuc3ViKHYpLEM9Uy5tdWx0KFApLl9hZGQodik7Qy5fYWRkKFMuX3VuaXQoKS5fcGVycCgpLl9tdWx0KG8qXykpO3ZhciB6PWYrTWF0aC5hdGFuMihnLnktdi55LGcueC12LngpO3JldHVybiB3LnB1c2goQykse3BvaW50OkMsYW5nbGU6eixwYXRoOnd9fVl0LnByb3RvdHlwZS5rZXlzTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGgrdGhpcy5jaXJjbGVLZXlzLmxlbmd0aH0sWXQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUsaSxvLHIpe3RoaXMuX2ZvckVhY2hDZWxsKGUsaSxvLHIsdGhpcy5faW5zZXJ0Qm94Q2VsbCx0aGlzLmJveFVpZCsrKSx0aGlzLmJveEtleXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2goaSksdGhpcy5iYm94ZXMucHVzaChvKSx0aGlzLmJib3hlcy5wdXNoKHIpO30sWXQucHJvdG90eXBlLmluc2VydENpcmNsZT1mdW5jdGlvbih0LGUsaSxvKXt0aGlzLl9mb3JFYWNoQ2VsbChlLW8saS1vLGUrbyxpK28sdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCx0aGlzLmNpcmNsZVVpZCsrKSx0aGlzLmNpcmNsZUtleXMucHVzaCh0KSx0aGlzLmNpcmNsZXMucHVzaChlKSx0aGlzLmNpcmNsZXMucHVzaChpKSx0aGlzLmNpcmNsZXMucHVzaChvKTt9LFl0LnByb3RvdHlwZS5faW5zZXJ0Qm94Q2VsbD1mdW5jdGlvbih0LGUsaSxvLHIsYSl7dGhpcy5ib3hDZWxsc1tyXS5wdXNoKGEpO30sWXQucHJvdG90eXBlLl9pbnNlcnRDaXJjbGVDZWxsPWZ1bmN0aW9uKHQsZSxpLG8scixhKXt0aGlzLmNpcmNsZUNlbGxzW3JdLnB1c2goYSk7fSxZdC5wcm90b3R5cGUuX3F1ZXJ5PWZ1bmN0aW9uKHQsZSxpLG8scixhKXtpZihpPDB8fHQ+dGhpcy53aWR0aHx8bzwwfHxlPnRoaXMuaGVpZ2h0KXJldHVybiAhciYmW107dmFyIG49W107aWYodDw9MCYmZTw9MCYmdGhpcy53aWR0aDw9aSYmdGhpcy5oZWlnaHQ8PW8pe2lmKHIpcmV0dXJuICEwO2Zvcih2YXIgcz0wO3M8dGhpcy5ib3hLZXlzLmxlbmd0aDtzKyspbi5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW3NdLHgxOnRoaXMuYmJveGVzWzQqc10seTE6dGhpcy5iYm94ZXNbNCpzKzFdLHgyOnRoaXMuYmJveGVzWzQqcysyXSx5Mjp0aGlzLmJib3hlc1s0KnMrM119KTtmb3IodmFyIGw9MDtsPHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7bCsrKXt2YXIgYz10aGlzLmNpcmNsZXNbMypsXSx1PXRoaXMuY2lyY2xlc1szKmwrMV0saD10aGlzLmNpcmNsZXNbMypsKzJdO24ucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tsXSx4MTpjLWgseTE6dS1oLHgyOmMraCx5Mjp1K2h9KTt9cmV0dXJuIGE/bi5maWx0ZXIoYSk6bn1yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxlLGksbyx0aGlzLl9xdWVyeUNlbGwsbix7aGl0VGVzdDpyLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sYSkscj9uLmxlbmd0aD4wOm59LFl0LnByb3RvdHlwZS5fcXVlcnlDaXJjbGU9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10LWksbj10K2kscz1lLWksbD1lK2k7aWYobjwwfHxhPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4gIW8mJltdO3ZhciBjPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChhLHMsbixsLHRoaXMuX3F1ZXJ5Q2VsbENpcmNsZSxjLHtoaXRUZXN0Om8sY2lyY2xlOnt4OnQseTplLHJhZGl1czppfSxzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19LHIpLG8/Yy5sZW5ndGg+MDpjfSxZdC5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odCxlLGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkodCxlLGksbywhMSxyKX0sWXQucHJvdG90eXBlLmhpdFRlc3Q9ZnVuY3Rpb24odCxlLGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkodCxlLGksbywhMCxyKX0sWXQucHJvdG90eXBlLmhpdFRlc3RDaXJjbGU9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHRoaXMuX3F1ZXJ5Q2lyY2xlKHQsZSxpLCEwLG8pfSxZdC5wcm90b3R5cGUuX3F1ZXJ5Q2VsbD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe3ZhciBsPW4uc2VlblVpZHMsYz10aGlzLmJveENlbGxzW3JdO2lmKG51bGwhPT1jKWZvcih2YXIgdT10aGlzLmJib3hlcyxoPTAscD1jO2g8cC5sZW5ndGg7aCs9MSl7dmFyIGQ9cFtoXTtpZighbC5ib3hbZF0pe2wuYm94W2RdPSEwO3ZhciBfPTQqZDtpZih0PD11W18rMl0mJmU8PXVbXyszXSYmaT49dVtfKzBdJiZvPj11W18rMV0mJighc3x8cyh0aGlzLmJveEtleXNbZF0pKSl7aWYobi5oaXRUZXN0KXJldHVybiBhLnB1c2goITApLCEwO2EucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tkXSx4MTp1W19dLHkxOnVbXysxXSx4Mjp1W18rMl0seTI6dVtfKzNdfSk7fX19dmFyIGY9dGhpcy5jaXJjbGVDZWxsc1tyXTtpZihudWxsIT09Zilmb3IodmFyIG09dGhpcy5jaXJjbGVzLGc9MCx2PWY7Zzx2Lmxlbmd0aDtnKz0xKXt2YXIgeT12W2ddO2lmKCFsLmNpcmNsZVt5XSl7bC5jaXJjbGVbeV09ITA7dmFyIHg9Myp5O2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKG1beF0sbVt4KzFdLG1beCsyXSx0LGUsaSxvKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t5XSkpKXtpZihuLmhpdFRlc3QpcmV0dXJuIGEucHVzaCghMCksITA7dmFyIGI9bVt4XSx3PW1beCsxXSxUPW1beCsyXTthLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbeV0seDE6Yi1ULHkxOnctVCx4MjpiK1QseTI6dytUfSk7fX19fSxZdC5wcm90b3R5cGUuX3F1ZXJ5Q2VsbENpcmNsZT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe3ZhciBsPW4uY2lyY2xlLGM9bi5zZWVuVWlkcyx1PXRoaXMuYm94Q2VsbHNbcl07aWYobnVsbCE9PXUpZm9yKHZhciBoPXRoaXMuYmJveGVzLHA9MCxkPXU7cDxkLmxlbmd0aDtwKz0xKXt2YXIgXz1kW3BdO2lmKCFjLmJveFtfXSl7Yy5ib3hbX109ITA7dmFyIGY9NCpfO2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGwueCxsLnksbC5yYWRpdXMsaFtmKzBdLGhbZisxXSxoW2YrMl0saFtmKzNdKSYmKCFzfHxzKHRoaXMuYm94S2V5c1tfXSkpKXJldHVybiBhLnB1c2goITApLCEwfX12YXIgbT10aGlzLmNpcmNsZUNlbGxzW3JdO2lmKG51bGwhPT1tKWZvcih2YXIgZz10aGlzLmNpcmNsZXMsdj0wLHk9bTt2PHkubGVuZ3RoO3YrPTEpe3ZhciB4PXlbdl07aWYoIWMuY2lyY2xlW3hdKXtjLmNpcmNsZVt4XT0hMDt2YXIgYj0zKng7aWYodGhpcy5fY2lyY2xlc0NvbGxpZGUoZ1tiXSxnW2IrMV0sZ1tiKzJdLGwueCxsLnksbC5yYWRpdXMpJiYoIXN8fHModGhpcy5jaXJjbGVLZXlzW3hdKSkpcmV0dXJuIGEucHVzaCghMCksITB9fX0sWXQucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe2Zvcih2YXIgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHQpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZChlKSx1PXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoaSksaD10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKG8pLHA9bDtwPD11O3ArKylmb3IodmFyIGQ9YztkPD1oO2QrKylpZihyLmNhbGwodGhpcyx0LGUsaSxvLHRoaXMueENlbGxDb3VudCpkK3AsYSxuLHMpKXJldHVybn0sWXQucHJvdG90eXBlLl9jb252ZXJ0VG9YQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IodCp0aGlzLnhTY2FsZSkpKX0sWXQucHJvdG90eXBlLl9jb252ZXJ0VG9ZQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueUNlbGxDb3VudC0xLE1hdGguZmxvb3IodCp0aGlzLnlTY2FsZSkpKX0sWXQucHJvdG90eXBlLl9jaXJjbGVzQ29sbGlkZT1mdW5jdGlvbih0LGUsaSxvLHIsYSl7dmFyIG49by10LHM9ci1lLGw9aSthO3JldHVybiBsKmw+bipuK3Mqc30sWXQucHJvdG90eXBlLl9jaXJjbGVBbmRSZWN0Q29sbGlkZT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuKXt2YXIgcz0oYS1vKS8yLGw9TWF0aC5hYnModC0obytzKSk7aWYobD5zK2kpcmV0dXJuICExO3ZhciBjPShuLXIpLzIsdT1NYXRoLmFicyhlLShyK2MpKTtpZih1PmMraSlyZXR1cm4gITE7aWYobDw9c3x8dTw9YylyZXR1cm4gITA7dmFyIGg9bC1zLHA9dS1jO3JldHVybiBoKmgrcCpwPD1pKml9O3ZhciBsZT1uZXcgRmxvYXQzMkFycmF5KFstMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMF0pO2Z1bmN0aW9uIGNlKHQsZSl7Zm9yKHZhciBpPTA7aTx0O2krKyl7dmFyIG89ZS5sZW5ndGg7ZS5yZXNpemUobys0KSxlLmZsb2F0MzIuc2V0KGxlLDMqbyk7fX1mdW5jdGlvbiB1ZSh0LGUsaSl7dmFyIG89ZVswXSxyPWVbMV07cmV0dXJuIHRbMF09aVswXSpvK2lbNF0qcitpWzEyXSx0WzFdPWlbMV0qbytpWzVdKnIraVsxM10sdFszXT1pWzNdKm8raVs3XSpyK2lbMTVdLHR9dmFyIGhlPWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT1uZXcgWXQodC53aWR0aCsyMDAsdC5oZWlnaHQrMjAwLDI1KSksdm9pZCAwPT09aSYmKGk9bmV3IFl0KHQud2lkdGgrMjAwLHQuaGVpZ2h0KzIwMCwyNSkpLHRoaXMudHJhbnNmb3JtPXQsdGhpcy5ncmlkPWUsdGhpcy5pZ25vcmVkR3JpZD1pLHRoaXMucGl0Y2hmYWN0b3I9TWF0aC5jb3ModC5fcGl0Y2gpKnQuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnk9dC53aWR0aCsxMDAsdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeT10LmhlaWdodCsxMDAsdGhpcy5ncmlkUmlnaHRCb3VuZGFyeT10LndpZHRoKzIwMCx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeT10LmhlaWdodCsyMDA7fTtmdW5jdGlvbiBwZShlLGksbyl7cmV0dXJuIGkqKHQuRVhURU5ULyhlLnRpbGVTaXplKk1hdGgucG93KDIsby1lLnRpbGVJRC5vdmVyc2NhbGVkWikpKX1oZS5wcm90b3R5cGUucGxhY2VDb2xsaXNpb25Cb3g9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKG8sdC5hbmNob3JQb2ludFgsdC5hbmNob3JQb2ludFkpLG49aSphLnBlcnNwZWN0aXZlUmF0aW8scz10LngxKm4rYS5wb2ludC54LGw9dC55MSpuK2EucG9pbnQueSxjPXQueDIqbithLnBvaW50LngsdT10LnkyKm4rYS5wb2ludC55O3JldHVybiAhdGhpcy5pc0luc2lkZUdyaWQocyxsLGMsdSl8fCFlJiZ0aGlzLmdyaWQuaGl0VGVzdChzLGwsYyx1LHIpP3tib3g6W10sb2Zmc2NyZWVuOiExfTp7Ym94OltzLGwsYyx1XSxvZmZzY3JlZW46dGhpcy5pc09mZnNjcmVlbihzLGwsYyx1KX19LGhlLnByb3RvdHlwZS5wbGFjZUNvbGxpc2lvbkNpcmNsZXM9ZnVuY3Rpb24oZSxpLG8scixhLG4scyxsLGMsdSxoLHAsZCl7dmFyIF89W10sZj1uZXcgdC5Qb2ludChpLmFuY2hvclgsaS5hbmNob3JZKSxtPSR0KGYsbiksZz10ZSh0aGlzLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLG0uc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhKSx2PSh1P2EvZzphKmcpL3QuT05FX0VNLHk9JHQoZixzKS5wb2ludCx4PW9lKHYscixpLmxpbmVPZmZzZXRYKnYsaS5saW5lT2Zmc2V0WSp2LCExLHksZixpLG8scyx7fSksYj0hMSx3PSExLFQ9ITA7aWYoeCl7Zm9yKHZhciBFPS41KnAqZytkLEk9bmV3IHQuUG9pbnQoLTEwMCwtMTAwKSxQPW5ldyB0LlBvaW50KHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5KSxTPW5ldyBLdCxDPXguZmlyc3Qsej14Lmxhc3QsRD1bXSxNPUMucGF0aC5sZW5ndGgtMTtNPj0xO00tLSlELnB1c2goQy5wYXRoW01dKTtmb3IodmFyIEE9MTtBPHoucGF0aC5sZW5ndGg7QSsrKUQucHVzaCh6LnBhdGhbQV0pO3ZhciBMPTIuNSpFO2lmKGwpe3ZhciBSPUQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gJHQodCxsKX0pKTtEPVIuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wfSkpP1tdOlIubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wb2ludH0pKTt9dmFyIGs9W107aWYoRC5sZW5ndGg+MCl7Zm9yKHZhciBCPURbMF0uY2xvbmUoKSxPPURbMF0uY2xvbmUoKSxGPTE7RjxELmxlbmd0aDtGKyspQi54PU1hdGgubWluKEIueCxEW0ZdLngpLEIueT1NYXRoLm1pbihCLnksRFtGXS55KSxPLng9TWF0aC5tYXgoTy54LERbRl0ueCksTy55PU1hdGgubWF4KE8ueSxEW0ZdLnkpO2s9Qi54Pj1JLngmJk8ueDw9UC54JiZCLnk+PUkueSYmTy55PD1QLnk/W0RdOk8ueDxJLnh8fEIueD5QLnh8fE8ueTxJLnl8fEIueT5QLnk/W106dC5jbGlwTGluZShbRF0sSS54LEkueSxQLngsUC55KTt9Zm9yKHZhciBVPTAsTj1rO1U8Ti5sZW5ndGg7VSs9MSl7dmFyIFo7Uy5yZXNldChOW1VdLC4yNSpFKSxaPVMubGVuZ3RoPD0uNSpFPzE6TWF0aC5jZWlsKFMucGFkZGVkTGVuZ3RoL0wpKzE7Zm9yKHZhciBqPTA7ajxaO2orKyl7dmFyIHE9ai9NYXRoLm1heChaLTEsMSksVj1TLmxlcnAocSksRz1WLngrMTAwLFc9Vi55KzEwMDtfLnB1c2goRyxXLEUsMCk7dmFyIFg9Ry1FLEg9Vy1FLEs9RytFLFk9VytFO2lmKFQ9VCYmdGhpcy5pc09mZnNjcmVlbihYLEgsSyxZKSx3PXd8fHRoaXMuaXNJbnNpZGVHcmlkKFgsSCxLLFkpLCFlJiZ0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShHLFcsRSxoKSYmKGI9ITAsIWMpKXJldHVybiB7Y2lyY2xlczpbXSxvZmZzY3JlZW46ITEsY29sbGlzaW9uRGV0ZWN0ZWQ6Yn19fX1yZXR1cm4ge2NpcmNsZXM6IWMmJmJ8fCF3P1tdOl8sb2Zmc2NyZWVuOlQsY29sbGlzaW9uRGV0ZWN0ZWQ6Yn19LGhlLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkU3ltYm9scz1mdW5jdGlvbihlKXtpZigwPT09ZS5sZW5ndGh8fDA9PT10aGlzLmdyaWQua2V5c0xlbmd0aCgpJiYwPT09dGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkpcmV0dXJuIHt9O2Zvcih2YXIgaT1bXSxvPTEvMCxyPTEvMCxhPS0xLzAsbj0tMS8wLHM9MCxsPWU7czxsLmxlbmd0aDtzKz0xKXt2YXIgYz1sW3NdLHU9bmV3IHQuUG9pbnQoYy54KzEwMCxjLnkrMTAwKTtvPU1hdGgubWluKG8sdS54KSxyPU1hdGgubWluKHIsdS55KSxhPU1hdGgubWF4KGEsdS54KSxuPU1hdGgubWF4KG4sdS55KSxpLnB1c2godSk7fWZvcih2YXIgaD17fSxwPXt9LGQ9MCxfPXRoaXMuZ3JpZC5xdWVyeShvLHIsYSxuKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShvLHIsYSxuKSk7ZDxfLmxlbmd0aDtkKz0xKXt2YXIgZj1fW2RdLG09Zi5rZXk7aWYodm9pZCAwPT09aFttLmJ1Y2tldEluc3RhbmNlSWRdJiYoaFttLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSwhaFttLmJ1Y2tldEluc3RhbmNlSWRdW20uZmVhdHVyZUluZGV4XSl7dmFyIGc9W25ldyB0LlBvaW50KGYueDEsZi55MSksbmV3IHQuUG9pbnQoZi54MixmLnkxKSxuZXcgdC5Qb2ludChmLngyLGYueTIpLG5ldyB0LlBvaW50KGYueDEsZi55MildO3QucG9seWdvbkludGVyc2VjdHNQb2x5Z29uKGksZykmJihoW20uYnVja2V0SW5zdGFuY2VJZF1bbS5mZWF0dXJlSW5kZXhdPSEwLHZvaWQgMD09PXBbbS5idWNrZXRJbnN0YW5jZUlkXSYmKHBbbS5idWNrZXRJbnN0YW5jZUlkXT1bXSkscFttLmJ1Y2tldEluc3RhbmNlSWRdLnB1c2gobS5mZWF0dXJlSW5kZXgpKTt9fXJldHVybiBwfSxoZS5wcm90b3R5cGUuaW5zZXJ0Q29sbGlzaW9uQm94PWZ1bmN0aW9uKHQsZSxpLG8scil7KGU/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQpLmluc2VydCh7YnVja2V0SW5zdGFuY2VJZDppLGZlYXR1cmVJbmRleDpvLGNvbGxpc2lvbkdyb3VwSUQ6cn0sdFswXSx0WzFdLHRbMl0sdFszXSk7fSxoZS5wcm90b3R5cGUuaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcz1mdW5jdGlvbih0LGUsaSxvLHIpe2Zvcih2YXIgYT1lP3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkLG49e2J1Y2tldEluc3RhbmNlSWQ6aSxmZWF0dXJlSW5kZXg6byxjb2xsaXNpb25Hcm91cElEOnJ9LHM9MDtzPHQubGVuZ3RoO3MrPTQpYS5pbnNlcnRDaXJjbGUobix0W3NdLHRbcysxXSx0W3MrMl0pO30saGUucHJvdG90eXBlLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvPWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj1baSxvLDAsMV07cmV0dXJuIHVlKHIscixlKSx7cG9pbnQ6bmV3IHQuUG9pbnQoKHJbMF0vclszXSsxKS8yKnRoaXMudHJhbnNmb3JtLndpZHRoKzEwMCwoLXJbMV0vclszXSsxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCsxMDApLHBlcnNwZWN0aXZlUmF0aW86LjUrdGhpcy50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9yWzNdKi41fX0saGUucHJvdG90eXBlLmlzT2Zmc2NyZWVuPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiBpPDEwMHx8dD49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxvPDEwMHx8ZT50aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5fSxoZS5wcm90b3R5cGUuaXNJbnNpZGVHcmlkPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiBpPj0wJiZ0PHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJm8+PTAmJmU8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9LGhlLnByb3RvdHlwZS5nZXRWaWV3cG9ydE1hdHJpeD1mdW5jdGlvbigpe3ZhciBlPXQuaWRlbnRpdHkoW10pO3JldHVybiB0LnRyYW5zbGF0ZShlLGUsWy0xMDAsLTEwMCwwXSksZX07dmFyIGRlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMub3BhY2l0eT10P01hdGgubWF4KDAsTWF0aC5taW4oMSx0Lm9wYWNpdHkrKHQucGxhY2VkP2U6LWUpKSk6byYmaT8xOjAsdGhpcy5wbGFjZWQ9aTt9O2RlLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9O3ZhciBfZT1mdW5jdGlvbih0LGUsaSxvLHIpe3RoaXMudGV4dD1uZXcgZGUodD90LnRleHQ6bnVsbCxlLGksciksdGhpcy5pY29uPW5ldyBkZSh0P3QuaWNvbjpudWxsLGUsbyxyKTt9O19lLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSYmdGhpcy5pY29uLmlzSGlkZGVuKCl9O3ZhciBmZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50ZXh0PXQsdGhpcy5pY29uPWUsdGhpcy5za2lwRmFkZT1pO30sbWU9ZnVuY3Rpb24oKXt0aGlzLmludlByb2pNYXRyaXg9dC5jcmVhdGUoKSx0aGlzLnZpZXdwb3J0TWF0cml4PXQuY3JlYXRlKCksdGhpcy5jaXJjbGVzPVtdO30sZ2U9ZnVuY3Rpb24odCxlLGksbyxyKXt0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9dCx0aGlzLmZlYXR1cmVJbmRleD1lLHRoaXMuc291cmNlTGF5ZXJJbmRleD1pLHRoaXMuYnVja2V0SW5kZXg9byx0aGlzLnRpbGVJRD1yO30sdmU9ZnVuY3Rpb24odCl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9dCx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fTt9O2Z1bmN0aW9uIHllKGUsaSxvLHIsYSl7dmFyIG49dC5nZXRBbmNob3JBbGlnbm1lbnQoZSkscz0tKG4uaG9yaXpvbnRhbEFsaWduLS41KSppLGw9LShuLnZlcnRpY2FsQWxpZ24tLjUpKm8sYz10LmV2YWx1YXRlVmFyaWFibGVPZmZzZXQoZSxyKTtyZXR1cm4gbmV3IHQuUG9pbnQocytjWzBdKmEsbCtjWzFdKmEpfWZ1bmN0aW9uIHhlKGUsaSxvLHIsYSxuKXt2YXIgcz1lLngxLGw9ZS54MixjPWUueTEsdT1lLnkyLGg9ZS5hbmNob3JQb2ludFgscD1lLmFuY2hvclBvaW50WSxkPW5ldyB0LlBvaW50KGksbyk7cmV0dXJuIHImJmQuX3JvdGF0ZShhP246LW4pLHt4MTpzK2QueCx5MTpjK2QueSx4MjpsK2QueCx5Mjp1K2QueSxhbmNob3JQb2ludFg6aCxhbmNob3JQb2ludFk6cH19dmUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucylyZXR1cm4ge0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XSl7dmFyIGU9Kyt0aGlzLm1heEdyb3VwSUQ7dGhpcy5jb2xsaXNpb25Hcm91cHNbdF09e0lEOmUscHJlZGljYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbGxpc2lvbkdyb3VwSUQ9PT1lfX07fXJldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XX07dmFyIGJlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMudHJhbnNmb3JtPXQuY2xvbmUoKSx0aGlzLmNvbGxpc2lvbkluZGV4PW5ldyBoZSh0aGlzLnRyYW5zZm9ybSksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249ZSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyB2ZShpKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9byxvJiYoby5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e307fTtmdW5jdGlvbiB3ZSh0LGUsaSxvLHIpe3QuZW1wbGFjZUJhY2soZT8xOjAsaT8xOjAsb3x8MCxyfHwwKSx0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowLG98fDAscnx8MCksdC5lbXBsYWNlQmFjayhlPzE6MCxpPzE6MCxvfHwwLHJ8fDApLHQuZW1wbGFjZUJhY2soZT8xOjAsaT8xOjAsb3x8MCxyfHwwKTt9YmUucHJvdG90eXBlLmdldEJ1Y2tldFBhcnRzPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPW8uZ2V0QnVja2V0KGkpLG49by5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoYSYmbiYmaS5pZD09PWEubGF5ZXJJZHNbMF0pe3ZhciBzPW8uY29sbGlzaW9uQm94QXJyYXksbD1hLmxheWVyc1swXS5sYXlvdXQsYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLHU9by50aWxlU2l6ZS90LkVYVEVOVCxoPXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChvLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxwPSJtYXAiPT09bC5nZXQoInRleHQtcGl0Y2gtYWxpZ25tZW50IiksZD0ibWFwIj09PWwuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLF89cGUobywxLHRoaXMudHJhbnNmb3JtLnpvb20pLGY9SnQoaCxwLGQsdGhpcy50cmFuc2Zvcm0sXyksbT1udWxsO2lmKHApe3ZhciBnPVF0KGgscCxkLHRoaXMudHJhbnNmb3JtLF8pO209dC5tdWx0aXBseShbXSx0aGlzLnRyYW5zZm9ybS5sYWJlbFBsYW5lTWF0cml4LGcpO310aGlzLnJldGFpbmVkUXVlcnlEYXRhW2EuYnVja2V0SW5zdGFuY2VJZF09bmV3IGdlKGEuYnVja2V0SW5zdGFuY2VJZCxuLGEuc291cmNlTGF5ZXJJbmRleCxhLmluZGV4LG8udGlsZUlEKTt2YXIgdj17YnVja2V0OmEsbGF5b3V0OmwscG9zTWF0cml4OmgsdGV4dExhYmVsUGxhbmVNYXRyaXg6ZixsYWJlbFRvU2NyZWVuTWF0cml4Om0sc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzp1LGhvbGRpbmdGb3JGYWRlOm8uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpzLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOnQuZXZhbHVhdGVTaXplRm9yWm9vbShhLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxjb2xsaXNpb25Hcm91cDp0aGlzLmNvbGxpc2lvbkdyb3Vwcy5nZXQoYS5zb3VyY2VJRCl9O2lmKHIpZm9yKHZhciB5PTAseD1hLnNvcnRLZXlSYW5nZXM7eTx4Lmxlbmd0aDt5Kz0xKXt2YXIgYj14W3ldO2UucHVzaCh7c29ydEtleTpiLnNvcnRLZXksc3ltYm9sSW5zdGFuY2VTdGFydDpiLnN5bWJvbEluc3RhbmNlU3RhcnQsc3ltYm9sSW5zdGFuY2VFbmQ6Yi5zeW1ib2xJbnN0YW5jZUVuZCxwYXJhbWV0ZXJzOnZ9KTt9ZWxzZSBlLnB1c2goe3N5bWJvbEluc3RhbmNlU3RhcnQ6MCxzeW1ib2xJbnN0YW5jZUVuZDphLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgscGFyYW1ldGVyczp2fSk7fX0sYmUucHJvdG90eXBlLmF0dGVtcHRBbmNob3JQbGFjZW1lbnQ9ZnVuY3Rpb24odCxlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8pe3ZhciBmLG09W2gudGV4dE9mZnNldDAsaC50ZXh0T2Zmc2V0MV0sZz15ZSh0LGksbyxtLHIpLHY9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveCh4ZShlLGcueCxnLnksYSxuLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx1LHMsbCxjLnByZWRpY2F0ZSk7aWYoIV98fDAhPT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHhlKF8sZy54LGcueSxhLG4sdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHUscyxsLGMucHJlZGljYXRlKS5ib3gubGVuZ3RoKXJldHVybiB2LmJveC5sZW5ndGg+MD8odGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1toLmNyb3NzVGlsZUlEXSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbaC5jcm9zc1RpbGVJRF0udGV4dCYmKGY9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1toLmNyb3NzVGlsZUlEXS5hbmNob3IpLHRoaXMudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdPXt0ZXh0T2Zmc2V0Om0sd2lkdGg6aSxoZWlnaHQ6byxhbmNob3I6dCx0ZXh0Qm94U2NhbGU6cixwcmV2QW5jaG9yOmZ9LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHAsdCxoLGQpLHAuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihwLGQsaCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbaC5jcm9zc1RpbGVJRF09ZCkse3NoaWZ0OmcscGxhY2VkR2x5cGhCb3hlczp2fSk6dm9pZCAwfSxiZS5wcm90b3R5cGUucGxhY2VMYXllckJ1Y2tldFBhcnQ9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXMsYT1lLnBhcmFtZXRlcnMsbj1hLmJ1Y2tldCxzPWEubGF5b3V0LGw9YS5wb3NNYXRyaXgsYz1hLnRleHRMYWJlbFBsYW5lTWF0cml4LHU9YS5sYWJlbFRvU2NyZWVuTWF0cml4LGg9YS50ZXh0UGl4ZWxSYXRpbyxwPWEuaG9sZGluZ0ZvckZhZGUsZD1hLmNvbGxpc2lvbkJveEFycmF5LF89YS5wYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSxmPWEuY29sbGlzaW9uR3JvdXAsbT1zLmdldCgidGV4dC1vcHRpb25hbCIpLGc9cy5nZXQoImljb24tb3B0aW9uYWwiKSx2PXMuZ2V0KCJ0ZXh0LWFsbG93LW92ZXJsYXAiKSx5PXMuZ2V0KCJpY29uLWFsbG93LW92ZXJsYXAiKSx4PSJtYXAiPT09cy5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50IiksYj0ibWFwIj09PXMuZ2V0KCJ0ZXh0LXBpdGNoLWFsaWdubWVudCIpLHc9Im5vbmUiIT09cy5nZXQoImljb24tdGV4dC1maXQiKSxUPSJ2aWV3cG9ydC15Ij09PXMuZ2V0KCJzeW1ib2wtei1vcmRlciIpLEU9diYmKHl8fCFuLmhhc0ljb25EYXRhKCl8fGcpLEk9eSYmKHZ8fCFuLmhhc1RleHREYXRhKCl8fG0pOyFuLmNvbGxpc2lvbkFycmF5cyYmZCYmbi5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKGQpO3ZhciBQPWZ1bmN0aW9uKGUsYSl7aWYoIWlbZS5jcm9zc1RpbGVJRF0paWYocClyLnBsYWNlbWVudHNbZS5jcm9zc1RpbGVJRF09bmV3IGZlKCExLCExLCExKTtlbHNlIHt2YXIgZCxUPSExLFA9ITEsUz0hMCxDPW51bGwsej17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGx9LEQ9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfSxNPW51bGwsQT1udWxsLEw9MCxSPTAsaz0wO2EudGV4dEZlYXR1cmVJbmRleD9MPWEudGV4dEZlYXR1cmVJbmRleDplLnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzJiYoTD1lLmZlYXR1cmVJbmRleCksYS52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgmJihSPWEudmVydGljYWxUZXh0RmVhdHVyZUluZGV4KTt2YXIgQj1hLnRleHRCb3g7aWYoQil7dmFyIE89ZnVuY3Rpb24oaSl7dmFyIG89dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsO2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIWkmJnIucHJldlBsYWNlbWVudCl7dmFyIGE9ci5wcmV2UGxhY2VtZW50LnBsYWNlZE9yaWVudGF0aW9uc1tlLmNyb3NzVGlsZUlEXTthJiYoci5wbGFjZWRPcmllbnRhdGlvbnNbZS5jcm9zc1RpbGVJRF09YSxyLm1hcmtVc2VkT3JpZW50YXRpb24obixvPWEsZSkpO31yZXR1cm4gb30sRj1mdW5jdGlvbihpLG8pe2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmYS52ZXJ0aWNhbFRleHRCb3gpZm9yKHZhciByPTAscz1uLndyaXRpbmdNb2RlcztyPHMubGVuZ3RoJiYoc1tyXT09PXQuV3JpdGluZ01vZGUudmVydGljYWw/KHo9bygpLEQ9eik6ej1pKCksISh6JiZ6LmJveCYmei5ib3gubGVuZ3RoKSk7cis9MSk7ZWxzZSB6PWkoKTt9O2lmKHMuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpKXt2YXIgVT1zLmdldCgidGV4dC12YXJpYWJsZS1hbmNob3IiKTtpZihyLnByZXZQbGFjZW1lbnQmJnIucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbZS5jcm9zc1RpbGVJRF0pe3ZhciBOPXIucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbZS5jcm9zc1RpbGVJRF07VS5pbmRleE9mKE4uYW5jaG9yKT4wJiYoVT1VLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1OLmFuY2hvcn0pKSkudW5zaGlmdChOLmFuY2hvcik7fXZhciBaPWZ1bmN0aW9uKHQsaSxvKXtmb3IodmFyIGE9dC54Mi10LngxLHM9dC55Mi10LnkxLGM9ZS50ZXh0Qm94U2NhbGUsdT13JiYheT9pOm51bGwscD17Ym94OltdLG9mZnNjcmVlbjohMX0sZD12PzIqVS5sZW5ndGg6VS5sZW5ndGgsXz0wO188ZDsrK18pe3ZhciBtPXIuYXR0ZW1wdEFuY2hvclBsYWNlbWVudChVW18lVS5sZW5ndGhdLHQsYSxzLGMseCxiLGgsbCxmLF8+PVUubGVuZ3RoLGUsbixvLHUpO2lmKG0mJihwPW0ucGxhY2VkR2x5cGhCb3hlcykmJnAuYm94JiZwLmJveC5sZW5ndGgpe1Q9ITAsQz1tLnNoaWZ0O2JyZWFrfX1yZXR1cm4gcH07RigoZnVuY3Rpb24oKXtyZXR1cm4gWihCLGEuaWNvbkJveCx0LldyaXRpbmdNb2RlLmhvcml6b250YWwpfSksKGZ1bmN0aW9uKCl7dmFyIGk9YS52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmISh6JiZ6LmJveCYmei5ib3gubGVuZ3RoKSYmZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmaT9aKGksYS52ZXJ0aWNhbEljb25Cb3gsdC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfX0pKSx6JiYoVD16LmJveCxTPXoub2Zmc2NyZWVuKTt2YXIgaj1PKHomJnouYm94KTtpZighVCYmci5wcmV2UGxhY2VtZW50KXt2YXIgcT1yLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2UuY3Jvc3NUaWxlSURdO3EmJihyLnZhcmlhYmxlT2Zmc2V0c1tlLmNyb3NzVGlsZUlEXT1xLHIubWFya1VzZWRKdXN0aWZpY2F0aW9uKG4scS5hbmNob3IsZSxqKSk7fX1lbHNlIHt2YXIgVj1mdW5jdGlvbih0LGkpe3ZhciBvPXIuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3godCx2LGgsbCxmLnByZWRpY2F0ZSk7cmV0dXJuIG8mJm8uYm94JiZvLmJveC5sZW5ndGgmJihyLm1hcmtVc2VkT3JpZW50YXRpb24obixpLGUpLHIucGxhY2VkT3JpZW50YXRpb25zW2UuY3Jvc3NUaWxlSURdPWkpLG99O0YoKGZ1bmN0aW9uKCl7cmV0dXJuIFYoQix0LldyaXRpbmdNb2RlLmhvcml6b250YWwpfSksKGZ1bmN0aW9uKCl7dmFyIGk9YS52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmaT9WKGksdC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfX0pKSxPKHomJnouYm94JiZ6LmJveC5sZW5ndGgpO319aWYoVD0oZD16KSYmZC5ib3gmJmQuYm94Lmxlbmd0aD4wLFM9ZCYmZC5vZmZzY3JlZW4sZS51c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcyl7dmFyIEc9bi50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCksVz10LmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUobi50ZXh0U2l6ZURhdGEsXyxHKSxYPXMuZ2V0KCJ0ZXh0LXBhZGRpbmciKTtNPXIuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKHYsRyxuLmxpbmVWZXJ0ZXhBcnJheSxuLmdseXBoT2Zmc2V0QXJyYXksVyxsLGMsdSxvLGIsZi5wcmVkaWNhdGUsZS5jb2xsaXNpb25DaXJjbGVEaWFtZXRlcixYKSxUPXZ8fE0uY2lyY2xlcy5sZW5ndGg+MCYmIU0uY29sbGlzaW9uRGV0ZWN0ZWQsUz1TJiZNLm9mZnNjcmVlbjt9aWYoYS5pY29uRmVhdHVyZUluZGV4JiYoaz1hLmljb25GZWF0dXJlSW5kZXgpLGEuaWNvbkJveCl7dmFyIEg9ZnVuY3Rpb24odCl7dmFyIGU9dyYmQz94ZSh0LEMueCxDLnkseCxiLHIudHJhbnNmb3JtLmFuZ2xlKTp0O3JldHVybiByLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGUseSxoLGwsZi5wcmVkaWNhdGUpfTtQPUQmJkQuYm94JiZELmJveC5sZW5ndGgmJmEudmVydGljYWxJY29uQm94PyhBPUgoYS52ZXJ0aWNhbEljb25Cb3gpKS5ib3gubGVuZ3RoPjA6KEE9SChhLmljb25Cb3gpKS5ib3gubGVuZ3RoPjAsUz1TJiZBLm9mZnNjcmVlbjt9dmFyIEs9bXx8MD09PWUubnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMmJjA9PT1lLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxZPWd8fDA9PT1lLm51bUljb25WZXJ0aWNlcztpZihLfHxZP1k/S3x8KFA9UCYmVCk6VD1QJiZUOlA9VD1QJiZULFQmJmQmJmQuYm94JiZyLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChkLmJveCxzLmdldCgidGV4dC1pZ25vcmUtcGxhY2VtZW50Iiksbi5idWNrZXRJbnN0YW5jZUlkLEQmJkQuYm94JiZSP1I6TCxmLklEKSxQJiZBJiZyLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChBLmJveCxzLmdldCgiaWNvbi1pZ25vcmUtcGxhY2VtZW50Iiksbi5idWNrZXRJbnN0YW5jZUlkLGssZi5JRCksTSYmKFQmJnIuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhNLmNpcmNsZXMscy5nZXQoInRleHQtaWdub3JlLXBsYWNlbWVudCIpLG4uYnVja2V0SW5zdGFuY2VJZCxMLGYuSUQpLG8pKXt2YXIgSj1uLmJ1Y2tldEluc3RhbmNlSWQsUT1yLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tKXTt2b2lkIDA9PT1RJiYoUT1yLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tKXT1uZXcgbWUpO2Zvcih2YXIgJD0wOyQ8TS5jaXJjbGVzLmxlbmd0aDskKz00KVEuY2lyY2xlcy5wdXNoKE0uY2lyY2xlc1skKzBdKSxRLmNpcmNsZXMucHVzaChNLmNpcmNsZXNbJCsxXSksUS5jaXJjbGVzLnB1c2goTS5jaXJjbGVzWyQrMl0pLFEuY2lyY2xlcy5wdXNoKE0uY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKTt9ci5wbGFjZW1lbnRzW2UuY3Jvc3NUaWxlSURdPW5ldyBmZShUfHxFLFB8fEksU3x8bi5qdXN0UmVsb2FkZWQpLGlbZS5jcm9zc1RpbGVJRF09ITA7fX07aWYoVClmb3IodmFyIFM9bi5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxDPVMubGVuZ3RoLTE7Qz49MDstLUMpe3ZhciB6PVNbQ107UChuLnN5bWJvbEluc3RhbmNlcy5nZXQoeiksbi5jb2xsaXNpb25BcnJheXNbel0pO31lbHNlIGZvcih2YXIgRD1lLnN5bWJvbEluc3RhbmNlU3RhcnQ7RDxlLnN5bWJvbEluc3RhbmNlRW5kO0QrKylQKG4uc3ltYm9sSW5zdGFuY2VzLmdldChEKSxuLmNvbGxpc2lvbkFycmF5c1tEXSk7aWYobyYmbi5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKXt2YXIgTT10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tuLmJ1Y2tldEluc3RhbmNlSWRdO3QuaW52ZXJ0KE0uaW52UHJvak1hdHJpeCxsKSxNLnZpZXdwb3J0TWF0cml4PXRoaXMuY29sbGlzaW9uSW5kZXguZ2V0Vmlld3BvcnRNYXRyaXgoKTt9bi5qdXN0UmVsb2FkZWQ9ITE7fSxiZS5wcm90b3R5cGUubWFya1VzZWRKdXN0aWZpY2F0aW9uPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhO2E9cj09PXQuV3JpdGluZ01vZGUudmVydGljYWw/by52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDp7bGVmdDpvLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsY2VudGVyOm8uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHJpZ2h0Om8ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXh9W3QuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbihpKV07Zm9yKHZhciBuPTAscz1bby5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG8uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG8ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleF07bjxzLmxlbmd0aDtuKz0xKXt2YXIgbD1zW25dO2w+PTAmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGwpLmNyb3NzVGlsZUlEPWE+PTAmJmwhPT1hPzA6by5jcm9zc1RpbGVJRCk7fX0sYmUucHJvdG90eXBlLm1hcmtVc2VkT3JpZW50YXRpb249ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgcj1pPT09dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsfHxpPT09dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsT25seT9pOjAsYT1pPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9pOjAsbj0wLHM9W28ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XTtuPHMubGVuZ3RoO24rPTEpZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChzW25dKS5wbGFjZWRPcmllbnRhdGlvbj1yO28udmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KG8udmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLnBsYWNlZE9yaWVudGF0aW9uPWEpO30sYmUucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbih0KXt0aGlzLmNvbW1pdFRpbWU9dCx0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dGhpcy50cmFuc2Zvcm0uem9vbTt2YXIgZT10aGlzLnByZXZQbGFjZW1lbnQsaT0hMTt0aGlzLnByZXZab29tQWRqdXN0bWVudD1lP2Uuem9vbUFkanVzdG1lbnQodGhpcy50cmFuc2Zvcm0uem9vbSk6MDt2YXIgbz1lP2Uuc3ltYm9sRmFkZUNoYW5nZSh0KToxLHI9ZT9lLm9wYWNpdGllczp7fSxhPWU/ZS52YXJpYWJsZU9mZnNldHM6e30sbj1lP2UucGxhY2VkT3JpZW50YXRpb25zOnt9O2Zvcih2YXIgcyBpbiB0aGlzLnBsYWNlbWVudHMpe3ZhciBsPXRoaXMucGxhY2VtZW50c1tzXSxjPXJbc107Yz8odGhpcy5vcGFjaXRpZXNbc109bmV3IF9lKGMsbyxsLnRleHQsbC5pY29uKSxpPWl8fGwudGV4dCE9PWMudGV4dC5wbGFjZWR8fGwuaWNvbiE9PWMuaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tzXT1uZXcgX2UobnVsbCxvLGwudGV4dCxsLmljb24sbC5za2lwRmFkZSksaT1pfHxsLnRleHR8fGwuaWNvbik7fWZvcih2YXIgdSBpbiByKXt2YXIgaD1yW3VdO2lmKCF0aGlzLm9wYWNpdGllc1t1XSl7dmFyIHA9bmV3IF9lKGgsbywhMSwhMSk7cC5pc0hpZGRlbigpfHwodGhpcy5vcGFjaXRpZXNbdV09cCxpPWl8fGgudGV4dC5wbGFjZWR8fGguaWNvbi5wbGFjZWQpO319Zm9yKHZhciBkIGluIGEpdGhpcy52YXJpYWJsZU9mZnNldHNbZF18fCF0aGlzLm9wYWNpdGllc1tkXXx8dGhpcy5vcGFjaXRpZXNbZF0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2RdPWFbZF0pO2Zvcih2YXIgXyBpbiBuKXRoaXMucGxhY2VkT3JpZW50YXRpb25zW19dfHwhdGhpcy5vcGFjaXRpZXNbX118fHRoaXMub3BhY2l0aWVzW19dLmlzSGlkZGVuKCl8fCh0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tfXT1uW19dKTtpP3RoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9dDoibnVtYmVyIiE9dHlwZW9mIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUmJih0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPWU/ZS5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTp0KTt9LGJlLnByb3RvdHlwZS51cGRhdGVMYXllck9wYWNpdGllcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT17fSxvPTAscj1lO288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXSxuPWEuZ2V0QnVja2V0KHQpO24mJmEubGF0ZXN0RmVhdHVyZUluZGV4JiZ0LmlkPT09bi5sYXllcklkc1swXSYmdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXMobixpLGEuY29sbGlzaW9uQm94QXJyYXkpO319LGJlLnByb3RvdHlwZS51cGRhdGVCdWNrZXRPcGFjaXRpZXM9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXM7ZS5oYXNUZXh0RGF0YSgpJiZlLnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksZS5oYXNJY29uRGF0YSgpJiZlLmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO3ZhciBhPWUubGF5ZXJzWzBdLmxheW91dCxuPW5ldyBfZShudWxsLDAsITEsITEsITApLHM9YS5nZXQoInRleHQtYWxsb3ctb3ZlcmxhcCIpLGw9YS5nZXQoImljb24tYWxsb3ctb3ZlcmxhcCIpLGM9YS5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIiksdT0ibWFwIj09PWEuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLGg9Im1hcCI9PT1hLmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSxwPSJub25lIiE9PWEuZ2V0KCJpY29uLXRleHQtZml0IiksZD1uZXcgX2UobnVsbCwwLHMmJihsfHwhZS5oYXNJY29uRGF0YSgpfHxhLmdldCgiaWNvbi1vcHRpb25hbCIpKSxsJiYoc3x8IWUuaGFzVGV4dERhdGEoKXx8YS5nZXQoInRleHQtb3B0aW9uYWwiKSksITApOyFlLmNvbGxpc2lvbkFycmF5cyYmbyYmKGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKSYmZS5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKG8pO2Zvcih2YXIgXz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPTA7bzxlLzQ7bysrKXQub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGkpO30sZj1mdW5jdGlvbihvKXt2YXIgYT1lLnN5bWJvbEluc3RhbmNlcy5nZXQobykscz1hLm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzLGw9YS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMsZj1hLmNyb3NzVGlsZUlELG09ci5vcGFjaXRpZXNbZl07aVtmXT9tPW46bXx8KHIub3BhY2l0aWVzW2ZdPW09ZCksaVtmXT0hMDt2YXIgZz1hLm51bUljb25WZXJ0aWNlcz4wLHY9ci5wbGFjZWRPcmllbnRhdGlvbnNbYS5jcm9zc1RpbGVJRF0seT12PT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCx4PXY9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWx8fHY9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5O2lmKHM+MHx8bD4wKXt2YXIgYj1EZShtLnRleHQpO18oZS50ZXh0LHMseT9NZTpiKSxfKGUudGV4dCxsLHg/TWU6Yik7dmFyIHc9bS50ZXh0LmlzSGlkZGVuKCk7W2EucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsYS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsYS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5mb3JFYWNoKChmdW5jdGlvbih0KXt0Pj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0KS5oaWRkZW49d3x8eT8xOjApO30pKSxhLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChhLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KS5oaWRkZW49d3x8eD8xOjApO3ZhciBUPXIudmFyaWFibGVPZmZzZXRzW2EuY3Jvc3NUaWxlSURdO1QmJnIubWFya1VzZWRKdXN0aWZpY2F0aW9uKGUsVC5hbmNob3IsYSx2KTt2YXIgRT1yLnBsYWNlZE9yaWVudGF0aW9uc1thLmNyb3NzVGlsZUlEXTtFJiYoci5tYXJrVXNlZEp1c3RpZmljYXRpb24oZSwibGVmdCIsYSxFKSxyLm1hcmtVc2VkT3JpZW50YXRpb24oZSxFLGEpKTt9aWYoZyl7dmFyIEk9RGUobS5pY29uKSxQPSEocCYmYS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCYmeSk7YS5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJihfKGUuaWNvbixhLm51bUljb25WZXJ0aWNlcyxQP0k6TWUpLGUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1tLmljb24uaXNIaWRkZW4oKSksYS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKF8oZS5pY29uLGEubnVtVmVydGljYWxJY29uVmVydGljZXMsUD9NZTpJKSxlLmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGEudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1tLmljb24uaXNIaWRkZW4oKSk7fWlmKGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKXt2YXIgUz1lLmNvbGxpc2lvbkFycmF5c1tvXTtpZihTKXt2YXIgQz1uZXcgdC5Qb2ludCgwLDApO2lmKFMudGV4dEJveHx8Uy52ZXJ0aWNhbFRleHRCb3gpe3ZhciB6PSEwO2lmKGMpe3ZhciBEPXIudmFyaWFibGVPZmZzZXRzW2ZdO0Q/KEM9eWUoRC5hbmNob3IsRC53aWR0aCxELmhlaWdodCxELnRleHRPZmZzZXQsRC50ZXh0Qm94U2NhbGUpLHUmJkMuX3JvdGF0ZShoP3IudHJhbnNmb3JtLmFuZ2xlOi1yLnRyYW5zZm9ybS5hbmdsZSkpOno9ITE7fVMudGV4dEJveCYmd2UoZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LG0udGV4dC5wbGFjZWQsIXp8fHksQy54LEMueSksUy52ZXJ0aWNhbFRleHRCb3gmJndlKGUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxtLnRleHQucGxhY2VkLCF6fHx4LEMueCxDLnkpO312YXIgTT1Cb29sZWFuKCF4JiZTLnZlcnRpY2FsSWNvbkJveCk7Uy5pY29uQm94JiZ3ZShlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksbS5pY29uLnBsYWNlZCxNLHA/Qy54OjAscD9DLnk6MCksUy52ZXJ0aWNhbEljb25Cb3gmJndlKGUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxtLmljb24ucGxhY2VkLCFNLHA/Qy54OjAscD9DLnk6MCk7fX19LG09MDttPGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDttKyspZihtKTtpZihlLnNvcnRGZWF0dXJlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtlLmJ1Y2tldEluc3RhbmNlSWRdJiYodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtlLmJ1Y2tldEluc3RhbmNlSWRdLmZlYXR1cmVTb3J0T3JkZXI9ZS5mZWF0dXJlU29ydE9yZGVyKSxlLmhhc1RleHREYXRhKCkmJmUudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyJiZlLnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkpLGUuaGFzSWNvbkRhdGEoKSYmZS5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXImJmUuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheSksZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLGUuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7dmFyIGc9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZS5idWNrZXRJbnN0YW5jZUlkXTtlLnBsYWNlbWVudEludlByb2pNYXRyaXg9Zy5pbnZQcm9qTWF0cml4LGUucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9Zy52aWV3cG9ydE1hdHJpeCxlLmNvbGxpc2lvbkNpcmNsZUFycmF5PWcuY2lyY2xlcyxkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZS5idWNrZXRJbnN0YW5jZUlkXTt9fSxiZS5wcm90b3R5cGUuc3ltYm9sRmFkZUNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KHQtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbit0aGlzLnByZXZab29tQWRqdXN0bWVudH0sYmUucHJvdG90eXBlLnpvb21BZGp1c3RtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLCh0aGlzLnRyYW5zZm9ybS56b29tLXQpLzEuNSl9LGJlLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFsZXx8dC10aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPHRoaXMuZmFkZUR1cmF0aW9ufSxiZS5wcm90b3R5cGUuc3RpbGxSZWNlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9PT1lPzEtdGhpcy56b29tQWRqdXN0bWVudChlKToxO3JldHVybiB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9ZSx0aGlzLmNvbW1pdFRpbWUrdGhpcy5mYWRlRHVyYXRpb24qaT50fSxiZS5wcm90b3R5cGUuc2V0U3RhbGU9ZnVuY3Rpb24oKXt0aGlzLnN0YWxlPSEwO307dmFyIFRlPU1hdGgucG93KDIsMjUpLEVlPU1hdGgucG93KDIsMjQpLEllPU1hdGgucG93KDIsMTcpLFBlPU1hdGgucG93KDIsMTYpLFNlPU1hdGgucG93KDIsOSksQ2U9TWF0aC5wb3coMiw4KSx6ZT1NYXRoLnBvdygyLDEpO2Z1bmN0aW9uIERlKHQpe2lmKDA9PT10Lm9wYWNpdHkmJiF0LnBsYWNlZClyZXR1cm4gMDtpZigxPT09dC5vcGFjaXR5JiZ0LnBsYWNlZClyZXR1cm4gNDI5NDk2NzI5NTt2YXIgZT10LnBsYWNlZD8xOjAsaT1NYXRoLmZsb29yKDEyNyp0Lm9wYWNpdHkpO3JldHVybiBpKlRlK2UqRWUraSpJZStlKlBlK2kqU2UrZSpDZStpKnplK2V9dmFyIE1lPTAsQWU9ZnVuY3Rpb24odCl7dGhpcy5fc29ydEFjcm9zc1RpbGVzPSJ2aWV3cG9ydC15IiE9PXQubGF5b3V0LmdldCgic3ltYm9sLXotb3JkZXIiKSYmdm9pZCAwIT09dC5sYXlvdXQuZ2V0KCJzeW1ib2wtc29ydC1rZXkiKS5jb25zdGFudE9yKDEpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXg9MCx0aGlzLl9jdXJyZW50UGFydEluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz17fSx0aGlzLl9idWNrZXRQYXJ0cz1bXTt9O0FlLnByb3RvdHlwZS5jb250aW51ZVBsYWNlbWVudD1mdW5jdGlvbih0LGUsaSxvLHIpe2Zvcih2YXIgYT10aGlzLl9idWNrZXRQYXJ0czt0aGlzLl9jdXJyZW50VGlsZUluZGV4PHQubGVuZ3RoOylpZihlLmdldEJ1Y2tldFBhcnRzKGEsbyx0W3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdLHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyksdGhpcy5fY3VycmVudFRpbGVJbmRleCsrLHIoKSlyZXR1cm4gITA7Zm9yKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyYmKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcz0hMSxhLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSkpO3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXg8YS5sZW5ndGg7KWlmKGUucGxhY2VMYXllckJ1Y2tldFBhcnQoYVt0aGlzLl9jdXJyZW50UGFydEluZGV4XSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzLGkpLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXgrKyxyKCkpcmV0dXJuICEwO3JldHVybiAhMX07dmFyIExlPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4pe3RoaXMucGxhY2VtZW50PW5ldyBiZSh0LHIsYSxuKSx0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg9ZS5sZW5ndGgtMSx0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQ9aSx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9byx0aGlzLl9kb25lPSExO307TGUucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lfSxMZS5wcm90b3R5cGUuY29udGludWVQbGFjZW1lbnQ9ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgcj10aGlzLGE9dC5icm93c2VyLm5vdygpLG49ZnVuY3Rpb24oKXt2YXIgZT10LmJyb3dzZXIubm93KCktYTtyZXR1cm4gIXIuX2ZvcmNlRnVsbFBsYWNlbWVudCYmZT4yfTt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXt2YXIgcz1pW2VbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XV0sbD10aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZigic3ltYm9sIj09PXMudHlwZSYmKCFzLm1pbnpvb218fHMubWluem9vbTw9bCkmJighcy5tYXh6b29tfHxzLm1heHpvb20+bCkpe2lmKHRoaXMuX2luUHJvZ3Jlc3NMYXllcnx8KHRoaXMuX2luUHJvZ3Jlc3NMYXllcj1uZXcgQWUocykpLHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChvW3Muc291cmNlXSx0aGlzLnBsYWNlbWVudCx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMscyxuKSlyZXR1cm47ZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjt9dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07fXRoaXMuX2RvbmU9ITA7fSxMZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQodCksdGhpcy5wbGFjZW1lbnR9O3ZhciBSZT01MTIvdC5FWFRFTlQvMixrZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50aWxlSUQ9dCx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXM9e30sdGhpcy5idWNrZXRJbnN0YW5jZUlkPWk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciByPWUuZ2V0KG8pLGE9ci5rZXk7dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2FdfHwodGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2FdPVtdKSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbYV0ucHVzaCh7Y3Jvc3NUaWxlSUQ6ci5jcm9zc1RpbGVJRCxjb29yZDp0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHIsdCl9KTt9fTtrZS5wcm90b3R5cGUuZ2V0U2NhbGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSxpKXt2YXIgbz1SZS9NYXRoLnBvdygyLGkuY2Fub25pY2FsLnotdGhpcy50aWxlSUQuY2Fub25pY2FsLnopO3JldHVybiB7eDpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC54KnQuRVhURU5UK2UuYW5jaG9yWCkqbykseTpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC55KnQuRVhURU5UK2UuYW5jaG9yWSkqbyl9fSxrZS5wcm90b3R5cGUuZmluZE1hdGNoZXM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz10aGlzLnRpbGVJRC5jYW5vbmljYWwuejxlLmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei1lLmNhbm9uaWNhbC56KSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBhPXQuZ2V0KHIpO2lmKCFhLmNyb3NzVGlsZUlEKXt2YXIgbj10aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbYS5rZXldO2lmKG4pZm9yKHZhciBzPXRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoYSxlKSxsPTAsYz1uO2w8Yy5sZW5ndGg7bCs9MSl7dmFyIHU9Y1tsXTtpZihNYXRoLmFicyh1LmNvb3JkLngtcy54KTw9byYmTWF0aC5hYnModS5jb29yZC55LXMueSk8PW8mJiFpW3UuY3Jvc3NUaWxlSURdKXtpW3UuY3Jvc3NUaWxlSURdPSEwLGEuY3Jvc3NUaWxlSUQ9dS5jcm9zc1RpbGVJRDticmVha319fX19O3ZhciBCZT1mdW5jdGlvbigpe3RoaXMubWF4Q3Jvc3NUaWxlSUQ9MDt9O0JlLnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbigpe3JldHVybiArK3RoaXMubWF4Q3Jvc3NUaWxlSUR9O3ZhciBPZT1mdW5jdGlvbigpe3RoaXMuaW5kZXhlcz17fSx0aGlzLnVzZWRDcm9zc1RpbGVJRHM9e30sdGhpcy5sbmc9MDt9O09lLnByb3RvdHlwZS5oYW5kbGVXcmFwSnVtcD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnJvdW5kKCh0LXRoaXMubG5nKS8zNjApO2lmKDAhPT1lKWZvcih2YXIgaSBpbiB0aGlzLmluZGV4ZXMpe3ZhciBvPXRoaXMuaW5kZXhlc1tpXSxyPXt9O2Zvcih2YXIgYSBpbiBvKXt2YXIgbj1vW2FdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArZSkscltuLnRpbGVJRC5rZXldPW47fXRoaXMuaW5kZXhlc1tpXT1yO310aGlzLmxuZz10O30sT2UucHJvdG90eXBlLmFkZEJ1Y2tldD1mdW5jdGlvbih0LGUsaSl7aWYodGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdJiZ0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldKXtpZih0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldLmJ1Y2tldEluc3RhbmNlSWQ9PT1lLmJ1Y2tldEluc3RhbmNlSWQpcmV0dXJuICExO3RoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHQub3ZlcnNjYWxlZFosdGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdW3Qua2V5XSk7fWZvcih2YXIgbz0wO288ZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO28rKyllLnN5bWJvbEluc3RhbmNlcy5nZXQobykuY3Jvc3NUaWxlSUQ9MDt0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl09e30pO3ZhciByPXRoaXMudXNlZENyb3NzVGlsZUlEc1t0Lm92ZXJzY2FsZWRaXTtmb3IodmFyIGEgaW4gdGhpcy5pbmRleGVzKXt2YXIgbj10aGlzLmluZGV4ZXNbYV07aWYoTnVtYmVyKGEpPnQub3ZlcnNjYWxlZFopZm9yKHZhciBzIGluIG4pe3ZhciBsPW5bc107bC50aWxlSUQuaXNDaGlsZE9mKHQpJiZsLmZpbmRNYXRjaGVzKGUuc3ltYm9sSW5zdGFuY2VzLHQscik7fWVsc2Uge3ZhciBjPW5bdC5zY2FsZWRUbyhOdW1iZXIoYSkpLmtleV07YyYmYy5maW5kTWF0Y2hlcyhlLnN5bWJvbEluc3RhbmNlcyx0LHIpO319Zm9yKHZhciB1PTA7dTxlLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7dSsrKXt2YXIgaD1lLnN5bWJvbEluc3RhbmNlcy5nZXQodSk7aC5jcm9zc1RpbGVJRHx8KGguY3Jvc3NUaWxlSUQ9aS5nZW5lcmF0ZSgpLHJbaC5jcm9zc1RpbGVJRF09ITApO31yZXR1cm4gdm9pZCAwPT09dGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdJiYodGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdPXt9KSx0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldPW5ldyBrZSh0LGUuc3ltYm9sSW5zdGFuY2VzLGUuYnVja2V0SW5zdGFuY2VJZCksITB9LE9lLnByb3RvdHlwZS5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZS5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKWZvcih2YXIgbz0wLHI9ZS5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2ldO288ci5sZW5ndGg7bys9MSlkZWxldGUgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RdW3Jbb10uY3Jvc3NUaWxlSURdO30sT2UucHJvdG90eXBlLnJlbW92ZVN0YWxlQnVja2V0cz1mdW5jdGlvbih0KXt2YXIgZT0hMTtmb3IodmFyIGkgaW4gdGhpcy5pbmRleGVzKXt2YXIgbz10aGlzLmluZGV4ZXNbaV07Zm9yKHZhciByIGluIG8pdFtvW3JdLmJ1Y2tldEluc3RhbmNlSWRdfHwodGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoaSxvW3JdKSxkZWxldGUgb1tyXSxlPSEwKTt9cmV0dXJuIGV9O3ZhciBGZT1mdW5jdGlvbigpe3RoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuY3Jvc3NUaWxlSURzPW5ldyBCZSx0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQ9MCx0aGlzLmJ1Y2tldHNJbkN1cnJlbnRQbGFjZW1lbnQ9e307fTtGZS5wcm90b3R5cGUuYWRkTGF5ZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMubGF5ZXJJbmRleGVzW3QuaWRdO3ZvaWQgMD09PW8mJihvPXRoaXMubGF5ZXJJbmRleGVzW3QuaWRdPW5ldyBPZSk7dmFyIHI9ITEsYT17fTtvLmhhbmRsZVdyYXBKdW1wKGkpO2Zvcih2YXIgbj0wLHM9ZTtuPHMubGVuZ3RoO24rPTEpe3ZhciBsPXNbbl0sYz1sLmdldEJ1Y2tldCh0KTtjJiZ0LmlkPT09Yy5sYXllcklkc1swXSYmKGMuYnVja2V0SW5zdGFuY2VJZHx8KGMuYnVja2V0SW5zdGFuY2VJZD0rK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZCksby5hZGRCdWNrZXQobC50aWxlSUQsYyx0aGlzLmNyb3NzVGlsZUlEcykmJihyPSEwKSxhW2MuYnVja2V0SW5zdGFuY2VJZF09ITApO31yZXR1cm4gby5yZW1vdmVTdGFsZUJ1Y2tldHMoYSkmJihyPSEwKSxyfSxGZS5wcm90b3R5cGUucHJ1bmVVbnVzZWRMYXllcnM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBpIGluIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT0hMDt9KSksdGhpcy5sYXllckluZGV4ZXMpZVtpXXx8ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2ldO307dmFyIFVlPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuZW1pdFZhbGlkYXRpb25FcnJvcnMoZSxpJiZpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuICJzb3VyY2UuY2FudmFzIiE9PXQuaWRlbnRpZmllcn0pKSl9LE5lPXQucGljayhadCxbImFkZExheWVyIiwicmVtb3ZlTGF5ZXIiLCJzZXRQYWludFByb3BlcnR5Iiwic2V0TGF5b3V0UHJvcGVydHkiLCJzZXRGaWx0ZXIiLCJhZGRTb3VyY2UiLCJyZW1vdmVTb3VyY2UiLCJzZXRMYXllclpvb21SYW5nZSIsInNldExpZ2h0Iiwic2V0VHJhbnNpdGlvbiIsInNldEdlb0pTT05Tb3VyY2VEYXRhIl0pLFplPXQucGljayhadCxbInNldENlbnRlciIsInNldFpvb20iLCJzZXRCZWFyaW5nIiwic2V0UGl0Y2giXSksamU9ZnVuY3Rpb24oKXt2YXIgZT17fSxpPXQuc3R5bGVTcGVjLiR2ZXJzaW9uO2Zvcih2YXIgbyBpbiB0LnN0eWxlU3BlYy4kcm9vdCl7dmFyIHIsYT10LnN0eWxlU3BlYy4kcm9vdFtvXTtpZihhLnJlcXVpcmVkKW51bGwhPShyPSJ2ZXJzaW9uIj09PW8/aToiYXJyYXkiPT09YS50eXBlP1tdOnt9KSYmKGVbb109cik7fXJldHVybiBlfSgpLHFlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkobyxyKXt2YXIgYT10aGlzO3ZvaWQgMD09PXImJihyPXt9KSxlLmNhbGwodGhpcyksdGhpcy5tYXA9byx0aGlzLmRpc3BhdGNoZXI9bmV3IEUoRnQoKSx0aGlzKSx0aGlzLmltYWdlTWFuYWdlcj1uZXcgcCx0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuZ2x5cGhNYW5hZ2VyPW5ldyB5KG8uX3JlcXVlc3RNYW5hZ2VyLHIubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSx0aGlzLmxpbmVBdGxhcz1uZXcgVCgyNTYsNTEyKSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBGZSx0aGlzLl9sYXllcnM9e30sdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9vcmRlcj1bXSx0aGlzLnNvdXJjZUNhY2hlcz17fSx0aGlzLnpvb21IaXN0b3J5PW5ldyB0Llpvb21IaXN0b3J5LHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fcmVzZXRVcGRhdGVzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgic2V0UmVmZXJyZXIiLHQuZ2V0UmVmZXJyZXIoKSk7dmFyIG49dGhpczt0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s9aS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKChmdW5jdGlvbihlKXtuLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJzeW5jUlRMUGx1Z2luU3RhdGUiLHtwbHVnaW5TdGF0dXM6ZS5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOmUucGx1Z2luVVJMfSwoZnVuY3Rpb24oZSxpKXtpZih0LnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQoZSksaSYmaS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpZm9yKHZhciBvIGluIG4uc291cmNlQ2FjaGVzKW4uc291cmNlQ2FjaGVzW29dLnJlbG9hZCgpO30pKTt9KSksdGhpcy5vbigiZGF0YSIsKGZ1bmN0aW9uKHQpe2lmKCJzb3VyY2UiPT09dC5kYXRhVHlwZSYmIm1ldGFkYXRhIj09PXQuc291cmNlRGF0YVR5cGUpe3ZhciBlPWEuc291cmNlQ2FjaGVzW3Quc291cmNlSWRdO2lmKGUpe3ZhciBpPWUuZ2V0U291cmNlKCk7aWYoaSYmaS52ZWN0b3JMYXllcklkcylmb3IodmFyIG8gaW4gYS5fbGF5ZXJzKXt2YXIgcj1hLl9sYXllcnNbb107ci5zb3VyY2U9PT1pLmlkJiZhLl92YWxpZGF0ZUxheWVyKHIpO319fX0pKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUubG9hZFVSTD1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic3R5bGUifSkpO3ZhciByPSJib29sZWFuIj09dHlwZW9mIGkudmFsaWRhdGU/aS52YWxpZGF0ZTohdC5pc01hcGJveFVSTChlKTtlPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChlLGkuYWNjZXNzVG9rZW4pO3ZhciBhPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUsdC5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9dC5nZXRKU09OKGEsKGZ1bmN0aW9uKGUsaSl7by5fcmVxdWVzdD1udWxsLGU/by5maXJlKG5ldyB0LkVycm9yRXZlbnQoZSkpOmkmJm8uX2xvYWQoaSxyKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkSlNPTj1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic3R5bGUifSkpLHRoaXMuX3JlcXVlc3Q9dC5icm93c2VyLmZyYW1lKChmdW5jdGlvbigpe28uX3JlcXVlc3Q9bnVsbCxvLl9sb2FkKGUsITEhPT1pLnZhbGlkYXRlKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkRW1wdHk9ZnVuY3Rpb24oKXt0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InN0eWxlIn0pKSx0aGlzLl9sb2FkKGplLCExKTt9LGkucHJvdG90eXBlLl9sb2FkPWZ1bmN0aW9uKGUsaSl7aWYoIWl8fCFVZSh0aGlzLHQudmFsaWRhdGVTdHlsZShlKSkpe2Zvcih2YXIgbyBpbiB0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUsZS5zb3VyY2VzKXRoaXMuYWRkU291cmNlKG8sZS5zb3VyY2VzW29dLHt2YWxpZGF0ZTohMX0pO2Uuc3ByaXRlP3RoaXMuX2xvYWRTcHJpdGUoZS5zcHJpdGUpOnRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKGUuZ2x5cGhzKTt2YXIgcj1OdCh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKHZhciBhPTAsbj1yO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXTsocz10LmNyZWF0ZVN0eWxlTGF5ZXIocykpLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnMuaWR9fSksdGhpcy5fbGF5ZXJzW3MuaWRdPXMsdGhpcy5fc2VyaWFsaXplZExheWVyc1tzLmlkXT1zLnNlcmlhbGl6ZSgpO310aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJzZXRMYXllcnMiLHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpLHRoaXMubGlnaHQ9bmV3IHcodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic3R5bGUifSkpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgic3R5bGUubG9hZCIpKTt9fSxpLnByb3RvdHlwZS5fbG9hZFNwcml0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxpLG8pe3ZhciByLGEsbixzPXQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvPjE/IkAyeCI6IiIsbD10LmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKGUscywiLmpzb24iKSx0LlJlc291cmNlVHlwZS5TcHJpdGVKU09OKSwoZnVuY3Rpb24odCxlKXtsPW51bGwsbnx8KG49dCxyPWUsdSgpKTt9KSksYz10LmdldEltYWdlKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNwcml0ZVVSTChlLHMsIi5wbmciKSx0LlJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksKGZ1bmN0aW9uKHQsZSl7Yz1udWxsLG58fChuPXQsYT1lLHUoKSk7fSkpO2Z1bmN0aW9uIHUoKXtpZihuKW8obik7ZWxzZSBpZihyJiZhKXt2YXIgZT10LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGEpLGk9e307Zm9yKHZhciBzIGluIHIpe3ZhciBsPXJbc10sYz1sLndpZHRoLHU9bC5oZWlnaHQsaD1sLngscD1sLnksZD1sLnNkZixfPWwucGl4ZWxSYXRpbyxmPWwuc3RyZXRjaFgsbT1sLnN0cmV0Y2hZLGc9bC5jb250ZW50LHY9bmV3IHQuUkdCQUltYWdlKHt3aWR0aDpjLGhlaWdodDp1fSk7dC5SR0JBSW1hZ2UuY29weShlLHYse3g6aCx5OnB9LHt4OjAseTowfSx7d2lkdGg6YyxoZWlnaHQ6dX0pLGlbc109e2RhdGE6dixwaXhlbFJhdGlvOl8sc2RmOmQsc3RyZXRjaFg6ZixzdHJldGNoWTptLGNvbnRlbnQ6Z307fW8obnVsbCxpKTt9fXJldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7bCYmKGwuY2FuY2VsKCksbD1udWxsKSxjJiYoYy5jYW5jZWwoKSxjPW51bGwpO319fShlLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoZnVuY3Rpb24oZSxvKXtpZihpLl9zcHJpdGVSZXF1ZXN0PW51bGwsZSlpLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk7ZWxzZSBpZihvKWZvcih2YXIgciBpbiBvKWkuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKHIsb1tyXSk7aS5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSxpLl9hdmFpbGFibGVJbWFnZXM9aS5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLGkuZGlzcGF0Y2hlci5icm9hZGNhc3QoInNldEltYWdlcyIsaS5fYXZhaWxhYmxlSW1hZ2VzKSxpLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic3R5bGUifSkpO30pKTt9LGkucHJvdG90eXBlLl92YWxpZGF0ZUxheWVyPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc291cmNlQ2FjaGVzW2Uuc291cmNlXTtpZihpKXt2YXIgbz1lLnNvdXJjZUxheWVyO2lmKG8pe3ZhciByPWkuZ2V0U291cmNlKCk7KCJnZW9qc29uIj09PXIudHlwZXx8ci52ZWN0b3JMYXllcklkcyYmLTE9PT1yLnZlY3RvckxheWVySWRzLmluZGV4T2YobykpJiZ0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ1NvdXJjZSBsYXllciAiJytvKyciIGRvZXMgbm90IGV4aXN0IG9uIHNvdXJjZSAiJytyLmlkKyciIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciAiJytlLmlkKyciJykpKTt9fX0saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKCF0aGlzLnNvdXJjZUNhY2hlc1t0XS5sb2FkZWQoKSlyZXR1cm4gITE7cmV0dXJuICEhdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKX0saS5wcm90b3R5cGUuX3NlcmlhbGl6ZUxheWVycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wLG89dDtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPXRoaXMuX2xheWVyc1tvW2ldXTsiY3VzdG9tIiE9PXIudHlwZSYmZS5wdXNoKHIuc2VyaWFsaXplKCkpO31yZXR1cm4gZX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKHRoaXMuc291cmNlQ2FjaGVzW3RdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKHZhciBlIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gITF9LGkucHJvdG90eXBlLl9jaGVja0xvYWRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKCJTdHlsZSBpcyBub3QgZG9uZSBsb2FkaW5nIil9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLl9sb2FkZWQpe3ZhciBpPXRoaXMuX2NoYW5nZWQ7aWYodGhpcy5fY2hhbmdlZCl7dmFyIG89T2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycykscj1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTtmb3IodmFyIGEgaW4gKG8ubGVuZ3RofHxyLmxlbmd0aCkmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhvLHIpLHRoaXMuX3VwZGF0ZWRTb3VyY2VzKXt2YXIgbj10aGlzLl91cGRhdGVkU291cmNlc1thXTsicmVsb2FkIj09PW4/dGhpcy5fcmVsb2FkU291cmNlKGEpOiJjbGVhciI9PT1uJiZ0aGlzLl9jbGVhclNvdXJjZShhKTt9Zm9yKHZhciBzIGluIHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpLHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKXRoaXMuX2xheWVyc1tzXS51cGRhdGVUcmFuc2l0aW9ucyhlKTt0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKGUpLHRoaXMuX3Jlc2V0VXBkYXRlcygpO31mb3IodmFyIGwgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbbF0udXNlZD0hMTtmb3IodmFyIGM9MCx1PXRoaXMuX29yZGVyO2M8dS5sZW5ndGg7Yys9MSl7dmFyIGg9dGhpcy5fbGF5ZXJzW3VbY11dO2gucmVjYWxjdWxhdGUoZSx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFoLmlzSGlkZGVuKGUuem9vbSkmJmguc291cmNlJiYodGhpcy5zb3VyY2VDYWNoZXNbaC5zb3VyY2VdLnVzZWQ9ITApO310aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKGUpLHRoaXMuej1lLnpvb20saSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InN0eWxlIn0pKTt9fSxpLnByb3RvdHlwZS5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmtleXModGhpcy5fY2hhbmdlZEltYWdlcyk7aWYodC5sZW5ndGgpe2Zvcih2YXIgZSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tlXS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbImljb25zIiwicGF0dGVybnMiXSx0KTt0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9O319LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJMYXllcnM9ZnVuY3Rpb24odCxlKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJ1cGRhdGVMYXllcnMiLHtsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKHQpLHJlbW92ZWRJZHM6ZX0pO30saS5wcm90b3R5cGUuX3Jlc2V0VXBkYXRlcz1mdW5jdGlvbigpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTb3VyY2VzPXt9LHRoaXMuX3VwZGF0ZWRQYWludFByb3BzPXt9LHRoaXMuX2NoYW5nZWRJbWFnZXM9e307fSxpLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksVWUodGhpcyx0LnZhbGlkYXRlU3R5bGUoZSkpKXJldHVybiAhMTsoZT10LmNsb25lJDEoZSkpLmxheWVycz1OdChlLmxheWVycyk7dmFyIG89ZnVuY3Rpb24oZSxpKXtpZighZSlyZXR1cm4gW3tjb21tYW5kOlp0LnNldFN0eWxlLGFyZ3M6W2ldfV07dmFyIG89W107dHJ5e2lmKCF0LmRlZXBFcXVhbChlLnZlcnNpb24saS52ZXJzaW9uKSlyZXR1cm4gW3tjb21tYW5kOlp0LnNldFN0eWxlLGFyZ3M6W2ldfV07dC5kZWVwRXF1YWwoZS5jZW50ZXIsaS5jZW50ZXIpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0Q2VudGVyLGFyZ3M6W2kuY2VudGVyXX0pLHQuZGVlcEVxdWFsKGUuem9vbSxpLnpvb20pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0Wm9vbSxhcmdzOltpLnpvb21dfSksdC5kZWVwRXF1YWwoZS5iZWFyaW5nLGkuYmVhcmluZyl8fG8ucHVzaCh7Y29tbWFuZDpadC5zZXRCZWFyaW5nLGFyZ3M6W2kuYmVhcmluZ119KSx0LmRlZXBFcXVhbChlLnBpdGNoLGkucGl0Y2gpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0UGl0Y2gsYXJnczpbaS5waXRjaF19KSx0LmRlZXBFcXVhbChlLnNwcml0ZSxpLnNwcml0ZSl8fG8ucHVzaCh7Y29tbWFuZDpadC5zZXRTcHJpdGUsYXJnczpbaS5zcHJpdGVdfSksdC5kZWVwRXF1YWwoZS5nbHlwaHMsaS5nbHlwaHMpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0R2x5cGhzLGFyZ3M6W2kuZ2x5cGhzXX0pLHQuZGVlcEVxdWFsKGUudHJhbnNpdGlvbixpLnRyYW5zaXRpb24pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0VHJhbnNpdGlvbixhcmdzOltpLnRyYW5zaXRpb25dfSksdC5kZWVwRXF1YWwoZS5saWdodCxpLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOlp0LnNldExpZ2h0LGFyZ3M6W2kubGlnaHRdfSk7dmFyIHI9e30sYT1bXTshZnVuY3Rpb24oZSxpLG8scil7dmFyIGE7Zm9yKGEgaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkoYSkmJihpLmhhc093blByb3BlcnR5KGEpfHxxdChhLG8scikpO2ZvcihhIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShhKSYmKGUuaGFzT3duUHJvcGVydHkoYSk/dC5kZWVwRXF1YWwoZVthXSxpW2FdKXx8KCJnZW9qc29uIj09PWVbYV0udHlwZSYmImdlb2pzb24iPT09aVthXS50eXBlJiZHdChlLGksYSk/by5wdXNoKHtjb21tYW5kOlp0LnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W2EsaVthXS5kYXRhXX0pOlZ0KGEsaSxvLHIpKTpqdChhLGksbykpO30oZS5zb3VyY2VzLGkuc291cmNlcyxhLHIpO3ZhciBuPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3Quc291cmNlXT9vLnB1c2goe2NvbW1hbmQ6WnQucmVtb3ZlTGF5ZXIsYXJnczpbdC5pZF19KTpuLnB1c2godCk7fSkpLG89by5jb25jYXQoYSksZnVuY3Rpb24oZSxpLG8pe2k9aXx8W107dmFyIHIsYSxuLHMsbCxjLHUsaD0oZT1lfHxbXSkubWFwKFh0KSxwPWkubWFwKFh0KSxkPWUucmVkdWNlKEh0LHt9KSxfPWkucmVkdWNlKEh0LHt9KSxmPWguc2xpY2UoKSxtPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHI9MCxhPTA7cjxoLmxlbmd0aDtyKyspXy5oYXNPd25Qcm9wZXJ0eShuPWhbcl0pP2ErKzooby5wdXNoKHtjb21tYW5kOlp0LnJlbW92ZUxheWVyLGFyZ3M6W25dfSksZi5zcGxpY2UoZi5pbmRleE9mKG4sYSksMSkpO2ZvcihyPTAsYT0wO3I8cC5sZW5ndGg7cisrKWZbZi5sZW5ndGgtMS1yXSE9PShuPXBbcC5sZW5ndGgtMS1yXSkmJihkLmhhc093blByb3BlcnR5KG4pPyhvLnB1c2goe2NvbW1hbmQ6WnQucmVtb3ZlTGF5ZXIsYXJnczpbbl19KSxmLnNwbGljZShmLmxhc3RJbmRleE9mKG4sZi5sZW5ndGgtYSksMSkpOmErKyxvLnB1c2goe2NvbW1hbmQ6WnQuYWRkTGF5ZXIsYXJnczpbX1tuXSxjPWZbZi5sZW5ndGgtcl1dfSksZi5zcGxpY2UoZi5sZW5ndGgtciwwLG4pLG1bbl09ITApO2ZvcihyPTA7cjxwLmxlbmd0aDtyKyspaWYocz1kW249cFtyXV0sbD1fW25dLCFtW25dJiYhdC5kZWVwRXF1YWwocyxsKSlpZih0LmRlZXBFcXVhbChzLnNvdXJjZSxsLnNvdXJjZSkmJnQuZGVlcEVxdWFsKHNbInNvdXJjZS1sYXllciJdLGxbInNvdXJjZS1sYXllciJdKSYmdC5kZWVwRXF1YWwocy50eXBlLGwudHlwZSkpe2Zvcih1IGluIFd0KHMubGF5b3V0LGwubGF5b3V0LG8sbixudWxsLFp0LnNldExheW91dFByb3BlcnR5KSxXdChzLnBhaW50LGwucGFpbnQsbyxuLG51bGwsWnQuc2V0UGFpbnRQcm9wZXJ0eSksdC5kZWVwRXF1YWwocy5maWx0ZXIsbC5maWx0ZXIpfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0RmlsdGVyLGFyZ3M6W24sbC5maWx0ZXJdfSksdC5kZWVwRXF1YWwocy5taW56b29tLGwubWluem9vbSkmJnQuZGVlcEVxdWFsKHMubWF4em9vbSxsLm1heHpvb20pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbbixsLm1pbnpvb20sbC5tYXh6b29tXX0pLHMpcy5oYXNPd25Qcm9wZXJ0eSh1KSYmImxheW91dCIhPT11JiYicGFpbnQiIT09dSYmImZpbHRlciIhPT11JiYibWV0YWRhdGEiIT09dSYmIm1pbnpvb20iIT09dSYmIm1heHpvb20iIT09dSYmKDA9PT11LmluZGV4T2YoInBhaW50LiIpP1d0KHNbdV0sbFt1XSxvLG4sdS5zbGljZSg2KSxadC5zZXRQYWludFByb3BlcnR5KTp0LmRlZXBFcXVhbChzW3VdLGxbdV0pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltuLHUsbFt1XV19KSk7Zm9yKHUgaW4gbClsLmhhc093blByb3BlcnR5KHUpJiYhcy5oYXNPd25Qcm9wZXJ0eSh1KSYmImxheW91dCIhPT11JiYicGFpbnQiIT09dSYmImZpbHRlciIhPT11JiYibWV0YWRhdGEiIT09dSYmIm1pbnpvb20iIT09dSYmIm1heHpvb20iIT09dSYmKDA9PT11LmluZGV4T2YoInBhaW50LiIpP1d0KHNbdV0sbFt1XSxvLG4sdS5zbGljZSg2KSxadC5zZXRQYWludFByb3BlcnR5KTp0LmRlZXBFcXVhbChzW3VdLGxbdV0pfHxvLnB1c2goe2NvbW1hbmQ6WnQuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltuLHUsbFt1XV19KSk7fWVsc2Ugby5wdXNoKHtjb21tYW5kOlp0LnJlbW92ZUxheWVyLGFyZ3M6W25dfSksYz1mW2YubGFzdEluZGV4T2YobikrMV0sby5wdXNoKHtjb21tYW5kOlp0LmFkZExheWVyLGFyZ3M6W2wsY119KTt9KG4saS5sYXllcnMsbyk7fWNhdGNoKHQpe2NvbnNvbGUud2FybigiVW5hYmxlIHRvIGNvbXB1dGUgc3R5bGUgZGlmZjoiLHQpLG89W3tjb21tYW5kOlp0LnNldFN0eWxlLGFyZ3M6W2ldfV07fXJldHVybiBvfSh0aGlzLnNlcmlhbGl6ZSgpLGUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuICEodC5jb21tYW5kIGluIFplKX0pKTtpZigwPT09by5sZW5ndGgpcmV0dXJuICExO3ZhciByPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISh0LmNvbW1hbmQgaW4gTmUpfSkpO2lmKHIubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCJVbmltcGxlbWVudGVkOiAiK3IubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21tYW5kfSkpLmpvaW4oIiwgIikrIi4iKTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbih0KXsic2V0VHJhbnNpdGlvbiIhPT10LmNvbW1hbmQmJmlbdC5jb21tYW5kXS5hcHBseShpLHQuYXJncyk7fSkpLHRoaXMuc3R5bGVzaGVldD1lLCEwfSxpLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbihlLGkpe2lmKHRoaXMuZ2V0SW1hZ2UoZSkpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiQW4gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuIikpKTt0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLGkpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1tlXT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzdHlsZSJ9KSk7fSxpLnByb3RvdHlwZS51cGRhdGVJbWFnZT1mdW5jdGlvbih0LGUpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKHQsZSk7fSxpLnByb3RvdHlwZS5nZXRJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UodCl9LGkucHJvdG90eXBlLnJlbW92ZUltYWdlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmdldEltYWdlKGUpKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4iKSkpO3RoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGUpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1tlXT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzdHlsZSJ9KSk7fSxpLnByb3RvdHlwZS5saXN0SW1hZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpfSxpLnByb3RvdHlwZS5hZGRTb3VyY2U9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXM7aWYodm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5zb3VyY2VDYWNoZXNbZV0pdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRCIpO2lmKCFpLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUaGUgdHlwZSBwcm9wZXJ0eSBtdXN0IGJlIGRlZmluZWQsIGJ1dCB0aGUgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogIitPYmplY3Qua2V5cyhpKS5qb2luKCIsICIpKyIuIik7aWYoIShbInZlY3RvciIsInJhc3RlciIsImdlb2pzb24iLCJ2aWRlbyIsImltYWdlIl0uaW5kZXhPZihpLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuc291cmNlLCJzb3VyY2VzLiIrZSxpLG51bGwsbykpKXt0aGlzLm1hcCYmdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmKGkuY29sbGVjdFJlc291cmNlVGltaW5nPSEwKTt2YXIgYT10aGlzLnNvdXJjZUNhY2hlc1tlXT1uZXcgRHQoZSxpLHRoaXMuZGlzcGF0Y2hlcik7YS5zdHlsZT10aGlzLGEuc2V0RXZlbnRlZFBhcmVudCh0aGlzLChmdW5jdGlvbigpe3JldHVybiB7aXNTb3VyY2VMb2FkZWQ6ci5sb2FkZWQoKSxzb3VyY2U6YS5zZXJpYWxpemUoKSxzb3VyY2VJZDplfX0pKSxhLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO319LGkucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbihlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHZvaWQgMD09PXRoaXMuc291cmNlQ2FjaGVzW2VdKXRocm93IG5ldyBFcnJvcigiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRCIpO2Zvcih2YXIgaSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2ldLnNvdXJjZT09PWUpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignU291cmNlICInK2UrJyIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgIicraSsnIiBpcyB1c2luZyBpdC4nKSkpO3ZhciBvPXRoaXMuc291cmNlQ2FjaGVzW2VdO2RlbGV0ZSB0aGlzLnNvdXJjZUNhY2hlc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZFNvdXJjZXNbZV0sby5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7c291cmNlRGF0YVR5cGU6Im1ldGFkYXRhIixkYXRhVHlwZToic291cmNlIixzb3VyY2VJZDplfSkpLG8uc2V0RXZlbnRlZFBhcmVudChudWxsKSxvLmNsZWFyVGlsZXMoKSxvLm9uUmVtb3ZlJiZvLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuc2V0R2VvSlNPTlNvdXJjZURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpLnNldERhdGEoZSksdGhpcy5fY2hhbmdlZD0hMDt9LGkucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZXNbdF0mJnRoaXMuc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpfSxpLnByb3RvdHlwZS5hZGRMYXllcj1mdW5jdGlvbihlLGksbyl7dm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIHI9ZS5pZDtpZih0aGlzLmdldExheWVyKHIpKXRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignTGF5ZXIgd2l0aCBpZCAiJytyKyciIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwJykpKTtlbHNlIHt2YXIgYTtpZigiY3VzdG9tIj09PWUudHlwZSl7aWYoVWUodGhpcyx0LnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcihlKSkpcmV0dXJuO2E9dC5jcmVhdGVTdHlsZUxheWVyKGUpO31lbHNlIHtpZigib2JqZWN0Ij09dHlwZW9mIGUuc291cmNlJiYodGhpcy5hZGRTb3VyY2UocixlLnNvdXJjZSksZT10LmNsb25lJDEoZSksZT10LmV4dGVuZChlLHtzb3VyY2U6cn0pKSx0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUubGF5ZXIsImxheWVycy4iK3IsZSx7YXJyYXlJbmRleDotMX0sbykpcmV0dXJuO2E9dC5jcmVhdGVTdHlsZUxheWVyKGUpLHRoaXMuX3ZhbGlkYXRlTGF5ZXIoYSksYS5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDpyfX0pLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbYS5pZF09YS5zZXJpYWxpemUoKTt9dmFyIG49aT90aGlzLl9vcmRlci5pbmRleE9mKGkpOnRoaXMuX29yZGVyLmxlbmd0aDtpZihpJiYtMT09PW4pdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCdMYXllciB3aXRoIGlkICInK2krJyIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuJykpKTtlbHNlIHtpZih0aGlzLl9vcmRlci5zcGxpY2UobiwwLHIpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2xheWVyc1tyXT1hLHRoaXMuX3JlbW92ZWRMYXllcnNbcl0mJmEuc291cmNlJiYiY3VzdG9tIiE9PWEudHlwZSl7dmFyIHM9dGhpcy5fcmVtb3ZlZExheWVyc1tyXTtkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tyXSxzLnR5cGUhPT1hLnR5cGU/dGhpcy5fdXBkYXRlZFNvdXJjZXNbYS5zb3VyY2VdPSJjbGVhciI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Euc291cmNlXT0icmVsb2FkIix0aGlzLnNvdXJjZUNhY2hlc1thLnNvdXJjZV0ucGF1c2UoKSk7fXRoaXMuX3VwZGF0ZUxheWVyKGEpLGEub25BZGQmJmEub25BZGQodGhpcy5tYXApO319fSxpLnByb3RvdHlwZS5tb3ZlTGF5ZXI9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW2VdKXtpZihlIT09aSl7dmFyIG89dGhpcy5fb3JkZXIuaW5kZXhPZihlKTt0aGlzLl9vcmRlci5zcGxpY2UobywxKTt2YXIgcj1pP3RoaXMuX29yZGVyLmluZGV4T2YoaSk6dGhpcy5fb3JkZXIubGVuZ3RoO2kmJi0xPT09cj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0xheWVyIHdpdGggaWQgIicraSsnIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC4nKSkpOih0aGlzLl9vcmRlci5zcGxpY2UociwwLGUpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwKTt9fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC4iKSkpO30saS5wcm90b3R5cGUucmVtb3ZlTGF5ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgaT10aGlzLl9sYXllcnNbZV07aWYoaSl7aS5zZXRFdmVudGVkUGFyZW50KG51bGwpO3ZhciBvPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKG8sMSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9yZW1vdmVkTGF5ZXJzW2VdPWksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbZV0saS5vblJlbW92ZSYmaS5vblJlbW92ZSh0aGlzLm1hcCk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5ZXJzW3RdfSxpLnByb3RvdHlwZS5oYXNMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLl9sYXllcnN9LGkucHJvdG90eXBlLnNldExheWVyWm9vbVJhbmdlPWZ1bmN0aW9uKGUsaSxvKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciByPXRoaXMuZ2V0TGF5ZXIoZSk7cj9yLm1pbnpvb209PT1pJiZyLm1heHpvb209PT1vfHwobnVsbCE9aSYmKHIubWluem9vbT1pKSxudWxsIT1vJiYoci5tYXh6b29tPW8pLHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitlKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGhhdmUgem9vbSBleHRlbnQuIikpKTt9LGkucHJvdG90eXBlLnNldEZpbHRlcj1mdW5jdGlvbihlLGksbyl7dm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIHI9dGhpcy5nZXRMYXllcihlKTtpZihyKXtpZighdC5kZWVwRXF1YWwoci5maWx0ZXIsaSkpcmV0dXJuIG51bGw9PWk/KHIuZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKHQudmFsaWRhdGVTdHlsZS5maWx0ZXIsImxheWVycy4iK3IuaWQrIi5maWx0ZXIiLGksbnVsbCxvKXx8KHIuZmlsdGVyPXQuY2xvbmUkMShpKSx0aGlzLl91cGRhdGVMYXllcihyKSkpfWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC4iKSkpO30saS5wcm90b3R5cGUuZ2V0RmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNsb25lJDEodGhpcy5nZXRMYXllcihlKS5maWx0ZXIpfSxpLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbihlLGksbyxyKXt2b2lkIDA9PT1yJiYocj17fSksdGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgYT10aGlzLmdldExheWVyKGUpO2E/dC5kZWVwRXF1YWwoYS5nZXRMYXlvdXRQcm9wZXJ0eShpKSxvKXx8KGEuc2V0TGF5b3V0UHJvcGVydHkoaSxvLHIpLHRoaXMuX3VwZGF0ZUxheWVyKGEpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitlKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC4iKSkpO30saS5wcm90b3R5cGUuZ2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLmdldExheWVyKGUpO2lmKG8pcmV0dXJuIG8uZ2V0TGF5b3V0UHJvcGVydHkoaSk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuIikpKTt9LGkucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24oZSxpLG8scil7dm9pZCAwPT09ciYmKHI9e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGE9dGhpcy5nZXRMYXllcihlKTthP3QuZGVlcEVxdWFsKGEuZ2V0UGFpbnRQcm9wZXJ0eShpKSxvKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShpLG8scikmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbZV09ITApOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIGxheWVyICciK2UrIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIodCkuZ2V0UGFpbnRQcm9wZXJ0eShlKX0saS5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKGUsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgbz1lLnNvdXJjZSxyPWUuc291cmNlTGF5ZXIsYT10aGlzLnNvdXJjZUNhY2hlc1tvXTtpZih2b2lkIDAhPT1hKXt2YXIgbj1hLmdldFNvdXJjZSgpLnR5cGU7Imdlb2pzb24iPT09biYmcj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci4iKSkpOiJ2ZWN0b3IiIT09bnx8cj8odm9pZCAwPT09ZS5pZCYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC4iKSkpLGEuc2V0RmVhdHVyZVN0YXRlKHIsZS5pZCxpKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuIikpKTt9ZWxzZSB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBzb3VyY2UgJyIrbysiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuIikpKTt9LGkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTdGF0ZT1mdW5jdGlvbihlLGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89ZS5zb3VyY2Uscj10aGlzLnNvdXJjZUNhY2hlc1tvXTtpZih2b2lkIDAhPT1yKXt2YXIgYT1yLmdldFNvdXJjZSgpLnR5cGUsbj0idmVjdG9yIj09PWE/ZS5zb3VyY2VMYXllcjp2b2lkIDA7InZlY3RvciIhPT1hfHxuP2kmJiJzdHJpbmciIT10eXBlb2YgZS5pZCYmIm51bWJlciIhPXR5cGVvZiBlLmlkP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiQSBmZWF0dXJlIGlkIGlzIHJlcXVyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS4iKSkpOnIucmVtb3ZlRmVhdHVyZVN0YXRlKG4sZS5pZCxpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy4iKSkpO31lbHNlIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHNvdXJjZSAnIitvKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS4iKSkpO30saS5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGk9ZS5zb3VyY2Usbz1lLnNvdXJjZUxheWVyLHI9dGhpcy5zb3VyY2VDYWNoZXNbaV07aWYodm9pZCAwIT09cil7aWYoInZlY3RvciIhPT1yLmdldFNvdXJjZSgpLnR5cGV8fG8pcmV0dXJuIHZvaWQgMD09PWUuaWQmJnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQuIikpKSxyLmdldEZlYXR1cmVTdGF0ZShvLGUuaWQpO3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLiIpKSk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgc291cmNlICciK2krIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sdGhpcy5zdHlsZXNoZWV0JiZ0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmZpbHRlck9iamVjdCh7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHNvdXJjZXM6dC5tYXBPYmplY3QodGhpcy5zb3VyY2VDYWNoZXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNlcmlhbGl6ZSgpfSkpLGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSwoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR9KSl9LGkucHJvdG90eXBlLl91cGRhdGVMYXllcj1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVkTGF5ZXJzW3QuaWRdPSEwLHQuc291cmNlJiYhdGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5zb3VyY2VdJiYicmFzdGVyIiE9PXRoaXMuc291cmNlQ2FjaGVzW3Quc291cmNlXS5nZXRTb3VyY2UoKS50eXBlJiYodGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5zb3VyY2VdPSJyZWxvYWQiLHRoaXMuc291cmNlQ2FjaGVzW3Quc291cmNlXS5wYXVzZSgpKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxpPWZ1bmN0aW9uKHQpe3JldHVybiAiZmlsbC1leHRydXNpb24iPT09ZS5fbGF5ZXJzW3RdLnR5cGV9LG89e30scj1bXSxhPXRoaXMuX29yZGVyLmxlbmd0aC0xO2E+PTA7YS0tKXt2YXIgbj10aGlzLl9vcmRlclthXTtpZihpKG4pKXtvW25dPWE7Zm9yKHZhciBzPTAsbD10O3M8bC5sZW5ndGg7cys9MSl7dmFyIGM9bFtzXVtuXTtpZihjKWZvcih2YXIgdT0wLGg9Yzt1PGgubGVuZ3RoO3UrPTEpci5wdXNoKGhbdV0pO319fXIuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pbnRlcnNlY3Rpb25aLXQuaW50ZXJzZWN0aW9uWn0pKTtmb3IodmFyIHA9W10sZD10aGlzLl9vcmRlci5sZW5ndGgtMTtkPj0wO2QtLSl7dmFyIF89dGhpcy5fb3JkZXJbZF07aWYoaShfKSlmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIG09cltmXS5mZWF0dXJlO2lmKG9bbS5sYXllci5pZF08ZClicmVhaztwLnB1c2gobSksci5wb3AoKTt9ZWxzZSBmb3IodmFyIGc9MCx2PXQ7Zzx2Lmxlbmd0aDtnKz0xKXt2YXIgeT12W2ddW19dO2lmKHkpZm9yKHZhciB4PTAsYj15O3g8Yi5sZW5ndGg7eCs9MSlwLnB1c2goYlt4XS5mZWF0dXJlKTt9fXJldHVybiBwfSxpLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oZSxpLG8pe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyIixpLmZpbHRlcixudWxsLGkpO3ZhciByPXt9O2lmKGkmJmkubGF5ZXJzKXtpZighQXJyYXkuaXNBcnJheShpLmxheWVycykpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigicGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS4iKSkpLFtdO2Zvcih2YXIgYT0wLG49aS5sYXllcnM7YTxuLmxlbmd0aDthKz0xKXt2YXIgcz1uW2FdLGw9dGhpcy5fbGF5ZXJzW3NdO2lmKCFsKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitzKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHF1ZXJpZWQgZm9yIGZlYXR1cmVzLiIpKSksW107cltsLnNvdXJjZV09ITA7fX12YXIgYz1bXTtmb3IodmFyIHUgaW4gaS5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzLHRoaXMuc291cmNlQ2FjaGVzKWkubGF5ZXJzJiYhclt1XXx8Yy5wdXNoKE8odGhpcy5zb3VyY2VDYWNoZXNbdV0sdGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMsZSxpLG8pKTtyZXR1cm4gdGhpcy5wbGFjZW1lbnQmJmMucHVzaChmdW5jdGlvbih0LGUsaSxvLHIsYSxuKXtmb3IodmFyIHM9e30sbD1hLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKG8pLGM9W10sdT0wLGg9T2JqZWN0LmtleXMobCkubWFwKE51bWJlcik7dTxoLmxlbmd0aDt1Kz0xKWMucHVzaChuW2hbdV1dKTtjLnNvcnQoRik7Zm9yKHZhciBwPWZ1bmN0aW9uKCl7dmFyIGk9X1tkXSxvPWkuZmVhdHVyZUluZGV4Lmxvb2t1cFN5bWJvbEZlYXR1cmVzKGxbaS5idWNrZXRJbnN0YW5jZUlkXSxlLGkuYnVja2V0SW5kZXgsaS5zb3VyY2VMYXllckluZGV4LHIuZmlsdGVyLHIubGF5ZXJzLHIuYXZhaWxhYmxlSW1hZ2VzLHQpO2Zvcih2YXIgYSBpbiBvKXt2YXIgbj1zW2FdPXNbYV18fFtdLGM9b1thXTtjLnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIG89aS5mZWF0dXJlU29ydE9yZGVyO2lmKG8pe3ZhciByPW8uaW5kZXhPZih0LmZlYXR1cmVJbmRleCk7cmV0dXJuIG8uaW5kZXhPZihlLmZlYXR1cmVJbmRleCktcn1yZXR1cm4gZS5mZWF0dXJlSW5kZXgtdC5mZWF0dXJlSW5kZXh9KSk7Zm9yKHZhciB1PTAsaD1jO3U8aC5sZW5ndGg7dSs9MSluLnB1c2goaFt1XSk7fX0sZD0wLF89YztkPF8ubGVuZ3RoO2QrPTEpcCgpO3ZhciBmPWZ1bmN0aW9uKGUpe3NbZV0uZm9yRWFjaCgoZnVuY3Rpb24obyl7dmFyIHI9by5mZWF0dXJlLGE9aVt0W2VdLnNvdXJjZV0uZ2V0RmVhdHVyZVN0YXRlKHIubGF5ZXJbInNvdXJjZS1sYXllciJdLHIuaWQpO3Iuc291cmNlPXIubGF5ZXIuc291cmNlLHIubGF5ZXJbInNvdXJjZS1sYXllciJdJiYoci5zb3VyY2VMYXllcj1yLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSksci5zdGF0ZT1hO30pKTt9O2Zvcih2YXIgbSBpbiBzKWYobSk7cmV0dXJuIHN9KHRoaXMuX2xheWVycyx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLHRoaXMuc291cmNlQ2FjaGVzLGUsaSx0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCx0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSkpLHRoaXMuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhjKX0saS5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbihlLGkpe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlciIsaS5maWx0ZXIsbnVsbCxpKTt2YXIgbz10aGlzLnNvdXJjZUNhY2hlc1tlXTtyZXR1cm4gbz9mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFRpbGVCeUlEKGUpfSkpLG89W10scj17fSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBuPWlbYV0scz1uLnRpbGVJRC5jYW5vbmljYWwua2V5O3Jbc118fChyW3NdPSEwLG4ucXVlcnlTb3VyY2VGZWF0dXJlcyhvLGUpKTt9cmV0dXJuIG99KG8saSk6W119LGkucHJvdG90eXBlLmFkZFNvdXJjZVR5cGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLmdldFNvdXJjZVR5cGUodCk/byhuZXcgRXJyb3IoJ0Egc291cmNlIHR5cGUgY2FsbGVkICInK3QrJyIgYWxyZWFkeSBleGlzdHMuJykpOihpLnNldFNvdXJjZVR5cGUodCxlKSxlLndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoImxvYWRXb3JrZXJTb3VyY2UiLHtuYW1lOnQsdXJsOmUud29ya2VyU291cmNlVVJMfSxvKTpvKG51bGwsbnVsbCkpfSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89dGhpcy5saWdodC5nZXRMaWdodCgpLHI9ITE7Zm9yKHZhciBhIGluIGUpaWYoIXQuZGVlcEVxdWFsKGVbYV0sb1thXSkpe3I9ITA7YnJlYWt9aWYocil7dmFyIG49e25vdzp0LmJyb3dzZXIubm93KCksdHJhbnNpdGlvbjp0LmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX07dGhpcy5saWdodC5zZXRMaWdodChlLGkpLHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMobik7fX0saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKGUsaSxvLHIsYSl7cmV0dXJuIHZvaWQgMD09PWEmJihhPXt9KSwoIWF8fCExIT09YS52YWxpZGF0ZSkmJlVlKHRoaXMsZS5jYWxsKHQudmFsaWRhdGVTdHlsZSx0LmV4dGVuZCh7a2V5Omksc3R5bGU6dGhpcy5zZXJpYWxpemUoKSx2YWx1ZTpvLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30scikpKX0saS5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksdC5ldmVudGVkLm9mZigicGx1Z2luU3RhdGVDaGFuZ2UiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayksdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVyc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO2Zvcih2YXIgaSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tpXS5jbGVhclRpbGVzKCksdGhpcy5zb3VyY2VDYWNoZXNbaV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTt0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCk7fSxpLnByb3RvdHlwZS5fY2xlYXJTb3VyY2U9ZnVuY3Rpb24odCl7dGhpcy5zb3VyY2VDYWNoZXNbdF0uY2xlYXJUaWxlcygpO30saS5wcm90b3R5cGUuX3JlbG9hZFNvdXJjZT1mdW5jdGlvbih0KXt0aGlzLnNvdXJjZUNhY2hlc1t0XS5yZXN1bWUoKSx0aGlzLnNvdXJjZUNhY2hlc1t0XS5yZWxvYWQoKTt9LGkucHJvdG90eXBlLl91cGRhdGVTb3VyY2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tlXS51cGRhdGUodCk7fSxpLnByb3RvdHlwZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLl9yZWxvYWRTb3VyY2UodCk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUGxhY2VtZW50PWZ1bmN0aW9uKGUsaSxvLHIsYSl7dm9pZCAwPT09YSYmKGE9ITEpO2Zvcih2YXIgbj0hMSxzPSExLGw9e30sYz0wLHU9dGhpcy5fb3JkZXI7Yzx1Lmxlbmd0aDtjKz0xKXt2YXIgaD10aGlzLl9sYXllcnNbdVtjXV07aWYoInN5bWJvbCI9PT1oLnR5cGUpe2lmKCFsW2guc291cmNlXSl7dmFyIHA9dGhpcy5zb3VyY2VDYWNoZXNbaC5zb3VyY2VdO2xbaC5zb3VyY2VdPXAuZ2V0UmVuZGVyYWJsZUlkcyghMCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcC5nZXRUaWxlQnlJRCh0KX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnRpbGVJRC5vdmVyc2NhbGVkWi10LnRpbGVJRC5vdmVyc2NhbGVkWnx8KHQudGlsZUlELmlzTGVzc1RoYW4oZS50aWxlSUQpPy0xOjEpfSkpO312YXIgZD10aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LmFkZExheWVyKGgsbFtoLnNvdXJjZV0sZS5jZW50ZXIubG5nKTtuPW58fGQ7fX1pZih0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX29yZGVyKSwoKGE9YXx8dGhpcy5fbGF5ZXJPcmRlckNoYW5nZWR8fDA9PT1vKXx8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KHQuYnJvd3Nlci5ub3coKSxlLnpvb20pKSYmKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50PW5ldyBMZShlLHRoaXMuX29yZGVyLGEsaSxvLHIsdGhpcy5wbGFjZW1lbnQpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSExKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKT90aGlzLnBsYWNlbWVudC5zZXRTdGFsZSgpOih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlcix0aGlzLl9sYXllcnMsbCksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQodC5icm93c2VyLm5vdygpKSxzPSEwKSxuJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8bilmb3IodmFyIF89MCxmPXRoaXMuX29yZGVyO188Zi5sZW5ndGg7Xys9MSl7dmFyIG09dGhpcy5fbGF5ZXJzW2ZbX11dOyJzeW1ib2wiPT09bS50eXBlJiZ0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyhtLGxbbS5zb3VyY2VdKTt9cmV0dXJuICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKXx8dGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnModC5icm93c2VyLm5vdygpKX0saS5wcm90b3R5cGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbdF0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO30saS5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXMoZS5pY29ucyxpKSx0aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTt2YXIgbz10aGlzLnNvdXJjZUNhY2hlc1tlLnNvdXJjZV07byYmby5zZXREZXBlbmRlbmNpZXMoZS50aWxlSUQua2V5LGUudHlwZSxlLmljb25zKTt9LGkucHJvdG90eXBlLmdldEdseXBocz1mdW5jdGlvbih0LGUsaSl7dGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKGUuc3RhY2tzLGkpO30saS5wcm90b3R5cGUuZ2V0UmVzb3VyY2U9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0Lm1ha2VSZXF1ZXN0KGksbyl9LGl9KHQuRXZlbnRlZCk7cWUuZ2V0U291cmNlVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4ga1t0XX0scWUuc2V0U291cmNlVHlwZT1mdW5jdGlvbih0LGUpe2tbdF09ZTt9LHFlLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9dC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO3ZhciBWZT10LmNyZWF0ZUxheW91dChbe25hbWU6ImFfcG9zIix0eXBlOiJJbnQxNiIsY29tcG9uZW50czoyfV0pLEdlPWdpKCIjaWZkZWYgR0xfRVNcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuI2Vsc2VcbiNpZiAhZGVmaW5lZChsb3dwKVxuI2RlZmluZSBsb3dwXG4jZW5kaWZcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxuI2RlZmluZSBtZWRpdW1wXG4jZW5kaWZcbiNpZiAhZGVmaW5lZChoaWdocClcbiNkZWZpbmUgaGlnaHBcbiNlbmRpZlxuI2VuZGlmIiwiI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZWxzZVxuI2lmICFkZWZpbmVkKGxvd3ApXG4jZGVmaW5lIGxvd3BcbiNlbmRpZlxuI2lmICFkZWZpbmVkKG1lZGl1bXApXG4jZGVmaW5lIG1lZGl1bXBcbiNlbmRpZlxuI2lmICFkZWZpbmVkKGhpZ2hwKVxuI2RlZmluZSBoaWdocFxuI2VuZGlmXG4jZW5kaWZcbnZlYzIgdW5wYWNrX2Zsb2F0KGNvbnN0IGZsb2F0IHBhY2tlZFZhbHVlKSB7aW50IHBhY2tlZEludFZhbHVlPWludChwYWNrZWRWYWx1ZSk7aW50IHYwPXBhY2tlZEludFZhbHVlLzI1NjtyZXR1cm4gdmVjMih2MCxwYWNrZWRJbnRWYWx1ZS12MCoyNTYpO312ZWMyIHVucGFja19vcGFjaXR5KGNvbnN0IGZsb2F0IHBhY2tlZE9wYWNpdHkpIHtpbnQgaW50T3BhY2l0eT1pbnQocGFja2VkT3BhY2l0eSkvMjtyZXR1cm4gdmVjMihmbG9hdChpbnRPcGFjaXR5KS8xMjcuMCxtb2QocGFja2VkT3BhY2l0eSwyLjApKTt9dmVjNCBkZWNvZGVfY29sb3IoY29uc3QgdmVjMiBlbmNvZGVkQ29sb3IpIHtyZXR1cm4gdmVjNCh1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzBdKS8yNTUuMCx1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzFdKS8yNTUuMFxuKTt9ZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsY29uc3QgZmxvYXQgdCkge3JldHVybiBtaXgocGFja2VkVmFsdWVbMF0scGFja2VkVmFsdWVbMV0sdCk7fXZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycyxjb25zdCBmbG9hdCB0KSB7dmVjNCBtaW5Db2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMF0scGFja2VkQ29sb3JzWzFdKSk7dmVjNCBtYXhDb2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMl0scGFja2VkQ29sb3JzWzNdKSk7cmV0dXJuIG1peChtaW5Db2xvcixtYXhDb2xvcix0KTt9dmVjMiBnZXRfcGF0dGVybl9wb3MoY29uc3QgdmVjMiBwaXhlbF9jb29yZF91cHBlcixjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX2xvd2VyLGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLGNvbnN0IGZsb2F0IHRpbGVfdW5pdHNfdG9fcGl4ZWxzLGNvbnN0IHZlYzIgcG9zKSB7dmVjMiBvZmZzZXQ9bW9kKG1vZChtb2QocGl4ZWxfY29vcmRfdXBwZXIscGF0dGVybl9zaXplKSoyNTYuMCxwYXR0ZXJuX3NpemUpKjI1Ni4wK3BpeGVsX2Nvb3JkX2xvd2VyLHBhdHRlcm5fc2l6ZSk7cmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscypwb3Mrb2Zmc2V0KS9wYXR0ZXJuX3NpemU7fSIpLFdlPWdpKCJ1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yPXVfY29sb3IqdV9vcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxYZT1naSgidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHVfcGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peCh1X3BhdHRlcm5fdGxfYi91X3RleHNpemUsdV9wYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfbWl4KSp1X29wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3NjYWxlX2EqdV9wYXR0ZXJuX3NpemVfYSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9iKnVfcGF0dGVybl9zaXplX2IsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7fSIpLEhlPWdpKCJ2YXJ5aW5nIHZlYzMgdl9kYXRhO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcbnZlYzIgZXh0cnVkZT12X2RhdGEueHk7ZmxvYXQgZXh0cnVkZV9sZW5ndGg9bGVuZ3RoKGV4dHJ1ZGUpO2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj12X2RhdGEuejtmbG9hdCBhbnRpYWxpYXNlZF9ibHVyPS1tYXgoYmx1cixhbnRpYWxpYXNibHVyKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzZWRfYmx1cixleHRydWRlX2xlbmd0aC0xLjApO2Zsb2F0IGNvbG9yX3Q9c3Ryb2tlX3dpZHRoIDwgMC4wMSA/IDAuMCA6IHNtb290aHN0ZXAoYW50aWFsaWFzZWRfYmx1ciwwLjAsZXh0cnVkZV9sZW5ndGgtcmFkaXVzLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKSk7Z2xfRnJhZ0NvbG9yPW9wYWNpdHlfdCptaXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gYm9vbCB1X3NjYWxlX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMyB2X2RhdGE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XG52b2lkIG1haW4odm9pZCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcbnZlYzIgZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO3ZlYzIgY2lyY2xlX2NlbnRlcj1mbG9vcihhX3BvcyowLjUpO2lmICh1X3BpdGNoX3dpdGhfbWFwKSB7dmVjMiBjb3JuZXJfcG9zaXRpb249Y2lyY2xlX2NlbnRlcjtpZiAodV9zY2FsZV93aXRoX21hcCkge2Nvcm5lcl9wb3NpdGlvbis9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlO30gZWxzZSB7dmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KnZlYzQoY2lyY2xlX2NlbnRlciwwLDEpO2Nvcm5lcl9wb3NpdGlvbis9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKihwcm9qZWN0ZWRfY2VudGVyLncvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKTt9Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChjb3JuZXJfcG9zaXRpb24sMCwxKTt9IGVsc2Uge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoY2lyY2xlX2NlbnRlciwwLDEpO2lmICh1X3NjYWxlX3dpdGhfbWFwKSB7Z2xfUG9zaXRpb24ueHkrPWV4dHJ1ZGUqKHJhZGl1cytzdHJva2Vfd2lkdGgpKnVfZXh0cnVkZV9zY2FsZSp1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7fSBlbHNlIHtnbF9Qb3NpdGlvbi54eSs9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLnc7fX1sb3dwIGZsb2F0IGFudGlhbGlhc2JsdXI9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKTt2X2RhdGE9dmVjMyhleHRydWRlLngsZXh0cnVkZS55LGFudGlhbGlhc2JsdXIpO30iKSxLZT1naSgidm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7fSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxZZT1naSgidW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xfRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XG52b2lkIG1haW4odm9pZCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjNCBwb3M9dmVjNChmbG9vcihhX3BvcyowLjUpK2V4dHJ1ZGUsMCwxKTtnbF9Qb3NpdGlvbj11X21hdHJpeCpwb3M7fSIpLEplPWdpKCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2Zsb2F0IHQ9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpLnI7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIodCwwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqdV9vcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC4wKTtcbiNlbmRpZlxufSIsInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV93b3JsZCwwLDEpO3ZfcG9zLng9YV9wb3MueDt2X3Bvcy55PTEuMC1hX3Bvcy55O30iKSxRZT1naSgidmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7ZmxvYXQgYWxwaGE9MC41O2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDEuMCkqYWxwaGE7aWYgKHZfcGxhY2VkID4gMC41KSB7Z2xfRnJhZ0NvbG9yPXZlYzQoMC4wLDAuMCwxLjAsMC41KSphbHBoYTt9aWYgKHZfbm90VXNlZCA+IDAuNSkge2dsX0ZyYWdDb2xvcio9LjE7fX0iLCJhdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX2FuY2hvcl9wb3M7YXR0cmlidXRlIHZlYzIgYV9leHRydWRlO2F0dHJpYnV0ZSB2ZWMyIGFfcGxhY2VkO2F0dHJpYnV0ZSB2ZWMyIGFfc2hpZnQ7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfYW5jaG9yX3BvcywwLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMC4wLDEuMCk7Z2xfUG9zaXRpb24ueHkrPShhX2V4dHJ1ZGUrYV9zaGlmdCkqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7fSIpLCRlPWdpKCJ2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dm9pZCBtYWluKCkge2Zsb2F0IGFscGhhPTAuNSptaW4odl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IHN0cm9rZV9yYWRpdXM9MC45Km1heCh2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgZGlzdGFuY2VfdG9fY2VudGVyPWxlbmd0aCh2X2V4dHJ1ZGUpO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGRpc3RhbmNlX3RvX2NlbnRlci12X3JhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV9yYWRpdXMsMC4wLC1kaXN0YW5jZV90b19lZGdlKTt2ZWM0IGNvbG9yPW1peCh2ZWM0KDAuMCwwLjAsMS4wLDAuNSksdmVjNCgxLjAsMC4wLDAuMCwxLjApLHZfY29sbGlzaW9uKTtnbF9GcmFnQ29sb3I9Y29sb3IqYWxwaGEqb3BhY2l0eV90O30iLCJhdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9yYWRpdXM7YXR0cmlidXRlIHZlYzIgYV9mbGFnczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfaW52X21hdHJpeDt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydF9zaXplO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87dmFyeWluZyBmbG9hdCB2X2NvbGxpc2lvbjt2ZWMzIHRvVGlsZVBvc2l0aW9uKHZlYzIgc2NyZWVuUG9zKSB7dmVjNCByYXlTdGFydD11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsLTEuMCwxLjApO3ZlYzQgcmF5RW5kICA9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLCAxLjAsMS4wKTtyYXlTdGFydC54eXovPXJheVN0YXJ0Lnc7cmF5RW5kLnh5eiAgLz1yYXlFbmQudztoaWdocCBmbG9hdCB0PSgwLjAtcmF5U3RhcnQueikvKHJheUVuZC56LXJheVN0YXJ0LnopO3JldHVybiBtaXgocmF5U3RhcnQueHl6LHJheUVuZC54eXosdCk7fXZvaWQgbWFpbigpIHt2ZWMyIHF1YWRDZW50ZXJQb3M9YV9wb3M7ZmxvYXQgcmFkaXVzPWFfcmFkaXVzO2Zsb2F0IGNvbGxpc2lvbj1hX2ZsYWdzLng7ZmxvYXQgdmVydGV4SWR4PWFfZmxhZ3MueTt2ZWMyIHF1YWRWZXJ0ZXhPZmZzZXQ9dmVjMihtaXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49Mi4wKSksbWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTEuMCAmJiB2ZXJ0ZXhJZHggPD0yLjApKSk7dmVjMiBxdWFkVmVydGV4RXh0ZW50PXF1YWRWZXJ0ZXhPZmZzZXQqcmFkaXVzO3ZlYzMgdGlsZVBvcz10b1RpbGVQb3NpdGlvbihxdWFkQ2VudGVyUG9zKTt2ZWM0IGNsaXBQb3M9dV9tYXRyaXgqdmVjNCh0aWxlUG9zLDEuMCk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1jbGlwUG9zLnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKDAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsNC4wKTtmbG9hdCBwYWRkaW5nX2ZhY3Rvcj0xLjI7dl9yYWRpdXM9cmFkaXVzO3ZfZXh0cnVkZT1xdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yO3ZfcGVyc3BlY3RpdmVfcmF0aW89Y29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfY29sbGlzaW9uPWNvbGxpc2lvbjtnbF9Qb3NpdGlvbj12ZWM0KGNsaXBQb3MueHl6L2NsaXBQb3MudywxLjApK3ZlYzQocXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvci91X3ZpZXdwb3J0X3NpemUqMi4wLDAuMCwwLjApO30iKSx0aT1naSgidW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3I7dW5pZm9ybSBzYW1wbGVyMkQgdV9vdmVybGF5O3ZhcnlpbmcgdmVjMiB2X3V2O3ZvaWQgbWFpbigpIHt2ZWM0IG92ZXJsYXlfY29sb3I9dGV4dHVyZTJEKHVfb3ZlcmxheSx2X3V2KTtnbF9GcmFnQ29sb3I9bWl4KHVfY29sb3Isb3ZlcmxheV9jb2xvcixvdmVybGF5X2NvbG9yLmEpO30iLCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl91djt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X292ZXJsYXlfc2NhbGU7dm9pZCBtYWluKCkge3ZfdXY9YV9wb3MvODE5Mi4wO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV9vdmVybGF5X3NjYWxlLDAsMSk7fSIpLGVpPWdpKCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmdsX0ZyYWdDb2xvcj1jb2xvcipvcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxpaT1naSgidmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO2dsX0ZyYWdDb2xvcj1vdXRsaW5lX2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7fSIpLG9pPWdpKCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTtmbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfZmFkZSkqYWxwaGEqb3BhY2l0eTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlUmF0aW8sYV9wb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVSYXRpbyxhX3Bvcyk7dl9wb3M9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDt9Iikscmk9Z2koInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfZmFkZSkqb3BhY2l0eTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bztnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlWm9vbVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlWm9vbVJhdGlvLGFfcG9zKTt9IiksYWk9Z2koInZhcnlpbmcgdmVjNCB2X2NvbG9yO3ZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9dl9jb2xvcjtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWM0IGFfbm9ybWFsX2VkO3ZhcnlpbmcgdmVjNCB2X2NvbG9yO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBoZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbnZlYzMgbm9ybWFsPWFfbm9ybWFsX2VkLnh5ejtiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsaGVpZ2h0KTtmbG9hdCB0PW1vZChub3JtYWwueCwyLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsdCA+IDAuMCA/IGhlaWdodCA6IGJhc2UsMSk7ZmxvYXQgY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLzE2Mzg0LjAsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLGRpcmVjdGlvbmFsKTtpZiAobm9ybWFsLnkgIT0wLjApIHtkaXJlY3Rpb25hbCo9KCgxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLG1peCgwLjcsMC45OCwxLjAtdV9saWdodGludGVuc2l0eSksMS4wKSkpO312X2NvbG9yLnIrPWNsYW1wKGNvbG9yLnIqZGlyZWN0aW9uYWwqdV9saWdodGNvbG9yLnIsbWl4KDAuMCwwLjMsMS4wLXVfbGlnaHRjb2xvci5yKSwxLjApO3ZfY29sb3IuZys9Y2xhbXAoY29sb3IuZypkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IuZyxtaXgoMC4wLDAuMywxLjAtdV9saWdodGNvbG9yLmcpLDEuMCk7dl9jb2xvci5iKz1jbGFtcChjb2xvci5iKmRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvci5iLG1peCgwLjAsMC4zLDEuMC11X2xpZ2h0Y29sb3IuYiksMS4wKTt2X2NvbG9yKj11X29wYWNpdHk7fSIpLG5pPWdpKCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bF9hL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2EvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7dmVjMiBpbWFnZWNvb3JkX2I9bW9kKHZfcG9zX2IsMS4wKTt2ZWMyIHBvczI9bWl4KHBhdHRlcm5fdGxfYi91X3RleHNpemUscGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO3ZlYzQgbWl4ZWRDb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO2dsX0ZyYWdDb2xvcj1taXhlZENvbG9yKnZfbGlnaHRpbmc7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NjYWxlO3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjNCBhX25vcm1hbF9lZDt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVSYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWMzIG5vcm1hbD1hX25vcm1hbF9lZC54eXo7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfbm9ybWFsX2VkLnc7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bztiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsaGVpZ2h0KTtmbG9hdCB0PW1vZChub3JtYWwueCwyLjApO2Zsb2F0IHo9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvcyx6LDEpO3ZlYzIgcG9zPW5vcm1hbC54PT0xLjAgJiYgbm9ybWFsLnk9PTAuMCAmJiBub3JtYWwuej09MTYzODQuMFxuPyBhX3Bvc1xuOiB2ZWMyKGVkZ2VkaXN0YW5jZSx6KnVfaGVpZ2h0X2ZhY3Rvcik7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlUmF0aW8scG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlUmF0aW8scG9zKTt2X2xpZ2h0aW5nPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLzE2MzgzLjAsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPSgoMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9dl9saWdodGluZy5yZ2IrPWNsYW1wKGRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTt9Iiksc2k9Z2koIiNpZmRlZiBHTF9FU1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuI2VuZGlmXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9kaW1lbnNpb247dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSBmbG9hdCB1X21heHpvb207dW5pZm9ybSB2ZWM0IHVfdW5wYWNrO2Zsb2F0IGdldEVsZXZhdGlvbih2ZWMyIGNvb3JkLGZsb2F0IGJpYXMpIHt2ZWM0IGRhdGE9dGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpKjI1NS4wO2RhdGEuYT0tMS4wO3JldHVybiBkb3QoZGF0YSx1X3VucGFjaykvNC4wO312b2lkIG1haW4oKSB7dmVjMiBlcHNpbG9uPTEuMC91X2RpbWVuc2lvbjtmbG9hdCBhPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsLWVwc2lsb24ueSksMC4wKTtmbG9hdCBiPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsLWVwc2lsb24ueSksMC4wKTtmbG9hdCBjPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwtZXBzaWxvbi55KSwwLjApO2Zsb2F0IGQ9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwwKSwwLjApO2Zsb2F0IGU9Z2V0RWxldmF0aW9uKHZfcG9zLDAuMCk7ZmxvYXQgZj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsMCksMC4wKTtmbG9hdCBnPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsZXBzaWxvbi55KSwwLjApO2Zsb2F0IGg9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpLDAuMCk7ZmxvYXQgaT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsZXBzaWxvbi55KSwwLjApO2Zsb2F0IGV4YWdnZXJhdGlvbj11X3pvb20gPCAyLjAgPyAwLjQgOiB1X3pvb20gPCA0LjUgPyAwLjM1IDogMC4zO3ZlYzIgZGVyaXY9dmVjMigoYytmK2YraSktKGErZCtkK2cpLChnK2graCtpKS0oYStiK2IrYykpLyBwb3coMi4wLCh1X3pvb20tdV9tYXh6b29tKSpleGFnZ2VyYXRpb24rMTkuMjU2Mi11X3pvb20pO2dsX0ZyYWdDb2xvcj1jbGFtcCh2ZWM0KGRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9IiksbGk9Z2koInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2xhdHJhbmdlO3VuaWZvcm0gdmVjMiB1X2xpZ2h0O3VuaWZvcm0gdmVjNCB1X3NoYWRvdzt1bmlmb3JtIHZlYzQgdV9oaWdobGlnaHQ7dW5pZm9ybSB2ZWM0IHVfYWNjZW50O1xuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xudm9pZCBtYWluKCkge3ZlYzQgcGl4ZWw9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpO3ZlYzIgZGVyaXY9KChwaXhlbC5yZyoyLjApLTEuMCk7ZmxvYXQgc2NhbGVGYWN0b3I9Y29zKHJhZGlhbnMoKHVfbGF0cmFuZ2VbMF0tdV9sYXRyYW5nZVsxXSkqKDEuMC12X3Bvcy55KSt1X2xhdHJhbmdlWzFdKSk7ZmxvYXQgc2xvcGU9YXRhbigxLjI1Kmxlbmd0aChkZXJpdikvc2NhbGVGYWN0b3IpO2Zsb2F0IGFzcGVjdD1kZXJpdi54ICE9MC4wID8gYXRhbihkZXJpdi55LC1kZXJpdi54KSA6IFBJLzIuMCooZGVyaXYueSA+IDAuMCA/IDEuMCA6LTEuMCk7ZmxvYXQgaW50ZW5zaXR5PXVfbGlnaHQueDtmbG9hdCBhemltdXRoPXVfbGlnaHQueStQSTtmbG9hdCBiYXNlPTEuODc1LWludGVuc2l0eSoxLjc1O2Zsb2F0IG1heFZhbHVlPTAuNSpQSTtmbG9hdCBzY2FsZWRTbG9wZT1pbnRlbnNpdHkgIT0wLjUgPyAoKHBvdyhiYXNlLHNsb3BlKS0xLjApLyhwb3coYmFzZSxtYXhWYWx1ZSktMS4wKSkqbWF4VmFsdWUgOiBzbG9wZTtmbG9hdCBhY2NlbnQ9Y29zKHNjYWxlZFNsb3BlKTt2ZWM0IGFjY2VudF9jb2xvcj0oMS4wLWFjY2VudCkqdV9hY2NlbnQqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtmbG9hdCBzaGFkZT1hYnMobW9kKChhc3BlY3QrYXppbXV0aCkvUEkrMC41LDIuMCktMS4wKTt2ZWM0IHNoYWRlX2NvbG9yPW1peCh1X3NoYWRvdyx1X2hpZ2hsaWdodCxzaGFkZSkqc2luKHNjYWxlZFNsb3BlKSpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2dsX0ZyYWdDb2xvcj1hY2NlbnRfY29sb3IqKDEuMC1zaGFkZV9jb2xvci5hKStzaGFkZV9jb2xvcjtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDt9IiksY2k9Z2koInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbzt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgaGlnaHAgZmxvYXQgdl9saW5lc29mYXI7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2X2xpbmVzb2Zhcj0oZmxvb3IoYV9kYXRhLnovNC4wKSthX2RhdGEudyo2NC4wKSoyLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdC91X3JhdGlvLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIvdV9yYXRpbywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTt2X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7fSIpLHVpPWdpKCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfbGluZXByb2dyZXNzO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UsdmVjMih2X2xpbmVwcm9ncmVzcywwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsIlxuI2RlZmluZSBNQVhfTElORV9ESVNUQU5DRSAzMjc2Ny4wXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbzt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgaGlnaHAgZmxvYXQgdl9saW5lcHJvZ3Jlc3M7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dl9saW5lcHJvZ3Jlc3M9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqMi4wL01BWF9MSU5FX0RJU1RBTkNFO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpzY2FsZTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqc2NhbGUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QvdV9yYXRpbywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyL3VfcmF0aW8sMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO30iKSxoaT1naSgidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zY2FsZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlWm9vbVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87dmVjMiBwYXR0ZXJuX3NpemVfYT12ZWMyKGRpc3BsYXlfc2l6ZV9hLngqZnJvbVNjYWxlL3RpbGVab29tUmF0aW8sZGlzcGxheV9zaXplX2EueSk7dmVjMiBwYXR0ZXJuX3NpemVfYj12ZWMyKGRpc3BsYXlfc2l6ZV9iLngqdG9TY2FsZS90aWxlWm9vbVJhdGlvLGRpc3BsYXlfc2l6ZV9iLnkpO2Zsb2F0IGFzcGVjdF9hPWRpc3BsYXlfc2l6ZV9hLnkvdl93aWR0aDtmbG9hdCBhc3BlY3RfYj1kaXNwbGF5X3NpemVfYi55L3Zfd2lkdGg7ZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2Zsb2F0IHhfYT1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplX2EueCphc3BlY3RfYSwxLjApO2Zsb2F0IHhfYj1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplX2IueCphc3BlY3RfYiwxLjApO2Zsb2F0IHk9MC41KnZfbm9ybWFsLnkrMC41O3ZlYzIgdGV4ZWxfc2l6ZT0xLjAvdV90ZXhzaXplO3ZlYzIgcG9zX2E9bWl4KHBhdHRlcm5fdGxfYSp0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icl9hKnRleGVsX3NpemUrdGV4ZWxfc2l6ZSx2ZWMyKHhfYSx5KSk7dmVjMiBwb3NfYj1taXgocGF0dGVybl90bF9iKnRleGVsX3NpemUtdGV4ZWxfc2l6ZSxwYXR0ZXJuX2JyX2IqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeF9iLHkpKTt2ZWM0IGNvbG9yPW1peCh0ZXh0dXJlMkQodV9pbWFnZSxwb3NfYSksdGV4dHVyZTJEKHVfaW1hZ2UscG9zX2IpLHVfZmFkZSk7Z2xfRnJhZ0NvbG9yPWNvbG9yKmFscGhhKm9wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG4jZGVmaW5lIExJTkVfRElTVEFOQ0VfU0NBTEUgMi4wXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcmF0aW87dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7ZmxvYXQgYV9saW5lc29mYXI9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqTElORV9ESVNUQU5DRV9TQ0FMRTt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0L3VfcmF0aW8sMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mi91X3JhdGlvLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO3ZfbGluZXNvZmFyPWFfbGluZXNvZmFyO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt2X3dpZHRoPWZsb29yd2lkdGg7fSIpLHBpPWdpKCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfc2RmZ2FtbWE7dW5pZm9ybSBmbG9hdCB1X21peDt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG5mbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgc2RmZGlzdF9hPXRleHR1cmUyRCh1X2ltYWdlLHZfdGV4X2EpLmE7ZmxvYXQgc2RmZGlzdF9iPXRleHR1cmUyRCh1X2ltYWdlLHZfdGV4X2IpLmE7ZmxvYXQgc2RmZGlzdD1taXgoc2RmZGlzdF9hLHNkZmRpc3RfYix1X21peCk7YWxwaGEqPXNtb290aHN0ZXAoMC41LXVfc2RmZ2FtbWEvZmxvb3J3aWR0aCwwLjUrdV9zZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XG4jZGVmaW5lIExJTkVfRElTVEFOQ0VfU0NBTEUgMi4wXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbzt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSB2ZWMyIHVfcGF0dGVybnNjYWxlX2E7dW5pZm9ybSBmbG9hdCB1X3RleF95X2E7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybnNjYWxlX2I7dW5pZm9ybSBmbG9hdCB1X3RleF95X2I7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfdGV4X2E7dmFyeWluZyB2ZWMyIHZfdGV4X2I7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7ZmxvYXQgYV9saW5lc29mYXI9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqTElORV9ESVNUQU5DRV9TQ0FMRTt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0L3VfcmF0aW8sMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mi91X3JhdGlvLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO3ZfdGV4X2E9dmVjMihhX2xpbmVzb2Zhcip1X3BhdHRlcm5zY2FsZV9hLngvZmxvb3J3aWR0aCxub3JtYWwueSp1X3BhdHRlcm5zY2FsZV9hLnkrdV90ZXhfeV9hKTt2X3RleF9iPXZlYzIoYV9saW5lc29mYXIqdV9wYXR0ZXJuc2NhbGVfYi54L2Zsb29yd2lkdGgsbm9ybWFsLnkqdV9wYXR0ZXJuc2NhbGVfYi55K3VfdGV4X3lfYik7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO30iKSxkaT1naSgidW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfbG93O3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2hpZ2g7dW5pZm9ybSBmbG9hdCB1X3NhdHVyYXRpb25fZmFjdG9yO3VuaWZvcm0gZmxvYXQgdV9jb250cmFzdF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc3Bpbl93ZWlnaHRzO3ZvaWQgbWFpbigpIHt2ZWM0IGNvbG9yMD10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZTEsdl9wb3MxKTtpZiAoY29sb3IwLmEgPiAwLjApIHtjb2xvcjAucmdiPWNvbG9yMC5yZ2IvY29sb3IwLmE7fWlmIChjb2xvcjEuYSA+IDAuMCkge2NvbG9yMS5yZ2I9Y29sb3IxLnJnYi9jb2xvcjEuYTt9dmVjNCBjb2xvcj1taXgoY29sb3IwLGNvbG9yMSx1X2ZhZGVfdCk7Y29sb3IuYSo9dV9vcGFjaXR5O3ZlYzMgcmdiPWNvbG9yLnJnYjtyZ2I9dmVjMyhkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnh5eiksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy56eHkpLGRvdChyZ2IsdV9zcGluX3dlaWdodHMueXp4KSk7ZmxvYXQgYXZlcmFnZT0oY29sb3Iucitjb2xvci5nK2NvbG9yLmIpLzMuMDtyZ2IrPShhdmVyYWdlLXJnYikqdV9zYXR1cmF0aW9uX2ZhY3RvcjtyZ2I9KHJnYi0wLjUpKnVfY29udHJhc3RfZmFjdG9yKzAuNTt2ZWMzIHVfaGlnaF92ZWM9dmVjMyh1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyk7dmVjMyB1X2xvd192ZWM9dmVjMyh1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCk7Z2xfRnJhZ0NvbG9yPXZlYzQobWl4KHVfaGlnaF92ZWMsdV9sb3dfdmVjLHJnYikqY29sb3IuYSxjb2xvci5hKTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdGxfcGFyZW50O3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9wYXJlbnQ7dW5pZm9ybSBmbG9hdCB1X2J1ZmZlcl9zY2FsZTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3BvczA7dmFyeWluZyB2ZWMyIHZfcG9zMTt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zMD0oKChhX3RleHR1cmVfcG9zLzgxOTIuMCktMC41KS91X2J1ZmZlcl9zY2FsZSApKzAuNTt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7fSIpLF9pPWdpKCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG5sb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqdl9mYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmUsdl90ZXgpKmFscGhhO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzO2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7YXR0cmlidXRlIHZlYzQgYV9waXhlbG9mZnNldDthdHRyaWJ1dGUgdmVjMyBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfcGl0Y2g7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfZGF0YS54eTt2ZWMyIGFfc2l6ZT1hX2RhdGEuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTt2ZWMyIGFfbWluRm9udFNjYWxlPWFfcGl4ZWxvZmZzZXQuencvMjU2LjA7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzJdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRQb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsNC4wKTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrdmVjMigxLDApLDAsMSk7dmVjMiBhPXByb2plY3RlZFBvaW50Lnh5L3Byb2plY3RlZFBvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZFBvaW50Lnh5L29mZnNldFByb2plY3RlZFBvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO31oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTt2ZWM0IHByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksMC4wLDEuMCk7Z2xfUG9zaXRpb249dV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3Mudytyb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqbWF4KGFfbWluRm9udFNjYWxlLGZvbnRTY2FsZSkrYV9weG9mZnNldC8xNi4wKSwwLjAsMS4wKTt2X3RleD1hX3RleC91X3RleHNpemU7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO3ZfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKDEuMCxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTt9IiksZmk9Z2koIiNkZWZpbmUgU0RGX1BYIDguMFxudW5pZm9ybSBib29sIHVfaXNfaGFsbzt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3ZhcnlpbmcgdmVjMiB2X2RhdGEwO3ZhcnlpbmcgdmVjMyB2X2RhdGExO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcbmZsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7aWYgKHVfaXNfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZTJEKHVfdGV4dHVyZSx0ZXgpLmE7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7Z2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiY29uc3QgZmxvYXQgUEk9My4xNDE1OTI2NTM1ODk3OTM7YXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWMzIGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3BpdGNoO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt2YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfZGF0YS54eTt2ZWMyIGFfc2l6ZT1hX2RhdGEuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbMl07ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcCgwLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCw0LjApO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0UHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3Bvcyt2ZWMyKDEsMCksMCwxKTt2ZWMyIGE9cHJvamVjdGVkUG9pbnQueHkvcHJvamVjdGVkUG9pbnQudzt2ZWMyIGI9b2Zmc2V0UHJvamVjdGVkUG9pbnQueHkvb2Zmc2V0UHJvamVjdGVkUG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fWhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO3ZlYzQgcHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSwwLjAsMS4wKTtnbF9Qb3NpdGlvbj11X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K3JvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250U2NhbGUrYV9weG9mZnNldCksMC4wLDEuMCk7ZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbigxLjAsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7dl9kYXRhMD1hX3RleC91X3RleHNpemU7dl9kYXRhMT12ZWMzKGdhbW1hX3NjYWxlLHNpemUsaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSk7fSIpLG1pPWdpKCIjZGVmaW5lIFNERl9QWCA4LjBcbiNkZWZpbmUgU0RGIDEuMFxuI2RlZmluZSBJQ09OIDAuMFxudW5pZm9ybSBib29sIHVfaXNfaGFsbzt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlX2ljb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzQgdl9kYXRhMDt2YXJ5aW5nIHZlYzQgdl9kYXRhMTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXG5mbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtpZiAodl9kYXRhMS53PT1JQ09OKSB7dmVjMiB0ZXhfaWNvbj12X2RhdGEwLnp3O2xvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSpmYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmVfaWNvbix0ZXhfaWNvbikqYWxwaGE7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG5yZXR1cm47fXZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbztmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZm9udFNjYWxlPXNpemUvMjQuMDtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtpZiAodV9pc19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlMkQodV90ZXh0dXJlLHRleCkuYTtoaWdocCBmbG9hdCBnYW1tYV9zY2FsZWQ9Z2FtbWEqZ2FtbWFfc2NhbGU7aGlnaHAgZmxvYXQgYWxwaGE9c21vb3Roc3RlcChidWZmLWdhbW1hX3NjYWxlZCxidWZmK2dhbW1hX3NjYWxlZCxkaXN0KTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzthdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9kYXRhO2F0dHJpYnV0ZSB2ZWMzIGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3BpdGNoO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplX2ljb247dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX2RhdGEueHk7dmVjMiBhX3NpemU9YV9kYXRhLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7ZmxvYXQgaXNfc2RmPWFfc2l6ZVswXS0yLjAqYV9zaXplX21pbjtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbMl07ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcCgwLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCw0LjApO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRTY2FsZT1zaXplLzI0LjA7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRQcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRQb2ludC54eS9wcm9qZWN0ZWRQb2ludC53O3ZlYzIgYj1vZmZzZXRQcm9qZWN0ZWRQb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRQb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9aGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7dmVjNCBwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LDAuMCwxLjApO2dsX1Bvc2l0aW9uPXVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrcm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRTY2FsZSksMC4wLDEuMCk7ZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbigxLjAsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7dl9kYXRhMC54eT1hX3RleC91X3RleHNpemU7dl9kYXRhMC56dz1hX3RleC91X3RleHNpemVfaWNvbjt2X2RhdGExPXZlYzQoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5LGlzX3NkZik7fSIpO2Z1bmN0aW9uIGdpKHQsZSl7dmFyIGk9LyNwcmFnbWEgbWFwYm94OiAoW1x3XSspIChbXHddKykgKFtcd10rKSAoW1x3XSspL2csbz17fTtyZXR1cm4ge2ZyYWdtZW50U291cmNlOnQ9dC5yZXBsYWNlKGksKGZ1bmN0aW9uKHQsZSxpLHIsYSl7cmV0dXJuIG9bYV09ITAsImRlZmluZSI9PT1lPyJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxudmFyeWluZyAiK2krIiAiK3IrIiAiK2ErIjtcbiNlbHNlXG51bmlmb3JtICIraSsiICIrcisiIHVfIithKyI7XG4jZW5kaWZcbiI6IlxuI2lmZGVmIEhBU19VTklGT1JNX3VfIithKyJcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiJ9KSksdmVydGV4U291cmNlOmU9ZS5yZXBsYWNlKGksKGZ1bmN0aW9uKHQsZSxpLHIsYSl7dmFyIG49ImZsb2F0Ij09PXI/InZlYzIiOiJ2ZWM0IixzPWEubWF0Y2goL2NvbG9yLyk/ImNvbG9yIjpuO3JldHVybiBvW2FdPyJkZWZpbmUiPT09ZT8iXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfIithKyJcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyIrYSsiX3Q7XG5hdHRyaWJ1dGUgIitpKyIgIituKyIgYV8iK2ErIjtcbnZhcnlpbmcgIitpKyIgIityKyIgIithKyI7XG4jZWxzZVxudW5pZm9ybSAiK2krIiAiK3IrIiB1XyIrYSsiO1xuI2VuZGlmXG4iOiJ2ZWM0Ij09PXM/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIithKyIgPSBhXyIrYSsiO1xuI2Vsc2VcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiI6IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIithKyIgPSB1bnBhY2tfbWl4XyIrcysiKGFfIithKyIsIHVfIithKyJfdCk7XG4jZWxzZVxuICAgICIraSsiICIrcisiICIrYSsiID0gdV8iK2ErIjtcbiNlbmRpZlxuIjoiZGVmaW5lIj09PWU/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8iK2ErIl90O1xuYXR0cmlidXRlICIraSsiICIrbisiIGFfIithKyI7XG4jZWxzZVxudW5pZm9ybSAiK2krIiAiK3IrIiB1XyIrYSsiO1xuI2VuZGlmXG4iOiJ2ZWM0Ij09PXM/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIitpKyIgIityKyIgIithKyIgPSBhXyIrYSsiO1xuI2Vsc2VcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiI6IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIitpKyIgIityKyIgIithKyIgPSB1bnBhY2tfbWl4XyIrcysiKGFfIithKyIsIHVfIithKyJfdCk7XG4jZWxzZVxuICAgICIraSsiICIrcisiICIrYSsiID0gdV8iK2ErIjtcbiNlbmRpZlxuIn0pKX19dmFyIHZpPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHByZWx1ZGU6R2UsYmFja2dyb3VuZDpXZSxiYWNrZ3JvdW5kUGF0dGVybjpYZSxjaXJjbGU6SGUsY2xpcHBpbmdNYXNrOktlLGhlYXRtYXA6WWUsaGVhdG1hcFRleHR1cmU6SmUsY29sbGlzaW9uQm94OlFlLGNvbGxpc2lvbkNpcmNsZTokZSxkZWJ1Zzp0aSxmaWxsOmVpLGZpbGxPdXRsaW5lOmlpLGZpbGxPdXRsaW5lUGF0dGVybjpvaSxmaWxsUGF0dGVybjpyaSxmaWxsRXh0cnVzaW9uOmFpLGZpbGxFeHRydXNpb25QYXR0ZXJuOm5pLGhpbGxzaGFkZVByZXBhcmU6c2ksaGlsbHNoYWRlOmxpLGxpbmU6Y2ksbGluZUdyYWRpZW50OnVpLGxpbmVQYXR0ZXJuOmhpLGxpbmVTREY6cGkscmFzdGVyOmRpLHN5bWJvbEljb246X2ksc3ltYm9sU0RGOmZpLHN5bWJvbFRleHRBbmRJY29uOm1pfSkseWk9ZnVuY3Rpb24oKXt0aGlzLmJvdW5kUHJvZ3JhbT1udWxsLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9bnVsbCx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcj1udWxsLHRoaXMudmFvPW51bGw7fTt5aS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMpe3RoaXMuY29udGV4dD10O2Zvcih2YXIgbD10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PW8ubGVuZ3RoLGM9MDshbCYmYzxvLmxlbmd0aDtjKyspdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tjXSE9PW9bY10mJihsPSEwKTt0LmV4dFZlcnRleEFycmF5T2JqZWN0JiZ0aGlzLnZhbyYmdGhpcy5ib3VuZFByb2dyYW09PT1lJiZ0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPT09aSYmIWwmJnRoaXMuYm91bmRJbmRleEJ1ZmZlcj09PXImJnRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9PT1hJiZ0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcj09PW4mJnRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyMj09PXM/KHQuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyksbiYmbi5iaW5kKCksciYmci5keW5hbWljRHJhdyYmci5iaW5kKCkscyYmcy5iaW5kKCkpOnRoaXMuZnJlc2hCaW5kKGUsaSxvLHIsYSxuLHMpO30seWkucHJvdG90eXBlLmZyZXNoQmluZD1mdW5jdGlvbih0LGUsaSxvLHIsYSxuKXt2YXIgcyxsPXQubnVtQXR0cmlidXRlcyxjPXRoaXMuY29udGV4dCx1PWMuZ2w7aWYoYy5leHRWZXJ0ZXhBcnJheU9iamVjdCl0aGlzLnZhbyYmdGhpcy5kZXN0cm95KCksdGhpcy52YW89Yy5leHRWZXJ0ZXhBcnJheU9iamVjdC5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpLGMuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbykscz0wLHRoaXMuYm91bmRQcm9ncmFtPXQsdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj1lLHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnM9aSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9byx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PXIsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXI9YSx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjI9bjtlbHNlIHtzPWMuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKHZhciBoPWw7aDxzO2grKyl1LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShoKTt9ZS5lbmFibGVBdHRyaWJ1dGVzKHUsdCk7Zm9yKHZhciBwPTAsZD1pO3A8ZC5sZW5ndGg7cCs9MSlkW3BdLmVuYWJsZUF0dHJpYnV0ZXModSx0KTthJiZhLmVuYWJsZUF0dHJpYnV0ZXModSx0KSxuJiZuLmVuYWJsZUF0dHJpYnV0ZXModSx0KSxlLmJpbmQoKSxlLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKHUsdCxyKTtmb3IodmFyIF89MCxmPWk7XzxmLmxlbmd0aDtfKz0xKXt2YXIgbT1mW19dO20uYmluZCgpLG0uc2V0VmVydGV4QXR0cmliUG9pbnRlcnModSx0LHIpO31hJiYoYS5iaW5kKCksYS5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyh1LHQscikpLG8mJm8uYmluZCgpLG4mJihuLmJpbmQoKSxuLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKHUsdCxyKSksYy5jdXJyZW50TnVtQXR0cmlidXRlcz1sO30seWkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZhbyYmKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyksdGhpcy52YW89bnVsbCk7fTt2YXIgeGk9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10LmdsO3RoaXMucHJvZ3JhbT1hLmNyZWF0ZVByb2dyYW0oKTt2YXIgbj1pP2kuZGVmaW5lcygpOltdO3ImJm4ucHVzaCgiI2RlZmluZSBPVkVSRFJBV19JTlNQRUNUT1I7Iik7dmFyIHM9bi5jb25jYXQoR2UuZnJhZ21lbnRTb3VyY2UsZS5mcmFnbWVudFNvdXJjZSkuam9pbigiXG4iKSxsPW4uY29uY2F0KEdlLnZlcnRleFNvdXJjZSxlLnZlcnRleFNvdXJjZSkuam9pbigiXG4iKSxjPWEuY3JlYXRlU2hhZGVyKGEuRlJBR01FTlRfU0hBREVSKTtpZihhLmlzQ29udGV4dExvc3QoKSl0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwO2Vsc2Uge2Euc2hhZGVyU291cmNlKGMscyksYS5jb21waWxlU2hhZGVyKGMpLGEuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxjKTt2YXIgdT1hLmNyZWF0ZVNoYWRlcihhLlZFUlRFWF9TSEFERVIpO2lmKGEuaXNDb250ZXh0TG9zdCgpKXRoaXMuZmFpbGVkVG9DcmVhdGU9ITA7ZWxzZSB7YS5zaGFkZXJTb3VyY2UodSxsKSxhLmNvbXBpbGVTaGFkZXIodSksYS5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLHUpO2Zvcih2YXIgaD1pP2kubGF5b3V0QXR0cmlidXRlczpbXSxwPTA7cDxoLmxlbmd0aDtwKyspYS5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLHAsaFtwXS5uYW1lKTthLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSksYS5kZWxldGVTaGFkZXIodSksYS5kZWxldGVTaGFkZXIoYyksdGhpcy5udW1BdHRyaWJ1dGVzPWEuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sYS5BQ1RJVkVfQVRUUklCVVRFUyksdGhpcy5hdHRyaWJ1dGVzPXt9O2Zvcih2YXIgZD17fSxfPTA7Xzx0aGlzLm51bUF0dHJpYnV0ZXM7XysrKXt2YXIgZj1hLmdldEFjdGl2ZUF0dHJpYih0aGlzLnByb2dyYW0sXyk7ZiYmKHRoaXMuYXR0cmlidXRlc1tmLm5hbWVdPWEuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLGYubmFtZSkpO31mb3IodmFyIG09YS5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSxhLkFDVElWRV9VTklGT1JNUyksZz0wO2c8bTtnKyspe3ZhciB2PWEuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLnByb2dyYW0sZyk7diYmKGRbdi5uYW1lXT1hLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sdi5uYW1lKSk7fXRoaXMuZml4ZWRVbmlmb3Jtcz1vKHQsZCksdGhpcy5iaW5kZXJVbmlmb3Jtcz1pP2kuZ2V0VW5pZm9ybXModCxkKTpbXTt9fX07ZnVuY3Rpb24gYmkodCxlLGkpe3ZhciBvPTEvcGUoaSwxLGUudHJhbnNmb3JtLnRpbGVab29tKSxyPU1hdGgucG93KDIsaS50aWxlSUQub3ZlcnNjYWxlZFopLGE9aS50aWxlU2l6ZSpNYXRoLnBvdygyLGUudHJhbnNmb3JtLnRpbGVab29tKS9yLG49YSooaS50aWxlSUQuY2Fub25pY2FsLngraS50aWxlSUQud3JhcCpyKSxzPWEqaS50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3NjYWxlOltvLHQuZnJvbVNjYWxlLHQudG9TY2FsZV0sdV9mYWRlOnQudCx1X3BpeGVsX2Nvb3JkX3VwcGVyOltuPj4xNixzPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmbiw2NTUzNSZzXX19eGkucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8sZil7dmFyIG0sZz10LmdsO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtmb3IodmFyIHYgaW4gdC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLHQuc2V0RGVwdGhNb2RlKGkpLHQuc2V0U3RlbmNpbE1vZGUobyksdC5zZXRDb2xvck1vZGUociksdC5zZXRDdWxsRmFjZShhKSx0aGlzLmZpeGVkVW5pZm9ybXMpdGhpcy5maXhlZFVuaWZvcm1zW3ZdLnNldChuW3ZdKTtkJiZkLnNldFVuaWZvcm1zKHQsdGhpcy5iaW5kZXJVbmlmb3JtcyxoLHt6b29tOnB9KTtmb3IodmFyIHk9KG09e30sbVtnLkxJTkVTXT0yLG1bZy5UUklBTkdMRVNdPTMsbVtnLkxJTkVfU1RSSVBdPTEsbSlbZV0seD0wLGI9dS5nZXQoKTt4PGIubGVuZ3RoO3grPTEpe3ZhciB3PWJbeF0sVD13LnZhb3N8fCh3LnZhb3M9e30pOyhUW3NdfHwoVFtzXT1uZXcgeWkpKS5iaW5kKHQsdGhpcyxsLGQ/ZC5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLHcudmVydGV4T2Zmc2V0LF8sZiksZy5kcmF3RWxlbWVudHMoZSx3LnByaW1pdGl2ZUxlbmd0aCp5LGcuVU5TSUdORURfU0hPUlQsdy5wcmltaXRpdmVPZmZzZXQqeSoyKTt9fX07dmFyIHdpPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPWkuc3R5bGUubGlnaHQsbj1hLnByb3BlcnRpZXMuZ2V0KCJwb3NpdGlvbiIpLHM9W24ueCxuLnksbi56XSxsPXQuY3JlYXRlJDEoKTsidmlld3BvcnQiPT09YS5wcm9wZXJ0aWVzLmdldCgiYW5jaG9yIikmJnQuZnJvbVJvdGF0aW9uKGwsLWkudHJhbnNmb3JtLmFuZ2xlKSx0LnRyYW5zZm9ybU1hdDMocyxzLGwpO3ZhciBjPWEucHJvcGVydGllcy5nZXQoImNvbG9yIik7cmV0dXJuIHt1X21hdHJpeDplLHVfbGlnaHRwb3M6cyx1X2xpZ2h0aW50ZW5zaXR5OmEucHJvcGVydGllcy5nZXQoImludGVuc2l0eSIpLHVfbGlnaHRjb2xvcjpbYy5yLGMuZyxjLmJdLHVfdmVydGljYWxfZ3JhZGllbnQ6K28sdV9vcGFjaXR5OnJ9fSxUaT1mdW5jdGlvbihlLGksbyxyLGEsbixzKXtyZXR1cm4gdC5leHRlbmQod2koZSxpLG8sciksYmkobixpLHMpLHt1X2hlaWdodF9mYWN0b3I6LU1hdGgucG93KDIsYS5vdmVyc2NhbGVkWikvcy50aWxlU2l6ZS84fSl9LEVpPWZ1bmN0aW9uKHQpe3JldHVybiB7dV9tYXRyaXg6dH19LElpPWZ1bmN0aW9uKGUsaSxvLHIpe3JldHVybiB0LmV4dGVuZChFaShlKSxiaShvLGkscikpfSxQaT1mdW5jdGlvbih0LGUpe3JldHVybiB7dV9tYXRyaXg6dCx1X3dvcmxkOmV9fSxTaT1mdW5jdGlvbihlLGksbyxyLGEpe3JldHVybiB0LmV4dGVuZChJaShlLGksbyxyKSx7dV93b3JsZDphfSl9LENpPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhLG4scz1lLnRyYW5zZm9ybTtpZigibWFwIj09PXIucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Iikpe3ZhciBsPXBlKG8sMSxzLnpvb20pO2E9ITAsbj1bbCxsXTt9ZWxzZSBhPSExLG49cy5waXhlbHNUb0dMVW5pdHM7cmV0dXJuIHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6cy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfc2NhbGVfd2l0aF9tYXA6KygibWFwIj09PXIucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtc2NhbGUiKSksdV9tYXRyaXg6ZS50cmFuc2xhdGVQb3NNYXRyaXgoaS5wb3NNYXRyaXgsbyxyLnBhaW50LmdldCgiY2lyY2xlLXRyYW5zbGF0ZSIpLHIucGFpbnQuZ2V0KCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciIpKSx1X3BpdGNoX3dpdGhfbWFwOithLHVfZGV2aWNlX3BpeGVsX3JhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHVfZXh0cnVkZV9zY2FsZTpufX0semk9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXBlKGksMSxlLnpvb20pLHI9TWF0aC5wb3coMixlLnpvb20taS50aWxlSUQub3ZlcnNjYWxlZFopLGE9aS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCk7cmV0dXJuIHt1X21hdHJpeDp0LHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTplLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9waXhlbHNfdG9fdGlsZV91bml0czpvLHVfZXh0cnVkZV9zY2FsZTpbZS5waXhlbHNUb0dMVW5pdHNbMF0vKG8qciksZS5waXhlbHNUb0dMVW5pdHNbMV0vKG8qcildLHVfb3ZlcnNjYWxlX2ZhY3RvcjphfX0sRGk9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB7dV9tYXRyaXg6dCx1X2ludl9tYXRyaXg6ZSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6aS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfdmlld3BvcnRfc2l6ZTpbaS53aWR0aCxpLmhlaWdodF19fSxNaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTEpLHt1X21hdHJpeDp0LHVfY29sb3I6ZSx1X292ZXJsYXk6MCx1X292ZXJsYXlfc2NhbGU6aX19LEFpPWZ1bmN0aW9uKHQpe3JldHVybiB7dV9tYXRyaXg6dH19LExpPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB7dV9tYXRyaXg6dCx1X2V4dHJ1ZGVfc2NhbGU6cGUoZSwxLGkpLHVfaW50ZW5zaXR5Om99fSxSaT1mdW5jdGlvbihlLGksbyl7dmFyIHI9ZS50cmFuc2Zvcm07cmV0dXJuIHt1X21hdHJpeDpVaShlLGksbyksdV9yYXRpbzoxL3BlKGksMSxyLnpvb20pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHVfdW5pdHNfdG9fcGl4ZWxzOlsxL3IucGl4ZWxzVG9HTFVuaXRzWzBdLDEvci5waXhlbHNUb0dMVW5pdHNbMV1dfX0sa2k9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0LmV4dGVuZChSaShlLGksbykse3VfaW1hZ2U6MH0pfSxCaT1mdW5jdGlvbihlLGksbyxyKXt2YXIgYT1lLnRyYW5zZm9ybSxuPUZpKGksYSk7cmV0dXJuIHt1X21hdHJpeDpVaShlLGksbyksdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3JhdGlvOjEvcGUoaSwxLGEuem9vbSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdV9pbWFnZTowLHVfc2NhbGU6W24sci5mcm9tU2NhbGUsci50b1NjYWxlXSx1X2ZhZGU6ci50LHVfdW5pdHNfdG9fcGl4ZWxzOlsxL2EucGl4ZWxzVG9HTFVuaXRzWzBdLDEvYS5waXhlbHNUb0dMVW5pdHNbMV1dfX0sT2k9ZnVuY3Rpb24oZSxpLG8scixhKXt2YXIgbj1lLmxpbmVBdGxhcyxzPUZpKGksZS50cmFuc2Zvcm0pLGw9InJvdW5kIj09PW8ubGF5b3V0LmdldCgibGluZS1jYXAiKSxjPW4uZ2V0RGFzaChyLmZyb20sbCksdT1uLmdldERhc2goci50byxsKSxoPWMud2lkdGgqYS5mcm9tU2NhbGUscD11LndpZHRoKmEudG9TY2FsZTtyZXR1cm4gdC5leHRlbmQoUmkoZSxpLG8pLHt1X3BhdHRlcm5zY2FsZV9hOltzL2gsLWMuaGVpZ2h0LzJdLHVfcGF0dGVybnNjYWxlX2I6W3MvcCwtdS5oZWlnaHQvMl0sdV9zZGZnYW1tYTpuLndpZHRoLygyNTYqTWF0aC5taW4oaCxwKSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbykvMix1X2ltYWdlOjAsdV90ZXhfeV9hOmMueSx1X3RleF95X2I6dS55LHVfbWl4OmEudH0pfTtmdW5jdGlvbiBGaSh0LGUpe3JldHVybiAxL3BlKHQsMSxlLnRpbGVab29tKX1mdW5jdGlvbiBVaSh0LGUsaSl7cmV0dXJuIHQudHJhbnNsYXRlUG9zTWF0cml4KGUudGlsZUlELnBvc01hdHJpeCxlLGkucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZSIpLGkucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiKSl9dmFyIE5pPWZ1bmN0aW9uKHQsZSxpLG8scil7cmV0dXJuIHt1X21hdHJpeDp0LHVfdGxfcGFyZW50OmUsdV9zY2FsZV9wYXJlbnQ6aSx1X2J1ZmZlcl9zY2FsZToxLHVfZmFkZV90Om8ubWl4LHVfb3BhY2l0eTpvLm9wYWNpdHkqci5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5IiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6ci5wYWludC5nZXQoInJhc3Rlci1icmlnaHRuZXNzLW1pbiIpLHVfYnJpZ2h0bmVzc19oaWdoOnIucGFpbnQuZ2V0KCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiKSx1X3NhdHVyYXRpb25fZmFjdG9yOihuPXIucGFpbnQuZ2V0KCJyYXN0ZXItc2F0dXJhdGlvbiIpLG4+MD8xLTEvKDEuMDAxLW4pOi1uKSx1X2NvbnRyYXN0X2ZhY3RvcjooYT1yLnBhaW50LmdldCgicmFzdGVyLWNvbnRyYXN0IiksYT4wPzEvKDEtYSk6MSthKSx1X3NwaW5fd2VpZ2h0czpaaShyLnBhaW50LmdldCgicmFzdGVyLWh1ZS1yb3RhdGUiKSl9O3ZhciBhLG47fTtmdW5jdGlvbiBaaSh0KXt0Kj1NYXRoLlBJLzE4MDt2YXIgZT1NYXRoLnNpbih0KSxpPU1hdGguY29zKHQpO3JldHVybiBbKDIqaSsxKS8zLCgtTWF0aC5zcXJ0KDMpKmUtaSsxKS8zLChNYXRoLnNxcnQoMykqZS1pKzEpLzNdfXZhciBqaSxxaT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMsbCxjKXt2YXIgdT1yLnRyYW5zZm9ybTtyZXR1cm4ge3VfaXNfc2l6ZV96b29tX2NvbnN0YW50OisoImNvbnN0YW50Ij09PXR8fCJzb3VyY2UiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KygiY29uc3RhbnQiPT09dHx8ImNhbWVyYSI9PT10KSx1X3NpemVfdDplP2UudVNpemVUOjAsdV9zaXplOmU/ZS51U2l6ZTowLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTp1LmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9waXRjaDp1LnBpdGNoLzM2MCoyKk1hdGguUEksdV9yb3RhdGVfc3ltYm9sOitpLHVfYXNwZWN0X3JhdGlvOnUud2lkdGgvdS5oZWlnaHQsdV9mYWRlX2NoYW5nZTpyLm9wdGlvbnMuZmFkZUR1cmF0aW9uP3Iuc3ltYm9sRmFkZUNoYW5nZToxLHVfbWF0cml4OmEsdV9sYWJlbF9wbGFuZV9tYXRyaXg6bix1X2Nvb3JkX21hdHJpeDpzLHVfaXNfdGV4dDorbCx1X3BpdGNoX3dpdGhfbWFwOitvLHVfdGV4c2l6ZTpjLHVfdGV4dHVyZTowfX0sVmk9ZnVuY3Rpb24oZSxpLG8scixhLG4scyxsLGMsdSxoKXt2YXIgcD1hLnRyYW5zZm9ybTtyZXR1cm4gdC5leHRlbmQocWkoZSxpLG8scixhLG4scyxsLGMsdSkse3VfZ2FtbWFfc2NhbGU6cj9NYXRoLmNvcyhwLl9waXRjaCkqcC5jYW1lcmFUb0NlbnRlckRpc3RhbmNlOjEsdV9kZXZpY2VfcGl4ZWxfcmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdV9pc19oYWxvOitofSl9LEdpPWZ1bmN0aW9uKGUsaSxvLHIsYSxuLHMsbCxjLHUpe3JldHVybiB0LmV4dGVuZChWaShlLGksbyxyLGEsbixzLGwsITAsYywhMCkse3VfdGV4c2l6ZV9pY29uOnUsdV90ZXh0dXJlX2ljb246MX0pfSxXaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHt1X21hdHJpeDp0LHVfb3BhY2l0eTplLHVfY29sb3I6aX19LFhpPWZ1bmN0aW9uKGUsaSxvLHIsYSxuKXtyZXR1cm4gdC5leHRlbmQoZnVuY3Rpb24odCxlLGksbyl7dmFyIHI9aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybih0LmZyb20udG9TdHJpbmcoKSksYT1pLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKHQudG8udG9TdHJpbmcoKSksbj1pLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKSxzPW4ud2lkdGgsbD1uLmhlaWdodCxjPU1hdGgucG93KDIsby50aWxlSUQub3ZlcnNjYWxlZFopLHU9by50aWxlU2l6ZSpNYXRoLnBvdygyLGkudHJhbnNmb3JtLnRpbGVab29tKS9jLGg9dSooby50aWxlSUQuY2Fub25pY2FsLngrby50aWxlSUQud3JhcCpjKSxwPXUqby50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsX2E6ci50bCx1X3BhdHRlcm5fYnJfYTpyLmJyLHVfcGF0dGVybl90bF9iOmEudGwsdV9wYXR0ZXJuX2JyX2I6YS5icix1X3RleHNpemU6W3MsbF0sdV9taXg6ZS50LHVfcGF0dGVybl9zaXplX2E6ci5kaXNwbGF5U2l6ZSx1X3BhdHRlcm5fc2l6ZV9iOmEuZGlzcGxheVNpemUsdV9zY2FsZV9hOmUuZnJvbVNjYWxlLHVfc2NhbGVfYjplLnRvU2NhbGUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL3BlKG8sMSxpLnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbaD4+MTYscD4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JmgsNjU1MzUmcF19fShyLG4sbyxhKSx7dV9tYXRyaXg6ZSx1X29wYWNpdHk6aX0pfSxIaT17ZmlsbEV4dHJ1c2lvbjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9saWdodHBvczpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfbGlnaHRwb3MpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2xpZ2h0aW50ZW5zaXR5KSx1X2xpZ2h0Y29sb3I6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0Y29sb3IpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3ZlcnRpY2FsX2dyYWRpZW50KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpfX0sZmlsbEV4dHJ1c2lvblBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGlnaHRwb3M6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0cG9zKSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9saWdodGludGVuc2l0eSksdV9saWdodGNvbG9yOm5ldyB0LlVuaWZvcm0zZihlLGkudV9saWdodGNvbG9yKSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyB0LlVuaWZvcm0xZihlLGkudV92ZXJ0aWNhbF9ncmFkaWVudCksdV9oZWlnaHRfZmFjdG9yOm5ldyB0LlVuaWZvcm0xZihlLGkudV9oZWlnaHRfZmFjdG9yKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF91cHBlciksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfbG93ZXIpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpLHVfb3BhY2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3BhY2l0eSl9fSxmaWxsOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KX19LGZpbGxQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF91cHBlciksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfbG93ZXIpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpfX0sZmlsbE91dGxpbmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfd29ybGQ6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3dvcmxkKX19LGZpbGxPdXRsaW5lUGF0dGVybjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV93b3JsZDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfd29ybGQpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV9zY2FsZTpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfc2NhbGUpLHVfZmFkZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZSl9fSxjaXJjbGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9zY2FsZV93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfc2NhbGVfd2l0aF9tYXApLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0sY29sbGlzaW9uQm94OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpeGVsc190b190aWxlX3VuaXRzKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfb3ZlcnNjYWxlX2ZhY3RvcjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3ZlcnNjYWxlX2ZhY3Rvcil9fSxjb2xsaXNpb25DaXJjbGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfaW52X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfaW52X21hdHJpeCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSx1X3ZpZXdwb3J0X3NpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3ZpZXdwb3J0X3NpemUpfX0sZGVidWc6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfY29sb3I6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2NvbG9yKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X292ZXJsYXk6bmV3IHQuVW5pZm9ybTFpKGUsaS51X292ZXJsYXkpLHVfb3ZlcmxheV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3ZlcmxheV9zY2FsZSl9fSxjbGlwcGluZ01hc2s6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0saGVhdG1hcDpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9leHRydWRlX3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9leHRydWRlX3NjYWxlKSx1X2ludGVuc2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfaW50ZW5zaXR5KSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KX19LGhlYXRtYXBUZXh0dXJlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3dvcmxkOm5ldyB0LlVuaWZvcm0yZihlLGkudV93b3JsZCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfY29sb3JfcmFtcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfY29sb3JfcmFtcCksdV9vcGFjaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9vcGFjaXR5KX19LGhpbGxzaGFkZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfbGF0cmFuZ2U6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2xhdHJhbmdlKSx1X2xpZ2h0Om5ldyB0LlVuaWZvcm0yZihlLGkudV9saWdodCksdV9zaGFkb3c6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X3NoYWRvdyksdV9oaWdobGlnaHQ6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2hpZ2hsaWdodCksdV9hY2NlbnQ6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2FjY2VudCl9fSxoaWxsc2hhZGVQcmVwYXJlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV9kaW1lbnNpb246bmV3IHQuVW5pZm9ybTJmKGUsaS51X2RpbWVuc2lvbiksdV96b29tOm5ldyB0LlVuaWZvcm0xZihlLGkudV96b29tKSx1X21heHpvb206bmV3IHQuVW5pZm9ybTFmKGUsaS51X21heHpvb20pLHVfdW5wYWNrOm5ldyB0LlVuaWZvcm00ZihlLGkudV91bnBhY2spfX0sbGluZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB0LlVuaWZvcm0yZihlLGkudV91bml0c190b19waXhlbHMpfX0sbGluZUdyYWRpZW50OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9yYXRpbyksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2RldmljZV9waXhlbF9yYXRpbyksdV91bml0c190b19waXhlbHM6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3VuaXRzX3RvX3BpeGVscyksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpfX0sbGluZVBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdW5pdHNfdG9fcGl4ZWxzKSx1X3NjYWxlOm5ldyB0LlVuaWZvcm0zZihlLGkudV9zY2FsZSksdV9mYWRlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlKX19LGxpbmVTREY6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X3JhdGlvKSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZGV2aWNlX3BpeGVsX3JhdGlvKSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdW5pdHNfdG9fcGl4ZWxzKSx1X3BhdHRlcm5zY2FsZV9hOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuc2NhbGVfYSksdV9wYXR0ZXJuc2NhbGVfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybnNjYWxlX2IpLHVfc2RmZ2FtbWE6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NkZmdhbW1hKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhfeV9hOm5ldyB0LlVuaWZvcm0xZihlLGkudV90ZXhfeV9hKSx1X3RleF95X2I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3RleF95X2IpLHVfbWl4Om5ldyB0LlVuaWZvcm0xZihlLGkudV9taXgpfX0scmFzdGVyOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3RsX3BhcmVudDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGxfcGFyZW50KSx1X3NjYWxlX3BhcmVudDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2NhbGVfcGFyZW50KSx1X2J1ZmZlcl9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnVmZmVyX3NjYWxlKSx1X2ZhZGVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV90KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfaW1hZ2UwOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZTApLHVfaW1hZ2UxOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZTEpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2JyaWdodG5lc3NfbG93KSx1X2JyaWdodG5lc3NfaGlnaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnJpZ2h0bmVzc19oaWdoKSx1X3NhdHVyYXRpb25fZmFjdG9yOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zYXR1cmF0aW9uX2ZhY3RvciksdV9jb250cmFzdF9mYWN0b3I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NvbnRyYXN0X2ZhY3RvciksdV9zcGluX3dlaWdodHM6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NwaW5fd2VpZ2h0cyl9fSxzeW1ib2xJY29uOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV96b29tX2NvbnN0YW50KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSx1X3NpemVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2l6ZV90KSx1X3NpemU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9waXRjaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcGl0Y2gpLHVfcm90YXRlX3N5bWJvbDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcm90YXRlX3N5bWJvbCksdV9hc3BlY3RfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2FzcGVjdF9yYXRpbyksdV9mYWRlX2NoYW5nZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV9jaGFuZ2UpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9sYWJlbF9wbGFuZV9tYXRyaXgpLHVfY29vcmRfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9jb29yZF9tYXRyaXgpLHVfaXNfdGV4dDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfdGV4dCksdV9waXRjaF93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcGl0Y2hfd2l0aF9tYXApLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV90ZXh0dXJlOm5ldyB0LlVuaWZvcm0xaShlLGkudV90ZXh0dXJlKX19LHN5bWJvbFNERjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfem9vbV9jb25zdGFudCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCksdV9zaXplX3Q6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemVfdCksdV9zaXplOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zaXplKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl0Y2g6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpdGNoKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3JvdGF0ZV9zeW1ib2wpLHVfYXNwZWN0X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9hc3BlY3RfcmF0aW8pLHVfZmFkZV9jaGFuZ2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGVfY2hhbmdlKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbGFiZWxfcGxhbmVfbWF0cml4KSx1X2Nvb3JkX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfY29vcmRfbWF0cml4KSx1X2lzX3RleHQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3RleHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfdGV4dHVyZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfdGV4dHVyZSksdV9nYW1tYV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZ2FtbWFfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfaXNfaGFsbzpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfaGFsbyl9fSxzeW1ib2xUZXh0QW5kSWNvbjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfem9vbV9jb25zdGFudCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCksdV9zaXplX3Q6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemVfdCksdV9zaXplOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zaXplKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl0Y2g6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpdGNoKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3JvdGF0ZV9zeW1ib2wpLHVfYXNwZWN0X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9hc3BlY3RfcmF0aW8pLHVfZmFkZV9jaGFuZ2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGVfY2hhbmdlKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbGFiZWxfcGxhbmVfbWF0cml4KSx1X2Nvb3JkX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfY29vcmRfbWF0cml4KSx1X2lzX3RleHQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3RleHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfdGV4c2l6ZV9pY29uOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplX2ljb24pLHVfdGV4dHVyZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfdGV4dHVyZSksdV90ZXh0dXJlX2ljb246bmV3IHQuVW5pZm9ybTFpKGUsaS51X3RleHR1cmVfaWNvbiksdV9nYW1tYV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZ2FtbWFfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfaXNfaGFsbzpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfaGFsbyl9fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfY29sb3I6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2NvbG9yKX19LGJhY2tncm91bmRQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3BhdHRlcm5fdGxfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl90bF9hKSx1X3BhdHRlcm5fYnJfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9icl9hKSx1X3BhdHRlcm5fdGxfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl90bF9iKSx1X3BhdHRlcm5fYnJfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9icl9iKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfbWl4Om5ldyB0LlVuaWZvcm0xZihlLGkudV9taXgpLHVfcGF0dGVybl9zaXplX2E6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BhdHRlcm5fc2l6ZV9hKSx1X3BhdHRlcm5fc2l6ZV9iOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX3NpemVfYiksdV9zY2FsZV9hOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zY2FsZV9hKSx1X3NjYWxlX2I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NjYWxlX2IpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfdGlsZV91bml0c190b19waXhlbHMpfX19O2Z1bmN0aW9uIEtpKGUsaSxvLHIsYSxuLHMpe2Zvcih2YXIgbD1lLmNvbnRleHQsYz1sLmdsLHU9ZS51c2VQcm9ncmFtKCJjb2xsaXNpb25Cb3giKSxoPVtdLHA9MCxkPTAsXz0wO188ci5sZW5ndGg7XysrKXt2YXIgZj1yW19dLG09aS5nZXRUaWxlKGYpLGc9bS5nZXRCdWNrZXQobyk7aWYoZyl7dmFyIHY9Zi5wb3NNYXRyaXg7MD09PWFbMF0mJjA9PT1hWzFdfHwodj1lLnRyYW5zbGF0ZVBvc01hdHJpeChmLnBvc01hdHJpeCxtLGEsbikpO3ZhciB5PXM/Zy50ZXh0Q29sbGlzaW9uQm94OmcuaWNvbkNvbGxpc2lvbkJveCx4PWcuY29sbGlzaW9uQ2lyY2xlQXJyYXk7aWYoeC5sZW5ndGg+MCl7dmFyIGI9dC5jcmVhdGUoKSx3PXY7dC5tdWwoYixnLnBsYWNlbWVudEludlByb2pNYXRyaXgsZS50cmFuc2Zvcm0uZ2xDb29yZE1hdHJpeCksdC5tdWwoYixiLGcucGxhY2VtZW50Vmlld3BvcnRNYXRyaXgpLGgucHVzaCh7Y2lyY2xlQXJyYXk6eCxjaXJjbGVPZmZzZXQ6ZCx0cmFuc2Zvcm06dyxpbnZUcmFuc2Zvcm06Yn0pLGQ9cCs9eC5sZW5ndGgvNDt9eSYmdS5kcmF3KGwsYy5MSU5FUyxJdC5kaXNhYmxlZCxQdC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxDdC5kaXNhYmxlZCx6aSh2LGUudHJhbnNmb3JtLG0pLG8uaWQseS5sYXlvdXRWZXJ0ZXhCdWZmZXIseS5pbmRleEJ1ZmZlcix5LnNlZ21lbnRzLG51bGwsZS50cmFuc2Zvcm0uem9vbSxudWxsLG51bGwseS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpO319aWYocyYmaC5sZW5ndGgpe3ZhciBUPWUudXNlUHJvZ3JhbSgiY29sbGlzaW9uQ2lyY2xlIiksRT1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2O0UucmVzaXplKDQqcCksRS5fdHJpbSgpO2Zvcih2YXIgST0wLFA9MCxTPWg7UDxTLmxlbmd0aDtQKz0xKWZvcih2YXIgQz1TW1BdLHo9MDt6PEMuY2lyY2xlQXJyYXkubGVuZ3RoLzQ7eisrKXt2YXIgRD00KnosTT1DLmNpcmNsZUFycmF5W0QrMF0sQT1DLmNpcmNsZUFycmF5W0QrMV0sTD1DLmNpcmNsZUFycmF5W0QrMl0sUj1DLmNpcmNsZUFycmF5W0QrM107RS5lbXBsYWNlKEkrKyxNLEEsTCxSLDApLEUuZW1wbGFjZShJKyssTSxBLEwsUiwxKSxFLmVtcGxhY2UoSSsrLE0sQSxMLFIsMiksRS5lbXBsYWNlKEkrKyxNLEEsTCxSLDMpO30oIWppfHxqaS5sZW5ndGg8MipwKSYmKGppPWZ1bmN0aW9uKGUpe3ZhciBpPTIqZSxvPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0M3VpNjtvLnJlc2l6ZShpKSxvLl90cmltKCk7Zm9yKHZhciByPTA7cjxpO3IrKyl7dmFyIGE9NipyO28udWludDE2W2ErMF09NCpyKzAsby51aW50MTZbYSsxXT00KnIrMSxvLnVpbnQxNlthKzJdPTQqcisyLG8udWludDE2W2ErM109NCpyKzIsby51aW50MTZbYSs0XT00KnIrMyxvLnVpbnQxNlthKzVdPTQqciswO31yZXR1cm4gb30ocCkpO2Zvcih2YXIgaz1sLmNyZWF0ZUluZGV4QnVmZmVyKGppLCEwKSxCPWwuY3JlYXRlVmVydGV4QnVmZmVyKEUsdC5jb2xsaXNpb25DaXJjbGVMYXlvdXQubWVtYmVycywhMCksTz0wLEY9aDtPPEYubGVuZ3RoO08rPTEpe3ZhciBVPUZbT10sTj1EaShVLnRyYW5zZm9ybSxVLmludlRyYW5zZm9ybSxlLnRyYW5zZm9ybSk7VC5kcmF3KGwsYy5UUklBTkdMRVMsSXQuZGlzYWJsZWQsUHQuZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksQ3QuZGlzYWJsZWQsTixvLmlkLEIsayx0LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDIqVS5jaXJjbGVPZmZzZXQsVS5jaXJjbGVBcnJheS5sZW5ndGgsVS5jaXJjbGVBcnJheS5sZW5ndGgvMiksbnVsbCxlLnRyYW5zZm9ybS56b29tLG51bGwsbnVsbCxudWxsKTt9Qi5kZXN0cm95KCksay5kZXN0cm95KCk7fX12YXIgWWk9dC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7ZnVuY3Rpb24gSmkoZSxpLG8scixhLG4pe3ZhciBzPXQuZ2V0QW5jaG9yQWxpZ25tZW50KGUpLGw9LShzLmhvcml6b250YWxBbGlnbi0uNSkqaSxjPS0ocy52ZXJ0aWNhbEFsaWduLS41KSpvLHU9dC5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0KGUscik7cmV0dXJuIG5ldyB0LlBvaW50KChsL2ErdVswXSkqbiwoYy9hK3VbMV0pKm4pfWZ1bmN0aW9uIFFpKGUsaSxvLHIsYSxuLHMsbCxjLHUsaCl7dmFyIHA9ZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LGQ9ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxfPWUuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksZj17fTtkLmNsZWFyKCk7Zm9yKHZhciBtPTA7bTxwLmxlbmd0aDttKyspe3ZhciBnPXAuZ2V0KG0pLHY9Zy5oaWRkZW58fCFnLmNyb3NzVGlsZUlEfHxlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiFnLnBsYWNlZE9yaWVudGF0aW9uP251bGw6cltnLmNyb3NzVGlsZUlEXTtpZih2KXt2YXIgeT1uZXcgdC5Qb2ludChnLmFuY2hvclgsZy5hbmNob3JZKSx4PSR0KHksbz9sOnMpLGI9dGUobi5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHguc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhKSx3PWEuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShlLnRleHRTaXplRGF0YSx1LGcpKmIvdC5PTkVfRU07byYmKHcqPWUudGlsZVBpeGVsUmF0aW8vYyk7Zm9yKHZhciBUPUppKHYuYW5jaG9yLHYud2lkdGgsdi5oZWlnaHQsdi50ZXh0T2Zmc2V0LHYudGV4dEJveFNjYWxlLHcpLEU9bz8kdCh5LmFkZChUKSxzKS5wb2ludDp4LnBvaW50LmFkZChpP1Qucm90YXRlKC1uLmFuZ2xlKTpUKSxJPWUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZy5wbGFjZWRPcmllbnRhdGlvbj09PXQuV3JpdGluZ01vZGUudmVydGljYWw/TWF0aC5QSS8yOjAsUD0wO1A8Zy5udW1HbHlwaHM7UCsrKXQuYWRkRHluYW1pY0F0dHJpYnV0ZXMoZCxFLEkpO2gmJmcuYXNzb2NpYXRlZEljb25JbmRleD49MCYmKGZbZy5hc3NvY2lhdGVkSWNvbkluZGV4XT17c2hpZnRlZEFuY2hvcjpFLGFuZ2xlOkl9KTt9ZWxzZSBjZShnLm51bUdseXBocyxkKTt9aWYoaCl7Xy5jbGVhcigpO2Zvcih2YXIgUz1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXksQz0wO0M8Uy5sZW5ndGg7QysrKXt2YXIgej1TLmdldChDKTtpZih6LmhpZGRlbiljZSh6Lm51bUdseXBocyxfKTtlbHNlIHt2YXIgRD1mW0NdO2lmKEQpZm9yKHZhciBNPTA7TTx6Lm51bUdseXBocztNKyspdC5hZGREeW5hbWljQXR0cmlidXRlcyhfLEQuc2hpZnRlZEFuY2hvcixELmFuZ2xlKTtlbHNlIGNlKHoubnVtR2x5cGhzLF8pO319ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShfKTt9ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkKTt9ZnVuY3Rpb24gJGkodCxlLGkpe3JldHVybiBpLmljb25zSW5UZXh0JiZlPyJzeW1ib2xUZXh0QW5kSWNvbiI6dD8ic3ltYm9sU0RGIjoic3ltYm9sSWNvbiJ9ZnVuY3Rpb24gdG8oZSxpLG8scixhLG4scyxsLGMsdSxoLHApe2Zvcih2YXIgZD1lLmNvbnRleHQsXz1kLmdsLGY9ZS50cmFuc2Zvcm0sbT0ibWFwIj09PWwsZz0ibWFwIj09PWMsdj1tJiYicG9pbnQiIT09by5sYXlvdXQuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IikseT1tJiYhZyYmIXYseD12b2lkIDAhPT1vLmxheW91dC5nZXQoInN5bWJvbC1zb3J0LWtleSIpLmNvbnN0YW50T3IoMSksYj1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsSXQuUmVhZE9ubHkpLHc9by5sYXlvdXQuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpLFQ9W10sRT0wLEk9cjtFPEkubGVuZ3RoO0UrPTEpe3ZhciBQPUlbRV0sUz1pLmdldFRpbGUoUCksQz1TLmdldEJ1Y2tldChvKTtpZihDKXt2YXIgej1hP0MudGV4dDpDLmljb247aWYoeiYmei5zZWdtZW50cy5nZXQoKS5sZW5ndGgpe3ZhciBEPXoucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSxNPWF8fEMuc2RmSWNvbnMsQT1hP0MudGV4dFNpemVEYXRhOkMuaWNvblNpemVEYXRhLEw9Z3x8MCE9PWYucGl0Y2gsUj1lLnVzZVByb2dyYW0oJGkoTSxhLEMpLEQpLGs9dC5ldmFsdWF0ZVNpemVGb3Jab29tKEEsZi56b29tKSxCPXZvaWQgMCxPPVswLDBdLEY9dm9pZCAwLFU9dm9pZCAwLE49bnVsbCxaPXZvaWQgMDtpZihhKUY9Uy5nbHlwaEF0bGFzVGV4dHVyZSxVPV8uTElORUFSLEI9Uy5nbHlwaEF0bGFzVGV4dHVyZS5zaXplLEMuaWNvbnNJblRleHQmJihPPVMuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSxOPVMuaW1hZ2VBdGxhc1RleHR1cmUsWj1MfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHwiY29tcG9zaXRlIj09PUEua2luZHx8ImNhbWVyYSI9PT1BLmtpbmQ/Xy5MSU5FQVI6Xy5ORUFSRVNUKTtlbHNlIHt2YXIgaj0xIT09by5sYXlvdXQuZ2V0KCJpY29uLXNpemUiKS5jb25zdGFudE9yKDApfHxDLmljb25zTmVlZExpbmVhcjtGPVMuaW1hZ2VBdGxhc1RleHR1cmUsVT1NfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHxqfHxMP18uTElORUFSOl8uTkVBUkVTVCxCPVMuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTt9dmFyIHE9cGUoUywxLGUudHJhbnNmb3JtLnpvb20pLFY9SnQoUC5wb3NNYXRyaXgsZyxtLGUudHJhbnNmb3JtLHEpLEc9UXQoUC5wb3NNYXRyaXgsZyxtLGUudHJhbnNmb3JtLHEpLFc9dyYmQy5oYXNUZXh0RGF0YSgpLFg9Im5vbmUiIT09by5sYXlvdXQuZ2V0KCJpY29uLXRleHQtZml0IikmJlcmJkMuaGFzSWNvbkRhdGEoKTt2JiZpZShDLFAucG9zTWF0cml4LGUsYSxWLEcsZyx1KTt2YXIgSD1lLnRyYW5zbGF0ZVBvc01hdHJpeChQLnBvc01hdHJpeCxTLG4scyksSz12fHxhJiZ3fHxYP1lpOlYsWT1lLnRyYW5zbGF0ZVBvc01hdHJpeChHLFMsbixzLCEwKSxKPU0mJjAhPT1vLnBhaW50LmdldChhPyJ0ZXh0LWhhbG8td2lkdGgiOiJpY29uLWhhbG8td2lkdGgiKS5jb25zdGFudE9yKDEpLFE9e3Byb2dyYW06UixidWZmZXJzOnosdW5pZm9ybVZhbHVlczpNP0MuaWNvbnNJblRleHQ/R2koQS5raW5kLGsseSxnLGUsSCxLLFksQixPKTpWaShBLmtpbmQsayx5LGcsZSxILEssWSxhLEIsITApOnFpKEEua2luZCxrLHksZyxlLEgsSyxZLGEsQiksYXRsYXNUZXh0dXJlOkYsYXRsYXNUZXh0dXJlSWNvbjpOLGF0bGFzSW50ZXJwb2xhdGlvbjpVLGF0bGFzSW50ZXJwb2xhdGlvbkljb246Wixpc1NERjpNLGhhc0hhbG86Sn07aWYoeClmb3IodmFyICQ9MCx0dD16LnNlZ21lbnRzLmdldCgpOyQ8dHQubGVuZ3RoOyQrPTEpe3ZhciBldD10dFskXTtULnB1c2goe3NlZ21lbnRzOm5ldyB0LlNlZ21lbnRWZWN0b3IoW2V0XSksc29ydEtleTpldC5zb3J0S2V5LHN0YXRlOlF9KTt9ZWxzZSBULnB1c2goe3NlZ21lbnRzOnouc2VnbWVudHMsc29ydEtleTowLHN0YXRlOlF9KTt9fX14JiZULnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7Zm9yKHZhciBpdD0wLG90PVQ7aXQ8b3QubGVuZ3RoO2l0Kz0xKXt2YXIgcnQ9b3RbaXRdLGF0PXJ0LnN0YXRlO2lmKGQuYWN0aXZlVGV4dHVyZS5zZXQoXy5URVhUVVJFMCksYXQuYXRsYXNUZXh0dXJlLmJpbmQoYXQuYXRsYXNJbnRlcnBvbGF0aW9uLF8uQ0xBTVBfVE9fRURHRSksYXQuYXRsYXNUZXh0dXJlSWNvbiYmKGQuYWN0aXZlVGV4dHVyZS5zZXQoXy5URVhUVVJFMSksYXQuYXRsYXNUZXh0dXJlSWNvbiYmYXQuYXRsYXNUZXh0dXJlSWNvbi5iaW5kKGF0LmF0bGFzSW50ZXJwb2xhdGlvbkljb24sXy5DTEFNUF9UT19FREdFKSksYXQuaXNTREYpe3ZhciBudD1hdC51bmlmb3JtVmFsdWVzO2F0Lmhhc0hhbG8mJihudC51X2lzX2hhbG89MSxlbyhhdC5idWZmZXJzLHJ0LnNlZ21lbnRzLG8sZSxhdC5wcm9ncmFtLGIsaCxwLG50KSksbnQudV9pc19oYWxvPTA7fWVvKGF0LmJ1ZmZlcnMscnQuc2VnbWVudHMsbyxlLGF0LnByb2dyYW0sYixoLHAsYXQudW5pZm9ybVZhbHVlcyk7fX1mdW5jdGlvbiBlbyh0LGUsaSxvLHIsYSxuLHMsbCl7dmFyIGM9by5jb250ZXh0O3IuZHJhdyhjLGMuZ2wuVFJJQU5HTEVTLGEsbixzLEN0LmRpc2FibGVkLGwsaS5pZCx0LmxheW91dFZlcnRleEJ1ZmZlcix0LmluZGV4QnVmZmVyLGUsaS5wYWludCxvLnRyYW5zZm9ybS56b29tLHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsdC5vcGFjaXR5VmVydGV4QnVmZmVyKTt9ZnVuY3Rpb24gaW8odCxlLGksbyxyLGEsbil7dmFyIHMsbCxjLHUsaCxwPXQuY29udGV4dC5nbCxkPWkucGFpbnQuZ2V0KCJmaWxsLXBhdHRlcm4iKSxfPWQmJmQuY29uc3RhbnRPcigxKSxmPWkuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpO24/KGw9XyYmIWkuZ2V0UGFpbnRQcm9wZXJ0eSgiZmlsbC1vdXRsaW5lLWNvbG9yIik/ImZpbGxPdXRsaW5lUGF0dGVybiI6ImZpbGxPdXRsaW5lIixzPXAuTElORVMpOihsPV8/ImZpbGxQYXR0ZXJuIjoiZmlsbCIscz1wLlRSSUFOR0xFUyk7Zm9yKHZhciBtPTAsZz1vO208Zy5sZW5ndGg7bSs9MSl7dmFyIHY9Z1ttXSx5PWUuZ2V0VGlsZSh2KTtpZighX3x8eS5wYXR0ZXJuc0xvYWRlZCgpKXt2YXIgeD15LmdldEJ1Y2tldChpKTtpZih4KXt2YXIgYj14LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksdz10LnVzZVByb2dyYW0obCxiKTtfJiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KHAuVEVYVFVSRTApLHkuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChwLkxJTkVBUixwLkNMQU1QX1RPX0VER0UpLGIudXBkYXRlUGFpbnRCdWZmZXJzKGYpKTt2YXIgVD1kLmNvbnN0YW50T3IobnVsbCk7aWYoVCYmeS5pbWFnZUF0bGFzKXt2YXIgRT15LmltYWdlQXRsYXMsST1FLnBhdHRlcm5Qb3NpdGlvbnNbVC50by50b1N0cmluZygpXSxQPUUucGF0dGVyblBvc2l0aW9uc1tULmZyb20udG9TdHJpbmcoKV07SSYmUCYmYi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoSSxQKTt9dmFyIFM9dC50cmFuc2xhdGVQb3NNYXRyaXgodi5wb3NNYXRyaXgseSxpLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUiKSxpLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUtYW5jaG9yIikpO2lmKG4pe3U9eC5pbmRleEJ1ZmZlcjIsaD14LnNlZ21lbnRzMjt2YXIgQz1bcC5kcmF3aW5nQnVmZmVyV2lkdGgscC5kcmF3aW5nQnVmZmVySGVpZ2h0XTtjPSJmaWxsT3V0bGluZVBhdHRlcm4iPT09bCYmXz9TaShTLHQsZix5LEMpOlBpKFMsQyk7fWVsc2UgdT14LmluZGV4QnVmZmVyLGg9eC5zZWdtZW50cyxjPV8/SWkoUyx0LGYseSk6RWkoUyk7dy5kcmF3KHQuY29udGV4dCxzLHIsdC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKHYpLGEsQ3QuZGlzYWJsZWQsYyxpLmlkLHgubGF5b3V0VmVydGV4QnVmZmVyLHUsaCxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sYik7fX19fWZ1bmN0aW9uIG9vKHQsZSxpLG8scixhLG4pe2Zvcih2YXIgcz10LmNvbnRleHQsbD1zLmdsLGM9aS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iKSx1PWMuY29uc3RhbnRPcigxKSxoPWkuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLHA9aS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLW9wYWNpdHkiKSxkPTAsXz1vO2Q8Xy5sZW5ndGg7ZCs9MSl7dmFyIGY9X1tkXSxtPWUuZ2V0VGlsZShmKSxnPW0uZ2V0QnVja2V0KGkpO2lmKGcpe3ZhciB2PWcucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx5PXQudXNlUHJvZ3JhbSh1PyJmaWxsRXh0cnVzaW9uUGF0dGVybiI6ImZpbGxFeHRydXNpb24iLHYpO3UmJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksbS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGwuTElORUFSLGwuQ0xBTVBfVE9fRURHRSksdi51cGRhdGVQYWludEJ1ZmZlcnMoaCkpO3ZhciB4PWMuY29uc3RhbnRPcihudWxsKTtpZih4JiZtLmltYWdlQXRsYXMpe3ZhciBiPW0uaW1hZ2VBdGxhcyx3PWIucGF0dGVyblBvc2l0aW9uc1t4LnRvLnRvU3RyaW5nKCldLFQ9Yi5wYXR0ZXJuUG9zaXRpb25zW3guZnJvbS50b1N0cmluZygpXTt3JiZUJiZ2LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh3LFQpO312YXIgRT10LnRyYW5zbGF0ZVBvc01hdHJpeChmLnBvc01hdHJpeCxtLGkucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiKSxpLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciIpKSxJPWkucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudCIpLFA9dT9UaShFLHQsSSxwLGYsaCxtKTp3aShFLHQsSSxwKTt5LmRyYXcocyxzLmdsLlRSSUFOR0xFUyxyLGEsbixDdC5iYWNrQ0NXLFAsaS5pZCxnLmxheW91dFZlcnRleEJ1ZmZlcixnLmluZGV4QnVmZmVyLGcuc2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tLHYpO319fWZ1bmN0aW9uIHJvKGUsaSxvLHIsYSxuKXt2YXIgcz1lLmNvbnRleHQsbD1zLmdsLGM9aS5mYm87aWYoYyl7dmFyIHU9ZS51c2VQcm9ncmFtKCJoaWxsc2hhZGUiKTtzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLGwuYmluZFRleHR1cmUobC5URVhUVVJFXzJELGMuY29sb3JBdHRhY2htZW50LmdldCgpKTt2YXIgaD1mdW5jdGlvbihlLGksbyl7dmFyIHI9by5wYWludC5nZXQoImhpbGxzaGFkZS1zaGFkb3ctY29sb3IiKSxhPW8ucGFpbnQuZ2V0KCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIiksbj1vLnBhaW50LmdldCgiaGlsbHNoYWRlLWFjY2VudC1jb2xvciIpLHM9by5wYWludC5nZXQoImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIikqKE1hdGguUEkvMTgwKTsidmlld3BvcnQiPT09by5wYWludC5nZXQoImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIikmJihzLT1lLnRyYW5zZm9ybS5hbmdsZSk7dmFyIGwsYyx1LGg9IWUub3B0aW9ucy5tb3Zpbmc7cmV0dXJuIHt1X21hdHJpeDplLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoaS50aWxlSUQudG9VbndyYXBwZWQoKSxoKSx1X2ltYWdlOjAsdV9sYXRyYW5nZToobD1pLnRpbGVJRCxjPU1hdGgucG93KDIsbC5jYW5vbmljYWwueiksdT1sLmNhbm9uaWNhbC55LFtuZXcgdC5NZXJjYXRvckNvb3JkaW5hdGUoMCx1L2MpLnRvTG5nTGF0KCkubGF0LG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZSgwLCh1KzEpL2MpLnRvTG5nTGF0KCkubGF0XSksdV9saWdodDpbby5wYWludC5nZXQoImhpbGxzaGFkZS1leGFnZ2VyYXRpb24iKSxzXSx1X3NoYWRvdzpyLHVfaGlnaGxpZ2h0OmEsdV9hY2NlbnQ6bn19KGUsaSxvKTt1LmRyYXcocyxsLlRSSUFOR0xFUyxyLGEsbixDdC5kaXNhYmxlZCxoLG8uaWQsZS5yYXN0ZXJCb3VuZHNCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLnJhc3RlckJvdW5kc1NlZ21lbnRzKTt9fWZ1bmN0aW9uIGFvKGUsaSxvLHIsYSxuLHMpe3ZhciBsPWUuY29udGV4dCxjPWwuZ2wsdT1pLmRlbTtpZih1JiZ1LmRhdGEpe3ZhciBoPXUuZGltLHA9dS5zdHJpZGUsZD11LmdldFBpeGVscygpO2lmKGwuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMSksbC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQoITEpLGkuZGVtVGV4dHVyZT1pLmRlbVRleHR1cmV8fGUuZ2V0VGlsZVRleHR1cmUocCksaS5kZW1UZXh0dXJlKXt2YXIgXz1pLmRlbVRleHR1cmU7Xy51cGRhdGUoZCx7cHJlbXVsdGlwbHk6ITF9KSxfLmJpbmQoYy5ORUFSRVNULGMuQ0xBTVBfVE9fRURHRSk7fWVsc2UgaS5kZW1UZXh0dXJlPW5ldyB0LlRleHR1cmUobCxkLGMuUkdCQSx7cHJlbXVsdGlwbHk6ITF9KSxpLmRlbVRleHR1cmUuYmluZChjLk5FQVJFU1QsYy5DTEFNUF9UT19FREdFKTtsLmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApO3ZhciBmPWkuZmJvO2lmKCFmKXt2YXIgbT1uZXcgdC5UZXh0dXJlKGwse3dpZHRoOmgsaGVpZ2h0OmgsZGF0YTpudWxsfSxjLlJHQkEpO20uYmluZChjLkxJTkVBUixjLkNMQU1QX1RPX0VER0UpLChmPWkuZmJvPWwuY3JlYXRlRnJhbWVidWZmZXIoaCxoLCEwKSkuY29sb3JBdHRhY2htZW50LnNldChtLnRleHR1cmUpO31sLmJpbmRGcmFtZWJ1ZmZlci5zZXQoZi5mcmFtZWJ1ZmZlciksbC52aWV3cG9ydC5zZXQoWzAsMCxoLGhdKSxlLnVzZVByb2dyYW0oImhpbGxzaGFkZVByZXBhcmUiKS5kcmF3KGwsYy5UUklBTkdMRVMsYSxuLHMsQ3QuZGlzYWJsZWQsZnVuY3Rpb24oZSxpLG8pe3ZhciByPWkuc3RyaWRlLGE9dC5jcmVhdGUoKTtyZXR1cm4gdC5vcnRobyhhLDAsdC5FWFRFTlQsLXQuRVhURU5ULDAsMCwxKSx0LnRyYW5zbGF0ZShhLGEsWzAsLXQuRVhURU5ULDBdKSx7dV9tYXRyaXg6YSx1X2ltYWdlOjEsdV9kaW1lbnNpb246W3Iscl0sdV96b29tOmUub3ZlcnNjYWxlZFosdV9tYXh6b29tOm8sdV91bnBhY2s6aS5nZXRVbnBhY2tWZWN0b3IoKX19KGkudGlsZUlELHUsciksby5pZCxlLnJhc3RlckJvdW5kc0J1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGUucmFzdGVyQm91bmRzU2VnbWVudHMpLGkubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSExO319ZnVuY3Rpb24gbm8oZSxpLG8scixhKXt2YXIgbj1yLnBhaW50LmdldCgicmFzdGVyLWZhZGUtZHVyYXRpb24iKTtpZihuPjApe3ZhciBzPXQuYnJvd3Nlci5ub3coKSxsPShzLWUudGltZUFkZGVkKS9uLGM9aT8ocy1pLnRpbWVBZGRlZCkvbjotMSx1PW8uZ2V0U291cmNlKCksaD1hLmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTp1LnRpbGVTaXplLHJvdW5kWm9vbTp1LnJvdW5kWm9vbX0pLHA9IWl8fE1hdGguYWJzKGkudGlsZUlELm92ZXJzY2FsZWRaLWgpPk1hdGguYWJzKGUudGlsZUlELm92ZXJzY2FsZWRaLWgpLGQ9cCYmZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj8xOnQuY2xhbXAocD9sOjEtYywwLDEpO3JldHVybiBlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uJiZsPj0xJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMSksaT97b3BhY2l0eToxLG1peDoxLWR9OntvcGFjaXR5OmQsbWl4OjB9fXJldHVybiB7b3BhY2l0eToxLG1peDowfX12YXIgc289bmV3IHQuQ29sb3IoMSwwLDAsMSksbG89bmV3IHQuQ29sb3IoMCwxLDAsMSksY289bmV3IHQuQ29sb3IoMCwwLDEsMSksdW89bmV3IHQuQ29sb3IoMSwwLDEsMSksaG89bmV3IHQuQ29sb3IoMCwxLDEsMSk7ZnVuY3Rpb24gcG8odCxlLGksbyl7Zm8odCwwLGUraS8yLHQudHJhbnNmb3JtLndpZHRoLGksbyk7fWZ1bmN0aW9uIF9vKHQsZSxpLG8pe2ZvKHQsZS1pLzIsMCxpLHQudHJhbnNmb3JtLmhlaWdodCxvKTt9ZnVuY3Rpb24gZm8oZSxpLG8scixhLG4pe3ZhciBzPWUuY29udGV4dCxsPXMuZ2w7bC5lbmFibGUobC5TQ0lTU09SX1RFU1QpLGwuc2Npc3NvcihpKnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLG8qdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8scip0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxhKnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKSxzLmNsZWFyKHtjb2xvcjpufSksbC5kaXNhYmxlKGwuU0NJU1NPUl9URVNUKTt9ZnVuY3Rpb24gbW8oZSxpLG8pe3ZhciByPWUuY29udGV4dCxhPXIuZ2wsbj1vLnBvc01hdHJpeCxzPWUudXNlUHJvZ3JhbSgiZGVidWciKSxsPUl0LmRpc2FibGVkLGM9UHQuZGlzYWJsZWQsdT1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtyLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLGUuZW1wdHlUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxzLmRyYXcocixhLkxJTkVfU1RSSVAsbCxjLHUsQ3QuZGlzYWJsZWQsTWkobix0LkNvbG9yLnJlZCksIiRkZWJ1ZyIsZS5kZWJ1Z0J1ZmZlcixlLnRpbGVCb3JkZXJJbmRleEJ1ZmZlcixlLmRlYnVnU2VnbWVudHMpO3ZhciBoPWkuZ2V0VGlsZUJ5SUQoby5rZXkpLmxhdGVzdFJhd1RpbGVEYXRhLHA9TWF0aC5mbG9vcigoaCYmaC5ieXRlTGVuZ3RofHwwKS8xMDI0KSxkPWkuZ2V0VGlsZShvKS50aWxlU2l6ZSxfPTUxMi9NYXRoLm1pbihkLDUxMikqKG8ub3ZlcnNjYWxlZFovZS50cmFuc2Zvcm0uem9vbSkqLjUsZj1vLmNhbm9uaWNhbC50b1N0cmluZygpO28ub3ZlcnNjYWxlZFohPT1vLmNhbm9uaWNhbC56JiYoZis9IiA9PiAiK28ub3ZlcnNjYWxlZFopLGZ1bmN0aW9uKHQsZSl7dC5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7dmFyIGk9dC5kZWJ1Z092ZXJsYXlDYW52YXMsbz10LmNvbnRleHQuZ2wscj10LmRlYnVnT3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpO3IuY2xlYXJSZWN0KDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxyLnNoYWRvd0NvbG9yPSJ3aGl0ZSIsci5zaGFkb3dCbHVyPTIsci5saW5lV2lkdGg9MS41LHIuc3Ryb2tlU3R5bGU9IndoaXRlIixyLnRleHRCYXNlbGluZT0idG9wIixyLmZvbnQ9ImJvbGQgMzZweCBPcGVuIFNhbnMsIHNhbnMtc2VyaWYiLHIuZmlsbFRleHQoZSw1LDUpLHIuc3Ryb2tlVGV4dChlLDUsNSksdC5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShpKSx0LmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChvLkxJTkVBUixvLkNMQU1QX1RPX0VER0UpO30oZSxmKyIgIitwKyJrYiIpLHMuZHJhdyhyLGEuVFJJQU5HTEVTLGwsYyxTdC5hbHBoYUJsZW5kZWQsQ3QuZGlzYWJsZWQsTWkobix0LkNvbG9yLnRyYW5zcGFyZW50LF8pLCIkZGVidWciLGUuZGVidWdCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLmRlYnVnU2VnbWVudHMpO312YXIgZ289e3N5bWJvbDpmdW5jdGlvbihlLGksbyxyLGEpe2lmKCJ0cmFuc2x1Y2VudCI9PT1lLnJlbmRlclBhc3Mpe3ZhciBuPVB0LmRpc2FibGVkLHM9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7by5sYXlvdXQuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpJiZmdW5jdGlvbihlLGksbyxyLGEsbixzKXtmb3IodmFyIGw9aS50cmFuc2Zvcm0sYz0ibWFwIj09PWEsdT0ibWFwIj09PW4saD0wLHA9ZTtoPHAubGVuZ3RoO2grPTEpe3ZhciBkPXBbaF0sXz1yLmdldFRpbGUoZCksZj1fLmdldEJ1Y2tldChvKTtpZihmJiZmLnRleHQmJmYudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpe3ZhciBtPXQuZXZhbHVhdGVTaXplRm9yWm9vbShmLnRleHRTaXplRGF0YSxsLnpvb20pLGc9cGUoXywxLGkudHJhbnNmb3JtLnpvb20pLHY9SnQoZC5wb3NNYXRyaXgsdSxjLGkudHJhbnNmb3JtLGcpLHk9Im5vbmUiIT09by5sYXlvdXQuZ2V0KCJpY29uLXRleHQtZml0IikmJmYuaGFzSWNvbkRhdGEoKTtpZihtKXt2YXIgeD1NYXRoLnBvdygyLGwuem9vbS1fLnRpbGVJRC5vdmVyc2NhbGVkWik7UWkoZixjLHUscyx0LnN5bWJvbFNpemUsbCx2LGQucG9zTWF0cml4LHgsbSx5KTt9fX19KHIsZSxvLGksby5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLG8ubGF5b3V0LmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSxhKSwwIT09by5wYWludC5nZXQoImljb24tb3BhY2l0eSIpLmNvbnN0YW50T3IoMSkmJnRvKGUsaSxvLHIsITEsby5wYWludC5nZXQoImljb24tdHJhbnNsYXRlIiksby5wYWludC5nZXQoImljb24tdHJhbnNsYXRlLWFuY2hvciIpLG8ubGF5b3V0LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSxvLmxheW91dC5nZXQoImljb24tcGl0Y2gtYWxpZ25tZW50Iiksby5sYXlvdXQuZ2V0KCJpY29uLWtlZXAtdXByaWdodCIpLG4scyksMCE9PW8ucGFpbnQuZ2V0KCJ0ZXh0LW9wYWNpdHkiKS5jb25zdGFudE9yKDEpJiZ0byhlLGksbyxyLCEwLG8ucGFpbnQuZ2V0KCJ0ZXh0LXRyYW5zbGF0ZSIpLG8ucGFpbnQuZ2V0KCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiKSxvLmxheW91dC5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50Iiksby5sYXlvdXQuZ2V0KCJ0ZXh0LXBpdGNoLWFsaWdubWVudCIpLG8ubGF5b3V0LmdldCgidGV4dC1rZWVwLXVwcmlnaHQiKSxuLHMpLGkubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmKEtpKGUsaSxvLHIsby5wYWludC5nZXQoInRleHQtdHJhbnNsYXRlIiksby5wYWludC5nZXQoInRleHQtdHJhbnNsYXRlLWFuY2hvciIpLCEwKSxLaShlLGksbyxyLG8ucGFpbnQuZ2V0KCJpY29uLXRyYW5zbGF0ZSIpLG8ucGFpbnQuZ2V0KCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiKSwhMSkpO319LGNpcmNsZTpmdW5jdGlvbihlLGksbyxyKXtpZigidHJhbnNsdWNlbnQiPT09ZS5yZW5kZXJQYXNzKXt2YXIgYT1vLnBhaW50LmdldCgiY2lyY2xlLW9wYWNpdHkiKSxuPW8ucGFpbnQuZ2V0KCJjaXJjbGUtc3Ryb2tlLXdpZHRoIikscz1vLnBhaW50LmdldCgiY2lyY2xlLXN0cm9rZS1vcGFjaXR5IiksbD12b2lkIDAhPT1vLmxheW91dC5nZXQoImNpcmNsZS1zb3J0LWtleSIpLmNvbnN0YW50T3IoMSk7aWYoMCE9PWEuY29uc3RhbnRPcigxKXx8MCE9PW4uY29uc3RhbnRPcigxKSYmMCE9PXMuY29uc3RhbnRPcigxKSl7Zm9yKHZhciBjPWUuY29udGV4dCx1PWMuZ2wsaD1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsSXQuUmVhZE9ubHkpLHA9UHQuZGlzYWJsZWQsZD1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxfPVtdLGY9MDtmPHIubGVuZ3RoO2YrKyl7dmFyIG09cltmXSxnPWkuZ2V0VGlsZShtKSx2PWcuZ2V0QnVja2V0KG8pO2lmKHYpe3ZhciB5PXYucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSx4PXtwcm9ncmFtQ29uZmlndXJhdGlvbjp5LHByb2dyYW06ZS51c2VQcm9ncmFtKCJjaXJjbGUiLHkpLGxheW91dFZlcnRleEJ1ZmZlcjp2LmxheW91dFZlcnRleEJ1ZmZlcixpbmRleEJ1ZmZlcjp2LmluZGV4QnVmZmVyLHVuaWZvcm1WYWx1ZXM6Q2koZSxtLGcsbyl9O2lmKGwpZm9yKHZhciBiPTAsdz12LnNlZ21lbnRzLmdldCgpO2I8dy5sZW5ndGg7Yis9MSl7dmFyIFQ9d1tiXTtfLnB1c2goe3NlZ21lbnRzOm5ldyB0LlNlZ21lbnRWZWN0b3IoW1RdKSxzb3J0S2V5OlQuc29ydEtleSxzdGF0ZTp4fSk7fWVsc2UgXy5wdXNoKHtzZWdtZW50czp2LnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp4fSk7fX1sJiZfLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7Zm9yKHZhciBFPTAsST1fO0U8SS5sZW5ndGg7RSs9MSl7dmFyIFA9SVtFXSxTPVAuc3RhdGU7Uy5wcm9ncmFtLmRyYXcoYyx1LlRSSUFOR0xFUyxoLHAsZCxDdC5kaXNhYmxlZCxTLnVuaWZvcm1WYWx1ZXMsby5pZCxTLmxheW91dFZlcnRleEJ1ZmZlcixTLmluZGV4QnVmZmVyLFAuc2VnbWVudHMsby5wYWludCxlLnRyYW5zZm9ybS56b29tLFMucHJvZ3JhbUNvbmZpZ3VyYXRpb24pO319fX0saGVhdG1hcDpmdW5jdGlvbihlLGksbyxyKXtpZigwIT09by5wYWludC5nZXQoImhlYXRtYXAtb3BhY2l0eSIpKWlmKCJvZmZzY3JlZW4iPT09ZS5yZW5kZXJQYXNzKXt2YXIgYT1lLmNvbnRleHQsbj1hLmdsLHM9UHQuZGlzYWJsZWQsbD1uZXcgU3QoW24uT05FLG4uT05FXSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pOyFmdW5jdGlvbih0LGUsaSl7dmFyIG89dC5nbDt0LmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTEpLHQudmlld3BvcnQuc2V0KFswLDAsZS53aWR0aC80LGUuaGVpZ2h0LzRdKTt2YXIgcj1pLmhlYXRtYXBGYm87aWYocilvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxyLmNvbG9yQXR0YWNobWVudC5nZXQoKSksdC5iaW5kRnJhbWVidWZmZXIuc2V0KHIuZnJhbWVidWZmZXIpO2Vsc2Uge3ZhciBhPW8uY3JlYXRlVGV4dHVyZSgpO28uYmluZFRleHR1cmUoby5URVhUVVJFXzJELGEpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfUyxvLkNMQU1QX1RPX0VER0UpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfVCxvLkNMQU1QX1RPX0VER0UpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01JTl9GSUxURVIsby5MSU5FQVIpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01BR19GSUxURVIsby5MSU5FQVIpLHI9aS5oZWF0bWFwRmJvPXQuY3JlYXRlRnJhbWVidWZmZXIoZS53aWR0aC80LGUuaGVpZ2h0LzQsITEpLGZ1bmN0aW9uKHQsZSxpLG8pe3ZhciByPXQuZ2w7ci50ZXhJbWFnZTJEKHIuVEVYVFVSRV8yRCwwLHIuUkdCQSxlLndpZHRoLzQsZS5oZWlnaHQvNCwwLHIuUkdCQSx0LmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD90LmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6ci5VTlNJR05FRF9CWVRFLG51bGwpLG8uY29sb3JBdHRhY2htZW50LnNldChpKTt9KHQsZSxhLHIpO319KGEsZSxvKSxhLmNsZWFyKHtjb2xvcjp0LkNvbG9yLnRyYW5zcGFyZW50fSk7Zm9yKHZhciBjPTA7YzxyLmxlbmd0aDtjKyspe3ZhciB1PXJbY107aWYoIWkuaGFzUmVuZGVyYWJsZVBhcmVudCh1KSl7dmFyIGg9aS5nZXRUaWxlKHUpLHA9aC5nZXRCdWNrZXQobyk7aWYocCl7dmFyIGQ9cC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpO2UudXNlUHJvZ3JhbSgiaGVhdG1hcCIsZCkuZHJhdyhhLG4uVFJJQU5HTEVTLEl0LmRpc2FibGVkLHMsbCxDdC5kaXNhYmxlZCxMaSh1LnBvc01hdHJpeCxoLGUudHJhbnNmb3JtLnpvb20sby5wYWludC5nZXQoImhlYXRtYXAtaW50ZW5zaXR5IikpLG8uaWQscC5sYXlvdXRWZXJ0ZXhCdWZmZXIscC5pbmRleEJ1ZmZlcixwLnNlZ21lbnRzLG8ucGFpbnQsZS50cmFuc2Zvcm0uem9vbSxkKTt9fX1hLnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgsZS5oZWlnaHRdKTt9ZWxzZSAidHJhbnNsdWNlbnQiPT09ZS5yZW5kZXJQYXNzJiYoZS5jb250ZXh0LnNldENvbG9yTW9kZShlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24oZSxpKXt2YXIgbz1lLmNvbnRleHQscj1vLmdsLGE9aS5oZWF0bWFwRmJvO2lmKGEpe28uYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMCksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsYS5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLG8uYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSk7dmFyIG49aS5jb2xvclJhbXBUZXh0dXJlO258fChuPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgdC5UZXh0dXJlKG8saS5jb2xvclJhbXAsci5SR0JBKSksbi5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSksZS51c2VQcm9ncmFtKCJoZWF0bWFwVGV4dHVyZSIpLmRyYXcobyxyLlRSSUFOR0xFUyxJdC5kaXNhYmxlZCxQdC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxDdC5kaXNhYmxlZCxmdW5jdGlvbihlLGksbyxyKXt2YXIgYT10LmNyZWF0ZSgpO3Qub3J0aG8oYSwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLDEpO3ZhciBuPWUuY29udGV4dC5nbDtyZXR1cm4ge3VfbWF0cml4OmEsdV93b3JsZDpbbi5kcmF3aW5nQnVmZmVyV2lkdGgsbi5kcmF3aW5nQnVmZmVySGVpZ2h0XSx1X2ltYWdlOjAsdV9jb2xvcl9yYW1wOjEsdV9vcGFjaXR5OmkucGFpbnQuZ2V0KCJoZWF0bWFwLW9wYWNpdHkiKX19KGUsaSksaS5pZCxlLnZpZXdwb3J0QnVmZmVyLGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsZS52aWV3cG9ydFNlZ21lbnRzLGkucGFpbnQsZS50cmFuc2Zvcm0uem9vbSk7fX0oZSxvKSk7fSxsaW5lOmZ1bmN0aW9uKGUsaSxvLHIpe2lmKCJ0cmFuc2x1Y2VudCI9PT1lLnJlbmRlclBhc3Mpe3ZhciBhPW8ucGFpbnQuZ2V0KCJsaW5lLW9wYWNpdHkiKSxuPW8ucGFpbnQuZ2V0KCJsaW5lLXdpZHRoIik7aWYoMCE9PWEuY29uc3RhbnRPcigxKSYmMCE9PW4uY29uc3RhbnRPcigxKSl7dmFyIHM9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEl0LlJlYWRPbmx5KSxsPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGM9by5wYWludC5nZXQoImxpbmUtZGFzaGFycmF5IiksdT1vLnBhaW50LmdldCgibGluZS1wYXR0ZXJuIiksaD11LmNvbnN0YW50T3IoMSkscD1vLnBhaW50LmdldCgibGluZS1ncmFkaWVudCIpLGQ9by5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksXz1oPyJsaW5lUGF0dGVybiI6Yz8ibGluZVNERiI6cD8ibGluZUdyYWRpZW50IjoibGluZSIsZj1lLmNvbnRleHQsbT1mLmdsLGc9ITA7aWYocCl7Zi5hY3RpdmVUZXh0dXJlLnNldChtLlRFWFRVUkUwKTt2YXIgdj1vLmdyYWRpZW50VGV4dHVyZTtpZighby5ncmFkaWVudClyZXR1cm47dnx8KHY9by5ncmFkaWVudFRleHR1cmU9bmV3IHQuVGV4dHVyZShmLG8uZ3JhZGllbnQsbS5SR0JBKSksdi5iaW5kKG0uTElORUFSLG0uQ0xBTVBfVE9fRURHRSk7fWZvcih2YXIgeT0wLHg9cjt5PHgubGVuZ3RoO3krPTEpe3ZhciBiPXhbeV0sdz1pLmdldFRpbGUoYik7aWYoIWh8fHcucGF0dGVybnNMb2FkZWQoKSl7dmFyIFQ9dy5nZXRCdWNrZXQobyk7aWYoVCl7dmFyIEU9VC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLEk9ZS5jb250ZXh0LnByb2dyYW0uZ2V0KCksUD1lLnVzZVByb2dyYW0oXyxFKSxTPWd8fFAucHJvZ3JhbSE9PUksQz11LmNvbnN0YW50T3IobnVsbCk7aWYoQyYmdy5pbWFnZUF0bGFzKXt2YXIgej13LmltYWdlQXRsYXMsRD16LnBhdHRlcm5Qb3NpdGlvbnNbQy50by50b1N0cmluZygpXSxNPXoucGF0dGVyblBvc2l0aW9uc1tDLmZyb20udG9TdHJpbmcoKV07RCYmTSYmRS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoRCxNKTt9dmFyIEE9aD9CaShlLHcsbyxkKTpjP09pKGUsdyxvLGMsZCk6cD9raShlLHcsbyk6UmkoZSx3LG8pO2g/KGYuYWN0aXZlVGV4dHVyZS5zZXQobS5URVhUVVJFMCksdy5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKG0uTElORUFSLG0uQ0xBTVBfVE9fRURHRSksRS51cGRhdGVQYWludEJ1ZmZlcnMoZCkpOmMmJihTfHxlLmxpbmVBdGxhcy5kaXJ0eSkmJihmLmFjdGl2ZVRleHR1cmUuc2V0KG0uVEVYVFVSRTApLGUubGluZUF0bGFzLmJpbmQoZikpLFAuZHJhdyhmLG0uVFJJQU5HTEVTLHMsZS5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGIpLGwsQ3QuZGlzYWJsZWQsQSxvLmlkLFQubGF5b3V0VmVydGV4QnVmZmVyLFQuaW5kZXhCdWZmZXIsVC5zZWdtZW50cyxvLnBhaW50LGUudHJhbnNmb3JtLnpvb20sRSksZz0hMTt9fX19fX0sZmlsbDpmdW5jdGlvbihlLGksbyxyKXt2YXIgYT1vLnBhaW50LmdldCgiZmlsbC1jb2xvciIpLG49by5wYWludC5nZXQoImZpbGwtb3BhY2l0eSIpO2lmKDAhPT1uLmNvbnN0YW50T3IoMSkpe3ZhciBzPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9by5wYWludC5nZXQoImZpbGwtcGF0dGVybiIpLGM9ZS5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkmJiFsLmNvbnN0YW50T3IoMSkmJjE9PT1hLmNvbnN0YW50T3IodC5Db2xvci50cmFuc3BhcmVudCkuYSYmMT09PW4uY29uc3RhbnRPcigwKT8ib3BhcXVlIjoidHJhbnNsdWNlbnQiO2lmKGUucmVuZGVyUGFzcz09PWMpe3ZhciB1PWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMSwib3BhcXVlIj09PWUucmVuZGVyUGFzcz9JdC5SZWFkV3JpdGU6SXQuUmVhZE9ubHkpO2lvKGUsaSxvLHIsdSxzLCExKTt9aWYoInRyYW5zbHVjZW50Ij09PWUucmVuZGVyUGFzcyYmby5wYWludC5nZXQoImZpbGwtYW50aWFsaWFzIikpe3ZhciBoPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoby5nZXRQYWludFByb3BlcnR5KCJmaWxsLW91dGxpbmUtY29sb3IiKT8yOjAsSXQuUmVhZE9ubHkpO2lvKGUsaSxvLHIsaCxzLCEwKTt9fX0sImZpbGwtZXh0cnVzaW9uIjpmdW5jdGlvbih0LGUsaSxvKXt2YXIgcj1pLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tb3BhY2l0eSIpO2lmKDAhPT1yJiYidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXt2YXIgYT1uZXcgSXQodC5jb250ZXh0LmdsLkxFUVVBTCxJdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2lmKDEhPT1yfHxpLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tcGF0dGVybiIpLmNvbnN0YW50T3IoMSkpb28odCxlLGksbyxhLFB0LmRpc2FibGVkLFN0LmRpc2FibGVkKSxvbyh0LGUsaSxvLGEsdC5zdGVuY2lsTW9kZUZvcjNEKCksdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO2Vsc2Uge3ZhciBuPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO29vKHQsZSxpLG8sYSxQdC5kaXNhYmxlZCxuKTt9fX0saGlsbHNoYWRlOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKCJvZmZzY3JlZW4iPT09dC5yZW5kZXJQYXNzfHwidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXtmb3IodmFyIHI9dC5jb250ZXh0LGE9ZS5nZXRTb3VyY2UoKS5tYXh6b29tLG49dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEl0LlJlYWRPbmx5KSxzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9InRyYW5zbHVjZW50Ij09PXQucmVuZGVyUGFzcz90LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKG8pOlt7fSxvXSxjPWxbMF0sdT0wLGg9bFsxXTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV0sZD1lLmdldFRpbGUocCk7ZC5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJiJvZmZzY3JlZW4iPT09dC5yZW5kZXJQYXNzP2FvKHQsZCxpLGEsbixQdC5kaXNhYmxlZCxzKToidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzJiZybyh0LGQsaSxuLGNbcC5vdmVyc2NhbGVkWl0scyk7fXIudmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pO319LHJhc3RlcjpmdW5jdGlvbih0LGUsaSxvKXtpZigidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzJiYwIT09aS5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5IikmJm8ubGVuZ3RoKWZvcih2YXIgcj10LmNvbnRleHQsYT1yLmdsLG49ZS5nZXRTb3VyY2UoKSxzPXQudXNlUHJvZ3JhbSgicmFzdGVyIiksbD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPW4gaW5zdGFuY2VvZiBBP1t7fSxvXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKG8pLHU9Y1swXSxoPWNbMV0scD1oW2gubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLGQ9IXQub3B0aW9ucy5tb3ZpbmcsXz0wLGY9aDtfPGYubGVuZ3RoO18rPTEpe3ZhciBtPWZbX10sZz10LmRlcHRoTW9kZUZvclN1YmxheWVyKG0ub3ZlcnNjYWxlZFotcCwxPT09aS5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5Iik/SXQuUmVhZFdyaXRlOkl0LlJlYWRPbmx5LGEuTEVTUyksdj1lLmdldFRpbGUobSkseT10LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgobS50b1Vud3JhcHBlZCgpLGQpO3YucmVnaXN0ZXJGYWRlRHVyYXRpb24oaS5wYWludC5nZXQoInJhc3Rlci1mYWRlLWR1cmF0aW9uIikpO3ZhciB4PWUuZmluZExvYWRlZFBhcmVudChtLDApLGI9bm8odix4LGUsaSx0LnRyYW5zZm9ybSksdz12b2lkIDAsVD12b2lkIDAsRT0ibmVhcmVzdCI9PT1pLnBhaW50LmdldCgicmFzdGVyLXJlc2FtcGxpbmciKT9hLk5FQVJFU1Q6YS5MSU5FQVI7ci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSx2LnRleHR1cmUuYmluZChFLGEuQ0xBTVBfVE9fRURHRSxhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCksci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUxKSx4Pyh4LnRleHR1cmUuYmluZChFLGEuQ0xBTVBfVE9fRURHRSxhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCksdz1NYXRoLnBvdygyLHgudGlsZUlELm92ZXJzY2FsZWRaLXYudGlsZUlELm92ZXJzY2FsZWRaKSxUPVt2LnRpbGVJRC5jYW5vbmljYWwueCp3JTEsdi50aWxlSUQuY2Fub25pY2FsLnkqdyUxXSk6di50ZXh0dXJlLmJpbmQoRSxhLkNMQU1QX1RPX0VER0UsYS5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO3ZhciBJPU5pKHksVHx8WzAsMF0sd3x8MSxiLGkpO24gaW5zdGFuY2VvZiBBP3MuZHJhdyhyLGEuVFJJQU5HTEVTLGcsUHQuZGlzYWJsZWQsbCxDdC5kaXNhYmxlZCxJLGkuaWQsbi5ib3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixuLmJvdW5kc1NlZ21lbnRzKTpzLmRyYXcocixhLlRSSUFOR0xFUyxnLHVbbS5vdmVyc2NhbGVkWl0sbCxDdC5kaXNhYmxlZCxJLGkuaWQsdC5yYXN0ZXJCb3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnJhc3RlckJvdW5kc1NlZ21lbnRzKTt9fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1pLnBhaW50LmdldCgiYmFja2dyb3VuZC1jb2xvciIpLHI9aS5wYWludC5nZXQoImJhY2tncm91bmQtb3BhY2l0eSIpO2lmKDAhPT1yKXt2YXIgYT10LmNvbnRleHQsbj1hLmdsLHM9dC50cmFuc2Zvcm0sbD1zLnRpbGVTaXplLGM9aS5wYWludC5nZXQoImJhY2tncm91bmQtcGF0dGVybiIpO2lmKCF0LmlzUGF0dGVybk1pc3NpbmcoYykpe3ZhciB1PSFjJiYxPT09by5hJiYxPT09ciYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/Im9wYXF1ZSI6InRyYW5zbHVjZW50IjtpZih0LnJlbmRlclBhc3M9PT11KXt2YXIgaD1QdC5kaXNhYmxlZCxwPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwib3BhcXVlIj09PXU/SXQuUmVhZFdyaXRlOkl0LlJlYWRPbmx5KSxkPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLF89dC51c2VQcm9ncmFtKGM/ImJhY2tncm91bmRQYXR0ZXJuIjoiYmFja2dyb3VuZCIpLGY9cy5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpsfSk7YyYmKGEuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtmb3IodmFyIG09aS5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksZz0wLHY9ZjtnPHYubGVuZ3RoO2crPTEpe3ZhciB5PXZbZ10seD10LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoeS50b1Vud3JhcHBlZCgpKSxiPWM/WGkoeCxyLHQsYyx7dGlsZUlEOnksdGlsZVNpemU6bH0sbSk6V2koeCxyLG8pO18uZHJhdyhhLG4uVFJJQU5HTEVTLHAsaCxkLEN0LmRpc2FibGVkLGIsaS5pZCx0LnRpbGVFeHRlbnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnRpbGVFeHRlbnRTZWdtZW50cyk7fX19fX0sZGVidWc6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKW1vKHQsZSxpW29dKTt9LGN1c3RvbTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dC5jb250ZXh0LHI9aS5pbXBsZW1lbnRhdGlvbjtpZigib2Zmc2NyZWVuIj09PXQucmVuZGVyUGFzcyl7dmFyIGE9ci5wcmVyZW5kZXI7YSYmKHQuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLG8uc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxhLmNhbGwocixvLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpLG8uc2V0RGlydHkoKSx0LnNldEJhc2VTdGF0ZSgpKTt9ZWxzZSBpZigidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXt0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxvLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksby5zZXRTdGVuY2lsTW9kZShQdC5kaXNhYmxlZCk7dmFyIG49IjNkIj09PXIucmVuZGVyaW5nTW9kZT9uZXcgSXQodC5jb250ZXh0LmdsLkxFUVVBTCxJdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxJdC5SZWFkT25seSk7by5zZXREZXB0aE1vZGUobiksci5yZW5kZXIoby5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxvLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSxvLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7fX19LHZvPWZ1bmN0aW9uKHQsZSl7dGhpcy5jb250ZXh0PW5ldyB6dCh0KSx0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLnNldHVwKCksdGhpcy5udW1TdWJsYXllcnM9RHQubWF4VW5kZXJ6b29taW5nK0R0Lm1heE92ZXJ6b29taW5nKzEsdGhpcy5kZXB0aEVwc2lsb249MS9NYXRoLnBvdygyLDE2KSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBGZSx0aGlzLmdwdVRpbWVycz17fTt9O3ZvLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLndpZHRoPWUqdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdGhpcy5oZWlnaHQ9aSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuc3R5bGUpZm9yKHZhciBvPTAscj10aGlzLnN0eWxlLl9vcmRlcjtvPHIubGVuZ3RoO28rPTEpdGhpcy5zdHlsZS5fbGF5ZXJzW3Jbb11dLnJlc2l6ZSgpO30sdm8ucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ7aS5lbXBsYWNlQmFjaygwLDApLGkuZW1wbGFjZUJhY2sodC5FWFRFTlQsMCksaS5lbXBsYWNlQmFjaygwLHQuRVhURU5UKSxpLmVtcGxhY2VCYWNrKHQuRVhURU5ULHQuRVhURU5UKSx0aGlzLnRpbGVFeHRlbnRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxWZS5tZW1iZXJzKSx0aGlzLnRpbGVFeHRlbnRTZWdtZW50cz10LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTt2YXIgbz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDJpNDtvLmVtcGxhY2VCYWNrKDAsMCksby5lbXBsYWNlQmFjayh0LkVYVEVOVCwwKSxvLmVtcGxhY2VCYWNrKDAsdC5FWFRFTlQpLG8uZW1wbGFjZUJhY2sodC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMuZGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobyxWZS5tZW1iZXJzKSx0aGlzLmRlYnVnU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsNSk7dmFyIHI9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQ0aTg7ci5lbXBsYWNlQmFjaygwLDAsMCwwKSxyLmVtcGxhY2VCYWNrKHQuRVhURU5ULDAsdC5FWFRFTlQsMCksci5lbXBsYWNlQmFjaygwLHQuRVhURU5ULDAsdC5FWFRFTlQpLHIuZW1wbGFjZUJhY2sodC5FWFRFTlQsdC5FWFRFTlQsdC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMucmFzdGVyQm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHIsTS5tZW1iZXJzKSx0aGlzLnJhc3RlckJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBhPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0Mmk0O2EuZW1wbGFjZUJhY2soMCwwKSxhLmVtcGxhY2VCYWNrKDEsMCksYS5lbXBsYWNlQmFjaygwLDEpLGEuZW1wbGFjZUJhY2soMSwxKSx0aGlzLnZpZXdwb3J0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsVmUubWVtYmVycyksdGhpcy52aWV3cG9ydFNlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBuPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0MXVpMjtuLmVtcGxhY2VCYWNrKDApLG4uZW1wbGFjZUJhY2soMSksbi5lbXBsYWNlQmFjaygzKSxuLmVtcGxhY2VCYWNrKDIpLG4uZW1wbGFjZUJhY2soMCksdGhpcy50aWxlQm9yZGVySW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKTt2YXIgcz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY7cy5lbXBsYWNlQmFjaygwLDEsMikscy5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx7d2lkdGg6MSxoZWlnaHQ6MSxkYXRhOm5ldyBVaW50OEFycmF5KFswLDAsMCwwXSl9LGUuZ2wuUkdCQSk7dmFyIGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgUHQoe2Z1bmM6bC5BTFdBWVMsbWFzazowfSwwLDI1NSxsLlpFUk8sbC5aRVJPLGwuWkVSTyk7fSx2by5wcm90b3R5cGUuY2xlYXJTdGVuY2lsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9ZS5nbDt0aGlzLm5leHRTdGVuY2lsSUQ9MSx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMDt2YXIgbz10LmNyZWF0ZSgpO3Qub3J0aG8obywwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLDEpLHQuc2NhbGUobyxvLFtpLmRyYXdpbmdCdWZmZXJXaWR0aCxpLmRyYXdpbmdCdWZmZXJIZWlnaHQsMF0pLHRoaXMudXNlUHJvZ3JhbSgiY2xpcHBpbmdNYXNrIikuZHJhdyhlLGkuVFJJQU5HTEVTLEl0LmRpc2FibGVkLHRoaXMuc3RlbmNpbENsZWFyTW9kZSxTdC5kaXNhYmxlZCxDdC5kaXNhYmxlZCxBaShvKSwiJGNsaXBwaW5nIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKTt9LHZvLnByb3RvdHlwZS5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3M9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlIT09dC5zb3VyY2UmJnQuaXNUaWxlQ2xpcHBlZCgpJiZlJiZlLmxlbmd0aCl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT10LnNvdXJjZTt2YXIgaT10aGlzLmNvbnRleHQsbz1pLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtlLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksaS5zZXRDb2xvck1vZGUoU3QuZGlzYWJsZWQpLGkuc2V0RGVwdGhNb2RlKEl0LmRpc2FibGVkKTt2YXIgcj10aGlzLnVzZVByb2dyYW0oImNsaXBwaW5nTWFzayIpO3RoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e307Zm9yKHZhciBhPTAsbj1lO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXSxsPXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbcy5rZXldPXRoaXMubmV4dFN0ZW5jaWxJRCsrO3IuZHJhdyhpLG8uVFJJQU5HTEVTLEl0LmRpc2FibGVkLG5ldyBQdCh7ZnVuYzpvLkFMV0FZUyxtYXNrOjB9LGwsMjU1LG8uS0VFUCxvLktFRVAsby5SRVBMQUNFKSxTdC5kaXNhYmxlZCxDdC5kaXNhYmxlZCxBaShzLnBvc01hdHJpeCksIiRjbGlwcGluZyIsdGhpcy50aWxlRXh0ZW50QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy50aWxlRXh0ZW50U2VnbWVudHMpO319fSx2by5wcm90b3R5cGUuc3RlbmNpbE1vZGVGb3IzRD1mdW5jdGlvbigpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTt2YXIgdD10aGlzLm5leHRTdGVuY2lsSUQrKyxlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IFB0KHtmdW5jOmUuTk9URVFVQUwsbWFzazoyNTV9LHQsMjU1LGUuS0VFUCxlLktFRVAsZS5SRVBMQUNFKX0sdm8ucHJvdG90eXBlLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgUHQoe2Z1bmM6ZS5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0sMCxlLktFRVAsZS5LRUVQLGUuUkVQTEFDRSl9LHZvLnByb3RvdHlwZS5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuY29udGV4dC5nbCxvPXQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRafSkpLHI9b1tvLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixhPW9bMF0ub3ZlcnNjYWxlZFotcisxO2lmKGE+MSl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5uZXh0U3RlbmNpbElEK2E+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpO2Zvcih2YXIgbj17fSxzPTA7czxhO3MrKyluW3Mrcl09bmV3IFB0KHtmdW5jOmkuR0VRVUFMLG1hc2s6MjU1fSxzK3RoaXMubmV4dFN0ZW5jaWxJRCwyNTUsaS5LRUVQLGkuS0VFUCxpLlJFUExBQ0UpO3JldHVybiB0aGlzLm5leHRTdGVuY2lsSUQrPWEsW24sb119cmV0dXJuIFsoZT17fSxlW3JdPVB0LmRpc2FibGVkLGUpLG9dfSx2by5wcm90b3R5cGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yP25ldyBTdChbZS5DT05TVEFOVF9DT0xPUixlLk9ORV0sbmV3IHQuQ29sb3IoMS84LDEvOCwxLzgsMCksWyEwLCEwLCEwLCEwXSk6Im9wYXF1ZSI9PT10aGlzLnJlbmRlclBhc3M/U3QudW5ibGVuZGVkOlN0LmFscGhhQmxlbmRlZH0sdm8ucHJvdG90eXBlLmRlcHRoTW9kZUZvclN1YmxheWVyPWZ1bmN0aW9uKHQsZSxpKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpcmV0dXJuIEl0LmRpc2FibGVkO3ZhciBvPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycyt0KSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IEl0KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsZSxbbyxvXSl9LHZvLnByb3RvdHlwZS5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudExheWVyPHRoaXMub3BhcXVlUGFzc0N1dG9mZn0sdm8ucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dGhpcy5zdHlsZT1lLHRoaXMub3B0aW9ucz1pLHRoaXMubGluZUF0bGFzPWUubGluZUF0bGFzLHRoaXMuaW1hZ2VNYW5hZ2VyPWUuaW1hZ2VNYW5hZ2VyLHRoaXMuZ2x5cGhNYW5hZ2VyPWUuZ2x5cGhNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT1lLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKHQuYnJvd3Nlci5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO3ZhciByPXRoaXMuc3R5bGUuX29yZGVyLGE9dGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBuIGluIGEpe3ZhciBzPWFbbl07cy51c2VkJiZzLnByZXBhcmUodGhpcy5jb250ZXh0KTt9dmFyIGwsYyx1PXt9LGg9e30scD17fTtmb3IodmFyIGQgaW4gYSl7dmFyIF89YVtkXTt1W2RdPV8uZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCksaFtkXT11W2RdLnNsaWNlKCkucmV2ZXJzZSgpLHBbZF09Xy5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoITApLnJldmVyc2UoKTt9dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IodmFyIGY9MDtmPHIubGVuZ3RoO2YrKylpZih0aGlzLnN0eWxlLl9sYXllcnNbcltmXV0uaXMzRCgpKXt0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9ZjticmVha310aGlzLnJlbmRlclBhc3M9Im9mZnNjcmVlbiI7Zm9yKHZhciBtPTAsZz1yO208Zy5sZW5ndGg7bSs9MSl7dmFyIHY9dGhpcy5zdHlsZS5fbGF5ZXJzW2dbbV1dO2lmKHYuaGFzT2Zmc2NyZWVuUGFzcygpJiYhdi5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7dmFyIHk9aFt2LnNvdXJjZV07KCJjdXN0b20iPT09di50eXBlfHx5Lmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxhW3Yuc291cmNlXSx2LHkpO319Zm9yKHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6aS5zaG93T3ZlcmRyYXdJbnNwZWN0b3I/dC5Db2xvci5ibGFjazp0LkNvbG9yLnRyYW5zcGFyZW50LGRlcHRoOjF9KSx0aGlzLmNsZWFyU3RlbmNpbCgpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1pLnNob3dPdmVyZHJhd0luc3BlY3Rvcix0aGlzLmRlcHRoUmFuZ2VGb3IzRD1bMCwxLShlLl9vcmRlci5sZW5ndGgrMikqdGhpcy5udW1TdWJsYXllcnMqdGhpcy5kZXB0aEVwc2lsb25dLHRoaXMucmVuZGVyUGFzcz0ib3BhcXVlIix0aGlzLmN1cnJlbnRMYXllcj1yLmxlbmd0aC0xO3RoaXMuY3VycmVudExheWVyPj0wO3RoaXMuY3VycmVudExheWVyLS0pe3ZhciB4PXRoaXMuc3R5bGUuX2xheWVyc1tyW3RoaXMuY3VycmVudExheWVyXV0sYj1hW3guc291cmNlXSx3PXVbeC5zb3VyY2VdO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHgsdyksdGhpcy5yZW5kZXJMYXllcih0aGlzLGIseCx3KTt9Zm9yKHRoaXMucmVuZGVyUGFzcz0idHJhbnNsdWNlbnQiLHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8ci5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7dmFyIFQ9dGhpcy5zdHlsZS5fbGF5ZXJzW3JbdGhpcy5jdXJyZW50TGF5ZXJdXSxFPWFbVC5zb3VyY2VdLEk9KCJzeW1ib2wiPT09VC50eXBlP3A6aClbVC5zb3VyY2VdO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKFQsdVtULnNvdXJjZV0pLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxFLFQsSSk7fXRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMmJih0LnZhbHVlcyh0aGlzLnN0eWxlLl9sYXllcnMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Quc291cmNlJiYhdC5pc0hpZGRlbihvLnRyYW5zZm9ybS56b29tKSYmKHQuc291cmNlIT09KGMmJmMuaWQpJiYoYz1vLnN0eWxlLnNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pLCghbHx8bC5nZXRTb3VyY2UoKS5tYXh6b29tPGMuZ2V0U291cmNlKCkubWF4em9vbSkmJihsPWMpKTt9KSksbCYmZ28uZGVidWcodGhpcyxsLGwuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpKSx0aGlzLm9wdGlvbnMuc2hvd1BhZGRpbmcmJmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJhbnNmb3JtLnBhZGRpbmc7cG8odCx0LnRyYW5zZm9ybS5oZWlnaHQtKGUudG9wfHwwKSwzLHNvKSxwbyh0LGUuYm90dG9tfHwwLDMsbG8pLF9vKHQsZS5sZWZ0fHwwLDMsY28pLF9vKHQsdC50cmFuc2Zvcm0ud2lkdGgtKGUucmlnaHR8fDApLDMsdW8pO3ZhciBpPXQudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbih0LGUsaSxvKXtmbyh0LGUtMSxpLTEwLDIsMjAsbyksZm8odCxlLTEwLGktMSwyMCwyLG8pO30odCxpLngsdC50cmFuc2Zvcm0uaGVpZ2h0LWkueSxobyk7fSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpO30sdm8ucHJvdG90eXBlLnJlbmRlckxheWVyPWZ1bmN0aW9uKHQsZSxpLG8pe2kuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fCgiYmFja2dyb3VuZCI9PT1pLnR5cGV8fCJjdXN0b20iPT09aS50eXBlfHxvLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChpKSxnb1tpLnR5cGVdKHQsZSxpLG8sdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzKSx0aGlzLmdwdVRpbWluZ0VuZCgpKTt9LHZvLnByb3RvdHlwZS5ncHVUaW1pbmdTdGFydD1mdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXt2YXIgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxpPXRoaXMuZ3B1VGltZXJzW3QuaWRdO2l8fChpPXRoaXMuZ3B1VGltZXJzW3QuaWRdPXtjYWxsczowLGNwdVRpbWU6MCxxdWVyeTplLmNyZWF0ZVF1ZXJ5RVhUKCl9KSxpLmNhbGxzKyssZS5iZWdpblF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCxpLnF1ZXJ5KTt9fSx2by5wcm90b3R5cGUuZ3B1VGltaW5nRW5kPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmdwdVRpbWluZyl7dmFyIHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7dC5lbmRRdWVyeUVYVCh0LlRJTUVfRUxBUFNFRF9FWFQpO319LHZvLnByb3RvdHlwZS5jb2xsZWN0R3B1VGltZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LHR9LHZvLnByb3RvdHlwZS5xdWVyeUdwdVRpbWVycz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdCl7dmFyIG89dFtpXSxyPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LGE9ci5nZXRRdWVyeU9iamVjdEVYVChvLnF1ZXJ5LHIuUVVFUllfUkVTVUxUX0VYVCkvMWU2O3IuZGVsZXRlUXVlcnlFWFQoby5xdWVyeSksZVtpXT1hO31yZXR1cm4gZX0sdm8ucHJvdG90eXBlLnRyYW5zbGF0ZVBvc01hdHJpeD1mdW5jdGlvbihlLGksbyxyLGEpe2lmKCFvWzBdJiYhb1sxXSlyZXR1cm4gZTt2YXIgbj1hPyJtYXAiPT09cj90aGlzLnRyYW5zZm9ybS5hbmdsZTowOiJ2aWV3cG9ydCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKG4pe3ZhciBzPU1hdGguc2luKG4pLGw9TWF0aC5jb3Mobik7bz1bb1swXSpsLW9bMV0qcyxvWzBdKnMrb1sxXSpsXTt9dmFyIGM9W2E/b1swXTpwZShpLG9bMF0sdGhpcy50cmFuc2Zvcm0uem9vbSksYT9vWzFdOnBlKGksb1sxXSx0aGlzLnRyYW5zZm9ybS56b29tKSwwXSx1PW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiB0LnRyYW5zbGF0ZSh1LGUsYyksdX0sdm8ucHJvdG90eXBlLnNhdmVUaWxlVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXTtlP2UucHVzaCh0KTp0aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXT1bdF07fSx2by5wcm90b3R5cGUuZ2V0VGlsZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZVRleHR1cmVzW3RdO3JldHVybiBlJiZlLmxlbmd0aD4wP2UucG9wKCk6bnVsbH0sdm8ucHJvdG90eXBlLmlzUGF0dGVybk1pc3Npbmc9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuICExO2lmKCF0LmZyb218fCF0LnRvKXJldHVybiAhMDt2YXIgZT10aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKHQuZnJvbS50b1N0cmluZygpKSxpPXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4odC50by50b1N0cmluZygpKTtyZXR1cm4gIWV8fCFpfSx2by5wcm90b3R5cGUudXNlUHJvZ3JhbT1mdW5jdGlvbih0LGUpe3RoaXMuY2FjaGU9dGhpcy5jYWNoZXx8e307dmFyIGk9IiIrdCsoZT9lLmNhY2hlS2V5OiIiKSsodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPyIvb3ZlcmRyYXciOiIiKTtyZXR1cm4gdGhpcy5jYWNoZVtpXXx8KHRoaXMuY2FjaGVbaV09bmV3IHhpKHRoaXMuY29udGV4dCx2aVt0XSxlLEhpW3RdLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcikpLHRoaXMuY2FjaGVbaV19LHZvLnByb3RvdHlwZS5zZXRDdXN0b21MYXllckRlZmF1bHRzPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuY29udGV4dC5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO30sdm8ucHJvdG90eXBlLnNldEJhc2VTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0KCExKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldCh0LkZVTkNfQUREKTt9LHZvLnByb3RvdHlwZS5pbml0RGVidWdPdmVybGF5Q2FudmFzPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMmJih0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcz10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IHQuVGV4dHVyZSh0aGlzLmNvbnRleHQsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsdGhpcy5jb250ZXh0LmdsLlJHQkEpKTt9LHZvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5lbXB0eVRleHR1cmUuZGVzdHJveSgpLHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSYmdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlLmRlc3Ryb3koKTt9O3ZhciB5bz1mdW5jdGlvbih0LGUpe3RoaXMucG9pbnRzPXQsdGhpcy5wbGFuZXM9ZTt9O3lvLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj1NYXRoLnBvdygyLG8pLGE9W1stMSwxLC0xLDFdLFsxLDEsLTEsMV0sWzEsLTEsLTEsMV0sWy0xLC0xLC0xLDFdLFstMSwxLDEsMV0sWzEsMSwxLDFdLFsxLC0xLDEsMV0sWy0xLC0xLDEsMV1dLm1hcCgoZnVuY3Rpb24oaSl7cmV0dXJuIHQudHJhbnNmb3JtTWF0NChbXSxpLGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2NhbGUkMShbXSxlLDEvZVszXS9pKnIpfSkpLG49W1swLDEsMl0sWzYsNSw0XSxbMCwzLDddLFsyLDEsNV0sWzMsMiw2XSxbMCw0LDVdXS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuc3ViKFtdLGFbZVswXV0sYVtlWzFdXSksbz10LnN1YihbXSxhW2VbMl1dLGFbZVsxXV0pLHI9dC5ub3JtYWxpemUoW10sdC5jcm9zcyhbXSxpLG8pKSxuPS10LmRvdChyLGFbZVsxXV0pO3JldHVybiByLmNvbmNhdChuKX0pKTtyZXR1cm4gbmV3IHlvKGEsbil9O3ZhciB4bz1mdW5jdGlvbihlLGkpe3RoaXMubWluPWUsdGhpcy5tYXg9aSx0aGlzLmNlbnRlcj10LnNjYWxlJDIoW10sdC5hZGQoW10sdGhpcy5taW4sdGhpcy5tYXgpLC41KTt9O3hvLnByb3RvdHlwZS5xdWFkcmFudD1mdW5jdGlvbihlKXtmb3IodmFyIGk9W2UlMj09MCxlPDJdLG89dC5jbG9uZSQyKHRoaXMubWluKSxyPXQuY2xvbmUkMih0aGlzLm1heCksYT0wO2E8aS5sZW5ndGg7YSsrKW9bYV09aVthXT90aGlzLm1pblthXTp0aGlzLmNlbnRlclthXSxyW2FdPWlbYV0/dGhpcy5jZW50ZXJbYV06dGhpcy5tYXhbYV07cmV0dXJuIHJbMl09dGhpcy5tYXhbMl0sbmV3IHhvKG8scil9LHhvLnByb3RvdHlwZS5kaXN0YW5jZVg9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzBdLHRbMF0pLHRoaXMubWluWzBdKS10WzBdfSx4by5wcm90b3R5cGUuZGlzdGFuY2VZPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsxXSx0WzFdKSx0aGlzLm1pblsxXSktdFsxXX0seG8ucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtbdGhpcy5taW5bMF0sdGhpcy5taW5bMV0sMCwxXSxbdGhpcy5tYXhbMF0sdGhpcy5taW5bMV0sMCwxXSxbdGhpcy5tYXhbMF0sdGhpcy5tYXhbMV0sMCwxXSxbdGhpcy5taW5bMF0sdGhpcy5tYXhbMV0sMCwxXV0sbz0hMCxyPTA7cjxlLnBsYW5lcy5sZW5ndGg7cisrKXtmb3IodmFyIGE9ZS5wbGFuZXNbcl0sbj0wLHM9MDtzPGkubGVuZ3RoO3MrKyluKz10LmRvdCQxKGEsaVtzXSk+PTA7aWYoMD09PW4pcmV0dXJuIDA7biE9PWkubGVuZ3RoJiYobz0hMSk7fWlmKG8pcmV0dXJuIDI7Zm9yKHZhciBsPTA7bDwzO2wrKyl7Zm9yKHZhciBjPU51bWJlci5NQVhfVkFMVUUsdT0tTnVtYmVyLk1BWF9WQUxVRSxoPTA7aDxlLnBvaW50cy5sZW5ndGg7aCsrKXt2YXIgcD1lLnBvaW50c1toXVtsXS10aGlzLm1pbltsXTtjPU1hdGgubWluKGMscCksdT1NYXRoLm1heCh1LHApO31pZih1PDB8fGM+dGhpcy5tYXhbbF0tdGhpcy5taW5bbF0pcmV0dXJuIDB9cmV0dXJuIDF9O3ZhciBibz1mdW5jdGlvbih0LGUsaSxvKXtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1vJiYobz0wKSxpc05hTih0KXx8dDwwfHxpc05hTihlKXx8ZTwwfHxpc05hTihpKXx8aTwwfHxpc05hTihvKXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBmb3IgZWRnZS1pbnNldHMsIHRvcCwgYm90dG9tLCBsZWZ0IGFuZCByaWdodCBtdXN0IGFsbCBiZSBudW1iZXJzIik7dGhpcy50b3A9dCx0aGlzLmJvdHRvbT1lLHRoaXMubGVmdD1pLHRoaXMucmlnaHQ9bzt9O2JvLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbihlLGksbyl7cmV0dXJuIG51bGwhPWkudG9wJiZudWxsIT1lLnRvcCYmKHRoaXMudG9wPXQubnVtYmVyKGUudG9wLGkudG9wLG8pKSxudWxsIT1pLmJvdHRvbSYmbnVsbCE9ZS5ib3R0b20mJih0aGlzLmJvdHRvbT10Lm51bWJlcihlLmJvdHRvbSxpLmJvdHRvbSxvKSksbnVsbCE9aS5sZWZ0JiZudWxsIT1lLmxlZnQmJih0aGlzLmxlZnQ9dC5udW1iZXIoZS5sZWZ0LGkubGVmdCxvKSksbnVsbCE9aS5yaWdodCYmbnVsbCE9ZS5yaWdodCYmKHRoaXMucmlnaHQ9dC5udW1iZXIoZS5yaWdodCxpLnJpZ2h0LG8pKSx0aGlzfSxiby5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKGUsaSl7dmFyIG89dC5jbGFtcCgodGhpcy5sZWZ0K2UtdGhpcy5yaWdodCkvMiwwLGUpLHI9dC5jbGFtcCgodGhpcy50b3AraS10aGlzLmJvdHRvbSkvMiwwLGkpO3JldHVybiBuZXcgdC5Qb2ludChvLHIpfSxiby5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRvcD09PXQudG9wJiZ0aGlzLmJvdHRvbT09PXQuYm90dG9tJiZ0aGlzLmxlZnQ9PT10LmxlZnQmJnRoaXMucmlnaHQ9PT10LnJpZ2h0fSxiby5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGJvKHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX0sYm8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB7dG9wOnRoaXMudG9wLGJvdHRvbTp0aGlzLmJvdHRvbSxsZWZ0OnRoaXMubGVmdCxyaWdodDp0aGlzLnJpZ2h0fX07dmFyIHdvPWZ1bmN0aW9uKGUsaSxvLHIsYSl7dGhpcy50aWxlU2l6ZT01MTIsdGhpcy5tYXhWYWxpZExhdGl0dWRlPTg1LjA1MTEyOSx0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1hfHxhLHRoaXMuX21pblpvb209ZXx8MCx0aGlzLl9tYXhab29tPWl8fDIyLHRoaXMuX21pblBpdGNoPW51bGw9PW8/MDpvLHRoaXMuX21heFBpdGNoPW51bGw9PXI/NjA6cix0aGlzLnNldE1heEJvdW5kcygpLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX2NlbnRlcj1uZXcgdC5MbmdMYXQoMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fdW5tb2RpZmllZD0hMCx0aGlzLl9lZGdlSW5zZXRzPW5ldyBibyx0aGlzLl9wb3NNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGU9e307fSxUbz17bWluWm9vbTp7Y29uZmlndXJhYmxlOiEwfSxtYXhab29tOntjb25maWd1cmFibGU6ITB9LG1pblBpdGNoOntjb25maWd1cmFibGU6ITB9LG1heFBpdGNoOntjb25maWd1cmFibGU6ITB9LHJlbmRlcldvcmxkQ29waWVzOntjb25maWd1cmFibGU6ITB9LHdvcmxkU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxjZW50ZXJPZmZzZXQ6e2NvbmZpZ3VyYWJsZTohMH0sc2l6ZTp7Y29uZmlndXJhYmxlOiEwfSxiZWFyaW5nOntjb25maWd1cmFibGU6ITB9LHBpdGNoOntjb25maWd1cmFibGU6ITB9LGZvdjp7Y29uZmlndXJhYmxlOiEwfSx6b29tOntjb25maWd1cmFibGU6ITB9LGNlbnRlcjp7Y29uZmlndXJhYmxlOiEwfSxwYWRkaW5nOntjb25maWd1cmFibGU6ITB9LGNlbnRlclBvaW50Ontjb25maWd1cmFibGU6ITB9LHVubW9kaWZpZWQ6e2NvbmZpZ3VyYWJsZTohMH0scG9pbnQ6e2NvbmZpZ3VyYWJsZTohMH19O3dvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB3byh0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20sdGhpcy5fbWluUGl0Y2gsdGhpcy5tYXhQaXRjaCx0aGlzLl9yZW5kZXJXb3JsZENvcGllcyk7cmV0dXJuIHQudGlsZVNpemU9dGhpcy50aWxlU2l6ZSx0LmxhdFJhbmdlPXRoaXMubGF0UmFuZ2UsdC53aWR0aD10aGlzLndpZHRoLHQuaGVpZ2h0PXRoaXMuaGVpZ2h0LHQuX2NlbnRlcj10aGlzLl9jZW50ZXIsdC56b29tPXRoaXMuem9vbSx0LmFuZ2xlPXRoaXMuYW5nbGUsdC5fZm92PXRoaXMuX2Zvdix0Ll9waXRjaD10aGlzLl9waXRjaCx0Ll91bm1vZGlmaWVkPXRoaXMuX3VubW9kaWZpZWQsdC5fZWRnZUluc2V0cz10aGlzLl9lZGdlSW5zZXRzLmNsb25lKCksdC5fY2FsY01hdHJpY2VzKCksdH0sVG8ubWluWm9vbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluWm9vbX0sVG8ubWluWm9vbS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWluWm9vbSE9PXQmJih0aGlzLl9taW5ab29tPXQsdGhpcy56b29tPU1hdGgubWF4KHRoaXMuem9vbSx0KSk7fSxUby5tYXhab29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhab29tfSxUby5tYXhab29tLnNldD1mdW5jdGlvbih0KXt0aGlzLl9tYXhab29tIT09dCYmKHRoaXMuX21heFpvb209dCx0aGlzLnpvb209TWF0aC5taW4odGhpcy56b29tLHQpKTt9LFRvLm1pblBpdGNoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5QaXRjaH0sVG8ubWluUGl0Y2guc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX21pblBpdGNoIT09dCYmKHRoaXMuX21pblBpdGNoPXQsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLHQpKTt9LFRvLm1heFBpdGNoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQaXRjaH0sVG8ubWF4UGl0Y2guc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX21heFBpdGNoIT09dCYmKHRoaXMuX21heFBpdGNoPXQsdGhpcy5waXRjaD1NYXRoLm1pbih0aGlzLnBpdGNoLHQpKTt9LFRvLnJlbmRlcldvcmxkQ29waWVzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllc30sVG8ucmVuZGVyV29ybGRDb3BpZXMuc2V0PWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQ/dD0hMDpudWxsPT09dCYmKHQ9ITEpLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzPXQ7fSxUby53b3JsZFNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZVNpemUqdGhpcy5zY2FsZX0sVG8uY2VudGVyT2Zmc2V0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbnRlclBvaW50Ll9zdWIodGhpcy5zaXplLl9kaXYoMikpfSxUby5zaXplLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5Qb2ludCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sVG8uYmVhcmluZy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gLXRoaXMuYW5nbGUvTWF0aC5QSSoxODB9LFRvLmJlYXJpbmcuc2V0PWZ1bmN0aW9uKGUpe3ZhciBpPS10LndyYXAoZSwtMTgwLDE4MCkqTWF0aC5QSS8xODA7dGhpcy5hbmdsZSE9PWkmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuYW5nbGU9aSx0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLnJvdGF0aW9uTWF0cml4PXQuY3JlYXRlJDIoKSx0LnJvdGF0ZSh0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5hbmdsZSkpO30sVG8ucGl0Y2guZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpdGNoL01hdGguUEkqMTgwfSxUby5waXRjaC5zZXQ9ZnVuY3Rpb24oZSl7dmFyIGk9dC5jbGFtcChlLHRoaXMubWluUGl0Y2gsdGhpcy5tYXhQaXRjaCkvMTgwKk1hdGguUEk7dGhpcy5fcGl0Y2ghPT1pJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9waXRjaD1pLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LFRvLmZvdi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm92L01hdGguUEkqMTgwfSxUby5mb3Yuc2V0PWZ1bmN0aW9uKHQpe3Q9TWF0aC5tYXgoLjAxLE1hdGgubWluKDYwLHQpKSx0aGlzLl9mb3YhPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9mb3Y9dC8xODAqTWF0aC5QSSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fSxUby56b29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfSxUby56b29tLnNldD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLm1pbihNYXRoLm1heCh0LHRoaXMubWluWm9vbSksdGhpcy5tYXhab29tKTt0aGlzLl96b29tIT09ZSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fem9vbT1lLHRoaXMuc2NhbGU9dGhpcy56b29tU2NhbGUoZSksdGhpcy50aWxlWm9vbT1NYXRoLmZsb29yKGUpLHRoaXMuem9vbUZyYWN0aW9uPWUtdGhpcy50aWxlWm9vbSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fSxUby5jZW50ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0sVG8uY2VudGVyLnNldD1mdW5jdGlvbih0KXt0LmxhdD09PXRoaXMuX2NlbnRlci5sYXQmJnQubG5nPT09dGhpcy5fY2VudGVyLmxuZ3x8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fY2VudGVyPXQsdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO30sVG8ucGFkZGluZy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy50b0pTT04oKX0sVG8ucGFkZGluZy5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fZWRnZUluc2V0cy5lcXVhbHModCl8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUodGhpcy5fZWRnZUluc2V0cyx0LDEpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LFRvLmNlbnRlclBvaW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmdldENlbnRlcih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sd28ucHJvdG90eXBlLmlzUGFkZGluZ0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyh0KX0sd28ucHJvdG90eXBlLmludGVycG9sYXRlUGFkZGluZz1mdW5jdGlvbih0LGUsaSl7dGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHQsZSxpKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9LHdvLnByb3RvdHlwZS5jb3ZlcmluZ1pvb21MZXZlbD1mdW5jdGlvbih0KXt2YXIgZT0odC5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLnpvb20rdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZS90LnRpbGVTaXplKSk7cmV0dXJuIE1hdGgubWF4KDAsZSl9LHdvLnByb3RvdHlwZS5nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSl7dmFyIGk9W25ldyB0LlVud3JhcHBlZFRpbGVJRCgwLGUpXTtpZih0aGlzLl9yZW5kZXJXb3JsZENvcGllcylmb3IodmFyIG89dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQoMCwwKSkscj10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCh0aGlzLndpZHRoLDApKSxhPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxuPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KDAsdGhpcy5oZWlnaHQpKSxzPU1hdGguZmxvb3IoTWF0aC5taW4oby54LHIueCxhLngsbi54KSksbD1NYXRoLmZsb29yKE1hdGgubWF4KG8ueCxyLngsYS54LG4ueCkpLGM9cy0xO2M8PWwrMTtjKyspMCE9PWMmJmkucHVzaChuZXcgdC5VbndyYXBwZWRUaWxlSUQoYyxlKSk7cmV0dXJuIGl9LHdvLnByb3RvdHlwZS5jb3ZlcmluZ1RpbGVzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuY292ZXJpbmdab29tTGV2ZWwoZSksbz1pO2lmKHZvaWQgMCE9PWUubWluem9vbSYmaTxlLm1pbnpvb20pcmV0dXJuIFtdO3ZvaWQgMCE9PWUubWF4em9vbSYmaT5lLm1heHpvb20mJihpPWUubWF4em9vbSk7dmFyIHI9dC5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0aGlzLmNlbnRlciksYT1NYXRoLnBvdygyLGkpLG49W2Eqci54LGEqci55LDBdLHM9eW8uZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLGkpLGw9ZS5taW56b29tfHwwO3RoaXMucGl0Y2g8PTYwJiZ0aGlzLl9lZGdlSW5zZXRzLnRvcDwuMSYmKGw9aSk7dmFyIGM9ZnVuY3Rpb24odCl7cmV0dXJuIHthYWJiOm5ldyB4byhbdCphLDAsMF0sWyh0KzEpKmEsYSwwXSksem9vbTowLHg6MCx5OjAsd3JhcDp0LGZ1bGx5VmlzaWJsZTohMX19LHU9W10saD1bXSxwPWksZD1lLnJlcGFyc2VPdmVyc2NhbGVkP286aTtpZih0aGlzLl9yZW5kZXJXb3JsZENvcGllcylmb3IodmFyIF89MTtfPD0zO18rKyl1LnB1c2goYygtXykpLHUucHVzaChjKF8pKTtmb3IodS5wdXNoKGMoMCkpO3UubGVuZ3RoPjA7KXt2YXIgZj11LnBvcCgpLG09Zi54LGc9Zi55LHY9Zi5mdWxseVZpc2libGU7aWYoIXYpe3ZhciB5PWYuYWFiYi5pbnRlcnNlY3RzKHMpO2lmKDA9PT15KWNvbnRpbnVlO3Y9Mj09PXk7fXZhciB4PWYuYWFiYi5kaXN0YW5jZVgobiksYj1mLmFhYmIuZGlzdGFuY2VZKG4pLHc9TWF0aC5tYXgoTWF0aC5hYnMoeCksTWF0aC5hYnMoYikpO2lmKGYuem9vbT09PXB8fHc+MysoMTw8cC1mLnpvb20pLTImJmYuem9vbT49bCloLnB1c2goe3RpbGVJRDpuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGYuem9vbT09PXA/ZDpmLnpvb20sZi53cmFwLGYuem9vbSxtLGcpLGRpc3RhbmNlU3E6dC5zcXJMZW4oW25bMF0tLjUtbSxuWzFdLS41LWddKX0pO2Vsc2UgZm9yKHZhciBUPTA7VDw0O1QrKyl7dmFyIEU9KG08PDEpK1QlMixJPShnPDwxKSsoVD4+MSk7dS5wdXNoKHthYWJiOmYuYWFiYi5xdWFkcmFudChUKSx6b29tOmYuem9vbSsxLHg6RSx5Okksd3JhcDpmLndyYXAsZnVsbHlWaXNpYmxlOnZ9KTt9fXJldHVybiBoLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGlzdGFuY2VTcS1lLmRpc3RhbmNlU3F9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWxlSUR9KSl9LHdvLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnBpeGVsc1RvR0xVbml0cz1bMi90LC0yL2VdLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO30sVG8udW5tb2RpZmllZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5tb2RpZmllZH0sd28ucHJvdG90eXBlLnpvb21TY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX0sd28ucHJvdG90eXBlLnNjYWxlWm9vbT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjJ9LHdvLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKGUpe3ZhciBpPXQuY2xhbXAoZS5sYXQsLXRoaXMubWF4VmFsaWRMYXRpdHVkZSx0aGlzLm1heFZhbGlkTGF0aXR1ZGUpO3JldHVybiBuZXcgdC5Qb2ludCh0Lm1lcmNhdG9yWGZyb21MbmcoZS5sbmcpKnRoaXMud29ybGRTaXplLHQubWVyY2F0b3JZZnJvbUxhdChpKSp0aGlzLndvcmxkU2l6ZSl9LHdvLnByb3RvdHlwZS51bnByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShlLngvdGhpcy53b3JsZFNpemUsZS55L3RoaXMud29ybGRTaXplKS50b0xuZ0xhdCgpfSxUby5wb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qZWN0KHRoaXMuY2VudGVyKX0sd28ucHJvdG90eXBlLnNldExvY2F0aW9uQXRQb2ludD1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXMucG9pbnRDb29yZGluYXRlKGkpLHI9dGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5jZW50ZXJQb2ludCksYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShlKSxuPW5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShhLngtKG8ueC1yLngpLGEueS0oby55LXIueSkpO3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG4pLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKTt9LHdvLnByb3RvdHlwZS5sb2NhdGlvblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSl9LHdvLnByb3RvdHlwZS5wb2ludExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KSl9LHdvLnByb3RvdHlwZS5sb2NhdGlvbkNvb3JkaW5hdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoZSl9LHdvLnByb3RvdHlwZS5jb29yZGluYXRlTG9jYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9MbmdMYXQoKX0sd28ucHJvdG90eXBlLnBvaW50Q29vcmRpbmF0ZT1mdW5jdGlvbihlKXt2YXIgaT1bZS54LGUueSwwLDFdLG89W2UueCxlLnksMSwxXTt0LnRyYW5zZm9ybU1hdDQoaSxpLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSx0LnRyYW5zZm9ybU1hdDQobyxvLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTt2YXIgcj1pWzNdLGE9b1szXSxuPWlbMV0vcixzPW9bMV0vYSxsPWlbMl0vcixjPW9bMl0vYSx1PWw9PT1jPzA6KDAtbCkvKGMtbCk7cmV0dXJuIG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZSh0Lm51bWJlcihpWzBdL3Isb1swXS9hLHUpL3RoaXMud29ybGRTaXplLHQubnVtYmVyKG4scyx1KS90aGlzLndvcmxkU2l6ZSl9LHdvLnByb3RvdHlwZS5jb29yZGluYXRlUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIGk9W2UueCp0aGlzLndvcmxkU2l6ZSxlLnkqdGhpcy53b3JsZFNpemUsMCwxXTtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4KSxuZXcgdC5Qb2ludChpWzBdL2lbM10saVsxXS9pWzNdKX0sd28ucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiAobmV3IHQuTG5nTGF0Qm91bmRzKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KDAsMCkpKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsMCkpKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSkuZXh0ZW5kKHRoaXMucG9pbnRMb2NhdGlvbihuZXcgdC5Qb2ludCgwLHRoaXMuaGVpZ2h0KSkpfSx3by5wcm90b3R5cGUuZ2V0TWF4Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF0UmFuZ2UmJjI9PT10aGlzLmxhdFJhbmdlLmxlbmd0aCYmdGhpcy5sbmdSYW5nZSYmMj09PXRoaXMubG5nUmFuZ2UubGVuZ3RoP25ldyB0LkxuZ0xhdEJvdW5kcyhbdGhpcy5sbmdSYW5nZVswXSx0aGlzLmxhdFJhbmdlWzBdXSxbdGhpcy5sbmdSYW5nZVsxXSx0aGlzLmxhdFJhbmdlWzFdXSk6bnVsbH0sd28ucHJvdG90eXBlLnNldE1heEJvdW5kcz1mdW5jdGlvbih0KXt0Pyh0aGlzLmxuZ1JhbmdlPVt0LmdldFdlc3QoKSx0LmdldEVhc3QoKV0sdGhpcy5sYXRSYW5nZT1bdC5nZXRTb3V0aCgpLHQuZ2V0Tm9ydGgoKV0sdGhpcy5fY29uc3RyYWluKCkpOih0aGlzLmxuZ1JhbmdlPW51bGwsdGhpcy5sYXRSYW5nZT1bLXRoaXMubWF4VmFsaWRMYXRpdHVkZSx0aGlzLm1heFZhbGlkTGF0aXR1ZGVdKTt9LHdvLnByb3RvdHlwZS5jYWxjdWxhdGVQb3NNYXRyaXg9ZnVuY3Rpb24oZSxpKXt2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIG89ZS5rZXkscj1pP3RoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZTp0aGlzLl9wb3NNYXRyaXhDYWNoZTtpZihyW29dKXJldHVybiByW29dO3ZhciBhPWUuY2Fub25pY2FsLG49dGhpcy53b3JsZFNpemUvdGhpcy56b29tU2NhbGUoYS56KSxzPWEueCtNYXRoLnBvdygyLGEueikqZS53cmFwLGw9dC5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHQudHJhbnNsYXRlKGwsbCxbcypuLGEueSpuLDBdKSx0LnNjYWxlKGwsbCxbbi90LkVYVEVOVCxuL3QuRVhURU5ULDFdKSx0Lm11bHRpcGx5KGwsaT90aGlzLmFsaWduZWRQcm9qTWF0cml4OnRoaXMucHJvak1hdHJpeCxsKSxyW29dPW5ldyBGbG9hdDMyQXJyYXkobCkscltvXX0sd28ucHJvdG90eXBlLmN1c3RvbUxheWVyTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVyY2F0b3JNYXRyaXguc2xpY2UoKX0sd28ucHJvdG90eXBlLl9jb25zdHJhaW49ZnVuY3Rpb24oKXtpZih0aGlzLmNlbnRlciYmdGhpcy53aWR0aCYmdGhpcy5oZWlnaHQmJiF0aGlzLl9jb25zdHJhaW5pbmcpe3RoaXMuX2NvbnN0cmFpbmluZz0hMDt2YXIgZSxpLG8scixhPS05MCxuPTkwLHM9LTE4MCxsPTE4MCxjPXRoaXMuc2l6ZSx1PXRoaXMuX3VubW9kaWZpZWQ7aWYodGhpcy5sYXRSYW5nZSl7dmFyIGg9dGhpcy5sYXRSYW5nZTthPXQubWVyY2F0b3JZZnJvbUxhdChoWzFdKSp0aGlzLndvcmxkU2l6ZSxlPShuPXQubWVyY2F0b3JZZnJvbUxhdChoWzBdKSp0aGlzLndvcmxkU2l6ZSktYTxjLnk/Yy55LyhuLWEpOjA7fWlmKHRoaXMubG5nUmFuZ2Upe3ZhciBwPXRoaXMubG5nUmFuZ2U7cz10Lm1lcmNhdG9yWGZyb21MbmcocFswXSkqdGhpcy53b3JsZFNpemUsaT0obD10Lm1lcmNhdG9yWGZyb21MbmcocFsxXSkqdGhpcy53b3JsZFNpemUpLXM8Yy54P2MueC8obC1zKTowO312YXIgZD10aGlzLnBvaW50LF89TWF0aC5tYXgoaXx8MCxlfHwwKTtpZihfKXJldHVybiB0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgdC5Qb2ludChpPyhsK3MpLzI6ZC54LGU/KG4rYSkvMjpkLnkpKSx0aGlzLnpvb20rPXRoaXMuc2NhbGVab29tKF8pLHRoaXMuX3VubW9kaWZpZWQ9dSx2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSk7aWYodGhpcy5sYXRSYW5nZSl7dmFyIGY9ZC55LG09Yy55LzI7Zi1tPGEmJihyPWErbSksZittPm4mJihyPW4tbSk7fWlmKHRoaXMubG5nUmFuZ2Upe3ZhciBnPWQueCx2PWMueC8yO2ctdjxzJiYobz1zK3YpLGcrdj5sJiYobz1sLXYpO312b2lkIDA9PT1vJiZ2b2lkIDA9PT1yfHwodGhpcy5jZW50ZXI9dGhpcy51bnByb2plY3QobmV3IHQuUG9pbnQodm9pZCAwIT09bz9vOmQueCx2b2lkIDAhPT1yP3I6ZC55KSkpLHRoaXMuX3VubW9kaWZpZWQ9dSx0aGlzLl9jb25zdHJhaW5pbmc9ITE7fX0sd28ucHJvdG90eXBlLl9jYWxjTWF0cmljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLmhlaWdodCl7dmFyIGU9dGhpcy5jZW50ZXJPZmZzZXQ7dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlPS41L01hdGgudGFuKHRoaXMuX2Zvdi8yKSp0aGlzLmhlaWdodDt2YXIgaT1NYXRoLlBJLzIrdGhpcy5fcGl0Y2gsbz10aGlzLl9mb3YqKC41K2UueS90aGlzLmhlaWdodCkscj1NYXRoLnNpbihvKSp0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvTWF0aC5zaW4odC5jbGFtcChNYXRoLlBJLWktbywuMDEsTWF0aC5QSS0uMDEpKSxhPXRoaXMucG9pbnQsbj1hLngscz1hLnksbD0xLjAxKihNYXRoLmNvcyhNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKnIrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKSxjPXRoaXMuaGVpZ2h0LzUwLHU9bmV3IEZsb2F0NjRBcnJheSgxNik7dC5wZXJzcGVjdGl2ZSh1LHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LGMsbCksdVs4XT0yKi1lLngvdGhpcy53aWR0aCx1WzldPTIqZS55L3RoaXMuaGVpZ2h0LHQuc2NhbGUodSx1LFsxLC0xLDFdKSx0LnRyYW5zbGF0ZSh1LHUsWzAsMCwtdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlXSksdC5yb3RhdGVYKHUsdSx0aGlzLl9waXRjaCksdC5yb3RhdGVaKHUsdSx0aGlzLmFuZ2xlKSx0LnRyYW5zbGF0ZSh1LHUsWy1uLC1zLDBdKSx0aGlzLm1lcmNhdG9yTWF0cml4PXQuc2NhbGUoW10sdSxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemVdKSx0LnNjYWxlKHUsdSxbMSwxLHQubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSwxXSksdGhpcy5wcm9qTWF0cml4PXUsdGhpcy5pbnZQcm9qTWF0cml4PXQuaW52ZXJ0KFtdLHRoaXMucHJvak1hdHJpeCk7dmFyIGg9dGhpcy53aWR0aCUyLzIscD10aGlzLmhlaWdodCUyLzIsZD1NYXRoLmNvcyh0aGlzLmFuZ2xlKSxfPU1hdGguc2luKHRoaXMuYW5nbGUpLGY9bi1NYXRoLnJvdW5kKG4pK2QqaCtfKnAsbT1zLU1hdGgucm91bmQocykrZCpwK18qaCxnPW5ldyBGbG9hdDY0QXJyYXkodSk7aWYodC50cmFuc2xhdGUoZyxnLFtmPi41P2YtMTpmLG0+LjU/bS0xOm0sMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9Zyx1PXQuY3JlYXRlKCksdC5zY2FsZSh1LHUsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksdC50cmFuc2xhdGUodSx1LFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9dSx1PXQuY3JlYXRlKCksdC5zY2FsZSh1LHUsWzEsLTEsMV0pLHQudHJhbnNsYXRlKHUsdSxbLTEsLTEsMF0pLHQuc2NhbGUodSx1LFsyL3RoaXMud2lkdGgsMi90aGlzLmhlaWdodCwxXSksdGhpcy5nbENvb3JkTWF0cml4PXUsdGhpcy5waXhlbE1hdHJpeD10Lm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMubGFiZWxQbGFuZU1hdHJpeCx0aGlzLnByb2pNYXRyaXgpLCEodT10LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnBpeGVsTWF0cml4KSkpdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeCIpO3RoaXMucGl4ZWxNYXRyaXhJbnZlcnNlPXUsdGhpcy5fcG9zTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlPXt9O319LHdvLnByb3RvdHlwZS5tYXhQaXRjaFNjYWxlRmFjdG9yPWZ1bmN0aW9uKCl7aWYoIXRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKXJldHVybiAxO3ZhciBlPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KDAsMCkpLGk9W2UueCp0aGlzLndvcmxkU2l6ZSxlLnkqdGhpcy53b3JsZFNpemUsMCwxXTtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4KVszXS90aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V9LHdvLnByb3RvdHlwZS5nZXRDYW1lcmFQb2ludD1mdW5jdGlvbigpe3ZhciBlPU1hdGgudGFuKHRoaXMuX3BpdGNoKSoodGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlfHwxKTtyZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5hZGQobmV3IHQuUG9pbnQoMCxlKSl9LHdvLnByb3RvdHlwZS5nZXRDYW1lcmFRdWVyeUdlb21ldHJ5PWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuZ2V0Q2FtZXJhUG9pbnQoKTtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIFtlWzBdLGldO2Zvcih2YXIgbz1pLngscj1pLnksYT1pLngsbj1pLnkscz0wLGw9ZTtzPGwubGVuZ3RoO3MrPTEpe3ZhciBjPWxbc107bz1NYXRoLm1pbihvLGMueCkscj1NYXRoLm1pbihyLGMueSksYT1NYXRoLm1heChhLGMueCksbj1NYXRoLm1heChuLGMueSk7fXJldHVybiBbbmV3IHQuUG9pbnQobyxyKSxuZXcgdC5Qb2ludChhLHIpLG5ldyB0LlBvaW50KGEsbiksbmV3IHQuUG9pbnQobyxuKSxuZXcgdC5Qb2ludChvLHIpXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMod28ucHJvdG90eXBlLFRvKTt2YXIgRW89ZnVuY3Rpb24oZSl7dmFyIGksbyxyLGE7dGhpcy5faGFzaE5hbWU9ZSYmZW5jb2RlVVJJQ29tcG9uZW50KGUpLHQuYmluZEFsbChbIl9nZXRDdXJyZW50SGFzaCIsIl9vbkhhc2hDaGFuZ2UiLCJfdXBkYXRlSGFzaCJdLHRoaXMpLHRoaXMuX3VwZGF0ZUhhc2g9KGk9dGhpcy5fdXBkYXRlSGFzaFVudGhyb3R0bGVkLmJpbmQodGhpcyksbz0hMSxyPW51bGwsYT1mdW5jdGlvbigpe3I9bnVsbCxvJiYoaSgpLHI9c2V0VGltZW91dChhLDMwMCksbz0hMSk7fSxmdW5jdGlvbigpe3JldHVybiBvPSEwLHJ8fGEoKSxyfSk7fTtFby5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hcD1lLHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdGhpcy5fbWFwLm9uKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVIYXNoKSx0aGlzfSxFby5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdGhpcy5fbWFwLm9mZigibW92ZWVuZCIsdGhpcy5fdXBkYXRlSGFzaCksY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSksZGVsZXRlIHRoaXMuX21hcCx0aGlzfSxFby5wcm90b3R5cGUuZ2V0SGFzaFN0cmluZz1mdW5jdGlvbihlKXt2YXIgaT10aGlzLl9tYXAuZ2V0Q2VudGVyKCksbz1NYXRoLnJvdW5kKDEwMCp0aGlzLl9tYXAuZ2V0Wm9vbSgpKS8xMDAscj1NYXRoLmNlaWwoKG8qTWF0aC5MTjIrTWF0aC5sb2coNTEyLzM2MC8uNSkpL01hdGguTE4xMCksYT1NYXRoLnBvdygxMCxyKSxuPU1hdGgucm91bmQoaS5sbmcqYSkvYSxzPU1hdGgucm91bmQoaS5sYXQqYSkvYSxsPXRoaXMuX21hcC5nZXRCZWFyaW5nKCksYz10aGlzLl9tYXAuZ2V0UGl0Y2goKSx1PSIiO2lmKHUrPWU/Ii8iK24rIi8iK3MrIi8iK286bysiLyIrcysiLyIrbiwobHx8YykmJih1Kz0iLyIrTWF0aC5yb3VuZCgxMCpsKS8xMCksYyYmKHUrPSIvIitNYXRoLnJvdW5kKGMpKSx0aGlzLl9oYXNoTmFtZSl7dmFyIGg9dGhpcy5faGFzaE5hbWUscD0hMSxkPXQud2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkuc3BsaXQoIiYiKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoIj0iKVswXTtyZXR1cm4gZT09PWg/KHA9ITAsZSsiPSIrdSk6dH0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiBwfHxkLnB1c2goaCsiPSIrdSksIiMiK2Quam9pbigiJiIpfXJldHVybiAiIyIrdX0sRW8ucHJvdG90eXBlLl9nZXRDdXJyZW50SGFzaD1mdW5jdGlvbigpe3ZhciBlLGk9dGhpcyxvPXQud2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgiIyIsIiIpO3JldHVybiB0aGlzLl9oYXNoTmFtZT8oby5zcGxpdCgiJiIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoIj0iKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0WzBdPT09aS5faGFzaE5hbWUmJihlPXQpO30pKSwoZSYmZVsxXXx8IiIpLnNwbGl0KCIvIikpOm8uc3BsaXQoIi8iKX0sRW8ucHJvdG90eXBlLl9vbkhhc2hDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRDdXJyZW50SGFzaCgpO2lmKHQubGVuZ3RoPj0zJiYhdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odCl9KSkpe3ZhciBlPXRoaXMuX21hcC5kcmFnUm90YXRlLmlzRW5hYmxlZCgpJiZ0aGlzLl9tYXAudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpPysodFszXXx8MCk6dGhpcy5fbWFwLmdldEJlYXJpbmcoKTtyZXR1cm4gdGhpcy5fbWFwLmp1bXBUbyh7Y2VudGVyOlsrdFsyXSwrdFsxXV0sem9vbTordFswXSxiZWFyaW5nOmUscGl0Y2g6Kyh0WzRdfHwwKX0pLCEwfXJldHVybiAhMX0sRW8ucHJvdG90eXBlLl91cGRhdGVIYXNoVW50aHJvdHRsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEhhc2hTdHJpbmcoKTt0cnl7dC53aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUodC53aW5kb3cuaGlzdG9yeS5zdGF0ZSwiIixlKTt9Y2F0Y2godCl7fX07dmFyIElvPXtsaW5lYXJpdHk6LjMsZWFzaW5nOnQuYmV6aWVyKDAsMCwuMywxKX0sUG89dC5leHRlbmQoe2RlY2VsZXJhdGlvbjoyNTAwLG1heFNwZWVkOjE0MDB9LElvKSxTbz10LmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjIwLG1heFNwZWVkOjE0MDB9LElvKSxDbz10LmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDozNjB9LElvKSx6bz10LmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDo5MH0sSW8pLERvPWZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuY2xlYXIoKTt9O2Z1bmN0aW9uIE1vKHQsZSl7KCF0LmR1cmF0aW9ufHx0LmR1cmF0aW9uPGUuZHVyYXRpb24pJiYodC5kdXJhdGlvbj1lLmR1cmF0aW9uLHQuZWFzaW5nPWUuZWFzaW5nKTt9ZnVuY3Rpb24gQW8oZSxpLG8pe3ZhciByPW8ubWF4U3BlZWQsYT1vLmxpbmVhcml0eSxuPW8uZGVjZWxlcmF0aW9uLHM9dC5jbGFtcChlKmEvKGkvMWUzKSwtcixyKSxsPU1hdGguYWJzKHMpLyhuKmEpO3JldHVybiB7ZWFzaW5nOm8uZWFzaW5nLGR1cmF0aW9uOjFlMypsLGFtb3VudDpzKihsLzIpfX1Eby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9pbmVydGlhQnVmZmVyPVtdO30sRG8ucHJvdG90eXBlLnJlY29yZD1mdW5jdGlvbihlKXt0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLnB1c2goe3RpbWU6dC5icm93c2VyLm5vdygpLHNldHRpbmdzOmV9KTt9LERvLnByb3RvdHlwZS5fZHJhaW5JbmVydGlhQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2luZXJ0aWFCdWZmZXIsaT10LmJyb3dzZXIubm93KCk7ZS5sZW5ndGg+MCYmaS1lWzBdLnRpbWU+MTYwOyllLnNoaWZ0KCk7fSxEby5wcm90b3R5cGUuX29uTW92ZUVuZD1mdW5jdGlvbihlKXtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSwhKHRoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoPDIpKXtmb3IodmFyIGk9e3pvb206MCxiZWFyaW5nOjAscGl0Y2g6MCxwYW46bmV3IHQuUG9pbnQoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH0sbz0wLHI9dGhpcy5faW5lcnRpYUJ1ZmZlcjtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb10uc2V0dGluZ3M7aS56b29tKz1hLnpvb21EZWx0YXx8MCxpLmJlYXJpbmcrPWEuYmVhcmluZ0RlbHRhfHwwLGkucGl0Y2grPWEucGl0Y2hEZWx0YXx8MCxhLnBhbkRlbHRhJiZpLnBhbi5fYWRkKGEucGFuRGVsdGEpLGEuYXJvdW5kJiYoaS5hcm91bmQ9YS5hcm91bmQpLGEucGluY2hBcm91bmQmJihpLnBpbmNoQXJvdW5kPWEucGluY2hBcm91bmQpO312YXIgbj10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLHM9e307aWYoaS5wYW4ubWFnKCkpe3ZhciBsPUFvKGkucGFuLm1hZygpLG4sdC5leHRlbmQoe30sUG8sZXx8e30pKTtzLm9mZnNldD1pLnBhbi5tdWx0KGwuYW1vdW50L2kucGFuLm1hZygpKSxzLmNlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlcixNbyhzLGwpO31pZihpLnpvb20pe3ZhciBjPUFvKGkuem9vbSxuLFNvKTtzLnpvb209dGhpcy5fbWFwLnRyYW5zZm9ybS56b29tK2MuYW1vdW50LE1vKHMsYyk7fWlmKGkuYmVhcmluZyl7dmFyIHU9QW8oaS5iZWFyaW5nLG4sQ28pO3MuYmVhcmluZz10aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcrdC5jbGFtcCh1LmFtb3VudCwtMTc5LDE3OSksTW8ocyx1KTt9aWYoaS5waXRjaCl7dmFyIGg9QW8oaS5waXRjaCxuLHpvKTtzLnBpdGNoPXRoaXMuX21hcC50cmFuc2Zvcm0ucGl0Y2graC5hbW91bnQsTW8ocyxoKTt9aWYocy56b29tfHxzLmJlYXJpbmcpe3ZhciBwPXZvaWQgMD09PWkucGluY2hBcm91bmQ/aS5hcm91bmQ6aS5waW5jaEFyb3VuZDtzLmFyb3VuZD1wP3RoaXMuX21hcC51bnByb2plY3QocCk6dGhpcy5fbWFwLmdldENlbnRlcigpO31yZXR1cm4gdGhpcy5jbGVhcigpLHQuZXh0ZW5kKHMse25vTW92ZVN0YXJ0OiEwfSl9fTt2YXIgTG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIsYSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHM9aS5tb3VzZVBvcyhyLmdldENhbnZhc0NvbnRhaW5lcigpLGEpLGw9ci51bnByb2plY3Qocyk7ZS5jYWxsKHRoaXMsbyx0LmV4dGVuZCh7cG9pbnQ6cyxsbmdMYXQ6bCxvcmlnaW5hbEV2ZW50OmF9LG4pKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PXI7fWUmJihvLl9fcHJvdG9fXz1lKSwoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW87dmFyIHI9e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBvLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxyLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8ucHJvdG90eXBlLHIpLG99KHQuRXZlbnQpLFJvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8obyxyLGEpe3ZhciBuPSJ0b3VjaGVuZCI9PT1vP2EuY2hhbmdlZFRvdWNoZXM6YS50b3VjaGVzLHM9aS50b3VjaFBvcyhyLmdldENhbnZhc0NvbnRhaW5lcigpLG4pLGw9cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiByLnVucHJvamVjdCh0KX0pKSxjPXMucmVkdWNlKChmdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gdC5hZGQoZS5kaXYoby5sZW5ndGgpKX0pLG5ldyB0LlBvaW50KDAsMCkpLHU9ci51bnByb2plY3QoYyk7ZS5jYWxsKHRoaXMsbyx7cG9pbnRzOnMscG9pbnQ6YyxsbmdMYXRzOmwsbG5nTGF0OnUsb3JpZ2luYWxFdmVudDphfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9ZSYmKG8uX19wcm90b19fPWUpLChvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bzt2YXIgcj17ZGVmYXVsdFByZXZlbnRlZDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIG8ucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9LHIuZGVmYXVsdFByZXZlbnRlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoby5wcm90b3R5cGUsciksb30odC5FdmVudCksa289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbyl7dC5jYWxsKHRoaXMsZSx7b3JpZ2luYWxFdmVudDpvfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgaT17ZGVmYXVsdFByZXZlbnRlZDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9LGkuZGVmYXVsdFByZXZlbnRlZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsaSksZX0odC5FdmVudCksQm89ZnVuY3Rpb24odCxlKXt0aGlzLl9tYXA9dCx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlO307Qm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX21vdXNlZG93blBvczt9LEJvLnByb3RvdHlwZS53aGVlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBrbyh0LnR5cGUsdGhpcy5fbWFwLHQpKX0sQm8ucHJvdG90eXBlLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9tb3VzZWRvd25Qb3M9ZSx0aGlzLl9maXJlUHJldmVudGFibGUobmV3IExvKHQudHlwZSx0aGlzLl9tYXAsdCkpfSxCby5wcm90b3R5cGUubW91c2V1cD1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxCby5wcm90b3R5cGUuY2xpY2s9ZnVuY3Rpb24odCxlKXt0aGlzLl9tb3VzZWRvd25Qb3MmJnRoaXMuX21vdXNlZG93blBvcy5kaXN0KGUpPj10aGlzLl9jbGlja1RvbGVyYW5jZXx8dGhpcy5fbWFwLmZpcmUobmV3IExvKHQudHlwZSx0aGlzLl9tYXAsdCkpO30sQm8ucHJvdG90eXBlLmRibGNsaWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IExvKHQudHlwZSx0aGlzLl9tYXAsdCkpfSxCby5wcm90b3R5cGUubW91c2VvdmVyPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5maXJlKG5ldyBMbyh0LnR5cGUsdGhpcy5fbWFwLHQpKTt9LEJvLnByb3RvdHlwZS5tb3VzZW91dD1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxCby5wcm90b3R5cGUudG91Y2hzdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBSbyh0LnR5cGUsdGhpcy5fbWFwLHQpKX0sQm8ucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5maXJlKG5ldyBSbyh0LnR5cGUsdGhpcy5fbWFwLHQpKTt9LEJvLnByb3RvdHlwZS50b3VjaGNhbmNlbD1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgUm8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxCby5wcm90b3R5cGUuX2ZpcmVQcmV2ZW50YWJsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9tYXAuZmlyZSh0KSx0LmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHt9fSxCby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxCby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LEJvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt9LEJvLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7fTt2YXIgT289ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7fTtPby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50O30sT28ucHJvdG90eXBlLm1vdXNlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSk7fSxPby5wcm90b3R5cGUudG91Y2htb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5maXJlKG5ldyBSbyh0LnR5cGUsdGhpcy5fbWFwLHQpKTt9LE9vLnByb3RvdHlwZS5tb3VzZWRvd249ZnVuY3Rpb24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSEwO30sT28ucHJvdG90eXBlLm1vdXNldXA9ZnVuY3Rpb24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQmJih0aGlzLl9tYXAuZmlyZShuZXcgTG8oImNvbnRleHRtZW51Iix0aGlzLl9tYXAsdGhpcy5fY29udGV4dE1lbnVFdmVudCkpLGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50KTt9LE9vLnByb3RvdHlwZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXt0aGlzLl9kZWxheUNvbnRleHRNZW51P3RoaXMuX2NvbnRleHRNZW51RXZlbnQ9dDp0aGlzLl9tYXAuZmlyZShuZXcgTG8odC50eXBlLHRoaXMuX21hcCx0KSksdGhpcy5fbWFwLmxpc3RlbnMoImNvbnRleHRtZW51IikmJnQucHJldmVudERlZmF1bHQoKTt9LE9vLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LE9vLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiAhMX0sT28ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe30sT28ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt9O3ZhciBGbz1mdW5jdGlvbih0LGUpe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5fY29udGFpbmVyPXQuZ2V0Q29udGFpbmVyKCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZXx8MTt9O2Z1bmN0aW9uIFVvKHQsZSl7Zm9yKHZhciBpPXt9LG89MDtvPHQubGVuZ3RoO28rKylpW3Rbb10uaWRlbnRpZmllcl09ZVtvXTtyZXR1cm4gaX1Gby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sRm8ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxGby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO30sRm8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxGby5wcm90b3R5cGUubW91c2Vkb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5pc0VuYWJsZWQoKSYmdC5zaGlmdEtleSYmMD09PXQuYnV0dG9uJiYoaS5kaXNhYmxlRHJhZygpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3M9ZSx0aGlzLl9hY3RpdmU9ITApO30sRm8ucHJvdG90eXBlLm1vdXNlbW92ZVdpbmRvdz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2FjdGl2ZSl7dmFyIG89ZTtpZighKHRoaXMuX2xhc3RQb3MuZXF1YWxzKG8pfHwhdGhpcy5fYm94JiZvLmRpc3QodGhpcy5fc3RhcnRQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSl7dmFyIHI9dGhpcy5fc3RhcnRQb3M7dGhpcy5fbGFzdFBvcz1vLHRoaXMuX2JveHx8KHRoaXMuX2JveD1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtYm94em9vbSIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3Jvc3NoYWlyIiksdGhpcy5fZmlyZUV2ZW50KCJib3h6b29tc3RhcnQiLHQpKTt2YXIgYT1NYXRoLm1pbihyLngsby54KSxuPU1hdGgubWF4KHIueCxvLngpLHM9TWF0aC5taW4oci55LG8ueSksbD1NYXRoLm1heChyLnksby55KTtpLnNldFRyYW5zZm9ybSh0aGlzLl9ib3gsInRyYW5zbGF0ZSgiK2ErInB4LCIrcysicHgpIiksdGhpcy5fYm94LnN0eWxlLndpZHRoPW4tYSsicHgiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9bC1zKyJweCI7fX19LEZvLnByb3RvdHlwZS5tb3VzZXVwV2luZG93PWZ1bmN0aW9uKGUsbyl7dmFyIHI9dGhpcztpZih0aGlzLl9hY3RpdmUmJjA9PT1lLmJ1dHRvbil7dmFyIGE9dGhpcy5fc3RhcnRQb3Msbj1vO2lmKHRoaXMucmVzZXQoKSxpLnN1cHByZXNzQ2xpY2soKSxhLnghPT1uLnh8fGEueSE9PW4ueSlyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoImJveHpvb21lbmQiLHtvcmlnaW5hbEV2ZW50OmV9KSkse2NhbWVyYUFuaW1hdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5maXRTY3JlZW5Db29yZGluYXRlcyhhLG4sci5fbWFwLmdldEJlYXJpbmcoKSx7bGluZWFyOiEwfSl9fTt0aGlzLl9maXJlRXZlbnQoImJveHpvb21jYW5jZWwiLGUpO319LEZvLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZSYmMjc9PT10LmtleUNvZGUmJih0aGlzLnJlc2V0KCksdGhpcy5fZmlyZUV2ZW50KCJib3h6b29tY2FuY2VsIix0KSk7fSxGby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWNyb3NzaGFpciIpLHRoaXMuX2JveCYmKGkucmVtb3ZlKHRoaXMuX2JveCksdGhpcy5fYm94PW51bGwpLGkuZW5hYmxlRHJhZygpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvczt9LEZvLnByb3RvdHlwZS5fZmlyZUV2ZW50PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KGUse29yaWdpbmFsRXZlbnQ6aX0pKX07dmFyIE5vPWZ1bmN0aW9uKHQpe3RoaXMucmVzZXQoKSx0aGlzLm51bVRvdWNoZXM9dC5udW1Ub3VjaGVzO307Tm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2VudHJvaWQsZGVsZXRlIHRoaXMuc3RhcnRUaW1lLGRlbGV0ZSB0aGlzLnRvdWNoZXMsdGhpcy5hYm9ydGVkPSExO30sTm8ucHJvdG90eXBlLnRvdWNoc3RhcnQ9ZnVuY3Rpb24oZSxpKXsodGhpcy5jZW50cm9pZHx8ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD50aGlzLm51bVRvdWNoZXMpJiYodGhpcy5hYm9ydGVkPSEwKSx0aGlzLmFib3J0ZWR8fCh2b2lkIDA9PT10aGlzLnN0YXJ0VGltZSYmKHRoaXMuc3RhcnRUaW1lPWUudGltZVN0YW1wKSxlLnRhcmdldFRvdWNoZXMubGVuZ3RoPT09dGhpcy5udW1Ub3VjaGVzJiYodGhpcy5jZW50cm9pZD1mdW5jdGlvbihlKXtmb3IodmFyIGk9bmV3IHQuUG9pbnQoMCwwKSxvPTAscj1lO288ci5sZW5ndGg7bys9MSlpLl9hZGQocltvXSk7cmV0dXJuIGkuZGl2KGUubGVuZ3RoKX0oaSksdGhpcy50b3VjaGVzPVVvKGUudGFyZ2V0VG91Y2hlcyxpKSkpO30sTm8ucHJvdG90eXBlLnRvdWNobW92ZT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQpe3ZhciBpPVVvKHQudGFyZ2V0VG91Y2hlcyxlKTtmb3IodmFyIG8gaW4gdGhpcy50b3VjaGVzKXt2YXIgcj1pW29dOyghcnx8ci5kaXN0KHRoaXMudG91Y2hlc1tvXSk+MzApJiYodGhpcy5hYm9ydGVkPSEwKTt9fX0sTm8ucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe2lmKCghdGhpcy5jZW50cm9pZHx8dC50aW1lU3RhbXAtdGhpcy5zdGFydFRpbWU+NTAwKSYmKHRoaXMuYWJvcnRlZD0hMCksMD09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGgpe3ZhciBlPSF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQ7aWYodGhpcy5yZXNldCgpLGUpcmV0dXJuIGV9fTt2YXIgWm89ZnVuY3Rpb24odCl7dGhpcy5zaW5nbGVUYXA9bmV3IE5vKHQpLHRoaXMubnVtVGFwcz10Lm51bVRhcHMsdGhpcy5yZXNldCgpO307Wm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sYXN0VGltZT0xLzAsZGVsZXRlIHRoaXMubGFzdFRhcCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKTt9LFpvLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydCh0LGUpO30sWm8ucHJvdG90eXBlLnRvdWNobW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuc2luZ2xlVGFwLnRvdWNobW92ZSh0LGUpO30sWm8ucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2luZ2xlVGFwLnRvdWNoZW5kKHQpO2lmKGUpe3ZhciBpPXQudGltZVN0YW1wLXRoaXMubGFzdFRpbWU8NTAwLG89IXRoaXMubGFzdFRhcHx8dGhpcy5sYXN0VGFwLmRpc3QoZSk8MzA7aWYoaSYmb3x8dGhpcy5yZXNldCgpLHRoaXMuY291bnQrKyx0aGlzLmxhc3RUaW1lPXQudGltZVN0YW1wLHRoaXMubGFzdFRhcD1lLHRoaXMuY291bnQ9PT10aGlzLm51bVRhcHMpcmV0dXJuIHRoaXMucmVzZXQoKSxlfX07dmFyIGpvPWZ1bmN0aW9uKCl7dGhpcy5fem9vbUluPW5ldyBabyh7bnVtVG91Y2hlczoxLG51bVRhcHM6Mn0pLHRoaXMuX3pvb21PdXQ9bmV3IFpvKHtudW1Ub3VjaGVzOjIsbnVtVGFwczoxfSksdGhpcy5yZXNldCgpO307am8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3pvb21Jbi5yZXNldCgpLHRoaXMuX3pvb21PdXQucmVzZXQoKTt9LGpvLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fem9vbUluLnRvdWNoc3RhcnQodCxlKSx0aGlzLl96b29tT3V0LnRvdWNoc3RhcnQodCxlKTt9LGpvLnByb3RvdHlwZS50b3VjaG1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKHQsZSksdGhpcy5fem9vbU91dC50b3VjaG1vdmUodCxlKTt9LGpvLnByb3RvdHlwZS50b3VjaGVuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dGhpcy5fem9vbUluLnRvdWNoZW5kKHQpLG89dGhpcy5fem9vbU91dC50b3VjaGVuZCh0KTtyZXR1cm4gaT8odGhpcy5fYWN0aXZlPSEwLHQucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBlLnJlc2V0KCl9KSwwKSx7Y2FtZXJhQW5pbWF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206ZS5nZXRab29tKCkrMSxhcm91bmQ6ZS51bnByb2plY3QoaSl9LHtvcmlnaW5hbEV2ZW50OnR9KX19KTpvPyh0aGlzLl9hY3RpdmU9ITAsdC5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVzZXQoKX0pLDApLHtjYW1lcmFBbmltYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTplLmdldFpvb20oKS0xLGFyb3VuZDplLnVucHJvamVjdChvKX0se29yaWdpbmFsRXZlbnQ6dH0pfX0pOnZvaWQgMH0sam8ucHJvdG90eXBlLnRvdWNoY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpO30sam8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITA7fSxqby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO30sam8ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxqby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlfTt2YXIgcW89ZnVuY3Rpb24odCl7dGhpcy5yZXNldCgpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDE7fTtxby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbW92ZWQ9ITEsZGVsZXRlIHRoaXMuX2xhc3RQb2ludCxkZWxldGUgdGhpcy5fZXZlbnRCdXR0b247fSxxby5wcm90b3R5cGUuX2NvcnJlY3RCdXR0b249ZnVuY3Rpb24odCxlKXtyZXR1cm4gITF9LHFvLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB7fX0scW8ucHJvdG90eXBlLm1vdXNlZG93bj1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9sYXN0UG9pbnQpe3ZhciBvPWkubW91c2VCdXR0b24odCk7dGhpcy5fY29ycmVjdEJ1dHRvbih0LG8pJiYodGhpcy5fbGFzdFBvaW50PWUsdGhpcy5fZXZlbnRCdXR0b249byk7fX0scW8ucHJvdG90eXBlLm1vdXNlbW92ZVdpbmRvdz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xhc3RQb2ludDtpZihpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX21vdmVkfHwhKGUuZGlzdChpKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpKXJldHVybiB0aGlzLl9tb3ZlZD0hMCx0aGlzLl9sYXN0UG9pbnQ9ZSx0aGlzLl9tb3ZlKGksZSl9LHFvLnByb3RvdHlwZS5tb3VzZXVwV2luZG93PWZ1bmN0aW9uKHQpe2kubW91c2VCdXR0b24odCk9PT10aGlzLl9ldmVudEJ1dHRvbiYmKHRoaXMuX21vdmVkJiZpLnN1cHByZXNzQ2xpY2soKSx0aGlzLnJlc2V0KCkpO30scW8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITA7fSxxby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO30scW8ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxxby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlfTt2YXIgVm89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5tb3VzZWRvd249ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5tb3VzZWRvd24uY2FsbCh0aGlzLGUsaSksdGhpcy5fbGFzdFBvaW50JiYodGhpcy5fYWN0aXZlPSEwKTt9LGUucHJvdG90eXBlLl9jb3JyZWN0QnV0dG9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT1lJiYhdC5jdHJsS2V5fSxlLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB7YXJvdW5kOmUscGFuRGVsdGE6ZS5zdWIodCl9fSxlfShxbyksR289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fY29ycmVjdEJ1dHRvbj1mdW5jdGlvbih0LGUpe3JldHVybiAwPT09ZSYmdC5jdHJsS2V5fHwyPT09ZX0sZS5wcm90b3R5cGUuX21vdmU9ZnVuY3Rpb24odCxlKXt2YXIgaT0uOCooZS54LXQueCk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6aX19LGUucHJvdG90eXBlLmNvbnRleHRtZW51PWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt9LGV9KHFvKSxXbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9jb3JyZWN0QnV0dG9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT1lJiZ0LmN0cmxLZXl8fDI9PT1lfSxlLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpPS0uNSooZS55LXQueSk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOml9fSxlLnByb3RvdHlwZS5jb250ZXh0bWVudT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7fSxlfShxbyksWG89ZnVuY3Rpb24odCl7dGhpcy5fbWluVG91Y2hlcz0xLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDEsdGhpcy5yZXNldCgpO307WG8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3RvdWNoZXM9e30sdGhpcy5fc3VtPW5ldyB0LlBvaW50KDAsMCk7fSxYby5wcm90b3R5cGUudG91Y2hzdGFydD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0odCxlKX0sWG8ucHJvdG90eXBlLnRvdWNobW92ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2FjdGl2ZSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGUpfSxYby5wcm90b3R5cGUudG91Y2hlbmQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0odCxlKSx0aGlzLl9hY3RpdmUmJnQudGFyZ2V0VG91Y2hlcy5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO30sWG8ucHJvdG90eXBlLnRvdWNoY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpO30sWG8ucHJvdG90eXBlLl9jYWxjdWxhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oZSxpKXtlLnRhcmdldFRvdWNoZXMubGVuZ3RoPjAmJih0aGlzLl9hY3RpdmU9ITApO3ZhciBvPVVvKGUudGFyZ2V0VG91Y2hlcyxpKSxyPW5ldyB0LlBvaW50KDAsMCksYT1uZXcgdC5Qb2ludCgwLDApLG49MDtmb3IodmFyIHMgaW4gbyl7dmFyIGw9b1tzXSxjPXRoaXMuX3RvdWNoZXNbc107YyYmKHIuX2FkZChsKSxhLl9hZGQobC5zdWIoYykpLG4rKyxvW3NdPWwpO31pZih0aGlzLl90b3VjaGVzPW8sIShuPHRoaXMuX21pblRvdWNoZXMpJiZhLm1hZygpKXt2YXIgdT1hLmRpdihuKTtpZih0aGlzLl9zdW0uX2FkZCh1KSwhKHRoaXMuX3N1bS5tYWcoKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpcmV0dXJuIHthcm91bmQ6ci5kaXYobikscGFuRGVsdGE6dX19fSxYby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMDt9LFhvLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fSxYby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LFhvLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmV9O3ZhciBIbz1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9O2Z1bmN0aW9uIEtvKHQsZSxpKXtmb3IodmFyIG89MDtvPHQudGFyZ2V0VG91Y2hlcy5sZW5ndGg7bysrKWlmKHQudGFyZ2V0VG91Y2hlc1tvXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gZVtvXX1mdW5jdGlvbiBZbyh0LGUpe3JldHVybiBNYXRoLmxvZyh0L2UpL01hdGguTE4yfUhvLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMSxkZWxldGUgdGhpcy5fZmlyc3RUd29Ub3VjaGVzO30sSG8ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbih0KXt9LEhvLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHt9fSxIby5wcm90b3R5cGUudG91Y2hzdGFydD1mdW5jdGlvbih0LGUpe3RoaXMuX2ZpcnN0VHdvVG91Y2hlc3x8dC50YXJnZXRUb3VjaGVzLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVt0LnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcix0LnRhcmdldFRvdWNoZXNbMV0uaWRlbnRpZmllcl0sdGhpcy5fc3RhcnQoW2VbMF0sZVsxXV0pKTt9LEhvLnByb3RvdHlwZS50b3VjaG1vdmU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9maXJzdFR3b1RvdWNoZXMpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbz1pWzFdLHI9S28odCxlLGlbMF0pLGE9S28odCxlLG8pO2lmKHImJmEpe3ZhciBuPXRoaXMuX2Fyb3VuZENlbnRlcj9udWxsOnIuYWRkKGEpLmRpdigyKTtyZXR1cm4gdGhpcy5fbW92ZShbcixhXSxuLHQpfX19LEhvLnByb3RvdHlwZS50b3VjaGVuZD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2ZpcnN0VHdvVG91Y2hlcyl7dmFyIG89dGhpcy5fZmlyc3RUd29Ub3VjaGVzLHI9b1sxXSxhPUtvKHQsZSxvWzBdKSxuPUtvKHQsZSxyKTthJiZufHwodGhpcy5fYWN0aXZlJiZpLnN1cHByZXNzQ2xpY2soKSx0aGlzLnJlc2V0KCkpO319LEhvLnByb3RvdHlwZS50b3VjaGNhbmNlbD1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9LEhvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISF0JiYiY2VudGVyIj09PXQuYXJvdW5kO30sSG8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9LEhvLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sSG8ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX07dmFyIEpvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpLGRlbGV0ZSB0aGlzLl9kaXN0YW5jZSxkZWxldGUgdGhpcy5fc3RhcnREaXN0YW5jZTt9LGUucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbih0KXt0aGlzLl9zdGFydERpc3RhbmNlPXRoaXMuX2Rpc3RhbmNlPXRbMF0uZGlzdCh0WzFdKTt9LGUucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZGlzdGFuY2U7aWYodGhpcy5fZGlzdGFuY2U9dFswXS5kaXN0KHRbMV0pLHRoaXMuX2FjdGl2ZXx8IShNYXRoLmFicyhZbyh0aGlzLl9kaXN0YW5jZSx0aGlzLl9zdGFydERpc3RhbmNlKSk8LjEpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpZbyh0aGlzLl9kaXN0YW5jZSxpKSxwaW5jaEFyb3VuZDplfX0sZX0oSG8pO2Z1bmN0aW9uIFFvKHQsZSl7cmV0dXJuIDE4MCp0LmFuZ2xlV2l0aChlKS9NYXRoLlBJfXZhciAkbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKSxkZWxldGUgdGhpcy5fbWluRGlhbWV0ZXIsZGVsZXRlIHRoaXMuX3N0YXJ0VmVjdG9yLGRlbGV0ZSB0aGlzLl92ZWN0b3I7fSxlLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRWZWN0b3I9dGhpcy5fdmVjdG9yPXRbMF0uc3ViKHRbMV0pLHRoaXMuX21pbkRpYW1ldGVyPXRbMF0uZGlzdCh0WzFdKTt9LGUucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdmVjdG9yO2lmKHRoaXMuX3ZlY3Rvcj10WzBdLnN1Yih0WzFdKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9pc0JlbG93VGhyZXNob2xkKHRoaXMuX3ZlY3RvcikpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOlFvKHRoaXMuX3ZlY3RvcixpKSxwaW5jaEFyb3VuZDplfX0sZS5wcm90b3R5cGUuX2lzQmVsb3dUaHJlc2hvbGQ9ZnVuY3Rpb24odCl7dGhpcy5fbWluRGlhbWV0ZXI9TWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsdC5tYWcoKSk7dmFyIGU9MjUvKE1hdGguUEkqdGhpcy5fbWluRGlhbWV0ZXIpKjM2MCxpPVFvKHQsdGhpcy5fc3RhcnRWZWN0b3IpO3JldHVybiBNYXRoLmFicyhpKTxlfSxlfShIbyk7ZnVuY3Rpb24gdHIodCl7cmV0dXJuIE1hdGguYWJzKHQueSk+TWF0aC5hYnModC54KX12YXIgZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fdmFsaWQ9dm9pZCAwLGRlbGV0ZSB0aGlzLl9maXJzdE1vdmUsZGVsZXRlIHRoaXMuX2xhc3RQb2ludHM7fSxlLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fbGFzdFBvaW50cz10LHRyKHRbMF0uc3ViKHRbMV0pKSYmKHRoaXMuX3ZhbGlkPSExKTt9LGUucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10WzBdLnN1Yih0aGlzLl9sYXN0UG9pbnRzWzBdKSxyPXRbMV0uc3ViKHRoaXMuX2xhc3RQb2ludHNbMV0pO2lmKHRoaXMuX3ZhbGlkPXRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkobyxyLGkudGltZVN0YW1wKSx0aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fbGFzdFBvaW50cz10LHRoaXMuX2FjdGl2ZT0hMCx7cGl0Y2hEZWx0YTooby55K3IueSkvMiotLjV9fSxlLnByb3RvdHlwZS5nZXN0dXJlQmVnaW5zVmVydGljYWxseT1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwIT09dGhpcy5fdmFsaWQpcmV0dXJuIHRoaXMuX3ZhbGlkO3ZhciBvPXQubWFnKCk+PTIscj1lLm1hZygpPj0yO2lmKG98fHIpe2lmKCFvfHwhcilyZXR1cm4gdm9pZCAwPT09dGhpcy5fZmlyc3RNb3ZlJiYodGhpcy5fZmlyc3RNb3ZlPWkpLGktdGhpcy5fZmlyc3RNb3ZlPDEwMCYmdm9pZCAwO3ZhciBhPXQueT4wPT1lLnk+MDtyZXR1cm4gdHIodCkmJnRyKGUpJiZhfX0sZX0oSG8pLGlyPXtwYW5TdGVwOjEwMCxiZWFyaW5nU3RlcDoxNSxwaXRjaFN0ZXA6MTB9LG9yPWZ1bmN0aW9uKCl7dmFyIHQ9aXI7dGhpcy5fcGFuU3RlcD10LnBhblN0ZXAsdGhpcy5fYmVhcmluZ1N0ZXA9dC5iZWFyaW5nU3RlcCx0aGlzLl9waXRjaFN0ZXA9dC5waXRjaFN0ZXA7fTtmdW5jdGlvbiBycih0KXtyZXR1cm4gdCooMi10KX1vci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITE7fSxvci5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCEodC5hbHRLZXl8fHQuY3RybEtleXx8dC5tZXRhS2V5KSl7dmFyIGk9MCxvPTAscj0wLGE9MCxuPTA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA2MTpjYXNlIDEwNzpjYXNlIDE3MTpjYXNlIDE4NzppPTE7YnJlYWs7Y2FzZSAxODk6Y2FzZSAxMDk6Y2FzZSAxNzM6aT0tMTticmVhaztjYXNlIDM3OnQuc2hpZnRLZXk/bz0tMToodC5wcmV2ZW50RGVmYXVsdCgpLGE9LTEpO2JyZWFrO2Nhc2UgMzk6dC5zaGlmdEtleT9vPTE6KHQucHJldmVudERlZmF1bHQoKSxhPTEpO2JyZWFrO2Nhc2UgMzg6dC5zaGlmdEtleT9yPTE6KHQucHJldmVudERlZmF1bHQoKSxuPS0xKTticmVhaztjYXNlIDQwOnQuc2hpZnRLZXk/cj0tMToodC5wcmV2ZW50RGVmYXVsdCgpLG49MSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59cmV0dXJuIHtjYW1lcmFBbmltYXRpb246ZnVuY3Rpb24ocyl7dmFyIGw9cy5nZXRab29tKCk7cy5lYXNlVG8oe2R1cmF0aW9uOjMwMCxlYXNlSWQ6ImtleWJvYXJkSGFuZGxlciIsZWFzaW5nOnJyLHpvb206aT9NYXRoLnJvdW5kKGwpK2kqKHQuc2hpZnRLZXk/MjoxKTpsLGJlYXJpbmc6cy5nZXRCZWFyaW5nKCkrbyplLl9iZWFyaW5nU3RlcCxwaXRjaDpzLmdldFBpdGNoKCkrciplLl9waXRjaFN0ZXAsb2Zmc2V0OlstYSplLl9wYW5TdGVwLC1uKmUuX3BhblN0ZXBdLGNlbnRlcjpzLmdldENlbnRlcigpfSx7b3JpZ2luYWxFdmVudDp0fSk7fX19fSxvci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMDt9LG9yLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fSxvci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LG9yLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmV9O3ZhciBhcj1mdW5jdGlvbihlLGkpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcj1pLHRoaXMuX2RlbHRhPTAsdGhpcy5fZGVmYXVsdFpvb21SYXRlPS4wMSx0aGlzLl93aGVlbFpvb21SYXRlPTEvNDUwLHQuYmluZEFsbChbIl9vbldoZWVsIiwiX29uVGltZW91dCIsIl9vblNjcm9sbEZyYW1lIiwiX29uU2Nyb2xsRmluaXNoZWQiXSx0aGlzKTt9O2FyLnByb3RvdHlwZS5zZXRab29tUmF0ZT1mdW5jdGlvbih0KXt0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9dDt9LGFyLnByb3RvdHlwZS5zZXRXaGVlbFpvb21SYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3doZWVsWm9vbVJhdGU9dDt9LGFyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfSxhci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV8fHZvaWQgMCE9PXRoaXMuX2ZpbmlzaFRpbWVvdXR9LGFyLnByb3RvdHlwZS5pc1pvb21pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl96b29taW5nfSxhci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj10JiYiY2VudGVyIj09PXQuYXJvdW5kKTt9LGFyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpO30sYXIucHJvdG90eXBlLndoZWVsPWZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNFbmFibGVkKCkpe3ZhciBpPWUuZGVsdGFNb2RlPT09dC53aW5kb3cuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCplLmRlbHRhWTplLmRlbHRhWSxvPXQuYnJvd3Nlci5ub3coKSxyPW8tKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZXx8MCk7dGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPW8sMCE9PWkmJmklNC4wMDAyNDQxNDA2MjU9PTA/dGhpcy5fdHlwZT0id2hlZWwiOjAhPT1pJiZNYXRoLmFicyhpKTw0P3RoaXMuX3R5cGU9InRyYWNrcGFkIjpyPjQwMD8odGhpcy5fdHlwZT1udWxsLHRoaXMuX2xhc3RWYWx1ZT1pLHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsNDAsZSkpOnRoaXMuX3R5cGV8fCh0aGlzLl90eXBlPU1hdGguYWJzKHIqaSk8MjAwPyJ0cmFja3BhZCI6IndoZWVsIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxpKz10aGlzLl9sYXN0VmFsdWUpKSxlLnNoaWZ0S2V5JiZpJiYoaS89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PWUsdGhpcy5fZGVsdGEtPWksdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydChlKSksZS5wcmV2ZW50RGVmYXVsdCgpO319LGFyLnByb3RvdHlwZS5fb25UaW1lb3V0PWZ1bmN0aW9uKHQpe3RoaXMuX3R5cGU9IndoZWVsIix0aGlzLl9kZWx0YS09dGhpcy5fbGFzdFZhbHVlLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQodCk7fSxhci5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2RlbHRhKXt0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1udWxsKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5pc1pvb21pbmcoKXx8KHRoaXMuX3pvb21pbmc9ITApLHRoaXMuX2ZpbmlzaFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fZmluaXNoVGltZW91dCksZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQpO3ZhciBvPWkubW91c2VQb3ModGhpcy5fZWwsZSk7dGhpcy5fYXJvdW5kPXQuTG5nTGF0LmNvbnZlcnQodGhpcy5fYXJvdW5kQ2VudGVyP3RoaXMuX21hcC5nZXRDZW50ZXIoKTp0aGlzLl9tYXAudW5wcm9qZWN0KG8pKSx0aGlzLl9hcm91bmRQb2ludD10aGlzLl9tYXAudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQodGhpcy5fYXJvdW5kKSx0aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSk7fX0sYXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2Nyb2xsRnJhbWUoKX0sYXIucHJvdG90eXBlLl9vblNjcm9sbEZyYW1lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1udWxsLHRoaXMuaXNBY3RpdmUoKSkpe3ZhciBpPXRoaXMuX21hcC50cmFuc2Zvcm07aWYoMCE9PXRoaXMuX2RlbHRhKXt2YXIgbz0id2hlZWwiPT09dGhpcy5fdHlwZSYmTWF0aC5hYnModGhpcy5fZGVsdGEpPjQuMDAwMjQ0MTQwNjI1P3RoaXMuX3doZWVsWm9vbVJhdGU6dGhpcy5fZGVmYXVsdFpvb21SYXRlLHI9Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqbykpKTt0aGlzLl9kZWx0YTwwJiYwIT09ciYmKHI9MS9yKTt2YXIgYT0ibnVtYmVyIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/aS56b29tU2NhbGUodGhpcy5fdGFyZ2V0Wm9vbSk6aS5zY2FsZTt0aGlzLl90YXJnZXRab29tPU1hdGgubWluKGkubWF4Wm9vbSxNYXRoLm1heChpLm1pblpvb20saS5zY2FsZVpvb20oYSpyKSkpLCJ3aGVlbCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPWkuem9vbSx0aGlzLl9lYXNpbmc9dGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCkpLHRoaXMuX2RlbHRhPTA7fXZhciBuLHM9Im51bWJlciI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3RoaXMuX3RhcmdldFpvb206aS56b29tLGw9dGhpcy5fc3RhcnRab29tLGM9dGhpcy5fZWFzaW5nLHU9ITE7aWYoIndoZWVsIj09PXRoaXMuX3R5cGUmJmwmJmMpe3ZhciBoPU1hdGgubWluKCh0LmJyb3dzZXIubm93KCktdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKS8yMDAsMSkscD1jKGgpO249dC5udW1iZXIobCxzLHApLGg8MT90aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCk6dT0hMDt9ZWxzZSBuPXMsdT0hMDtyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHUmJih0aGlzLl9hY3RpdmU9ITEsdGhpcy5fZmluaXNoVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX3pvb21pbmc9ITEsZS5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCksZGVsZXRlIGUuX3RhcmdldFpvb20sZGVsZXRlIGUuX2ZpbmlzaFRpbWVvdXQ7fSksMjAwKSkse25vSW5lcnRpYTohMCxuZWVkc1JlbmRlckZyYW1lOiF1LHpvb21EZWx0YTpuLWkuem9vbSxhcm91bmQ6dGhpcy5fYXJvdW5kUG9pbnQsb3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH19fSxhci5wcm90b3R5cGUuX3Ntb290aE91dEVhc2luZz1mdW5jdGlvbihlKXt2YXIgaT10LmVhc2U7aWYodGhpcy5fcHJldkVhc2Upe3ZhciBvPXRoaXMuX3ByZXZFYXNlLHI9KHQuYnJvd3Nlci5ub3coKS1vLnN0YXJ0KS9vLmR1cmF0aW9uLGE9by5lYXNpbmcocisuMDEpLW8uZWFzaW5nKHIpLG49LjI3L01hdGguc3FydChhKmErMWUtNCkqLjAxLHM9TWF0aC5zcXJ0KC4wNzI5LW4qbik7aT10LmJlemllcihuLHMsLjI1LDEpO31yZXR1cm4gdGhpcy5fcHJldkVhc2U9e3N0YXJ0OnQuYnJvd3Nlci5ub3coKSxkdXJhdGlvbjplLGVhc2luZzppfSxpfSxhci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITE7fTt2YXIgbnI9ZnVuY3Rpb24odCxlKXt0aGlzLl9jbGlja1pvb209dCx0aGlzLl90YXBab29tPWU7fTtuci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fY2xpY2tab29tLmVuYWJsZSgpLHRoaXMuX3RhcFpvb20uZW5hYmxlKCk7fSxuci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCksdGhpcy5fdGFwWm9vbS5kaXNhYmxlKCk7fSxuci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKX0sbnIucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBab29tLmlzQWN0aXZlKCl9O3ZhciBzcj1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9O3NyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMTt9LHNyLnByb3RvdHlwZS5kYmxjbGljaz1mdW5jdGlvbih0LGUpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCkse2NhbWVyYUFuaW1hdGlvbjpmdW5jdGlvbihpKXtpLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206aS5nZXRab29tKCkrKHQuc2hpZnRLZXk/LTE6MSksYXJvdW5kOmkudW5wcm9qZWN0KGUpfSx7b3JpZ2luYWxFdmVudDp0fSk7fX19LHNyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSEwO30sc3IucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9LHNyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc3IucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX07dmFyIGxyPWZ1bmN0aW9uKCl7dGhpcy5fdGFwPW5ldyBabyh7bnVtVG91Y2hlczoxLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKTt9O2xyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMSxkZWxldGUgdGhpcy5fc3dpcGVQb2ludCxkZWxldGUgdGhpcy5fc3dpcGVUb3VjaCxkZWxldGUgdGhpcy5fdGFwVGltZSx0aGlzLl90YXAucmVzZXQoKTt9LGxyLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3dpcGVQb2ludHx8KHRoaXMuX3RhcFRpbWUmJnQudGltZVN0YW1wLXRoaXMuX3RhcFRpbWU+NTAwJiZ0aGlzLnJlc2V0KCksdGhpcy5fdGFwVGltZT90LnRhcmdldFRvdWNoZXMubGVuZ3RoPjAmJih0aGlzLl9zd2lwZVBvaW50PWVbMF0sdGhpcy5fc3dpcGVUb3VjaD10LnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcik6dGhpcy5fdGFwLnRvdWNoc3RhcnQodCxlKSk7fSxsci5wcm90b3R5cGUudG91Y2htb3ZlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fdGFwVGltZSl7aWYodGhpcy5fc3dpcGVQb2ludCl7aWYodC50YXJnZXRUb3VjaGVzWzBdLmlkZW50aWZpZXIhPT10aGlzLl9zd2lwZVRvdWNoKXJldHVybjt2YXIgaT1lWzBdLG89aS55LXRoaXMuX3N3aXBlUG9pbnQueTtyZXR1cm4gdGhpcy5fc3dpcGVQb2ludD1pLHQucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpvLzEyOH19fWVsc2UgdGhpcy5fdGFwLnRvdWNobW92ZSh0LGUpO30sbHIucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3RoaXMuX3RhcFRpbWU/dGhpcy5fc3dpcGVQb2ludCYmMD09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJnRoaXMucmVzZXQoKTp0aGlzLl90YXAudG91Y2hlbmQodCkmJih0aGlzLl90YXBUaW1lPXQudGltZVN0YW1wKTt9LGxyLnByb3RvdHlwZS50b3VjaGNhbmNlbD1mdW5jdGlvbigpe3RoaXMucmVzZXQoKTt9LGxyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSEwO30sbHIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9LGxyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sbHIucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX07dmFyIGNyPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9lbD10LHRoaXMuX21vdXNlUGFuPWUsdGhpcy5fdG91Y2hQYW49aTt9O2NyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5faW5lcnRpYU9wdGlvbnM9dHx8e30sdGhpcy5fbW91c2VQYW4uZW5hYmxlKCksdGhpcy5fdG91Y2hQYW4uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4iKTt9LGNyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fbW91c2VQYW4uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmRpc2FibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC10b3VjaC1kcmFnLXBhbiIpO30sY3IucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hQYW4uaXNFbmFibGVkKCl9LGNyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpfTt2YXIgdXI9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX3BpdGNoV2l0aFJvdGF0ZT10LnBpdGNoV2l0aFJvdGF0ZSx0aGlzLl9tb3VzZVJvdGF0ZT1lLHRoaXMuX21vdXNlUGl0Y2g9aTt9O3VyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKSx0aGlzLl9waXRjaFdpdGhSb3RhdGUmJnRoaXMuX21vdXNlUGl0Y2guZW5hYmxlKCk7fSx1ci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX21vdXNlUm90YXRlLmRpc2FibGUoKSx0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKTt9LHVyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNFbmFibGVkKCkmJighdGhpcy5fcGl0Y2hXaXRoUm90YXRlfHx0aGlzLl9tb3VzZVBpdGNoLmlzRW5hYmxlZCgpKX0sdXIucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX21vdXNlUGl0Y2guaXNBY3RpdmUoKX07dmFyIGhyPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMuX2VsPXQsdGhpcy5fdG91Y2hab29tPWUsdGhpcy5fdG91Y2hSb3RhdGU9aSx0aGlzLl90YXBEcmFnWm9vbT1vLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fZW5hYmxlZD0hMDt9O2hyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fdG91Y2hab29tLmVuYWJsZSh0KSx0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUodCksdGhpcy5fdGFwRHJhZ1pvb20uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUiKTt9LGhyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fdG91Y2hab29tLmRpc2FibGUoKSx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fdGFwRHJhZ1pvb20uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlIik7fSxoci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmlzRW5hYmxlZCgpKSYmdGhpcy5fdGFwRHJhZ1pvb20uaXNFbmFibGVkKCl9LGhyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKX0saHIucHJvdG90eXBlLmRpc2FibGVSb3RhdGlvbj1mdW5jdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITAsdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpO30saHIucHJvdG90eXBlLmVuYWJsZVJvdGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZSgpO307dmFyIHByPWZ1bmN0aW9uKHQpe3JldHVybiB0Lnpvb218fHQuZHJhZ3x8dC5waXRjaHx8dC5yb3RhdGV9LGRyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0odC5FdmVudCk7ZnVuY3Rpb24gX3IodCl7cmV0dXJuIHQucGFuRGVsdGEmJnQucGFuRGVsdGEubWFnKCl8fHQuem9vbURlbHRhfHx0LmJlYXJpbmdEZWx0YXx8dC5waXRjaERlbHRhfXZhciBmcj1mdW5jdGlvbihlLG8pe3RoaXMuX21hcD1lLHRoaXMuX2VsPXRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9oYW5kbGVyc0J5SWQ9e30sdGhpcy5fY2hhbmdlcz1bXSx0aGlzLl9pbmVydGlhPW5ldyBEbyhlKSx0aGlzLl9iZWFyaW5nU25hcD1vLmJlYXJpbmdTbmFwLHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9e30sdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcz17fSx0aGlzLl9hZGREZWZhdWx0SGFuZGxlcnMobyksdC5iaW5kQWxsKFsiaGFuZGxlRXZlbnQiLCJoYW5kbGVXaW5kb3dFdmVudCJdLHRoaXMpO3ZhciByPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW3IsInRvdWNoc3RhcnQiLHtwYXNzaXZlOiExfV0sW3IsInRvdWNobW92ZSIse3Bhc3NpdmU6ITF9XSxbciwidG91Y2hlbmQiLHZvaWQgMF0sW3IsInRvdWNoY2FuY2VsIix2b2lkIDBdLFtyLCJtb3VzZWRvd24iLHZvaWQgMF0sW3IsIm1vdXNlbW92ZSIsdm9pZCAwXSxbciwibW91c2V1cCIsdm9pZCAwXSxbdC53aW5kb3cuZG9jdW1lbnQsIm1vdXNlbW92ZSIse2NhcHR1cmU6ITB9XSxbdC53aW5kb3cuZG9jdW1lbnQsIm1vdXNldXAiLHZvaWQgMF0sW3IsIm1vdXNlb3ZlciIsdm9pZCAwXSxbciwibW91c2VvdXQiLHZvaWQgMF0sW3IsImRibGNsaWNrIix2b2lkIDBdLFtyLCJjbGljayIsdm9pZCAwXSxbciwia2V5ZG93biIse2NhcHR1cmU6ITF9XSxbciwia2V5dXAiLHZvaWQgMF0sW3IsIndoZWVsIix7cGFzc2l2ZTohMX1dLFtyLCJjb250ZXh0bWVudSIsdm9pZCAwXSxbdC53aW5kb3csImJsdXIiLHZvaWQgMF1dO2Zvcih2YXIgYT0wLG49dGhpcy5fbGlzdGVuZXJzO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXSxsPXNbMF07aS5hZGRFdmVudExpc3RlbmVyKGwsc1sxXSxsPT09dC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LHNbMl0pO319O2ZyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsbz10aGlzLl9saXN0ZW5lcnM7ZTxvLmxlbmd0aDtlKz0xKXt2YXIgcj1vW2VdLGE9clswXTtpLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxyWzFdLGE9PT10LndpbmRvdy5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQsclsyXSk7fX0sZnIucHJvdG90eXBlLl9hZGREZWZhdWx0SGFuZGxlcnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5nZXRDYW52YXNDb250YWluZXIoKTt0aGlzLl9hZGQoIm1hcEV2ZW50IixuZXcgQm8oZSx0KSk7dmFyIG89ZS5ib3hab29tPW5ldyBGbyhlLHQpO3RoaXMuX2FkZCgiYm94Wm9vbSIsbyk7dmFyIHI9bmV3IGpvLGE9bmV3IHNyO2UuZG91YmxlQ2xpY2tab29tPW5ldyBucihhLHIpLHRoaXMuX2FkZCgidGFwWm9vbSIsciksdGhpcy5fYWRkKCJjbGlja1pvb20iLGEpO3ZhciBuPW5ldyBscjt0aGlzLl9hZGQoInRhcERyYWdab29tIixuKTt2YXIgcz1lLnRvdWNoUGl0Y2g9bmV3IGVyO3RoaXMuX2FkZCgidG91Y2hQaXRjaCIscyk7dmFyIGw9bmV3IEdvKHQpLGM9bmV3IFdvKHQpO2UuZHJhZ1JvdGF0ZT1uZXcgdXIodCxsLGMpLHRoaXMuX2FkZCgibW91c2VSb3RhdGUiLGwsWyJtb3VzZVBpdGNoIl0pLHRoaXMuX2FkZCgibW91c2VQaXRjaCIsYyxbIm1vdXNlUm90YXRlIl0pO3ZhciB1PW5ldyBWbyh0KSxoPW5ldyBYbyh0KTtlLmRyYWdQYW49bmV3IGNyKGksdSxoKSx0aGlzLl9hZGQoIm1vdXNlUGFuIix1KSx0aGlzLl9hZGQoInRvdWNoUGFuIixoLFsidG91Y2hab29tIiwidG91Y2hSb3RhdGUiXSk7dmFyIHA9bmV3ICRvLGQ9bmV3IEpvO2UudG91Y2hab29tUm90YXRlPW5ldyBocihpLGQscCxuKSx0aGlzLl9hZGQoInRvdWNoUm90YXRlIixwLFsidG91Y2hQYW4iLCJ0b3VjaFpvb20iXSksdGhpcy5fYWRkKCJ0b3VjaFpvb20iLGQsWyJ0b3VjaFBhbiIsInRvdWNoUm90YXRlIl0pO3ZhciBfPWUuc2Nyb2xsWm9vbT1uZXcgYXIoZSx0aGlzKTt0aGlzLl9hZGQoInNjcm9sbFpvb20iLF8sWyJtb3VzZVBhbiJdKTt2YXIgZj1lLmtleWJvYXJkPW5ldyBvcjt0aGlzLl9hZGQoImtleWJvYXJkIixmKSx0aGlzLl9hZGQoImJsb2NrYWJsZU1hcEV2ZW50IixuZXcgT28oZSkpO2Zvcih2YXIgbT0wLGc9WyJib3hab29tIiwiZG91YmxlQ2xpY2tab29tIiwidGFwRHJhZ1pvb20iLCJ0b3VjaFBpdGNoIiwiZHJhZ1JvdGF0ZSIsImRyYWdQYW4iLCJ0b3VjaFpvb21Sb3RhdGUiLCJzY3JvbGxab29tIiwia2V5Ym9hcmQiXTttPGcubGVuZ3RoO20rPTEpe3ZhciB2PWdbbV07dC5pbnRlcmFjdGl2ZSYmdFt2XSYmZVt2XS5lbmFibGUodFt2XSk7fX0sZnIucHJvdG90eXBlLl9hZGQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lOnQsaGFuZGxlcjplLGFsbG93ZWQ6aX0pLHRoaXMuX2hhbmRsZXJzQnlJZFt0XT1lO30sZnIucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcih2YXIgdD0wLGU9dGhpcy5faGFuZGxlcnM7dDxlLmxlbmd0aDt0Kz0xKWVbdF0uaGFuZGxlci5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9KSx0aGlzLl9jaGFuZ2VzPVtdO319LGZyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5faGFuZGxlcnM7dDxlLmxlbmd0aDt0Kz0xKWlmKGVbdF0uaGFuZGxlci5pc0FjdGl2ZSgpKXJldHVybiAhMDtyZXR1cm4gITF9LGZyLnByb3RvdHlwZS5pc1pvb21pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfSxmci5wcm90b3R5cGUuaXNSb3RhdGluZz1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mucm90YXRlfSxmci5wcm90b3R5cGUuX2Jsb2NrZWRCeUFjdGl2ZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvIGluIHQpaWYobyE9PWkmJighZXx8ZS5pbmRleE9mKG8pPDApKXJldHVybiAhMDtyZXR1cm4gITF9LGZyLnByb3RvdHlwZS5oYW5kbGVXaW5kb3dFdmVudD1mdW5jdGlvbih0KXt0aGlzLmhhbmRsZUV2ZW50KHQsdC50eXBlKyJXaW5kb3ciKTt9LGZyLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbih0LGUpe2lmKCJibHVyIiE9PXQudHlwZSl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Zm9yKHZhciBvPSJyZW5kZXJGcmFtZSI9PT10LnR5cGU/dm9pZCAwOnQscj17bmVlZHNSZW5kZXJGcmFtZTohMX0sYT17fSxuPXt9LHM9dD90LnRhcmdldFRvdWNoZXM/aS50b3VjaFBvcyh0aGlzLl9lbCx0LnRhcmdldFRvdWNoZXMpOmkubW91c2VQb3ModGhpcy5fZWwsdCk6bnVsbCxsPTAsYz10aGlzLl9oYW5kbGVycztsPGMubGVuZ3RoO2wrPTEpe3ZhciB1PWNbbF0saD11LmhhbmRsZXJOYW1lLHA9dS5oYW5kbGVyLGQ9dS5hbGxvd2VkO2lmKHAuaXNFbmFibGVkKCkpe3ZhciBfPXZvaWQgMDt0aGlzLl9ibG9ja2VkQnlBY3RpdmUobixkLGgpP3AucmVzZXQoKTpwW2V8fHQudHlwZV0mJihfPXBbZXx8dC50eXBlXSh0LHMpLHRoaXMubWVyZ2VIYW5kbGVyUmVzdWx0KHIsYSxfLGgsbyksXyYmXy5uZWVkc1JlbmRlckZyYW1lJiZ0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKF98fHAuaXNBY3RpdmUoKSkmJihuW2hdPXApO319dmFyIGY9e307Zm9yKHZhciBtIGluIHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnMpblttXXx8KGZbbV09byk7dGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz1uLChPYmplY3Qua2V5cyhmKS5sZW5ndGh8fF9yKHIpKSYmKHRoaXMuX2NoYW5nZXMucHVzaChbcixhLGZdKSx0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKE9iamVjdC5rZXlzKG4pLmxlbmd0aHx8X3IocikpJiZ0aGlzLl9tYXAuX3N0b3AoITApLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO3ZhciBnPXIuY2FtZXJhQW5pbWF0aW9uO2cmJih0aGlzLl9pbmVydGlhLmNsZWFyKCksdGhpcy5fZmlyZUV2ZW50cyh7fSx7fSksdGhpcy5fY2hhbmdlcz1bXSxnKHRoaXMuX21hcCkpO31lbHNlIHRoaXMuc3RvcCgpO30sZnIucHJvdG90eXBlLm1lcmdlSGFuZGxlclJlc3VsdD1mdW5jdGlvbihlLGksbyxyLGEpe2lmKG8pe3QuZXh0ZW5kKGUsbyk7dmFyIG49e2hhbmRsZXJOYW1lOnIsb3JpZ2luYWxFdmVudDpvLm9yaWdpbmFsRXZlbnR8fGF9O3ZvaWQgMCE9PW8uem9vbURlbHRhJiYoaS56b29tPW4pLHZvaWQgMCE9PW8ucGFuRGVsdGEmJihpLmRyYWc9biksdm9pZCAwIT09by5waXRjaERlbHRhJiYoaS5waXRjaD1uKSx2b2lkIDAhPT1vLmJlYXJpbmdEZWx0YSYmKGkucm90YXRlPW4pO319LGZyLnByb3RvdHlwZS5fYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LGk9e30sbz17fSxyPTAsYT10aGlzLl9jaGFuZ2VzO3I8YS5sZW5ndGg7cis9MSl7dmFyIG49YVtyXSxzPW5bMF0sbD1uWzFdLGM9blsyXTtzLnBhbkRlbHRhJiYoZS5wYW5EZWx0YT0oZS5wYW5EZWx0YXx8bmV3IHQuUG9pbnQoMCwwKSkuX2FkZChzLnBhbkRlbHRhKSkscy56b29tRGVsdGEmJihlLnpvb21EZWx0YT0oZS56b29tRGVsdGF8fDApK3Muem9vbURlbHRhKSxzLmJlYXJpbmdEZWx0YSYmKGUuYmVhcmluZ0RlbHRhPShlLmJlYXJpbmdEZWx0YXx8MCkrcy5iZWFyaW5nRGVsdGEpLHMucGl0Y2hEZWx0YSYmKGUucGl0Y2hEZWx0YT0oZS5waXRjaERlbHRhfHwwKStzLnBpdGNoRGVsdGEpLHZvaWQgMCE9PXMuYXJvdW5kJiYoZS5hcm91bmQ9cy5hcm91bmQpLHZvaWQgMCE9PXMucGluY2hBcm91bmQmJihlLnBpbmNoQXJvdW5kPXMucGluY2hBcm91bmQpLHMubm9JbmVydGlhJiYoZS5ub0luZXJ0aWE9cy5ub0luZXJ0aWEpLHQuZXh0ZW5kKGksbCksdC5leHRlbmQobyxjKTt9dGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKGUsaSxvKSx0aGlzLl9jaGFuZ2VzPVtdO30sZnIucHJvdG90eXBlLl91cGRhdGVNYXBUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMuX21hcCxyPW8udHJhbnNmb3JtO2lmKCFfcih0KSlyZXR1cm4gdGhpcy5fZmlyZUV2ZW50cyhlLGkpO3ZhciBhPXQucGFuRGVsdGEsbj10Lnpvb21EZWx0YSxzPXQuYmVhcmluZ0RlbHRhLGw9dC5waXRjaERlbHRhLGM9dC5hcm91bmQsdT10LnBpbmNoQXJvdW5kO3ZvaWQgMCE9PXUmJihjPXUpLG8uX3N0b3AoITApLGM9Y3x8by50cmFuc2Zvcm0uY2VudGVyUG9pbnQ7dmFyIGg9ci5wb2ludExvY2F0aW9uKGE/Yy5zdWIoYSk6Yyk7cyYmKHIuYmVhcmluZys9cyksbCYmKHIucGl0Y2grPWwpLG4mJihyLnpvb20rPW4pLHIuc2V0TG9jYXRpb25BdFBvaW50KGgsYyksdGhpcy5fbWFwLl91cGRhdGUoKSx0Lm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQodCksdGhpcy5fZmlyZUV2ZW50cyhlLGkpO30sZnIucHJvdG90eXBlLl9maXJlRXZlbnRzPWZ1bmN0aW9uKGUsaSl7dmFyIG8scj10aGlzLGE9cHIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyksbj1wcihlKTtmb3IodmFyIHMgaW4gIWEmJm4mJnRoaXMuX2ZpcmVFdmVudCgibW92ZXN0YXJ0IixuLm9yaWdpbmFsRXZlbnQpLGUpe3ZhciBsPWVbc10ub3JpZ2luYWxFdmVudCxjPSF0aGlzLl9ldmVudHNJblByb2dyZXNzW3NdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3Nbc109ZVtzXSxjJiZ0aGlzLl9maXJlRXZlbnQocysic3RhcnQiLGwpO31mb3IodmFyIHUgaW4gZS5yb3RhdGUmJih0aGlzLl9iZWFyaW5nQ2hhbmdlZD0hMCksbiYmdGhpcy5fZmlyZUV2ZW50KCJtb3ZlIixuLm9yaWdpbmFsRXZlbnQpLGUpdGhpcy5fZmlyZUV2ZW50KHUsZVt1XS5vcmlnaW5hbEV2ZW50KTtmb3IodmFyIGggaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl7dmFyIHA9dGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1toXSxkPXAuaGFuZGxlck5hbWUsXz1wLm9yaWdpbmFsRXZlbnQ7dGhpcy5faGFuZGxlcnNCeUlkW2RdLmlzQWN0aXZlKCl8fChkZWxldGUgdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1toXSx0aGlzLl9maXJlRXZlbnQoaCsiZW5kIixvPWlbZF18fF8pKTt9dmFyIGY9cHIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyk7aWYoKGF8fG4pJiYhZil7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7dmFyIG09dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucyksZz1mdW5jdGlvbih0KXtyZXR1cm4gMCE9PXQmJi1yLl9iZWFyaW5nU25hcDx0JiZ0PHIuX2JlYXJpbmdTbmFwfTttPyhnKG0uYmVhcmluZ3x8dGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJihtLmJlYXJpbmc9MCksdGhpcy5fbWFwLmVhc2VUbyhtLHtvcmlnaW5hbEV2ZW50Om99KSk6KHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIix7b3JpZ2luYWxFdmVudDpvfSkpLGcodGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJnRoaXMuX21hcC5yZXNldE5vcnRoKCkpLHRoaXMuX2JlYXJpbmdDaGFuZ2VkPSExLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO319LGZyLnByb3RvdHlwZS5fZmlyZUV2ZW50PWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoZSxpP3tvcmlnaW5hbEV2ZW50Oml9Ont9KSk7fSxmci5wcm90b3R5cGUuX3RyaWdnZXJSZW5kZXJGcmFtZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dm9pZCAwPT09dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9dGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUoKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0Ll9mcmFtZUlkLHQuaGFuZGxlRXZlbnQobmV3IGRyKCJyZW5kZXJGcmFtZSIse3RpbWVTdGFtcDplfSkpLHQuX2FwcGx5Q2hhbmdlcygpO30pKSk7fTt2YXIgbXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8pe2UuY2FsbCh0aGlzKSx0aGlzLl9tb3Zpbmc9ITEsdGhpcy5fem9vbWluZz0hMSx0aGlzLnRyYW5zZm9ybT1pLHRoaXMuX2JlYXJpbmdTbmFwPW8uYmVhcmluZ1NuYXAsdC5iaW5kQWxsKFsiX3JlbmRlckZyYW1lQ2FsbGJhY2siXSx0aGlzKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkxuZ0xhdCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQpfSxpLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe2NlbnRlcjp0fSxlKX0saS5wcm90b3R5cGUucGFuQnk9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiBlPXQuUG9pbnQuY29udmVydChlKS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcix0LmV4dGVuZCh7b2Zmc2V0OmV9LGkpLG8pfSxpLnByb3RvdHlwZS5wYW5Ubz1mdW5jdGlvbihlLGksbyl7cmV0dXJuIHRoaXMuZWFzZVRvKHQuZXh0ZW5kKHtjZW50ZXI6ZX0saSksbyl9LGkucHJvdG90eXBlLmdldFpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbX0saS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTp0fSxlKSx0aGlzfSxpLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7em9vbTplfSxpKSxvKX0saS5wcm90b3R5cGUuem9vbUluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpKzEsdCxlKSx0aGlzfSxpLnByb3RvdHlwZS56b29tT3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsdCxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRCZWFyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmd9LGkucHJvdG90eXBlLnNldEJlYXJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe2JlYXJpbmc6dH0sZSksdGhpc30saS5wcm90b3R5cGUuZ2V0UGFkZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfSxpLnByb3RvdHlwZS5zZXRQYWRkaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuanVtcFRvKHtwYWRkaW5nOnR9LGUpLHRoaXN9LGkucHJvdG90eXBlLnJvdGF0ZVRvPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gdGhpcy5lYXNlVG8odC5leHRlbmQoe2JlYXJpbmc6ZX0saSksbyl9LGkucHJvdG90eXBlLnJlc2V0Tm9ydGg9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5yb3RhdGVUbygwLHQuZXh0ZW5kKHtkdXJhdGlvbjoxZTN9LGUpLGkpLHRoaXN9LGkucHJvdG90eXBlLnJlc2V0Tm9ydGhQaXRjaD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7YmVhcmluZzowLHBpdGNoOjAsZHVyYXRpb246MWUzfSxlKSxpKSx0aGlzfSxpLnByb3RvdHlwZS5zbmFwVG9Ob3J0aD1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSk8dGhpcy5fYmVhcmluZ1NuYXA/dGhpcy5yZXNldE5vcnRoKHQsZSk6dGhpc30saS5wcm90b3R5cGUuZ2V0UGl0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9LGkucHJvdG90eXBlLnNldFBpdGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuanVtcFRvKHtwaXRjaDp0fSxlKSx0aGlzfSxpLnByb3RvdHlwZS5jYW1lcmFGb3JCb3VuZHM9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10LkxuZ0xhdEJvdW5kcy5jb252ZXJ0KGUpLHRoaXMuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcoZS5nZXROb3J0aFdlc3QoKSxlLmdldFNvdXRoRWFzdCgpLDAsaSl9LGkucHJvdG90eXBlLl9jYW1lcmFGb3JCb3hBbmRCZWFyaW5nPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoIm51bWJlciI9PXR5cGVvZihyPXQuZXh0ZW5kKHtwYWRkaW5nOmEsb2Zmc2V0OlswLDBdLG1heFpvb206dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbX0scikpLnBhZGRpbmcpe3ZhciBuPXIucGFkZGluZztyLnBhZGRpbmc9e3RvcDpuLGJvdHRvbTpuLHJpZ2h0Om4sbGVmdDpufTt9ci5wYWRkaW5nPXQuZXh0ZW5kKGEsci5wYWRkaW5nKTt2YXIgcz10aGlzLnRyYW5zZm9ybSxsPXMucGFkZGluZyxjPXMucHJvamVjdCh0LkxuZ0xhdC5jb252ZXJ0KGUpKSx1PXMucHJvamVjdCh0LkxuZ0xhdC5jb252ZXJ0KGkpKSxoPWMucm90YXRlKC1vKk1hdGguUEkvMTgwKSxwPXUucm90YXRlKC1vKk1hdGguUEkvMTgwKSxkPW5ldyB0LlBvaW50KE1hdGgubWF4KGgueCxwLngpLE1hdGgubWF4KGgueSxwLnkpKSxfPW5ldyB0LlBvaW50KE1hdGgubWluKGgueCxwLngpLE1hdGgubWluKGgueSxwLnkpKSxmPWQuc3ViKF8pLG09KHMud2lkdGgtKGwubGVmdCtsLnJpZ2h0K3IucGFkZGluZy5sZWZ0K3IucGFkZGluZy5yaWdodCkpL2YueCxnPShzLmhlaWdodC0obC50b3ArbC5ib3R0b20rci5wYWRkaW5nLnRvcCtyLnBhZGRpbmcuYm90dG9tKSkvZi55O2lmKCEoZzwwfHxtPDApKXt2YXIgdj1NYXRoLm1pbihzLnNjYWxlWm9vbShzLnNjYWxlKk1hdGgubWluKG0sZykpLHIubWF4Wm9vbSkseT10LlBvaW50LmNvbnZlcnQoci5vZmZzZXQpLHg9bmV3IHQuUG9pbnQoeS54KyhyLnBhZGRpbmcubGVmdC1yLnBhZGRpbmcucmlnaHQpLzIseS55KyhyLnBhZGRpbmcudG9wLXIucGFkZGluZy5ib3R0b20pLzIpLm11bHQocy5zY2FsZS9zLnpvb21TY2FsZSh2KSk7cmV0dXJuIHtjZW50ZXI6cy51bnByb2plY3QoYy5hZGQodSkuZGl2KDIpLnN1Yih4KSksem9vbTp2LGJlYXJpbmc6b319dC53YXJuT25jZSgiTWFwIGNhbm5vdCBmaXQgd2l0aGluIGNhbnZhcyB3aXRoIHRoZSBnaXZlbiBib3VuZHMsIHBhZGRpbmcsIGFuZC9vciBvZmZzZXQuIik7fSxpLnByb3RvdHlwZS5maXRCb3VuZHM9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9maXRJbnRlcm5hbCh0aGlzLmNhbWVyYUZvckJvdW5kcyh0LGUpLGUsaSl9LGkucHJvdG90eXBlLmZpdFNjcmVlbkNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsaSxvLHIsYSl7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKHRoaXMuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcodGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbih0LlBvaW50LmNvbnZlcnQoZSkpLHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24odC5Qb2ludC5jb252ZXJ0KGkpKSxvLHIpLHIsYSl9LGkucHJvdG90eXBlLl9maXRJbnRlcm5hbD1mdW5jdGlvbihlLGksbyl7cmV0dXJuIGU/KGRlbGV0ZShpPXQuZXh0ZW5kKGUsaSkpLnBhZGRpbmcsaS5saW5lYXI/dGhpcy5lYXNlVG8oaSxvKTp0aGlzLmZseVRvKGksbykpOnRoaXN9LGkucHJvdG90eXBlLmp1bXBUbz1mdW5jdGlvbihlLGkpe3RoaXMuc3RvcCgpO3ZhciBvPXRoaXMudHJhbnNmb3JtLHI9ITEsYT0hMSxuPSExO3JldHVybiAiem9vbSJpbiBlJiZvLnpvb20hPT0rZS56b29tJiYocj0hMCxvLnpvb209K2Uuem9vbSksdm9pZCAwIT09ZS5jZW50ZXImJihvLmNlbnRlcj10LkxuZ0xhdC5jb252ZXJ0KGUuY2VudGVyKSksImJlYXJpbmciaW4gZSYmby5iZWFyaW5nIT09K2UuYmVhcmluZyYmKGE9ITAsby5iZWFyaW5nPStlLmJlYXJpbmcpLCJwaXRjaCJpbiBlJiZvLnBpdGNoIT09K2UucGl0Y2gmJihuPSEwLG8ucGl0Y2g9K2UucGl0Y2gpLG51bGw9PWUucGFkZGluZ3x8by5pc1BhZGRpbmdFcXVhbChlLnBhZGRpbmcpfHwoby5wYWRkaW5nPWUucGFkZGluZyksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3Zlc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlIixpKSksciYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ6b29tc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJ6b29tIixpKSkuZmlyZShuZXcgdC5FdmVudCgiem9vbWVuZCIsaSkpLGEmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicm90YXRlc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGUiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGVlbmQiLGkpKSxuJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoc3RhcnQiLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJwaXRjaCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoZW5kIixpKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixpKSl9LGkucHJvdG90eXBlLmVhc2VUbz1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dGhpcy5fc3RvcCghMSxlLmVhc2VJZCksKCExPT09KGU9dC5leHRlbmQoe29mZnNldDpbMCwwXSxkdXJhdGlvbjo1MDAsZWFzaW5nOnQuZWFzZX0sZSkpLmFuaW1hdGV8fCFlLmVzc2VudGlhbCYmdC5icm93c2VyLnByZWZlcnNSZWR1Y2VkTW90aW9uKSYmKGUuZHVyYXRpb249MCk7dmFyIHI9dGhpcy50cmFuc2Zvcm0sYT10aGlzLmdldFpvb20oKSxuPXRoaXMuZ2V0QmVhcmluZygpLHM9dGhpcy5nZXRQaXRjaCgpLGw9dGhpcy5nZXRQYWRkaW5nKCksYz0iem9vbSJpbiBlPytlLnpvb206YSx1PSJiZWFyaW5nImluIGU/dGhpcy5fbm9ybWFsaXplQmVhcmluZyhlLmJlYXJpbmcsbik6bixoPSJwaXRjaCJpbiBlPytlLnBpdGNoOnMscD0icGFkZGluZyJpbiBlP2UucGFkZGluZzpyLnBhZGRpbmcsZD10LlBvaW50LmNvbnZlcnQoZS5vZmZzZXQpLF89ci5jZW50ZXJQb2ludC5hZGQoZCksZj1yLnBvaW50TG9jYXRpb24oXyksbT10LkxuZ0xhdC5jb252ZXJ0KGUuY2VudGVyfHxmKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIobSk7dmFyIGcsdix5PXIucHJvamVjdChmKSx4PXIucHJvamVjdChtKS5zdWIoeSksYj1yLnpvb21TY2FsZShjLWEpO2UuYXJvdW5kJiYoZz10LkxuZ0xhdC5jb252ZXJ0KGUuYXJvdW5kKSx2PXIubG9jYXRpb25Qb2ludChnKSk7dmFyIHc9e21vdmluZzp0aGlzLl9tb3Zpbmcsem9vbWluZzp0aGlzLl96b29taW5nLHJvdGF0aW5nOnRoaXMuX3JvdGF0aW5nLHBpdGNoaW5nOnRoaXMuX3BpdGNoaW5nfTtyZXR1cm4gdGhpcy5fem9vbWluZz10aGlzLl96b29taW5nfHxjIT09YSx0aGlzLl9yb3RhdGluZz10aGlzLl9yb3RhdGluZ3x8biE9PXUsdGhpcy5fcGl0Y2hpbmc9dGhpcy5fcGl0Y2hpbmd8fGghPT1zLHRoaXMuX3BhZGRpbmc9IXIuaXNQYWRkaW5nRXF1YWwocCksdGhpcy5fZWFzZUlkPWUuZWFzZUlkLHRoaXMuX3ByZXBhcmVFYXNlKGksZS5ub01vdmVTdGFydCx3KSxjbGVhclRpbWVvdXQodGhpcy5fZWFzZUVuZFRpbWVvdXRJRCksdGhpcy5fZWFzZSgoZnVuY3Rpb24oZSl7aWYoby5fem9vbWluZyYmKHIuem9vbT10Lm51bWJlcihhLGMsZSkpLG8uX3JvdGF0aW5nJiYoci5iZWFyaW5nPXQubnVtYmVyKG4sdSxlKSksby5fcGl0Y2hpbmcmJihyLnBpdGNoPXQubnVtYmVyKHMsaCxlKSksby5fcGFkZGluZyYmKHIuaW50ZXJwb2xhdGVQYWRkaW5nKGwscCxlKSxfPXIuY2VudGVyUG9pbnQuYWRkKGQpKSxnKXIuc2V0TG9jYXRpb25BdFBvaW50KGcsdik7ZWxzZSB7dmFyIGY9ci56b29tU2NhbGUoci56b29tLWEpLG09Yz5hP01hdGgubWluKDIsYik6TWF0aC5tYXgoLjUsYiksdz1NYXRoLnBvdyhtLDEtZSksVD1yLnVucHJvamVjdCh5LmFkZCh4Lm11bHQoZSp3KSkubXVsdChmKSk7ci5zZXRMb2NhdGlvbkF0UG9pbnQoci5yZW5kZXJXb3JsZENvcGllcz9ULndyYXAoKTpULF8pO31vLl9maXJlTW92ZUV2ZW50cyhpKTt9KSwoZnVuY3Rpb24odCl7by5fYWZ0ZXJFYXNlKGksdCk7fSksZSksdGhpc30saS5wcm90b3R5cGUuX3ByZXBhcmVFYXNlPWZ1bmN0aW9uKGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdGhpcy5fbW92aW5nPSEwLGl8fG8ubW92aW5nfHx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVzdGFydCIsZSkpLHRoaXMuX3pvb21pbmcmJiFvLnpvb21pbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgiem9vbXN0YXJ0IixlKSksdGhpcy5fcm90YXRpbmcmJiFvLnJvdGF0aW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJvdGF0ZXN0YXJ0IixlKSksdGhpcy5fcGl0Y2hpbmcmJiFvLnBpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoc3RhcnQiLGUpKTt9LGkucHJvdG90eXBlLl9maXJlTW92ZUV2ZW50cz1mdW5jdGlvbihlKXt0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmUiLGUpKSx0aGlzLl96b29taW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInpvb20iLGUpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGUiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJwaXRjaCIsZSkpO30saS5wcm90b3R5cGUuX2FmdGVyRWFzZT1mdW5jdGlvbihlLGkpe2lmKCF0aGlzLl9lYXNlSWR8fCFpfHx0aGlzLl9lYXNlSWQhPT1pKXtkZWxldGUgdGhpcy5fZWFzZUlkO3ZhciBvPXRoaXMuX3pvb21pbmcscj10aGlzLl9yb3RhdGluZyxhPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLHRoaXMuX3BhZGRpbmc9ITEsbyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ6b29tZW5kIixlKSksciYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGVlbmQiLGUpKSxhJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoZW5kIixlKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixlKSk7fX0saS5wcm90b3R5cGUuZmx5VG89ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzO2lmKCFlLmVzc2VudGlhbCYmdC5icm93c2VyLnByZWZlcnNSZWR1Y2VkTW90aW9uKXt2YXIgcj10LnBpY2soZSxbImNlbnRlciIsInpvb20iLCJiZWFyaW5nIiwicGl0Y2giLCJhcm91bmQiXSk7cmV0dXJuIHRoaXMuanVtcFRvKHIsaSl9dGhpcy5zdG9wKCksZT10LmV4dGVuZCh7b2Zmc2V0OlswLDBdLHNwZWVkOjEuMixjdXJ2ZToxLjQyLGVhc2luZzp0LmVhc2V9LGUpO3ZhciBhPXRoaXMudHJhbnNmb3JtLG49dGhpcy5nZXRab29tKCkscz10aGlzLmdldEJlYXJpbmcoKSxsPXRoaXMuZ2V0UGl0Y2goKSxjPXRoaXMuZ2V0UGFkZGluZygpLHU9Inpvb20iaW4gZT90LmNsYW1wKCtlLnpvb20sYS5taW5ab29tLGEubWF4Wm9vbSk6bixoPSJiZWFyaW5nImluIGU/dGhpcy5fbm9ybWFsaXplQmVhcmluZyhlLmJlYXJpbmcscyk6cyxwPSJwaXRjaCJpbiBlPytlLnBpdGNoOmwsZD0icGFkZGluZyJpbiBlP2UucGFkZGluZzphLnBhZGRpbmcsXz1hLnpvb21TY2FsZSh1LW4pLGY9dC5Qb2ludC5jb252ZXJ0KGUub2Zmc2V0KSxtPWEuY2VudGVyUG9pbnQuYWRkKGYpLGc9YS5wb2ludExvY2F0aW9uKG0pLHY9dC5MbmdMYXQuY29udmVydChlLmNlbnRlcnx8Zyk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKHYpO3ZhciB5PWEucHJvamVjdChnKSx4PWEucHJvamVjdCh2KS5zdWIoeSksYj1lLmN1cnZlLHc9TWF0aC5tYXgoYS53aWR0aCxhLmhlaWdodCksVD13L18sRT14Lm1hZygpO2lmKCJtaW5ab29tImluIGUpe3ZhciBJPXQuY2xhbXAoTWF0aC5taW4oZS5taW5ab29tLG4sdSksYS5taW5ab29tLGEubWF4Wm9vbSksUD13L2Euem9vbVNjYWxlKEktbik7Yj1NYXRoLnNxcnQoUC9FKjIpO312YXIgUz1iKmI7ZnVuY3Rpb24gQyh0KXt2YXIgZT0oVCpULXcqdysodD8tMToxKSpTKlMqRSpFKS8oMioodD9UOncpKlMqRSk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydChlKmUrMSktZSl9ZnVuY3Rpb24geih0KXtyZXR1cm4gKE1hdGguZXhwKHQpLU1hdGguZXhwKC10KSkvMn1mdW5jdGlvbiBEKHQpe3JldHVybiAoTWF0aC5leHAodCkrTWF0aC5leHAoLXQpKS8yfXZhciBNPUMoMCksQT1mdW5jdGlvbih0KXtyZXR1cm4gRChNKS9EKE0rYip0KX0sTD1mdW5jdGlvbih0KXtyZXR1cm4gdyooKEQoTSkqKHooZT1NK2IqdCkvRChlKSkteihNKSkvUykvRTt2YXIgZTt9LFI9KEMoMSktTSkvYjtpZihNYXRoLmFicyhFKTwxZS02fHwhaXNGaW5pdGUoUikpe2lmKE1hdGguYWJzKHctVCk8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8oZSxpKTt2YXIgaz1UPHc/LTE6MTtSPU1hdGguYWJzKE1hdGgubG9nKFQvdykpL2IsTD1mdW5jdGlvbigpe3JldHVybiAwfSxBPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmV4cChrKmIqdCl9O31yZXR1cm4gZS5kdXJhdGlvbj0iZHVyYXRpb24iaW4gZT8rZS5kdXJhdGlvbjoxZTMqUi8oInNjcmVlblNwZWVkImluIGU/K2Uuc2NyZWVuU3BlZWQvYjorZS5zcGVlZCksZS5tYXhEdXJhdGlvbiYmZS5kdXJhdGlvbj5lLm1heER1cmF0aW9uJiYoZS5kdXJhdGlvbj0wKSx0aGlzLl96b29taW5nPSEwLHRoaXMuX3JvdGF0aW5nPXMhPT1oLHRoaXMuX3BpdGNoaW5nPXAhPT1sLHRoaXMuX3BhZGRpbmc9IWEuaXNQYWRkaW5nRXF1YWwoZCksdGhpcy5fcHJlcGFyZUVhc2UoaSwhMSksdGhpcy5fZWFzZSgoZnVuY3Rpb24oZSl7dmFyIHI9ZSpSLF89MS9BKHIpO2Euem9vbT0xPT09ZT91Om4rYS5zY2FsZVpvb20oXyksby5fcm90YXRpbmcmJihhLmJlYXJpbmc9dC5udW1iZXIocyxoLGUpKSxvLl9waXRjaGluZyYmKGEucGl0Y2g9dC5udW1iZXIobCxwLGUpKSxvLl9wYWRkaW5nJiYoYS5pbnRlcnBvbGF0ZVBhZGRpbmcoYyxkLGUpLG09YS5jZW50ZXJQb2ludC5hZGQoZikpO3ZhciBnPTE9PT1lP3Y6YS51bnByb2plY3QoeS5hZGQoeC5tdWx0KEwocikpKS5tdWx0KF8pKTthLnNldExvY2F0aW9uQXRQb2ludChhLnJlbmRlcldvcmxkQ29waWVzP2cud3JhcCgpOmcsbSksby5fZmlyZU1vdmVFdmVudHMoaSk7fSksKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX2FmdGVyRWFzZShpKX0pLGUpLHRoaXN9LGkucHJvdG90eXBlLmlzRWFzaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZWFzZUZyYW1lSWR9LGkucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcCgpfSxpLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLGRlbGV0ZSB0aGlzLl9lYXNlRnJhbWVJZCxkZWxldGUgdGhpcy5fb25FYXNlRnJhbWUpLHRoaXMuX29uRWFzZUVuZCl7dmFyIGk9dGhpcy5fb25FYXNlRW5kO2RlbGV0ZSB0aGlzLl9vbkVhc2VFbmQsaS5jYWxsKHRoaXMsZSk7fWlmKCF0KXt2YXIgbz10aGlzLmhhbmRsZXJzO28mJm8uc3RvcCgpO31yZXR1cm4gdGhpc30saS5wcm90b3R5cGUuX2Vhc2U9ZnVuY3Rpb24oZSxpLG8peyExPT09by5hbmltYXRlfHwwPT09by5kdXJhdGlvbj8oZSgxKSxpKCkpOih0aGlzLl9lYXNlU3RhcnQ9dC5icm93c2VyLm5vdygpLHRoaXMuX2Vhc2VPcHRpb25zPW8sdGhpcy5fb25FYXNlRnJhbWU9ZSx0aGlzLl9vbkVhc2VFbmQ9aSx0aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjaykpO30saS5wcm90b3R5cGUuX3JlbmRlckZyYW1lQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLm1pbigodC5icm93c2VyLm5vdygpLXRoaXMuX2Vhc2VTdGFydCkvdGhpcy5fZWFzZU9wdGlvbnMuZHVyYXRpb24sMSk7dGhpcy5fb25FYXNlRnJhbWUodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKGUpKSxlPDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO30saS5wcm90b3R5cGUuX25vcm1hbGl6ZUJlYXJpbmc9ZnVuY3Rpb24oZSxpKXtlPXQud3JhcChlLC0xODAsMTgwKTt2YXIgbz1NYXRoLmFicyhlLWkpO3JldHVybiBNYXRoLmFicyhlLTM2MC1pKTxvJiYoZS09MzYwKSxNYXRoLmFicyhlKzM2MC1pKTxvJiYoZSs9MzYwKSxlfSxpLnByb3RvdHlwZS5fbm9ybWFsaXplQ2VudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtO2lmKGUucmVuZGVyV29ybGRDb3BpZXMmJiFlLmxuZ1JhbmdlKXt2YXIgaT10LmxuZy1lLmNlbnRlci5sbmc7dC5sbmcrPWk+MTgwPy0zNjA6aTwtMTgwPzM2MDowO319LGl9KHQuRXZlbnRlZCksZ3I9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMub3B0aW9ucz1lLHQuYmluZEFsbChbIl91cGRhdGVFZGl0TGluayIsIl91cGRhdGVEYXRhIiwiX3VwZGF0ZUNvbXBhY3QiXSx0aGlzKTt9O2dyLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gImJvdHRvbS1yaWdodCJ9LGdyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5jb21wYWN0O3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1hdHRyaWIiKSx0aGlzLl9pbm5lckNvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXIiLHRoaXMuX2NvbnRhaW5lciksZSYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWNvbXBhY3QiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbigic3R5bGVkYXRhIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oInNvdXJjZWRhdGEiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PWUmJih0aGlzLl9tYXAub24oInJlc2l6ZSIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpKSx0aGlzLl9jb250YWluZXJ9LGdyLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe2kucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZigic3R5bGVkYXRhIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKCJzb3VyY2VkYXRhIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVFZGl0TGluayksdGhpcy5fbWFwLm9mZigicmVzaXplIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX2F0dHJpYkhUTUw9dm9pZCAwO30sZ3IucHJvdG90eXBlLl91cGRhdGVFZGl0TGluaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2VkaXRMaW5rO2V8fChlPXRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIubWFwYm94LWltcHJvdmUtbWFwIikpO3ZhciBpPVt7a2V5OiJvd25lciIsdmFsdWU6dGhpcy5zdHlsZU93bmVyfSx7a2V5OiJpZCIsdmFsdWU6dGhpcy5zdHlsZUlkfSx7a2V5OiJhY2Nlc3NfdG9rZW4iLHZhbHVlOnRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VufHx0LmNvbmZpZy5BQ0NFU1NfVE9LRU59XTtpZihlKXt2YXIgbz1pLnJlZHVjZSgoZnVuY3Rpb24odCxlLG8pe3JldHVybiBlLnZhbHVlJiYodCs9ZS5rZXkrIj0iK2UudmFsdWUrKG88aS5sZW5ndGgtMT8iJiI6IiIpKSx0fSksIj8iKTtlLmhyZWY9dC5jb25maWcuRkVFREJBQ0tfVVJMKyIvIitvKyh0aGlzLl9tYXAuX2hhc2g/dGhpcy5fbWFwLl9oYXNoLmdldEhhc2hTdHJpbmcoITApOiIiKSxlLnJlbD0ibm9vcGVuZXIgbm9mb2xsb3ciO319LGdyLnByb3RvdHlwZS5fdXBkYXRlRGF0YT1mdW5jdGlvbih0KXshdHx8Im1ldGFkYXRhIiE9PXQuc291cmNlRGF0YVR5cGUmJiJzdHlsZSIhPT10LmRhdGFUeXBlfHwodGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSk7fSxnci5wcm90b3R5cGUuX3VwZGF0ZUF0dHJpYnV0aW9ucz1mdW5jdGlvbigpe2lmKHRoaXMuX21hcC5zdHlsZSl7dmFyIHQ9W107aWYodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiYoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pP3Q9dC5jb25jYXQodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJzdHJpbmciIT10eXBlb2YgdD8iIjp0fSkpKToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiYmdC5wdXNoKHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikpLHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0KXt2YXIgZT10aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDt0aGlzLnN0eWxlT3duZXI9ZS5vd25lcix0aGlzLnN0eWxlSWQ9ZS5pZDt9dmFyIGk9dGhpcy5fbWFwLnN0eWxlLnNvdXJjZUNhY2hlcztmb3IodmFyIG8gaW4gaSl7dmFyIHI9aVtvXTtpZihyLnVzZWQpe3ZhciBhPXIuZ2V0U291cmNlKCk7YS5hdHRyaWJ1dGlvbiYmdC5pbmRleE9mKGEuYXR0cmlidXRpb24pPDAmJnQucHVzaChhLmF0dHJpYnV0aW9uKTt9fXQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sZW5ndGgtZS5sZW5ndGh9KSk7dmFyIG49KHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBvPWkrMTtvPHQubGVuZ3RoO28rKylpZih0W29dLmluZGV4T2YoZSk+PTApcmV0dXJuICExO3JldHVybiAhMH0pKSkuam9pbigiIHwgIik7biE9PXRoaXMuX2F0dHJpYkhUTUwmJih0aGlzLl9hdHRyaWJIVE1MPW4sdC5sZW5ndGg/KHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTD1uLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1hdHRyaWItZW1wdHkiKSk6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWF0dHJpYi1lbXB0eSIpLHRoaXMuX2VkaXRMaW5rPW51bGwpO319LGdyLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDw9NjQwP3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jb21wYWN0Iik6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWNvbXBhY3QiKTt9O3ZhciB2cj1mdW5jdGlvbigpe3QuYmluZEFsbChbIl91cGRhdGVMb2dvIl0sdGhpcyksdC5iaW5kQWxsKFsiX3VwZGF0ZUNvbXBhY3QiXSx0aGlzKTt9O3ZyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwiKTt2YXIgZT1pLmNyZWF0ZSgiYSIsIm1hcGJveGdsLWN0cmwtbG9nbyIpO3JldHVybiBlLnRhcmdldD0iX2JsYW5rIixlLnJlbD0ibm9vcGVuZXIgbm9mb2xsb3ciLGUuaHJlZj0iaHR0cHM6Ly93d3cubWFwYm94LmNvbS8iLGUuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIix0aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJMb2dvQ29udHJvbC5UaXRsZSIpKSxlLnNldEF0dHJpYnV0ZSgicmVsIiwibm9vcGVuZXIgbm9mb2xsb3ciKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoZSksdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuX21hcC5vbigic291cmNlZGF0YSIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX21hcC5vbigicmVzaXplIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCksdGhpcy5fY29udGFpbmVyfSx2ci5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXtpLnJlbW92ZSh0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcC5vZmYoInNvdXJjZWRhdGEiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX21hcC5vZmYoInJlc2l6ZSIsdGhpcy5fdXBkYXRlQ29tcGFjdCk7fSx2ci5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuICJib3R0b20tbGVmdCJ9LHZyLnByb3RvdHlwZS5fdXBkYXRlTG9nbz1mdW5jdGlvbih0KXt0JiYibWV0YWRhdGEiIT09dC5zb3VyY2VEYXRhVHlwZXx8KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PXRoaXMuX2xvZ29SZXF1aXJlZCgpPyJibG9jayI6Im5vbmUiKTt9LHZyLnByb3RvdHlwZS5fbG9nb1JlcXVpcmVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwLnN0eWxlKXt2YXIgdD10aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgZSBpbiB0KWlmKHRbZV0uZ2V0U291cmNlKCkubWFwYm94X2xvZ28pcmV0dXJuICEwO3JldHVybiAhMX19LHZyLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtpZih0Lmxlbmd0aCl7dmFyIGU9dFswXTt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8MjUwP2UuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY29tcGFjdCIpOmUuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY29tcGFjdCIpO319O3ZhciB5cj1mdW5jdGlvbigpe3RoaXMuX3F1ZXVlPVtdLHRoaXMuX2lkPTAsdGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExO307eXIucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT0rK3RoaXMuX2lkO3JldHVybiB0aGlzLl9xdWV1ZS5wdXNoKHtjYWxsYmFjazp0LGlkOmUsY2FuY2VsbGVkOiExfSksZX0seXIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY3VycmVudGx5UnVubmluZyxpPTAsbz1lP3RoaXMuX3F1ZXVlLmNvbmNhdChlKTp0aGlzLl9xdWV1ZTtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPW9baV07aWYoci5pZD09PXQpcmV0dXJuIHZvaWQoci5jYW5jZWxsZWQ9ITApfX0seXIucHJvdG90eXBlLnJ1bj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0wKTt2YXIgZT10aGlzLl9jdXJyZW50bHlSdW5uaW5nPXRoaXMuX3F1ZXVlO3RoaXMuX3F1ZXVlPVtdO2Zvcih2YXIgaT0wLG89ZTtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPW9baV07aWYoIXIuY2FuY2VsbGVkJiYoci5jYWxsYmFjayh0KSx0aGlzLl9jbGVhcmVkKSlicmVha310aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITE7fSx5ci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50bHlSdW5uaW5nJiYodGhpcy5fY2xlYXJlZD0hMCksdGhpcy5fcXVldWU9W107fTt2YXIgeHI9eyJGdWxsc2NyZWVuQ29udHJvbC5FbnRlciI6IkVudGVyIGZ1bGxzY3JlZW4iLCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0IjoiRXhpdCBmdWxsc2NyZWVuIiwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvbiI6IkZpbmQgbXkgbG9jYXRpb24iLCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlIjoiTG9jYXRpb24gbm90IGF2YWlsYWJsZSIsIkxvZ29Db250cm9sLlRpdGxlIjoiTWFwYm94IGxvZ28iLCJOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmciOiJSZXNldCBiZWFyaW5nIHRvIG5vcnRoIiwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluIjoiWm9vbSBpbiIsIk5hdmlnYXRpb25Db250cm9sLlpvb21PdXQiOiJab29tIG91dCIsIlNjYWxlQ29udHJvbC5GZWV0IjoiZnQiLCJTY2FsZUNvbnRyb2wuTWV0ZXJzIjoibSIsIlNjYWxlQ29udHJvbC5LaWxvbWV0ZXJzIjoia20iLCJTY2FsZUNvbnRyb2wuTWlsZXMiOiJtaSIsIlNjYWxlQ29udHJvbC5OYXV0aWNhbE1pbGVzIjoibm0ifSxicj10LndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50LHdyPXQud2luZG93LkhUTUxFbGVtZW50LFRyPXQud2luZG93LkltYWdlQml0bWFwLEVyPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjYwLGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGJlYXJpbmdTbmFwOjcsY2xpY2tUb2xlcmFuY2U6MyxwaXRjaFdpdGhSb3RhdGU6ITAsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsdHJhY2tSZXNpemU6ITAscmVuZGVyV29ybGRDb3BpZXM6ITAscmVmcmVzaEV4cGlyZWRUaWxlczohMCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiJzYW5zLXNlcmlmIix0cmFuc2Zvcm1SZXF1ZXN0Om51bGwsYWNjZXNzVG9rZW46bnVsbCxmYWRlRHVyYXRpb246MzAwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMH0sSXI9ZnVuY3Rpb24obyl7ZnVuY3Rpb24gcihlKXt2YXIgaT10aGlzO2lmKG51bGwhPShlPXQuZXh0ZW5kKHt9LEVyLGUpKS5taW5ab29tJiZudWxsIT1lLm1heFpvb20mJmUubWluWm9vbT5lLm1heFpvb20pdGhyb3cgbmV3IEVycm9yKCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblpvb20iKTtpZihudWxsIT1lLm1pblBpdGNoJiZudWxsIT1lLm1heFBpdGNoJiZlLm1pblBpdGNoPmUubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaCIpO2lmKG51bGwhPWUubWluUGl0Y2gmJmUubWluUGl0Y2g8MCl0aHJvdyBuZXcgRXJyb3IoIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAiKTtpZihudWxsIT1lLm1heFBpdGNoJiZlLm1heFBpdGNoPjYwKXRocm93IG5ldyBFcnJvcigibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gNjAiKTt2YXIgcj1uZXcgd28oZS5taW5ab29tLGUubWF4Wm9vbSxlLm1pblBpdGNoLGUubWF4UGl0Y2gsZS5yZW5kZXJXb3JsZENvcGllcyk7aWYoby5jYWxsKHRoaXMscixlKSx0aGlzLl9pbnRlcmFjdGl2ZT1lLmludGVyYWN0aXZlLHRoaXMuX21heFRpbGVDYWNoZVNpemU9ZS5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj1lLnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl9hbnRpYWxpYXM9ZS5hbnRpYWxpYXMsdGhpcy5fdHJhY2tSZXNpemU9ZS50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD1lLmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9ZS5yZWZyZXNoRXhwaXJlZFRpbGVzLHRoaXMuX2ZhZGVEdXJhdGlvbj1lLmZhZGVEdXJhdGlvbix0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnM9ZS5jcm9zc1NvdXJjZUNvbGxpc2lvbnMsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9MSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ZS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fcmVuZGVyVGFza1F1ZXVlPW5ldyB5cix0aGlzLl9jb250cm9scz1bXSx0aGlzLl9tYXBJZD10LnVuaXF1ZUlkKCksdGhpcy5fbG9jYWxlPXQuZXh0ZW5kKHt9LHhyLGUubG9jYWxlKSx0aGlzLl9yZXF1ZXN0TWFuYWdlcj1uZXcgdC5SZXF1ZXN0TWFuYWdlcihlLnRyYW5zZm9ybVJlcXVlc3QsZS5hY2Nlc3NUb2tlbiksInN0cmluZyI9PXR5cGVvZiBlLmNvbnRhaW5lcil7aWYodGhpcy5fY29udGFpbmVyPXQud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuY29udGFpbmVyKSwhdGhpcy5fY29udGFpbmVyKXRocm93IG5ldyBFcnJvcigiQ29udGFpbmVyICciK2UuY29udGFpbmVyKyInIG5vdCBmb3VuZC4iKX1lbHNlIHtpZighKGUuY29udGFpbmVyIGluc3RhbmNlb2Ygd3IpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlOiAnY29udGFpbmVyJyBtdXN0IGJlIGEgU3RyaW5nIG9yIEhUTUxFbGVtZW50LiIpO3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjt9aWYoZS5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKGUubWF4Qm91bmRzKSx0LmJpbmRBbGwoWyJfb25XaW5kb3dPbmxpbmUiLCJfb25XaW5kb3dSZXNpemUiLCJfY29udGV4dExvc3QiLCJfY29udGV4dFJlc3RvcmVkIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTC4iKTt0aGlzLm9uKCJtb3ZlIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5fdXBkYXRlKCExKX0pKSx0aGlzLm9uKCJtb3ZlZW5kIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5fdXBkYXRlKCExKX0pKSx0aGlzLm9uKCJ6b29tIiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5fdXBkYXRlKCEwKX0pKSx2b2lkIDAhPT10LndpbmRvdyYmKHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm9ubGluZSIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpKSx0aGlzLmhhbmRsZXJzPW5ldyBmcih0aGlzLGUpLHRoaXMuX2hhc2g9ZS5oYXNoJiZuZXcgRW8oInN0cmluZyI9PXR5cGVvZiBlLmhhc2gmJmUuaGFzaHx8dm9pZCAwKS5hZGRUbyh0aGlzKSx0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLl9vbkhhc2hDaGFuZ2UoKXx8KHRoaXMuanVtcFRvKHtjZW50ZXI6ZS5jZW50ZXIsem9vbTplLnpvb20sYmVhcmluZzplLmJlYXJpbmcscGl0Y2g6ZS5waXRjaH0pLGUuYm91bmRzJiYodGhpcy5yZXNpemUoKSx0aGlzLmZpdEJvdW5kcyhlLmJvdW5kcyx0LmV4dGVuZCh7fSxlLmZpdEJvdW5kc09wdGlvbnMse2R1cmF0aW9uOjB9KSkpKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1lLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSxlLnN0eWxlJiZ0aGlzLnNldFN0eWxlKGUuc3R5bGUse2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseTplLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pLGUuYXR0cmlidXRpb25Db250cm9sJiZ0aGlzLmFkZENvbnRyb2wobmV3IGdyKHtjdXN0b21BdHRyaWJ1dGlvbjplLmN1c3RvbUF0dHJpYnV0aW9ufSkpLHRoaXMuYWRkQ29udHJvbChuZXcgdnIsZS5sb2dvUG9zaXRpb24pLHRoaXMub24oInN0eWxlLmxvYWQiLChmdW5jdGlvbigpe2kudHJhbnNmb3JtLnVubW9kaWZpZWQmJmkuanVtcFRvKGkuc3R5bGUuc3R5bGVzaGVldCk7fSkpLHRoaXMub24oImRhdGEiLChmdW5jdGlvbihlKXtpLl91cGRhdGUoInN0eWxlIj09PWUuZGF0YVR5cGUpLGkuZmlyZShuZXcgdC5FdmVudChlLmRhdGFUeXBlKyJkYXRhIixlKSk7fSkpLHRoaXMub24oImRhdGFsb2FkaW5nIiwoZnVuY3Rpb24oZSl7aS5maXJlKG5ldyB0LkV2ZW50KGUuZGF0YVR5cGUrImRhdGFsb2FkaW5nIixlKSk7fSkpO31vJiYoci5fX3Byb3RvX189byksKHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobyYmby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1yO3ZhciBhPXtzaG93VGlsZUJvdW5kYXJpZXM6e2NvbmZpZ3VyYWJsZTohMH0sc2hvd1BhZGRpbmc6e2NvbmZpZ3VyYWJsZTohMH0sc2hvd0NvbGxpc2lvbkJveGVzOntjb25maWd1cmFibGU6ITB9LHNob3dPdmVyZHJhd0luc3BlY3Rvcjp7Y29uZmlndXJhYmxlOiEwfSxyZXBhaW50Ontjb25maWd1cmFibGU6ITB9LHZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9LHZlcnNpb246e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLnByb3RvdHlwZS5fZ2V0TWFwSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwSWR9LHIucHJvdG90eXBlLmFkZENvbnRyb2w9ZnVuY3Rpb24oZSxpKXtpZih2b2lkIDA9PT1pJiZlLmdldERlZmF1bHRQb3NpdGlvbiYmKGk9ZS5nZXREZWZhdWx0UG9zaXRpb24oKSksdm9pZCAwPT09aSYmKGk9InRvcC1yaWdodCIpLCFlfHwhZS5vbkFkZClyZXR1cm4gdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5hZGRDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuIikpKTt2YXIgbz1lLm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2goZSk7dmFyIHI9dGhpcy5fY29udHJvbFBvc2l0aW9uc1tpXTtyZXR1cm4gLTEhPT1pLmluZGV4T2YoImJvdHRvbSIpP3IuaW5zZXJ0QmVmb3JlKG8sci5maXJzdENoaWxkKTpyLmFwcGVuZENoaWxkKG8pLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUNvbnRyb2w9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm9uUmVtb3ZlKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLnJlbW92ZUNvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy4iKSkpO3ZhciBpPXRoaXMuX2NvbnRyb2xzLmluZGV4T2YoZSk7cmV0dXJuIGk+LTEmJnRoaXMuX2NvbnRyb2xzLnNwbGljZShpLDEpLGUub25SZW1vdmUodGhpcyksdGhpc30sci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKSxvPWlbMF0scj1pWzFdO3RoaXMuX3Jlc2l6ZUNhbnZhcyhvLHIpLHRoaXMudHJhbnNmb3JtLnJlc2l6ZShvLHIpLHRoaXMucGFpbnRlci5yZXNpemUobyxyKTt2YXIgYT0hdGhpcy5fbW92aW5nO3JldHVybiBhJiYodGhpcy5zdG9wKCksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3Zlc3RhcnQiLGUpKS5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlIixlKSkpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgicmVzaXplIixlKSksYSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixlKSksdGhpc30sci5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldEJvdW5kcygpfSxyLnByb3RvdHlwZS5nZXRNYXhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCl9LHIucHJvdG90eXBlLnNldE1heEJvdW5kcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKHQuTG5nTGF0Qm91bmRzLmNvbnZlcnQoZSkpLHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5zZXRNaW5ab29tPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/LTI6dCk+PS0yJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhab29tKXJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRab29tKCk8dCYmdGhpcy5zZXRab29tKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlIil9LHIucHJvdG90eXBlLmdldE1pblpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX0sci5wcm90b3R5cGUuc2V0TWF4Wm9vbT1mdW5jdGlvbih0KXtpZigodD1udWxsPT10PzIyOnQpPj10aGlzLnRyYW5zZm9ybS5taW5ab29tKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRab29tKCk+dCYmdGhpcy5zZXRab29tKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb20iKX0sci5wcm90b3R5cGUuZ2V0TWF4Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxyLnByb3RvdHlwZS5zZXRNaW5QaXRjaD1mdW5jdGlvbih0KXtpZigodD1udWxsPT10PzA6dCk8MCl0aHJvdyBuZXcgRXJyb3IoIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAiKTtpZih0Pj0wJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhQaXRjaClyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2g9dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFBpdGNoKCk8dCYmdGhpcy5zZXRQaXRjaCh0KSx0aGlzO3Rocm93IG5ldyBFcnJvcigibWluUGl0Y2ggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIHRoZSBjdXJyZW50IG1heFBpdGNoLCBpbmNsdXNpdmUiKX0sci5wcm90b3R5cGUuZ2V0TWluUGl0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2h9LHIucHJvdG90eXBlLnNldE1heFBpdGNoPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/NjA6dCk+NjApdGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA2MCIpO2lmKHQ+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT50JiZ0aGlzLnNldFBpdGNoKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBtaW5QaXRjaCIpfSxyLnByb3RvdHlwZS5nZXRNYXhQaXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaH0sci5wcm90b3R5cGUuZ2V0UmVuZGVyV29ybGRDb3BpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9LHIucHJvdG90eXBlLnNldFJlbmRlcldvcmxkQ29waWVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcz10LHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KHQuTG5nTGF0LmNvbnZlcnQoZSkpfSxyLnByb3RvdHlwZS51bnByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24odC5Qb2ludC5jb252ZXJ0KGUpKX0sci5wcm90b3R5cGUuaXNNb3Zpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW92aW5nfHx0aGlzLmhhbmRsZXJzLmlzQWN0aXZlKCl9LHIucHJvdG90eXBlLmlzWm9vbWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpfSxyLnByb3RvdHlwZS5pc1JvdGF0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW5nfHx0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKX0sci5wcm90b3R5cGUuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxyPXRoaXM7aWYoIm1vdXNlZW50ZXIiPT09dHx8Im1vdXNlb3ZlciI9PT10KXt2YXIgYT0hMTtyZXR1cm4ge2xheWVyOmUsbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpmdW5jdGlvbihvKXt2YXIgbj1yLmdldExheWVyKGUpP3IucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG8ucG9pbnQse2xheWVyczpbZV19KTpbXTtuLmxlbmd0aD9hfHwoYT0hMCxpLmNhbGwocixuZXcgTG8odCxyLG8ub3JpZ2luYWxFdmVudCx7ZmVhdHVyZXM6bn0pKSk6YT0hMTt9LG1vdXNlb3V0OmZ1bmN0aW9uKCl7YT0hMTt9fX19aWYoIm1vdXNlbGVhdmUiPT09dHx8Im1vdXNlb3V0Ij09PXQpe3ZhciBuPSExO3JldHVybiB7bGF5ZXI6ZSxsaXN0ZW5lcjppLGRlbGVnYXRlczp7bW91c2Vtb3ZlOmZ1bmN0aW9uKG8peyhyLmdldExheWVyKGUpP3IucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG8ucG9pbnQse2xheWVyczpbZV19KTpbXSkubGVuZ3RoP249ITA6biYmKG49ITEsaS5jYWxsKHIsbmV3IExvKHQscixvLm9yaWdpbmFsRXZlbnQpKSk7fSxtb3VzZW91dDpmdW5jdGlvbihlKXtuJiYobj0hMSxpLmNhbGwocixuZXcgTG8odCxyLGUub3JpZ2luYWxFdmVudCkpKTt9fX19cmV0dXJuIHtsYXllcjplLGxpc3RlbmVyOmksZGVsZWdhdGVzOihvPXt9LG9bdF09ZnVuY3Rpb24odCl7dmFyIG89ci5nZXRMYXllcihlKT9yLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LnBvaW50LHtsYXllcnM6W2VdfSk6W107by5sZW5ndGgmJih0LmZlYXR1cmVzPW8saS5jYWxsKHIsdCksZGVsZXRlIHQuZmVhdHVyZXMpO30sbyl9fSxyLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gby5wcm90b3R5cGUub24uY2FsbCh0aGlzLHQsZSk7dmFyIHI9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIodCxlLGkpO2Zvcih2YXIgYSBpbiB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdF09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3RdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdF0ucHVzaChyKSxyLmRlbGVnYXRlcyl0aGlzLm9uKGEsci5kZWxlZ2F0ZXNbYV0pO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pKXJldHVybiBvLnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyx0LGUpO3ZhciByPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKHQsZSxpKTtmb3IodmFyIGEgaW4gci5kZWxlZ2F0ZXMpdGhpcy5vbmNlKGEsci5kZWxlZ2F0ZXNbYV0pO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXM7cmV0dXJuIHZvaWQgMD09PWk/by5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyx0LGUpOih0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnMmJnRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0XSYmZnVuY3Rpb24obyl7Zm9yKHZhciBhPW9bdF0sbj0wO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO2lmKHMubGF5ZXI9PT1lJiZzLmxpc3RlbmVyPT09aSl7Zm9yKHZhciBsIGluIHMuZGVsZWdhdGVzKXIub2ZmKGwscy5kZWxlZ2F0ZXNbbF0pO3JldHVybiBhLnNwbGljZShuLDEpLHJ9fX0odGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzKSx0aGlzKX0sci5wcm90b3R5cGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzPWZ1bmN0aW9uKGUsaSl7aWYoIXRoaXMuc3R5bGUpcmV0dXJuIFtdO3ZhciBvO2lmKHZvaWQgMCE9PWl8fHZvaWQgMD09PWV8fGUgaW5zdGFuY2VvZiB0LlBvaW50fHxBcnJheS5pc0FycmF5KGUpfHwoaT1lLGU9dm9pZCAwKSxpPWl8fHt9LChlPWV8fFtbMCwwXSxbdGhpcy50cmFuc2Zvcm0ud2lkdGgsdGhpcy50cmFuc2Zvcm0uaGVpZ2h0XV0paW5zdGFuY2VvZiB0LlBvaW50fHwibnVtYmVyIj09dHlwZW9mIGVbMF0pbz1bdC5Qb2ludC5jb252ZXJ0KGUpXTtlbHNlIHt2YXIgcj10LlBvaW50LmNvbnZlcnQoZVswXSksYT10LlBvaW50LmNvbnZlcnQoZVsxXSk7bz1bcixuZXcgdC5Qb2ludChhLngsci55KSxhLG5ldyB0LlBvaW50KHIueCxhLnkpLHJdO31yZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMobyxpLHRoaXMudHJhbnNmb3JtKX0sci5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXModCxlKX0sci5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gITEhPT0oaT10LmV4dGVuZCh7fSx7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0saSkpLmRpZmYmJmkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PT09dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5JiZ0aGlzLnN0eWxlJiZlPyh0aGlzLl9kaWZmU3R5bGUoZSxpKSx0aGlzKToodGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKGUsaSkpfSxyLnByb3RvdHlwZS5fZ2V0VUlTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbG9jYWxlW3RdO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIFVJIHN0cmluZyAnIit0KyInIik7cmV0dXJuIGV9LHIucHJvdG90eXBlLl91cGRhdGVTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc3R5bGUuX3JlbW92ZSgpKSx0Pyh0aGlzLnN0eWxlPW5ldyBxZSh0aGlzLGV8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLCJzdHJpbmciPT10eXBlb2YgdD90aGlzLnN0eWxlLmxvYWRVUkwodCk6dGhpcy5zdHlsZS5sb2FkSlNPTih0KSx0aGlzKTooZGVsZXRlIHRoaXMuc3R5bGUsdGhpcyl9LHIucHJvdG90eXBlLl9sYXp5SW5pdEVtcHR5U3R5bGU9ZnVuY3Rpb24oKXt0aGlzLnN0eWxlfHwodGhpcy5zdHlsZT1uZXcgcWUodGhpcyx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSx0aGlzLnN0eWxlLmxvYWRFbXB0eSgpKTt9LHIucHJvdG90eXBlLl9kaWZmU3R5bGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIHI9dGhpcy5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwoZSksYT10aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHIsdC5SZXNvdXJjZVR5cGUuU3R5bGUpO3QuZ2V0SlNPTihhLChmdW5jdGlvbihlLHIpe2U/by5maXJlKG5ldyB0LkVycm9yRXZlbnQoZSkpOnImJm8uX3VwZGF0ZURpZmYocixpKTt9KSk7fWVsc2UgIm9iamVjdCI9PXR5cGVvZiBlJiZ0aGlzLl91cGRhdGVEaWZmKGUsaSk7fSxyLnByb3RvdHlwZS5fdXBkYXRlRGlmZj1mdW5jdGlvbihlLGkpe3RyeXt0aGlzLnN0eWxlLnNldFN0YXRlKGUpJiZ0aGlzLl91cGRhdGUoITApO31jYXRjaChvKXt0Lndhcm5PbmNlKCJVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAiKyhvLm1lc3NhZ2V8fG8uZXJyb3J8fG8pKyIuICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guIiksdGhpcy5fdXBkYXRlU3R5bGUoZSxpKTt9fSxyLnByb3RvdHlwZS5nZXRTdHlsZT1mdW5jdGlvbigpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9LHIucHJvdG90eXBlLmlzU3R5bGVMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmxvYWRlZCgpOnQud2Fybk9uY2UoIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuIil9LHIucHJvdG90eXBlLmFkZFNvdXJjZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZSh0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmlzU291cmNlTG9hZGVkPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2VdO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGkubG9hZGVkKCk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnIitlKyInIikpKTt9LHIucHJvdG90eXBlLmFyZVRpbGVzTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBlIGluIHQpe3ZhciBpPXRbZV0uX3RpbGVzO2Zvcih2YXIgbyBpbiBpKXt2YXIgcj1pW29dO2lmKCJsb2FkZWQiIT09ci5zdGF0ZSYmImVycm9yZWQiIT09ci5zdGF0ZSlyZXR1cm4gITF9fXJldHVybiAhMH0sci5wcm90b3R5cGUuYWRkU291cmNlVHlwZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZSh0LGUsaSl9LHIucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UodCksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZSh0KX0sci5wcm90b3R5cGUuYWRkSW1hZ2U9ZnVuY3Rpb24oZSxpLG8pe3ZvaWQgMD09PW8mJihvPXt9KTt2YXIgcj1vLnBpeGVsUmF0aW87dm9pZCAwPT09ciYmKHI9MSk7dmFyIGE9by5zZGY7dm9pZCAwPT09YSYmKGE9ITEpO3ZhciBuPW8uc3RyZXRjaFgscz1vLnN0cmV0Y2hZLGw9by5jb250ZW50O2lmKHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLGkgaW5zdGFuY2VvZiBicnx8VHImJmkgaW5zdGFuY2VvZiBUcil7dmFyIGM9dC5icm93c2VyLmdldEltYWdlRGF0YShpKTt0aGlzLnN0eWxlLmFkZEltYWdlKGUse2RhdGE6bmV3IHQuUkdCQUltYWdlKHt3aWR0aDpjLndpZHRoLGhlaWdodDpjLmhlaWdodH0sYy5kYXRhKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6bixzdHJldGNoWTpzLGNvbnRlbnQ6bCxzZGY6YSx2ZXJzaW9uOjB9KTt9ZWxzZSB7aWYodm9pZCAwPT09aS53aWR0aHx8dm9pZCAwPT09aS5oZWlnaHQpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLmFkZEltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgIikpKTt2YXIgdT1pO3RoaXMuc3R5bGUuYWRkSW1hZ2UoZSx7ZGF0YTpuZXcgdC5SR0JBSW1hZ2Uoe3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxuZXcgVWludDhBcnJheShpLmRhdGEpKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6bixzdHJldGNoWTpzLGNvbnRlbnQ6bCxzZGY6YSx2ZXJzaW9uOjAsdXNlckltYWdlOnV9KSx1Lm9uQWRkJiZ1Lm9uQWRkKHRoaXMsZSk7fX0sci5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLnN0eWxlLmdldEltYWdlKGUpO2lmKCFvKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC4iKSkpO3ZhciByPWkgaW5zdGFuY2VvZiBicnx8VHImJmkgaW5zdGFuY2VvZiBUcj90LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGkpOmksYT1yLndpZHRoLG49ci5oZWlnaHQscz1yLmRhdGE7cmV0dXJuIHZvaWQgMD09PWF8fHZvaWQgMD09PW4/dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAudXBkYXRlSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAiKSkpOmEhPT1vLmRhdGEud2lkdGh8fG4hPT1vLmRhdGEuaGVpZ2h0P3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlIikpKTooby5kYXRhLnJlcGxhY2UocywhKGkgaW5zdGFuY2VvZiBicnx8VHImJmkgaW5zdGFuY2VvZiBUcikpLHZvaWQgdGhpcy5zdHlsZS51cGRhdGVJbWFnZShlLG8pKX0sci5wcm90b3R5cGUuaGFzSW1hZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ISF0aGlzLnN0eWxlLmdldEltYWdlKGUpOih0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIk1pc3NpbmcgcmVxdWlyZWQgaW1hZ2UgaWQiKSkpLCExKX0sci5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5yZW1vdmVJbWFnZSh0KTt9LHIucHJvdG90eXBlLmxvYWRJbWFnZT1mdW5jdGlvbihlLGkpe3QuZ2V0SW1hZ2UodGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLHQuUmVzb3VyY2VUeXBlLkltYWdlKSxpKTt9LHIucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCl9LHIucHJvdG90eXBlLmFkZExheWVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5tb3ZlTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5yZW1vdmVMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVMYXllcih0KSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXllcih0KX0sci5wcm90b3R5cGUuc2V0TGF5ZXJab29tUmFuZ2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKHQsZSxpKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5zZXRGaWx0ZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT17fSksdGhpcy5zdHlsZS5zZXRGaWx0ZXIodCxlLGkpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmdldEZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGaWx0ZXIodCl9LHIucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXt9KSx0aGlzLnN0eWxlLnNldFBhaW50UHJvcGVydHkodCxlLGksbyksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkodCxlKX0sci5wcm90b3R5cGUuc2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXt9KSx0aGlzLnN0eWxlLnNldExheW91dFByb3BlcnR5KHQsZSxpLG8pLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkodCxlKX0sci5wcm90b3R5cGUuc2V0TGlnaHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuc2V0TGlnaHQodCxlKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCl9LHIucHJvdG90eXBlLnNldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZSh0LGUpLHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVGZWF0dXJlU3RhdGUodCxlKSx0aGlzLl91cGRhdGUoKX0sci5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZSh0KX0sci5wcm90b3R5cGUuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sci5wcm90b3R5cGUuZ2V0Q2FudmFzQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcn0sci5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc30sci5wcm90b3R5cGUuX2NvbnRhaW5lckRpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MDtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodD10aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGh8fDQwMCxlPXRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHR8fDMwMCksW3QsZV19LHIucHJvdG90eXBlLl9kZXRlY3RNaXNzaW5nQ1NTPWZ1bmN0aW9uKCl7InJnYigyNTAsIDEyOCwgMTE0KSIhPT10LndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLmdldFByb3BlcnR5VmFsdWUoImJhY2tncm91bmQtY29sb3IiKSYmdC53YXJuT25jZSgiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLiIpO30sci5wcm90b3R5cGUuX3NldHVwQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyO3QuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtbWFwIiksKHRoaXMuX21pc3NpbmdDU1NDYW5hcnk9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWNhbmFyeSIsdCkpLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO3ZhciBlPXRoaXMuX2NhbnZhc0NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lciIsdCk7dGhpcy5faW50ZXJhY3RpdmUmJmUuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtaW50ZXJhY3RpdmUiKSx0aGlzLl9jYW52YXM9aS5jcmVhdGUoImNhbnZhcyIsIm1hcGJveGdsLWNhbnZhcyIsZSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCIwIiksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIk1hcCIpO3ZhciBvPXRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKTt0aGlzLl9yZXNpemVDYW52YXMob1swXSxvWzFdKTt2YXIgcj10aGlzLl9jb250cm9sQ29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jb250cm9sLWNvbnRhaW5lciIsdCksYT10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1sidG9wLWxlZnQiLCJ0b3AtcmlnaHQiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2FbdF09aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwtIit0LHIpO30pKTt9LHIucHJvdG90eXBlLl9yZXNpemVDYW52YXM9ZnVuY3Rpb24oZSxpKXt2YXIgbz10LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpb3x8MTt0aGlzLl9jYW52YXMud2lkdGg9byplLHRoaXMuX2NhbnZhcy5oZWlnaHQ9byppLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD1lKyJweCIsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1pKyJweCI7fSxyLnByb3RvdHlwZS5fc2V0dXBQYWludGVyPWZ1bmN0aW9uKCl7dmFyIGk9dC5leHRlbmQoe30sZS53ZWJHTENvbnRleHRBdHRyaWJ1dGVzLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcixhbnRpYWxpYXM6dGhpcy5fYW50aWFsaWFzfHwhMX0pLG89dGhpcy5fY2FudmFzLmdldENvbnRleHQoIndlYmdsIixpKXx8dGhpcy5fY2FudmFzLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsaSk7bz8odGhpcy5wYWludGVyPW5ldyB2byhvLHRoaXMudHJhbnNmb3JtKSx0LndlYnBTdXBwb3J0ZWQudGVzdFN1cHBvcnQobykpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wiKSkpO30sci5wcm90b3R5cGUuX2NvbnRleHRMb3N0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lLmNhbmNlbCgpLHRoaXMuX2ZyYW1lPW51bGwpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgid2ViZ2xjb250ZXh0bG9zdCIse29yaWdpbmFsRXZlbnQ6ZX0pKTt9LHIucHJvdG90eXBlLl9jb250ZXh0UmVzdG9yZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fc2V0dXBQYWludGVyKCksdGhpcy5yZXNpemUoKSx0aGlzLl91cGRhdGUoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIndlYmdsY29udGV4dHJlc3RvcmVkIix7b3JpZ2luYWxFdmVudDplfSkpO30sci5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLl9zdHlsZURpcnR5JiYhdGhpcy5fc291cmNlc0RpcnR5JiYhIXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUubG9hZGVkKCl9LHIucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGU/KHRoaXMuX3N0eWxlRGlydHk9dGhpcy5fc3R5bGVEaXJ0eXx8dCx0aGlzLl9zb3VyY2VzRGlydHk9ITAsdGhpcy50cmlnZ2VyUmVwYWludCgpLHRoaXMpOnRoaXN9LHIucHJvdG90eXBlLl9yZXF1ZXN0UmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQodCl9LHIucHJvdG90eXBlLl9jYW5jZWxSZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJUYXNrUXVldWUucmVtb3ZlKHQpO30sci5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbihlKXt2YXIgaSxvPXRoaXMscj0wLGE9dGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeTtpZih0aGlzLmxpc3RlbnMoImdwdS10aW1pbmctZnJhbWUiKSYmKGk9YS5jcmVhdGVRdWVyeUVYVCgpLGEuYmVnaW5RdWVyeUVYVChhLlRJTUVfRUxBUFNFRF9FWFQsaSkscj10LmJyb3dzZXIubm93KCkpLHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCksdGhpcy5wYWludGVyLnNldEJhc2VTdGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4oZSksIXRoaXMuX3JlbW92ZWQpe3ZhciBuPSExO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3N0eWxlRGlydHkpe3RoaXMuX3N0eWxlRGlydHk9ITE7dmFyIHM9dGhpcy50cmFuc2Zvcm0uem9vbSxsPXQuYnJvd3Nlci5ub3coKTt0aGlzLnN0eWxlLnpvb21IaXN0b3J5LnVwZGF0ZShzLGwpO3ZhciBjPW5ldyB0LkV2YWx1YXRpb25QYXJhbWV0ZXJzKHMse25vdzpsLGZhZGVEdXJhdGlvbjp0aGlzLl9mYWRlRHVyYXRpb24sem9vbUhpc3Rvcnk6dGhpcy5zdHlsZS56b29tSGlzdG9yeSx0cmFuc2l0aW9uOnRoaXMuc3R5bGUuZ2V0VHJhbnNpdGlvbigpfSksdT1jLmNyb3NzRmFkaW5nRmFjdG9yKCk7MT09PXUmJnU9PT10aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcnx8KG49ITAsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9dSksdGhpcy5zdHlsZS51cGRhdGUoYyk7fWlmKHRoaXMuc3R5bGUmJnRoaXMuX3NvdXJjZXNEaXJ0eSYmKHRoaXMuX3NvdXJjZXNEaXJ0eT0hMSx0aGlzLnN0eWxlLl91cGRhdGVTb3VyY2VzKHRoaXMudHJhbnNmb3JtKSksdGhpcy5fcGxhY2VtZW50RGlydHk9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsdGhpcy5fZmFkZUR1cmF0aW9uLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucyksdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLHtzaG93VGlsZUJvdW5kYXJpZXM6dGhpcy5zaG93VGlsZUJvdW5kYXJpZXMsc2hvd092ZXJkcmF3SW5zcGVjdG9yOnRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcixyb3RhdGluZzp0aGlzLmlzUm90YXRpbmcoKSx6b29taW5nOnRoaXMuaXNab29taW5nKCksbW92aW5nOnRoaXMuaXNNb3ZpbmcoKSxmYWRlRHVyYXRpb246dGhpcy5fZmFkZUR1cmF0aW9uLHNob3dQYWRkaW5nOnRoaXMuc2hvd1BhZGRpbmcsZ3B1VGltaW5nOiEhdGhpcy5saXN0ZW5zKCJncHUtdGltaW5nLWxheWVyIil9KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJlbmRlciIpKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgibG9hZCIpKSksdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKXx8bikmJih0aGlzLl9zdHlsZURpcnR5PSEwKSx0aGlzLnN0eWxlJiYhdGhpcy5fcGxhY2VtZW50RGlydHkmJnRoaXMuc3R5bGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKSx0aGlzLmxpc3RlbnMoImdwdS10aW1pbmctZnJhbWUiKSl7dmFyIGg9dC5icm93c2VyLm5vdygpLXI7YS5lbmRRdWVyeUVYVChhLlRJTUVfRUxBUFNFRF9FWFQsaSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT1hLmdldFF1ZXJ5T2JqZWN0RVhUKGksYS5RVUVSWV9SRVNVTFRfRVhUKS8xZTY7YS5kZWxldGVRdWVyeUVYVChpKSxvLmZpcmUobmV3IHQuRXZlbnQoImdwdS10aW1pbmctZnJhbWUiLHtjcHVUaW1lOmgsZ3B1VGltZTplfSkpO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKCJncHUtdGltaW5nLWxheWVyIikpe3ZhciBwPXRoaXMucGFpbnRlci5jb2xsZWN0R3B1VGltZXJzKCk7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT1vLnBhaW50ZXIucXVlcnlHcHVUaW1lcnMocCk7by5maXJlKG5ldyB0LkV2ZW50KCJncHUtdGltaW5nLWxheWVyIix7bGF5ZXJUaW1lczplfSkpO30pLDUwKTt9cmV0dXJuIHRoaXMuX3NvdXJjZXNEaXJ0eXx8dGhpcy5fc3R5bGVEaXJ0eXx8dGhpcy5fcGxhY2VtZW50RGlydHl8fHRoaXMuX3JlcGFpbnQ/dGhpcy50cmlnZ2VyUmVwYWludCgpOiF0aGlzLmlzTW92aW5nKCkmJnRoaXMubG9hZGVkKCkmJih0aGlzLl9mdWxseUxvYWRlZHx8KHRoaXMuX2Z1bGx5TG9hZGVkPSEwKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImlkbGUiKSkpLHRoaXN9fSxyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpO2Zvcih2YXIgZT0wLGk9dGhpcy5fY29udHJvbHM7ZTxpLmxlbmd0aDtlKz0xKWlbZV0ub25SZW1vdmUodGhpcyk7dGhpcy5fY29udHJvbHM9W10sdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLnBhaW50ZXIuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnMuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmhhbmRsZXJzLHRoaXMuc2V0U3R5bGUobnVsbCksdm9pZCAwIT09dC53aW5kb3cmJih0LndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJvbmxpbmUiLHRoaXMuX29uV2luZG93T25saW5lLCExKSk7dmFyIG89dGhpcy5wYWludGVyLmNvbnRleHQuZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9sb3NlX2NvbnRleHQiKTtvJiZvLmxvc2VDb250ZXh0KCksUHIodGhpcy5fY2FudmFzQ29udGFpbmVyKSxQcih0aGlzLl9jb250cm9sQ29udGFpbmVyKSxQcih0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5KSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtbWFwIiksdGhpcy5fcmVtb3ZlZD0hMCx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJlbW92ZSIpKTt9LHIucHJvdG90eXBlLnRyaWdnZXJSZXBhaW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnN0eWxlJiYhdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZT10LmJyb3dzZXIuZnJhbWUoKGZ1bmN0aW9uKHQpe2UuX2ZyYW1lPW51bGwsZS5fcmVuZGVyKHQpO30pKSk7fSxyLnByb3RvdHlwZS5fb25XaW5kb3dPbmxpbmU9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGUoKTt9LHIucHJvdG90eXBlLl9vbldpbmRvd1Jlc2l6ZT1mdW5jdGlvbih0KXt0aGlzLl90cmFja1Jlc2l6ZSYmdGhpcy5yZXNpemUoe29yaWdpbmFsRXZlbnQ6dH0pLl91cGRhdGUoKTt9LGEuc2hvd1RpbGVCb3VuZGFyaWVzLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dUaWxlQm91bmRhcmllc30sYS5zaG93VGlsZUJvdW5kYXJpZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dUaWxlQm91bmRhcmllcyE9PXQmJih0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM9dCx0aGlzLl91cGRhdGUoKSk7fSxhLnNob3dQYWRkaW5nLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nfSxhLnNob3dQYWRkaW5nLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93UGFkZGluZyE9PXQmJih0aGlzLl9zaG93UGFkZGluZz10LHRoaXMuX3VwZGF0ZSgpKTt9LGEuc2hvd0NvbGxpc2lvbkJveGVzLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc30sYS5zaG93Q29sbGlzaW9uQm94ZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PXQmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9dCx0P3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSk7fSxhLnNob3dPdmVyZHJhd0luc3BlY3Rvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J9LGEuc2hvd092ZXJkcmF3SW5zcGVjdG9yLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IhPT10JiYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPXQsdGhpcy5fdXBkYXRlKCkpO30sYS5yZXBhaW50LmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3JlcGFpbnR9LGEucmVwYWludC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fcmVwYWludCE9PXQmJih0aGlzLl9yZXBhaW50PXQsdGhpcy50cmlnZ2VyUmVwYWludCgpKTt9LGEudmVydGljZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fdmVydGljZXN9LGEudmVydGljZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3ZlcnRpY2VzPXQsdGhpcy5fdXBkYXRlKCk7fSxyLnByb3RvdHlwZS5fc2V0Q2FjaGVMaW1pdHM9ZnVuY3Rpb24oZSxpKXt0LnNldENhY2hlTGltaXRzKGUsaSk7fSxhLnZlcnNpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHQudmVyc2lvbn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoci5wcm90b3R5cGUsYSkscn0obXIpO2Z1bmN0aW9uIFByKHQpe3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO312YXIgU3I9e3Nob3dDb21wYXNzOiEwLHNob3dab29tOiEwLHZpc3VhbGl6ZVBpdGNoOiExfSxDcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzO3RoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxTcixlKSx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cCIpLHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSksdGhpcy5vcHRpb25zLnNob3dab29tJiYodC5iaW5kQWxsKFsiX3NldEJ1dHRvblRpdGxlIiwiX3VwZGF0ZVpvb21CdXR0b25zIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbigibWFwYm94Z2wtY3RybC16b29tLWluIiwoZnVuY3Rpb24odCl7cmV0dXJuIG8uX21hcC56b29tSW4oe30se29yaWdpbmFsRXZlbnQ6dH0pfSkpLGkuY3JlYXRlKCJzcGFuIiwibWFwYm94Z2wtY3RybC1pY29uIix0aGlzLl96b29tSW5CdXR0b24pLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKSx0aGlzLl96b29tT3V0QnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbigibWFwYm94Z2wtY3RybC16b29tLW91dCIsKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9tYXAuem9vbU91dCh7fSx7b3JpZ2luYWxFdmVudDp0fSl9KSksaS5jcmVhdGUoInNwYW4iLCJtYXBib3hnbC1jdHJsLWljb24iLHRoaXMuX3pvb21PdXRCdXR0b24pLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodC5iaW5kQWxsKFsiX3JvdGF0ZUNvbXBhc3NBcnJvdyJdLHRoaXMpLHRoaXMuX2NvbXBhc3M9dGhpcy5fY3JlYXRlQnV0dG9uKCJtYXBib3hnbC1jdHJsLWNvbXBhc3MiLChmdW5jdGlvbih0KXtvLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/by5fbWFwLnJlc2V0Tm9ydGhQaXRjaCh7fSx7b3JpZ2luYWxFdmVudDp0fSk6by5fbWFwLnJlc2V0Tm9ydGgoe30se29yaWdpbmFsRXZlbnQ6dH0pO30pKSx0aGlzLl9jb21wYXNzSWNvbj1pLmNyZWF0ZSgic3BhbiIsIm1hcGJveGdsLWN0cmwtaWNvbiIsdGhpcy5fY29tcGFzcyksdGhpcy5fY29tcGFzc0ljb24uc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsITApKTt9O0NyLnByb3RvdHlwZS5fdXBkYXRlWm9vbUJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0Wm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD10PT09dGhpcy5fbWFwLmdldE1heFpvb20oKSx0aGlzLl96b29tT3V0QnV0dG9uLmRpc2FibGVkPXQ9PT10aGlzLl9tYXAuZ2V0TWluWm9vbSgpO30sQ3IucHJvdG90eXBlLl9yb3RhdGVDb21wYXNzQXJyb3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/InNjYWxlKCIrMS9NYXRoLnBvdyhNYXRoLmNvcyh0aGlzLl9tYXAudHJhbnNmb3JtLnBpdGNoKihNYXRoLlBJLzE4MCkpLC41KSsiKSByb3RhdGVYKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCsiZGVnKSByb3RhdGVaKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpKyJkZWcpIjoicm90YXRlKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpKyJkZWcpIjt0aGlzLl9jb21wYXNzSWNvbi5zdHlsZS50cmFuc2Zvcm09dDt9LENyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5vcHRpb25zLnNob3dab29tJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbUluQnV0dG9uLCJab29tSW4iKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLCJab29tT3V0IiksdGhpcy5fbWFwLm9uKCJ6b29tIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcywiUmVzZXRCZWFyaW5nIiksdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZ0aGlzLl9tYXAub24oInBpdGNoIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX21hcC5vbigicm90YXRlIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpLHRoaXMuX2hhbmRsZXI9bmV3IHpyKHRoaXMuX21hcCx0aGlzLl9jb21wYXNzLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkpLHRoaXMuX2NvbnRhaW5lcn0sQ3IucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJnRoaXMuX21hcC5vZmYoInpvb20iLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJnRoaXMuX21hcC5vZmYoInBpdGNoIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX21hcC5vZmYoInJvdGF0ZSIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9oYW5kbGVyLm9mZigpLGRlbGV0ZSB0aGlzLl9oYW5kbGVyKSxkZWxldGUgdGhpcy5fbWFwO30sQ3IucHJvdG90eXBlLl9jcmVhdGVCdXR0b249ZnVuY3Rpb24odCxlKXt2YXIgbz1pLmNyZWF0ZSgiYnV0dG9uIix0LHRoaXMuX2NvbnRhaW5lcik7cmV0dXJuIG8udHlwZT0iYnV0dG9uIixvLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixlKSxvfSxDci5wcm90b3R5cGUuX3NldEJ1dHRvblRpdGxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZygiTmF2aWdhdGlvbkNvbnRyb2wuIitlKTt0LnRpdGxlPWksdC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGkpO307dmFyIHpyPWZ1bmN0aW9uKGUsbyxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fY2xpY2tUb2xlcmFuY2U9MTAsdGhpcy5lbGVtZW50PW8sdGhpcy5tb3VzZVJvdGF0ZT1uZXcgR28oe2NsaWNrVG9sZXJhbmNlOmUuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSksdGhpcy5tYXA9ZSxyJiYodGhpcy5tb3VzZVBpdGNoPW5ldyBXbyh7Y2xpY2tUb2xlcmFuY2U6ZS5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pKSx0LmJpbmRBbGwoWyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwicmVzZXQiXSx0aGlzKSxpLmFkZEV2ZW50TGlzdGVuZXIobywibW91c2Vkb3duIix0aGlzLm1vdXNlZG93biksaS5hZGRFdmVudExpc3RlbmVyKG8sInRvdWNoc3RhcnQiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJ0b3VjaG1vdmUiLHRoaXMudG91Y2htb3ZlKSxpLmFkZEV2ZW50TGlzdGVuZXIobywidG91Y2hlbmQiLHRoaXMudG91Y2hlbmQpLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJ0b3VjaGNhbmNlbCIsdGhpcy5yZXNldCk7fTtmdW5jdGlvbiBEcihlLGksbyl7aWYoZT1uZXcgdC5MbmdMYXQoZS5sbmcsZS5sYXQpLGkpe3ZhciByPW5ldyB0LkxuZ0xhdChlLmxuZy0zNjAsZS5sYXQpLGE9bmV3IHQuTG5nTGF0KGUubG5nKzM2MCxlLmxhdCksbj1vLmxvY2F0aW9uUG9pbnQoZSkuZGlzdFNxcihpKTtvLmxvY2F0aW9uUG9pbnQocikuZGlzdFNxcihpKTxuP2U9cjpvLmxvY2F0aW9uUG9pbnQoYSkuZGlzdFNxcihpKTxuJiYoZT1hKTt9Zm9yKDtNYXRoLmFicyhlLmxuZy1vLmNlbnRlci5sbmcpPjE4MDspe3ZhciBzPW8ubG9jYXRpb25Qb2ludChlKTtpZihzLng+PTAmJnMueT49MCYmcy54PD1vLndpZHRoJiZzLnk8PW8uaGVpZ2h0KWJyZWFrO2UubG5nPm8uY2VudGVyLmxuZz9lLmxuZy09MzYwOmUubG5nKz0zNjA7fXJldHVybiBlfXpyLnByb3RvdHlwZS5kb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZWRvd24odCxlKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZWRvd24odCxlKSxpLmRpc2FibGVEcmFnKCk7fSx6ci5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubWFwLG89dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3codCxlKTtpZihvJiZvLmJlYXJpbmdEZWx0YSYmaS5zZXRCZWFyaW5nKGkuZ2V0QmVhcmluZygpK28uYmVhcmluZ0RlbHRhKSx0aGlzLm1vdXNlUGl0Y2gpe3ZhciByPXRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3codCxlKTtyJiZyLnBpdGNoRGVsdGEmJmkuc2V0UGl0Y2goaS5nZXRQaXRjaCgpK3IucGl0Y2hEZWx0YSk7fX0senIucHJvdG90eXBlLm9mZj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudDtpLnJlbW92ZUV2ZW50TGlzdGVuZXIodCwibW91c2Vkb3duIix0aGlzLm1vdXNlZG93biksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQsInRvdWNoc3RhcnQiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCJ0b3VjaG1vdmUiLHRoaXMudG91Y2htb3ZlKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodCwidG91Y2hlbmQiLHRoaXMudG91Y2hlbmQpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCJ0b3VjaGNhbmNlbCIsdGhpcy5yZXNldCksdGhpcy5vZmZUZW1wKCk7fSx6ci5wcm90b3R5cGUub2ZmVGVtcD1mdW5jdGlvbigpe2kuZW5hYmxlRHJhZygpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdywibW91c2Vtb3ZlIix0aGlzLm1vdXNlbW92ZSksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQud2luZG93LCJtb3VzZXVwIix0aGlzLm1vdXNldXApO30senIucHJvdG90eXBlLm1vdXNlZG93bj1mdW5jdGlvbihlKXt0aGlzLmRvd24odC5leHRlbmQoe30sZSx7Y3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCl9fSksaS5tb3VzZVBvcyh0aGlzLmVsZW1lbnQsZSkpLGkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdywibW91c2Vtb3ZlIix0aGlzLm1vdXNlbW92ZSksaS5hZGRFdmVudExpc3RlbmVyKHQud2luZG93LCJtb3VzZXVwIix0aGlzLm1vdXNldXApO30senIucHJvdG90eXBlLm1vdXNlbW92ZT1mdW5jdGlvbih0KXt0aGlzLm1vdmUodCxpLm1vdXNlUG9zKHRoaXMuZWxlbWVudCx0KSk7fSx6ci5wcm90b3R5cGUubW91c2V1cD1mdW5jdGlvbih0KXt0aGlzLm1vdXNlUm90YXRlLm1vdXNldXBXaW5kb3codCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2V1cFdpbmRvdyh0KSx0aGlzLm9mZlRlbXAoKTt9LHpyLnByb3RvdHlwZS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQpezEhPT10LnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz1pLnRvdWNoUG9zKHRoaXMuZWxlbWVudCx0LnRhcmdldFRvdWNoZXMpWzBdLHRoaXMuZG93bih7dHlwZToibW91c2Vkb3duIixidXR0b246MCxjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKX19LHRoaXMuX3N0YXJ0UG9zKSk7fSx6ci5wcm90b3R5cGUudG91Y2htb3ZlPWZ1bmN0aW9uKHQpezEhPT10LnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fbGFzdFBvcz1pLnRvdWNoUG9zKHRoaXMuZWxlbWVudCx0LnRhcmdldFRvdWNoZXMpWzBdLHRoaXMubW92ZSh7cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcy5fbGFzdFBvcykpO30senIucHJvdG90eXBlLnRvdWNoZW5kPWZ1bmN0aW9uKHQpezA9PT10LnRhcmdldFRvdWNoZXMubGVuZ3RoJiZ0aGlzLl9zdGFydFBvcyYmdGhpcy5fbGFzdFBvcyYmdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSYmdGhpcy5lbGVtZW50LmNsaWNrKCksdGhpcy5yZXNldCgpO30senIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5tb3VzZVJvdGF0ZS5yZXNldCgpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zLHRoaXMub2ZmVGVtcCgpO307dmFyIE1yPXtjZW50ZXI6InRyYW5zbGF0ZSgtNTAlLC01MCUpIix0b3A6InRyYW5zbGF0ZSgtNTAlLDApIiwidG9wLWxlZnQiOiJ0cmFuc2xhdGUoMCwwKSIsInRvcC1yaWdodCI6InRyYW5zbGF0ZSgtMTAwJSwwKSIsYm90dG9tOiJ0cmFuc2xhdGUoLTUwJSwtMTAwJSkiLCJib3R0b20tbGVmdCI6InRyYW5zbGF0ZSgwLC0xMDAlKSIsImJvdHRvbS1yaWdodCI6InRyYW5zbGF0ZSgtMTAwJSwtMTAwJSkiLGxlZnQ6InRyYW5zbGF0ZSgwLC01MCUpIixyaWdodDoidHJhbnNsYXRlKC0xMDAlLC01MCUpIn07ZnVuY3Rpb24gQXIodCxlLGkpe3ZhciBvPXQuY2xhc3NMaXN0O2Zvcih2YXIgciBpbiBNcilvLnJlbW92ZSgibWFwYm94Z2wtIitpKyItYW5jaG9yLSIrcik7by5hZGQoIm1hcGJveGdsLSIraSsiLWFuY2hvci0iK2UpO312YXIgTHIsUnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIpe3ZhciBhPXRoaXM7aWYoZS5jYWxsKHRoaXMpLChvIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTEVsZW1lbnR8fHIpJiYobz10LmV4dGVuZCh7ZWxlbWVudDpvfSxyKSksdC5iaW5kQWxsKFsiX3VwZGF0ZSIsIl9vbk1vdmUiLCJfb25VcCIsIl9hZGREcmFnSGFuZGxlciIsIl9vbk1hcENsaWNrIiwiX29uS2V5UHJlc3MiXSx0aGlzKSx0aGlzLl9hbmNob3I9byYmby5hbmNob3J8fCJjZW50ZXIiLHRoaXMuX2NvbG9yPW8mJm8uY29sb3J8fCIjM0ZCMUNFIix0aGlzLl9kcmFnZ2FibGU9byYmby5kcmFnZ2FibGV8fCExLHRoaXMuX3N0YXRlPSJpbmFjdGl2ZSIsdGhpcy5fcm90YXRpb249byYmby5yb3RhdGlvbnx8MCx0aGlzLl9yb3RhdGlvbkFsaWdubWVudD1vJiZvLnJvdGF0aW9uQWxpZ25tZW50fHwiYXV0byIsdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9byYmby5waXRjaEFsaWdubWVudCYmImF1dG8iIT09by5waXRjaEFsaWdubWVudD9vLnBpdGNoQWxpZ25tZW50OnRoaXMuX3JvdGF0aW9uQWxpZ25tZW50LG8mJm8uZWxlbWVudCl0aGlzLl9lbGVtZW50PW8uZWxlbWVudCx0aGlzLl9vZmZzZXQ9dC5Qb2ludC5jb252ZXJ0KG8mJm8ub2Zmc2V0fHxbMCwwXSk7ZWxzZSB7dGhpcy5fZGVmYXVsdE1hcmtlcj0hMCx0aGlzLl9lbGVtZW50PWkuY3JlYXRlKCJkaXYiKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIk1hcCBtYXJrZXIiKTt2YXIgbj1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpO24uc2V0QXR0cmlidXRlTlMobnVsbCwiZGlzcGxheSIsImJsb2NrIiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLCI0MXB4Iiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsIjI3cHgiKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giLCIwIDAgMjcgNDEiKTt2YXIgcz1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKTtzLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsIm5vbmUiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS13aWR0aCIsIjEiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLCJub25lIikscy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsLXJ1bGUiLCJldmVub2RkIik7dmFyIGw9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7bC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsLXJ1bGUiLCJub256ZXJvIik7dmFyIGM9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7Yy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoMy4wLCAyOS4wKSIpLGMuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiMwMDAwMDAiKTtmb3IodmFyIHU9MCxoPVt7cng6IjEwLjUiLHJ5OiI1LjI1MDAyMjczIn0se3J4OiIxMC41IixyeToiNS4yNTAwMjI3MyJ9LHtyeDoiOS41IixyeToiNC43NzI3NTAwNyJ9LHtyeDoiOC41IixyeToiNC4yOTU0OTkzNiJ9LHtyeDoiNy41IixyeToiMy44MTgyMjMwOCJ9LHtyeDoiNi41IixyeToiMy4zNDA5NDY3OSJ9LHtyeDoiNS41IixyeToiMi44NjM2NzA1MSJ9LHtyeDoiNC41IixyeToiMi4zODYzNjg2NCJ9XTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV0sZD1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImVsbGlwc2UiKTtkLnNldEF0dHJpYnV0ZU5TKG51bGwsIm9wYWNpdHkiLCIwLjA0IiksZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsIjEwLjUiKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsImN5IiwiNS44MDAyOTAwOCIpLGQuc2V0QXR0cmlidXRlTlMobnVsbCwicngiLHAucngpLGQuc2V0QXR0cmlidXRlTlMobnVsbCwicnkiLHAucnkpLGMuYXBwZW5kQ2hpbGQoZCk7fXZhciBfPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO18uc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsdGhpcy5fY29sb3IpO3ZhciBmPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwicGF0aCIpO2Yuc2V0QXR0cmlidXRlTlMobnVsbCwiZCIsIk0yNywxMy41IEMyNywxOS4wNzQ2NDQgMjAuMjUwMDAxLDI3LjAwMDAwMiAxNC43NSwzNC41MDAwMDIgQzE0LjAxNjY2NSwzNS41MDAwMDQgMTIuOTgzMzM1LDM1LjUwMDAwNCAxMi4yNSwzNC41MDAwMDIgQzYuNzQ5OTk5MywyNy4wMDAwMDIgMCwxOS4yMjI1NjIgMCwxMy41IEMwLDYuMDQ0MTU1OSA2LjA0NDE1NTksMCAxMy41LDAgQzIwLjk1NTg0NCwwIDI3LDYuMDQ0MTU1OSAyNywxMy41IFoiKSxfLmFwcGVuZENoaWxkKGYpO3ZhciBtPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO20uc2V0QXR0cmlidXRlTlMobnVsbCwib3BhY2l0eSIsIjAuMjUiKSxtLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLCIjMDAwMDAwIik7dmFyIGc9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIik7Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJkIiwiTTEzLjUsMCBDNi4wNDQxNTU5LDAgMCw2LjA0NDE1NTkgMCwxMy41IEMwLDE5LjIyMjU2MiA2Ljc0OTk5OTMsMjcgMTIuMjUsMzQuNSBDMTMsMzUuNTIyNzI3IDE0LjAxNjY2NCwzNS41MDAwMDQgMTQuNzUsMzQuNSBDMjAuMjUwMDAxLDI3IDI3LDE5LjA3NDY0NCAyNywxMy41IEMyNyw2LjA0NDE1NTkgMjAuOTU1ODQ0LDAgMTMuNSwwIFogTTEzLjUsMSBDMjAuNDE1NDA0LDEgMjYsNi41ODQ1OTYgMjYsMTMuNSBDMjYsMTUuODk4NjU3IDI0LjQ5NTU4NCwxOS4xODE0MzEgMjIuMjIwNzAzLDIyLjczODI4MSBDMTkuOTQ1ODIzLDI2LjI5NTEzMiAxNi43MDUxMTksMzAuMTQyMTY3IDEzLjk0MzM1OSwzMy45MDgyMDMgQzEzLjc0MzQ0NSwzNC4xODA4MTQgMTMuNjEyNzE1LDM0LjMyMjczOCAxMy41LDM0LjQ0MTQwNiBDMTMuMzg3Mjg1LDM0LjMyMjczOCAxMy4yNTY1NTUsMzQuMTgwODE0IDEzLjA1NjY0MSwzMy45MDgyMDMgQzEwLjI4NDQ4MSwzMC4xMjc5ODUgNy40MTQ4Njg0LDI2LjMxNDE1OSA1LjAxNTYyNSwyMi43NzM0MzggQzIuNjE2MzgxNiwxOS4yMzI3MTUgMSwxNS45NTM1MzggMSwxMy41IEMxLDYuNTg0NTk2IDYuNTg0NTk2LDEgMTMuNSwxIFoiKSxtLmFwcGVuZENoaWxkKGcpO3ZhciB2PWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO3Yuc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIiwidHJhbnNsYXRlKDYuMCwgNy4wKSIpLHYuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiNGRkZGRkYiKTt2YXIgeT1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKTt5LnNldEF0dHJpYnV0ZU5TKG51bGwsInRyYW5zZm9ybSIsInRyYW5zbGF0ZSg4LjAsIDguMCkiKTt2YXIgeD1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImNpcmNsZSIpO3guc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiMwMDAwMDAiKSx4LnNldEF0dHJpYnV0ZU5TKG51bGwsIm9wYWNpdHkiLCIwLjI1IikseC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsIjUuNSIpLHguc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLCI1LjUiKSx4LnNldEF0dHJpYnV0ZU5TKG51bGwsInIiLCI1LjQ5OTk5NjIiKTt2YXIgYj1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImNpcmNsZSIpO2Iuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiNGRkZGRkYiKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsImN4IiwiNS41IiksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsIjUuNSIpLGIuc2V0QXR0cmlidXRlTlMobnVsbCwiciIsIjUuNDk5OTk2MiIpLHkuYXBwZW5kQ2hpbGQoeCkseS5hcHBlbmRDaGlsZChiKSxsLmFwcGVuZENoaWxkKGMpLGwuYXBwZW5kQ2hpbGQoXyksbC5hcHBlbmRDaGlsZChtKSxsLmFwcGVuZENoaWxkKHYpLGwuYXBwZW5kQ2hpbGQoeSksbi5hcHBlbmRDaGlsZChsKSx0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKG4pLHRoaXMuX29mZnNldD10LlBvaW50LmNvbnZlcnQobyYmby5vZmZzZXR8fFswLC0xNF0pO310aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLW1hcmtlciIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ3N0YXJ0IiwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO30pKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsKGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt9KSksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsKGZ1bmN0aW9uKCl7dmFyIHQ9YS5fbWFwLmdldENvbnRhaW5lcigpO3Quc2Nyb2xsVG9wPTAsdC5zY3JvbGxMZWZ0PTA7fSkpLEFyKHRoaXMuX2VsZW1lbnQsdGhpcy5fYW5jaG9yLCJtYXJrZXIiKSx0aGlzLl9wb3B1cD1udWxsO31yZXR1cm4gZSYmKG8uX19wcm90b19fPWUpLChvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9dCx0LmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpLHQub24oIm1vdmUiLHRoaXMuX3VwZGF0ZSksdC5vbigibW92ZWVuZCIsdGhpcy5fdXBkYXRlKSx0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX21hcC5vbigiY2xpY2siLHRoaXMuX29uTWFwQ2xpY2spLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJjbGljayIsdGhpcy5fb25NYXBDbGljayksdGhpcy5fbWFwLm9mZigibW92ZSIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXAub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoIm1vdXNlZG93biIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHRoaXMuX21hcC5vZmYoInRvdWNoc3RhcnQiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0aGlzLl9tYXAub2ZmKCJtb3VzZXVwIix0aGlzLl9vblVwKSx0aGlzLl9tYXAub2ZmKCJ0b3VjaGVuZCIsdGhpcy5fb25VcCksdGhpcy5fbWFwLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdmUpLHRoaXMuX21hcC5vZmYoInRvdWNobW92ZSIsdGhpcy5fb25Nb3ZlKSxkZWxldGUgdGhpcy5fbWFwKSxpLnJlbW92ZSh0aGlzLl9lbGVtZW50KSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0TG5nTGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xuZ0xhdH0sby5wcm90b3R5cGUuc2V0TG5nTGF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9sbmdMYXQ9dC5MbmdMYXQuY29udmVydChlKSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50fSxvLnByb3RvdHlwZS5zZXRQb3B1cD1mdW5jdGlvbih0KXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlwcmVzcyIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoInRhYmluZGV4IikpLHQpe2lmKCEoIm9mZnNldCJpbiB0Lm9wdGlvbnMpKXt2YXIgZT1NYXRoLnNxcnQoTWF0aC5wb3coMTMuNSwyKS8yKTt0Lm9wdGlvbnMub2Zmc2V0PXRoaXMuX2RlZmF1bHRNYXJrZXI/e3RvcDpbMCwwXSwidG9wLWxlZnQiOlswLDBdLCJ0b3AtcmlnaHQiOlswLDBdLGJvdHRvbTpbMCwtMzguMV0sImJvdHRvbS1sZWZ0IjpbZSwtMSooMjQuNitlKV0sImJvdHRvbS1yaWdodCI6Wy1lLC0xKigyNC42K2UpXSxsZWZ0OlsxMy41LC0yNC42XSxyaWdodDpbLTEzLjUsLTI0LjZdfTp0aGlzLl9vZmZzZXQ7fXRoaXMuX3BvcHVwPXQsdGhpcy5fbG5nTGF0JiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4PXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXByZXNzIix0aGlzLl9vbktleVByZXNzKTt9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLl9vbktleVByZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29kZSxpPXQuY2hhckNvZGV8fHQua2V5Q29kZTsiU3BhY2UiIT09ZSYmIkVudGVyIiE9PWUmJjMyIT09aSYmMTMhPT1pfHx0aGlzLnRvZ2dsZVBvcHVwKCk7fSxvLnByb3RvdHlwZS5fb25NYXBDbGljaz1mdW5jdGlvbih0KXt2YXIgZT10Lm9yaWdpbmFsRXZlbnQudGFyZ2V0LGk9dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKGU9PT1pfHxpLmNvbnRhaW5zKGUpKSYmdGhpcy50b2dnbGVQb3B1cCgpO30sby5wcm90b3R5cGUuZ2V0UG9wdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXB9LG8ucHJvdG90eXBlLnRvZ2dsZVBvcHVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcG9wdXA7cmV0dXJuIHQ/KHQuaXNPcGVuKCk/dC5yZW1vdmUoKTp0LmFkZFRvKHRoaXMuX21hcCksdGhpcyk6dGhpc30sby5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLl9tYXApe3RoaXMuX21hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJih0aGlzLl9sbmdMYXQ9RHIodGhpcy5fbG5nTGF0LHRoaXMuX3Bvcyx0aGlzLl9tYXAudHJhbnNmb3JtKSksdGhpcy5fcG9zPXRoaXMuX21hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCkuX2FkZCh0aGlzLl9vZmZzZXQpO3ZhciBlPSIiOyJ2aWV3cG9ydCI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudHx8ImF1dG8iPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnQ/ZT0icm90YXRlWigiK3RoaXMuX3JvdGF0aW9uKyJkZWcpIjoibWFwIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50JiYoZT0icm90YXRlWigiKyh0aGlzLl9yb3RhdGlvbi10aGlzLl9tYXAuZ2V0QmVhcmluZygpKSsiZGVnKSIpO3ZhciBvPSIiOyJ2aWV3cG9ydCI9PT10aGlzLl9waXRjaEFsaWdubWVudHx8ImF1dG8iPT09dGhpcy5fcGl0Y2hBbGlnbm1lbnQ/bz0icm90YXRlWCgwZGVnKSI6Im1hcCI9PT10aGlzLl9waXRjaEFsaWdubWVudCYmKG89InJvdGF0ZVgoIit0aGlzLl9tYXAuZ2V0UGl0Y2goKSsiZGVnKSIpLHQmJiJtb3ZlZW5kIiE9PXQudHlwZXx8KHRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSksaS5zZXRUcmFuc2Zvcm0odGhpcy5fZWxlbWVudCxNclt0aGlzLl9hbmNob3JdKyIgdHJhbnNsYXRlKCIrdGhpcy5fcG9zLngrInB4LCAiK3RoaXMuX3Bvcy55KyJweCkgIitvKyIgIitlKTt9fSxvLnByb3RvdHlwZS5nZXRPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fSxvLnByb3RvdHlwZS5zZXRPZmZzZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29mZnNldD10LlBvaW50LmNvbnZlcnQoZSksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuX29uTW92ZT1mdW5jdGlvbihlKXt0aGlzLl9wb3M9ZS5wb2ludC5zdWIodGhpcy5fcG9zaXRpb25EZWx0YSksdGhpcy5fbG5nTGF0PXRoaXMuX21hcC51bnByb2plY3QodGhpcy5fcG9zKSx0aGlzLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz0ibm9uZSIsInBlbmRpbmciPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT0iYWN0aXZlIix0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRyYWdzdGFydCIpKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkcmFnIikpO30sby5wcm90b3R5cGUuX29uVXA9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLHRoaXMuX3Bvc2l0aW9uRGVsdGE9bnVsbCx0aGlzLl9tYXAub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwLm9mZigidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUpLCJhY3RpdmUiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgiZHJhZ2VuZCIpKSx0aGlzLl9zdGF0ZT0iaW5hY3RpdmUiO30sby5wcm90b3R5cGUuX2FkZERyYWdIYW5kbGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2VsZW1lbnQuY29udGFpbnModC5vcmlnaW5hbEV2ZW50LnRhcmdldCkmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fcG9zaXRpb25EZWx0YT10LnBvaW50LnN1Yih0aGlzLl9wb3MpLmFkZCh0aGlzLl9vZmZzZXQpLHRoaXMuX3N0YXRlPSJwZW5kaW5nIix0aGlzLl9tYXAub24oIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3ZlKSx0aGlzLl9tYXAub24oInRvdWNobW92ZSIsdGhpcy5fb25Nb3ZlKSx0aGlzLl9tYXAub25jZSgibW91c2V1cCIsdGhpcy5fb25VcCksdGhpcy5fbWFwLm9uY2UoInRvdWNoZW5kIix0aGlzLl9vblVwKSk7fSxvLnByb3RvdHlwZS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZT0hIXQsdGhpcy5fbWFwJiYodD8odGhpcy5fbWFwLm9uKCJtb3VzZWRvd24iLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0aGlzLl9tYXAub24oInRvdWNoc3RhcnQiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSk6KHRoaXMuX21hcC5vZmYoIm1vdXNlZG93biIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHRoaXMuX21hcC5vZmYoInRvdWNoc3RhcnQiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSkpLHRoaXN9LG8ucHJvdG90eXBlLmlzRHJhZ2dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZX0sby5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uPXR8fDAsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259LG8ucHJvdG90eXBlLnNldFJvdGF0aW9uQWxpZ25tZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yb3RhdGlvbkFsaWdubWVudD10fHwiYXV0byIsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0Um90YXRpb25BbGlnbm1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb25BbGlnbm1lbnR9LG8ucHJvdG90eXBlLnNldFBpdGNoQWxpZ25tZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waXRjaEFsaWdubWVudD10JiYiYXV0byIhPT10P3Q6dGhpcy5fcm90YXRpb25BbGlnbm1lbnQsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuZ2V0UGl0Y2hBbGlnbm1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnR9LG99KHQuRXZlbnRlZCksa3I9e3Bvc2l0aW9uT3B0aW9uczp7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLG1heGltdW1BZ2U6MCx0aW1lb3V0OjZlM30sZml0Qm91bmRzT3B0aW9uczp7bWF4Wm9vbToxNX0sdHJhY2tVc2VyTG9jYXRpb246ITEsc2hvd0FjY3VyYWN5Q2lyY2xlOiEwLHNob3dVc2VyTG9jYXRpb246ITB9LEJyPTAsT3I9ITEsRnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhpKXtlLmNhbGwodGhpcyksdGhpcy5vcHRpb25zPXQuZXh0ZW5kKHt9LGtyLGkpLHQuYmluZEFsbChbIl9vblN1Y2Nlc3MiLCJfb25FcnJvciIsIl9vblpvb20iLCJfZmluaXNoIiwiX3NldHVwVUkiLCJfdXBkYXRlQ2FtZXJhIiwiX3VwZGF0ZU1hcmtlciJdLHRoaXMpO31yZXR1cm4gZSYmKG8uX19wcm90b19fPWUpLChvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXt2YXIgbztyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXAiKSxvPXRoaXMuX3NldHVwVUksdm9pZCAwIT09THI/byhMcik6dm9pZCAwIT09dC53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zP3Qud2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZToiZ2VvbG9jYXRpb24ifSkudGhlbigoZnVuY3Rpb24odCl7byhMcj0iZGVuaWVkIiE9PXQuc3RhdGUpO30pKTpvKExyPSEhdC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uKSx0aGlzLl9jb250YWluZXJ9LG8ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXImJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpLGkucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZigiem9vbSIsdGhpcy5fb25ab29tKSx0aGlzLl9tYXA9dm9pZCAwLEJyPTAsT3I9ITE7fSxvLnByb3RvdHlwZS5faXNPdXRPZk1hcE1heEJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAuZ2V0TWF4Qm91bmRzKCksaT10LmNvb3JkcztyZXR1cm4gZSYmKGkubG9uZ2l0dWRlPGUuZ2V0V2VzdCgpfHxpLmxvbmdpdHVkZT5lLmdldEVhc3QoKXx8aS5sYXRpdHVkZTxlLmdldFNvdXRoKCl8fGkubGF0aXR1ZGU+ZS5nZXROb3J0aCgpKX0sby5wcm90b3R5cGUuX3NldEVycm9yU3RhdGU9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZSJXQUlUSU5HX0FDVElWRSI6dGhpcy5fd2F0Y2hTdGF0ZT0iQUNUSVZFX0VSUk9SIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpO2JyZWFrO2Nhc2UiQUNUSVZFX0xPQ0siOnRoaXMuX3dhdGNoU3RhdGU9IkFDVElWRV9FUlJPUiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpO2JyZWFrO2Nhc2UiQkFDS0dST1VORCI6dGhpcy5fd2F0Y2hTdGF0ZT0iQkFDS0dST1VORF9FUlJPUiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIik7fX0sby5wcm90b3R5cGUuX29uU3VjY2Vzcz1mdW5jdGlvbihlKXtpZih0aGlzLl9tYXApe2lmKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHMoZSkpcmV0dXJuIHRoaXMuX3NldEVycm9yU3RhdGUoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm91dG9mbWF4Ym91bmRzIixlKSksdGhpcy5fdXBkYXRlTWFya2VyKCksdm9pZCB0aGlzLl9maW5pc2goKTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pc3dpdGNoKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uPWUsdGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZSJXQUlUSU5HX0FDVElWRSI6Y2FzZSJBQ1RJVkVfTE9DSyI6Y2FzZSJBQ1RJVkVfRVJST1IiOnRoaXMuX3dhdGNoU3RhdGU9IkFDVElWRV9MT0NLIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIik7YnJlYWs7Y2FzZSJCQUNLR1JPVU5EIjpjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOnRoaXMuX3dhdGNoU3RhdGU9IkJBQ0tHUk9VTkQiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCIpO310aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmIk9GRiIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIoZSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYiQUNUSVZFX0xPQ0siIT09dGhpcy5fd2F0Y2hTdGF0ZXx8dGhpcy5fdXBkYXRlQ2FtZXJhKGUpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlIiksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJnZW9sb2NhdGUiLGUpKSx0aGlzLl9maW5pc2goKTt9fSxvLnByb3RvdHlwZS5fdXBkYXRlQ2FtZXJhPWZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LkxuZ0xhdChlLmNvb3Jkcy5sb25naXR1ZGUsZS5jb29yZHMubGF0aXR1ZGUpLG89ZS5jb29yZHMuYWNjdXJhY3kscj10aGlzLl9tYXAuZ2V0QmVhcmluZygpLGE9dC5leHRlbmQoe2JlYXJpbmc6cn0sdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO3RoaXMuX21hcC5maXRCb3VuZHMoaS50b0JvdW5kcyhvKSxhLHtnZW9sb2NhdGVTb3VyY2U6ITB9KTt9LG8ucHJvdG90eXBlLl91cGRhdGVNYXJrZXI9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIGk9bmV3IHQuTG5nTGF0KGUuY29vcmRzLmxvbmdpdHVkZSxlLmNvb3Jkcy5sYXRpdHVkZSk7dGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIuc2V0TG5nTGF0KGkpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldExuZ0xhdChpKS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2FjY3VyYWN5PWUuY29vcmRzLmFjY3VyYWN5LHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTt9ZWxzZSB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCk7fSxvLnByb3RvdHlwZS5fdXBkYXRlQ2lyY2xlUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9jb250YWluZXIuY2xpZW50SGVpZ2h0LzIsZT10aGlzLl9tYXAudW5wcm9qZWN0KFswLHRdKSxpPXRoaXMuX21hcC51bnByb2plY3QoWzEsdF0pLG89ZS5kaXN0YW5jZVRvKGkpLHI9TWF0aC5jZWlsKDIqdGhpcy5fYWNjdXJhY3kvbyk7dGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS53aWR0aD1yKyJweCIsdGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS5oZWlnaHQ9cisicHgiO30sby5wcm90b3R5cGUuX29uWm9vbT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTt9LG8ucHJvdG90eXBlLl9vbkVycm9yPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT1lLmNvZGUpe3RoaXMuX3dhdGNoU3RhdGU9Ik9GRiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmciKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITA7dmFyIGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZygiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZSIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50aXRsZT1pLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGkpLHZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCYmdGhpcy5fY2xlYXJXYXRjaCgpO31lbHNlIHtpZigzPT09ZS5jb2RlJiZPcilyZXR1cm47dGhpcy5fc2V0RXJyb3JTdGF0ZSgpO30iT0ZGIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlIiksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJlcnJvciIsZSkpLHRoaXMuX2ZpbmlzaCgpO319LG8ucHJvdG90eXBlLl9maW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDA7fSxvLnByb3RvdHlwZS5fc2V0dXBVST1mdW5jdGlvbihlKXt2YXIgbz10aGlzO2lmKHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPWkuY3JlYXRlKCJidXR0b24iLCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSIsdGhpcy5fY29udGFpbmVyKSxpLmNyZWF0ZSgic3BhbiIsIm1hcGJveGdsLWN0cmwtaWNvbiIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnR5cGU9ImJ1dHRvbiIsITE9PT1lKXt0Lndhcm5PbmNlKCJHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC4iKTt2YXIgcj10aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50aXRsZT1yLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHIpO31lbHNlIHt2YXIgYT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnRpdGxlPWEsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYSk7fXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsImZhbHNlIiksdGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlcj1uZXcgUnIodGhpcy5fZG90RWxlbWVudCksdGhpcy5fY2lyY2xlRWxlbWVudD1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGUiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgUnIoe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDoibWFwIn0pLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX3dhdGNoU3RhdGU9Ik9GRiIpLHRoaXMuX21hcC5vbigiem9vbSIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSksdGhpcy5fc2V0dXA9ITAsdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZ0aGlzLl9tYXAub24oIm1vdmVzdGFydCIsKGZ1bmN0aW9uKGUpe2UuZ2VvbG9jYXRlU291cmNlfHwiQUNUSVZFX0xPQ0siIT09by5fd2F0Y2hTdGF0ZXx8ZS5vcmlnaW5hbEV2ZW50JiYicmVzaXplIj09PWUub3JpZ2luYWxFdmVudC50eXBlfHwoby5fd2F0Y2hTdGF0ZT0iQkFDS0dST1VORCIsby5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSxvLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksby5maXJlKG5ldyB0LkV2ZW50KCJ0cmFja3VzZXJsb2NhdGlvbmVuZCIpKSk7fSkpO30sby5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gdC53YXJuT25jZSgiR2VvbG9jYXRlIGNvbnRyb2wgdHJpZ2dlcmVkIGJlZm9yZSBhZGRlZCB0byBhIG1hcCIpLCExO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbil7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2UiT0ZGIjp0aGlzLl93YXRjaFN0YXRlPSJXQUlUSU5HX0FDVElWRSIsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IikpO2JyZWFrO2Nhc2UiV0FJVElOR19BQ1RJVkUiOmNhc2UiQUNUSVZFX0xPQ0siOmNhc2UiQUNUSVZFX0VSUk9SIjpjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOkJyLS0sT3I9ITEsdGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgidHJhY2t1c2VybG9jYXRpb25lbmQiKSk7YnJlYWs7Y2FzZSJCQUNLR1JPVU5EIjp0aGlzLl93YXRjaFN0YXRlPSJBQ1RJVkVfTE9DSyIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiYmdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInRyYWNrdXNlcmxvY2F0aW9uc3RhcnQiKSk7fXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlIldBSVRJTkdfQUNUSVZFIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKTticmVhaztjYXNlIkFDVElWRV9MT0NLIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIik7YnJlYWs7Y2FzZSJBQ1RJVkVfRVJST1IiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpO2JyZWFrO2Nhc2UiQkFDS0dST1VORCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKTticmVhaztjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKTt9aWYoIk9GRiI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXt2YXIgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsInRydWUiKSwrK0JyPjE/KGU9e21heGltdW1BZ2U6NmU1LHRpbWVvdXQ6MH0sT3I9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsT3I9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10LndpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKTt9fWVsc2UgdC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcix0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKSx0aGlzLl90aW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl9maW5pc2gsMWU0KTtyZXR1cm4gITB9LG8ucHJvdG90eXBlLl9jbGVhcldhdGNoPWZ1bmN0aW9uKCl7dC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIiwiZmFsc2UiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXBkYXRlTWFya2VyKG51bGwpO30sb30odC5FdmVudGVkKSxVcj17bWF4V2lkdGg6MTAwLHVuaXQ6Im1ldHJpYyJ9LE5yPWZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxVcixlKSx0LmJpbmRBbGwoWyJfb25Nb3ZlIiwic2V0VW5pdCJdLHRoaXMpO307ZnVuY3Rpb24gWnIodCxlLGkpe3ZhciBvPWkmJmkubWF4V2lkdGh8fDEwMCxyPXQuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQvMixhPXQudW5wcm9qZWN0KFswLHJdKSxuPXQudW5wcm9qZWN0KFtvLHJdKSxzPWEuZGlzdGFuY2VUbyhuKTtpZihpJiYiaW1wZXJpYWwiPT09aS51bml0KXt2YXIgbD0zLjI4MDgqcztsPjUyODA/anIoZSxvLGwvNTI4MCx0Ll9nZXRVSVN0cmluZygiU2NhbGVDb250cm9sLk1pbGVzIikpOmpyKGUsbyxsLHQuX2dldFVJU3RyaW5nKCJTY2FsZUNvbnRyb2wuRmVldCIpKTt9ZWxzZSBpJiYibmF1dGljYWwiPT09aS51bml0P2pyKGUsbyxzLzE4NTIsdC5fZ2V0VUlTdHJpbmcoIlNjYWxlQ29udHJvbC5OYXV0aWNhbE1pbGVzIikpOnM+PTFlMz9qcihlLG8scy8xZTMsdC5fZ2V0VUlTdHJpbmcoIlNjYWxlQ29udHJvbC5LaWxvbWV0ZXJzIikpOmpyKGUsbyxzLHQuX2dldFVJU3RyaW5nKCJTY2FsZUNvbnRyb2wuTWV0ZXJzIikpO31mdW5jdGlvbiBqcih0LGUsaSxvKXt2YXIgcixhLG4scz0ocj1pLChhPU1hdGgucG93KDEwLCgiIitNYXRoLmZsb29yKHIpKS5sZW5ndGgtMSkpKihuPShuPXIvYSk+PTEwPzEwOm4+PTU/NTpuPj0zPzM6bj49Mj8yOm4+PTE/MTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLnBvdygxMCxNYXRoLmNlaWwoLU1hdGgubG9nKHQpL01hdGguTE4xMCkpO3JldHVybiBNYXRoLnJvdW5kKHQqZSkvZX0obikpKTt0LnN0eWxlLndpZHRoPWUqKHMvaSkrInB4Iix0LmlubmVySFRNTD1zKyImbmJzcDsiK287fU5yLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gImJvdHRvbS1sZWZ0In0sTnIucHJvdG90eXBlLl9vbk1vdmU9ZnVuY3Rpb24oKXtacih0aGlzLl9tYXAsdGhpcy5fY29udGFpbmVyLHRoaXMub3B0aW9ucyk7fSxOci5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlIix0LmdldENvbnRhaW5lcigpKSx0aGlzLl9tYXAub24oIm1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fb25Nb3ZlKCksdGhpcy5fY29udGFpbmVyfSxOci5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXtpLnJlbW92ZSh0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcC5vZmYoIm1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwPXZvaWQgMDt9LE5yLnByb3RvdHlwZS5zZXRVbml0PWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy51bml0PXQsWnIodGhpcy5fbWFwLHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMpO307dmFyIHFyPWZ1bmN0aW9uKGUpe3RoaXMuX2Z1bGxzY3JlZW49ITEsZSYmZS5jb250YWluZXImJihlLmNvbnRhaW5lciBpbnN0YW5jZW9mIHQud2luZG93LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjp0Lndhcm5PbmNlKCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC4iKSksdC5iaW5kQWxsKFsiX29uQ2xpY2tGdWxsc2NyZWVuIiwiX2NoYW5nZUljb24iXSx0aGlzKSwib25mdWxsc2NyZWVuY2hhbmdlImluIHQud2luZG93LmRvY3VtZW50P3RoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9ImZ1bGxzY3JlZW5jaGFuZ2UiOiJvbm1vemZ1bGxzY3JlZW5jaGFuZ2UiaW4gdC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT0ibW96ZnVsbHNjcmVlbmNoYW5nZSI6Im9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSJpbiB0LndpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPSJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIjoib25tc2Z1bGxzY3JlZW5jaGFuZ2UiaW4gdC53aW5kb3cuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPSJNU0Z1bGxzY3JlZW5DaGFuZ2UiKTt9O3FyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwIiksdGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpP3RoaXMuX3NldHVwVUkoKToodGhpcy5fY29udHJvbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJub25lIix0Lndhcm5PbmNlKCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4iKSksdGhpcy5fY29udHJvbENvbnRhaW5lcn0scXIucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udHJvbENvbnRhaW5lciksdGhpcy5fbWFwPW51bGwsdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pO30scXIucHJvdG90eXBlLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuICEhKHQud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkfHx0LndpbmRvdy5kb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZHx8dC53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfSxxci5wcm90b3R5cGUuX3NldHVwVUk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPWkuY3JlYXRlKCJidXR0b24iLCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4iLHRoaXMuX2NvbnRyb2xDb250YWluZXIpO2kuY3JlYXRlKCJzcGFuIiwibWFwYm94Z2wtY3RybC1pY29uIixlKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksZS50eXBlPSJidXR0b24iLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLHQud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9LHFyLnByb3RvdHlwZS5fdXBkYXRlVGl0bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUaXRsZSgpO3RoaXMuX2Z1bGxzY3JlZW5CdXR0b24uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIix0KSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnRpdGxlPXQ7fSxxci5wcm90b3R5cGUuX2dldFRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcodGhpcy5faXNGdWxsc2NyZWVuKCk/IkZ1bGxzY3JlZW5Db250cm9sLkV4aXQiOiJGdWxsc2NyZWVuQ29udHJvbC5FbnRlciIpfSxxci5wcm90b3R5cGUuX2lzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufSxxci5wcm90b3R5cGUuX2NoYW5nZUljb249ZnVuY3Rpb24oKXsodC53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fHQud2luZG93LmRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHx0LndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCk9PT10aGlzLl9jb250YWluZXIhPT10aGlzLl9mdWxsc2NyZWVuJiYodGhpcy5fZnVsbHNjcmVlbj0hdGhpcy5fZnVsbHNjcmVlbix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoIm1hcGJveGdsLWN0cmwtc2hyaW5rIiksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4iKSx0aGlzLl91cGRhdGVUaXRsZSgpKTt9LHFyLnByb3RvdHlwZS5fb25DbGlja0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT90LndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj90LndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOnQud2luZG93LmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/dC53aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOnQud2luZG93LmRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4/dC53aW5kb3cuZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpOnQud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJnQud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuP3RoaXMuX2NvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX2NvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTt9O3ZhciBWcj17Y2xvc2VCdXR0b246ITAsY2xvc2VPbkNsaWNrOiEwLGNsYXNzTmFtZToiIixtYXhXaWR0aDoiMjQwcHgifSxHcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBvKGkpe2UuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9dC5leHRlbmQoT2JqZWN0LmNyZWF0ZShWciksaSksdC5iaW5kQWxsKFsiX3VwZGF0ZSIsIl9vbkNsb3NlIiwicmVtb3ZlIiwiX29uTW91c2VNb3ZlIiwiX29uTW91c2VVcCIsIl9vbkRyYWciXSx0aGlzKTt9cmV0dXJuIGUmJihvLl9fcHJvdG9fXz1lKSwoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZ0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9vbkNsb3NlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUmJnRoaXMuX21hcC5vbigibW92ZSIsdGhpcy5fb25DbG9zZSksdGhpcy5fbWFwLm9uKCJyZW1vdmUiLHRoaXMucmVtb3ZlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl90cmFja1BvaW50ZXI/KHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSksdGhpcy5fbWFwLm9uKCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXApLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIiKSx0aGlzLl9tYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC10cmFjay1wb2ludGVyIikpOnRoaXMuX21hcC5vbigibW92ZSIsdGhpcy5fdXBkYXRlKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm9wZW4iKSksdGhpc30sby5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fbWFwfSxvLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudCYmaS5yZW1vdmUodGhpcy5fY29udGVudCksdGhpcy5fY29udGFpbmVyJiYoaS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSxkZWxldGUgdGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoIm1vdmUiLHRoaXMuX29uQ2xvc2UpLHRoaXMuX21hcC5vZmYoImNsaWNrIix0aGlzLl9vbkNsb3NlKSx0aGlzLl9tYXAub2ZmKCJyZW1vdmUiLHRoaXMucmVtb3ZlKSx0aGlzLl9tYXAub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlKSx0aGlzLl9tYXAub2ZmKCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXApLHRoaXMuX21hcC5vZmYoImRyYWciLHRoaXMuX29uRHJhZyksZGVsZXRlIHRoaXMuX21hcCksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJjbG9zZSIpKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRMbmdMYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG5nTGF0fSxvLnByb3RvdHlwZS5zZXRMbmdMYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xuZ0xhdD10LkxuZ0xhdC5jb252ZXJ0KGUpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3RyYWNrUG9pbnRlcj0hMSx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub24oIm1vdmUiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlciIpLHRoaXMuX21hcC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXRyYWNrLXBvaW50ZXIiKSksdGhpc30sby5wcm90b3R5cGUudHJhY2tQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSksdGhpcy5fbWFwLm9uKCJkcmFnIix0aGlzLl9vbkRyYWcpLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIiKSx0aGlzLl9tYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC10cmFjay1wb2ludGVyIikpLHRoaXN9LG8ucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfSxvLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQodC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpfSxvLnByb3RvdHlwZS5zZXRIVE1MPWZ1bmN0aW9uKGUpe3ZhciBpLG89dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHI9dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO2ZvcihyLmlubmVySFRNTD1lO2k9ci5maXJzdENoaWxkOylvLmFwcGVuZENoaWxkKGkpO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQobyl9LG8ucHJvdG90eXBlLmdldE1heFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofSxvLnByb3RvdHlwZS5zZXRNYXhXaWR0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heFdpZHRoPXQsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuc2V0RE9NQ29udGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3JlYXRlQ29udGVudCgpLHRoaXMuX2NvbnRlbnQuYXBwZW5kQ2hpbGQodCksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuYWRkQ2xhc3NOYW1lPWZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodCk7fSxvLnByb3RvdHlwZS5yZW1vdmVDbGFzc05hbWU9ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSh0KTt9LG8ucHJvdG90eXBlLnRvZ2dsZUNsYXNzTmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9jb250YWluZXIpcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKHQpfSxvLnByb3RvdHlwZS5fY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuX2NvbnRlbnQmJmkucmVtb3ZlKHRoaXMuX2NvbnRlbnQpLHRoaXMuX2NvbnRlbnQ9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLXBvcHVwLWNvbnRlbnQiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uJiYodGhpcy5fY2xvc2VCdXR0b249aS5jcmVhdGUoImJ1dHRvbiIsIm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbiIsdGhpcy5fY29udGVudCksdGhpcy5fY2xvc2VCdXR0b24udHlwZT0iYnV0dG9uIix0aGlzLl9jbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCJDbG9zZSBwb3B1cCIpLHRoaXMuX2Nsb3NlQnV0dG9uLmlubmVySFRNTD0iJiMyMTU7Iix0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fb25DbG9zZSkpO30sby5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGUodC5wb2ludCk7fSxvLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlKHQucG9pbnQpO30sby5wcm90b3R5cGUuX29uRHJhZz1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGUodC5wb2ludCk7fSxvLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXM7aWYodGhpcy5fbWFwJiYodGhpcy5fbG5nTGF0fHx0aGlzLl90cmFja1BvaW50ZXIpJiZ0aGlzLl9jb250ZW50JiYodGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1wb3B1cCIsdGhpcy5fbWFwLmdldENvbnRhaW5lcigpKSx0aGlzLl90aXA9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLXBvcHVwLXRpcCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCksdGhpcy5vcHRpb25zLmNsYXNzTmFtZSYmdGhpcy5vcHRpb25zLmNsYXNzTmFtZS5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0KX0pKSx0aGlzLl90cmFja1BvaW50ZXImJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyIikpLHRoaXMub3B0aW9ucy5tYXhXaWR0aCYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRoIT09dGhpcy5vcHRpb25zLm1heFdpZHRoJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRoPXRoaXMub3B0aW9ucy5tYXhXaWR0aCksdGhpcy5fbWFwLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmIXRoaXMuX3RyYWNrUG9pbnRlciYmKHRoaXMuX2xuZ0xhdD1Ecih0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLHRoaXMuX21hcC50cmFuc2Zvcm0pKSwhdGhpcy5fdHJhY2tQb2ludGVyfHxlKSl7dmFyIHI9dGhpcy5fcG9zPXRoaXMuX3RyYWNrUG9pbnRlciYmZT9lOnRoaXMuX21hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCksYT10aGlzLm9wdGlvbnMuYW5jaG9yLG49ZnVuY3Rpb24gZShpKXtpZihpKXtpZigibnVtYmVyIj09dHlwZW9mIGkpe3ZhciBvPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KGksMikpKTtyZXR1cm4ge2NlbnRlcjpuZXcgdC5Qb2ludCgwLDApLHRvcDpuZXcgdC5Qb2ludCgwLGkpLCJ0b3AtbGVmdCI6bmV3IHQuUG9pbnQobyxvKSwidG9wLXJpZ2h0IjpuZXcgdC5Qb2ludCgtbyxvKSxib3R0b206bmV3IHQuUG9pbnQoMCwtaSksImJvdHRvbS1sZWZ0IjpuZXcgdC5Qb2ludChvLC1vKSwiYm90dG9tLXJpZ2h0IjpuZXcgdC5Qb2ludCgtbywtbyksbGVmdDpuZXcgdC5Qb2ludChpLDApLHJpZ2h0Om5ldyB0LlBvaW50KC1pLDApfX1pZihpIGluc3RhbmNlb2YgdC5Qb2ludHx8QXJyYXkuaXNBcnJheShpKSl7dmFyIHI9dC5Qb2ludC5jb252ZXJ0KGkpO3JldHVybiB7Y2VudGVyOnIsdG9wOnIsInRvcC1sZWZ0IjpyLCJ0b3AtcmlnaHQiOnIsYm90dG9tOnIsImJvdHRvbS1sZWZ0IjpyLCJib3R0b20tcmlnaHQiOnIsbGVmdDpyLHJpZ2h0OnJ9fXJldHVybiB7Y2VudGVyOnQuUG9pbnQuY29udmVydChpLmNlbnRlcnx8WzAsMF0pLHRvcDp0LlBvaW50LmNvbnZlcnQoaS50b3B8fFswLDBdKSwidG9wLWxlZnQiOnQuUG9pbnQuY29udmVydChpWyJ0b3AtbGVmdCJdfHxbMCwwXSksInRvcC1yaWdodCI6dC5Qb2ludC5jb252ZXJ0KGlbInRvcC1yaWdodCJdfHxbMCwwXSksYm90dG9tOnQuUG9pbnQuY29udmVydChpLmJvdHRvbXx8WzAsMF0pLCJib3R0b20tbGVmdCI6dC5Qb2ludC5jb252ZXJ0KGlbImJvdHRvbS1sZWZ0Il18fFswLDBdKSwiYm90dG9tLXJpZ2h0Ijp0LlBvaW50LmNvbnZlcnQoaVsiYm90dG9tLXJpZ2h0Il18fFswLDBdKSxsZWZ0OnQuUG9pbnQuY29udmVydChpLmxlZnR8fFswLDBdKSxyaWdodDp0LlBvaW50LmNvbnZlcnQoaS5yaWdodHx8WzAsMF0pfX1yZXR1cm4gZShuZXcgdC5Qb2ludCgwLDApKX0odGhpcy5vcHRpb25zLm9mZnNldCk7aWYoIWEpe3ZhciBzLGw9dGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoLGM9dGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodDtzPXIueStuLmJvdHRvbS55PGM/WyJ0b3AiXTpyLnk+dGhpcy5fbWFwLnRyYW5zZm9ybS5oZWlnaHQtYz9bImJvdHRvbSJdOltdLHIueDxsLzI/cy5wdXNoKCJsZWZ0Iik6ci54PnRoaXMuX21hcC50cmFuc2Zvcm0ud2lkdGgtbC8yJiZzLnB1c2goInJpZ2h0IiksYT0wPT09cy5sZW5ndGg/ImJvdHRvbSI6cy5qb2luKCItIik7fXZhciB1PXIuYWRkKG5bYV0pLnJvdW5kKCk7aS5zZXRUcmFuc2Zvcm0odGhpcy5fY29udGFpbmVyLE1yW2FdKyIgdHJhbnNsYXRlKCIrdS54KyJweCwiK3UueSsicHgpIiksQXIodGhpcy5fY29udGFpbmVyLGEsInBvcHVwIik7fX0sby5wcm90b3R5cGUuX29uQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpO30sb30odC5FdmVudGVkKSxXcj17dmVyc2lvbjp0LnZlcnNpb24sc3VwcG9ydGVkOmUsc2V0UlRMVGV4dFBsdWdpbjp0LnNldFJUTFRleHRQbHVnaW4sZ2V0UlRMVGV4dFBsdWdpblN0YXR1czp0LmdldFJUTFRleHRQbHVnaW5TdGF0dXMsTWFwOklyLE5hdmlnYXRpb25Db250cm9sOkNyLEdlb2xvY2F0ZUNvbnRyb2w6RnIsQXR0cmlidXRpb25Db250cm9sOmdyLFNjYWxlQ29udHJvbDpOcixGdWxsc2NyZWVuQ29udHJvbDpxcixQb3B1cDpHcixNYXJrZXI6UnIsU3R5bGU6cWUsTG5nTGF0OnQuTG5nTGF0LExuZ0xhdEJvdW5kczp0LkxuZ0xhdEJvdW5kcyxQb2ludDp0LlBvaW50LE1lcmNhdG9yQ29vcmRpbmF0ZTp0Lk1lcmNhdG9yQ29vcmRpbmF0ZSxFdmVudGVkOnQuRXZlbnRlZCxjb25maWc6dC5jb25maWcscHJld2FybTpmdW5jdGlvbigpe0Z0KCkuYWNxdWlyZShSdCk7fSxjbGVhclByZXdhcm1lZFJlc291cmNlczpmdW5jdGlvbigpe3ZhciB0PUJ0O3QmJih0LmlzUHJlbG9hZGVkKCkmJjE9PT10Lm51bUFjdGl2ZSgpPyh0LnJlbGVhc2UoUnQpLEJ0PW51bGwpOmNvbnNvbGUud2FybigiQ291bGQgbm90IGNsZWFyIFdlYldvcmtlcnMgc2luY2UgdGhlcmUgYXJlIGFjdGl2ZSBNYXAgaW5zdGFuY2VzIHRoYXQgc3RpbGwgcmVmZXJlbmNlIGl0LiBUaGUgcHJlLXdhcm1lZCBXZWJXb3JrZXIgcG9vbCBjYW4gb25seSBiZSBjbGVhcmVkIHdoZW4gYWxsIG1hcCBpbnN0YW5jZXMgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBtYXAucmVtb3ZlKCkiKSk7fSxnZXQgYWNjZXNzVG9rZW4oKXtyZXR1cm4gdC5jb25maWcuQUNDRVNTX1RPS0VOfSxzZXQgYWNjZXNzVG9rZW4oZSl7dC5jb25maWcuQUNDRVNTX1RPS0VOPWU7fSxnZXQgYmFzZUFwaVVybCgpe3JldHVybiB0LmNvbmZpZy5BUElfVVJMfSxzZXQgYmFzZUFwaVVybChlKXt0LmNvbmZpZy5BUElfVVJMPWU7fSxnZXQgd29ya2VyQ291bnQoKXtyZXR1cm4ga3Qud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudCh0KXtrdC53b3JrZXJDb3VudD10O30sZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpe3JldHVybiB0LmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFN9LHNldCBtYXhQYXJhbGxlbEltYWdlUmVxdWVzdHMoZSl7dC5jb25maWcuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTPWU7fSxjbGVhclN0b3JhZ2U6ZnVuY3Rpb24oZSl7dC5jbGVhclRpbGVDYWNoZShlKTt9LHdvcmtlclVybDoiIn07cmV0dXJuIFdyfSkpOwoKLy8KCnJldHVybiBtYXBib3hnbDsKCn0pKSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcGJveC1nbC5qcy5tYXAK"></script>
  <link href="data:text/css,%2EmapViewStateContainer%20%7B%0A%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%7D%0A%2EmapViewState%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aheight%3A%20auto%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0A%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0A%7D%0A%2EmapTitleContainer%20%7B%0A%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%7D%0A%2EmapTitle%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aheight%3A%20auto%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0A%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0A%7D%0A%0A%2ElegendContainer%20%7B%0Aposition%3A%20absolute%3B%0Abottom%3A%200%3B%0Aright%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%0Apadding%2Dbottom%3A%2014px%3B%0A%7D%0A%2Elegend%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Abackground%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0Aborder%3A%201px%20solid%20%23b8b8b8%3B%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3Ainline%2Dblock%3B%0Amax%2Dheight%3A%20200px%3B%0Amax%2Dwidth%3A%20200px%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0Abottom%3A%200%3B%0Aright%3A%200%3B%0A%7D%0A%2ElegendTitle%20%7B%0A%0Afont%2Dsize%3A%2014px%3B%0Apadding%2Dbottom%3A%204px%3B%0Aheight%3A%20auto%3B%0Aleft%3A%20float%3B%0A%7D%0A%2ElegendContent%7B%0A%0Adisplay%3A%20inline%2Dflex%3B%0Awhite%2Dspace%3A%20nowrap%3B%0A%7D%0A%2EtickContainer%7B%0Apadding%2Dleft%3A%202px%3B%0Aheight%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0A%2ElabelContainer%7B%0A%0Apadding%2Dleft%3A%206px%3B%0Aheight%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0A%23legend%20h3%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0A%23legend%20img%20%7B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%0A%2Eoverlays%20canvas%20%7B%0Amix%2Dblend%2Dmode%3A%20multiply%3B%0A%7D%0A%2Edeckgl%2Dparent%2Dclass%20%7B%0Aisolation%3A%20%27isolate%27%3B%0A%7D%0A%0A%2Emapdecktooltip%3Aempty%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2Emapdecktooltip%20%7B%0A%0A%0A%0Afont%2Dfamily%3A%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2011px%3B%0Aposition%3A%20absolute%3B%0Apadding%3A%204px%3B%0Amargin%3A%208px%3B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E8%29%3B%0Acolor%3A%20%23fff%3B%0Amax%2Dwidth%3A%20300px%3B%0Afont%2Dsize%3A%2010px%3B%0Az%2Dindex%3A%209%3B%0Apointer%2Devents%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ21hcGRlY2snLAogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHJldHVybiB7CgogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oeCkgewoKICAgICAgCW1kX3NldHVwX3dpbmRvdyggZWwuaWQgKTsKCgkJCQlpZiggeC5zaG93X3ZpZXdfc3RhdGUgKSB7CiAgICAgIAkgIG1kX3NldHVwX3ZpZXdfc3RhdGUoIGVsLmlkICk7CiAgICAgIAkgIHdpbmRvd1tlbC5pZCArICdtYXBWaWV3U3RhdGUnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdpZCcsIGVsLmlkICsgJ21hcFZpZXdTdGF0ZScpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBWaWV3U3RhdGUnKTsKICAgICAgCSAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBWaWV3U3RhdGVDb250YWluZXIiK2VsLmlkKTsKICAgIAkJCW1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10gKTsKCQkJCX0KCiAgICAgICAgLy8gSU5JVElBTCBWSUVXCiAgICAgICAgd2luZG93W2VsLmlkICsgJ0lOSVRJQUxfVklFV19TVEFURSddID0gewogICAgICAgIAlsb25naXR1ZGU6IHgubG9jYXRpb25bMF0sCiAgICAgICAgCWxhdGl0dWRlOiB4LmxvY2F0aW9uWzFdLAogICAgICAgIAl6b29tOiB4Lnpvb20sCiAgICAgICAgCXBpdGNoOiB4LnBpdGNoLAogICAgICAgIAliZWFyaW5nOiB4LmJlYXJpbmcsCiAgICAgICAgCW1heFpvb206IHgubWF4X3pvb20sCiAgICAgICAJIAltaW5ab29tOiB4Lm1pbl96b29tLAogICAgICAgCSAJbWF4UGl0Y2g6IHgubWF4X3BpdGNoLAogICAgICAgCSAJbWluUGl0Y2g6IHgubWluX3BpdGNoCiAgICAgICAgfTsKCiAgICAgICBpZiggeC5hY2Nlc3NfdG9rZW4gPT09IG51bGwgKSB7CiAgICAgICAJIGNvbnN0IGRlY2tnbCA9IG5ldyBkZWNrLkRlY2tHTCh7CiAgICAgICAJIAkgIHZpZXdzOiBbIG5ldyBkZWNrLk1hcFZpZXcoewogICAgICAgCSAJICAJaWQ6IGVsLmlkLAogICAgICAgCSAJICAJcmVwZWF0OiB4LnJlcGVhdF92aWV3CiAgICAgICAJIAkgIAl9KSBdLAogICAgICAgCSAJICBtYXA6IGZhbHNlLAoJCQkgICAgICBjb250YWluZXI6IGVsLmlkLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUKCQkJICAgICAgLy9vbkxheWVySG92ZXI6IHNldFRvb2x0aXAKCQkJICAgfSk7CgkJCSAgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKICAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVja2dsID0gbmV3IGRlY2suRGVja0dMKHsKICAgICAgICAJICB2aWV3czogWyBuZXcgZGVjay5NYXBWaWV3KHsKICAgICAgICAJICAJaWQ6IGVsLmlkLAogICAgICAgIAkgIAlyZXBlYXQ6IHgucmVwZWF0X3ZpZXcKICAgICAgICAJICAJfSkgXSwKICAgICAgICAgIAltYXBib3hBcGlBY2Nlc3NUb2tlbjogeC5hY2Nlc3NfdG9rZW4sCgkJCSAgICAgIGNvbnRhaW5lcjogZWwuaWQsCgkJCSAgICAgIG1hcFN0eWxlOiB4LnN0eWxlLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUsCgkJCSAgICAgIC8vb25MYXllckhvdmVyOiBzZXRUb29sdGlwCgkJCSAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiAoe3ZpZXdJZCwgdmlld1N0YXRlLCBpbnRlcmFjdGlvblN0YXRlfSkgPT4gewoKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmICF4LnNob3dfdmlld19zdGF0ZSApIHsgcmV0dXJuOyB9CgkJCQkJCQkvLyBhcyBwZXI6CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2lzc3Vlcy8zMzQ0CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vU3ltYm9saXhBVS9tYXBkZWNrL2lzc3Vlcy8yMTEKCQkJICAgICAgCWNvbnN0IHZpZXdwb3J0ID0gbmV3IGRlY2suV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpOwogIAkJCQkJCWNvbnN0IG53ID0gdmlld3BvcnQudW5wcm9qZWN0KFswLCAwXSk7CiAgCQkJCQkJY29uc3Qgc2UgPSB2aWV3cG9ydC51bnByb2plY3QoW3ZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdKTsKCiAgCQkJCQkJY29uc3QgdyA9IG53WzBdIDwgLTE4MCA/IC0xODAgOiAoIG53WzBdID4gMTgwID8gMTgwIDogbndbMF0gKTsKICAJCQkJCQljb25zdCBuID0gbndbMV0gPCAtOTAgPyAtOTAgOiAoIG53WzFdID4gOTAgPyA5MCA6IG53WzFdICk7CgogIAkJCQkJCWNvbnN0IGUgPSBzZVswXSA8IC0xODAgPyAtMTgwIDogKCBzZVswXSA+IDE4MCA/IDE4MCA6IHNlWzBdICk7CiAgCQkJCQkJY29uc3QgcyA9IHNlWzFdIDwgLTkwID8gLTkwIDogKCBzZVsxXSA+IDkwID8gOTAgOiBzZVsxXSApOwoKICAJCQkJCQl2aWV3U3RhdGUudmlld0lkID0gdmlld0lkOwoKCQkJCQkJCXZpZXdTdGF0ZS52aWV3Qm91bmRzID0gewogIAkJCQkJCQlub3J0aDogbiwgLy9ud1sxXSwKICAJCQkJCQkJZWFzdDogIGUsIC8vc2VbMF0sCiAgCQkJCQkJCXNvdXRoOiBzLCAvL3NlWzFdLAogIAkJCQkJCQl3ZXN0OiAgdyAvL253WzBdCiAgCQkJCQkJfTsKICAJCQkJCQl2aWV3U3RhdGUuaW50ZXJhY3Rpb25TdGF0ZSA9IGludGVyYWN0aW9uU3RhdGU7CgogIAkJCQkJCWlmKCB4LnNob3dfdmlld19zdGF0ZSApIHsKICAJCQkJCQkJdmFyIHZzID0gSlNPTi5zdHJpbmdpZnkoIHZpZXdTdGF0ZSApOwogIAkJCQkJCQkvL2NvbnNvbGUubG9nKCB2cyApOwogIAkJCQkJCQl3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uaW5uZXJIVE1MID0gdnM7CiAgCQkJCQkJfQoKICAJCQkJCQlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSApIHsgcmV0dXJuOyB9CgoJCQkJCQkgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX3ZpZXdfY2hhbmdlJywgdmlld1N0YXRlKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnU3RhcnQoaW5mbywgZXZlbnQpewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAkvL2lmKCBpbmZvLmxheWVyICE9PSBudWxsICkgeyBpbmZvLmxheWVyID0gbnVsbDsgfSAgLy8gZHJhZ2dpbmcgYSBsYXllcjsKCQkJICAgICAgCWluZm8ubGF5ZXIgPSB1bmRlZmluZWQ7IC8vIGluIGNhc2Ugb2YgZHJhZ2dpbmcgYSBsYXllcgoJCQkgICAgICAJU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArJ19kcmFnX3N0YXJ0JywgaW5mbyk7CgkJCSAgICAgIH0sCgkJCSAgICAgIG9uRHJhZyhpbmZvLCBldmVudCl7CgkJCSAgICAgIAlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgeyByZXR1cm47IH0KCQkJICAgICAgCS8vaWYoIGluZm8ubGF5ZXIgIT09IG51bGwgKSB7IGluZm8ubGF5ZXIgPSBudWxsOyB9ICAvLyBkcmFnZ2luZyBhIGxheWVyOwoJCQkgICAgICAJaW5mby5sYXllciA9IHVuZGVmaW5lZDsgLy8gaW4gY2FzZSBvZiBkcmFnZ2luZyBhIGxheWVyCgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX2RyYWcnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnRW5kKGluZm8sIGV2ZW50KXsKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7IHJldHVybjsgfQoJCQkgICAgICAJLy9pZiggaW5mby5sYXllciAhPT0gbnVsbCApIHsgaW5mby5sYXllciA9IG51bGw7IH0gIC8vIGRyYWdnaW5nIGEgbGF5ZXI7CgkJCSAgICAgIAlpbmZvLmxheWVyID0gdW5kZWZpbmVkOyAvLyBpbiBjYXNlIG9mIGRyYWdnaW5nIGEgbGF5ZXIKCQkJICAgICAgCVNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKydfZHJhZ19lbmQnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25SZXNpemUoc2l6ZSkgewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX3Jlc2l6ZScsIHNpemUpOwoJCQkgICAgICB9CgkJCSAgfSk7CgoJCQkgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKCiAgICAgICB9CgkJCSAgICBtZF9pbml0aWFsaXNlX21hcChlbCwgeCk7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKICAgICAgfQogICAgfTsKICB9Cn0pOwoKCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoIm1hcGRlY2ttYXAtY2FsbHMiLCBmdW5jdGlvbiAoZGF0YSkgewoKICAJLy9jb25zb2xlLmxvZyggIm1hcGRlY2ttYXAtY2FsbHMiICk7CgogICAgdmFyIGlkID0gZGF0YS5pZCwgICAvLyB0aGUgZGl2IGlkIG9mIHRoZSBtYXAKICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksCiAgICAgIG1hcCA9IGVsLAogICAgICBjYWxsID0gW10sCiAgICAgIGkgPSAwOwoKICAgIGlmICghbWFwKSB7CiAgICAgIC8vY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgbWFwIHdpdGggaWQgIiArIGlkKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmNhbGxzLmxlbmd0aDsgaSsrKSB7CgogICAgICBjYWxsID0gZGF0YS5jYWxsc1tpXTsKCiAgICAgIC8vcHVzaCB0aGUgbWFwSWQgaW50byB0aGUgY2FsbC5hcmdzCiAgICAgIGNhbGwuYXJncy51bnNoaWZ0KGlkKTsKCiAgICAgIGlmIChjYWxsLmRlcGVuZGVuY2llcykgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhjYWxsLmRlcGVuZGVuY2llcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aW5kb3dbY2FsbC5tZXRob2RdKSB7CiAgICAgICAgd2luZG93W2NhbGwubWV0aG9kXS5hcHBseSh3aW5kb3dbaWQgKyAnbWFwJ10sIGNhbGwuYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVW5rbm93biBmdW5jdGlvbiAiICsgY2FsbC5tZXRob2QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCg=="></script>
  <script src="data:application/javascript;base64,ZnVuY3Rpb24gYWRkX2FyY19nZW8oIG1hcF9pZCwgbWFwX3R5cGUsIGFyY19kYXRhLCBsYXllcl9pZCwgYXV0b19oaWdobGlnaHQsIGhpZ2hsaWdodF9jb2xvdXIsIGxlZ2VuZCwgYmJveCwgdXBkYXRlX3ZpZXcsIGZvY3VzX2xheWVyLCBqc190cmFuc2l0aW9uLCBicnVzaF9yYWRpdXMgKSB7CgogIHZhciBleHRlbnNpb25zID0gW107CgogIGlmICggYnJ1c2hfcmFkaXVzID4gMCApIHsKICAJZXh0ZW5zaW9ucy5wdXNoKCBuZXcgZGVjay5CcnVzaGluZ0V4dGVuc2lvbigpICk7CiAgfQoKICBjb25zdCBhcmNMYXllciA9IG5ldyBkZWNrLkFyY0xheWVyKHsKICAJbWFwX2lkOiBtYXBfaWQsCiAgICBpZDogJ2FyYy0nK2xheWVyX2lkLAogICAgZGF0YTogYXJjX2RhdGEsCiAgICBwaWNrYWJsZTogdHJ1ZSwKICAgIGdldFdpZHRoOiBkID0+IGQucHJvcGVydGllcy5zdHJva2Vfd2lkdGgsCiAgICBnZXRTb3VyY2VQb3NpdGlvbjogZCA9PiBtZF9nZXRfb3JpZ2luX2Nvb3JkaW5hdGVzKCBkICksCiAgICBnZXRUYXJnZXRQb3NpdGlvbjogZCA9PiBtZF9nZXRfZGVzdGluYXRpb25fY29vcmRpbmF0ZXMoIGQgKSwKICAgIGdldFNvdXJjZUNvbG9yOiBkID0+IG1kX2hleFRvUkdCQSggZC5wcm9wZXJ0aWVzLnN0cm9rZV9mcm9tICksCiAgICBnZXRUYXJnZXRDb2xvcjogZCA9PiBtZF9oZXhUb1JHQkEoIGQucHJvcGVydGllcy5zdHJva2VfdG8gKSwKICAgIGdldFRpbHQ6IGQgPT4gZC5wcm9wZXJ0aWVzLnRpbHQsCiAgICBnZXRIZWlnaHQ6IGQgPT4gZC5wcm9wZXJ0aWVzLmhlaWdodCwKICAgIG9uQ2xpY2s6IGluZm8gPT4gbWRfbGF5ZXJfY2xpY2soIG1hcF9pZCwgImFyYyIsIGluZm8gKSwKICAgIG9uSG92ZXI6IG1kX3VwZGF0ZV90b29sdGlwLAogICAgYXV0b0hpZ2hsaWdodDogYXV0b19oaWdobGlnaHQsCiAgICBoaWdobGlnaHRDb2xvcjogbWRfaGV4VG9SR0JBKCBoaWdobGlnaHRfY29sb3VyICksCiAgICB0cmFuc2l0aW9uczoganNfdHJhbnNpdGlvbiB8fCB7fSwKICAgIGJydXNoaW5nUmFkaXVzOiBicnVzaF9yYWRpdXMsCiAgICBleHRlbnNpb25zOiBleHRlbnNpb25zCiAgfSk7CgogIGlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfdXBkYXRlX292ZXJsYXkoIG1hcF9pZCwgJ2FyYy0nK2xheWVyX2lkLCBhcmNMYXllciApOwoJfSBlbHNlIHsKCSAgbWRfdXBkYXRlX2xheWVyKCBtYXBfaWQsICdhcmMtJytsYXllcl9pZCwgYXJjTGF5ZXIgKTsKCX0KCglpZiAobGVnZW5kICE9PSBmYWxzZSkgewoJICBtZF9hZGRfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgbGVnZW5kLCAiaGV4IiApOwoJfQoJbWRfbGF5ZXJfdmlldyggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGZvY3VzX2xheWVyLCBiYm94LCB1cGRhdGVfdmlldyApOwp9CgoKZnVuY3Rpb24gYWRkX2FyY19wb2x5bGluZSggbWFwX2lkLCBtYXBfdHlwZSwgYXJjX2RhdGEsIGxheWVyX2lkLCBhdXRvX2hpZ2hsaWdodCwgaGlnaGxpZ2h0X2NvbG91ciwgbGVnZW5kLCBiYm94LCB1cGRhdGVfdmlldywgZm9jdXNfbGF5ZXIsIGpzX3RyYW5zaXRpb24sIGJydXNoX3JhZGl1cyApIHsKCiAgdmFyIGV4dGVuc2lvbnMgPSBbXTsKCiAgaWYgKCBicnVzaF9yYWRpdXMgPiAwICkgewogIAlleHRlbnNpb25zLnB1c2goIG5ldyBkZWNrLkJydXNoaW5nRXh0ZW5zaW9uKCkgKTsKICB9CgogIGNvbnN0IGFyY0xheWVyID0gbmV3IGRlY2suQXJjTGF5ZXIoewogICAgbWFwX2lkOiBtYXBfaWQsCiAgICBpZDogJ2FyYy0nK2xheWVyX2lkLAogICAgZGF0YTogYXJjX2RhdGEsCiAgICBwaWNrYWJsZTogdHJ1ZSwKICAgIGdldFdpZHRoOiBkID0+IGQuc3Ryb2tlX3dpZHRoLAogICAgZ2V0U291cmNlUG9zaXRpb246IGQgPT4gbWRfZGVjb2RlX3BvaW50cyggZC5vcmlnaW4gKSwKICAgIGdldFRhcmdldFBvc2l0aW9uOiBkID0+IG1kX2RlY29kZV9wb2ludHMoIGQuZGVzdGluYXRpb24gKSwKICAgIGdldFNvdXJjZUNvbG9yOiBkID0+IG1kX2hleFRvUkdCQSggZC5zdHJva2VfZnJvbSApLAogICAgZ2V0VGFyZ2V0Q29sb3I6IGQgPT4gbWRfaGV4VG9SR0JBKCBkLnN0cm9rZV90byApLAogICAgZ2V0VGlsdDogZCA9PiBkLnRpbHQsCiAgICBnZXRIZWlnaHQ6IGQgPT4gZC5oZWlnaHQsCiAgICBvbkNsaWNrOiBpbmZvID0+IG1kX2xheWVyX2NsaWNrKCBtYXBfaWQsICJhcmMiLCBpbmZvICksCiAgICBhdXRvSGlnaGxpZ2h0OiBhdXRvX2hpZ2hsaWdodCwKICAgIGhpZ2hsaWdodENvbG9yOiBtZF9oZXhUb1JHQkEoIGhpZ2hsaWdodF9jb2xvdXIgKSwKICAgIG9uSG92ZXI6IG1kX3VwZGF0ZV90b29sdGlwLAogICAgdHJhbnNpdGlvbnM6IGpzX3RyYW5zaXRpb24gfHwge30sCiAgICBicnVzaGluZ1JhZGl1czogYnJ1c2hfcmFkaXVzLAogICAgZXh0ZW5zaW9uczogZXh0ZW5zaW9ucwogIH0pOwoKICBpZiggbWFwX3R5cGUgPT0gImdvb2dsZV9tYXAiKSB7CgkgIG1kX3VwZGF0ZV9vdmVybGF5KCBtYXBfaWQsICdhcmMtJytsYXllcl9pZCwgYXJjTGF5ZXIgKTsKCX0gZWxzZSB7CgkgIG1kX3VwZGF0ZV9sYXllciggbWFwX2lkLCAnYXJjLScrbGF5ZXJfaWQsIGFyY0xheWVyICk7Cgl9CgoJaWYgKGxlZ2VuZCAhPT0gZmFsc2UpIHsKCSAgbWRfYWRkX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxlZ2VuZCwgImhleCIgKTsKCX0KCW1kX2xheWVyX3ZpZXcoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBmb2N1c19sYXllciwgYmJveCwgdXBkYXRlX3ZpZXcgKTsKfQo="></script>
  <script src="data:application/javascript;base64,LyohIGpRdWVyeSB2My41LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHQoZSl9OnQoZSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKEMsZSl7InVzZSBzdHJpY3QiO3ZhciB0PVtdLHI9T2JqZWN0LmdldFByb3RvdHlwZU9mLHM9dC5zbGljZSxnPXQuZmxhdD9mdW5jdGlvbihlKXtyZXR1cm4gdC5mbGF0LmNhbGwoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbmNhdC5hcHBseShbXSxlKX0sdT10LnB1c2gsaT10LmluZGV4T2Ysbj17fSxvPW4udG9TdHJpbmcsdj1uLmhhc093blByb3BlcnR5LGE9di50b1N0cmluZyxsPWEuY2FsbChPYmplY3QpLHk9e30sbT1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZSYmIm51bWJlciIhPXR5cGVvZiBlLm5vZGVUeXBlfSx4PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlPT09ZS53aW5kb3d9LEU9Qy5kb2N1bWVudCxjPXt0eXBlOiEwLHNyYzohMCxub25jZTohMCxub01vZHVsZTohMH07ZnVuY3Rpb24gYihlLHQsbil7dmFyIHIsaSxvPShuPW58fEUpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKG8udGV4dD1lLHQpZm9yKHIgaW4gYykoaT10W3JdfHx0LmdldEF0dHJpYnV0ZSYmdC5nZXRBdHRyaWJ1dGUocikpJiZvLnNldEF0dHJpYnV0ZShyLGkpO24uaGVhZC5hcHBlbmRDaGlsZChvKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIG51bGw9PWU/ZSsiIjoib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlP25bby5jYWxsKGUpXXx8Im9iamVjdCI6dHlwZW9mIGV9dmFyIGY9IjMuNS4xIixTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBTLmZuLmluaXQoZSx0KX07ZnVuY3Rpb24gcChlKXt2YXIgdD0hIWUmJiJsZW5ndGgiaW4gZSYmZS5sZW5ndGgsbj13KGUpO3JldHVybiFtKGUpJiYheChlKSYmKCJhcnJheSI9PT1ufHwwPT09dHx8Im51bWJlciI9PXR5cGVvZiB0JiYwPHQmJnQtMSBpbiBlKX1TLmZuPVMucHJvdG90eXBlPXtqcXVlcnk6Zixjb25zdHJ1Y3RvcjpTLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gcy5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/cy5jYWxsKHRoaXMpOmU8MD90aGlzW2UrdGhpcy5sZW5ndGhdOnRoaXNbZV19LHB1c2hTdGFjazpmdW5jdGlvbihlKXt2YXIgdD1TLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxlKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdH0sZWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gUy5lYWNoKHRoaXMsZSl9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy5tYXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0LGUpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGV2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy5ncmVwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy5ncmVwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCUyfSkpfSxlcTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCxuPStlKyhlPDA/dDowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9biYmbjx0P1t0aGlzW25dXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp1LHNvcnQ6dC5zb3J0LHNwbGljZTp0LnNwbGljZX0sUy5leHRlbmQ9Uy5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLG8sYT1hcmd1bWVudHNbMF18fHt9LHM9MSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgYSYmKGw9YSxhPWFyZ3VtZW50c1tzXXx8e30scysrKSwib2JqZWN0Ij09dHlwZW9mIGF8fG0oYSl8fChhPXt9KSxzPT09dSYmKGE9dGhpcyxzLS0pO3M8dTtzKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW3NdKSlmb3IodCBpbiBlKXI9ZVt0XSwiX19wcm90b19fIiE9PXQmJmEhPT1yJiYobCYmciYmKFMuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhuPWFbdF0sbz1pJiYhQXJyYXkuaXNBcnJheShuKT9bXTppfHxTLmlzUGxhaW5PYmplY3Qobik/bjp7fSxpPSExLGFbdF09Uy5leHRlbmQobCxvLHIpKTp2b2lkIDAhPT1yJiYoYVt0XT1yKSk7cmV0dXJuIGF9LFMuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhmK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8IltvYmplY3QgT2JqZWN0XSIhPT1vLmNhbGwoZSkpJiYoISh0PXIoZSkpfHwiZnVuY3Rpb24iPT10eXBlb2Yobj12LmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJmEuY2FsbChuKT09PWwpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSx0LG4pe2IoZSx7bm9uY2U6dCYmdC5ub25jZX0sbil9LGVhY2g6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTA7aWYocChlKSl7Zm9yKG49ZS5sZW5ndGg7cjxuO3IrKylpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWt9ZWxzZSBmb3IociBpbiBlKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVhaztyZXR1cm4gZX0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8W107cmV0dXJuIG51bGwhPWUmJihwKE9iamVjdChlKSk/Uy5tZXJnZShuLCJzdHJpbmciPT10eXBlb2YgZT9bZV06ZSk6dS5jYWxsKG4sZSkpLG59LGluQXJyYXk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT10Py0xOmkuY2FsbCh0LGUsbil9LG1lcmdlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSt0Lmxlbmd0aCxyPTAsaT1lLmxlbmd0aDtyPG47cisrKWVbaSsrXT10W3JdO3JldHVybiBlLmxlbmd0aD1pLGV9LGdyZXA6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1bXSxpPTAsbz1lLmxlbmd0aCxhPSFuO2k8bztpKyspIXQoZVtpXSxpKSE9PWEmJnIucHVzaChlW2ldKTtyZXR1cm4gcn0sbWFwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89MCxhPVtdO2lmKHAoZSkpZm9yKHI9ZS5sZW5ndGg7bzxyO28rKyludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtlbHNlIGZvcihvIGluIGUpbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7cmV0dXJuIGcoYSl9LGd1aWQ6MSxzdXBwb3J0Onl9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoUy5mbltTeW1ib2wuaXRlcmF0b3JdPXRbU3ltYm9sLml0ZXJhdG9yXSksUy5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe25bIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7dmFyIGQ9ZnVuY3Rpb24obil7dmFyIGUsZCxiLG8saSxoLGYsZyx3LHUsbCxULEMsYSxFLHYscyxjLHksUz0ic2l6emxlIisxKm5ldyBEYXRlLHA9bi5kb2N1bWVudCxrPTAscj0wLG09dWUoKSx4PXVlKCksQT11ZSgpLE49dWUoKSxEPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYobD0hMCksMH0saj17fS5oYXNPd25Qcm9wZXJ0eSx0PVtdLHE9dC5wb3AsTD10LnB1c2gsSD10LnB1c2gsTz10LnNsaWNlLFA9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LFI9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixNPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixJPSIoPzpcXFxcW1xcZGEtZkEtRl17MSw2fSIrTSsiP3xcXFxcW15cXHJcXG5cXGZdfFtcXHctXXxbXlwwLVxceDdmXSkrIixXPSJcXFsiK00rIiooIitJKyIpKD86IitNKyIqKFsqXiR8IX5dPz0pIitNKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrSSsiKSl8KSIrTSsiKlxcXSIsRj0iOigiK0krIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK1crIikqKXwuKilcXCl8KSIsQj1uZXcgUmVnRXhwKE0rIisiLCJnIiksJD1uZXcgUmVnRXhwKCJeIitNKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK00rIiskIiwiZyIpLF89bmV3IFJlZ0V4cCgiXiIrTSsiKiwiK00rIioiKSx6PW5ldyBSZWdFeHAoIl4iK00rIiooWz4rfl18IitNKyIpIitNKyIqIiksVT1uZXcgUmVnRXhwKE0rInw+IiksWD1uZXcgUmVnRXhwKEYpLFY9bmV3IFJlZ0V4cCgiXiIrSSsiJCIpLEc9e0lEOm5ldyBSZWdFeHAoIl4jKCIrSSsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitJKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitJKyJ8WypdKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrVyksUFNFVURPOm5ldyBSZWdFeHAoIl4iK0YpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCkiK00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK1IrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitNKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJpIil9LFk9L0hUTUwkL2ksUT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLEo9L15oXGQkL2ksSz0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGVlPS9bK35dLyx0ZT1uZXcgUmVnRXhwKCJcXFxcW1xcZGEtZkEtRl17MSw2fSIrTSsiP3xcXFxcKFteXFxyXFxuXFxmXSkiLCJnIiksbmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj0iMHgiK2Uuc2xpY2UoMSktNjU1MzY7cmV0dXJuIHR8fChuPDA/U3RyaW5nLmZyb21DaGFyQ29kZShuKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG4+PjEwfDU1Mjk2LDEwMjMmbnw1NjMyMCkpfSxyZT0vKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZyxpZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PyJcMCI9PT1lPyJcdWZmZmQiOmUuc2xpY2UoMCwtMSkrIlxcIitlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK2V9LG9lPWZ1bmN0aW9uKCl7VCgpfSxhZT1iZShmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUuZGlzYWJsZWQmJiJmaWVsZHNldCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9LHtkaXI6InBhcmVudE5vZGUiLG5leHQ6ImxlZ2VuZCJ9KTt0cnl7SC5hcHBseSh0PU8uY2FsbChwLmNoaWxkTm9kZXMpLHAuY2hpbGROb2RlcyksdFtwLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlKXtIPXthcHBseTp0Lmxlbmd0aD9mdW5jdGlvbihlLHQpe0wuYXBwbHkoZSxPLmNhbGwodCkpfTpmdW5jdGlvbihlLHQpe3ZhciBuPWUubGVuZ3RoLHI9MDt3aGlsZShlW24rK109dFtyKytdKTtlLmxlbmd0aD1uLTF9fX1mdW5jdGlvbiBzZSh0LGUsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmPWUmJmUub3duZXJEb2N1bWVudCxwPWU/ZS5ub2RlVHlwZTo5O2lmKG49bnx8W10sInN0cmluZyIhPXR5cGVvZiB0fHwhdHx8MSE9PXAmJjkhPT1wJiYxMSE9PXApcmV0dXJuIG47aWYoIXImJihUKGUpLGU9ZXx8QyxFKSl7aWYoMTEhPT1wJiYodT1aLmV4ZWModCkpKWlmKGk9dVsxXSl7aWYoOT09PXApe2lmKCEoYT1lLmdldEVsZW1lbnRCeUlkKGkpKSlyZXR1cm4gbjtpZihhLmlkPT09aSlyZXR1cm4gbi5wdXNoKGEpLG59ZWxzZSBpZihmJiYoYT1mLmdldEVsZW1lbnRCeUlkKGkpKSYmeShlLGEpJiZhLmlkPT09aSlyZXR1cm4gbi5wdXNoKGEpLG59ZWxzZXtpZih1WzJdKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0KSksbjtpZigoaT11WzNdKSYmZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkobixlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaSkpLG59aWYoZC5xc2EmJiFOW3QrIiAiXSYmKCF2fHwhdi50ZXN0KHQpKSYmKDEhPT1wfHwib2JqZWN0IiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpe2lmKGM9dCxmPWUsMT09PXAmJihVLnRlc3QodCl8fHoudGVzdCh0KSkpeyhmPWVlLnRlc3QodCkmJnllKGUucGFyZW50Tm9kZSl8fGUpPT09ZSYmZC5zY29wZXx8KChzPWUuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXMucmVwbGFjZShyZSxpZSk6ZS5zZXRBdHRyaWJ1dGUoImlkIixzPVMpKSxvPShsPWgodCkpLmxlbmd0aDt3aGlsZShvLS0pbFtvXT0ocz8iIyIrczoiOnNjb3BlIikrIiAiK3hlKGxbb10pO2M9bC5qb2luKCIsIil9dHJ5e3JldHVybiBILmFwcGx5KG4sZi5xdWVyeVNlbGVjdG9yQWxsKGMpKSxufWNhdGNoKGUpe04odCwhMCl9ZmluYWxseXtzPT09UyYmZS5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gZyh0LnJlcGxhY2UoJCwiJDEiKSxlLG4scil9ZnVuY3Rpb24gdWUoKXt2YXIgcj1bXTtyZXR1cm4gZnVuY3Rpb24gZSh0LG4pe3JldHVybiByLnB1c2godCsiICIpPmIuY2FjaGVMZW5ndGgmJmRlbGV0ZSBlW3Iuc2hpZnQoKV0sZVt0KyIgIl09bn19ZnVuY3Rpb24gbGUoZSl7cmV0dXJuIGVbU109ITAsZX1mdW5jdGlvbiBjZShlKXt2YXIgdD1DLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0Iik7dHJ5e3JldHVybiEhZSh0KX1jYXRjaChlKXtyZXR1cm4hMX1maW5hbGx5e3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbH19ZnVuY3Rpb24gZmUoZSx0KXt2YXIgbj1lLnNwbGl0KCJ8Iikscj1uLmxlbmd0aDt3aGlsZShyLS0pYi5hdHRySGFuZGxlW25bcl1dPXR9ZnVuY3Rpb24gcGUoZSx0KXt2YXIgbj10JiZlLHI9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZlLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihuKXdoaWxlKG49bi5uZXh0U2libGluZylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIGRlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZlLnR5cGU9PT10fX1mdW5jdGlvbiBoZShuKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09dHx8ImJ1dHRvbiI9PT10KSYmZS50eXBlPT09bn19ZnVuY3Rpb24gZ2UodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJmb3JtImluIGU/ZS5wYXJlbnROb2RlJiYhMT09PWUuZGlzYWJsZWQ/ImxhYmVsImluIGU/ImxhYmVsImluIGUucGFyZW50Tm9kZT9lLnBhcmVudE5vZGUuZGlzYWJsZWQ9PT10OmUuZGlzYWJsZWQ9PT10OmUuaXNEaXNhYmxlZD09PXR8fGUuaXNEaXNhYmxlZCE9PSF0JiZhZShlKT09PXQ6ZS5kaXNhYmxlZD09PXQ6ImxhYmVsImluIGUmJmUuZGlzYWJsZWQ9PT10fX1mdW5jdGlvbiB2ZShhKXtyZXR1cm4gbGUoZnVuY3Rpb24obyl7cmV0dXJuIG89K28sbGUoZnVuY3Rpb24oZSx0KXt2YXIgbixyPWEoW10sZS5sZW5ndGgsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPXJbaV1dJiYoZVtuXT0hKHRbbl09ZVtuXSkpfSl9KX1mdW5jdGlvbiB5ZShlKXtyZXR1cm4gZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZlfWZvcihlIGluIGQ9c2Uuc3VwcG9ydD17fSxpPXNlLmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZXNwYWNlVVJJLG49KGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiFZLnRlc3QodHx8biYmbi5ub2RlTmFtZXx8IkhUTUwiKX0sVD1zZS5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZT9lLm93bmVyRG9jdW1lbnR8fGU6cDtyZXR1cm4gciE9QyYmOT09PXIubm9kZVR5cGUmJnIuZG9jdW1lbnRFbGVtZW50JiYoYT0oQz1yKS5kb2N1bWVudEVsZW1lbnQsRT0haShDKSxwIT1DJiYobj1DLmRlZmF1bHRWaWV3KSYmbi50b3AhPT1uJiYobi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixvZSwhMSk6bi5hdHRhY2hFdmVudCYmbi5hdHRhY2hFdmVudCgib251bmxvYWQiLG9lKSksZC5zY29wZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChDLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSwidW5kZWZpbmVkIiE9dHlwZW9mIGUucXVlcnlTZWxlY3RvckFsbCYmIWUucXVlcnlTZWxlY3RvckFsbCgiOnNjb3BlIGZpZWxkc2V0IGRpdiIpLmxlbmd0aH0pLGQuYXR0cmlidXRlcz1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9ImkiLCFlLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxkLmdldEVsZW1lbnRzQnlUYWdOYW1lPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKEMuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPUsudGVzdChDLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGQuZ2V0QnlJZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlKS5pZD1TLCFDLmdldEVsZW1lbnRzQnlOYW1lfHwhQy5nZXRFbGVtZW50c0J5TmFtZShTKS5sZW5ndGh9KSxkLmdldEJ5SWQ/KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4/W25dOltdfX0pOihiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiB0JiZ0LnZhbHVlPT09bn19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmRSl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb107aT10LmdldEVsZW1lbnRzQnlOYW1lKGUpLHI9MDt3aGlsZShvPWlbcisrXSlpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb119cmV0dXJuW119fSksYi5maW5kLlRBRz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6ZC5xc2E/dC5xdWVyeVNlbGVjdG9yQWxsKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiPT09ZSl7d2hpbGUobj1vW2krK10pMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn1yZXR1cm4gb30sYi5maW5kLkNMQVNTPWQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmRSlyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxzPVtdLHY9W10sKGQucXNhPUsudGVzdChDLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGNlKGZ1bmN0aW9uKGUpe3ZhciB0O2EuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPSI8YSBpZD0nIitTKyInPjwvYT48c2VsZWN0IGlkPSciK1MrIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NhcHR1cmVePScnXSIpLmxlbmd0aCYmdi5wdXNoKCJbKl4kXT0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8di5wdXNoKCJcXFsiK00rIiooPzp2YWx1ZXwiK1IrIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitTKyItXSIpLmxlbmd0aHx8di5wdXNoKCJ+PSIpLCh0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJuYW1lIiwiIiksZS5hcHBlbmRDaGlsZCh0KSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPScnXSIpLmxlbmd0aHx8di5wdXNoKCJcXFsiK00rIipuYW1lIitNKyIqPSIrTSsiKig/OicnfFwiXCIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8di5wdXNoKCI6Y2hlY2tlZCIpLGUucXVlcnlTZWxlY3RvckFsbCgiYSMiK1MrIisqIikubGVuZ3RofHx2LnB1c2goIi4jLitbK35dIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJcXFxmIiksdi5wdXNoKCJbXFxyXFxuXFxmXSIpfSksY2UoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PiI7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmdi5wdXNoKCJuYW1lIitNKyIqWypeJHwhfl0/PSIpLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJnYucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSx2LnB1c2goIiwuKjoiKX0pKSwoZC5tYXRjaGVzU2VsZWN0b3I9Sy50ZXN0KGM9YS5tYXRjaGVzfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tb3pNYXRjaGVzU2VsZWN0b3J8fGEub01hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcikpJiZjZShmdW5jdGlvbihlKXtkLmRpc2Nvbm5lY3RlZE1hdGNoPWMuY2FsbChlLCIqIiksYy5jYWxsKGUsIltzIT0nJ106eCIpLHMucHVzaCgiIT0iLEYpfSksdj12Lmxlbmd0aCYmbmV3IFJlZ0V4cCh2LmpvaW4oInwiKSkscz1zLmxlbmd0aCYmbmV3IFJlZ0V4cChzLmpvaW4oInwiKSksdD1LLnRlc3QoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikseT10fHxLLnRlc3QoYS5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KXdoaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxEPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gbD0hMCwwO3ZhciBuPSFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBufHwoMSYobj0oZS5vd25lckRvY3VtZW50fHxlKT09KHQub3duZXJEb2N1bWVudHx8dCk/ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IWQuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09bj9lPT1DfHxlLm93bmVyRG9jdW1lbnQ9PXAmJnkocCxlKT8tMTp0PT1DfHx0Lm93bmVyRG9jdW1lbnQ9PXAmJnkocCx0KT8xOnU/UCh1LGUpLVAodSx0KTowOjQmbj8tMToxKX06ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gbD0hMCwwO3ZhciBuLHI9MCxpPWUucGFyZW50Tm9kZSxvPXQucGFyZW50Tm9kZSxhPVtlXSxzPVt0XTtpZighaXx8IW8pcmV0dXJuIGU9PUM/LTE6dD09Qz8xOmk/LTE6bz8xOnU/UCh1LGUpLVAodSx0KTowO2lmKGk9PT1vKXJldHVybiBwZShlLHQpO249ZTt3aGlsZShuPW4ucGFyZW50Tm9kZSlhLnVuc2hpZnQobik7bj10O3doaWxlKG49bi5wYXJlbnROb2RlKXMudW5zaGlmdChuKTt3aGlsZShhW3JdPT09c1tyXSlyKys7cmV0dXJuIHI/cGUoYVtyXSxzW3JdKTphW3JdPT1wPy0xOnNbcl09PXA/MTowfSksQ30sc2UubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBzZShlLG51bGwsbnVsbCx0KX0sc2UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoVChlKSxkLm1hdGNoZXNTZWxlY3RvciYmRSYmIU5bdCsiICJdJiYoIXN8fCFzLnRlc3QodCkpJiYoIXZ8fCF2LnRlc3QodCkpKXRyeXt2YXIgbj1jLmNhbGwoZSx0KTtpZihufHxkLmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIG59Y2F0Y2goZSl7Tih0LCEwKX1yZXR1cm4gMDxzZSh0LEMsbnVsbCxbZV0pLmxlbmd0aH0sc2UuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9QyYmVChlKSx5KGUsdCl9LHNlLmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9QyYmVChlKTt2YXIgbj1iLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJmouY2FsbChiLmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9uKGUsdCwhRSk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1yP3I6ZC5hdHRyaWJ1dGVzfHwhRT9lLmdldEF0dHJpYnV0ZSh0KToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9LHNlLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4oZSsiIikucmVwbGFjZShyZSxpZSl9LHNlLmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sc2UudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9MCxpPTA7aWYobD0hZC5kZXRlY3REdXBsaWNhdGVzLHU9IWQuc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoRCksbCl7d2hpbGUodD1lW2krK10pdD09PWVbaV0mJihyPW4ucHVzaChpKSk7d2hpbGUoci0tKWUuc3BsaWNlKG5bcl0sMSl9cmV0dXJuIHU9bnVsbCxlfSxvPXNlLmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsaT1lLm5vZGVUeXBlO2lmKGkpe2lmKDE9PT1pfHw5PT09aXx8MTE9PT1pKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPW8oZSl9ZWxzZSBpZigzPT09aXx8ND09PWkpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2Ugd2hpbGUodD1lW3IrK10pbis9byh0KTtyZXR1cm4gbn0sKGI9c2Uuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bGUsbWF0Y2g6RyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKHRlLG5lKSxlWzNdPShlWzNdfHxlWzRdfHxlWzVdfHwiIikucmVwbGFjZSh0ZSxuZSksIn49Ij09PWVbMl0mJihlWzNdPSIgIitlWzNdKyIgIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fHNlLmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKCJldmVuIj09PWVbM118fCJvZGQiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fCJvZGQiPT09ZVszXSkpOmVbM10mJnNlLmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgdCxuPSFlWzZdJiZlWzJdO3JldHVybiBHLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fCIiOm4mJlgudGVzdChuKSYmKHQ9aChuLCEwKSkmJih0PW4uaW5kZXhPZigiKSIsbi5sZW5ndGgtdCktbi5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsdCksZVsyXT1uLnNsaWNlKDAsdCkpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PW1bZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2UrIigiK00rInwkKSIpKSYmbShlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXNlLmF0dHIoZSxuKTtyZXR1cm4gbnVsbD09dD8iIT0iPT09cjohcnx8KHQrPSIiLCI9Ij09PXI/dD09PWk6IiE9Ij09PXI/dCE9PWk6Il49Ij09PXI/aSYmMD09PXQuaW5kZXhPZihpKToiKj0iPT09cj9pJiYtMTx0LmluZGV4T2YoaSk6IiQ9Ij09PXI/aSYmdC5zbGljZSgtaS5sZW5ndGgpPT09aToifj0iPT09cj8tMTwoIiAiK3QucmVwbGFjZShCLCIgIikrIiAiKS5pbmRleE9mKGkpOiJ8PSI9PT1yJiYodD09PWl8fHQuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihoLGUsdCxnLHYpe3ZhciB5PSJudGgiIT09aC5zbGljZSgwLDMpLG09Imxhc3QiIT09aC5zbGljZSgtNCkseD0ib2YtdHlwZSI9PT1lO3JldHVybiAxPT09ZyYmMD09PXY/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD15IT09bT8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGM9ZS5wYXJlbnROb2RlLGY9eCYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHA9IW4mJiF4LGQ9ITE7aWYoYyl7aWYoeSl7d2hpbGUobCl7YT1lO3doaWxlKGE9YVtsXSlpZih4P2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWY6MT09PWEubm9kZVR5cGUpcmV0dXJuITE7dT1sPSJvbmx5Ij09PWgmJiF1JiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKHU9W20/Yy5maXJzdENoaWxkOmMubGFzdENoaWxkXSxtJiZwKXtkPShzPShyPShpPShvPShhPWMpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSYmclsyXSxhPXMmJmMuY2hpbGROb2Rlc1tzXTt3aGlsZShhPSsrcyYmYSYmYVtsXXx8KGQ9cz0wKXx8dS5wb3AoKSlpZigxPT09YS5ub2RlVHlwZSYmKytkJiZhPT09ZSl7aVtoXT1bayxzLGRdO2JyZWFrfX1lbHNlIGlmKHAmJihkPXM9KHI9KGk9KG89KGE9ZSlbU118fChhW1NdPXt9KSlbYS51bmlxdWVJRF18fChvW2EudW5pcXVlSURdPXt9KSlbaF18fFtdKVswXT09PWsmJnJbMV0pLCExPT09ZCl3aGlsZShhPSsrcyYmYSYmYVtsXXx8KGQ9cz0wKXx8dS5wb3AoKSlpZigoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKSYmKytkJiYocCYmKChpPShvPWFbU118fChhW1NdPXt9KSlbYS51bmlxdWVJRF18fChvW2EudW5pcXVlSURdPXt9KSlbaF09W2ssZF0pLGE9PT1lKSlicmVhaztyZXR1cm4oZC09dik9PT1nfHxkJWc9PTAmJjA8PWQvZ319fSxQU0VVRE86ZnVuY3Rpb24oZSxvKXt2YXIgdCxhPWIucHNldWRvc1tlXXx8Yi5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fHNlLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrZSk7cmV0dXJuIGFbU10/YShvKToxPGEubGVuZ3RoPyh0PVtlLGUsIiIsb10sYi5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/bGUoZnVuY3Rpb24oZSx0KXt2YXIgbixyPWEoZSxvKSxpPXIubGVuZ3RoO3doaWxlKGktLSllW249UChlLHJbaV0pXT0hKHRbbl09cltpXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gYShlLDAsdCl9KTphfX0scHNldWRvczp7bm90OmxlKGZ1bmN0aW9uKGUpe3ZhciByPVtdLGk9W10scz1mKGUucmVwbGFjZSgkLCIkMSIpKTtyZXR1cm4gc1tTXT9sZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvPXMoZSxudWxsLHIsW10pLGE9ZS5sZW5ndGg7d2hpbGUoYS0tKShpPW9bYV0pJiYoZVthXT0hKHRbYV09aSkpfSk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByWzBdPWUscyhyLG51bGwsbixpKSxyWzBdPW51bGwsIWkucG9wKCl9fSksaGFzOmxlKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMDxzZSh0LGUpLmxlbmd0aH19KSxjb250YWluczpsZShmdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2UodGUsbmUpLGZ1bmN0aW9uKGUpe3JldHVybi0xPChlLnRleHRDb250ZW50fHxvKGUpKS5pbmRleE9mKHQpfX0pLGxhbmc6bGUoZnVuY3Rpb24obil7cmV0dXJuIFYudGVzdChufHwiIil8fHNlLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGUpe3ZhciB0O2Rve2lmKHQ9RT9lLmxhbmc6ZS5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGUuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKHQ9dC50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT10LmluZGV4T2YobisiLSIpfXdoaWxlKChlPWUucGFyZW50Tm9kZSkmJjE9PT1lLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5sb2NhdGlvbiYmbi5sb2NhdGlvbi5oYXNoO3JldHVybiB0JiZ0LnNsaWNlKDEpPT09ZS5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWF9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09Qy5hY3RpdmVFbGVtZW50JiYoIUMuaGFzRm9jdXN8fEMuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6Z2UoITEpLGRpc2FibGVkOmdlKCEwKSxjaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFlLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PWUuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hYi5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIEoudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFEudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1lLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6dmUoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OnZlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QtMV19KSxlcTp2ZShmdW5jdGlvbihlLHQsbil7cmV0dXJuW248MD9uK3Q6bl19KSxldmVuOnZlKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksb2RkOnZlKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTE7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksbHQ6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0OnQ8bj90Om47MDw9LS1yOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDp2ZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjsrK3I8dDspZS5wdXNoKHIpO3JldHVybiBlfSl9fSkucHNldWRvcy5udGg9Yi5wc2V1ZG9zLmVxLHtyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSliLnBzZXVkb3NbZV09ZGUoZSk7Zm9yKGUgaW57c3VibWl0OiEwLHJlc2V0OiEwfSliLnBzZXVkb3NbZV09aGUoZSk7ZnVuY3Rpb24gbWUoKXt9ZnVuY3Rpb24geGUoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxyPSIiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiBiZShzLGUsdCl7dmFyIHU9ZS5kaXIsbD1lLm5leHQsYz1sfHx1LGY9dCYmInBhcmVudE5vZGUiPT09YyxwPXIrKztyZXR1cm4gZS5maXJzdD9mdW5jdGlvbihlLHQsbil7d2hpbGUoZT1lW3VdKWlmKDE9PT1lLm5vZGVUeXBlfHxmKXJldHVybiBzKGUsdCxuKTtyZXR1cm4hMX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPVtrLHBdO2lmKG4pe3doaWxlKGU9ZVt1XSlpZigoMT09PWUubm9kZVR5cGV8fGYpJiZzKGUsdCxuKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilpZihpPShvPWVbU118fChlW1NdPXt9KSlbZS51bmlxdWVJRF18fChvW2UudW5pcXVlSURdPXt9KSxsJiZsPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKWU9ZVt1XXx8ZTtlbHNle2lmKChyPWlbY10pJiZyWzBdPT09ayYmclsxXT09PXApcmV0dXJuIGFbMl09clsyXTtpZigoaVtjXT1hKVsyXT1zKGUsdCxuKSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24gd2UoaSl7cmV0dXJuIDE8aS5sZW5ndGg/ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWkubGVuZ3RoO3doaWxlKHItLSlpZighaVtyXShlLHQsbikpcmV0dXJuITE7cmV0dXJuITB9OmlbMF19ZnVuY3Rpb24gVGUoZSx0LG4scixpKXtmb3IodmFyIG8sYT1bXSxzPTAsdT1lLmxlbmd0aCxsPW51bGwhPXQ7czx1O3MrKykobz1lW3NdKSYmKG4mJiFuKG8scixpKXx8KGEucHVzaChvKSxsJiZ0LnB1c2gocykpKTtyZXR1cm4gYX1mdW5jdGlvbiBDZShkLGgsZyx2LHksZSl7cmV0dXJuIHYmJiF2W1NdJiYodj1DZSh2KSkseSYmIXlbU10mJih5PUNlKHksZSkpLGxlKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVtdLHU9W10sbD10Lmxlbmd0aCxjPWV8fGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspc2UoZSx0W3JdLG4pO3JldHVybiBufShofHwiKiIsbi5ub2RlVHlwZT9bbl06bixbXSksZj0hZHx8IWUmJmg/YzpUZShjLHMsZCxuLHIpLHA9Zz95fHwoZT9kOmx8fHYpP1tdOnQ6ZjtpZihnJiZnKGYscCxuLHIpLHYpe2k9VGUocCx1KSx2KGksW10sbixyKSxvPWkubGVuZ3RoO3doaWxlKG8tLSkoYT1pW29dKSYmKHBbdVtvXV09IShmW3Vbb11dPWEpKX1pZihlKXtpZih5fHxkKXtpZih5KXtpPVtdLG89cC5sZW5ndGg7d2hpbGUoby0tKShhPXBbb10pJiZpLnB1c2goZltvXT1hKTt5KG51bGwscD1bXSxpLHIpfW89cC5sZW5ndGg7d2hpbGUoby0tKShhPXBbb10pJiYtMTwoaT15P1AoZSxhKTpzW29dKSYmKGVbaV09ISh0W2ldPWEpKX19ZWxzZSBwPVRlKHA9PT10P3Auc3BsaWNlKGwscC5sZW5ndGgpOnApLHk/eShudWxsLHQscCxyKTpILmFwcGx5KHQscCl9KX1mdW5jdGlvbiBFZShlKXtmb3IodmFyIGksdCxuLHI9ZS5sZW5ndGgsbz1iLnJlbGF0aXZlW2VbMF0udHlwZV0sYT1vfHxiLnJlbGF0aXZlWyIgIl0scz1vPzE6MCx1PWJlKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09aX0sYSwhMCksbD1iZShmdW5jdGlvbihlKXtyZXR1cm4tMTxQKGksZSl9LGEsITApLGM9W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj0hbyYmKG58fHQhPT13KXx8KChpPXQpLm5vZGVUeXBlP3UoZSx0LG4pOmwoZSx0LG4pKTtyZXR1cm4gaT1udWxsLHJ9XTtzPHI7cysrKWlmKHQ9Yi5yZWxhdGl2ZVtlW3NdLnR5cGVdKWM9W2JlKHdlKGMpLHQpXTtlbHNle2lmKCh0PWIuZmlsdGVyW2Vbc10udHlwZV0uYXBwbHkobnVsbCxlW3NdLm1hdGNoZXMpKVtTXSl7Zm9yKG49KytzO248cjtuKyspaWYoYi5yZWxhdGl2ZVtlW25dLnR5cGVdKWJyZWFrO3JldHVybiBDZSgxPHMmJndlKGMpLDE8cyYmeGUoZS5zbGljZSgwLHMtMSkuY29uY2F0KHt2YWx1ZToiICI9PT1lW3MtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZSgkLCIkMSIpLHQsczxuJiZFZShlLnNsaWNlKHMsbikpLG48ciYmRWUoZT1lLnNsaWNlKG4pKSxuPHImJnhlKGUpKX1jLnB1c2godCl9cmV0dXJuIHdlKGMpfXJldHVybiBtZS5wcm90b3R5cGU9Yi5maWx0ZXJzPWIucHNldWRvcyxiLnNldEZpbHRlcnM9bmV3IG1lLGg9c2UudG9rZW5pemU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHMsdSxsPXhbZSsiICJdO2lmKGwpcmV0dXJuIHQ/MDpsLnNsaWNlKDApO2E9ZSxzPVtdLHU9Yi5wcmVGaWx0ZXI7d2hpbGUoYSl7Zm9yKG8gaW4gbiYmIShyPV8uZXhlYyhhKSl8fChyJiYoYT1hLnNsaWNlKHJbMF0ubGVuZ3RoKXx8YSkscy5wdXNoKGk9W10pKSxuPSExLChyPXouZXhlYyhhKSkmJihuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpyWzBdLnJlcGxhY2UoJCwiICIpfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSksYi5maWx0ZXIpIShyPUdbb10uZXhlYyhhKSl8fHVbb10mJiEocj11W29dKHIpKXx8KG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOm8sbWF0Y2hlczpyfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSk7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/YS5sZW5ndGg6YT9zZS5lcnJvcihlKTp4KGUscykuc2xpY2UoMCl9LGY9c2UuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHYseSxtLHgscixpPVtdLG89W10sYT1BW2UrIiAiXTtpZighYSl7dHx8KHQ9aChlKSksbj10Lmxlbmd0aDt3aGlsZShuLS0pKGE9RWUodFtuXSkpW1NdP2kucHVzaChhKTpvLnB1c2goYSk7KGE9QShlLCh2PW8sbT0wPCh5PWkpLmxlbmd0aCx4PTA8di5sZW5ndGgscj1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEscyx1PTAsbD0iMCIsYz1lJiZbXSxmPVtdLHA9dyxkPWV8fHgmJmIuZmluZC5UQUcoIioiLGkpLGg9ays9bnVsbD09cD8xOk1hdGgucmFuZG9tKCl8fC4xLGc9ZC5sZW5ndGg7Zm9yKGkmJih3PXQ9PUN8fHR8fGkpO2whPT1nJiZudWxsIT0obz1kW2xdKTtsKyspe2lmKHgmJm8pe2E9MCx0fHxvLm93bmVyRG9jdW1lbnQ9PUN8fChUKG8pLG49IUUpO3doaWxlKHM9dlthKytdKWlmKHMobyx0fHxDLG4pKXtyLnB1c2gobyk7YnJlYWt9aSYmKGs9aCl9bSYmKChvPSFzJiZvKSYmdS0tLGUmJmMucHVzaChvKSl9aWYodSs9bCxtJiZsIT09dSl7YT0wO3doaWxlKHM9eVthKytdKXMoYyxmLHQsbik7aWYoZSl7aWYoMDx1KXdoaWxlKGwtLSljW2xdfHxmW2xdfHwoZltsXT1xLmNhbGwocikpO2Y9VGUoZil9SC5hcHBseShyLGYpLGkmJiFlJiYwPGYubGVuZ3RoJiYxPHUreS5sZW5ndGgmJnNlLnVuaXF1ZVNvcnQocil9cmV0dXJuIGkmJihrPWgsdz1wKSxjfSxtP2xlKHIpOnIpKSkuc2VsZWN0b3I9ZX1yZXR1cm4gYX0sZz1zZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGM9IXImJmgoZT1sLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1jLmxlbmd0aCl7aWYoMjwobz1jWzBdPWNbMF0uc2xpY2UoMCkpLmxlbmd0aCYmIklEIj09PShhPW9bMF0pLnR5cGUmJjk9PT10Lm5vZGVUeXBlJiZFJiZiLnJlbGF0aXZlW29bMV0udHlwZV0pe2lmKCEodD0oYi5maW5kLklEKGEubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtsJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPUcubmVlZHNDb250ZXh0LnRlc3QoZSk/MDpvLmxlbmd0aDt3aGlsZShpLS0pe2lmKGE9b1tpXSxiLnJlbGF0aXZlW3M9YS50eXBlXSlicmVhaztpZigodT1iLmZpbmRbc10pJiYocj11KGEubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSxlZS50ZXN0KG9bMF0udHlwZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoby5zcGxpY2UoaSwxKSwhKGU9ci5sZW5ndGgmJnhlKG8pKSlyZXR1cm4gSC5hcHBseShuLHIpLG47YnJlYWt9fX1yZXR1cm4obHx8ZihlLGMpKShyLHQsIUUsbiwhdHx8ZWUudGVzdChlKSYmeWUodC5wYXJlbnROb2RlKXx8dCksbn0sZC5zb3J0U3RhYmxlPVMuc3BsaXQoIiIpLnNvcnQoRCkuam9pbigiIik9PT1TLGQuZGV0ZWN0RHVwbGljYXRlcz0hIWwsVCgpLGQuc29ydERldGFjaGVkPWNlKGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oQy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGZlKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxkLmF0dHJpYnV0ZXMmJmNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGlucHV0Lz4iLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGZlKCJ2YWx1ZSIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuJiYiaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLGNlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxmZShSLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighbilyZXR1cm4hMD09PWVbdF0/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHNlfShDKTtTLmZpbmQ9ZCxTLmV4cHI9ZC5zZWxlY3RvcnMsUy5leHByWyI6Il09Uy5leHByLnBzZXVkb3MsUy51bmlxdWVTb3J0PVMudW5pcXVlPWQudW5pcXVlU29ydCxTLnRleHQ9ZC5nZXRUZXh0LFMuaXNYTUxEb2M9ZC5pc1hNTCxTLmNvbnRhaW5zPWQuY29udGFpbnMsUy5lc2NhcGVTZWxlY3Rvcj1kLmVzY2FwZTt2YXIgaD1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10saT12b2lkIDAhPT1uO3doaWxlKChlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZSlpZigxPT09ZS5ub2RlVHlwZSl7aWYoaSYmUyhlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LFQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59LGs9Uy5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBBKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX12YXIgTj0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtmdW5jdGlvbiBEKGUsbixyKXtyZXR1cm4gbShuKT9TLmdyZXAoZSxmdW5jdGlvbihlLHQpe3JldHVybiEhbi5jYWxsKGUsdCxlKSE9PXJ9KTpuLm5vZGVUeXBlP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09biE9PXJ9KToic3RyaW5nIiE9dHlwZW9mIG4/Uy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuLTE8aS5jYWxsKG4sZSkhPT1yfSk6Uy5maWx0ZXIobixlLHIpfVMuZmlsdGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10WzBdO3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSwxPT09dC5sZW5ndGgmJjE9PT1yLm5vZGVUeXBlP1MuZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106Uy5maW5kLm1hdGNoZXMoZSxTLmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9KSl9LFMuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLmxlbmd0aCxpPXRoaXM7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayhTKGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZihTLmNvbnRhaW5zKGlbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKG49dGhpcy5wdXNoU3RhY2soW10pLHQ9MDt0PHI7dCsrKVMuZmluZChlLGlbdF0sbik7cmV0dXJuIDE8cj9TLnVuaXF1ZVNvcnQobik6bn0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhEKHRoaXMsZXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhEKHRoaXMsZXx8W10sITApKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFEKHRoaXMsInN0cmluZyI9PXR5cGVvZiBlJiZrLnRlc3QoZSk/UyhlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBqLHE9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoUy5mbi5pbml0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKCFlKXJldHVybiB0aGlzO2lmKG49bnx8aiwic3RyaW5nIj09dHlwZW9mIGUpe2lmKCEocj0iPCI9PT1lWzBdJiYiPiI9PT1lW2UubGVuZ3RoLTFdJiYzPD1lLmxlbmd0aD9bbnVsbCxlLG51bGxdOnEuZXhlYyhlKSl8fCFyWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8bikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoclsxXSl7aWYodD10IGluc3RhbmNlb2YgUz90WzBdOnQsUy5tZXJnZSh0aGlzLFMucGFyc2VIVE1MKHJbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6RSwhMCkpLE4udGVzdChyWzFdKSYmUy5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpbSh0aGlzW3JdKT90aGlzW3JdKHRbcl0pOnRoaXMuYXR0cihyLHRbcl0pO3JldHVybiB0aGlzfXJldHVybihpPUUuZ2V0RWxlbWVudEJ5SWQoclsyXSkpJiYodGhpc1swXT1pLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOm0oZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUoUyk6Uy5tYWtlQXJyYXkoZSx0aGlzKX0pLnByb3RvdHlwZT1TLmZuLGo9UyhFKTt2YXIgTD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxIPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2Z1bmN0aW9uIE8oZSx0KXt3aGlsZSgoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGUpO3JldHVybiBlfVMuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9UyhlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZihTLmNvbnRhaW5zKHRoaXMsdFtlXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXRoaXMubGVuZ3RoLG89W10sYT0ic3RyaW5nIiE9dHlwZW9mIGUmJlMoZSk7aWYoIWsudGVzdChlKSlmb3IoO3I8aTtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYoYT8tMTxhLmluZGV4KG4pOjE9PT1uLm5vZGVUeXBlJiZTLmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtvLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8by5sZW5ndGg/Uy51bmlxdWVTb3J0KG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT8ic3RyaW5nIj09dHlwZW9mIGU/aS5jYWxsKFMoZSksdGhpc1swXSk6aS5jYWxsKHRoaXMsZS5qcXVlcnk/ZVswXTplKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLnVuaXF1ZVNvcnQoUy5tZXJnZSh0aGlzLmdldCgpLFMoZSx0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09ZT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksUy5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBPKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBUKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gVChlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5jb250ZW50RG9jdW1lbnQmJnIoZS5jb250ZW50RG9jdW1lbnQpP2UuY29udGVudERvY3VtZW50OihBKGUsInRlbXBsYXRlIikmJihlPWUuY29udGVudHx8ZSksUy5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX19LGZ1bmN0aW9uKHIsaSl7Uy5mbltyXT1mdW5jdGlvbihlLHQpe3ZhciBuPVMubWFwKHRoaXMsaSxlKTtyZXR1cm4iVW50aWwiIT09ci5zbGljZSgtNSkmJih0PWUpLHQmJiJzdHJpbmciPT10eXBlb2YgdCYmKG49Uy5maWx0ZXIodCxuKSksMTx0aGlzLmxlbmd0aCYmKEhbcl18fFMudW5pcXVlU29ydChuKSxMLnRlc3QocikmJm4ucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUD0vW15ceDIwXHRcclxuXGZdKy9nO2Z1bmN0aW9uIFIoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gTShlKXt0aHJvdyBlfWZ1bmN0aW9uIEkoZSx0LG4scil7dmFyIGk7dHJ5e2UmJm0oaT1lLnByb21pc2UpP2kuY2FsbChlKS5kb25lKHQpLmZhaWwobik6ZSYmbShpPWUudGhlbik/aS5jYWxsKGUsdCxuKTp0LmFwcGx5KHZvaWQgMCxbZV0uc2xpY2UocikpfWNhdGNoKGUpe24uYXBwbHkodm9pZCAwLFtlXSl9fVMuQ2FsbGJhY2tzPWZ1bmN0aW9uKHIpe3ZhciBlLG47cj0ic3RyaW5nIj09dHlwZW9mIHI/KGU9cixuPXt9LFMuZWFjaChlLm1hdGNoKFApfHxbXSxmdW5jdGlvbihlLHQpe25bdF09ITB9KSxuKTpTLmV4dGVuZCh7fSxyKTt2YXIgaSx0LG8sYSxzPVtdLHU9W10sbD0tMSxjPWZ1bmN0aW9uKCl7Zm9yKGE9YXx8ci5vbmNlLG89aT0hMDt1Lmxlbmd0aDtsPS0xKXt0PXUuc2hpZnQoKTt3aGlsZSgrK2w8cy5sZW5ndGgpITE9PT1zW2xdLmFwcGx5KHRbMF0sdFsxXSkmJnIuc3RvcE9uRmFsc2UmJihsPXMubGVuZ3RoLHQ9ITEpfXIubWVtb3J5fHwodD0hMSksaT0hMSxhJiYocz10P1tdOiIiKX0sZj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHMmJih0JiYhaSYmKGw9cy5sZW5ndGgtMSx1LnB1c2godCkpLGZ1bmN0aW9uIG4oZSl7Uy5lYWNoKGUsZnVuY3Rpb24oZSx0KXttKHQpP3IudW5pcXVlJiZmLmhhcyh0KXx8cy5wdXNoKHQpOnQmJnQubGVuZ3RoJiYic3RyaW5nIiE9PXcodCkmJm4odCl9KX0oYXJndW1lbnRzKSx0JiYhaSYmYygpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gUy5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKC0xPChuPVMuaW5BcnJheSh0LHMsbikpKXMuc3BsaWNlKG4sMSksbjw9bCYmbC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlPy0xPFMuaW5BcnJheShlLHMpOjA8cy5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHMmJihzPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT1bXSxzPXQ9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc30sbG9jazpmdW5jdGlvbigpe3JldHVybiBhPXU9W10sdHx8aXx8KHM9dD0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFhfSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiBhfHwodD1bZSwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHUucHVzaCh0KSxpfHxjKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW99fTtyZXR1cm4gZn0sUy5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciBvPVtbIm5vdGlmeSIsInByb2dyZXNzIixTLkNhbGxiYWNrcygibWVtb3J5IiksUy5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLFMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxpPSJwZW5kaW5nIixhPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBpfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudGhlbihudWxsLGUpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGk9YXJndW1lbnRzO3JldHVybiBTLkRlZmVycmVkKGZ1bmN0aW9uKHIpe1MuZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIG49bShpW3RbNF1dKSYmaVt0WzRdXTtzW3RbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9biYmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmbShlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHIubm90aWZ5KS5kb25lKHIucmVzb2x2ZSkuZmFpbChyLnJlamVjdCk6clt0WzBdKyJXaXRoIl0odGhpcyxuP1tlXTphcmd1bWVudHMpfSl9KSxpPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxuLHIpe3ZhciB1PTA7ZnVuY3Rpb24gbChpLG8sYSxzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLGU9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKCEoaTx1KSl7aWYoKGU9YS5hcHBseShuLHIpKT09PW8ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIpO3Q9ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiZlLnRoZW4sbSh0KT9zP3QuY2FsbChlLGwodSxvLFIscyksbCh1LG8sTSxzKSk6KHUrKyx0LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scyksbCh1LG8sUixvLm5vdGlmeVdpdGgpKSk6KGEhPT1SJiYobj12b2lkIDAscj1bZV0pLChzfHxvLnJlc29sdmVXaXRoKShuLHIpKX19LHQ9cz9lOmZ1bmN0aW9uKCl7dHJ5e2UoKX1jYXRjaChlKXtTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJlMuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLHQuc3RhY2tUcmFjZSksdTw9aSsxJiYoYSE9PU0mJihuPXZvaWQgMCxyPVtlXSksby5yZWplY3RXaXRoKG4scikpfX07aT90KCk6KFMuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYodC5zdGFja1RyYWNlPVMuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLEMuc2V0VGltZW91dCh0KSl9fXJldHVybiBTLkRlZmVycmVkKGZ1bmN0aW9uKGUpe29bMF1bM10uYWRkKGwoMCxlLG0ocik/cjpSLGUubm90aWZ5V2l0aCkpLG9bMV1bM10uYWRkKGwoMCxlLG0odCk/dDpSKSksb1syXVszXS5hZGQobCgwLGUsbShuKT9uOk0pKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9TLmV4dGVuZChlLGEpOmF9fSxzPXt9O3JldHVybiBTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPXRbMl0scj10WzVdO2FbdFsxXV09bi5hZGQsciYmbi5hZGQoZnVuY3Rpb24oKXtpPXJ9LG9bMy1lXVsyXS5kaXNhYmxlLG9bMy1lXVszXS5kaXNhYmxlLG9bMF1bMl0ubG9jayxvWzBdWzNdLmxvY2spLG4uYWRkKHRbM10uZmlyZSksc1t0WzBdXT1mdW5jdGlvbigpe3JldHVybiBzW3RbMF0rIldpdGgiXSh0aGlzPT09cz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LHNbdFswXSsiV2l0aCJdPW4uZmlyZVdpdGh9KSxhLnByb21pc2UocyksZSYmZS5jYWxsKHMscyksc30sd2hlbjpmdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHQ9bixyPUFycmF5KHQpLGk9cy5jYWxsKGFyZ3VtZW50cyksbz1TLkRlZmVycmVkKCksYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7clt0XT10aGlzLGlbdF09MTxhcmd1bWVudHMubGVuZ3RoP3MuY2FsbChhcmd1bWVudHMpOmUsLS1ufHxvLnJlc29sdmVXaXRoKHIsaSl9fTtpZihuPD0xJiYoSShlLG8uZG9uZShhKHQpKS5yZXNvbHZlLG8ucmVqZWN0LCFuKSwicGVuZGluZyI9PT1vLnN0YXRlKCl8fG0oaVt0XSYmaVt0XS50aGVuKSkpcmV0dXJuIG8udGhlbigpO3doaWxlKHQtLSlJKGlbdF0sYSh0KSxvLnJlamVjdCk7cmV0dXJuIG8ucHJvbWlzZSgpfX0pO3ZhciBXPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1MuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbihlLHQpe0MuY29uc29sZSYmQy5jb25zb2xlLndhcm4mJmUmJlcudGVzdChlLm5hbWUpJiZDLmNvbnNvbGUud2FybigialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogIitlLm1lc3NhZ2UsZS5zdGFjayx0KX0sUy5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbihlKXtDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSl9O3ZhciBGPVMuRGVmZXJyZWQoKTtmdW5jdGlvbiBCKCl7RS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCKSxDLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEIpLFMucmVhZHkoKX1TLmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBGLnRoZW4oZSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7Uy5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LFMuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS1TLnJlYWR5V2FpdDpTLmlzUmVhZHkpfHwoUy5pc1JlYWR5PSEwKSE9PWUmJjA8LS1TLnJlYWR5V2FpdHx8Ri5yZXNvbHZlV2l0aChFLFtTXSl9fSksUy5yZWFkeS50aGVuPUYudGhlbiwiY29tcGxldGUiPT09RS5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1FLnJlYWR5U3RhdGUmJiFFLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9DLnNldFRpbWVvdXQoUy5yZWFkeSk6KEUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixCKSk7dmFyICQ9ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZigib2JqZWN0Ij09PXcobikpZm9yKHMgaW4gaT0hMCxuKSQoZSx0LHMsbltzXSwhMCxvLGEpO2Vsc2UgaWYodm9pZCAwIT09ciYmKGk9ITAsbShyKXx8KGE9ITApLGwmJihhPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbChTKGUpLG4pfSkpLHQpKWZvcig7czx1O3MrKyl0KGVbc10sbixhP3I6ci5jYWxsKGVbc10scyx0KGVbc10sbikpKTtyZXR1cm4gaT9lOmw/dC5jYWxsKGUpOnU/dChlWzBdLG4pOm99LF89L14tbXMtLyx6PS8tKFthLXpdKS9nO2Z1bmN0aW9uIFUoZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIGUucmVwbGFjZShfLCJtcy0iKS5yZXBsYWNlKHosVSl9dmFyIFY9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfHw5PT09ZS5ub2RlVHlwZXx8IStlLm5vZGVUeXBlfTtmdW5jdGlvbiBHKCl7dGhpcy5leHBhbmRvPVMuZXhwYW5kbytHLnVpZCsrfUcudWlkPTEsRy5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sVihlKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMuY2FjaGUoZSk7aWYoInN0cmluZyI9PXR5cGVvZiB0KWlbWCh0KV09bjtlbHNlIGZvcihyIGluIHQpaVtYKHIpXT10W3JdO3JldHVybiBpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKGUpOmVbdGhpcy5leHBhbmRvXSYmZVt0aGlzLmV4cGFuZG9dW1godCldfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKFgpOih0PVgodCkpaW4gcj9bdF06dC5tYXRjaChQKXx8W10pLmxlbmd0aDt3aGlsZShuLS0pZGVsZXRlIHJbdFtuXV19KHZvaWQgMD09PXR8fFMuaXNFbXB0eU9iamVjdChyKSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGVbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09dCYmIVMuaXNFbXB0eU9iamVjdCh0KX19O3ZhciBZPW5ldyBHLFE9bmV3IEcsSj0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLEs9L1tBLVpdL2c7ZnVuY3Rpb24gWihlLHQsbil7dmFyIHIsaTtpZih2b2lkIDA9PT1uJiYxPT09ZS5ub2RlVHlwZSlpZihyPSJkYXRhLSIrdC5yZXBsYWNlKEssIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihuPWUuZ2V0QXR0cmlidXRlKHIpKSl7dHJ5e249InRydWUiPT09KGk9bil8fCJmYWxzZSIhPT1pJiYoIm51bGwiPT09aT9udWxsOmk9PT0raSsiIj8raTpKLnRlc3QoaSk/SlNPTi5wYXJzZShpKTppKX1jYXRjaChlKXt9US5zZXQoZSx0LG4pfWVsc2Ugbj12b2lkIDA7cmV0dXJuIG59Uy5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIFEuaGFzRGF0YShlKXx8WS5oYXNEYXRhKGUpfSxkYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUS5hY2Nlc3MoZSx0LG4pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7US5yZW1vdmUoZSx0KX0sX2RhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBZLmFjY2VzcyhlLHQsbil9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7WS5yZW1vdmUoZSx0KX19KSxTLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihuLGUpe3ZhciB0LHIsaSxvPXRoaXNbMF0sYT1vJiZvLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09bil7aWYodGhpcy5sZW5ndGgmJihpPVEuZ2V0KG8pLDE9PT1vLm5vZGVUeXBlJiYhWS5nZXQobywiaGFzRGF0YUF0dHJzIikpKXt0PWEubGVuZ3RoO3doaWxlKHQtLSlhW3RdJiYwPT09KHI9YVt0XS5uYW1lKS5pbmRleE9mKCJkYXRhLSIpJiYocj1YKHIuc2xpY2UoNSkpLFoobyxyLGlbcl0pKTtZLnNldChvLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gaX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG4/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7US5zZXQodGhpcyxuKX0pOiQodGhpcyxmdW5jdGlvbihlKXt2YXIgdDtpZihvJiZ2b2lkIDA9PT1lKXJldHVybiB2b2lkIDAhPT0odD1RLmdldChvLG4pKT90OnZvaWQgMCE9PSh0PVoobyxuKSk/dDp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7US5zZXQodGhpcyxuLGUpfSl9LG51bGwsZSwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1EucmVtb3ZlKHRoaXMsZSl9KX19KSxTLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1ZLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPVkuYWNjZXNzKGUsdCxTLm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj1TLnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPVMuX3F1ZXVlSG9va3MoZSx0KTsiaW5wcm9ncmVzcyI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoImZ4Ij09PXQmJm4udW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUsZnVuY3Rpb24oKXtTLmRlcXVldWUoZSx0KX0sbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gWS5nZXQoZSxuKXx8WS5hY2Nlc3MoZSxuLHtlbXB0eTpTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtZLnJlbW92ZShlLFt0KyJxdWV1ZSIsbl0pfSl9KX19KSxTLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24odCxuKXt2YXIgZT0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmKG49dCx0PSJmeCIsZS0tKSxhcmd1bWVudHMubGVuZ3RoPGU/Uy5xdWV1ZSh0aGlzWzBdLHQpOnZvaWQgMD09PW4/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TLnF1ZXVlKHRoaXMsdCxuKTtTLl9xdWV1ZUhvb2tzKHRoaXMsdCksImZ4Ij09PXQmJiJpbnByb2dyZXNzIiE9PWVbMF0mJlMuZGVxdWV1ZSh0aGlzLHQpfSl9LGRlcXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZGVxdWV1ZSh0aGlzLGUpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTEsaT1TLkRlZmVycmVkKCksbz10aGlzLGE9dGhpcy5sZW5ndGgscz1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9OyJzdHJpbmciIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHwiZngiO3doaWxlKGEtLSkobj1ZLmdldChvW2FdLGUrInF1ZXVlSG9va3MiKSkmJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQocykpO3JldHVybiBzKCksaS5wcm9taXNlKHQpfX0pO3ZhciBlZT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSx0ZT1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrZWUrIikoW2EteiVdKikkIiwiaSIpLG5lPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0scmU9RS5kb2N1bWVudEVsZW1lbnQsaWU9ZnVuY3Rpb24oZSl7cmV0dXJuIFMuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfSxvZT17Y29tcG9zZWQ6ITB9O3JlLmdldFJvb3ROb2RlJiYoaWU9ZnVuY3Rpb24oZSl7cmV0dXJuIFMuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHxlLmdldFJvb3ROb2RlKG9lKT09PWUub3duZXJEb2N1bWVudH0pO3ZhciBhZT1mdW5jdGlvbihlLHQpe3JldHVybiJub25lIj09PShlPXR8fGUpLnN0eWxlLmRpc3BsYXl8fCIiPT09ZS5zdHlsZS5kaXNwbGF5JiZpZShlKSYmIm5vbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIpfTtmdW5jdGlvbiBzZShlLHQsbixyKXt2YXIgaSxvLGE9MjAscz1yP2Z1bmN0aW9uKCl7cmV0dXJuIHIuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIFMuY3NzKGUsdCwiIil9LHU9cygpLGw9biYmblszXXx8KFMuY3NzTnVtYmVyW3RdPyIiOiJweCIpLGM9ZS5ub2RlVHlwZSYmKFMuY3NzTnVtYmVyW3RdfHwicHgiIT09bCYmK3UpJiZ0ZS5leGVjKFMuY3NzKGUsdCkpO2lmKGMmJmNbM10hPT1sKXt1Lz0yLGw9bHx8Y1szXSxjPSt1fHwxO3doaWxlKGEtLSlTLnN0eWxlKGUsdCxjK2wpLCgxLW8pKigxLShvPXMoKS91fHwuNSkpPD0wJiYoYT0wKSxjLz1vO2MqPTIsUy5zdHlsZShlLHQsYytsKSxuPW58fFtdfXJldHVybiBuJiYoYz0rY3x8K3V8fDAsaT1uWzFdP2MrKG5bMV0rMSkqblsyXTorblsyXSxyJiYoci51bml0PWwsci5zdGFydD1jLHIuZW5kPWkpKSxpfXZhciB1ZT17fTtmdW5jdGlvbiBsZShlLHQpe2Zvcih2YXIgbixyLGksbyxhLHMsdSxsPVtdLGM9MCxmPWUubGVuZ3RoO2M8ZjtjKyspKHI9ZVtjXSkuc3R5bGUmJihuPXIuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1uJiYobFtjXT1ZLmdldChyLCJkaXNwbGF5Iil8fG51bGwsbFtjXXx8KHIuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09ci5zdHlsZS5kaXNwbGF5JiZhZShyKSYmKGxbY109KHU9YT1vPXZvaWQgMCxhPShpPXIpLm93bmVyRG9jdW1lbnQscz1pLm5vZGVOYW1lLCh1PXVlW3NdKXx8KG89YS5ib2R5LmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudChzKSksdT1TLmNzcyhvLCJkaXNwbGF5Iiksby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pLCJub25lIj09PXUmJih1PSJibG9jayIpLHVlW3NdPXUpKSkpOiJub25lIiE9PW4mJihsW2NdPSJub25lIixZLnNldChyLCJkaXNwbGF5IixuKSkpO2ZvcihjPTA7YzxmO2MrKyludWxsIT1sW2NdJiYoZVtjXS5zdHlsZS5kaXNwbGF5PWxbY10pO3JldHVybiBlfVMuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIGxlKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIGxlKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZT9lP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe2FlKHRoaXMpP1ModGhpcykuc2hvdygpOlModGhpcykuaGlkZSgpfSl9fSk7dmFyIGNlLGZlLHBlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLGRlPS88KFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKS9pLGhlPS9eJHxebW9kdWxlJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaTtjZT1FLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5hcHBlbmRDaGlsZChFLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSwoZmU9RS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGZlLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxmZS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksY2UuYXBwZW5kQ2hpbGQoZmUpLHkuY2hlY2tDbG9uZT1jZS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsY2UuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+Iix5Lm5vQ2xvbmVDaGVja2VkPSEhY2UuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlLGNlLmlubmVySFRNTD0iPG9wdGlvbj48L29wdGlvbj4iLHkub3B0aW9uPSEhY2UubGFzdENoaWxkO3ZhciBnZT17dGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2Z1bmN0aW9uIHZlKGUsdCl7dmFyIG47cmV0dXJuIG49InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8IioiKToidW5kZWZpbmVkIiE9dHlwZW9mIGUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8IioiKTpbXSx2b2lkIDA9PT10fHx0JiZBKGUsdCk/Uy5tZXJnZShbZV0sbik6bn1mdW5jdGlvbiB5ZShlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylZLnNldChlW25dLCJnbG9iYWxFdmFsIiwhdHx8WS5nZXQodFtuXSwiZ2xvYmFsRXZhbCIpKX1nZS50Ym9keT1nZS50Zm9vdD1nZS5jb2xncm91cD1nZS5jYXB0aW9uPWdlLnRoZWFkLGdlLnRoPWdlLnRkLHkub3B0aW9ufHwoZ2Uub3B0Z3JvdXA9Z2Uub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0pO3ZhciBtZT0vPHwmIz9cdys7LztmdW5jdGlvbiB4ZShlLHQsbixyLGkpe2Zvcih2YXIgbyxhLHMsdSxsLGMsZj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxwPVtdLGQ9MCxoPWUubGVuZ3RoO2Q8aDtkKyspaWYoKG89ZVtkXSl8fDA9PT1vKWlmKCJvYmplY3QiPT09dyhvKSlTLm1lcmdlKHAsby5ub2RlVHlwZT9bb106byk7ZWxzZSBpZihtZS50ZXN0KG8pKXthPWF8fGYuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KCJkaXYiKSkscz0oZGUuZXhlYyhvKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSx1PWdlW3NdfHxnZS5fZGVmYXVsdCxhLmlubmVySFRNTD11WzFdK1MuaHRtbFByZWZpbHRlcihvKSt1WzJdLGM9dVswXTt3aGlsZShjLS0pYT1hLmxhc3RDaGlsZDtTLm1lcmdlKHAsYS5jaGlsZE5vZGVzKSwoYT1mLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgcC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUobykpO2YudGV4dENvbnRlbnQ9IiIsZD0wO3doaWxlKG89cFtkKytdKWlmKHImJi0xPFMuaW5BcnJheShvLHIpKWkmJmkucHVzaChvKTtlbHNlIGlmKGw9aWUobyksYT12ZShmLmFwcGVuZENoaWxkKG8pLCJzY3JpcHQiKSxsJiZ5ZShhKSxuKXtjPTA7d2hpbGUobz1hW2MrK10paGUudGVzdChvLnR5cGV8fCIiKSYmbi5wdXNoKG8pfXJldHVybiBmfXZhciBiZT0vXmtleS8sd2U9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFRlPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiBDZSgpe3JldHVybiEwfWZ1bmN0aW9uIEVlKCl7cmV0dXJuITF9ZnVuY3Rpb24gU2UoZSx0KXtyZXR1cm4gZT09PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBFLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7fX0oKT09KCJmb2N1cyI9PT10KX1mdW5jdGlvbiBrZShlLHQsbixyLGksbyl7dmFyIGEscztpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihzIGluInN0cmluZyIhPXR5cGVvZiBuJiYocj1yfHxuLG49dm9pZCAwKSx0KWtlKGUscyxuLHIsdFtzXSxvKTtyZXR1cm4gZX1pZihudWxsPT1yJiZudWxsPT1pPyhpPW4scj1uPXZvaWQgMCk6bnVsbD09aSYmKCJzdHJpbmciPT10eXBlb2Ygbj8oaT1yLHI9dm9pZCAwKTooaT1yLHI9bixuPXZvaWQgMCkpLCExPT09aSlpPUVlO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYoYT1pLChpPWZ1bmN0aW9uKGUpe3JldHVybiBTKCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9Uy5ndWlkKyspKSxlLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9ZnVuY3Rpb24gQWUoZSxpLG8pe28/KFkuc2V0KGUsaSwhMSksUy5ldmVudC5hZGQoZSxpLHtuYW1lc3BhY2U6ITEsaGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdCxuLHI9WS5nZXQodGhpcyxpKTtpZigxJmUuaXNUcmlnZ2VyJiZ0aGlzW2ldKXtpZihyLmxlbmd0aCkoUy5ldmVudC5zcGVjaWFsW2ldfHx7fSkuZGVsZWdhdGVUeXBlJiZlLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2UgaWYocj1zLmNhbGwoYXJndW1lbnRzKSxZLnNldCh0aGlzLGksciksdD1vKHRoaXMsaSksdGhpc1tpXSgpLHIhPT0obj1ZLmdldCh0aGlzLGkpKXx8dD9ZLnNldCh0aGlzLGksITEpOm49e30sciE9PW4pcmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLG4udmFsdWV9ZWxzZSByLmxlbmd0aCYmKFkuc2V0KHRoaXMsaSx7dmFsdWU6Uy5ldmVudC50cmlnZ2VyKFMuZXh0ZW5kKHJbMF0sUy5FdmVudC5wcm90b3R5cGUpLHIuc2xpY2UoMSksdGhpcyl9KSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19KSk6dm9pZCAwPT09WS5nZXQoZSxpKSYmUy5ldmVudC5hZGQoZSxpLENlKX1TLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx2PVkuZ2V0KHQpO2lmKFYodCkpe24uaGFuZGxlciYmKG49KG89bikuaGFuZGxlcixpPW8uc2VsZWN0b3IpLGkmJlMuZmluZC5tYXRjaGVzU2VsZWN0b3IocmUsaSksbi5ndWlkfHwobi5ndWlkPVMuZ3VpZCsrKSwodT12LmV2ZW50cyl8fCh1PXYuZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCkpLChhPXYuaGFuZGxlKXx8KGE9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBTJiZTLmV2ZW50LnRyaWdnZXJlZCE9PWUudHlwZT9TLmV2ZW50LmRpc3BhdGNoLmFwcGx5KHQsYXJndW1lbnRzKTp2b2lkIDB9KSxsPShlPShlfHwiIikubWF0Y2goUCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0pZD1nPShzPVRlLmV4ZWMoZVtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCYmKGY9Uy5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9Uy5ldmVudC5zcGVjaWFsW2RdfHx7fSxjPVMuZXh0ZW5kKHt0eXBlOmQsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJlMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKCIuIil9LG8pLChwPXVbZF0pfHwoKHA9dVtkXT1bXSkuZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJiExIT09Zi5zZXR1cC5jYWxsKHQscixoLGEpfHx0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihkLGEpKSxmLmFkZCYmKGYuYWRkLmNhbGwodCxjKSxjLmhhbmRsZXIuZ3VpZHx8KGMuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLGk/cC5zcGxpY2UocC5kZWxlZ2F0ZUNvdW50KyssMCxjKTpwLnB1c2goYyksUy5ldmVudC5nbG9iYWxbZF09ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx2PVkuaGFzRGF0YShlKSYmWS5nZXQoZSk7aWYodiYmKHU9di5ldmVudHMpKXtsPSh0PSh0fHwiIikubWF0Y2goUCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0paWYoZD1nPShzPVRlLmV4ZWModFtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCl7Zj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LHA9dVtkPShyP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkXXx8W10scz1zWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGE9bz1wLmxlbmd0aDt3aGlsZShvLS0pYz1wW29dLCFpJiZnIT09Yy5vcmlnVHlwZXx8biYmbi5ndWlkIT09Yy5ndWlkfHxzJiYhcy50ZXN0KGMubmFtZXNwYWNlKXx8ciYmciE9PWMuc2VsZWN0b3ImJigiKioiIT09cnx8IWMuc2VsZWN0b3IpfHwocC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZwLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTthJiYhcC5sZW5ndGgmJihmLnRlYXJkb3duJiYhMSE9PWYudGVhcmRvd24uY2FsbChlLGgsdi5oYW5kbGUpfHxTLnJlbW92ZUV2ZW50KGUsZCx2LmhhbmRsZSksZGVsZXRlIHVbZF0pfWVsc2UgZm9yKGQgaW4gdSlTLmV2ZW50LnJlbW92ZShlLGQrdFtsXSxuLHIsITApO1MuaXNFbXB0eU9iamVjdCh1KSYmWS5yZW1vdmUoZSwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHM9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHU9Uy5ldmVudC5maXgoZSksbD0oWS5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3UudHlwZV18fFtdLGM9Uy5ldmVudC5zcGVjaWFsW3UudHlwZV18fHt9O2ZvcihzWzBdPXUsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspc1t0XT1hcmd1bWVudHNbdF07aWYodS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHUpKXthPVMuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHUsbCksdD0wO3doaWxlKChpPWFbdCsrXSkmJiF1LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3UuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiF1LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpdS5ybmFtZXNwYWNlJiYhMSE9PW8ubmFtZXNwYWNlJiYhdS5ybmFtZXNwYWNlLnRlc3Qoby5uYW1lc3BhY2UpfHwodS5oYW5kbGVPYmo9byx1LmRhdGE9by5kYXRhLHZvaWQgMCE9PShyPSgoUy5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSxzKSkmJiExPT09KHUucmVzdWx0PXIpJiYodS5wcmV2ZW50RGVmYXVsdCgpLHUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyx1KSx1LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPFMoaSx0aGlzKS5pbmRleChsKTpTLmZpbmQoaSx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbaV0mJm8ucHVzaChyKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6b30pfXJldHVybiBsPXRoaXMsdTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZSh1KX0pLHN9LGFkZFByb3A6ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoUy5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0Om0oZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW1MuZXhwYW5kb10/ZTpuZXcgUy5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmQWUodCwiY2xpY2siLENlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmQWUodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZZLmdldCh0LCJjbGljayIpfHxBKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxTLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSxTLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgUy5FdmVudCkpcmV0dXJuIG5ldyBTLkV2ZW50KGUsdCk7ZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiYhMT09PWUucmV0dXJuVmFsdWU/Q2U6RWUsdGhpcy50YXJnZXQ9ZS50YXJnZXQmJjM9PT1lLnRhcmdldC5ub2RlVHlwZT9lLnRhcmdldC5wYXJlbnROb2RlOmUudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1lLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWUucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWUsdCYmUy5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW1MuZXhwYW5kb109ITB9LFMuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpFZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpFZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpFZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1DZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1DZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Q2UsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LFMuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihlKXt2YXIgdD1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmYmUudGVzdChlLnR5cGUpP251bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGU6IWUud2hpY2gmJnZvaWQgMCE9PXQmJndlLnRlc3QoZS50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOmUud2hpY2h9fSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIEFlKHRoaXMsZSxTZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gQWUodGhpcyxlKSwhMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGtlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4ga2UodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49RWUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIE5lPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLERlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGplPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBxZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIExlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gSGUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIE9lKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gUGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZEZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksUGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksTGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLEhlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShqZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gUmUoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylPZShvW3JdLGFbcl0pO2Vsc2UgT2UoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBSZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIFJlKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gUGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fHFlKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBQZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cWUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBQZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBQZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIU5lLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIFBlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgTWU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksSWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxXZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sRmU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBCZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fEllKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmTWUudGVzdChhKSYmRmUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gJGUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4Iix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPTM8cGFyc2VJbnQoci5oZWlnaHQpLHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgX2U9WyJXZWJraXQiLCJNb3oiLCJtcyJdLHplPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsVWU9e307ZnVuY3Rpb24gWGUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8VWVbZV07cmV0dXJuIHR8fChlIGluIHplP2U6VWVbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1fZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPV9lW25dK3QpaW4gemUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVmU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEdlPS9eLS0vLFllPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxRZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gSmUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gS2UoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBaZShlLHQsbil7dmFyIHI9SWUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9QmUoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoTWUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStLZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBldChlLHQsbixyLGkpe3JldHVybiBuZXcgZXQucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPUJlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PUdlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PVhlKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIEdlLnRlc3QodCl8fCh0PVhlKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1CZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBRZSYmKGk9UWVbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVZlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9aZShlLHUsbik6V2UoZSxZZSxmdW5jdGlvbigpe3JldHVybiBaZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPUllKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/S2UoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktS2UoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxKZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD0kZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoQmUoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LVdlKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PUplKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPUllKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49ZXQpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZXQsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9ZXQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOmV0LnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPWV0LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6ZXQucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPWV0LnByb3RvdHlwZSwoZXQucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtYZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPWV0LnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1ldC5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIHR0LG50LHJ0LGl0LG90PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxhdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIHN0KCl7bnQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShzdCk6Qy5zZXRUaW1lb3V0KHN0LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiB1dCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0dD12b2lkIDB9KSx0dD1EYXRlLm5vdygpfWZ1bmN0aW9uIGx0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiBjdChlLHQsbil7Zm9yKHZhciByLGk9KGZ0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGZ0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGZ0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWZ0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9dHR8fHV0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOnR0fHx1dCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWZ0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsY3QsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChmdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sZnQudHdlZW5lcnNbbl09ZnQudHdlZW5lcnNbbl18fFtdLGZ0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0sb3QudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PWN0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9mdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6ZnQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9ZnQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZhdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobHQociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOmx0KCJzaG93Iiksc2xpZGVVcDpsdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOmx0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IodHQ9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSx0dD12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe250fHwobnQ9ITAsc3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe250PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHJ0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpdD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHJ0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT1ydC52YWx1ZSx5Lm9wdFNlbGVjdGVkPWl0LnNlbGVjdGVkLChydD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IixydC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXJ0LnZhbHVlO3ZhciBwdCxkdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP3B0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSkscHQ9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWR0W3RdfHxTLmZpbmQuYXR0cjtkdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZHRbb10sZHRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxkdFtvXT1pKSxyfX0pO3ZhciBodD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGd0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiB2dChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiB5dChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiBtdChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6aHQudGVzdChlLm5vZGVOYW1lKXx8Z3QudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUseXQodGhpcykpKX0pO2lmKChlPW10KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT15dChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIrdnQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9dnQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSx5dCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT1tdCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9eXQobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK3Z0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz12dChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUseXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9bXQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9eXQodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK3Z0KHl0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHh0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh4dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDp2dChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBidD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sd3Q9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFidC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLGJ0LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHd0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx3dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgVHQ9Qy5sb2NhdGlvbixDdD17Z3VpZDpEYXRlLm5vdygpfSxFdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7dD0obmV3IEMuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChlKXt0PXZvaWQgMH1yZXR1cm4gdCYmIXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RofHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIitlKSx0fTt2YXIgU3Q9L1xbXF0kLyxrdD0vXHI/XG4vZyxBdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksTnQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIER0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxTdC50ZXN0KG4pP2kobix0KTpEdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUR0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpRHQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmTnQudGVzdCh0aGlzLm5vZGVOYW1lKSYmIUF0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShrdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2Uoa3QsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIganQ9LyUyMC9nLHF0PS8jLiokLyxMdD0vKFs/Jl0pXz1bXiZdKi8sSHQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxPdD0vXig/OkdFVHxIRUFEKSQvLFB0PS9eXC9cLy8sUnQ9e30sTXQ9e30sSXQ9IiovIi5jb25jYXQoIioiKSxXdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBGdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIEJ0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PU10O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gJHQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfVd0LmhyZWY9VHQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6VHQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChUdC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpJdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/JHQoJHQoZSxTLmFqYXhTZXR0aW5ncyksdCk6JHQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6RnQoUnQpLGFqYXhUcmFuc3BvcnQ6RnQoTXQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1IdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxUdC5ocmVmKSsiIikucmVwbGFjZShQdCxUdC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49V3QucHJvdG9jb2wrIi8vIitXdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLEJ0KFJ0LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IU90LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UocXQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKGp0LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oRXQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoTHQsIiQxIiksbz0oRXQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0N0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK0l0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9QnQoTXQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIF90PXswOjIwMCwxMjIzOjIwNH0senQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhenQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4genQseS5hamF4PXp0PSEhenQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHx6dCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChfdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgVXQsWHQ9W10sVnQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9WHQucG9wKCl8fFMuZXhwYW5kbysiXyIrQ3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVnQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZWdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVnQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KEV0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayxYdC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoVXQ9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1VdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPXZ0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOigibnVtYmVyIj09dHlwZW9mIGYudG9wJiYoZi50b3ArPSJweCIpLCJudW1iZXIiPT10eXBlb2YgZi5sZWZ0JiYoZi5sZWZ0Kz0icHgiKSxjLmNzcyhmKSl9fSxTLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oZSl7Uy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsdCxlKX0pO3ZhciBlLG4scj10aGlzWzBdO3JldHVybiByP3IuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KGU9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyx7dG9wOmUudG9wK24ucGFnZVlPZmZzZXQsbGVmdDplLmxlZnQrbi5wYWdlWE9mZnNldH0pOnt0b3A6MCxsZWZ0OjB9OnZvaWQgMH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG4scj10aGlzWzBdLGk9e3RvcDowLGxlZnQ6MH07aWYoImZpeGVkIj09PVMuY3NzKHIsInBvc2l0aW9uIikpdD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7dD10aGlzLm9mZnNldCgpLG49ci5vd25lckRvY3VtZW50LGU9ci5vZmZzZXRQYXJlbnR8fG4uZG9jdW1lbnRFbGVtZW50O3doaWxlKGUmJihlPT09bi5ib2R5fHxlPT09bi5kb2N1bWVudEVsZW1lbnQpJiYic3RhdGljIj09PVMuY3NzKGUsInBvc2l0aW9uIikpZT1lLnBhcmVudE5vZGU7ZSYmZSE9PXImJjE9PT1lLm5vZGVUeXBlJiYoKGk9UyhlKS5vZmZzZXQoKSkudG9wKz1TLmNzcyhlLCJib3JkZXJUb3BXaWR0aCIsITApLGkubGVmdCs9Uy5jc3MoZSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6dC50b3AtaS50b3AtUy5jc3MociwibWFyZ2luVG9wIiwhMCksbGVmdDp0LmxlZnQtaS5sZWZ0LVMuY3NzKHIsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShlJiYic3RhdGljIj09PVMuY3NzKGUsInBvc2l0aW9uIikpZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8cmV9KX19KSxTLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24odCxpKXt2YXIgbz0icGFnZVlPZmZzZXQiPT09aTtTLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKHgoZSk/cj1lOjk9PT1lLm5vZGVUeXBlJiYocj1lLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT1uKXJldHVybiByP3JbaV06ZVt0XTtyP3Iuc2Nyb2xsVG8obz9yLnBhZ2VYT2Zmc2V0Om4sbz9uOnIucGFnZVlPZmZzZXQpOmVbdF09bn0sdCxlLGFyZ3VtZW50cy5sZW5ndGgpfX0pLFMuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihlLG4pe1MuY3NzSG9va3Nbbl09JGUoeS5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4gdD1CZShlLG4pLE1lLnRlc3QodCk/UyhlKS5wb3NpdGlvbigpW25dKyJweCI6dH0pfSksUy5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxzKXtTLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6cywiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKHIsbyl7Uy5mbltvXT1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBlKSxpPXJ8fCghMD09PWV8fCEwPT09dD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHgoZSk/MD09PW8uaW5kZXhPZigib3V0ZXIiKT9lWyJpbm5lciIrYV06ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWUubm9kZVR5cGU/KHI9ZS5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoZS5ib2R5WyJzY3JvbGwiK2FdLHJbInNjcm9sbCIrYV0sZS5ib2R5WyJvZmZzZXQiK2FdLHJbIm9mZnNldCIrYV0sclsiY2xpZW50IithXSkpOnZvaWQgMD09PW4/Uy5jc3MoZSx0LGkpOlMuc3R5bGUoZSx0LG4saSl9LHMsbj9lOnZvaWQgMCxuKX19KX0pLFMuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGUsdCl7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLFMuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX0saG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9fSksUy5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsbil7Uy5mbltuXT1mdW5jdGlvbihlLHQpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihuLG51bGwsZSx0KTp0aGlzLnRyaWdnZXIobil9fSk7dmFyIEd0PS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZztTLnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxtKGUpKXJldHVybiByPXMuY2FsbChhcmd1bWVudHMsMiksKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KHMuY2FsbChhcmd1bWVudHMpKSl9KS5ndWlkPWUuZ3VpZD1lLmd1aWR8fFMuZ3VpZCsrLGl9LFMuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/Uy5yZWFkeVdhaXQrKzpTLnJlYWR5KCEwKX0sUy5pc0FycmF5PUFycmF5LmlzQXJyYXksUy5wYXJzZUpTT049SlNPTi5wYXJzZSxTLm5vZGVOYW1lPUEsUy5pc0Z1bmN0aW9uPW0sUy5pc1dpbmRvdz14LFMuY2FtZWxDYXNlPVgsUy50eXBlPXcsUy5ub3c9RGF0ZS5ub3csUy5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9Uy50eXBlKGUpO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSxTLnRyaW09ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6KGUrIiIpLnJlcGxhY2UoR3QsIiIpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gU30pO3ZhciBZdD1DLmpRdWVyeSxRdD1DLiQ7cmV0dXJuIFMubm9Db25mbGljdD1mdW5jdGlvbihlKXtyZXR1cm4gQy4kPT09UyYmKEMuJD1RdCksZSYmQy5qUXVlcnk9PT1TJiYoQy5qUXVlcnk9WXQpLFN9LCJ1bmRlZmluZWQiPT10eXBlb2YgZSYmKEMualF1ZXJ5PUMuJD1TKSxTfSk7Cg=="></script>
  <link href="data:text/css,%2Edt%2Dcrosstalk%2Dfade%20%7B%0Aopacity%3A%200%2E2%3B%0A%7D%0Ahtml%20body%20div%2EDTS%20div%2EdataTables%5FscrollBody%20%7B%0Abackground%3A%20none%3B%0A%7D%0A%0Atable%2EdataTable%20%7B%0Adisplay%3A%20table%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewoKLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zOiB1c2luZyBhIGdsb2JhbCBvYmplY3QgRFRXaWRnZXQgc28gdGhhdCBpdCBjYW4gYmUgdXNlZAovLyBpbiBKUygpIGNvZGUsIGUuZy4gZGF0YXRhYmxlKG9wdGlvbnMgPSBsaXN0KGZvbyA9IEpTKCdjb2RlJykpKTsgdW5saWtlIFIncwovLyBkeW5hbWljIHNjb3BpbmcsIHdoZW4gJ2NvZGUnIGlzIGV2YWwoKSdlZCwgSmF2YVNjcmlwdCBkb2VzIG5vdCBrbm93IG9iamVjdHMKLy8gZnJvbSB0aGUgInBhcmVudCBmcmFtZSIsIGUuZy4gSlMoJ0RUV2lkZ2V0Jykgd2lsbCBub3Qgd29yayB1bmxlc3MgaXQgd2FzIG1hZGUKLy8gYSBnbG9iYWwgb2JqZWN0CnZhciBEVFdpZGdldCA9IHt9OwoKLy8gMTIzNDU2NjY2Ljc4OTAgLT4gMTIzLDQ1Niw2NjYuNzg5MAp2YXIgbWFya0ludGVydmFsID0gZnVuY3Rpb24oZCwgZGlnaXRzLCBpbnRlcnZhbCwgbWFyaywgZGVjTWFyaywgcHJlY2lzaW9uKSB7CiAgeCA9IHByZWNpc2lvbiA/IGQudG9QcmVjaXNpb24oZGlnaXRzKSA6IGQudG9GaXhlZChkaWdpdHMpOwogIGlmICghL14tP1tcZC5dKyQvLnRlc3QoeCkpIHJldHVybiB4OwogIHZhciB4diA9IHguc3BsaXQoJy4nKTsKICBpZiAoeHYubGVuZ3RoID4gMikgcmV0dXJuIHg7ICAvLyBzaG91bGQgaGF2ZSBhdCBtb3N0IG9uZSBkZWNpbWFsIHBvaW50CiAgeHZbMF0gPSB4dlswXS5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcQig/PShcXGR7JyArIGludGVydmFsICsgJ30pKyg/IVxcZCkpJywgJ2cnKSwgbWFyayk7CiAgcmV0dXJuIHh2LmpvaW4oZGVjTWFyayk7Cn07CgpEVFdpZGdldC5mb3JtYXRDdXJyZW5jeSA9IGZ1bmN0aW9uKGRhdGEsIGN1cnJlbmN5LCBkaWdpdHMsIGludGVydmFsLCBtYXJrLCBkZWNNYXJrLCBiZWZvcmUpIHsKICB2YXIgZCA9IHBhcnNlRmxvYXQoZGF0YSk7CiAgaWYgKGlzTmFOKGQpKSByZXR1cm4gJyc7CiAgdmFyIHJlcyA9IG1hcmtJbnRlcnZhbChkLCBkaWdpdHMsIGludGVydmFsLCBtYXJrLCBkZWNNYXJrKTsKICByZXMgPSBiZWZvcmUgPyAoL14tLy50ZXN0KHJlcykgPyAnLScgKyBjdXJyZW5jeSArIHJlcy5yZXBsYWNlKC9eLS8sICcnKSA6IGN1cnJlbmN5ICsgcmVzKSA6CiAgICByZXMgKyBjdXJyZW5jeTsKICByZXR1cm4gcmVzOwp9OwoKRFRXaWRnZXQuZm9ybWF0U3RyaW5nID0gZnVuY3Rpb24oZGF0YSwgcHJlZml4LCBzdWZmaXgpIHsKICB2YXIgZCA9IGRhdGE7CiAgaWYgKGQgPT09IG51bGwpIHJldHVybiAnJzsKICByZXR1cm4gcHJlZml4ICsgZCArIHN1ZmZpeDsKfTsKCkRUV2lkZ2V0LmZvcm1hdFBlcmNlbnRhZ2UgPSBmdW5jdGlvbihkYXRhLCBkaWdpdHMsIGludGVydmFsLCBtYXJrLCBkZWNNYXJrKSB7CiAgdmFyIGQgPSBwYXJzZUZsb2F0KGRhdGEpOwogIGlmIChpc05hTihkKSkgcmV0dXJuICcnOwogIHJldHVybiBtYXJrSW50ZXJ2YWwoZCAqIDEwMCwgZGlnaXRzLCBpbnRlcnZhbCwgbWFyaywgZGVjTWFyaykgKyAnJSc7Cn07CgpEVFdpZGdldC5mb3JtYXRSb3VuZCA9IGZ1bmN0aW9uKGRhdGEsIGRpZ2l0cywgaW50ZXJ2YWwsIG1hcmssIGRlY01hcmspIHsKICB2YXIgZCA9IHBhcnNlRmxvYXQoZGF0YSk7CiAgaWYgKGlzTmFOKGQpKSByZXR1cm4gJyc7CiAgcmV0dXJuIG1hcmtJbnRlcnZhbChkLCBkaWdpdHMsIGludGVydmFsLCBtYXJrLCBkZWNNYXJrKTsKfTsKCkRUV2lkZ2V0LmZvcm1hdFNpZ25pZiA9IGZ1bmN0aW9uKGRhdGEsIGRpZ2l0cywgaW50ZXJ2YWwsIG1hcmssIGRlY01hcmspIHsKICB2YXIgZCA9IHBhcnNlRmxvYXQoZGF0YSk7CiAgaWYgKGlzTmFOKGQpKSByZXR1cm4gJyc7CiAgcmV0dXJuIG1hcmtJbnRlcnZhbChkLCBkaWdpdHMsIGludGVydmFsLCBtYXJrLCBkZWNNYXJrLCB0cnVlKTsKfTsKCkRUV2lkZ2V0LmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRhLCBtZXRob2QsIHBhcmFtcykgewogIHZhciBkID0gZGF0YTsKICBpZiAoZCA9PT0gbnVsbCkgcmV0dXJuICcnOwogIC8vIChuZXcgRGF0ZSgnMjAxNS0xMC0yOCcpKS50b0RhdGVTdHJpbmcoKSBtYXkgcmV0dXJuIDIwMTUtMTAtMjcgYmVjYXVzZSB0aGUKICAvLyBhY3R1YWwgdGltZSBjcmVhdGVkIGNvdWxkIGJlIGxpa2UgJ1R1ZSBPY3QgMjcgMjAxNSAxOTowMDowMCBHTVQtMDUwMCAoQ0RUKScsCiAgLy8gaS5lLiB0aGUgZGF0ZS1vbmx5IHN0cmluZyBpcyB0cmVhdGVkIGFzIFVUQyB0aW1lIGluc3RlYWQgb2YgbG9jYWwgdGltZQogIGlmICgobWV0aG9kID09PSAndG9EYXRlU3RyaW5nJyB8fCBtZXRob2QgPT09ICd0b0xvY2FsZURhdGVTdHJpbmcnKSAmJiAvXlxkezQsfVxEXGR7Mn1cRFxkezJ9JC8udGVzdChkKSkgewogICAgZCA9IGQuc3BsaXQoL1xELyk7CiAgICBkID0gbmV3IERhdGUoZFswXSwgZFsxXSAtIDEsIGRbMl0pOwogIH0gZWxzZSB7CiAgICBkID0gbmV3IERhdGUoZCk7CiAgfQogIHJldHVybiBkW21ldGhvZF0uYXBwbHkoZCwgcGFyYW1zKTsKfTsKCndpbmRvdy5EVFdpZGdldCA9IERUV2lkZ2V0OwoKdmFyIHRyYW5zcG9zZUFycmF5MkQgPSBmdW5jdGlvbihhKSB7CiAgcmV0dXJuIGEubGVuZ3RoID09PSAwID8gYSA6IEhUTUxXaWRnZXRzLnRyYW5zcG9zZUFycmF5MkQoYSk7Cn07Cgp2YXIgY3Jvc3N0YWxrUGx1Z2luc0luc3RhbGxlZCA9IGZhbHNlOwoKZnVuY3Rpb24gbWF5YmVJbnN0YWxsQ3Jvc3N0YWxrUGx1Z2lucygpIHsKICBpZiAoY3Jvc3N0YWxrUGx1Z2luc0luc3RhbGxlZCkKICAgIHJldHVybjsKICBjcm9zc3RhbGtQbHVnaW5zSW5zdGFsbGVkID0gdHJ1ZTsKCiAgJC5mbi5kYXRhVGFibGUuZXh0LmFmbkZpbHRlcmluZy5wdXNoKAogICAgZnVuY3Rpb24ob1NldHRpbmdzLCBhRGF0YSwgaURhdGFJbmRleCkgewogICAgICB2YXIgY3RmaWx0ZXIgPSBvU2V0dGluZ3MublRhYmxlLmN0ZmlsdGVyOwogICAgICBpZiAoY3RmaWx0ZXIgJiYgIWN0ZmlsdGVyW2lEYXRhSW5kZXhdKQogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIHZhciBjdHNlbGVjdCA9IG9TZXR0aW5ncy5uVGFibGUuY3RzZWxlY3Q7CiAgICAgIGlmIChjdHNlbGVjdCAmJiAhY3RzZWxlY3RbaURhdGFJbmRleF0pCiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgKTsKfQoKSFRNTFdpZGdldHMud2lkZ2V0KHsKICBuYW1lOiAiZGF0YXRhYmxlcyIsCiAgdHlwZTogIm91dHB1dCIsCiAgcmVuZGVyT25OdWxsVmFsdWU6IHRydWUsCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICQoZWwpLmh0bWwoJyZuYnNwOycpOwogICAgcmV0dXJuIHsKICAgICAgZGF0YTogbnVsbCwKICAgICAgY3RmaWx0ZXJIYW5kbGU6IG5ldyBjcm9zc3RhbGsuRmlsdGVySGFuZGxlKCksCiAgICAgIGN0ZmlsdGVyU3Vic2NyaXB0aW9uOiBudWxsLAogICAgICBjdHNlbGVjdEhhbmRsZTogbmV3IGNyb3NzdGFsay5TZWxlY3Rpb25IYW5kbGUoKSwKICAgICAgY3RzZWxlY3RTdWJzY3JpcHRpb246IG51bGwKICAgIH07CiAgfSwKICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oZWwsIGRhdGEsIGluc3RhbmNlKSB7CiAgICBpZiAoZWwub2Zmc2V0V2lkdGggPT09IDAgfHwgZWwub2Zmc2V0SGVpZ2h0ID09PSAwKSB7CiAgICAgIGluc3RhbmNlLmRhdGEgPSBkYXRhOwogICAgICByZXR1cm47CiAgICB9CiAgICBpbnN0YW5jZS5kYXRhID0gbnVsbDsKICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICRlbC5lbXB0eSgpOwoKICAgIGlmIChkYXRhID09PSBudWxsKSB7CiAgICAgICRlbC5hcHBlbmQoJyZuYnNwOycpOwogICAgICAvLyBjbGVhciBwcmV2aW91cyBTaGlueSBpbnB1dHMgKGlmIGFueSkKICAgICAgZm9yICh2YXIgaSBpbiBpbnN0YW5jZS5jbGVhcklucHV0cykgaW5zdGFuY2UuY2xlYXJJbnB1dHNbaV0oKTsKICAgICAgaW5zdGFuY2UuY2xlYXJJbnB1dHMgPSB7fTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBjcm9zc3RhbGtPcHRpb25zID0gZGF0YS5jcm9zc3RhbGtPcHRpb25zOwogICAgaWYgKCFjcm9zc3RhbGtPcHRpb25zKSBjcm9zc3RhbGtPcHRpb25zID0gewogICAgICAna2V5JzogbnVsbCwgJ2dyb3VwJzogbnVsbAogICAgfTsKICAgIGlmIChjcm9zc3RhbGtPcHRpb25zLmdyb3VwKSB7CiAgICAgIG1heWJlSW5zdGFsbENyb3NzdGFsa1BsdWdpbnMoKTsKICAgICAgaW5zdGFuY2UuY3RmaWx0ZXJIYW5kbGUuc2V0R3JvdXAoY3Jvc3N0YWxrT3B0aW9ucy5ncm91cCk7CiAgICAgIGluc3RhbmNlLmN0c2VsZWN0SGFuZGxlLnNldEdyb3VwKGNyb3NzdGFsa09wdGlvbnMuZ3JvdXApOwogICAgfQoKICAgIC8vIElmIHdlIGFyZSBpbiBhIGZsZXhkYXNoYm9hcmQgc2Nyb2xsIGxheW91dCB0aGVuIHdlOgogICAgLy8gIChhKSBBbHdheXMgd2FudCB0byB1c2UgcGFnaW5hdGlvbiAob3RoZXJ3aXNlIHdlJ2xsIGhhdmUKICAgIC8vICAgICAgYSAiZG91YmxlIHNjcm9sbCBiYXIiIGVmZmVjdCBvbiB0aGUgcGhvbmUpOyBhbmQKICAgIC8vICAoYikgTmV2ZXIgd2FudCB0byBmaWxsIHRoZSBjb250YWluZXIgKHdlIHdhbnQgdGhlIHBhZ2luYXRpb24KICAgIC8vICAgICAgbGV2ZWwgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBjb250YWluZXIpCiAgICBpZiAod2luZG93LkZsZXhEYXNoYm9hcmQgJiYgIXdpbmRvdy5GbGV4RGFzaGJvYXJkLmlzRmlsbFBhZ2UoKSkgewogICAgICBkYXRhLm9wdGlvbnMucGFnaW5nID0gdHJ1ZTsKICAgICAgZGF0YS5maWxsQ29udGFpbmVyID0gZmFsc2U7CiAgICB9CgogICAgLy8gaWYgd2UgYXJlIGluIHRoZSB2aWV3ZXIgdGhlbiB3ZSBhbHdheXMgd2FudCB0byBmaWxsQ29udGFpbmVyIGFuZAogICAgLy8gYW5kIGF1dG9IaWRlTmF2aWdhdGlvbiAodW5sZXNzIHRoZSB1c2VyIGhhcyBleHBsaWNpdGx5IHNldCB0aGVzZSkKICAgIGlmICh3aW5kb3cuSFRNTFdpZGdldHMudmlld2VyTW9kZSkgewogICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoImZpbGxDb250YWluZXIiKSkKICAgICAgICBkYXRhLmZpbGxDb250YWluZXIgPSB0cnVlOwogICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoImF1dG9IaWRlTmF2aWdhdGlvbiIpKQogICAgICAgIGRhdGEuYXV0b0hpZGVOYXZpZ2F0aW9uID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBwcm9wYWdhdGUgZmlsbENvbnRhaW5lciB0byBpbnN0YW5jZSAoc28gd2UgaGF2ZSBpdCBpbiByZXNpemUpCiAgICBpbnN0YW5jZS5maWxsQ29udGFpbmVyID0gZGF0YS5maWxsQ29udGFpbmVyOwoKICAgIHZhciBjZWxscyA9IGRhdGEuZGF0YTsKCiAgICBpZiAoY2VsbHMgaW5zdGFuY2VvZiBBcnJheSkgY2VsbHMgPSB0cmFuc3Bvc2VBcnJheTJEKGNlbGxzKTsKCiAgICAkZWwuYXBwZW5kKGRhdGEuY29udGFpbmVyKTsKICAgIHZhciAkdGFibGUgPSAkZWwuZmluZCgndGFibGUnKTsKICAgIGlmIChkYXRhLmNsYXNzKSAkdGFibGUuYWRkQ2xhc3MoZGF0YS5jbGFzcyk7CiAgICBpZiAoZGF0YS5jYXB0aW9uKSAkdGFibGUucHJlcGVuZChkYXRhLmNhcHRpb24pOwoKICAgIGlmICghZGF0YS5zZWxlY3Rpb24pIGRhdGEuc2VsZWN0aW9uID0gewogICAgICBtb2RlOiAnbm9uZScsIHNlbGVjdGVkOiBudWxsLCB0YXJnZXQ6ICdyb3cnLCBzZWxlY3RhYmxlOiBudWxsCiAgICB9OwogICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSAmJiBkYXRhLnNlbGVjdGlvbi5tb2RlICE9PSAnbm9uZScgJiYKICAgICAgICBkYXRhLnNlbGVjdGlvbi50YXJnZXQgPT09ICdyb3crY29sdW1uJykgewogICAgICBpZiAoJHRhYmxlLmNoaWxkcmVuKCd0Zm9vdCcpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICR0YWJsZS5hcHBlbmQoJCgnPHRmb290PicpKTsKICAgICAgICAkdGFibGUuZmluZCgndGhlYWQgdHInKS5jbG9uZSgpLmFwcGVuZFRvKCR0YWJsZS5maW5kKCd0Zm9vdCcpKTsKICAgICAgfQogICAgfQoKICAgIC8vIGNvbHVtbiBmaWx0ZXJzCiAgICB2YXIgZmlsdGVyUm93OwogICAgc3dpdGNoIChkYXRhLmZpbHRlcikgewogICAgICBjYXNlICd0b3AnOgogICAgICAgICR0YWJsZS5jaGlsZHJlbigndGhlYWQnKS5hcHBlbmQoZGF0YS5maWx0ZXJIVE1MKTsKICAgICAgICBmaWx0ZXJSb3cgPSAkdGFibGUuZmluZCgndGhlYWQgdHI6bGFzdCB0ZCcpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdib3R0b20nOgogICAgICAgIGlmICgkdGFibGUuY2hpbGRyZW4oJ3Rmb290JykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAkdGFibGUuYXBwZW5kKCQoJzx0Zm9vdD4nKSk7CiAgICAgICAgfQogICAgICAgICR0YWJsZS5jaGlsZHJlbigndGZvb3QnKS5wcmVwZW5kKGRhdGEuZmlsdGVySFRNTCk7CiAgICAgICAgZmlsdGVyUm93ID0gJHRhYmxlLmZpbmQoJ3Rmb290IHRyOmZpcnN0IHRkJyk7CiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIG9wdGlvbnMgPSB7IHNlYXJjaERlbGF5OiAxMDAwIH07CiAgICBpZiAoY2VsbHMgIT09IG51bGwpICQuZXh0ZW5kKG9wdGlvbnMsIHsKICAgICAgZGF0YTogY2VsbHMKICAgIH0pOwoKICAgIC8vIG9wdGlvbnMgZm9yIGZpbGxDb250YWluZXIKICAgIHZhciBib290c3RyYXBBY3RpdmUgPSB0eXBlb2YoJC5mbi5wb3BvdmVyKSAhPSAndW5kZWZpbmVkJzsKICAgIGlmIChpbnN0YW5jZS5maWxsQ29udGFpbmVyKSB7CgogICAgICAvLyBmb3JjZSBzY3JvbGxYL3Njcm9sbFkgYW5kIHR1cm4gb2ZmIGF1dG9XaWR0aAogICAgICBvcHRpb25zLnNjcm9sbFggPSB0cnVlOwogICAgICBvcHRpb25zLnNjcm9sbFkgPSAiMTAwcHgiOyAvLyBjYW4gYmUgYW55IHZhbHVlLCB3ZSdsbCBhZGp1c3QgYmVsb3cKCiAgICAgIC8vIGlmIHdlIGFyZW4ndCBwYWdpbmF0aW5nIHRoZW4gbW92ZSBhcm91bmQgdGhlIGluZm8vZmlsdGVyIGNvbnRyb2xzCiAgICAgIC8vIHRvIHNhdmUgc3BhY2UgYXQgdGhlIGJvdHRvbSBhbmQgcmVwaHJhc2UgdGhlIGluZm8gY2FsbGJhY2sKICAgICAgaWYgKGRhdGEub3B0aW9ucy5wYWdpbmcgPT09IGZhbHNlKSB7CgogICAgICAgIC8vIHdlIGtub3cgaG93IHRvIGRvIHRoaXMgY2xlYW5seSBmb3IgYm9vdHN0cmFwLCBub3Qgc28gbXVjaAogICAgICAgIC8vIGZvciBvdGhlciB0aGVtZXMvbGF5b3V0cwogICAgICAgIGlmIChib290c3RyYXBBY3RpdmUpIHsKICAgICAgICAgIG9wdGlvbnMuZG9tID0gIjwncm93JzwnY29sLXNtLTQnaT48J2NvbC1zbS04J2Y+PiIgKwogICAgICAgICAgICAgICAgICAgICAgICAiPCdyb3cnPCdjb2wtc20tMTIndHI+PiI7CiAgICAgICAgfQoKICAgICAgICBvcHRpb25zLmZuSW5mb0NhbGxiYWNrID0gZnVuY3Rpb24ob1NldHRpbmdzLCBpU3RhcnQsIGlFbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpTWF4LCBpVG90YWwsIHNQcmUpIHsKICAgICAgICAgIHJldHVybiBOdW1iZXIoaVRvdGFsKS50b0xvY2FsZVN0cmluZygpICsgIiByZWNvcmRzIjsKICAgICAgICB9OwogICAgICB9CiAgICB9CgogICAgLy8gYXV0byBoaWRlIG5hdmlnYXRpb24gaWYgcmVxdWVzdGVkCiAgICAvLyBOb3RlLCB0aGlzIG9ubHkgd29ya3Mgb24gY2xpZW50LXNpZGUgcHJvY2Vzc2luZyBtb2RlIGFzIG9uIHNlcnZlci1zaWRlLAogICAgLy8gY2VsbHMgKGRhdGEuZGF0YSkgaXMgbnVsbDsgSW4gYWRkaXRpb24sIHdlIHJlcXVpcmUgdGhlIHBhZ2VMZW5ndGggb3B0aW9uCiAgICAvLyBiZWluZyBwcm92aWRlZCBleHBsaWNpdGx5IHRvIGVuYWJsZSB0aGlzLiBEZXNwaXRlIHdlIG1heSBiZSBhYmxlIHRvIGRlZHVjZQogICAgLy8gdGhlIGRlZmF1bHQgdmFsdWUgb2YgcGFnZUxlbmd0aCwgaXQgbWF5IGNvbXBsaWNhdGUgdGhpbmdzIHNvIHdlJ2QgcmF0aGVyCiAgICAvLyBwdXQgdGhpcyByZXNwb25zaWJsaXR5IHRvIHVzZXJzIGFuZCB3YXJuIHRoZW0gb24gdGhlIFIgc2lkZS4KICAgIGlmIChkYXRhLmF1dG9IaWRlTmF2aWdhdGlvbiA9PT0gdHJ1ZSAmJiBkYXRhLm9wdGlvbnMucGFnaW5nICE9PSBmYWxzZSkgewogICAgICAvLyBzdHJpcCBhbGwgbmF2IGlmIGxlbmd0aCA+PSBjZWxscwogICAgICBpZiAoKGNlbGxzIGluc3RhbmNlb2YgQXJyYXkpICYmIGRhdGEub3B0aW9ucy5wYWdlTGVuZ3RoID49IGNlbGxzLmxlbmd0aCkKICAgICAgICBvcHRpb25zLmRvbSA9IGJvb3RzdHJhcEFjdGl2ZSA/ICI8J3Jvdyc8J2NvbC1zbS0xMid0cj4+IiA6ICJ0IjsKICAgICAgLy8gYWx0ZXJuYXRpdmVseSBsZWFuIHRoaW5ncyBvdXQgZm9yIGZsZXhkYXNoYm9hcmQgbW9iaWxlIHBvcnRyYWl0CiAgICAgIGVsc2UgaWYgKGJvb3RzdHJhcEFjdGl2ZSAmJiB3aW5kb3cuRmxleERhc2hib2FyZCAmJiB3aW5kb3cuRmxleERhc2hib2FyZC5pc01vYmlsZVBob25lKCkpCiAgICAgICAgb3B0aW9ucy5kb20gPSAiPCdyb3cnPCdjb2wtc20tMTInZj4+IiArCiAgICAgICAgICAgICAgICAgICAgICAiPCdyb3cnPCdjb2wtc20tMTIndHI+PiIgICsKICAgICAgICAgICAgICAgICAgICAgICI8J3Jvdyc8J2NvbC1zbS0xMidwPj4iOwogICAgfQoKICAgICQuZXh0ZW5kKHRydWUsIG9wdGlvbnMsIGRhdGEub3B0aW9ucyB8fCB7fSk7CgogICAgdmFyIHNlYXJjaENvbHMgPSBvcHRpb25zLnNlYXJjaENvbHM7CiAgICBpZiAoc2VhcmNoQ29scykgewogICAgICBzZWFyY2hDb2xzID0gc2VhcmNoQ29scy5tYXAoZnVuY3Rpb24oeCkgewogICAgICAgIHJldHVybiB4ID09PSBudWxsID8gJycgOiB4LnNlYXJjaDsKICAgICAgfSk7CiAgICAgIC8vIEZJWE1FOiB0aGlzIG1lYW5zIEkgZG9uJ3QgcmVzcGVjdCB0aGUgZXNjYXBlUmVnZXggc2V0dGluZwogICAgICBkZWxldGUgb3B0aW9ucy5zZWFyY2hDb2xzOwogICAgfQoKICAgIC8vIHNlcnZlci1zaWRlIHByb2Nlc3Npbmc/CiAgICB2YXIgc2VydmVyID0gb3B0aW9ucy5zZXJ2ZXJTaWRlID09PSB0cnVlOwoKICAgIC8vIHVzZSB0aGUgZGF0YVNyYyBmdW5jdGlvbiB0byBwcmUtcHJvY2VzcyBKU09OIGRhdGEgcmV0dXJuZWQgZnJvbSBSCiAgICB2YXIgRFRfcm93c19hbGwgPSBbXSwgRFRfcm93c19jdXJyZW50ID0gW107CiAgICBpZiAoc2VydmVyICYmIEhUTUxXaWRnZXRzLnNoaW55TW9kZSAmJiB0eXBlb2Ygb3B0aW9ucy5hamF4ID09PSAnb2JqZWN0JyAmJgogICAgICAgIC9ec2Vzc2lvblwvW1xkYS16XStcL2RhdGFvYmovLnRlc3Qob3B0aW9ucy5hamF4LnVybCkgJiYgIW9wdGlvbnMuYWpheC5kYXRhU3JjKSB7CiAgICAgIG9wdGlvbnMuYWpheC5kYXRhU3JjID0gZnVuY3Rpb24oanNvbikgewogICAgICAgIERUX3Jvd3NfYWxsID0gJC5tYWtlQXJyYXkoanNvbi5EVF9yb3dzX2FsbCk7CiAgICAgICAgRFRfcm93c19jdXJyZW50ID0gJC5tYWtlQXJyYXkoanNvbi5EVF9yb3dzX2N1cnJlbnQpOwogICAgICAgIHZhciBkYXRhID0ganNvbi5kYXRhOwogICAgICAgIGlmICghY29sUmVvcmRlckVuYWJsZWQoKSkgcmV0dXJuIGRhdGE7CiAgICAgICAgdmFyIHRhYmxlID0gJHRhYmxlLkRhdGFUYWJsZSgpLCBvcmRlciA9IHRhYmxlLmNvbFJlb3JkZXIub3JkZXIoKSwgZmxhZyA9IHRydWUsIGksIGosIHJvdzsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyArK2kpIGlmIChvcmRlcltpXSAhPT0gaSkgZmxhZyA9IGZhbHNlOwogICAgICAgIGlmIChmbGFnKSByZXR1cm4gZGF0YTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkgewogICAgICAgICAgcm93ID0gZGF0YVtpXS5zbGljZSgpOwogICAgICAgICAgZm9yIChqID0gMDsgaiA8IG9yZGVyLmxlbmd0aDsgKytqKSBkYXRhW2ldW2pdID0gcm93W29yZGVyW2pdXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH07CiAgICB9CgogICAgdmFyIHRoaXogPSB0aGlzOwogICAgaWYgKGluc3RhbmNlLmZpbGxDb250YWluZXIpICR0YWJsZS5vbignaW5pdC5kdCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgdGhpei5maWxsQXZhaWxhYmxlSGVpZ2h0KGVsLCAkKGVsKS5pbm5lckhlaWdodCgpKTsKICAgIH0pOwogICAgLy8gSWYgdGhlIHBhZ2UgY29udGFpbnMgc2VydmVyYWwgZGF0YXRhYmxlcyBhbmQgb25lIG9mIHdoaWNoIGVuYWJsZXMgY29sUmVvcmRlciwKICAgIC8vIHRoZSB0YWJsZS5jb2xSZW9yZGVyLm9yZGVyKCkgZnVuY3Rpb24gd2lsbCBleGlzdCBidXQgdGhyb3dzIGVycm9yIHdoZW4gY2FsbGVkLgogICAgLy8gU28gaXQgc2VlbXMgbGlrZSB0aGUgb25seSB3YXkgdG8ga25vdyBpZiBjb2xSZW9yZGVyIGlzIGVuYWJsZWQgb3Igbm90IGlzIHRvCiAgICAvLyBjaGVjayB0aGUgb3B0aW9ucy4KICAgIHZhciBjb2xSZW9yZGVyRW5hYmxlZCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gImNvbFJlb3JkZXIiIGluIG9wdGlvbnM7IH07CiAgICB2YXIgdGFibGUgPSAkdGFibGUuRGF0YVRhYmxlKG9wdGlvbnMpOwogICAgJGVsLmRhdGEoJ2RhdGF0YWJsZScsIHRhYmxlKTsKCiAgICAvLyBVbnJlZ2lzdGVyIHByZXZpb3VzIENyb3NzdGFsayBldmVudCBzdWJzY3JpcHRpb25zLCBpZiB0aGV5IGV4aXN0CiAgICBpZiAoaW5zdGFuY2UuY3RmaWx0ZXJTdWJzY3JpcHRpb24pIHsKICAgICAgaW5zdGFuY2UuY3RmaWx0ZXJIYW5kbGUub2ZmKCJjaGFuZ2UiLCBpbnN0YW5jZS5jdGZpbHRlclN1YnNjcmlwdGlvbik7CiAgICAgIGluc3RhbmNlLmN0ZmlsdGVyU3Vic2NyaXB0aW9uID0gbnVsbDsKICAgIH0KICAgIGlmIChpbnN0YW5jZS5jdHNlbGVjdFN1YnNjcmlwdGlvbikgewogICAgICBpbnN0YW5jZS5jdHNlbGVjdEhhbmRsZS5vZmYoImNoYW5nZSIsIGluc3RhbmNlLmN0c2VsZWN0U3Vic2NyaXB0aW9uKTsKICAgICAgaW5zdGFuY2UuY3RzZWxlY3RTdWJzY3JpcHRpb24gPSBudWxsOwogICAgfQoKICAgIGlmICghY3Jvc3N0YWxrT3B0aW9ucy5ncm91cCkgewogICAgICAkdGFibGVbMF0uY3RmaWx0ZXIgPSBudWxsOwogICAgICAkdGFibGVbMF0uY3RzZWxlY3QgPSBudWxsOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGtleSA9IGNyb3NzdGFsa09wdGlvbnMua2V5OwogICAgICBmdW5jdGlvbiBrZXlzVG9NYXRjaGVzKGtleXMpIHsKICAgICAgICBpZiAoIWtleXMpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzID0ge307CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc2VsZWN0ZWRLZXlzW2tleXNbaV1dID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBtYXRjaGVzID0ge307CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAoc2VsZWN0ZWRLZXlzW2tleVtqXV0pCiAgICAgICAgICAgICAgbWF0Y2hlc1tqXSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbWF0Y2hlczsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFwcGx5Q3Jvc3N0YWxrRmlsdGVyKGUpIHsKICAgICAgICAkdGFibGVbMF0uY3RmaWx0ZXIgPSBrZXlzVG9NYXRjaGVzKGUudmFsdWUpOwogICAgICAgIHRhYmxlLmRyYXcoKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5jdGZpbHRlclN1YnNjcmlwdGlvbiA9IGluc3RhbmNlLmN0ZmlsdGVySGFuZGxlLm9uKCJjaGFuZ2UiLCBhcHBseUNyb3NzdGFsa0ZpbHRlcik7CiAgICAgIGFwcGx5Q3Jvc3N0YWxrRmlsdGVyKHt2YWx1ZTogaW5zdGFuY2UuY3RmaWx0ZXJIYW5kbGUuZmlsdGVyZWRLZXlzfSk7CgogICAgICBmdW5jdGlvbiBhcHBseUNyb3NzdGFsa1NlbGVjdGlvbihlKSB7CiAgICAgICAgaWYgKGUuc2VuZGVyICE9PSBpbnN0YW5jZS5jdHNlbGVjdEhhbmRsZSkgewogICAgICAgICAgdGFibGUKICAgICAgICAgICAgLnJvd3MoJy4nICsgc2VsQ2xhc3MsIHtzZWFyY2g6ICdhcHBsaWVkJ30pCiAgICAgICAgICAgIC5ub2RlcygpCiAgICAgICAgICAgIC50byQoKQogICAgICAgICAgICAucmVtb3ZlQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgaWYgKHNlbGVjdGVkUm93cykKICAgICAgICAgICAgY2hhbmdlSW5wdXQoJ3Jvd3Nfc2VsZWN0ZWQnLCBzZWxlY3RlZFJvd3MoKSwgdm9pZCAwLCB0cnVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChlLnNlbmRlciAhPT0gaW5zdGFuY2UuY3RzZWxlY3RIYW5kbGUgJiYgZS52YWx1ZSAmJiBlLnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgdmFyIG1hdGNoZXMgPSBrZXlzVG9NYXRjaGVzKGUudmFsdWUpOwoKICAgICAgICAgIC8vIHBlcnNpc3RlbnQgc2VsZWN0aW9uIHdpdGggcGxvdGx5ICgmIGxlYWZsZXQpCiAgICAgICAgICB2YXIgY3RPcHRzID0gY3Jvc3N0YWxrLnZhcigicGxvdGx5Q3Jvc3N0YWxrT3B0cyIpLmdldCgpIHx8IHt9OwogICAgICAgICAgaWYgKGN0T3B0cy5wZXJzaXN0ZW50ID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gJC5leHRlbmQobWF0Y2hlcywgJHRhYmxlWzBdLmN0c2VsZWN0KTsKICAgICAgICAgIH0KCiAgICAgICAgICAkdGFibGVbMF0uY3RzZWxlY3QgPSBtYXRjaGVzOwogICAgICAgICAgdGFibGUuZHJhdygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoJHRhYmxlWzBdLmN0c2VsZWN0KSB7CiAgICAgICAgICAgICR0YWJsZVswXS5jdHNlbGVjdCA9IG51bGw7CiAgICAgICAgICAgIHRhYmxlLmRyYXcoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaW5zdGFuY2UuY3RzZWxlY3RTdWJzY3JpcHRpb24gPSBpbnN0YW5jZS5jdHNlbGVjdEhhbmRsZS5vbigiY2hhbmdlIiwgYXBwbHlDcm9zc3RhbGtTZWxlY3Rpb24pOwogICAgICAvLyBUT0RPOiBUaGlzIG5leHQgbGluZSBkb2Vzbid0IHNlZW0gdG8gd29yayB3aGVuIHJlbmRlckRhdGFUYWJsZSBpcyB1c2VkCiAgICAgIGFwcGx5Q3Jvc3N0YWxrU2VsZWN0aW9uKHt2YWx1ZTogaW5zdGFuY2UuY3RzZWxlY3RIYW5kbGUudmFsdWV9KTsKICAgIH0KCiAgICB2YXIgaW5BcnJheSA9IGZ1bmN0aW9uKHZhbCwgYXJyYXkpIHsKICAgICAgcmV0dXJuICQuaW5BcnJheSh2YWwsICQubWFrZUFycmF5KGFycmF5KSkgPiAtMTsKICAgIH07CgogICAgLy8gZW5jb2RlICsgdG8gJTJCIHdoZW4gc2VhcmNoaW5nIGluIHRoZSB0YWJsZSBvbiBzZXJ2ZXIgc2lkZSwgYmVjYXVzZQogICAgLy8gc2hpbnk6OnBhcnNlUXVlcnlTdHJpbmcoKSB0cmVhdHMgKyBhcyBzcGFjZXMsIGFuZCBEYXRhVGFibGVzIGRvZXMgbm90CiAgICAvLyBlbmNvZGUgKyB0byAlMkIgKG9yICUgdG8gJTI1KSB3aGVuIHNlbmRpbmcgdGhlIHJlcXVlc3QKICAgIHZhciBlbmNvZGVfcGx1cyA9IGZ1bmN0aW9uKHgpIHsKICAgICAgcmV0dXJuIHNlcnZlciA/IHgucmVwbGFjZSgvJS9nLCAnJTI1JykucmVwbGFjZSgvXCsvZywgJyUyQicpIDogeDsKICAgIH07CgogICAgLy8gc2VhcmNoIHRoZSBpLXRoIGNvbHVtbgogICAgdmFyIHNlYXJjaENvbHVtbiA9IGZ1bmN0aW9uKGksIHZhbHVlKSB7CiAgICAgIHZhciByZWdleCA9IGZhbHNlLCBjaSA9IHRydWU7CiAgICAgIGlmIChvcHRpb25zLnNlYXJjaCkgewogICAgICAgIHJlZ2V4ID0gb3B0aW9ucy5zZWFyY2gucmVnZXgsCiAgICAgICAgY2kgPSBvcHRpb25zLnNlYXJjaC5jYXNlSW5zZW5zaXRpdmUgIT09IGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0YWJsZS5jb2x1bW4oaSkuc2VhcmNoKGVuY29kZV9wbHVzKHZhbHVlKSwgcmVnZXgsICFyZWdleCwgY2kpOwogICAgfTsKCiAgICBpZiAoZGF0YS5maWx0ZXIgIT09ICdub25lJykgewoKICAgICAgZmlsdGVyUm93LmVhY2goZnVuY3Rpb24oaSwgdGQpIHsKCiAgICAgICAgdmFyICR0ZCA9ICQodGQpLCB0eXBlID0gJHRkLmRhdGEoJ3R5cGUnKSwgZmlsdGVyOwogICAgICAgIHZhciAkaW5wdXQgPSAkdGQuY2hpbGRyZW4oJ2RpdicpLmZpcnN0KCkuY2hpbGRyZW4oJ2lucHV0Jyk7CiAgICAgICAgJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgIXRhYmxlLnNldHRpbmdzKClbMF0uYW9Db2x1bW5zW2ldLmJTZWFyY2hhYmxlIHx8IHR5cGUgPT09ICdkaXNhYmxlZCcpOwogICAgICAgICRpbnB1dC5vbignaW5wdXQgYmx1cicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgJGlucHV0Lm5leHQoJ3NwYW4nKS50b2dnbGUoQm9vbGVhbigkaW5wdXQudmFsKCkpKTsKICAgICAgICB9KTsKICAgICAgICAvLyBCb290c3RyYXAgc2V0cyBwb2ludGVyLWV2ZW50cyB0byBub25lIGFuZCB3ZSB3b24ndCBiZSBhYmxlIHRvIGNsaWNrCiAgICAgICAgLy8gdGhlIGNsZWFyIGJ1dHRvbgogICAgICAgICRpbnB1dC5uZXh0KCdzcGFuJykuY3NzKCdwb2ludGVyLWV2ZW50cycsICdhdXRvJykuaGlkZSgpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgJCh0aGlzKS5oaWRlKCkucHJldignaW5wdXQnKS52YWwoJycpLnRyaWdnZXIoJ2lucHV0JykuZm9jdXMoKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgc2VhcmNoQ29sOyAgLy8gc2VhcmNoIHN0cmluZyBmb3IgdGhpcyBjb2x1bW4KICAgICAgICBpZiAoc2VhcmNoQ29scyAmJiBzZWFyY2hDb2xzW2ldKSB7CiAgICAgICAgICBzZWFyY2hDb2wgPSBzZWFyY2hDb2xzW2ldOwogICAgICAgICAgJGlucHV0LnZhbChzZWFyY2hDb2wpLnRyaWdnZXIoJ2lucHV0Jyk7CiAgICAgICAgfQogICAgICAgIHZhciAkeCA9ICR0ZC5jaGlsZHJlbignZGl2JykubGFzdCgpOwoKICAgICAgICAvLyByZW1vdmUgdGhlIG92ZXJmbG93OiBoaWRkZW4gYXR0cmlidXRlIG9mIHRoZSBzY3JvbGxIZWFkCiAgICAgICAgLy8gKG90aGVyd2lzZSB0aGUgc2Nyb2xsaW5nIHRhYmxlIGJvZHkgb2JzY3VyZXMgdGhlIGZpbHRlcnMpCiAgICAgICAgLy8gVGhlIHdvcmthcm91bmQgYW5kIHRoZSBkaXNjdXNzaW9uIGZyb20KICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9EVC9pc3N1ZXMvNTU0I2lzc3VlY29tbWVudC01MTgwMDczNDcKICAgICAgICAvLyBPdGhlcndpc2UgdGhlIGZpbHRlciBzZWxlY3Rpb24gd2lsbCBub3QgYmUgYW5jaG9yZWQgdG8gdGhlIHZhbHVlcwogICAgICAgIC8vIHdoZW4gdGhlIGNvbHVtbnMgbnVtYmVyIGlzIG1hbnkgYW5kIHNjcm9sbFggaXMgZW5hYmxlZC4KICAgICAgICB2YXIgc2Nyb2xsSGVhZCA9ICQoZWwpLmZpbmQoJy5kYXRhVGFibGVzX3Njcm9sbEhlYWQsLmRhdGFUYWJsZXNfc2Nyb2xsRm9vdCcpOwogICAgICAgIHZhciBjc3NPdmVyZmxvd0hlYWQgPSBzY3JvbGxIZWFkLmNzcygnb3ZlcmZsb3cnKTsKICAgICAgICB2YXIgc2Nyb2xsQm9keSA9ICQoZWwpLmZpbmQoJy5kYXRhVGFibGVzX3Njcm9sbEJvZHknKTsKICAgICAgICB2YXIgY3NzT3ZlcmZsb3dCb2R5ID0gc2Nyb2xsQm9keS5jc3MoJ292ZXJmbG93Jyk7CiAgICAgICAgdmFyIHNjcm9sbFRhYmxlID0gJChlbCkuZmluZCgnLmRhdGFUYWJsZXNfc2Nyb2xsJyk7CiAgICAgICAgdmFyIGNzc092ZXJmbG93VGFibGUgPSBzY3JvbGxUYWJsZS5jc3MoJ292ZXJmbG93Jyk7CiAgICAgICAgaWYgKGNzc092ZXJmbG93SGVhZCA9PT0gJ2hpZGRlbicpIHsKICAgICAgICAgICR4Lm9uKCdzaG93IGhpZGUnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICdzaG93JykgewogICAgICAgICAgICAgIHNjcm9sbEhlYWQuY3NzKCdvdmVyZmxvdycsICd2aXNpYmxlJyk7CiAgICAgICAgICAgICAgc2Nyb2xsQm9keS5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTsKICAgICAgICAgICAgICBzY3JvbGxUYWJsZS5jc3MoJ292ZXJmbG93LXgnLCAnc2Nyb2xsJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc2Nyb2xsSGVhZC5jc3MoJ292ZXJmbG93JywgY3NzT3ZlcmZsb3dIZWFkKTsKICAgICAgICAgICAgICBzY3JvbGxCb2R5LmNzcygnb3ZlcmZsb3cnLCBjc3NPdmVyZmxvd0JvZHkpOwogICAgICAgICAgICAgIHNjcm9sbFRhYmxlLmNzcygnb3ZlcmZsb3cteCcsIGNzc092ZXJmbG93VGFibGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgICR4LmNzcygnei1pbmRleCcsIDI1KTsKICAgICAgICB9CgogICAgICAgIGlmIChpbkFycmF5KHR5cGUsIFsnZmFjdG9yJywgJ2xvZ2ljYWwnXSkpIHsKICAgICAgICAgICRpbnB1dC5vbih7CiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAkaW5wdXQucGFyZW50KCkuaGlkZSgpOyAkeC5zaG93KCkudHJpZ2dlcignc2hvdycpOyBmaWx0ZXJbMF0uc2VsZWN0aXplLmZvY3VzKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBpZiAoJGlucHV0LnZhbCgpID09PSAnJykgZmlsdGVyWzBdLnNlbGVjdGl6ZS5zZXRWYWx1ZShbXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyICRpbnB1dDIgPSAkeC5jaGlsZHJlbignc2VsZWN0Jyk7CiAgICAgICAgICBmaWx0ZXIgPSAkaW5wdXQyLnNlbGVjdGl6ZSh7CiAgICAgICAgICAgIG9wdGlvbnM6ICRpbnB1dDIuZGF0YSgnb3B0aW9ucycpLm1hcChmdW5jdGlvbih2LCBpKSB7CiAgICAgICAgICAgICAgcmV0dXJuICh7dGV4dDogdiwgdmFsdWU6IHZ9KTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHBsdWdpbnM6IFsncmVtb3ZlX2J1dHRvbiddLAogICAgICAgICAgICBoaWRlU2VsZWN0ZWQ6IHRydWUsCiAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgdmFsdWUgPSBbXTsgLy8gY29tcGF0aWJpbGl0eSB3aXRoIGpRdWVyeSAzLjAKICAgICAgICAgICAgICAkaW5wdXQudmFsKHZhbHVlLmxlbmd0aCA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6ICcnKTsKICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSAkaW5wdXQudHJpZ2dlcignaW5wdXQnKTsKICAgICAgICAgICAgICAkaW5wdXQuYXR0cigndGl0bGUnLCAkaW5wdXQudmFsKCkpOwogICAgICAgICAgICAgIGlmIChzZXJ2ZXIpIHsKICAgICAgICAgICAgICAgIHRhYmxlLmNvbHVtbihpKS5zZWFyY2godmFsdWUubGVuZ3RoID8gZW5jb2RlX3BsdXMoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSA6ICcnKS5kcmF3KCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIHR1cm4gb2ZmIGZpbHRlciBpZiBub3RoaW5nIHNlbGVjdGVkCiAgICAgICAgICAgICAgJHRkLmRhdGEoJ2ZpbHRlcicsIHZhbHVlLmxlbmd0aCA+IDApOwogICAgICAgICAgICAgIHRhYmxlLmRyYXcoKTsgIC8vIHJlZHJhdyB0YWJsZSwgYW5kIGZpbHRlcnMgd2lsbCBiZSBhcHBsaWVkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHNlYXJjaENvbCkgZmlsdGVyWzBdLnNlbGVjdGl6ZS5zZXRWYWx1ZShKU09OLnBhcnNlKHNlYXJjaENvbCkpOwogICAgICAgICAgZmlsdGVyWzBdLnNlbGVjdGl6ZS5vbignYmx1cicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkeC5oaWRlKCkudHJpZ2dlcignaGlkZScpOyAkaW5wdXQucGFyZW50KCkuc2hvdygpOyAkaW5wdXQudHJpZ2dlcignYmx1cicpOwogICAgICAgICAgfSk7CiAgICAgICAgICBmaWx0ZXIubmV4dCgnZGl2JykuY3NzKCdtYXJnaW4tYm90dG9tJywgJ2F1dG8nKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjaGFyYWN0ZXInKSB7CiAgICAgICAgICB2YXIgZnVuID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNlYXJjaENvbHVtbihpLCAkaW5wdXQudmFsKCkpLmRyYXcoKTsKICAgICAgICAgIH07CiAgICAgICAgICBpZiAoc2VydmVyKSB7CiAgICAgICAgICAgIGZ1biA9ICQuZm4uZGF0YVRhYmxlLnV0aWwudGhyb3R0bGUoZnVuLCBvcHRpb25zLnNlYXJjaERlbGF5KTsKICAgICAgICAgIH0KICAgICAgICAgICRpbnB1dC5vbignaW5wdXQnLCBmdW4pOwogICAgICAgIH0gZWxzZSBpZiAoaW5BcnJheSh0eXBlLCBbJ251bWJlcicsICdpbnRlZ2VyJywgJ2RhdGUnLCAndGltZSddKSkgewogICAgICAgICAgdmFyICR4MCA9ICR4OwogICAgICAgICAgJHggPSAkeDAuY2hpbGRyZW4oJ2RpdicpLmZpcnN0KCk7CiAgICAgICAgICAkeDAuY3NzKHsKICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAnI2ZmZicsCiAgICAgICAgICAgICdib3JkZXInOiAnMXB4ICNkZGQgc29saWQnLAogICAgICAgICAgICAnYm9yZGVyLXJhZGl1cyc6ICc0cHgnLAogICAgICAgICAgICAncGFkZGluZyc6ICcyMHB4IDIwcHggMTBweCAyMHB4JwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgJHNwYW5zID0gJHgwLmNoaWxkcmVuKCdzcGFuJykuY3NzKHsKICAgICAgICAgICAgJ21hcmdpbi10b3AnOiAnMTBweCcsCiAgICAgICAgICAgICd3aGl0ZS1zcGFjZSc6ICdub3dyYXAnCiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciAkc3BhbjEgPSAkc3BhbnMuZmlyc3QoKSwgJHNwYW4yID0gJHNwYW5zLmxhc3QoKTsKICAgICAgICAgIHZhciByMSA9ICskeC5kYXRhKCdtaW4nKSwgcjIgPSArJHguZGF0YSgnbWF4Jyk7CiAgICAgICAgICAvLyB3aGVuIHRoZSBudW1iZXJzIGFyZSB0b28gc21hbGwgb3IgaGF2ZSBtYW55IGRlY2ltYWwgcGxhY2VzLCB0aGUKICAgICAgICAgIC8vIHNsaWRlciBtYXkgaGF2ZSBudW1lcmljIHByZWNpc2lvbiBwcm9ibGVtcyAoIzE1MCkKICAgICAgICAgIHZhciBzY2FsZSA9IE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCArJHguZGF0YSgnc2NhbGUnKSB8fCAwKSk7CiAgICAgICAgICByMSA9IE1hdGgucm91bmQocjEgKiBzY2FsZSk7IHIyID0gTWF0aC5yb3VuZChyMiAqIHNjYWxlKTsKICAgICAgICAgIHZhciBzY2FsZUJhY2sgPSBmdW5jdGlvbih4LCBzY2FsZSkgewogICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHJldHVybiB4OwogICAgICAgICAgICB2YXIgZCA9IE1hdGgucm91bmQoTWF0aC5sb2coc2NhbGUpIC8gTWF0aC5sb2coMTApKTsKICAgICAgICAgICAgLy8gdG8gYXZvaWQgcHJvYmxlbXMgbGlrZSAzLjQyMy8xMDAgLT4gMC4wMzQyMzAwMDAwMDAwMDAwMDMKICAgICAgICAgICAgcmV0dXJuICh4IC8gc2NhbGUpLnRvRml4ZWQoZCk7CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHNsaWRlcl9taW4gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5ub1VpU2xpZGVyKCdvcHRpb25zJykucmFuZ2UubWluOwogICAgICAgICAgfTsKICAgICAgICAgIHZhciBzbGlkZXJfbWF4ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBmaWx0ZXIubm9VaVNsaWRlcignb3B0aW9ucycpLnJhbmdlLm1heDsKICAgICAgICAgIH07CiAgICAgICAgICAkaW5wdXQub24oewogICAgICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgJHgwLnNob3coKS50cmlnZ2VyKCdzaG93Jyk7CiAgICAgICAgICAgICAgLy8gZmlyc3QsIG1ha2Ugc3VyZSB0aGUgc2xpZGVyIGRpdiBsZWF2ZXMgYXQgbGVhc3QgMjBweCBiZXR3ZWVuCiAgICAgICAgICAgICAgLy8gdGhlIHR3byAoc2xpZGVyIHZhbHVlKSBzcGFuJ3MKICAgICAgICAgICAgICAkeDAud2lkdGgoTWF0aC5tYXgoMTYwLCAkc3BhbjEub3V0ZXJXaWR0aCgpICsgJHNwYW4yLm91dGVyV2lkdGgoKSArIDIwKSk7CiAgICAgICAgICAgICAgLy8gdGhlbiwgaWYgdGhlIGlucHV0IGlzIHJlYWxseSB3aWRlLCBtYWtlIHRoZSBzbGlkZXIgdGhlIHNhbWUKICAgICAgICAgICAgICAvLyB3aWR0aCBhcyB0aGUgaW5wdXQKICAgICAgICAgICAgICBpZiAoJHgwLm91dGVyV2lkdGgoKSA8ICRpbnB1dC5vdXRlcldpZHRoKCkpIHsKICAgICAgICAgICAgICAgICR4MC5vdXRlcldpZHRoKCRpbnB1dC5vdXRlcldpZHRoKCkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHNsaWRlciBkaXYgZG9lcyBub3QgcmVhY2ggYmV5b25kIHRoZSByaWdodCBtYXJnaW4KICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAkeDAub2Zmc2V0KCkubGVmdCArICR4MC53aWR0aCgpKSB7CiAgICAgICAgICAgICAgICAkeDAub2Zmc2V0KHsKICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAkaW5wdXQub2Zmc2V0KCkubGVmdCArICRpbnB1dC5vdXRlcldpZHRoKCkgLSAkeDAub3V0ZXJXaWR0aCgpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJsdXI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICR4MC5oaWRlKCkudHJpZ2dlcignaGlkZScpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgaWYgKCRpbnB1dC52YWwoKSA9PT0gJycpIGZpbHRlci52YWwoW3NsaWRlcl9taW4oKSwgc2xpZGVyX21heCgpXSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdmFyIHYgPSAkaW5wdXQudmFsKCkucmVwbGFjZSgvXHMvZywgJycpOwogICAgICAgICAgICAgIGlmICh2ID09PSAnJykgcmV0dXJuOwogICAgICAgICAgICAgIHYgPSB2LnNwbGl0KCcuLi4nKTsKICAgICAgICAgICAgICBpZiAodi5sZW5ndGggIT09IDIpIHsKICAgICAgICAgICAgICAgICRpbnB1dC5wYXJlbnQoKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh2WzBdID09PSAnJykgdlswXSA9IHNsaWRlcl9taW4oKTsKICAgICAgICAgICAgICBpZiAodlsxXSA9PT0gJycpIHZbMV0gPSBzbGlkZXJfbWF4KCk7CiAgICAgICAgICAgICAgJGlucHV0LnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKTsKICAgICAgICAgICAgICAvLyB0cmVhdCBkYXRlIGFzIFVUQyB0aW1lIGF0IG1pZG5pZ2h0CiAgICAgICAgICAgICAgdmFyIHN0clRpbWUgPSBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgICAgICB2YXIgcyA9IHR5cGUgPT09ICdkYXRlJyA/ICdUMDA6MDA6MDBaJyA6ICcnOwogICAgICAgICAgICAgICAgdmFyIHQgPSBuZXcgRGF0ZSh4ICsgcykuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgLy8gYWRkIDEwIG1pbnV0ZXMgdG8gZGF0ZSBzaW5jZSBpdCBkb2VzIG5vdCBodXJ0IHRoZSBkYXRlLCBhbmQKICAgICAgICAgICAgICAgIC8vIGl0IGhlbHBzIGF2b2lkIHRoZSB0cmlja3kgZmxvYXRpbmcgcG9pbnQgYXJpdGhtZXRpYyBwcm9ibGVtcywKICAgICAgICAgICAgICAgIC8vIGUuZy4gc29tZXRpbWVzIHRoZSBkYXRlIG1heSBiZSBhIGZldyBtaWxsaXNlY29uZHMgZWFybGllcgogICAgICAgICAgICAgICAgLy8gdGhhbiB0aGUgbWlkbmlnaHQgZHVlIHRvIHByZWNpc2lvbiBwcm9ibGVtcyBpbiBub1VpU2xpZGVyCiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2RhdGUnID8gdCArIDM2MDAwMDAgOiB0OwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKGluQXJyYXkodHlwZSwgWydkYXRlJywgJ3RpbWUnXSkpIHsKICAgICAgICAgICAgICAgIHZbMF0gPSBzdHJUaW1lKHZbMF0pOwogICAgICAgICAgICAgICAgdlsxXSA9IHN0clRpbWUodlsxXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh2WzBdICE9IHNsaWRlcl9taW4oKSkgdlswXSAqPSBzY2FsZTsKICAgICAgICAgICAgICBpZiAodlsxXSAhPSBzbGlkZXJfbWF4KCkpIHZbMV0gKj0gc2NhbGU7CiAgICAgICAgICAgICAgZmlsdGVyLnZhbCh2KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGQsIGlzb0ZtdCkgewogICAgICAgICAgICBkID0gc2NhbGVCYWNrKGQsIHNjYWxlKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSByZXR1cm4gZDsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdpbnRlZ2VyJykgcmV0dXJuIHBhcnNlSW50KGQpOwogICAgICAgICAgICB2YXIgeCA9IG5ldyBEYXRlKCtkKTsKICAgICAgICAgICAgdmFyIGZtdCA9ICgnZmlsdGVyRGF0ZUZtdCcgaW4gZGF0YSkgPyBkYXRhLmZpbHRlckRhdGVGbXRbaV0gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgIGlmIChmbXQgIT09IHVuZGVmaW5lZCAmJiBpc29GbXQgPT09IGZhbHNlKSByZXR1cm4geFtmbXQubWV0aG9kXS5hcHBseSh4LCBmbXQucGFyYW1zKTsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkYXRlJykgewogICAgICAgICAgICAgIHZhciBwYWQwID0gZnVuY3Rpb24oeCkgewogICAgICAgICAgICAgICAgcmV0dXJuICgnMCcgKyB4KS5zdWJzdHIoLTIsIDIpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgcmV0dXJuIHguZ2V0VVRDRnVsbFllYXIoKSArICctJyArIHBhZDAoMSArIHguZ2V0VVRDTW9udGgoKSkKICAgICAgICAgICAgICAgICAgICAgICsgJy0nICsgcGFkMCh4LmdldFVUQ0RhdGUoKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIHgudG9JU09TdHJpbmcoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHZhciBvcHRzID0gdHlwZSA9PT0gJ2RhdGUnID8geyBzdGVwOiA2MCAqIDYwICogMTAwMCB9IDoKICAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ2ludGVnZXInID8geyBzdGVwOiAxIH0gOiB7fTsKICAgICAgICAgIGZpbHRlciA9ICR4Lm5vVWlTbGlkZXIoJC5leHRlbmQoewogICAgICAgICAgICBzdGFydDogW3IxLCByMl0sCiAgICAgICAgICAgIHJhbmdlOiB7bWluOiByMSwgbWF4OiByMn0sCiAgICAgICAgICAgIGNvbm5lY3Q6IHRydWUKICAgICAgICAgIH0sIG9wdHMpKTsKICAgICAgICAgIGlmIChzY2FsZSA+IDEpIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHQxID0gcjEsIHQyID0gcjI7CiAgICAgICAgICAgIHZhciB2YWwgPSBmaWx0ZXIudmFsKCk7CiAgICAgICAgICAgIHdoaWxlICh2YWxbMF0gPiByMSB8fCB2YWxbMV0gPCByMikgewogICAgICAgICAgICAgIGlmICh2YWxbMF0gPiByMSkgewogICAgICAgICAgICAgICAgdDEgLT0gdmFsWzBdIC0gcjE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh2YWxbMV0gPCByMikgewogICAgICAgICAgICAgICAgdDIgKz0gcjIgLSB2YWxbMV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGZpbHRlciA9ICR4Lm5vVWlTbGlkZXIoJC5leHRlbmQoewogICAgICAgICAgICAgICAgc3RhcnQ6IFt0MSwgdDJdLAogICAgICAgICAgICAgICAgcmFuZ2U6IHttaW46IHQxLCBtYXg6IHQyfSwKICAgICAgICAgICAgICAgIGNvbm5lY3Q6IHRydWUKICAgICAgICAgICAgICB9LCBvcHRzKSwgdHJ1ZSk7CiAgICAgICAgICAgICAgdmFsID0gZmlsdGVyLnZhbCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHIxICA9IHQxOyByMiA9IHQyOwogICAgICAgICAgfSkoKTsKICAgICAgICAgIHZhciB1cGRhdGVTbGlkZXJUZXh0ID0gZnVuY3Rpb24odjEsIHYyKSB7CiAgICAgICAgICAgICRzcGFuMS50ZXh0KGZvcm1hdERhdGUodjEsIGZhbHNlKSk7ICRzcGFuMi50ZXh0KGZvcm1hdERhdGUodjIsIGZhbHNlKSk7CiAgICAgICAgICB9OwogICAgICAgICAgdXBkYXRlU2xpZGVyVGV4dChyMSwgcjIpOwogICAgICAgICAgdmFyIHVwZGF0ZVNsaWRlciA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdmFyIHZhbCA9IGZpbHRlci52YWwoKTsKICAgICAgICAgICAgLy8gdHVybiBvZmYgZmlsdGVyIGlmIGluIGZ1bGwgcmFuZ2UKICAgICAgICAgICAgJHRkLmRhdGEoJ2ZpbHRlcicsIHZhbFswXSA+IHNsaWRlcl9taW4oKSB8fCB2YWxbMV0gPCBzbGlkZXJfbWF4KCkpOwogICAgICAgICAgICB2YXIgdjEgPSBmb3JtYXREYXRlKHZhbFswXSksIHYyID0gZm9ybWF0RGF0ZSh2YWxbMV0pLCBpdmFsOwogICAgICAgICAgICBpZiAoJHRkLmRhdGEoJ2ZpbHRlcicpKSB7CiAgICAgICAgICAgICAgaXZhbCA9IHYxICsgJyAuLi4gJyArIHYyOwogICAgICAgICAgICAgICRpbnB1dC5hdHRyKCd0aXRsZScsIGl2YWwpLnZhbChpdmFsKS50cmlnZ2VyKCdpbnB1dCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICRpbnB1dC5hdHRyKCd0aXRsZScsICcnKS52YWwoJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVwZGF0ZVNsaWRlclRleHQodmFsWzBdLCB2YWxbMV0pOwogICAgICAgICAgICBpZiAoZS50eXBlID09PSAnc2xpZGUnKSByZXR1cm47ICAvLyBubyBzZWFyY2hpbmcgd2hlbiBzbGlkaW5nIG9ubHkKICAgICAgICAgICAgaWYgKHNlcnZlcikgewogICAgICAgICAgICAgIHRhYmxlLmNvbHVtbihpKS5zZWFyY2goJHRkLmRhdGEoJ2ZpbHRlcicpID8gaXZhbCA6ICcnKS5kcmF3KCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRhYmxlLmRyYXcoKTsKICAgICAgICAgIH07CiAgICAgICAgICBmaWx0ZXIub24oewogICAgICAgICAgICBzZXQ6IHVwZGF0ZVNsaWRlciwKICAgICAgICAgICAgc2xpZGU6IHVwZGF0ZVNsaWRlcgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIHdpbGwgYmUgaGFuZGxlZCBieSBSIChvciB3aGF0ZXZlciBzZXJ2ZXIKICAgICAgICAvLyBsYW5ndWFnZSB5b3UgdXNlKTsgdGhlIGZvbGxvd2luZyBjb2RlIGlzIG9ubHkgbmVlZGVkIGZvciBjbGllbnQtc2lkZQogICAgICAgIC8vIHByb2Nlc3NpbmcKICAgICAgICBpZiAoc2VydmVyKSB7CiAgICAgICAgICAvLyBpZiBhIHNlYXJjaCBzdHJpbmcgaGFzIGJlZW4gcHJlLXNldCwgc2VhcmNoIG5vdwogICAgICAgICAgaWYgKHNlYXJjaENvbCkgc2VhcmNoQ29sdW1uKGksIHNlYXJjaENvbCkuZHJhdygpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGN1c3RvbUZpbHRlciA9IGZ1bmN0aW9uKHNldHRpbmdzLCBkYXRhLCBkYXRhSW5kZXgpIHsKICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIHdheSB0byBhdHRhY2ggYSBzZWFyY2ggZnVuY3Rpb24gdG8gYSBzcGVjaWZpYyB0YWJsZSwKICAgICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBhIGdsb2JhbCBzZWFyY2ggZnVuY3Rpb24gaXMgbm90IGFwcGxpZWQgdG8KICAgICAgICAgIC8vIGFsbCB0YWJsZXMgKGkuZS4gYSByYW5nZSBmaWx0ZXIgaW4gYSBwcmV2aW91cyB0YWJsZSBzaG91bGQgbm90IGJlCiAgICAgICAgICAvLyBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHRhYmxlKTsgd2UgdXNlIHRoZSBzZXR0aW5ncyBvYmplY3QgdG8KICAgICAgICAgIC8vIGRldGVybWluZSBpZiB3ZSB3YW50IHRvIHBlcmZvcm0gc2VhcmNoaW5nIG9uIHRoZSBjdXJyZW50IHRhYmxlLAogICAgICAgICAgLy8gc2luY2Ugc2V0dGluZ3Muc1RhYmxlSWQgd2lsbCBiZSBkaWZmZXJlbnQgdG8gZGlmZmVyZW50IHRhYmxlcwogICAgICAgICAgaWYgKHRhYmxlLnNldHRpbmdzKClbMF0gIT09IHNldHRpbmdzKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgIC8vIG5vIGZpbHRlciBvbiB0aGlzIGNvbHVtbiBvciBubyBuZWVkIHRvIGZpbHRlciB0aGlzIGNvbHVtbgogICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICd1bmRlZmluZWQnIHx8ICEkdGQuZGF0YSgnZmlsdGVyJykpIHJldHVybiB0cnVlOwoKICAgICAgICAgIHZhciByID0gZmlsdGVyLnZhbCgpLCB2LCByMCwgcjE7CiAgICAgICAgICB2YXIgaV9kYXRhID0gZnVuY3Rpb24oaSkgewogICAgICAgICAgICBpZiAoIWNvbFJlb3JkZXJFbmFibGVkKCkpIHJldHVybiBpOwogICAgICAgICAgICB2YXIgb3JkZXIgPSB0YWJsZS5jb2xSZW9yZGVyLm9yZGVyKCksIGs7CiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBvcmRlci5sZW5ndGg7ICsraykgaWYgKG9yZGVyW2tdID09PSBpKSByZXR1cm4gazsKICAgICAgICAgICAgcmV0dXJuIGk7IC8vIGluIHRoZW9yeSBpdCB3aWxsIG5ldmVyIGJlIGhlcmUuLi4KICAgICAgICAgIH0KICAgICAgICAgIHYgPSBkYXRhW2lfZGF0YShpKV07CiAgICAgICAgICBpZiAodHlwZSA9PT0gJ251bWJlcicgfHwgdHlwZSA9PT0gJ2ludGVnZXInKSB7CiAgICAgICAgICAgIHYgPSBwYXJzZUZsb2F0KHYpOwogICAgICAgICAgICAvLyBob3cgdG8gaGFuZGxlIE5hTj8gY3VycmVudGx5IGV4Y2x1ZGUgdGhlc2Ugcm93cwogICAgICAgICAgICBpZiAoaXNOYU4odikpIHJldHVybihmYWxzZSk7CiAgICAgICAgICAgIHIwID0gcGFyc2VGbG9hdChzY2FsZUJhY2soclswXSwgc2NhbGUpKQogICAgICAgICAgICByMSA9IHBhcnNlRmxvYXQoc2NhbGVCYWNrKHJbMV0sIHNjYWxlKSk7CiAgICAgICAgICAgIGlmICh2ID49IHIwICYmIHYgPD0gcjEpIHJldHVybiB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZGF0ZScgfHwgdHlwZSA9PT0gJ3RpbWUnKSB7CiAgICAgICAgICAgIHYgPSBuZXcgRGF0ZSh2KTsKICAgICAgICAgICAgcjAgPSBuZXcgRGF0ZShyWzBdIC8gc2NhbGUpOyByMSA9IG5ldyBEYXRlKHJbMV0gLyBzY2FsZSk7CiAgICAgICAgICAgIGlmICh2ID49IHIwICYmIHYgPD0gcjEpIHJldHVybiB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZmFjdG9yJykgewogICAgICAgICAgICBpZiAoci5sZW5ndGggPT09IDAgfHwgaW5BcnJheSh2LCByKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsb2dpY2FsJykgewogICAgICAgICAgICBpZiAoci5sZW5ndGggPT09IDApIHJldHVybiB0cnVlOwogICAgICAgICAgICBpZiAoaW5BcnJheSh2ID09PSAnJyA/ICduYScgOiB2LCByKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgJC5mbi5kYXRhVGFibGUuZXh0LnNlYXJjaC5wdXNoKGN1c3RvbUZpbHRlcik7CgogICAgICAgIC8vIHNlYXJjaCBmb3IgdGhlIHByZXNldCBzZWFyY2ggc3RyaW5ncyBpZiBpdCBpcyBub24tZW1wdHkKICAgICAgICBpZiAoc2VhcmNoQ29sKSB7CiAgICAgICAgICBpZiAoaW5BcnJheSh0eXBlLCBbJ2ZhY3RvcicsICdsb2dpY2FsJ10pKSB7CiAgICAgICAgICAgIGZpbHRlclswXS5zZWxlY3RpemUuc2V0VmFsdWUoSlNPTi5wYXJzZShzZWFyY2hDb2wpKTsKICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NoYXJhY3RlcicpIHsKICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoJ2lucHV0Jyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGluQXJyYXkodHlwZSwgWydudW1iZXInLCAnaW50ZWdlcicsICdkYXRlJywgJ3RpbWUnXSkpIHsKICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgIH0pOwoKICAgIH0KCiAgICAvLyBoaWdobGlnaHQgc2VhcmNoIGtleXdvcmRzCiAgICB2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBib2R5ID0gJCh0YWJsZS50YWJsZSgpLmJvZHkoKSk7CiAgICAgIC8vIHJlbW92aW5nIHRoZSBvbGQgaGlnaGxpZ2h0aW5nIGZpcnN0CiAgICAgIGJvZHkudW5oaWdobGlnaHQoKTsKCiAgICAgIC8vIGRvbid0IGhpZ2hsaWdodCB0aGUgIm5vdCBmb3VuZCIgcm93LCBzbyB3ZSBnZXQgdGhlIHJvd3MgdXNpbmcgdGhlIGFwaQogICAgICBpZiAodGFibGUucm93cyh7IGZpbHRlcjogJ2FwcGxpZWQnIH0pLmRhdGEoKS5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgLy8gaGlnaGxpZ2h0IGdsb2JhbCBzZWFyY2gga2V5d29yZHMKICAgICAgYm9keS5oaWdobGlnaHQoJC50cmltKHRhYmxlLnNlYXJjaCgpKS5zcGxpdCgvXHMrLykpOwogICAgICAvLyB0aGVuIGhpZ2hsaWdodCBrZXl3b3JkcyBmcm9tIGluZGl2aWR1YWwgY29sdW1uIGZpbHRlcnMKICAgICAgaWYgKGZpbHRlclJvdykgZmlsdGVyUm93LmVhY2goZnVuY3Rpb24oaSwgdGQpIHsKICAgICAgICB2YXIgJHRkID0gJCh0ZCksIHR5cGUgPSAkdGQuZGF0YSgndHlwZScpOwogICAgICAgIGlmICh0eXBlICE9PSAnY2hhcmFjdGVyJykgcmV0dXJuOwogICAgICAgIHZhciAkaW5wdXQgPSAkdGQuY2hpbGRyZW4oJ2RpdicpLmZpcnN0KCkuY2hpbGRyZW4oJ2lucHV0Jyk7CiAgICAgICAgdmFyIGNvbHVtbiA9IHRhYmxlLmNvbHVtbihpKS5ub2RlcygpLnRvJCgpLAogICAgICAgICAgICB2YWwgPSAkLnRyaW0oJGlucHV0LnZhbCgpKTsKICAgICAgICBpZiAodHlwZSAhPT0gJ2NoYXJhY3RlcicgfHwgdmFsID09PSAnJykgcmV0dXJuOwogICAgICAgIGNvbHVtbi5oaWdobGlnaHQodmFsLnNwbGl0KC9ccysvKSk7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAob3B0aW9ucy5zZWFyY2hIaWdobGlnaHQpIHsKICAgICAgdGFibGUKICAgICAgLm9uKCdkcmF3LmR0LmR0aCBjb2x1bW4tdmlzaWJpbGl0eS5kdC5kdGggY29sdW1uLXJlb3JkZXIuZHQuZHRoJywgaGlnaGxpZ2h0KQogICAgICAub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHsKICAgICAgICAvLyByZW1vdmUgZXZlbnQgaGFuZGxlcgogICAgICAgIHRhYmxlLm9mZignZHJhdy5kdC5kdGggY29sdW1uLXZpc2liaWxpdHkuZHQuZHRoIGNvbHVtbi1yZW9yZGVyLmR0LmR0aCcpOwogICAgICB9KTsKCiAgICAgIC8vIFNldCB0aGUgb3B0aW9uIGZvciBlc2NhcGluZyByZWdleCBjaGFyYWN0ZXJzIGluIG91ciBzZWFyY2ggc3RyaW5nLiAgVGhpcyB3aWxsIGJlIHVzZWQKICAgICAgLy8gZm9yIGFsbCBmdXR1cmUgbWF0Y2hpbmcuCiAgICAgIGpRdWVyeS5mbi5oaWdobGlnaHQub3B0aW9ucy5lc2NhcGVSZWdleCA9ICghb3B0aW9ucy5zZWFyY2ggfHwgIW9wdGlvbnMuc2VhcmNoLnJlZ2V4KTsKCiAgICAgIC8vIGluaXRpYWwgaGlnaGxpZ2h0IGZvciBzdGF0ZSBzYXZlZCBjb25kaXRpb25zIGFuZCBpbml0aWFsIHN0YXRlcwogICAgICBoaWdobGlnaHQoKTsKICAgIH0KCiAgICAvLyBydW4gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIHRoZSB0YWJsZSBpbnN0YW5jZQogICAgaWYgKHR5cGVvZiBkYXRhLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBkYXRhLmNhbGxiYWNrKHRhYmxlKTsKCiAgICAvLyBkb3VibGUgY2xpY2sgdG8gZWRpdCB0aGUgY2VsbCwgcm93LCBjb2x1bW4sIG9yIGFsbCBjZWxscwogICAgaWYgKGRhdGEuZWRpdGFibGUpIHRhYmxlLm9uKCdkYmxjbGljay5kdCcsICd0Ym9keSB0ZCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgLy8gb25seSBicmluZyB1cCB0aGUgZWRpdG9yIHdoZW4gdGhlIGNlbGwgaXRzZWxmIGlzIGRiY2xpY2tlZCwgYW5kIGlnbm9yZQogICAgICAvLyBvdGhlciBkYmNsaWNrIGV2ZW50cyBidWJibGVkIHVwIChlLmcuIGZyb20gdGhlIDxpbnB1dD4pCiAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuOwogICAgICB2YXIgdGFyZ2V0ID0gW10sIGltbWVkaWF0ZSA9IGZhbHNlOwogICAgICBzd2l0Y2ggKGRhdGEuZWRpdGFibGUudGFyZ2V0KSB7CiAgICAgICAgY2FzZSAnY2VsbCc6CiAgICAgICAgICB0YXJnZXQgPSBbdGhpc107CiAgICAgICAgICBpbW1lZGlhdGUgPSB0cnVlOyAgLy8gZWRpdCB3aWxsIHRha2UgZWZmZWN0IGltbWVkaWF0ZWx5CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdyb3cnOgogICAgICAgICAgdGFyZ2V0ID0gdGFibGUuY2VsbHModGFibGUuY2VsbCh0aGlzKS5pbmRleCgpLnJvdywgJyonKS5ub2RlcygpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnY29sdW1uJzoKICAgICAgICAgIHRhcmdldCA9IHRhYmxlLmNlbGxzKCcqJywgdGFibGUuY2VsbCh0aGlzKS5pbmRleCgpLmNvbHVtbikubm9kZXMoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2FsbCc6CiAgICAgICAgICB0YXJnZXQgPSB0YWJsZS5jZWxscygpLm5vZGVzKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgJ1RoZSBlZGl0YWJsZSBwYXJhbWV0ZXIgbXVzdCBiZSAiY2VsbCIsICJyb3ciLCAiY29sdW1uIiwgb3IgImFsbCInOwogICAgICB9CiAgICAgIHZhciBkaXNhYmxlQ29scyA9IGRhdGEuZWRpdGFibGUuZGlzYWJsZSA/IGRhdGEuZWRpdGFibGUuZGlzYWJsZS5jb2x1bW5zIDogbnVsbDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAoZnVuY3Rpb24oY2VsbCwgY3VycmVudCkgewogICAgICAgICAgdmFyICRjZWxsID0gJChjZWxsKSwgaHRtbCA9ICRjZWxsLmh0bWwoKTsKICAgICAgICAgIHZhciBfY2VsbCA9IHRhYmxlLmNlbGwoY2VsbCksIHZhbHVlID0gX2NlbGwuZGF0YSgpOwogICAgICAgICAgdmFyICRpbnB1dCA9ICQoJzxpbnB1dCB0eXBlPSJ0ZXh0Ij4nKSwgY2hhbmdlZCA9IGZhbHNlOwogICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHsKICAgICAgICAgICAgJGNlbGwuZGF0YSgnaW5wdXQnLCAkaW5wdXQpLmRhdGEoJ2h0bWwnLCBodG1sKTsKICAgICAgICAgICAgJGlucHV0LmF0dHIoJ3RpdGxlJywgJ0hpdCBDdHJsK0VudGVyIHRvIGZpbmlzaCBlZGl0aW5nLCBvciBFc2MgdG8gY2FuY2VsJyk7CiAgICAgICAgICB9CiAgICAgICAgICAkaW5wdXQudmFsKHZhbHVlKTsKICAgICAgICAgIGlmIChpbkFycmF5KF9jZWxsLmluZGV4KCkuY29sdW1uLCBkaXNhYmxlQ29scykpIHsKICAgICAgICAgICAgJGlucHV0LmF0dHIoJ3JlYWRvbmx5JywgJycpLmNzcygnZmlsdGVyJywgJ2ludmVydCgyNSUpJyk7CiAgICAgICAgICB9CiAgICAgICAgICAkY2VsbC5lbXB0eSgpLmFwcGVuZCgkaW5wdXQpOwogICAgICAgICAgaWYgKGNlbGwgPT09IGN1cnJlbnQpICRpbnB1dC5mb2N1cygpOwogICAgICAgICAgJGlucHV0LmNzcygnd2lkdGgnLCAnMTAwJScpOwoKICAgICAgICAgIGlmIChpbW1lZGlhdGUpICRpbnB1dC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICB2YXIgdmFsdWVOZXcgPSAkaW5wdXQudmFsKCk7CiAgICAgICAgICAgIGlmICh2YWx1ZU5ldyAhPSB2YWx1ZSkgewogICAgICAgICAgICAgIF9jZWxsLmRhdGEodmFsdWVOZXcpOwogICAgICAgICAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKICAgICAgICAgICAgICAgIGNoYW5nZUlucHV0KCdjZWxsX2VkaXQnLCBbY2VsbEluZm8oY2VsbCldLCAnRFQuY2VsbEluZm8nLCBudWxsLCB7cHJpb3JpdHk6ICJldmVudCJ9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gZm9yIHNlcnZlci1zaWRlIHByb2Nlc3NpbmcsIHVzZXJzIGhhdmUgdG8gY2FsbCByZXBsYWNlRGF0YSgpIHRvIHVwZGF0ZSB0aGUgdGFibGUKICAgICAgICAgICAgICBpZiAoIXNlcnZlcikgdGFibGUuZHJhdyhmYWxzZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgJGNlbGwuaHRtbChodG1sKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkaW5wdXQucmVtb3ZlKCk7CiAgICAgICAgICB9KS5vbignYmx1cicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWNoYW5nZWQpICRpbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTsKICAgICAgICAgIH0pLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgLy8gaGl0IEVzY2FwZSB0byBjYW5jZWwgZWRpdGluZwogICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykgJGlucHV0LnRyaWdnZXIoJ2JsdXInKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIGJ1bGsgZWRpdCAocm93LCBjb2x1bW4sIG9yIGFsbCkKICAgICAgICAgIGlmICghaW1tZWRpYXRlKSAkaW5wdXQub24oJ2tleXVwJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgcmVtb3ZlSW5wdXQgPSBmdW5jdGlvbigkY2VsbCwgcmVzdG9yZSkgewogICAgICAgICAgICAgICRjZWxsLmRhdGEoJ2lucHV0JykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgaWYgKHJlc3RvcmUpICRjZWxsLmh0bWwoJGNlbGwuZGF0YSgnaHRtbCcpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykgewogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICByZW1vdmVJbnB1dCgkKHRhcmdldFtpXSksIHRydWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDEzICYmIGUuY3RybEtleSkgewogICAgICAgICAgICAgIC8vIEN0cmwgKyBFbnRlcgogICAgICAgICAgICAgIHZhciBjZWxsLCAkY2VsbCwgX2NlbGwsIGNlbGxEYXRhID0gW107CiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNlbGwgPSB0YXJnZXRbaV07ICRjZWxsID0gJChjZWxsKTsgX2NlbGwgPSB0YWJsZS5jZWxsKGNlbGwpOwogICAgICAgICAgICAgICAgX2NlbGwuZGF0YSgkY2VsbC5kYXRhKCdpbnB1dCcpLnZhbCgpKTsKICAgICAgICAgICAgICAgIEhUTUxXaWRnZXRzLnNoaW55TW9kZSAmJiBjZWxsRGF0YS5wdXNoKGNlbGxJbmZvKGNlbGwpKTsKICAgICAgICAgICAgICAgIHJlbW92ZUlucHV0KCRjZWxsLCBmYWxzZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKICAgICAgICAgICAgICAgIGNoYW5nZUlucHV0KCdjZWxsX2VkaXQnLCBjZWxsRGF0YSwgJ0RULmNlbGxJbmZvJywgbnVsbCwge3ByaW9yaXR5OiAiZXZlbnQifSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghc2VydmVyKSB0YWJsZS5kcmF3KGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSkodGFyZ2V0W2ldLCB0aGlzKTsKICAgICAgfQogICAgfSk7CgogICAgLy8gaW50ZXJhY3Rpb24gd2l0aCBzaGlueQogICAgaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUgJiYgIWNyb3NzdGFsa09wdGlvbnMuZ3JvdXApIHJldHVybjsKCiAgICB2YXIgbWV0aG9kcyA9IHt9OwogICAgdmFyIHNoaW55RGF0YSA9IHt9OwoKICAgIG1ldGhvZHMudXBkYXRlQ2FwdGlvbiA9IGZ1bmN0aW9uKGNhcHRpb24pIHsKICAgICAgaWYgKCFjYXB0aW9uKSByZXR1cm47CiAgICAgICR0YWJsZS5jaGlsZHJlbignY2FwdGlvbicpLnJlcGxhY2VXaXRoKGNhcHRpb24pOwogICAgfQoKICAgIC8vIHJlZ2lzdGVyIGNsZWFyIGZ1bmN0aW9ucyB0byByZW1vdmUgaW5wdXQgdmFsdWVzIHdoZW4gdGhlIHRhYmxlIGlzIHJlbW92ZWQKICAgIGluc3RhbmNlLmNsZWFySW5wdXRzID0ge307CgogICAgdmFyIGNoYW5nZUlucHV0ID0gZnVuY3Rpb24oaWQsIHZhbHVlLCB0eXBlLCBub0Nyb3NzdGFsaywgb3B0cykgewogICAgICB2YXIgZXZlbnQgPSBpZDsKICAgICAgaWQgPSBlbC5pZCArICdfJyArIGlkOwogICAgICBpZiAodHlwZSkgaWQgPSBpZCArICc6JyArIHR5cGU7CiAgICAgIC8vIGRvIG5vdCB1cGRhdGUgaWYgdGhlIG5ldyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyBvbGQgdmFsdWUKICAgICAgaWYgKGV2ZW50ICE9PSAnY2VsbF9lZGl0JyAmJiAhL19jbGlja2VkJC8udGVzdChldmVudCkgJiYgc2hpbnlEYXRhLmhhc093blByb3BlcnR5KGlkKSAmJiBzaGlueURhdGFbaWRdID09PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpCiAgICAgICAgcmV0dXJuOwogICAgICBzaGlueURhdGFbaWRdID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpOwogICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmIFNoaW55LnNldElucHV0VmFsdWUpIHsKICAgICAgICBTaGlueS5zZXRJbnB1dFZhbHVlKGlkLCB2YWx1ZSwgb3B0cyk7CiAgICAgICAgaWYgKCFpbnN0YW5jZS5jbGVhcklucHV0c1tpZF0pIGluc3RhbmNlLmNsZWFySW5wdXRzW2lkXSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgU2hpbnkuc2V0SW5wdXRWYWx1ZShpZCwgbnVsbCk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBIQUNLCiAgICAgIGlmIChldmVudCA9PT0gInJvd3Nfc2VsZWN0ZWQiICYmICFub0Nyb3NzdGFsaykgewogICAgICAgIGlmIChjcm9zc3RhbGtPcHRpb25zLmdyb3VwKSB7CiAgICAgICAgICB2YXIga2V5cyA9IGNyb3NzdGFsa09wdGlvbnMua2V5OwogICAgICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9IG51bGw7CiAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgc2VsZWN0ZWRLZXlzID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAvLyBUaGUgdmFsdWUgYXJyYXkncyBjb250ZW50cyB1c2UgMS1iYXNlZCByb3cgbnVtYmVycywgc28gd2UgbXVzdAogICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gMC1iYXNlZCBiZWZvcmUgaW5kZXhpbmcgaW50byB0aGUga2V5cyBhcnJheS4KICAgICAgICAgICAgICBzZWxlY3RlZEtleXMucHVzaChrZXlzW3ZhbHVlW2ldIC0gMV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpbnN0YW5jZS5jdHNlbGVjdEhhbmRsZS5zZXQoc2VsZWN0ZWRLZXlzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgdmFyIGFkZE9uZSA9IGZ1bmN0aW9uKHgpIHsKICAgICAgcmV0dXJuIHgubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIDEgKyBpOyB9KTsKICAgIH07CgogICAgdmFyIHVuaXF1ZSA9IGZ1bmN0aW9uKHgpIHsKICAgICAgdmFyIHV4ID0gW107CiAgICAgICQuZWFjaCh4LCBmdW5jdGlvbihpLCBlbCl7CiAgICAgICAgaWYgKCQuaW5BcnJheShlbCwgdXgpID09PSAtMSkgdXgucHVzaChlbCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gdXg7CiAgICB9CgogICAgLy8gY2hhbmdlIHRoZSByb3cgaW5kZXggb2YgYSBjZWxsCiAgICB2YXIgdHdlYWtDZWxsSW5kZXggPSBmdW5jdGlvbihjZWxsKSB7CiAgICAgIHZhciBpbmZvID0gY2VsbC5pbmRleCgpOwogICAgICAvLyBzb21lIGNlbGwgbWF5IG5vdCBiZSB2YWxpZC4gZS5nLCAjNzU5CiAgICAgIC8vIHdoZW4gdXNpbmcgdGhlIFJvd0dyb3VwIGV4dGVuc2lvbiwgZGF0YXRhYmxlcyB3aWxsCiAgICAgIC8vIGdlbmVyYXRlIHRoZSByb3cgbGFiZWwgYW5kIHRoZSBjZWxscyBhcmUgbm90IHBhcnQgb2YKICAgICAgLy8gdGhlIGRhdGEgdGh1cyBjb250YWluIG5vIHJvdy9jb2wgaW5mbwogICAgICBpZiAoaW5mbyA9PT0gdW5kZWZpbmVkKQogICAgICAgIHJldHVybiB7cm93OiBudWxsLCBjb2w6IG51bGx9OwogICAgICBpZiAoc2VydmVyKSB7CiAgICAgICAgaW5mby5yb3cgPSBEVF9yb3dzX2N1cnJlbnRbaW5mby5yb3ddOwogICAgICB9IGVsc2UgewogICAgICAgIGluZm8ucm93ICs9IDE7CiAgICAgIH0KICAgICAgcmV0dXJuIHtyb3c6IGluZm8ucm93LCBjb2w6IGluZm8uY29sdW1ufTsKICAgIH0KCiAgICB2YXIgY2xlYW5TZWxlY3RlZFZhbHVlcyA9IGZ1bmN0aW9uKCkgewogICAgICBjaGFuZ2VJbnB1dCgncm93c19zZWxlY3RlZCcsIFtdKTsKICAgICAgY2hhbmdlSW5wdXQoJ2NvbHVtbnNfc2VsZWN0ZWQnLCBbXSk7CiAgICAgIGNoYW5nZUlucHV0KCdjZWxsc19zZWxlY3RlZCcsIHRyYW5zcG9zZUFycmF5MkQoW10pLCAnc2hpbnkubWF0cml4Jyk7CiAgICB9CiAgICAvLyAjODI4IHdlIHNob3VsZCBjbGVhbiB0aGUgc2VsZWN0aW9uIG9uIHRoZSBzZXJ2ZXItc2lkZSB3aGVuIHRoZSB0YWJsZSByZWxvYWRzCiAgICBjbGVhblNlbGVjdGVkVmFsdWVzKCk7CgogICAgLy8gYSBmbGFnIHRvIGluZGljYXRlcyBpZiBzZWxlY3QgZXh0ZW5zaW9uIGlzIGluaXRpYWxpemVkIG9yIG5vdAogICAgdmFyIGZsYWdTZWxlY3RFeHQgPSB0YWJsZS5zZXR0aW5ncygpWzBdLl9zZWxlY3QgIT09IHVuZGVmaW5lZDsKICAgIC8vIHRoZSBTZWxlY3QgZXh0ZW5zaW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gdGhlIGNsaWVudCBtb2RlIGFuZAogICAgLy8gd2hlbiB0aGUgc2VsZWN0aW9uLm1vZGUgaXMgc2V0IHRvIG5vbmUKICAgIGlmIChkYXRhLnNlbGVjdGlvbi5tb2RlID09PSAnbm9uZScgJiYgIXNlcnZlciAmJiBmbGFnU2VsZWN0RXh0KSB7CiAgICAgIHZhciB1cGRhdGVSb3dzU2VsZWN0ZWQgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgcm93cyA9IHRhYmxlLnJvd3Moe3NlbGVjdGVkOiB0cnVlfSk7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gW107CiAgICAgICAgJC5lYWNoKHJvd3MuaW5kZXhlcygpLnRvQXJyYXkoKSwgZnVuY3Rpb24oaSwgdikgewogICAgICAgICAgc2VsZWN0ZWQucHVzaCh2ICsgMSk7CiAgICAgICAgfSk7CiAgICAgICAgY2hhbmdlSW5wdXQoJ3Jvd3Nfc2VsZWN0ZWQnLCBzZWxlY3RlZCk7CiAgICAgIH0KICAgICAgdmFyIHVwZGF0ZUNvbHNTZWxlY3RlZCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBjb2x1bW5zID0gdGFibGUuY29sdW1ucyh7c2VsZWN0ZWQ6IHRydWV9KTsKICAgICAgICBjaGFuZ2VJbnB1dCgnY29sdW1uc19zZWxlY3RlZCcsIGNvbHVtbnMuaW5kZXhlcygpLnRvQXJyYXkoKSk7CiAgICAgIH0KICAgICAgdmFyIHVwZGF0ZUNlbGxzU2VsZWN0ZWQgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgY2VsbHMgPSB0YWJsZS5jZWxscyh7c2VsZWN0ZWQ6IHRydWV9KTsKICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTsKICAgICAgICBjZWxscy5ldmVyeShmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciByb3cgPSB0aGlzLmluZGV4KCkucm93OwogICAgICAgICAgdmFyIGNvbCA9IHRoaXMuaW5kZXgoKS5jb2x1bW47CiAgICAgICAgICBzZWxlY3RlZCA9IHNlbGVjdGVkLmNvbmNhdChbW3JvdyArIDEsIGNvbF1dKTsKICAgICAgICB9KTsKICAgICAgICBjaGFuZ2VJbnB1dCgnY2VsbHNfc2VsZWN0ZWQnLCB0cmFuc3Bvc2VBcnJheTJEKHNlbGVjdGVkKSwgJ3NoaW55Lm1hdHJpeCcpOwogICAgICB9CiAgICAgIHRhYmxlLm9uKCdzZWxlY3QgZGVzZWxlY3QnLCBmdW5jdGlvbihlLCBkdCwgdHlwZSwgaW5kZXhlcykgewogICAgICAgIHVwZGF0ZVJvd3NTZWxlY3RlZCgpOwogICAgICAgIHVwZGF0ZUNvbHNTZWxlY3RlZCgpOwogICAgICAgIHVwZGF0ZUNlbGxzU2VsZWN0ZWQoKTsKICAgICAgfSkKICAgIH0KCiAgICB2YXIgc2VsTW9kZSA9IGRhdGEuc2VsZWN0aW9uLm1vZGUsIHNlbFRhcmdldCA9IGRhdGEuc2VsZWN0aW9uLnRhcmdldDsKICAgIHZhciBzZWxEaXNhYmxlID0gZGF0YS5zZWxlY3Rpb24uc2VsZWN0YWJsZSA9PT0gZmFsc2U7CiAgICBpZiAoaW5BcnJheShzZWxNb2RlLCBbJ3NpbmdsZScsICdtdWx0aXBsZSddKSkgewogICAgICB2YXIgc2VsQ2xhc3MgPSBpbkFycmF5KGRhdGEuc3R5bGUsIFsnYm9vdHN0cmFwJywgJ2Jvb3RzdHJhcDQnXSkgPyAnYWN0aXZlJyA6ICdzZWxlY3RlZCc7CiAgICAgIC8vIHNlbGVjdGVkMTogcm93IGluZGljZXM7IHNlbGVjdGVkMjogY29sdW1uIGluZGljZXMKICAgICAgdmFyIGluaXRTZWwgPSBmdW5jdGlvbih4KSB7CiAgICAgICAgaWYgKHggPT09IG51bGwgfHwgdHlwZW9mIHggPT09ICdib29sZWFuJyB8fCBzZWxUYXJnZXQgPT09ICdjZWxsJykgewogICAgICAgICAgcmV0dXJuIHtyb3dzOiBbXSwgY29sczogW119OwogICAgICAgIH0gZWxzZSBpZiAoc2VsVGFyZ2V0ID09PSAncm93JykgewogICAgICAgICAgcmV0dXJuIHtyb3dzOiAkLm1ha2VBcnJheSh4KSwgY29sczogW119OwogICAgICAgIH0gZWxzZSBpZiAoc2VsVGFyZ2V0ID09PSAnY29sdW1uJykgewogICAgICAgICAgcmV0dXJuIHtyb3dzOiBbXSwgY29sczogJC5tYWtlQXJyYXkoeCl9OwogICAgICAgIH0gZWxzZSBpZiAoc2VsVGFyZ2V0ID09PSAncm93K2NvbHVtbicpIHsKICAgICAgICAgIHJldHVybiB7cm93czogJC5tYWtlQXJyYXkoeC5yb3dzKSwgY29sczogJC5tYWtlQXJyYXkoeC5jb2xzKX07CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBzZWxlY3RlZCA9IGRhdGEuc2VsZWN0aW9uLnNlbGVjdGVkOwogICAgICB2YXIgc2VsZWN0ZWQxID0gaW5pdFNlbChzZWxlY3RlZCkucm93cywgc2VsZWN0ZWQyID0gaW5pdFNlbChzZWxlY3RlZCkuY29sczsKICAgICAgLy8gc2VsZWN0YWJsZSBzaG91bGQgY29udGFpbiBlaXRoZXIgYWxsIHBvc2l0aXZlIG9yIGFsbCBub24tcG9zaXRpdmUgdmFsdWVzLCBub3QgYm90aAogICAgICAvLyBwb3NpdGl2ZSB2YWx1ZXMgaW5kaWNhdGUgInNlbGVjdGFibGUiIHdoaWxlIG5vbi1wb3NpdGl2ZSB2YWx1ZXMgbWVhbnMgIm5vbnNlbGVjdGFibGUiCiAgICAgIC8vIHRoZSBhc3NlcnRpb24gaXMgcGVyZm9ybWVkIG9uIFIgc2lkZS4gKG9ubHkgY29sdW1uIGluZGljaWRlcyBjb3VsZCBiZSB6ZXJvIHdoaWNoIGluZGljYXRlcwogICAgICAvLyB0aGUgcm93IG5hbWUpCiAgICAgIHZhciBzZWxlY3RhYmxlID0gZGF0YS5zZWxlY3Rpb24uc2VsZWN0YWJsZTsKICAgICAgdmFyIHNlbGVjdGFibGUxID0gaW5pdFNlbChzZWxlY3RhYmxlKS5yb3dzLCBzZWxlY3RhYmxlMiA9IGluaXRTZWwoc2VsZWN0YWJsZSkuY29sczsKCiAgICAgIC8vIEFmdGVyIHVzZXJzIHJlb3JkZXIgdGhlIHJvd3Mgb3IgZmlsdGVyIHRoZSB0YWJsZSwgd2UgY2Fubm90IHVzZSB0aGUgdGFibGUgaW5kZXgKICAgICAgLy8gZGlyZWN0bHkuIEluc3RlYWQsIHdlIG5lZWQgdGhpcyBmdW5jdGlvbiB0byBmaW5kIG91dCB0aGUgcm93cyBiZXR3ZWVuIHRoZSB0d28gY2xpY2tzLgogICAgICAvLyBJZiB1c2VyIGZpbHRlciB0aGUgdGFibGUgYWdhaW4gYmV0d2VlbiB0aGUgc3RhcnQgY2xpY2sgYW5kIHRoZSBlbmQgY2xpY2ssIHRoZSBiZWhhdmlvcgogICAgICAvLyB3b3VsZCBiZSB1bmRlZmluZWQsIGJ1dCBpdCBzaG91bGQgbm90IGJlIGEgcHJvYmxlbS4KICAgICAgdmFyIHNoaWZ0U2VsUm93c0luZGV4ID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkgewogICAgICAgIHZhciBpbmRleGVzID0gc2VydmVyID8gRFRfcm93c19hbGwgOiB0YWJsZS5yb3dzKHsgc2VhcmNoOiAnYXBwbGllZCcgfSkuaW5kZXhlcygpLnRvQXJyYXkoKTsKICAgICAgICBzdGFydCA9IGluZGV4ZXMuaW5kZXhPZihzdGFydCk7IGVuZCA9IGluZGV4ZXMuaW5kZXhPZihlbmQpOwogICAgICAgIC8vIGlmIHN0YXJ0IGlzIGxhcmdlciB0aGFuIGVuZCwgd2UgbmVlZCB0byBzd2FwCiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7CiAgICAgICAgICB2YXIgdG1wID0gZW5kOyBlbmQgPSBzdGFydDsgc3RhcnQgPSB0bXA7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRleGVzLnNsaWNlKHN0YXJ0LCBlbmQgKyAxKTsKICAgICAgfQoKICAgICAgdmFyIHNlcnZlclJvd0luZGV4ID0gZnVuY3Rpb24oY2xpZW50Um93SW5kZXgpIHsKICAgICAgICByZXR1cm4gc2VydmVyID8gRFRfcm93c19jdXJyZW50W2NsaWVudFJvd0luZGV4XSA6IGNsaWVudFJvd0luZGV4ICsgMTsKICAgICAgfQoKICAgICAgLy8gcm93LCBjb2x1bW4sIG9yIGNlbGwgc2VsZWN0aW9uCiAgICAgIHZhciBsYXN0Q2xpY2tlZFJvdzsKICAgICAgaWYgKGluQXJyYXkoc2VsVGFyZ2V0LCBbJ3JvdycsICdyb3crY29sdW1uJ10pKSB7CiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHNlbGVjdGVkIHJvd3MuIEl0IHdpbGwgYWxzbwogICAgICAgIC8vIHVwZGF0ZSB0aGUgc2VsZWN0ZWQxJ3MgdmFsdWUgYmFzZWQgb24gdGhlIGN1cnJlbnQgcm93IHNlbGVjdGlvbiBzdGF0ZQogICAgICAgIC8vIE5vdGUgd2UgY2FuJ3QgcHV0IHRoaXMgZnVuY3Rpb24gaW5zaWRlIHNlbGVjdFJvd3MoKSBkaXJlY3RseSwKICAgICAgICAvLyB0aGUgcmVhc29uIGlzIG1ldGhvZC5zZWxlY3RSb3dzKCkgd2lsbCBvdmVycmlkZSBzZWxlY3RlZDEncyB2YWx1ZSBidXQgdGhpcwogICAgICAgIC8vIGZ1bmN0aW9uIHdpbGwgYWRkIHJvd3MgdG8gc2VsZWN0ZWQxIChrZWVwIHRoZSBleGlzdGluZyBzZWxlY3Rpb24pLCB3aGljaCBpcwogICAgICAgIC8vIGluY29uc2lzdGVudCB3aXRoIGNvbHVtbiBhbmQgY2VsbCBzZWxlY3Rpb24uCiAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIHJvd3MgPSB0YWJsZS5yb3dzKCcuJyArIHNlbENsYXNzKTsKICAgICAgICAgIHZhciBpZHggPSByb3dzLmluZGV4ZXMoKS50b0FycmF5KCk7CiAgICAgICAgICBpZiAoIXNlcnZlcikgewogICAgICAgICAgICBzZWxlY3RlZDEgPSBhZGRPbmUoaWR4KTsKICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkMTsKICAgICAgICAgIH0KICAgICAgICAgIGlkeCA9IGlkeC5tYXAoZnVuY3Rpb24oaSkgewogICAgICAgICAgICByZXR1cm4gRFRfcm93c19jdXJyZW50W2ldOwogICAgICAgICAgfSk7CiAgICAgICAgICBzZWxlY3RlZDEgPSBzZWxNb2RlID09PSAnbXVsdGlwbGUnID8gdW5pcXVlKHNlbGVjdGVkMS5jb25jYXQoaWR4KSkgOiBpZHg7CiAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQxOwogICAgICAgIH0KICAgICAgICAvLyBDaGFuZ2Ugc2VsZWN0ZWQxJ3MgdmFsdWUgYmFzZWQgb24gc2VsZWN0YWJsZTEsIHRoZW4gcmVmcmVzaCB0aGUgcm93IHN0YXRlCiAgICAgICAgdmFyIG9ubHlLZWVwU2VsZWN0YWJsZVJvd3MgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIGlmIChzZWxEaXNhYmxlKSB7IC8vIHVzZXJzIGNhbid0IHNlbGVjdDsgdXNlZnVsIHdoZW4gb25seSB3YW50IGJhY2tlbmQgc2VsZWN0CiAgICAgICAgICAgIHNlbGVjdGVkMSA9IFtdOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2VsZWN0YWJsZTEubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgICB2YXIgbm9uc2VsZWN0YWJsZSA9IHNlbGVjdGFibGUxWzBdIDw9IDA7CiAgICAgICAgICBpZiAobm9uc2VsZWN0YWJsZSkgewogICAgICAgICAgICAvLyBzaG91bGQgbWFrZSBzZWxlY3RhYmxlMSBwb3NpdGl2ZQogICAgICAgICAgICBzZWxlY3RlZDEgPSAkKHNlbGVjdGVkMSkubm90KHNlbGVjdGFibGUxLm1hcChmdW5jdGlvbihpKSB7IHJldHVybiAtaTsgfSkpLmdldCgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZWN0ZWQxID0gJChzZWxlY3RlZDEpLmZpbHRlcihzZWxlY3RhYmxlMSkuZ2V0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIENoYW5nZSBzZWxlY3RlZDEncyB2YWx1ZSBiYXNlZCBvbiBzZWxlY3RhYmxlMSwgdGhlbgogICAgICAgIC8vIHJlZnJlc2ggdGhlIHJvdyBzZWxlY3Rpb24gc3RhdGUgYWNjb3JkaW5nIHRvIHZhbHVlcyBpbiBzZWxlY3RlZDEKICAgICAgICB2YXIgc2VsZWN0Um93cyA9IGZ1bmN0aW9uKGlnbm9yZVNlbGVjdGFibGUpIHsKICAgICAgICAgIGlmICghaWdub3JlU2VsZWN0YWJsZSkgb25seUtlZXBTZWxlY3RhYmxlUm93cygpOwogICAgICAgICAgdGFibGUuJCgndHIuJyArIHNlbENsYXNzKS5yZW1vdmVDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICBpZiAoc2VsZWN0ZWQxLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgaWYgKHNlcnZlcikgewogICAgICAgICAgICB0YWJsZS5yb3dzKHtwYWdlOiAnY3VycmVudCd9KS5ldmVyeShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBpZiAoaW5BcnJheShEVF9yb3dzX2N1cnJlbnRbdGhpcy5pbmRleCgpXSwgc2VsZWN0ZWQxKSkgewogICAgICAgICAgICAgICAgJCh0aGlzLm5vZGUoKSkuYWRkQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgc2VsZWN0ZWQwID0gc2VsZWN0ZWQxLm1hcChmdW5jdGlvbihpKSB7IHJldHVybiBpIC0gMTsgfSk7CiAgICAgICAgICAgICQodGFibGUucm93cyhzZWxlY3RlZDApLm5vZGVzKCkpLmFkZENsYXNzKHNlbENsYXNzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGFibGUub24oJ21vdXNlZG93bi5kdCcsICd0Ym9keSB0cicsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksIHRoaXNSb3cgPSB0YWJsZS5yb3codGhpcyk7CiAgICAgICAgICBpZiAoc2VsTW9kZSA9PT0gJ211bHRpcGxlJykgewogICAgICAgICAgICBpZiAoZS5zaGlmdEtleSAmJiBsYXN0Q2xpY2tlZFJvdyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgLy8gc2VsZWN0IG9yIGRlLXNlbGVjdCBkZXBlbmRzIG9uIHRoZSBsYXN0IGNsaWNrZWQgcm93J3Mgc3RhdHVzCiAgICAgICAgICAgICAgdmFyIGZsYWdTZWwgPSAhJHRoaXMuaGFzQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICAgIHZhciBjcnRDbGlja2VkUm93ID0gc2VydmVyUm93SW5kZXgodGhpc1Jvdy5pbmRleCgpKTsKICAgICAgICAgICAgICBpZiAoc2VydmVyKSB7CiAgICAgICAgICAgICAgICB2YXIgcm93c0luZGV4ID0gc2hpZnRTZWxSb3dzSW5kZXgobGFzdENsaWNrZWRSb3csIGNydENsaWNrZWRSb3cpOwogICAgICAgICAgICAgICAgLy8gdXBkYXRlIGN1cnJlbnQgcGFnZSdzIHNlbENsYXNzCiAgICAgICAgICAgICAgICByb3dzSW5kZXgubWFwKGZ1bmN0aW9uKGkpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gRFRfcm93c19jdXJyZW50LmluZGV4T2YoaSk7CiAgICAgICAgICAgICAgICAgIGlmIChyb3dJbmRleCA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHRhYmxlLnJvdyhyb3dJbmRleCkubm9kZXMoKS50byQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZ1Jvd1NlbCA9ICFyb3cuaGFzQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICAgICAgICAgIGlmIChmbGFnU2VsID09PSBmbGFnUm93U2VsKSByb3cudG9nZ2xlQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBzZWxlY3RlZDEKICAgICAgICAgICAgICAgIGlmIChmbGFnU2VsKSB7CiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkMSA9IHVuaXF1ZShzZWxlY3RlZDEuY29uY2F0KHJvd3NJbmRleCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQxID0gc2VsZWN0ZWQxLmZpbHRlcihmdW5jdGlvbihpbmRleCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAhaW5BcnJheShpbmRleCwgcm93c0luZGV4KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGpzIHN0YXJ0cyBmcm9tIDAKICAgICAgICAgICAgICAgIHNoaWZ0U2VsUm93c0luZGV4KGxhc3RDbGlja2VkUm93IC0gMSwgY3J0Q2xpY2tlZFJvdyAtIDEpLm1hcChmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGFibGUucm93KHZhbHVlKS5ub2RlcygpLnRvJCgpOwogICAgICAgICAgICAgICAgICB2YXIgZmxhZ1Jvd1NlbCA9ICFyb3cuaGFzQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICAgICAgICBpZiAoZmxhZ1NlbCA9PT0gZmxhZ1Jvd1NlbCkgcm93LnRvZ2dsZUNsYXNzKHNlbENsYXNzKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgJHRoaXMudG9nZ2xlQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoJHRoaXMuaGFzQ2xhc3Moc2VsQ2xhc3MpKSB7CiAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRhYmxlLiQoJ3RyLicgKyBzZWxDbGFzcykucmVtb3ZlQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKHNlbENsYXNzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHNlcnZlciAmJiAhJHRoaXMuaGFzQ2xhc3Moc2VsQ2xhc3MpKSB7CiAgICAgICAgICAgIHZhciBpZCA9IERUX3Jvd3NfY3VycmVudFt0aGlzUm93LmluZGV4KCldOwogICAgICAgICAgICAvLyByZW1vdmUgaWQgZnJvbSBzZWxlY3RlZDEgc2luY2UgaXRzIGNsYXNzIC5zZWxlY3RlZCBoYXMgYmVlbiByZW1vdmVkCiAgICAgICAgICAgIGlmIChpbkFycmF5KGlkLCBzZWxlY3RlZDEpKSBzZWxlY3RlZDEuc3BsaWNlKCQuaW5BcnJheShpZCwgc2VsZWN0ZWQxKSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgICBzZWxlY3RlZFJvd3MoKTsgLy8gdXBkYXRlIHNlbGVjdGVkMSdzIHZhbHVlIGJhc2VkIG9uIHNlbENsYXNzCiAgICAgICAgICBzZWxlY3RSb3dzKGZhbHNlKTsgLy8gb25seSBrZWVwIHRoZSBzZWxlY3RhYmxlIHJvd3MKICAgICAgICAgIGNoYW5nZUlucHV0KCdyb3dzX3NlbGVjdGVkJywgc2VsZWN0ZWQxKTsKICAgICAgICAgIGNoYW5nZUlucHV0KCdyb3dfbGFzdF9jbGlja2VkJywgc2VydmVyUm93SW5kZXgodGhpc1Jvdy5pbmRleCgpKSwgbnVsbCwgbnVsbCwge3ByaW9yaXR5OiAnZXZlbnQnfSk7CiAgICAgICAgICBsYXN0Q2xpY2tlZFJvdyA9IHNlcnZlclJvd0luZGV4KHRoaXNSb3cuaW5kZXgoKSk7CiAgICAgICAgfSk7CiAgICAgICAgc2VsZWN0Um93cyhmYWxzZSk7ICAvLyBpbiBjYXNlIHVzZXJzIGhhdmUgc3BlY2lmaWVkIHByZS1zZWxlY3RlZCByb3dzCiAgICAgICAgLy8gcmVzdG9yZSBzZWxlY3RlZCByb3dzIGFmdGVyIHRoZSB0YWJsZSBpcyByZWRyYXduIChlLmcuIHNvcnQvc2VhcmNoL3BhZ2UpOwogICAgICAgIC8vIGNsaWVudC1zaWRlIHRhYmxlcyB3aWxsIHByZXNlcnZlIHRoZSBzZWxlY3Rpb25zIGF1dG9tYXRpY2FsbHk7IGZvcgogICAgICAgIC8vIHNlcnZlci1zaWRlIHRhYmxlcywgd2UgaGF2ZSB0byAqcmVhbCogcm93IGluZGljZXMgYXJlIGluIGBzZWxlY3RlZDFgCiAgICAgICAgY2hhbmdlSW5wdXQoJ3Jvd3Nfc2VsZWN0ZWQnLCBzZWxlY3RlZDEpOwogICAgICAgIGlmIChzZXJ2ZXIpIHRhYmxlLm9uKCdkcmF3LmR0JywgZnVuY3Rpb24oZSkgeyBzZWxlY3RSb3dzKGZhbHNlKTsgfSk7CiAgICAgICAgbWV0aG9kcy5zZWxlY3RSb3dzID0gZnVuY3Rpb24oc2VsZWN0ZWQsIGlnbm9yZVNlbGVjdGFibGUpIHsKICAgICAgICAgIHNlbGVjdGVkMSA9ICQubWFrZUFycmF5KHNlbGVjdGVkKTsKICAgICAgICAgIHNlbGVjdFJvd3MoaWdub3JlU2VsZWN0YWJsZSk7CiAgICAgICAgICBjaGFuZ2VJbnB1dCgncm93c19zZWxlY3RlZCcsIHNlbGVjdGVkMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaW5BcnJheShzZWxUYXJnZXQsIFsnY29sdW1uJywgJ3Jvdytjb2x1bW4nXSkpIHsKICAgICAgICBpZiAoc2VsVGFyZ2V0ID09PSAncm93K2NvbHVtbicpIHsKICAgICAgICAgICQodGFibGUuY29sdW1ucygpLmZvb3RlcigpKS5jc3MoJ2N1cnNvcicsICdwb2ludGVyJyk7CiAgICAgICAgfQogICAgICAgIC8vIHVwZGF0ZSBzZWxlY3RlZDIncyB2YWx1ZSBiYXNlZCBvbiBzZWxlY3RhYmxlMgogICAgICAgIHZhciBvbmx5S2VlcFNlbGVjdGFibGVDb2xzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoc2VsRGlzYWJsZSkgeyAvLyB1c2VycyBjYW4ndCBzZWxlY3Q7IHVzZWZ1bCB3aGVuIG9ubHkgd2FudCBiYWNrZW5kIHNlbGVjdAogICAgICAgICAgICBzZWxlY3RlZDIgPSBbXTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNlbGVjdGFibGUyLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgdmFyIG5vbnNlbGVjdGFibGUgPSBzZWxlY3RhYmxlMlswXSA8PSAwOwogICAgICAgICAgaWYgKG5vbnNlbGVjdGFibGUpIHsKICAgICAgICAgICAgLy8gbmVlZCB0byBtYWtlIHNlbGVjdGFibGUyIHBvc2l0aXZlCiAgICAgICAgICAgIHNlbGVjdGVkMiA9ICQoc2VsZWN0ZWQyKS5ub3Qoc2VsZWN0YWJsZTIubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIC1pOyB9KSkuZ2V0KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxlY3RlZDIgPSAkKHNlbGVjdGVkMikuZmlsdGVyKHNlbGVjdGFibGUyKS5nZXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gdXBkYXRlIHNlbGVjdGVkMiBhbmQgdGhlbgogICAgICAgIC8vIHJlZnJlc2ggdGhlIGNvbCBzZWxlY3Rpb24gc3RhdGUgYWNjb3JkaW5nIHRvIHZhbHVlcyBpbiBzZWxlY3RlZDIKICAgICAgICB2YXIgc2VsZWN0Q29scyA9IGZ1bmN0aW9uKGlnbm9yZVNlbGVjdGFibGUpIHsKICAgICAgICAgIGlmICghaWdub3JlU2VsZWN0YWJsZSkgb25seUtlZXBTZWxlY3RhYmxlQ29scygpOwogICAgICAgICAgLy8gaWYgc2VsZWN0ZWQyIGlzIG5vdCBhIHZhbGlkZSBpbmRleCAoZS5nLiwgbGFyZ2VyIHRoYW4gdGhlIGNvbHVtbiBudW1iZXIpCiAgICAgICAgICAvLyB0YWJsZS5jb2x1bW5zKHNlbGVjdGVkMikgd2lsbCBmYWlsIGFuZCByZXN1bHQgaW4gYSBibGFuayB0YWJsZQogICAgICAgICAgLy8gdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgdGFibGUucm93cygpLCB3aGVyZSB0aGUgb3V0LW9mLXJhbmdlIGluZGV4ZXMKICAgICAgICAgIC8vIGRvZXNuJ3QgYWZmZWN0IGF0IGFsbAogICAgICAgICAgc2VsZWN0ZWQyID0gJChzZWxlY3RlZDIpLmZpbHRlcih0YWJsZS5jb2x1bW5zKCkuaW5kZXhlcygpKS5nZXQoKTsKICAgICAgICAgIHRhYmxlLmNvbHVtbnMoKS5ub2RlcygpLmZsYXR0ZW4oKS50byQoKS5yZW1vdmVDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICBpZiAoc2VsZWN0ZWQyLmxlbmd0aCA+IDApCiAgICAgICAgICAgIHRhYmxlLmNvbHVtbnMoc2VsZWN0ZWQyKS5ub2RlcygpLmZsYXR0ZW4oKS50byQoKS5hZGRDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgfQogICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIGNvbElkeCA9IHNlbFRhcmdldCA9PT0gJ2NvbHVtbicgPyB0YWJsZS5jZWxsKHRoaXMpLmluZGV4KCkuY29sdW1uIDoKICAgICAgICAgICAgICAkLmluQXJyYXkodGhpcywgdGFibGUuY29sdW1ucygpLmZvb3RlcigpKSwKICAgICAgICAgICAgICB0aGlzQ29sID0gJCh0YWJsZS5jb2x1bW4oY29sSWR4KS5ub2RlcygpKTsKICAgICAgICAgIGlmIChjb2xJZHggPT09IC0xKSByZXR1cm47CiAgICAgICAgICBpZiAodGhpc0NvbC5oYXNDbGFzcyhzZWxDbGFzcykpIHsKICAgICAgICAgICAgdGhpc0NvbC5yZW1vdmVDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICAgIHNlbGVjdGVkMi5zcGxpY2UoJC5pbkFycmF5KGNvbElkeCwgc2VsZWN0ZWQyKSwgMSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoc2VsTW9kZSA9PT0gJ3NpbmdsZScpICQodGFibGUuY2VsbHMoKS5ub2RlcygpKS5yZW1vdmVDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICAgIHRoaXNDb2wuYWRkQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICBzZWxlY3RlZDIgPSBzZWxNb2RlID09PSAnc2luZ2xlJyA/IFtjb2xJZHhdIDogdW5pcXVlKHNlbGVjdGVkMi5jb25jYXQoW2NvbElkeF0pKTsKICAgICAgICAgIH0KICAgICAgICAgIHNlbGVjdENvbHMoZmFsc2UpOyAvLyB1cGRhdGUgc2VsZWN0ZWQyIGJhc2VkIG9uIHNlbGVjdGFibGUKICAgICAgICAgIGNoYW5nZUlucHV0KCdjb2x1bW5zX3NlbGVjdGVkJywgc2VsZWN0ZWQyKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbFRhcmdldCA9PT0gJ2NvbHVtbicpIHsKICAgICAgICAgICQodGFibGUudGFibGUoKS5ib2R5KCkpLm9uKCdjbGljay5kdCcsICd0ZCcsIGNhbGxiYWNrKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJCh0YWJsZS50YWJsZSgpLmZvb3RlcigpKS5vbignY2xpY2suZHQnLCAndHIgdGgnLCBjYWxsYmFjayk7CiAgICAgICAgfQogICAgICAgIHNlbGVjdENvbHMoZmFsc2UpOyAgLy8gaW4gY2FzZSB1c2VycyBoYXZlIHNwZWNpZmllZCBwcmUtc2VsZWN0ZWQgY29sdW1ucwogICAgICAgIGNoYW5nZUlucHV0KCdjb2x1bW5zX3NlbGVjdGVkJywgc2VsZWN0ZWQyKTsKICAgICAgICBpZiAoc2VydmVyKSB0YWJsZS5vbignZHJhdy5kdCcsIGZ1bmN0aW9uKGUpIHsgc2VsZWN0Q29scyhmYWxzZSk7IH0pOwogICAgICAgIG1ldGhvZHMuc2VsZWN0Q29sdW1ucyA9IGZ1bmN0aW9uKHNlbGVjdGVkLCBpZ25vcmVTZWxlY3RhYmxlKSB7CiAgICAgICAgICBzZWxlY3RlZDIgPSAkLm1ha2VBcnJheShzZWxlY3RlZCk7CiAgICAgICAgICBzZWxlY3RDb2xzKGlnbm9yZVNlbGVjdGFibGUpOwogICAgICAgICAgY2hhbmdlSW5wdXQoJ2NvbHVtbnNfc2VsZWN0ZWQnLCBzZWxlY3RlZDIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHNlbFRhcmdldCA9PT0gJ2NlbGwnKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkMyA9IFtdLCBzZWxlY3RhYmxlMyA9IFtdOwogICAgICAgIGlmIChzZWxlY3RlZCAhPT0gbnVsbCkgc2VsZWN0ZWQzID0gc2VsZWN0ZWQ7CiAgICAgICAgaWYgKHNlbGVjdGFibGUgIT09IG51bGwgJiYgdHlwZW9mIHNlbGVjdGFibGUgIT09ICdib29sZWFuJykgc2VsZWN0YWJsZTMgPSBzZWxlY3RhYmxlOwogICAgICAgIHZhciBmaW5kSW5kZXggPSBmdW5jdGlvbihpaiwgc2VsKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaWpbMF0gPT09IHNlbFtpXVswXSAmJiBpalsxXSA9PT0gc2VsW2ldWzFdKSByZXR1cm4gaTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CiAgICAgICAgIC8vIENoYW5nZSBzZWxlY3RlZDMncyB2YWx1ZSBiYXNlZCBvbiBzZWxlY3RhYmxlMywgdGhlbiByZWZyZXNoIHRoZSBjZWxsIHN0YXRlCiAgICAgICAgdmFyIG9ubHlLZWVwU2VsZWN0YWJsZUNlbGxzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoc2VsRGlzYWJsZSkgeyAvLyB1c2VycyBjYW4ndCBzZWxlY3Q7IHVzZWZ1bCB3aGVuIG9ubHkgd2FudCBiYWNrZW5kIHNlbGVjdAogICAgICAgICAgICBzZWxlY3RlZDMgPSBbXTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHNlbGVjdGFibGUzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgdmFyIG5vbnNlbGVjdGFibGUgPSBzZWxlY3RhYmxlM1swXVswXSA8PSAwOwogICAgICAgICAgdmFyIG91dCA9IFtdOwogICAgICAgICAgaWYgKG5vbnNlbGVjdGFibGUpIHsKICAgICAgICAgICAgc2VsZWN0ZWQzLm1hcChmdW5jdGlvbihpaikgewogICAgICAgICAgICAgIC8vIHNob3VsZCBtYWtlIHNlbGVjdGFibGUzIHBvc2l0aXZlCiAgICAgICAgICAgICAgaWYgKGZpbmRJbmRleChbLWlqWzBdLCAtaWpbMV1dLCBzZWxlY3RhYmxlMykgPT09IC0xKSB7IG91dC5wdXNoKGlqKTsgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGVjdGVkMy5tYXAoZnVuY3Rpb24oaWopIHsKICAgICAgICAgICAgICBpZiAoZmluZEluZGV4KGlqLCBzZWxlY3RhYmxlMykgPiAtMSkgeyBvdXQucHVzaChpaik7IH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBzZWxlY3RlZDMgPSBvdXQ7CiAgICAgICAgfQogICAgICAgIC8vIENoYW5nZSBzZWxlY3RlZDMncyB2YWx1ZSBiYXNlZCBvbiBzZWxlY3RhYmxlMywgdGhlbgogICAgICAgIC8vIHJlZnJlc2ggdGhlIGNlbGwgc2VsZWN0aW9uIHN0YXRlIGFjY29yZGluZyB0byB2YWx1ZXMgaW4gc2VsZWN0ZWQzCiAgICAgICAgdmFyIHNlbGVjdENlbGxzID0gZnVuY3Rpb24oaWdub3JlU2VsZWN0YWJsZSkgewogICAgICAgICAgaWYgKCFpZ25vcmVTZWxlY3RhYmxlKSBvbmx5S2VlcFNlbGVjdGFibGVDZWxscygpOwogICAgICAgICAgdGFibGUuJCgndGQuJyArIHNlbENsYXNzKS5yZW1vdmVDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICBpZiAoc2VsZWN0ZWQzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgaWYgKHNlcnZlcikgewogICAgICAgICAgICB0YWJsZS5jZWxscyh7cGFnZTogJ2N1cnJlbnQnfSkuZXZlcnkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdmFyIGluZm8gPSB0d2Vha0NlbGxJbmRleCh0aGlzKTsKICAgICAgICAgICAgICBpZiAoZmluZEluZGV4KFtpbmZvLnJvdywgaW5mby5jb2xdLCBzZWxlY3RlZDMpID4gLTEpCiAgICAgICAgICAgICAgICAkKHRoaXMubm9kZSgpKS5hZGRDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZWN0ZWQzLm1hcChmdW5jdGlvbihpaikgewogICAgICAgICAgICAgICQodGFibGUuY2VsbChpalswXSAtIDEsIGlqWzFdKS5ub2RlKCkpLmFkZENsYXNzKHNlbENsYXNzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB0YWJsZS5vbignY2xpY2suZHQnLCAndGJvZHkgdGQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksIGluZm8gPSB0d2Vha0NlbGxJbmRleCh0YWJsZS5jZWxsKHRoaXMpKTsKICAgICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcyhzZWxDbGFzcykpIHsKICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3Moc2VsQ2xhc3MpOwogICAgICAgICAgICBzZWxlY3RlZDMuc3BsaWNlKGZpbmRJbmRleChbaW5mby5yb3csIGluZm8uY29sXSwgc2VsZWN0ZWQzKSwgMSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoc2VsTW9kZSA9PT0gJ3NpbmdsZScpICQodGFibGUuY2VsbHMoKS5ub2RlcygpKS5yZW1vdmVDbGFzcyhzZWxDbGFzcyk7CiAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKHNlbENsYXNzKTsKICAgICAgICAgICAgc2VsZWN0ZWQzID0gc2VsTW9kZSA9PT0gJ3NpbmdsZScgPyBbW2luZm8ucm93LCBpbmZvLmNvbF1dIDoKICAgICAgICAgICAgICB1bmlxdWUoc2VsZWN0ZWQzLmNvbmNhdChbW2luZm8ucm93LCBpbmZvLmNvbF1dKSk7CiAgICAgICAgICB9CiAgICAgICAgICBzZWxlY3RDZWxscyhmYWxzZSk7IC8vIG11c3QgY2FsbCB0aGlzIHRvIHVwZGF0ZSBzZWxlY3RlZDMgYmFzZWQgb24gc2VsZWN0YWJsZTMKICAgICAgICAgIGNoYW5nZUlucHV0KCdjZWxsc19zZWxlY3RlZCcsIHRyYW5zcG9zZUFycmF5MkQoc2VsZWN0ZWQzKSwgJ3NoaW55Lm1hdHJpeCcpOwogICAgICAgIH0pOwogICAgICAgIHNlbGVjdENlbGxzKGZhbHNlKTsgIC8vIGluIGNhc2UgdXNlcnMgaGF2ZSBzcGVjaWZpZWQgcHJlLXNlbGVjdGVkIGNvbHVtbnMKICAgICAgICBjaGFuZ2VJbnB1dCgnY2VsbHNfc2VsZWN0ZWQnLCB0cmFuc3Bvc2VBcnJheTJEKHNlbGVjdGVkMyksICdzaGlueS5tYXRyaXgnKTsKCiAgICAgICAgaWYgKHNlcnZlcikgdGFibGUub24oJ2RyYXcuZHQnLCBmdW5jdGlvbihlKSB7IHNlbGVjdENlbGxzKGZhbHNlKTsgfSk7CiAgICAgICAgbWV0aG9kcy5zZWxlY3RDZWxscyA9IGZ1bmN0aW9uKHNlbGVjdGVkLCBpZ25vcmVTZWxlY3RhYmxlKSB7CiAgICAgICAgICBzZWxlY3RlZDMgPSBzZWxlY3RlZCA/IHNlbGVjdGVkIDogW107CiAgICAgICAgICBzZWxlY3RDZWxscyhpZ25vcmVTZWxlY3RhYmxlKTsKICAgICAgICAgIGNoYW5nZUlucHV0KCdjZWxsc19zZWxlY3RlZCcsIHRyYW5zcG9zZUFycmF5MkQoc2VsZWN0ZWQzKSwgJ3NoaW55Lm1hdHJpeCcpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIGV4cG9zZSBzb21lIHRhYmxlIGluZm8gdG8gU2hpbnkKICAgIHZhciB1cGRhdGVUYWJsZUluZm8gPSBmdW5jdGlvbihlLCBzZXR0aW5ncykgewogICAgICAvLyBUT0RPOiBpcyBhbnlvbmUgaW50ZXJlc3RlZCBpbiB0aGUgcGFnZSBpbmZvPwogICAgICAvLyBjaGFuZ2VJbnB1dCgncGFnZV9pbmZvJywgdGFibGUucGFnZS5pbmZvKCkpOwogICAgICB2YXIgdXBkYXRlUm93SW5mbyA9IGZ1bmN0aW9uKGlkLCBtb2RpZmllcikgewogICAgICAgIHZhciBpZHg7CiAgICAgICAgaWYgKHNlcnZlcikgewogICAgICAgICAgaWR4ID0gbW9kaWZpZXIucGFnZSA9PT0gJ2N1cnJlbnQnID8gRFRfcm93c19jdXJyZW50IDogRFRfcm93c19hbGw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciByb3dzID0gdGFibGUucm93cygkLmV4dGVuZCh7CiAgICAgICAgICAgIHNlYXJjaDogJ2FwcGxpZWQnLAogICAgICAgICAgICBwYWdlOiAnYWxsJwogICAgICAgICAgfSwgbW9kaWZpZXIpKTsKICAgICAgICAgIGlkeCA9IGFkZE9uZShyb3dzLmluZGV4ZXMoKS50b0FycmF5KCkpOwogICAgICAgIH0KICAgICAgICBjaGFuZ2VJbnB1dCgncm93cycgKyAnXycgKyBpZCwgaWR4KTsKICAgICAgfTsKICAgICAgdXBkYXRlUm93SW5mbygnY3VycmVudCcsIHtwYWdlOiAnY3VycmVudCd9KTsKICAgICAgdXBkYXRlUm93SW5mbygnYWxsJywge30pOwogICAgfQogICAgdGFibGUub24oJ2RyYXcuZHQnLCB1cGRhdGVUYWJsZUluZm8pOwogICAgdXBkYXRlVGFibGVJbmZvKCk7CgogICAgLy8gc3RhdGUgaW5mbwogICAgdGFibGUub24oJ2RyYXcuZHQgY29sdW1uLXZpc2liaWxpdHkuZHQnLCBmdW5jdGlvbigpIHsKICAgICAgY2hhbmdlSW5wdXQoJ3N0YXRlJywgdGFibGUuc3RhdGUoKSk7CiAgICB9KTsKICAgIGNoYW5nZUlucHV0KCdzdGF0ZScsIHRhYmxlLnN0YXRlKCkpOwoKICAgIC8vIHNlYXJjaCBpbmZvCiAgICB2YXIgdXBkYXRlU2VhcmNoSW5mbyA9IGZ1bmN0aW9uKCkgewogICAgICBjaGFuZ2VJbnB1dCgnc2VhcmNoJywgdGFibGUuc2VhcmNoKCkpOwogICAgICBpZiAoZmlsdGVyUm93KSBjaGFuZ2VJbnB1dCgnc2VhcmNoX2NvbHVtbnMnLCBmaWx0ZXJSb3cudG9BcnJheSgpLm1hcChmdW5jdGlvbih0ZCkgewogICAgICAgIHJldHVybiAkKHRkKS5maW5kKCdpbnB1dCcpLmZpcnN0KCkudmFsKCk7CiAgICAgIH0pKTsKICAgIH0KICAgIHRhYmxlLm9uKCdkcmF3LmR0JywgdXBkYXRlU2VhcmNoSW5mbyk7CiAgICB1cGRhdGVTZWFyY2hJbmZvKCk7CgogICAgdmFyIGNlbGxJbmZvID0gZnVuY3Rpb24odGhpeikgewogICAgICB2YXIgaW5mbyA9IHR3ZWFrQ2VsbEluZGV4KHRhYmxlLmNlbGwodGhpeikpOwogICAgICBpbmZvLnZhbHVlID0gdGFibGUuY2VsbCh0aGl6KS5kYXRhKCk7CiAgICAgIHJldHVybiBpbmZvOwogICAgfQogICAgLy8gdGhlIGN1cnJlbnQgY2VsbCBjbGlja2VkIG9uCiAgICB0YWJsZS5vbignY2xpY2suZHQnLCAndGJvZHkgdGQnLCBmdW5jdGlvbigpIHsKICAgICAgY2hhbmdlSW5wdXQoJ2NlbGxfY2xpY2tlZCcsIGNlbGxJbmZvKHRoaXMpLCBudWxsLCBudWxsLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgIH0pCiAgICBjaGFuZ2VJbnB1dCgnY2VsbF9jbGlja2VkJywge30pOwoKICAgIC8vIGRvIG5vdCB0cmlnZ2VyIHRhYmxlIHNlbGVjdGlvbiB3aGVuIGNsaWNraW5nIG9uIGxpbmtzIHVubGVzcyB0aGV5IGhhdmUgY2xhc3NlcwogICAgdGFibGUub24oJ2NsaWNrLmR0JywgJ3Rib2R5IHRkIGEnLCBmdW5jdGlvbihlKSB7CiAgICAgIGlmICh0aGlzLmNsYXNzTmFtZSA9PT0gJycpIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9KTsKCiAgICBtZXRob2RzLmFkZFJvdyA9IGZ1bmN0aW9uKGRhdGEsIHJvd25hbWUsIHJlc2V0UGFnaW5nKSB7CiAgICAgIHZhciBuID0gdGFibGUuY29sdW1ucygpLmluZGV4ZXMoKS5sZW5ndGgsIGQgPSBuIC0gZGF0YS5sZW5ndGg7CiAgICAgIGlmIChkID09PSAxKSB7CiAgICAgICAgZGF0YSA9IHJvd25hbWUuY29uY2F0KGRhdGEpCiAgICAgIH0gZWxzZSBpZiAoZCAhPT0gMCkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKHRhYmxlLmNvbHVtbnMoKS5pbmRleGVzKCkpOwogICAgICAgIHRocm93ICdOZXcgZGF0YSBtdXN0IGJlIG9mIHRoZSBzYW1lIGxlbmd0aCBhcyBjdXJyZW50IGRhdGEgKCcgKyBuICsgJyknOwogICAgICB9OwogICAgICB0YWJsZS5yb3cuYWRkKGRhdGEpLmRyYXcocmVzZXRQYWdpbmcpOwogICAgfQoKICAgIG1ldGhvZHMudXBkYXRlU2VhcmNoID0gZnVuY3Rpb24oa2V5d29yZHMpIHsKICAgICAgaWYgKGtleXdvcmRzLmdsb2JhbCAhPT0gbnVsbCkKICAgICAgICAkKHRhYmxlLnRhYmxlKCkuY29udGFpbmVyKCkpLmZpbmQoJ2lucHV0W3R5cGU9c2VhcmNoXScpLmZpcnN0KCkKICAgICAgICAgICAgIC52YWwoa2V5d29yZHMuZ2xvYmFsKS50cmlnZ2VyKCdpbnB1dCcpOwogICAgICB2YXIgY29sdW1ucyA9IGtleXdvcmRzLmNvbHVtbnM7CiAgICAgIGlmICghZmlsdGVyUm93IHx8IGNvbHVtbnMgPT09IG51bGwpIHJldHVybjsKICAgICAgZmlsdGVyUm93LnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24odGQsIGkpIHsKICAgICAgICB2YXIgdiA9IHR5cGVvZiBjb2x1bW5zID09PSAnc3RyaW5nJyA/IGNvbHVtbnMgOiBjb2x1bW5zW2ldOwogICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGUgc2VhcmNoIGtleXdvcmQgZm9yIGNvbHVtbiAnICsgaSArICcgaXMgdW5kZWZpbmVkJykKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgJCh0ZCkuZmluZCgnaW5wdXQnKS5maXJzdCgpLnZhbCh2KTsKICAgICAgICBzZWFyY2hDb2x1bW4oaSwgdik7CiAgICAgIH0pOwogICAgICB0YWJsZS5kcmF3KCk7CiAgICB9CgogICAgbWV0aG9kcy5oaWRlQ29scyA9IGZ1bmN0aW9uKGhpZGUsIHJlc2V0KSB7CiAgICAgIGlmIChyZXNldCkgdGFibGUuY29sdW1ucygpLnZpc2libGUodHJ1ZSwgZmFsc2UpOwogICAgICB0YWJsZS5jb2x1bW5zKGhpZGUpLnZpc2libGUoZmFsc2UpOwogICAgfQoKICAgIG1ldGhvZHMuc2hvd0NvbHMgPSBmdW5jdGlvbihzaG93LCByZXNldCkgewogICAgICBpZiAocmVzZXQpIHRhYmxlLmNvbHVtbnMoKS52aXNpYmxlKGZhbHNlLCBmYWxzZSk7CiAgICAgIHRhYmxlLmNvbHVtbnMoc2hvdykudmlzaWJsZSh0cnVlKTsKICAgIH0KCiAgICBtZXRob2RzLmNvbFJlb3JkZXIgPSBmdW5jdGlvbihvcmRlciwgb3JpZ09yZGVyKSB7CiAgICAgIHRhYmxlLmNvbFJlb3JkZXIub3JkZXIob3JkZXIsIG9yaWdPcmRlcik7CiAgICB9CgogICAgbWV0aG9kcy5zZWxlY3RQYWdlID0gZnVuY3Rpb24ocGFnZSkgewogICAgICBpZiAodGFibGUucGFnZS5pbmZvKCkucGFnZXMgPCBwYWdlIHx8IHBhZ2UgPCAxKSB7CiAgICAgICAgdGhyb3cgJ1NlbGVjdGVkIHBhZ2UgaXMgb3V0IG9mIHJhbmdlJzsKICAgICAgfTsKICAgICAgdGFibGUucGFnZShwYWdlIC0gMSkuZHJhdyhmYWxzZSk7CiAgICB9CgogICAgbWV0aG9kcy5yZWxvYWREYXRhID0gZnVuY3Rpb24ocmVzZXRQYWdpbmcsIGNsZWFyU2VsZWN0aW9uKSB7CiAgICAgIC8vIGVtcHR5IHNlbGVjdGlvbnMgZmlyc3QgaWYgbmVjZXNzYXJ5CiAgICAgIGlmIChtZXRob2RzLnNlbGVjdFJvd3MgJiYgaW5BcnJheSgncm93JywgY2xlYXJTZWxlY3Rpb24pKSBtZXRob2RzLnNlbGVjdFJvd3MoW10pOwogICAgICBpZiAobWV0aG9kcy5zZWxlY3RDb2x1bW5zICYmIGluQXJyYXkoJ2NvbHVtbicsIGNsZWFyU2VsZWN0aW9uKSkgbWV0aG9kcy5zZWxlY3RDb2x1bW5zKFtdKTsKICAgICAgaWYgKG1ldGhvZHMuc2VsZWN0Q2VsbHMgJiYgaW5BcnJheSgnY2VsbCcsIGNsZWFyU2VsZWN0aW9uKSkgbWV0aG9kcy5zZWxlY3RDZWxscyhbXSk7CiAgICAgIHRhYmxlLmFqYXgucmVsb2FkKG51bGwsIHJlc2V0UGFnaW5nKTsKICAgIH0KCiAgICB0YWJsZS5zaGlueU1ldGhvZHMgPSBtZXRob2RzOwogIH0sCiAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgIGlmIChpbnN0YW5jZS5kYXRhKSB0aGlzLnJlbmRlclZhbHVlKGVsLCBpbnN0YW5jZS5kYXRhLCBpbnN0YW5jZSk7CgogICAgLy8gZHluYW1pY2FsbHkgYWRqdXN0IGhlaWdodCBpZiBmaWxsQ29udGFpbmVyID0gVFJVRQogICAgaWYgKGluc3RhbmNlLmZpbGxDb250YWluZXIpCiAgICAgIHRoaXMuZmlsbEF2YWlsYWJsZUhlaWdodChlbCwgaGVpZ2h0KTsKCiAgICB0aGlzLmFkanVzdFdpZHRoKGVsKTsKICB9LAoKICAvLyBkeW5hbWljYWxseSBzZXQgdGhlIHNjcm9sbCBib2R5IHRvIGZpbGwgYXZhaWxhYmxlIGhlaWdodAogIC8vICh1c2VkIHdpdGggZmlsbENvbnRhaW5lciA9IFRSVUUpCiAgZmlsbEF2YWlsYWJsZUhlaWdodDogZnVuY3Rpb24oZWwsIGF2YWlsYWJsZUhlaWdodCkgewoKICAgIC8vIHNlZSBob3cgbXVjaCBvZiB0aGUgdGFibGUgaXMgb2NjdXBpZWQgYnkgaGVhZGVyL2Zvb3RlciBlbGVtZW50cwogICAgLy8gYW5kIHVzZSB0aGF0IHRvIGNvbXB1dGUgYSB0YXJnZXQgc2Nyb2xsIGJvZHkgaGVpZ2h0CiAgICB2YXIgZHRXcmFwcGVyID0gJChlbCkuZmluZCgnZGl2LmRhdGFUYWJsZXNfd3JhcHBlcicpOwogICAgdmFyIGR0U2Nyb2xsQm9keSA9ICQoZWwpLmZpbmQoJCgnZGl2LmRhdGFUYWJsZXNfc2Nyb2xsQm9keScpKTsKICAgIHZhciBmcmFtaW5nSGVpZ2h0ID0gZHRXcmFwcGVyLmlubmVySGVpZ2h0KCkgLSBkdFNjcm9sbEJvZHkuaW5uZXJIZWlnaHQoKTsKICAgIHZhciBzY3JvbGxCb2R5SGVpZ2h0ID0gYXZhaWxhYmxlSGVpZ2h0IC0gZnJhbWluZ0hlaWdodDsKCiAgICAvLyBzZXQgdGhlIGhlaWdodAogICAgZHRTY3JvbGxCb2R5LmhlaWdodChzY3JvbGxCb2R5SGVpZ2h0ICsgJ3B4Jyk7CiAgfSwKCiAgLy8gYWRqdXN0IHRoZSB3aWR0aCBvZiBjb2x1bW5zOyByZW1vdmUgdGhlIGhhcmQtY29kZWQgd2lkdGhzIG9uIHRhYmxlIGFuZCB0aGUKICAvLyBzY3JvbGwgaGVhZGVyIHdoZW4gc2Nyb2xsWC9ZIGFyZSBlbmFibGVkCiAgYWRqdXN0V2lkdGg6IGZ1bmN0aW9uKGVsKSB7CiAgICB2YXIgJGVsID0gJChlbCksIHRhYmxlID0gJGVsLmRhdGEoJ2RhdGF0YWJsZScpOwogICAgaWYgKHRhYmxlKSB0YWJsZS5jb2x1bW5zLmFkanVzdCgpOwogICAgJGVsLmZpbmQoJy5kYXRhVGFibGVzX3Njcm9sbEhlYWRJbm5lcicpLmNzcygnd2lkdGgnLCAnJykKICAgICAgICAuY2hpbGRyZW4oJ3RhYmxlJykuY3NzKCdtYXJnaW4tbGVmdCcsICcnKTsKICB9Cn0pOwoKICBpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgcmV0dXJuOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZGF0YXRhYmxlLWNhbGxzJywgZnVuY3Rpb24oZGF0YSkgewogICAgdmFyIGlkID0gZGF0YS5pZDsKICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgIHZhciB0YWJsZSA9IGVsID8gJChlbCkuZGF0YSgnZGF0YXRhYmxlJykgOiBudWxsOwogICAgaWYgKCF0YWJsZSkgewogICAgICBjb25zb2xlLmxvZygiQ291bGRuJ3QgZmluZCB0YWJsZSB3aXRoIGlkICIgKyBpZCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbWV0aG9kcyA9IHRhYmxlLnNoaW55TWV0aG9kcywgY2FsbCA9IGRhdGEuY2FsbDsKICAgIGlmIChtZXRob2RzW2NhbGwubWV0aG9kXSkgewogICAgICBtZXRob2RzW2NhbGwubWV0aG9kXS5hcHBseSh0YWJsZSwgY2FsbC5hcmdzKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCJVbmtub3duIG1ldGhvZCAiICsgY2FsbC5tZXRob2QpOwogICAgfQogIH0pOwoKfSkoKTsK"></script>
  <link href="data:text/css,table%2EdataTable%7Bwidth%3A100%25%3Bmargin%3A0%20auto%3Bclear%3Aboth%3Bborder%2Dcollapse%3Aseparate%3Bborder%2Dspacing%3A0%7Dtable%2EdataTable%20thead%20th%2Ctable%2EdataTable%20tfoot%20th%7Bfont%2Dweight%3Abold%7Dtable%2EdataTable%20thead%20th%2Ctable%2EdataTable%20thead%20td%7Bpadding%3A10px%2018px%3Bborder%2Dbottom%3A1px%20solid%20%23111%7Dtable%2EdataTable%20thead%20th%3Aactive%2Ctable%2EdataTable%20thead%20td%3Aactive%7Boutline%3Anone%7Dtable%2EdataTable%20tfoot%20th%2Ctable%2EdataTable%20tfoot%20td%7Bpadding%3A10px%2018px%206px%2018px%3Bborder%2Dtop%3A1px%20solid%20%23111%7Dtable%2EdataTable%20thead%20%2Esorting%2Ctable%2EdataTable%20thead%20%2Esorting%5Fasc%2Ctable%2EdataTable%20thead%20%2Esorting%5Fdesc%2Ctable%2EdataTable%20thead%20%2Esorting%5Fasc%5Fdisabled%2Ctable%2EdataTable%20thead%20%2Esorting%5Fdesc%5Fdisabled%7Bcursor%3Apointer%3B%2Acursor%3Ahand%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bbackground%2Dposition%3Acenter%20right%7Dtable%2EdataTable%20thead%20%2Esorting%7Bbackground%2Dimage%3Aurl%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL%2BTq%2FQCM1oNiJidwox0355mXnG%2FDrEtIQ6azioNZQxI0ykPhTQIwhCR%2BBmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P%2BGtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC%29%7Dtable%2EdataTable%20thead%20%2Esorting%5Fasc%7Bbackground%2Dimage%3Aurl%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS%2FgDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM%2BwTENuQahAvEO9DMwiGdwAxOymGJQLxTyD%2BjgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg%3D%3D%29%7Dtable%2EdataTable%20thead%20%2Esorting%5Fdesc%7Bbackground%2Dimage%3Aurl%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA%2FBOIv2PBIPFEUgxjB%2BIdQPwfC94HxLykus4GiD%2BhGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL%2BAuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII%3D%29%7Dtable%2EdataTable%20thead%20%2Esorting%5Fasc%5Fdisabled%7Bbackground%2Dimage%3Aurl%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAW0lEQVQoz2NgoCm4w3Vnwh02wspK7%2Fy6k01Ikdadx3f%2B37l9RxmfIsY7c4GKQHDiHUbcyhzvvIMq%2B3THBpci3jv7oIpAcMcdduzKEu%2F8vPMdDn%2FeiWQYBYMKAAC3ykIEuYQJUgAAAABJRU5ErkJggg%3D%3D%29%7Dtable%2EdataTable%20thead%20%2Esorting%5Fdesc%5Fdisabled%7Bbackground%2Dimage%3Aurl%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAWUlEQVQoz2NgGAWDCtyJvPPzznc4%2FHknEbsy9js77vyHw313eHGZZ3PnE1TRuzuOuK1lvDMRqmzuHUZ87lO%2Bcxuo6PEdLUIeyb7z604pYf%2By3Zlwh4u2YQoAc7ZCBHH4jigAAAAASUVORK5CYII%3D%29%7Dtable%2EdataTable%20tbody%20tr%7Bbackground%2Dcolor%3A%23ffffff%7Dtable%2EdataTable%20tbody%20tr%2Eselected%7Bbackground%2Dcolor%3A%23B0BED9%7Dtable%2EdataTable%20tbody%20th%2Ctable%2EdataTable%20tbody%20td%7Bpadding%3A8px%2010px%7Dtable%2EdataTable%2Erow%2Dborder%20tbody%20th%2Ctable%2EdataTable%2Erow%2Dborder%20tbody%20td%2Ctable%2EdataTable%2Edisplay%20tbody%20th%2Ctable%2EdataTable%2Edisplay%20tbody%20td%7Bborder%2Dtop%3A1px%20solid%20%23ddd%7Dtable%2EdataTable%2Erow%2Dborder%20tbody%20tr%3Afirst%2Dchild%20th%2Ctable%2EdataTable%2Erow%2Dborder%20tbody%20tr%3Afirst%2Dchild%20td%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3Afirst%2Dchild%20th%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3Afirst%2Dchild%20td%7Bborder%2Dtop%3Anone%7Dtable%2EdataTable%2Ecell%2Dborder%20tbody%20th%2Ctable%2EdataTable%2Ecell%2Dborder%20tbody%20td%7Bborder%2Dtop%3A1px%20solid%20%23ddd%3Bborder%2Dright%3A1px%20solid%20%23ddd%7Dtable%2EdataTable%2Ecell%2Dborder%20tbody%20tr%20th%3Afirst%2Dchild%2Ctable%2EdataTable%2Ecell%2Dborder%20tbody%20tr%20td%3Afirst%2Dchild%7Bborder%2Dleft%3A1px%20solid%20%23ddd%7Dtable%2EdataTable%2Ecell%2Dborder%20tbody%20tr%3Afirst%2Dchild%20th%2Ctable%2EdataTable%2Ecell%2Dborder%20tbody%20tr%3Afirst%2Dchild%20td%7Bborder%2Dtop%3Anone%7Dtable%2EdataTable%2Estripe%20tbody%20tr%2Eodd%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%7Bbackground%2Dcolor%3A%23f9f9f9%7Dtable%2EdataTable%2Estripe%20tbody%20tr%2Eodd%2Eselected%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%2Eselected%7Bbackground%2Dcolor%3A%23acbad4%7Dtable%2EdataTable%2Ehover%20tbody%20tr%3Ahover%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%7Bbackground%2Dcolor%3A%23f6f6f6%7Dtable%2EdataTable%2Ehover%20tbody%20tr%3Ahover%2Eselected%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%2Eselected%7Bbackground%2Dcolor%3A%23aab7d1%7Dtable%2EdataTable%2Eorder%2Dcolumn%20tbody%20tr%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%20tbody%20tr%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%20tbody%20tr%3E%2Esorting%5F3%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3E%2Esorting%5F1%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3E%2Esorting%5F2%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23fafafa%7Dtable%2EdataTable%2Eorder%2Dcolumn%20tbody%20tr%2Eselected%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%20tbody%20tr%2Eselected%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%20tbody%20tr%2Eselected%3E%2Esorting%5F3%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%2Eselected%3E%2Esorting%5F1%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%2Eselected%3E%2Esorting%5F2%2Ctable%2EdataTable%2Edisplay%20tbody%20tr%2Eselected%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23acbad5%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eodd%3E%2Esorting%5F1%7Bbackground%2Dcolor%3A%23f1f1f1%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eodd%3E%2Esorting%5F2%7Bbackground%2Dcolor%3A%23f3f3f3%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%3E%2Esorting%5F3%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eodd%3E%2Esorting%5F3%7Bbackground%2Dcolor%3Awhitesmoke%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%2Eselected%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eodd%2Eselected%3E%2Esorting%5F1%7Bbackground%2Dcolor%3A%23a6b4cd%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%2Eselected%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eodd%2Eselected%3E%2Esorting%5F2%7Bbackground%2Dcolor%3A%23a8b5cf%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eodd%2Eselected%3E%2Esorting%5F3%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eodd%2Eselected%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23a9b7d1%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eeven%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eeven%3E%2Esorting%5F1%7Bbackground%2Dcolor%3A%23fafafa%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eeven%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eeven%3E%2Esorting%5F2%7Bbackground%2Dcolor%3A%23fcfcfc%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eeven%3E%2Esorting%5F3%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eeven%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23fefefe%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eeven%2Eselected%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eeven%2Eselected%3E%2Esorting%5F1%7Bbackground%2Dcolor%3A%23acbad5%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eeven%2Eselected%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eeven%2Eselected%3E%2Esorting%5F2%7Bbackground%2Dcolor%3A%23aebcd6%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%2Eeven%2Eselected%3E%2Esorting%5F3%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Estripe%20tbody%20tr%2Eeven%2Eselected%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23afbdd8%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Ehover%20tbody%20tr%3Ahover%3E%2Esorting%5F1%7Bbackground%2Dcolor%3A%23eaeaea%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Ehover%20tbody%20tr%3Ahover%3E%2Esorting%5F2%7Bbackground%2Dcolor%3A%23ececec%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%3E%2Esorting%5F3%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Ehover%20tbody%20tr%3Ahover%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23efefef%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%2Eselected%3E%2Esorting%5F1%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Ehover%20tbody%20tr%3Ahover%2Eselected%3E%2Esorting%5F1%7Bbackground%2Dcolor%3A%23a2aec7%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%2Eselected%3E%2Esorting%5F2%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Ehover%20tbody%20tr%3Ahover%2Eselected%3E%2Esorting%5F2%7Bbackground%2Dcolor%3A%23a3b0c9%7Dtable%2EdataTable%2Edisplay%20tbody%20tr%3Ahover%2Eselected%3E%2Esorting%5F3%2Ctable%2EdataTable%2Eorder%2Dcolumn%2Ehover%20tbody%20tr%3Ahover%2Eselected%3E%2Esorting%5F3%7Bbackground%2Dcolor%3A%23a5b2cb%7Dtable%2EdataTable%2Eno%2Dfooter%7Bborder%2Dbottom%3A1px%20solid%20%23111%7Dtable%2EdataTable%2Enowrap%20th%2Ctable%2EdataTable%2Enowrap%20td%7Bwhite%2Dspace%3Anowrap%7Dtable%2EdataTable%2Ecompact%20thead%20th%2Ctable%2EdataTable%2Ecompact%20thead%20td%7Bpadding%3A4px%2017px%204px%204px%7Dtable%2EdataTable%2Ecompact%20tfoot%20th%2Ctable%2EdataTable%2Ecompact%20tfoot%20td%7Bpadding%3A4px%7Dtable%2EdataTable%2Ecompact%20tbody%20th%2Ctable%2EdataTable%2Ecompact%20tbody%20td%7Bpadding%3A4px%7Dtable%2EdataTable%20th%2Edt%2Dleft%2Ctable%2EdataTable%20td%2Edt%2Dleft%7Btext%2Dalign%3Aleft%7Dtable%2EdataTable%20th%2Edt%2Dcenter%2Ctable%2EdataTable%20td%2Edt%2Dcenter%2Ctable%2EdataTable%20td%2EdataTables%5Fempty%7Btext%2Dalign%3Acenter%7Dtable%2EdataTable%20th%2Edt%2Dright%2Ctable%2EdataTable%20td%2Edt%2Dright%7Btext%2Dalign%3Aright%7Dtable%2EdataTable%20th%2Edt%2Djustify%2Ctable%2EdataTable%20td%2Edt%2Djustify%7Btext%2Dalign%3Ajustify%7Dtable%2EdataTable%20th%2Edt%2Dnowrap%2Ctable%2EdataTable%20td%2Edt%2Dnowrap%7Bwhite%2Dspace%3Anowrap%7Dtable%2EdataTable%20thead%20th%2Edt%2Dhead%2Dleft%2Ctable%2EdataTable%20thead%20td%2Edt%2Dhead%2Dleft%2Ctable%2EdataTable%20tfoot%20th%2Edt%2Dhead%2Dleft%2Ctable%2EdataTable%20tfoot%20td%2Edt%2Dhead%2Dleft%7Btext%2Dalign%3Aleft%7Dtable%2EdataTable%20thead%20th%2Edt%2Dhead%2Dcenter%2Ctable%2EdataTable%20thead%20td%2Edt%2Dhead%2Dcenter%2Ctable%2EdataTable%20tfoot%20th%2Edt%2Dhead%2Dcenter%2Ctable%2EdataTable%20tfoot%20td%2Edt%2Dhead%2Dcenter%7Btext%2Dalign%3Acenter%7Dtable%2EdataTable%20thead%20th%2Edt%2Dhead%2Dright%2Ctable%2EdataTable%20thead%20td%2Edt%2Dhead%2Dright%2Ctable%2EdataTable%20tfoot%20th%2Edt%2Dhead%2Dright%2Ctable%2EdataTable%20tfoot%20td%2Edt%2Dhead%2Dright%7Btext%2Dalign%3Aright%7Dtable%2EdataTable%20thead%20th%2Edt%2Dhead%2Djustify%2Ctable%2EdataTable%20thead%20td%2Edt%2Dhead%2Djustify%2Ctable%2EdataTable%20tfoot%20th%2Edt%2Dhead%2Djustify%2Ctable%2EdataTable%20tfoot%20td%2Edt%2Dhead%2Djustify%7Btext%2Dalign%3Ajustify%7Dtable%2EdataTable%20thead%20th%2Edt%2Dhead%2Dnowrap%2Ctable%2EdataTable%20thead%20td%2Edt%2Dhead%2Dnowrap%2Ctable%2EdataTable%20tfoot%20th%2Edt%2Dhead%2Dnowrap%2Ctable%2EdataTable%20tfoot%20td%2Edt%2Dhead%2Dnowrap%7Bwhite%2Dspace%3Anowrap%7Dtable%2EdataTable%20tbody%20th%2Edt%2Dbody%2Dleft%2Ctable%2EdataTable%20tbody%20td%2Edt%2Dbody%2Dleft%7Btext%2Dalign%3Aleft%7Dtable%2EdataTable%20tbody%20th%2Edt%2Dbody%2Dcenter%2Ctable%2EdataTable%20tbody%20td%2Edt%2Dbody%2Dcenter%7Btext%2Dalign%3Acenter%7Dtable%2EdataTable%20tbody%20th%2Edt%2Dbody%2Dright%2Ctable%2EdataTable%20tbody%20td%2Edt%2Dbody%2Dright%7Btext%2Dalign%3Aright%7Dtable%2EdataTable%20tbody%20th%2Edt%2Dbody%2Djustify%2Ctable%2EdataTable%20tbody%20td%2Edt%2Dbody%2Djustify%7Btext%2Dalign%3Ajustify%7Dtable%2EdataTable%20tbody%20th%2Edt%2Dbody%2Dnowrap%2Ctable%2EdataTable%20tbody%20td%2Edt%2Dbody%2Dnowrap%7Bwhite%2Dspace%3Anowrap%7Dtable%2EdataTable%2Ctable%2EdataTable%20th%2Ctable%2EdataTable%20td%7Bbox%2Dsizing%3Acontent%2Dbox%7D%2EdataTables%5Fwrapper%7Bposition%3Arelative%3Bclear%3Aboth%3B%2Azoom%3A1%3Bzoom%3A1%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Flength%7Bfloat%3Aleft%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Ffilter%7Bfloat%3Aright%3Btext%2Dalign%3Aright%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Ffilter%20input%7Bmargin%2Dleft%3A0%2E5em%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Finfo%7Bclear%3Aboth%3Bfloat%3Aleft%3Bpadding%2Dtop%3A0%2E755em%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%7Bfloat%3Aright%3Btext%2Dalign%3Aright%3Bpadding%2Dtop%3A0%2E25em%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%7Bbox%2Dsizing%3Aborder%2Dbox%3Bdisplay%3Ainline%2Dblock%3Bmin%2Dwidth%3A1%2E5em%3Bpadding%3A0%2E5em%201em%3Bmargin%2Dleft%3A2px%3Btext%2Dalign%3Acenter%3Btext%2Ddecoration%3Anone%20%21important%3Bcursor%3Apointer%3B%2Acursor%3Ahand%3Bcolor%3A%23333%20%21important%3Bborder%3A1px%20solid%20transparent%3Bborder%2Dradius%3A2px%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%2Ecurrent%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%2Ecurrent%3Ahover%7Bcolor%3A%23333%20%21important%3Bborder%3A1px%20solid%20%23979797%3Bbackground%2Dcolor%3Awhite%3Bbackground%3A%2Dwebkit%2Dgradient%28linear%2C%20left%20top%2C%20left%20bottom%2C%20color%2Dstop%280%25%2C%20%23fff%29%2C%20color%2Dstop%28100%25%2C%20%23dcdcdc%29%29%3Bbackground%3A%2Dwebkit%2Dlinear%2Dgradient%28top%2C%20%23fff%200%25%2C%20%23dcdcdc%20100%25%29%3Bbackground%3A%2Dmoz%2Dlinear%2Dgradient%28top%2C%20%23fff%200%25%2C%20%23dcdcdc%20100%25%29%3Bbackground%3A%2Dms%2Dlinear%2Dgradient%28top%2C%20%23fff%200%25%2C%20%23dcdcdc%20100%25%29%3Bbackground%3A%2Do%2Dlinear%2Dgradient%28top%2C%20%23fff%200%25%2C%20%23dcdcdc%20100%25%29%3Bbackground%3Alinear%2Dgradient%28to%20bottom%2C%20%23fff%200%25%2C%20%23dcdcdc%20100%25%29%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%2Edisabled%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%2Edisabled%3Ahover%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%2Edisabled%3Aactive%7Bcursor%3Adefault%3Bcolor%3A%23666%20%21important%3Bborder%3A1px%20solid%20transparent%3Bbackground%3Atransparent%3Bbox%2Dshadow%3Anone%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%3Ahover%7Bcolor%3Awhite%20%21important%3Bborder%3A1px%20solid%20%23111%3Bbackground%2Dcolor%3A%23585858%3Bbackground%3A%2Dwebkit%2Dgradient%28linear%2C%20left%20top%2C%20left%20bottom%2C%20color%2Dstop%280%25%2C%20%23585858%29%2C%20color%2Dstop%28100%25%2C%20%23111%29%29%3Bbackground%3A%2Dwebkit%2Dlinear%2Dgradient%28top%2C%20%23585858%200%25%2C%20%23111%20100%25%29%3Bbackground%3A%2Dmoz%2Dlinear%2Dgradient%28top%2C%20%23585858%200%25%2C%20%23111%20100%25%29%3Bbackground%3A%2Dms%2Dlinear%2Dgradient%28top%2C%20%23585858%200%25%2C%20%23111%20100%25%29%3Bbackground%3A%2Do%2Dlinear%2Dgradient%28top%2C%20%23585858%200%25%2C%20%23111%20100%25%29%3Bbackground%3Alinear%2Dgradient%28to%20bottom%2C%20%23585858%200%25%2C%20%23111%20100%25%29%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Epaginate%5Fbutton%3Aactive%7Boutline%3Anone%3Bbackground%2Dcolor%3A%232b2b2b%3Bbackground%3A%2Dwebkit%2Dgradient%28linear%2C%20left%20top%2C%20left%20bottom%2C%20color%2Dstop%280%25%2C%20%232b2b2b%29%2C%20color%2Dstop%28100%25%2C%20%230c0c0c%29%29%3Bbackground%3A%2Dwebkit%2Dlinear%2Dgradient%28top%2C%20%232b2b2b%200%25%2C%20%230c0c0c%20100%25%29%3Bbackground%3A%2Dmoz%2Dlinear%2Dgradient%28top%2C%20%232b2b2b%200%25%2C%20%230c0c0c%20100%25%29%3Bbackground%3A%2Dms%2Dlinear%2Dgradient%28top%2C%20%232b2b2b%200%25%2C%20%230c0c0c%20100%25%29%3Bbackground%3A%2Do%2Dlinear%2Dgradient%28top%2C%20%232b2b2b%200%25%2C%20%230c0c0c%20100%25%29%3Bbackground%3Alinear%2Dgradient%28to%20bottom%2C%20%232b2b2b%200%25%2C%20%230c0c0c%20100%25%29%3Bbox%2Dshadow%3Ainset%200%200%203px%20%23111%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%20%2Eellipsis%7Bpadding%3A0%201em%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fprocessing%7Bposition%3Aabsolute%3Btop%3A50%25%3Bleft%3A50%25%3Bwidth%3A100%25%3Bheight%3A40px%3Bmargin%2Dleft%3A%2D50%25%3Bmargin%2Dtop%3A%2D25px%3Bpadding%2Dtop%3A20px%3Btext%2Dalign%3Acenter%3Bfont%2Dsize%3A1%2E2em%3Bbackground%2Dcolor%3Awhite%3Bbackground%3A%2Dwebkit%2Dgradient%28linear%2C%20left%20top%2C%20right%20top%2C%20color%2Dstop%280%25%2C%20rgba%28255%2C255%2C255%2C0%29%29%2C%20color%2Dstop%2825%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%29%2C%20color%2Dstop%2875%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%29%2C%20color%2Dstop%28100%25%2C%20rgba%28255%2C255%2C255%2C0%29%29%29%3Bbackground%3A%2Dwebkit%2Dlinear%2Dgradient%28left%2C%20rgba%28255%2C255%2C255%2C0%29%200%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2025%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2075%25%2C%20rgba%28255%2C255%2C255%2C0%29%20100%25%29%3Bbackground%3A%2Dmoz%2Dlinear%2Dgradient%28left%2C%20rgba%28255%2C255%2C255%2C0%29%200%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2025%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2075%25%2C%20rgba%28255%2C255%2C255%2C0%29%20100%25%29%3Bbackground%3A%2Dms%2Dlinear%2Dgradient%28left%2C%20rgba%28255%2C255%2C255%2C0%29%200%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2025%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2075%25%2C%20rgba%28255%2C255%2C255%2C0%29%20100%25%29%3Bbackground%3A%2Do%2Dlinear%2Dgradient%28left%2C%20rgba%28255%2C255%2C255%2C0%29%200%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2025%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2075%25%2C%20rgba%28255%2C255%2C255%2C0%29%20100%25%29%3Bbackground%3Alinear%2Dgradient%28to%20right%2C%20rgba%28255%2C255%2C255%2C0%29%200%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2025%25%2C%20rgba%28255%2C255%2C255%2C0%2E9%29%2075%25%2C%20rgba%28255%2C255%2C255%2C0%29%20100%25%29%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Flength%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Ffilter%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Finfo%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fprocessing%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%7Bcolor%3A%23333%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%7Bclear%3Aboth%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%7B%2Amargin%2Dtop%3A%2D1px%3B%2Dwebkit%2Doverflow%2Dscrolling%3Atouch%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Ethead%3Etr%3Eth%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Ethead%3Etr%3Etd%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Etbody%3Etr%3Eth%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Etbody%3Etr%3Etd%7Bvertical%2Dalign%3Amiddle%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Ethead%3Etr%3Eth%3Ediv%2EdataTables%5Fsizing%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Ethead%3Etr%3Etd%3Ediv%2EdataTables%5Fsizing%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Etbody%3Etr%3Eth%3Ediv%2EdataTables%5Fsizing%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fscroll%20div%2EdataTables%5FscrollBody%3Etable%3Etbody%3Etr%3Etd%3Ediv%2EdataTables%5Fsizing%7Bheight%3A0%3Boverflow%3Ahidden%3Bmargin%3A0%20%21important%3Bpadding%3A0%20%21important%7D%2EdataTables%5Fwrapper%2Eno%2Dfooter%20%2EdataTables%5FscrollBody%7Bborder%2Dbottom%3A1px%20solid%20%23111%7D%2EdataTables%5Fwrapper%2Eno%2Dfooter%20div%2EdataTables%5FscrollHead%20table%2EdataTable%2C%2EdataTables%5Fwrapper%2Eno%2Dfooter%20div%2EdataTables%5FscrollBody%3Etable%7Bborder%2Dbottom%3Anone%7D%2EdataTables%5Fwrapper%3Aafter%7Bvisibility%3Ahidden%3Bdisplay%3Ablock%3Bcontent%3A%22%22%3Bclear%3Aboth%3Bheight%3A0%7D%40media%20screen%20and%20%28max%2Dwidth%3A%20767px%29%7B%2EdataTables%5Fwrapper%20%2EdataTables%5Finfo%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%7Bfloat%3Anone%3Btext%2Dalign%3Acenter%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Fpaginate%7Bmargin%2Dtop%3A0%2E5em%7D%7D%40media%20screen%20and%20%28max%2Dwidth%3A%20640px%29%7B%2EdataTables%5Fwrapper%20%2EdataTables%5Flength%2C%2EdataTables%5Fwrapper%20%2EdataTables%5Ffilter%7Bfloat%3Anone%3Btext%2Dalign%3Acenter%7D%2EdataTables%5Fwrapper%20%2EdataTables%5Ffilter%7Bmargin%2Dtop%3A0%2E5em%7D%7D%0A" rel="stylesheet" />
  <link href="data:text/css,%0Atable%2EdataTable%20tr%2Eselected%20td%2C%20table%2EdataTable%20td%2Eselected%20%7B%0Abackground%2Dcolor%3A%20%23b0bed9%20%21important%3B%0A%7D%0A%0A%2EdataTables%5FscrollBody%20%2EdataTables%5Fsizing%20%7B%0Avisibility%3A%20hidden%3B%0A%7D%0A%0Adiv%2Edatatables%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,LyohCiAgIENvcHlyaWdodCAyMDA4LTIwMTkgU3ByeU1lZGlhIEx0ZC4KCiBUaGlzIHNvdXJjZSBmaWxlIGlzIGZyZWUgc29mdHdhcmUsIGF2YWlsYWJsZSB1bmRlciB0aGUgZm9sbG93aW5nIGxpY2Vuc2U6CiAgIE1JVCBsaWNlbnNlIC0gaHR0cDovL2RhdGF0YWJsZXMubmV0L2xpY2Vuc2UKCiBUaGlzIHNvdXJjZSBmaWxlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dAogV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkKIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlIGxpY2Vuc2UgZmlsZXMgZm9yIGRldGFpbHMuCgogRm9yIGRldGFpbHMgcGxlYXNlIHJlZmVyIHRvOiBodHRwOi8vd3d3LmRhdGF0YWJsZXMubmV0CiBEYXRhVGFibGVzIDEuMTAuMjAKIMKpMjAwOC0yMDE5IFNwcnlNZWRpYSBMdGQgLSBkYXRhdGFibGVzLm5ldC9saWNlbnNlCiovCnZhciAkanNjb21wPSRqc2NvbXB8fHt9OyRqc2NvbXAuc2NvcGU9e307JGpzY29tcC5maW5kSW50ZXJuYWw9ZnVuY3Rpb24oZix6LHkpe2YgaW5zdGFuY2VvZiBTdHJpbmcmJihmPVN0cmluZyhmKSk7Zm9yKHZhciBwPWYubGVuZ3RoLEg9MDtIPHA7SCsrKXt2YXIgTD1mW0hdO2lmKHouY2FsbCh5LEwsSCxmKSlyZXR1cm57aTpILHY6TH19cmV0dXJue2k6LTEsdjp2b2lkIDB9fTskanNjb21wLkFTU1VNRV9FUzU9ITE7JGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX01BUD0hMTskanNjb21wLkFTU1VNRV9OT19OQVRJVkVfU0VUPSExOyRqc2NvbXAuU0lNUExFX0ZST1VORF9QT0xZRklMTD0hMTsKJGpzY29tcC5kZWZpbmVQcm9wZXJ0eT0kanNjb21wLkFTU1VNRV9FUzV8fCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZix6LHkpe2YhPUFycmF5LnByb3RvdHlwZSYmZiE9T2JqZWN0LnByb3RvdHlwZSYmKGZbel09eS52YWx1ZSl9OyRqc2NvbXAuZ2V0R2xvYmFsPWZ1bmN0aW9uKGYpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c9PT1mP2Y6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6Zn07JGpzY29tcC5nbG9iYWw9JGpzY29tcC5nZXRHbG9iYWwodGhpcyk7CiRqc2NvbXAucG9seWZpbGw9ZnVuY3Rpb24oZix6LHkscCl7aWYoeil7eT0kanNjb21wLmdsb2JhbDtmPWYuc3BsaXQoIi4iKTtmb3IocD0wO3A8Zi5sZW5ndGgtMTtwKyspe3ZhciBIPWZbcF07SCBpbiB5fHwoeVtIXT17fSk7eT15W0hdfWY9ZltmLmxlbmd0aC0xXTtwPXlbZl07ej16KHApO3ohPXAmJm51bGwhPXomJiRqc2NvbXAuZGVmaW5lUHJvcGVydHkoeSxmLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6en0pfX07JGpzY29tcC5wb2x5ZmlsbCgiQXJyYXkucHJvdG90eXBlLmZpbmQiLGZ1bmN0aW9uKGYpe3JldHVybiBmP2Y6ZnVuY3Rpb24oZix5KXtyZXR1cm4gJGpzY29tcC5maW5kSW50ZXJuYWwodGhpcyxmLHkpLnZ9fSwiZXM2IiwiZXMzIik7CihmdW5jdGlvbihmKXsiZnVuY3Rpb24iPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbih6KXtyZXR1cm4gZih6LHdpbmRvdyxkb2N1bWVudCl9KToib2JqZWN0Ij09PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHoseSl7enx8KHo9d2luZG93KTt5fHwoeT0idW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3c/cmVxdWlyZSgianF1ZXJ5Iik6cmVxdWlyZSgianF1ZXJ5IikoeikpO3JldHVybiBmKHkseix6LmRvY3VtZW50KX06ZihqUXVlcnksd2luZG93LGRvY3VtZW50KX0pKGZ1bmN0aW9uKGYseix5LHApe2Z1bmN0aW9uIEgoYSl7dmFyIGIsYyxkPXt9O2YuZWFjaChhLGZ1bmN0aW9uKGUsaCl7KGI9ZS5tYXRjaCgvXihbXkEtWl0rPykoW0EtWl0pLykpJiYtMSE9PSJhIGFhIGFpIGFvIGFzIGIgZm4gaSBtIG8gcyAiLmluZGV4T2YoYlsxXSsiICIpJiYoYz1lLnJlcGxhY2UoYlswXSxiWzJdLnRvTG93ZXJDYXNlKCkpLApkW2NdPWUsIm8iPT09YlsxXSYmSChhW2VdKSl9KTthLl9odW5nYXJpYW5NYXA9ZH1mdW5jdGlvbiBMKGEsYixjKXthLl9odW5nYXJpYW5NYXB8fEgoYSk7dmFyIGQ7Zi5lYWNoKGIsZnVuY3Rpb24oZSxoKXtkPWEuX2h1bmdhcmlhbk1hcFtlXTtkPT09cHx8IWMmJmJbZF0hPT1wfHwoIm8iPT09ZC5jaGFyQXQoMCk/KGJbZF18fChiW2RdPXt9KSxmLmV4dGVuZCghMCxiW2RdLGJbZV0pLEwoYVtkXSxiW2RdLGMpKTpiW2RdPWJbZV0pfSl9ZnVuY3Rpb24gR2EoYSl7dmFyIGI9cS5kZWZhdWx0cy5vTGFuZ3VhZ2UsYz1iLnNEZWNpbWFsO2MmJkhhKGMpO2lmKGEpe3ZhciBkPWEuc1plcm9SZWNvcmRzOyFhLnNFbXB0eVRhYmxlJiZkJiYiTm8gZGF0YSBhdmFpbGFibGUgaW4gdGFibGUiPT09Yi5zRW1wdHlUYWJsZSYmTShhLGEsInNaZXJvUmVjb3JkcyIsInNFbXB0eVRhYmxlIik7IWEuc0xvYWRpbmdSZWNvcmRzJiZkJiYiTG9hZGluZy4uLiI9PT1iLnNMb2FkaW5nUmVjb3JkcyYmTShhLGEsCiJzWmVyb1JlY29yZHMiLCJzTG9hZGluZ1JlY29yZHMiKTthLnNJbmZvVGhvdXNhbmRzJiYoYS5zVGhvdXNhbmRzPWEuc0luZm9UaG91c2FuZHMpOyhhPWEuc0RlY2ltYWwpJiZjIT09YSYmSGEoYSl9fWZ1bmN0aW9uIGpiKGEpe0YoYSwib3JkZXJpbmciLCJiU29ydCIpO0YoYSwib3JkZXJNdWx0aSIsImJTb3J0TXVsdGkiKTtGKGEsIm9yZGVyQ2xhc3NlcyIsImJTb3J0Q2xhc3NlcyIpO0YoYSwib3JkZXJDZWxsc1RvcCIsImJTb3J0Q2VsbHNUb3AiKTtGKGEsIm9yZGVyIiwiYWFTb3J0aW5nIik7RihhLCJvcmRlckZpeGVkIiwiYWFTb3J0aW5nRml4ZWQiKTtGKGEsInBhZ2luZyIsImJQYWdpbmF0ZSIpO0YoYSwicGFnaW5nVHlwZSIsInNQYWdpbmF0aW9uVHlwZSIpO0YoYSwicGFnZUxlbmd0aCIsImlEaXNwbGF5TGVuZ3RoIik7RihhLCJzZWFyY2hpbmciLCJiRmlsdGVyIik7ImJvb2xlYW4iPT09dHlwZW9mIGEuc1Njcm9sbFgmJihhLnNTY3JvbGxYPWEuc1Njcm9sbFg/IjEwMCUiOgoiIik7ImJvb2xlYW4iPT09dHlwZW9mIGEuc2Nyb2xsWCYmKGEuc2Nyb2xsWD1hLnNjcm9sbFg/IjEwMCUiOiIiKTtpZihhPWEuYW9TZWFyY2hDb2xzKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylhW2JdJiZMKHEubW9kZWxzLm9TZWFyY2gsYVtiXSl9ZnVuY3Rpb24ga2IoYSl7RihhLCJvcmRlcmFibGUiLCJiU29ydGFibGUiKTtGKGEsIm9yZGVyRGF0YSIsImFEYXRhU29ydCIpO0YoYSwib3JkZXJTZXF1ZW5jZSIsImFzU29ydGluZyIpO0YoYSwib3JkZXJEYXRhVHlwZSIsInNvcnREYXRhVHlwZSIpO3ZhciBiPWEuYURhdGFTb3J0OyJudW1iZXIiIT09dHlwZW9mIGJ8fGYuaXNBcnJheShiKXx8KGEuYURhdGFTb3J0PVtiXSl9ZnVuY3Rpb24gbGIoYSl7aWYoIXEuX19icm93c2VyKXt2YXIgYj17fTtxLl9fYnJvd3Nlcj1iO3ZhciBjPWYoIjxkaXYvPiIpLmNzcyh7cG9zaXRpb246ImZpeGVkIix0b3A6MCxsZWZ0Oi0xKmYoeikuc2Nyb2xsTGVmdCgpLGhlaWdodDoxLHdpZHRoOjEsCm92ZXJmbG93OiJoaWRkZW4ifSkuYXBwZW5kKGYoIjxkaXYvPiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix0b3A6MSxsZWZ0OjEsd2lkdGg6MTAwLG92ZXJmbG93OiJzY3JvbGwifSkuYXBwZW5kKGYoIjxkaXYvPiIpLmNzcyh7d2lkdGg6IjEwMCUiLGhlaWdodDoxMH0pKSkuYXBwZW5kVG8oImJvZHkiKSxkPWMuY2hpbGRyZW4oKSxlPWQuY2hpbGRyZW4oKTtiLmJhcldpZHRoPWRbMF0ub2Zmc2V0V2lkdGgtZFswXS5jbGllbnRXaWR0aDtiLmJTY3JvbGxPdmVyc2l6ZT0xMDA9PT1lWzBdLm9mZnNldFdpZHRoJiYxMDAhPT1kWzBdLmNsaWVudFdpZHRoO2IuYlNjcm9sbGJhckxlZnQ9MSE9PU1hdGgucm91bmQoZS5vZmZzZXQoKS5sZWZ0KTtiLmJCb3VuZGluZz1jWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoPyEwOiExO2MucmVtb3ZlKCl9Zi5leHRlbmQoYS5vQnJvd3NlcixxLl9fYnJvd3Nlcik7YS5vU2Nyb2xsLmlCYXJXaWR0aD1xLl9fYnJvd3Nlci5iYXJXaWR0aH0KZnVuY3Rpb24gbWIoYSxiLGMsZCxlLGgpe3ZhciBnPSExO2lmKGMhPT1wKXt2YXIgaz1jO2c9ITB9Zm9yKDtkIT09ZTspYS5oYXNPd25Qcm9wZXJ0eShkKSYmKGs9Zz9iKGssYVtkXSxkLGEpOmFbZF0sZz0hMCxkKz1oKTtyZXR1cm4ga31mdW5jdGlvbiBJYShhLGIpe3ZhciBjPXEuZGVmYXVsdHMuY29sdW1uLGQ9YS5hb0NvbHVtbnMubGVuZ3RoO2M9Zi5leHRlbmQoe30scS5tb2RlbHMub0NvbHVtbixjLHtuVGg6Yj9iOnkuY3JlYXRlRWxlbWVudCgidGgiKSxzVGl0bGU6Yy5zVGl0bGU/Yy5zVGl0bGU6Yj9iLmlubmVySFRNTDoiIixhRGF0YVNvcnQ6Yy5hRGF0YVNvcnQ/Yy5hRGF0YVNvcnQ6W2RdLG1EYXRhOmMubURhdGE/Yy5tRGF0YTpkLGlkeDpkfSk7YS5hb0NvbHVtbnMucHVzaChjKTtjPWEuYW9QcmVTZWFyY2hDb2xzO2NbZF09Zi5leHRlbmQoe30scS5tb2RlbHMub1NlYXJjaCxjW2RdKTttYShhLGQsZihiKS5kYXRhKCkpfWZ1bmN0aW9uIG1hKGEsYixjKXtiPWEuYW9Db2x1bW5zW2JdOwp2YXIgZD1hLm9DbGFzc2VzLGU9ZihiLm5UaCk7aWYoIWIuc1dpZHRoT3JpZyl7Yi5zV2lkdGhPcmlnPWUuYXR0cigid2lkdGgiKXx8bnVsbDt2YXIgaD0oZS5hdHRyKCJzdHlsZSIpfHwiIikubWF0Y2goL3dpZHRoOlxzKihcZCtbcHhlbSVdKykvKTtoJiYoYi5zV2lkdGhPcmlnPWhbMV0pfWMhPT1wJiZudWxsIT09YyYmKGtiKGMpLEwocS5kZWZhdWx0cy5jb2x1bW4sYywhMCksYy5tRGF0YVByb3A9PT1wfHxjLm1EYXRhfHwoYy5tRGF0YT1jLm1EYXRhUHJvcCksYy5zVHlwZSYmKGIuX3NNYW51YWxUeXBlPWMuc1R5cGUpLGMuY2xhc3NOYW1lJiYhYy5zQ2xhc3MmJihjLnNDbGFzcz1jLmNsYXNzTmFtZSksYy5zQ2xhc3MmJmUuYWRkQ2xhc3MoYy5zQ2xhc3MpLGYuZXh0ZW5kKGIsYyksTShiLGMsInNXaWR0aCIsInNXaWR0aE9yaWciKSxjLmlEYXRhU29ydCE9PXAmJihiLmFEYXRhU29ydD1bYy5pRGF0YVNvcnRdKSxNKGIsYywiYURhdGFTb3J0IikpO3ZhciBnPWIubURhdGEsaz1VKGcpLApsPWIubVJlbmRlcj9VKGIubVJlbmRlcik6bnVsbDtjPWZ1bmN0aW9uKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGEmJi0xIT09YS5pbmRleE9mKCJAIil9O2IuX2JBdHRyU3JjPWYuaXNQbGFpbk9iamVjdChnKSYmKGMoZy5zb3J0KXx8YyhnLnR5cGUpfHxjKGcuZmlsdGVyKSk7Yi5fc2V0dGVyPW51bGw7Yi5mbkdldERhdGE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWsoYSxiLHAsYyk7cmV0dXJuIGwmJmI/bChkLGIsYSxjKTpkfTtiLmZuU2V0RGF0YT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIFEoZykoYSxiLGMpfTsibnVtYmVyIiE9PXR5cGVvZiBnJiYoYS5fcm93UmVhZE9iamVjdD0hMCk7YS5vRmVhdHVyZXMuYlNvcnR8fChiLmJTb3J0YWJsZT0hMSxlLmFkZENsYXNzKGQuc1NvcnRhYmxlTm9uZSkpO2E9LTEhPT1mLmluQXJyYXkoImFzYyIsYi5hc1NvcnRpbmcpO2M9LTEhPT1mLmluQXJyYXkoImRlc2MiLGIuYXNTb3J0aW5nKTtiLmJTb3J0YWJsZSYmKGF8fGMpP2EmJiFjPyhiLnNTb3J0aW5nQ2xhc3M9CmQuc1NvcnRhYmxlQXNjLGIuc1NvcnRpbmdDbGFzc0pVST1kLnNTb3J0SlVJQXNjQWxsb3dlZCk6IWEmJmM/KGIuc1NvcnRpbmdDbGFzcz1kLnNTb3J0YWJsZURlc2MsYi5zU29ydGluZ0NsYXNzSlVJPWQuc1NvcnRKVUlEZXNjQWxsb3dlZCk6KGIuc1NvcnRpbmdDbGFzcz1kLnNTb3J0YWJsZSxiLnNTb3J0aW5nQ2xhc3NKVUk9ZC5zU29ydEpVSSk6KGIuc1NvcnRpbmdDbGFzcz1kLnNTb3J0YWJsZU5vbmUsYi5zU29ydGluZ0NsYXNzSlVJPSIiKX1mdW5jdGlvbiBhYShhKXtpZighMSE9PWEub0ZlYXR1cmVzLmJBdXRvV2lkdGgpe3ZhciBiPWEuYW9Db2x1bW5zO0phKGEpO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKyliW2NdLm5UaC5zdHlsZS53aWR0aD1iW2NdLnNXaWR0aH1iPWEub1Njcm9sbDsiIj09PWIuc1kmJiIiPT09Yi5zWHx8bmEoYSk7QShhLG51bGwsImNvbHVtbi1zaXppbmciLFthXSl9ZnVuY3Rpb24gYmEoYSxiKXthPW9hKGEsImJWaXNpYmxlIik7cmV0dXJuIm51bWJlciI9PT0KdHlwZW9mIGFbYl0/YVtiXTpudWxsfWZ1bmN0aW9uIGNhKGEsYil7YT1vYShhLCJiVmlzaWJsZSIpO2I9Zi5pbkFycmF5KGIsYSk7cmV0dXJuLTEhPT1iP2I6bnVsbH1mdW5jdGlvbiBXKGEpe3ZhciBiPTA7Zi5lYWNoKGEuYW9Db2x1bW5zLGZ1bmN0aW9uKGEsZCl7ZC5iVmlzaWJsZSYmIm5vbmUiIT09ZihkLm5UaCkuY3NzKCJkaXNwbGF5IikmJmIrK30pO3JldHVybiBifWZ1bmN0aW9uIG9hKGEsYil7dmFyIGM9W107Zi5tYXAoYS5hb0NvbHVtbnMsZnVuY3Rpb24oYSxlKXthW2JdJiZjLnB1c2goZSl9KTtyZXR1cm4gY31mdW5jdGlvbiBLYShhKXt2YXIgYj1hLmFvQ29sdW1ucyxjPWEuYW9EYXRhLGQ9cS5leHQudHlwZS5kZXRlY3QsZSxoLGc7dmFyIGs9MDtmb3IoZT1iLmxlbmd0aDtrPGU7aysrKXt2YXIgZj1iW2tdO3ZhciBuPVtdO2lmKCFmLnNUeXBlJiZmLl9zTWFudWFsVHlwZSlmLnNUeXBlPWYuX3NNYW51YWxUeXBlO2Vsc2UgaWYoIWYuc1R5cGUpe3ZhciBtPTA7Zm9yKGg9CmQubGVuZ3RoO208aDttKyspe3ZhciB3PTA7Zm9yKGc9Yy5sZW5ndGg7dzxnO3crKyl7blt3XT09PXAmJihuW3ddPUkoYSx3LGssInR5cGUiKSk7dmFyIHU9ZFttXShuW3ddLGEpO2lmKCF1JiZtIT09ZC5sZW5ndGgtMSlicmVhaztpZigiaHRtbCI9PT11KWJyZWFrfWlmKHUpe2Yuc1R5cGU9dTticmVha319Zi5zVHlwZXx8KGYuc1R5cGU9InN0cmluZyIpfX19ZnVuY3Rpb24gbmIoYSxiLGMsZCl7dmFyIGUsaCxnLGs9YS5hb0NvbHVtbnM7aWYoYilmb3IoZT1iLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgbD1iW2VdO3ZhciBuPWwudGFyZ2V0cyE9PXA/bC50YXJnZXRzOmwuYVRhcmdldHM7Zi5pc0FycmF5KG4pfHwobj1bbl0pO3ZhciBtPTA7Zm9yKGg9bi5sZW5ndGg7bTxoO20rKylpZigibnVtYmVyIj09PXR5cGVvZiBuW21dJiYwPD1uW21dKXtmb3IoO2subGVuZ3RoPD1uW21dOylJYShhKTtkKG5bbV0sbCl9ZWxzZSBpZigibnVtYmVyIj09PXR5cGVvZiBuW21dJiYwPm5bbV0pZChrLmxlbmd0aCsKblttXSxsKTtlbHNlIGlmKCJzdHJpbmciPT09dHlwZW9mIG5bbV0pe3ZhciB3PTA7Zm9yKGc9ay5sZW5ndGg7dzxnO3crKykoIl9hbGwiPT1uW21dfHxmKGtbd10ublRoKS5oYXNDbGFzcyhuW21dKSkmJmQodyxsKX19aWYoYylmb3IoZT0wLGE9Yy5sZW5ndGg7ZTxhO2UrKylkKGUsY1tlXSl9ZnVuY3Rpb24gUihhLGIsYyxkKXt2YXIgZT1hLmFvRGF0YS5sZW5ndGgsaD1mLmV4dGVuZCghMCx7fSxxLm1vZGVscy5vUm93LHtzcmM6Yz8iZG9tIjoiZGF0YSIsaWR4OmV9KTtoLl9hRGF0YT1iO2EuYW9EYXRhLnB1c2goaCk7Zm9yKHZhciBnPWEuYW9Db2x1bW5zLGs9MCxsPWcubGVuZ3RoO2s8bDtrKyspZ1trXS5zVHlwZT1udWxsO2EuYWlEaXNwbGF5TWFzdGVyLnB1c2goZSk7Yj1hLnJvd0lkRm4oYik7YiE9PXAmJihhLmFJZHNbYl09aCk7IWMmJmEub0ZlYXR1cmVzLmJEZWZlclJlbmRlcnx8TGEoYSxlLGMsZCk7cmV0dXJuIGV9ZnVuY3Rpb24gcGEoYSxiKXt2YXIgYztiIGluc3RhbmNlb2YKZnx8KGI9ZihiKSk7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIsZSl7Yz1NYShhLGUpO3JldHVybiBSKGEsYy5kYXRhLGUsYy5jZWxscyl9KX1mdW5jdGlvbiBJKGEsYixjLGQpe3ZhciBlPWEuaURyYXcsaD1hLmFvQ29sdW1uc1tjXSxnPWEuYW9EYXRhW2JdLl9hRGF0YSxrPWguc0RlZmF1bHRDb250ZW50LGY9aC5mbkdldERhdGEoZyxkLHtzZXR0aW5nczphLHJvdzpiLGNvbDpjfSk7aWYoZj09PXApcmV0dXJuIGEuaURyYXdFcnJvciE9ZSYmbnVsbD09PWsmJihPKGEsMCwiUmVxdWVzdGVkIHVua25vd24gcGFyYW1ldGVyICIrKCJmdW5jdGlvbiI9PXR5cGVvZiBoLm1EYXRhPyJ7ZnVuY3Rpb259IjoiJyIraC5tRGF0YSsiJyIpKyIgZm9yIHJvdyAiK2IrIiwgY29sdW1uICIrYyw0KSxhLmlEcmF3RXJyb3I9ZSksaztpZigoZj09PWd8fG51bGw9PT1mKSYmbnVsbCE9PWsmJmQhPT1wKWY9aztlbHNlIGlmKCJmdW5jdGlvbiI9PT10eXBlb2YgZilyZXR1cm4gZi5jYWxsKGcpO3JldHVybiBudWxsPT09CmYmJiJkaXNwbGF5Ij09ZD8iIjpmfWZ1bmN0aW9uIG9iKGEsYixjLGQpe2EuYW9Db2x1bW5zW2NdLmZuU2V0RGF0YShhLmFvRGF0YVtiXS5fYURhdGEsZCx7c2V0dGluZ3M6YSxyb3c6Yixjb2w6Y30pfWZ1bmN0aW9uIE5hKGEpe3JldHVybiBmLm1hcChhLm1hdGNoKC8oXFwufFteXC5dKSsvZyl8fFsiIl0sZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxcLi9nLCIuIil9KX1mdW5jdGlvbiBVKGEpe2lmKGYuaXNQbGFpbk9iamVjdChhKSl7dmFyIGI9e307Zi5lYWNoKGEsZnVuY3Rpb24oYSxjKXtjJiYoYlthXT1VKGMpKX0pO3JldHVybiBmdW5jdGlvbihhLGMsaCxnKXt2YXIgZD1iW2NdfHxiLl87cmV0dXJuIGQhPT1wP2QoYSxjLGgsZyk6YX19aWYobnVsbD09PWEpcmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhfTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGEpcmV0dXJuIGZ1bmN0aW9uKGIsYyxoLGcpe3JldHVybiBhKGIsYyxoLGcpfTtpZigic3RyaW5nIiE9PXR5cGVvZiBhfHwKLTE9PT1hLmluZGV4T2YoIi4iKSYmLTE9PT1hLmluZGV4T2YoIlsiKSYmLTE9PT1hLmluZGV4T2YoIigiKSlyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYlthXX07dmFyIGM9ZnVuY3Rpb24oYSxiLGgpe2lmKCIiIT09aCl7dmFyIGQ9TmEoaCk7Zm9yKHZhciBlPTAsbD1kLmxlbmd0aDtlPGw7ZSsrKXtoPWRbZV0ubWF0Y2goZGEpO3ZhciBuPWRbZV0ubWF0Y2goWCk7aWYoaCl7ZFtlXT1kW2VdLnJlcGxhY2UoZGEsIiIpOyIiIT09ZFtlXSYmKGE9YVtkW2VdXSk7bj1bXTtkLnNwbGljZSgwLGUrMSk7ZD1kLmpvaW4oIi4iKTtpZihmLmlzQXJyYXkoYSkpZm9yKGU9MCxsPWEubGVuZ3RoO2U8bDtlKyspbi5wdXNoKGMoYVtlXSxiLGQpKTthPWhbMF0uc3Vic3RyaW5nKDEsaFswXS5sZW5ndGgtMSk7YT0iIj09PWE/bjpuLmpvaW4oYSk7YnJlYWt9ZWxzZSBpZihuKXtkW2VdPWRbZV0ucmVwbGFjZShYLCIiKTthPWFbZFtlXV0oKTtjb250aW51ZX1pZihudWxsPT09YXx8YVtkW2VdXT09PQpwKXJldHVybiBwO2E9YVtkW2VdXX19cmV0dXJuIGF9O3JldHVybiBmdW5jdGlvbihiLGUpe3JldHVybiBjKGIsZSxhKX19ZnVuY3Rpb24gUShhKXtpZihmLmlzUGxhaW5PYmplY3QoYSkpcmV0dXJuIFEoYS5fKTtpZihudWxsPT09YSlyZXR1cm4gZnVuY3Rpb24oKXt9O2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYSlyZXR1cm4gZnVuY3Rpb24oYixkLGUpe2EoYiwic2V0IixkLGUpfTtpZigic3RyaW5nIiE9PXR5cGVvZiBhfHwtMT09PWEuaW5kZXhPZigiLiIpJiYtMT09PWEuaW5kZXhPZigiWyIpJiYtMT09PWEuaW5kZXhPZigiKCIpKXJldHVybiBmdW5jdGlvbihiLGQpe2JbYV09ZH07dmFyIGI9ZnVuY3Rpb24oYSxkLGUpe2U9TmEoZSk7dmFyIGM9ZVtlLmxlbmd0aC0xXTtmb3IodmFyIGcsayxsPTAsbj1lLmxlbmd0aC0xO2w8bjtsKyspe2c9ZVtsXS5tYXRjaChkYSk7az1lW2xdLm1hdGNoKFgpO2lmKGcpe2VbbF09ZVtsXS5yZXBsYWNlKGRhLCIiKTthW2VbbF1dPVtdO2M9ZS5zbGljZSgpOwpjLnNwbGljZSgwLGwrMSk7Zz1jLmpvaW4oIi4iKTtpZihmLmlzQXJyYXkoZCkpZm9yKGs9MCxuPWQubGVuZ3RoO2s8bjtrKyspYz17fSxiKGMsZFtrXSxnKSxhW2VbbF1dLnB1c2goYyk7ZWxzZSBhW2VbbF1dPWQ7cmV0dXJufWsmJihlW2xdPWVbbF0ucmVwbGFjZShYLCIiKSxhPWFbZVtsXV0oZCkpO2lmKG51bGw9PT1hW2VbbF1dfHxhW2VbbF1dPT09cClhW2VbbF1dPXt9O2E9YVtlW2xdXX1pZihjLm1hdGNoKFgpKWFbYy5yZXBsYWNlKFgsIiIpXShkKTtlbHNlIGFbYy5yZXBsYWNlKGRhLCIiKV09ZH07cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGIoYyxkLGEpfX1mdW5jdGlvbiBPYShhKXtyZXR1cm4gSihhLmFvRGF0YSwiX2FEYXRhIil9ZnVuY3Rpb24gcWEoYSl7YS5hb0RhdGEubGVuZ3RoPTA7YS5haURpc3BsYXlNYXN0ZXIubGVuZ3RoPTA7YS5haURpc3BsYXkubGVuZ3RoPTA7YS5hSWRzPXt9fWZ1bmN0aW9uIHJhKGEsYixjKXtmb3IodmFyIGQ9LTEsZT0wLGg9YS5sZW5ndGg7ZTwKaDtlKyspYVtlXT09Yj9kPWU6YVtlXT5iJiZhW2VdLS07IC0xIT1kJiZjPT09cCYmYS5zcGxpY2UoZCwxKX1mdW5jdGlvbiBlYShhLGIsYyxkKXt2YXIgZT1hLmFvRGF0YVtiXSxoLGc9ZnVuY3Rpb24oYyxkKXtmb3IoO2MuY2hpbGROb2Rlcy5sZW5ndGg7KWMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtjLmlubmVySFRNTD1JKGEsYixkLCJkaXNwbGF5Iil9O2lmKCJkb20iIT09YyYmKGMmJiJhdXRvIiE9PWN8fCJkb20iIT09ZS5zcmMpKXt2YXIgaz1lLmFuQ2VsbHM7aWYoaylpZihkIT09cClnKGtbZF0sZCk7ZWxzZSBmb3IoYz0wLGg9ay5sZW5ndGg7YzxoO2MrKylnKGtbY10sYyl9ZWxzZSBlLl9hRGF0YT1NYShhLGUsZCxkPT09cD9wOmUuX2FEYXRhKS5kYXRhO2UuX2FTb3J0RGF0YT1udWxsO2UuX2FGaWx0ZXJEYXRhPW51bGw7Zz1hLmFvQ29sdW1ucztpZihkIT09cClnW2RdLnNUeXBlPW51bGw7ZWxzZXtjPTA7Zm9yKGg9Zy5sZW5ndGg7YzxoO2MrKylnW2NdLnNUeXBlPW51bGw7ClBhKGEsZSl9fWZ1bmN0aW9uIE1hKGEsYixjLGQpe3ZhciBlPVtdLGg9Yi5maXJzdENoaWxkLGcsaz0wLGwsbj1hLmFvQ29sdW1ucyxtPWEuX3Jvd1JlYWRPYmplY3Q7ZD1kIT09cD9kOm0/e306W107dmFyIHc9ZnVuY3Rpb24oYSxiKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgYz1hLmluZGV4T2YoIkAiKTstMSE9PWMmJihjPWEuc3Vic3RyaW5nKGMrMSksUShhKShkLGIuZ2V0QXR0cmlidXRlKGMpKSl9fSx1PWZ1bmN0aW9uKGEpe2lmKGM9PT1wfHxjPT09aylnPW5ba10sbD1mLnRyaW0oYS5pbm5lckhUTUwpLGcmJmcuX2JBdHRyU3JjPyhRKGcubURhdGEuXykoZCxsKSx3KGcubURhdGEuc29ydCxhKSx3KGcubURhdGEudHlwZSxhKSx3KGcubURhdGEuZmlsdGVyLGEpKTptPyhnLl9zZXR0ZXJ8fChnLl9zZXR0ZXI9UShnLm1EYXRhKSksZy5fc2V0dGVyKGQsbCkpOmRba109bDtrKyt9O2lmKGgpZm9yKDtoOyl7dmFyIHE9aC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO2lmKCJURCI9PQpxfHwiVEgiPT1xKXUoaCksZS5wdXNoKGgpO2g9aC5uZXh0U2libGluZ31lbHNlIGZvcihlPWIuYW5DZWxscyxoPTAscT1lLmxlbmd0aDtoPHE7aCsrKXUoZVtoXSk7KGI9Yi5maXJzdENoaWxkP2I6Yi5uVHIpJiYoYj1iLmdldEF0dHJpYnV0ZSgiaWQiKSkmJlEoYS5yb3dJZCkoZCxiKTtyZXR1cm57ZGF0YTpkLGNlbGxzOmV9fWZ1bmN0aW9uIExhKGEsYixjLGQpe3ZhciBlPWEuYW9EYXRhW2JdLGg9ZS5fYURhdGEsZz1bXSxrLGw7aWYobnVsbD09PWUublRyKXt2YXIgbj1jfHx5LmNyZWF0ZUVsZW1lbnQoInRyIik7ZS5uVHI9bjtlLmFuQ2VsbHM9ZztuLl9EVF9Sb3dJbmRleD1iO1BhKGEsZSk7dmFyIG09MDtmb3Ioaz1hLmFvQ29sdW1ucy5sZW5ndGg7bTxrO20rKyl7dmFyIHc9YS5hb0NvbHVtbnNbbV07dmFyIHA9KGw9Yz8hMTohMCk/eS5jcmVhdGVFbGVtZW50KHcuc0NlbGxUeXBlKTpkW21dO3AuX0RUX0NlbGxJbmRleD17cm93OmIsY29sdW1uOm19O2cucHVzaChwKTtpZihsfHwKIShjJiYhdy5tUmVuZGVyJiZ3Lm1EYXRhPT09bXx8Zi5pc1BsYWluT2JqZWN0KHcubURhdGEpJiZ3Lm1EYXRhLl89PT1tKyIuZGlzcGxheSIpKXAuaW5uZXJIVE1MPUkoYSxiLG0sImRpc3BsYXkiKTt3LnNDbGFzcyYmKHAuY2xhc3NOYW1lKz0iICIrdy5zQ2xhc3MpO3cuYlZpc2libGUmJiFjP24uYXBwZW5kQ2hpbGQocCk6IXcuYlZpc2libGUmJmMmJnAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKTt3LmZuQ3JlYXRlZENlbGwmJncuZm5DcmVhdGVkQ2VsbC5jYWxsKGEub0luc3RhbmNlLHAsSShhLGIsbSksaCxiLG0pfUEoYSwiYW9Sb3dDcmVhdGVkQ2FsbGJhY2siLG51bGwsW24saCxiLGddKX1lLm5Uci5zZXRBdHRyaWJ1dGUoInJvbGUiLCJyb3ciKX1mdW5jdGlvbiBQYShhLGIpe3ZhciBjPWIublRyLGQ9Yi5fYURhdGE7aWYoYyl7aWYoYT1hLnJvd0lkRm4oZCkpYy5pZD1hO2QuRFRfUm93Q2xhc3MmJihhPWQuRFRfUm93Q2xhc3Muc3BsaXQoIiAiKSxiLl9fcm93Yz1iLl9fcm93Yz8KdGEoYi5fX3Jvd2MuY29uY2F0KGEpKTphLGYoYykucmVtb3ZlQ2xhc3MoYi5fX3Jvd2Muam9pbigiICIpKS5hZGRDbGFzcyhkLkRUX1Jvd0NsYXNzKSk7ZC5EVF9Sb3dBdHRyJiZmKGMpLmF0dHIoZC5EVF9Sb3dBdHRyKTtkLkRUX1Jvd0RhdGEmJmYoYykuZGF0YShkLkRUX1Jvd0RhdGEpfX1mdW5jdGlvbiBwYihhKXt2YXIgYixjLGQ9YS5uVEhlYWQsZT1hLm5URm9vdCxoPTA9PT1mKCJ0aCwgdGQiLGQpLmxlbmd0aCxnPWEub0NsYXNzZXMsaz1hLmFvQ29sdW1ucztoJiYoYz1mKCI8dHIvPiIpLmFwcGVuZFRvKGQpKTt2YXIgbD0wO2ZvcihiPWsubGVuZ3RoO2w8YjtsKyspe3ZhciBuPWtbbF07dmFyIG09ZihuLm5UaCkuYWRkQ2xhc3Mobi5zQ2xhc3MpO2gmJm0uYXBwZW5kVG8oYyk7YS5vRmVhdHVyZXMuYlNvcnQmJihtLmFkZENsYXNzKG4uc1NvcnRpbmdDbGFzcyksITEhPT1uLmJTb3J0YWJsZSYmKG0uYXR0cigidGFiaW5kZXgiLGEuaVRhYkluZGV4KS5hdHRyKCJhcmlhLWNvbnRyb2xzIiwKYS5zVGFibGVJZCksUWEoYSxuLm5UaCxsKSkpO24uc1RpdGxlIT1tWzBdLmlubmVySFRNTCYmbS5odG1sKG4uc1RpdGxlKTtSYShhLCJoZWFkZXIiKShhLG0sbixnKX1oJiZmYShhLmFvSGVhZGVyLGQpO2YoZCkuZmluZCgiPnRyIikuYXR0cigicm9sZSIsInJvdyIpO2YoZCkuZmluZCgiPnRyPnRoLCA+dHI+dGQiKS5hZGRDbGFzcyhnLnNIZWFkZXJUSCk7ZihlKS5maW5kKCI+dHI+dGgsID50cj50ZCIpLmFkZENsYXNzKGcuc0Zvb3RlclRIKTtpZihudWxsIT09ZSlmb3IoYT1hLmFvRm9vdGVyWzBdLGw9MCxiPWEubGVuZ3RoO2w8YjtsKyspbj1rW2xdLG4ublRmPWFbbF0uY2VsbCxuLnNDbGFzcyYmZihuLm5UZikuYWRkQ2xhc3Mobi5zQ2xhc3MpfWZ1bmN0aW9uIGhhKGEsYixjKXt2YXIgZCxlLGg9W10sZz1bXSxrPWEuYW9Db2x1bW5zLmxlbmd0aDtpZihiKXtjPT09cCYmKGM9ITEpO3ZhciBsPTA7Zm9yKGQ9Yi5sZW5ndGg7bDxkO2wrKyl7aFtsXT1iW2xdLnNsaWNlKCk7aFtsXS5uVHI9CmJbbF0ublRyO2ZvcihlPWstMTswPD1lO2UtLSlhLmFvQ29sdW1uc1tlXS5iVmlzaWJsZXx8Y3x8aFtsXS5zcGxpY2UoZSwxKTtnLnB1c2goW10pfWw9MDtmb3IoZD1oLmxlbmd0aDtsPGQ7bCsrKXtpZihhPWhbbF0ublRyKWZvcig7ZT1hLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoZSk7ZT0wO2ZvcihiPWhbbF0ubGVuZ3RoO2U8YjtlKyspe3ZhciBuPWs9MTtpZihnW2xdW2VdPT09cCl7YS5hcHBlbmRDaGlsZChoW2xdW2VdLmNlbGwpO2ZvcihnW2xdW2VdPTE7aFtsK2tdIT09cCYmaFtsXVtlXS5jZWxsPT1oW2wra11bZV0uY2VsbDspZ1tsK2tdW2VdPTEsaysrO2Zvcig7aFtsXVtlK25dIT09cCYmaFtsXVtlXS5jZWxsPT1oW2xdW2Urbl0uY2VsbDspe2ZvcihjPTA7YzxrO2MrKylnW2wrY11bZStuXT0xO24rK31mKGhbbF1bZV0uY2VsbCkuYXR0cigicm93c3BhbiIsaykuYXR0cigiY29sc3BhbiIsbil9fX19fWZ1bmN0aW9uIFMoYSl7dmFyIGI9QShhLCJhb1ByZURyYXdDYWxsYmFjayIsCiJwcmVEcmF3IixbYV0pO2lmKC0xIT09Zi5pbkFycmF5KCExLGIpKUsoYSwhMSk7ZWxzZXtiPVtdO3ZhciBjPTAsZD1hLmFzU3RyaXBlQ2xhc3NlcyxlPWQubGVuZ3RoLGg9YS5vTGFuZ3VhZ2UsZz1hLmlJbml0RGlzcGxheVN0YXJ0LGs9InNzcCI9PUQoYSksbD1hLmFpRGlzcGxheTthLmJEcmF3aW5nPSEwO2chPT1wJiYtMSE9PWcmJihhLl9pRGlzcGxheVN0YXJ0PWs/ZzpnPj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKT8wOmcsYS5pSW5pdERpc3BsYXlTdGFydD0tMSk7Zz1hLl9pRGlzcGxheVN0YXJ0O3ZhciBuPWEuZm5EaXNwbGF5RW5kKCk7aWYoYS5iRGVmZXJMb2FkaW5nKWEuYkRlZmVyTG9hZGluZz0hMSxhLmlEcmF3KyssSyhhLCExKTtlbHNlIGlmKCFrKWEuaURyYXcrKztlbHNlIGlmKCFhLmJEZXN0cm95aW5nJiYhcWIoYSkpcmV0dXJuO2lmKDAhPT1sLmxlbmd0aClmb3IoaD1rP2EuYW9EYXRhLmxlbmd0aDpuLGs9az8wOmc7azxoO2srKyl7dmFyIG09bFtrXSx3PWEuYW9EYXRhW21dOwpudWxsPT09dy5uVHImJkxhKGEsbSk7dmFyIHU9dy5uVHI7aWYoMCE9PWUpe3ZhciBxPWRbYyVlXTt3Ll9zUm93U3RyaXBlIT1xJiYoZih1KS5yZW1vdmVDbGFzcyh3Ll9zUm93U3RyaXBlKS5hZGRDbGFzcyhxKSx3Ll9zUm93U3RyaXBlPXEpfUEoYSwiYW9Sb3dDYWxsYmFjayIsbnVsbCxbdSx3Ll9hRGF0YSxjLGssbV0pO2IucHVzaCh1KTtjKyt9ZWxzZSBjPWguc1plcm9SZWNvcmRzLDE9PWEuaURyYXcmJiJhamF4Ij09RChhKT9jPWguc0xvYWRpbmdSZWNvcmRzOmguc0VtcHR5VGFibGUmJjA9PT1hLmZuUmVjb3Jkc1RvdGFsKCkmJihjPWguc0VtcHR5VGFibGUpLGJbMF09ZigiPHRyLz4iLHsiY2xhc3MiOmU/ZFswXToiIn0pLmFwcGVuZChmKCI8dGQgLz4iLHt2YWxpZ246InRvcCIsY29sU3BhbjpXKGEpLCJjbGFzcyI6YS5vQ2xhc3Nlcy5zUm93RW1wdHl9KS5odG1sKGMpKVswXTtBKGEsImFvSGVhZGVyQ2FsbGJhY2siLCJoZWFkZXIiLFtmKGEublRIZWFkKS5jaGlsZHJlbigidHIiKVswXSwKT2EoYSksZyxuLGxdKTtBKGEsImFvRm9vdGVyQ2FsbGJhY2siLCJmb290ZXIiLFtmKGEublRGb290KS5jaGlsZHJlbigidHIiKVswXSxPYShhKSxnLG4sbF0pO2Q9ZihhLm5UQm9keSk7ZC5jaGlsZHJlbigpLmRldGFjaCgpO2QuYXBwZW5kKGYoYikpO0EoYSwiYW9EcmF3Q2FsbGJhY2siLCJkcmF3IixbYV0pO2EuYlNvcnRlZD0hMTthLmJGaWx0ZXJlZD0hMTthLmJEcmF3aW5nPSExfX1mdW5jdGlvbiBWKGEsYil7dmFyIGM9YS5vRmVhdHVyZXMsZD1jLmJGaWx0ZXI7Yy5iU29ydCYmcmIoYSk7ZD9pYShhLGEub1ByZXZpb3VzU2VhcmNoKTphLmFpRGlzcGxheT1hLmFpRGlzcGxheU1hc3Rlci5zbGljZSgpOyEwIT09YiYmKGEuX2lEaXNwbGF5U3RhcnQ9MCk7YS5fZHJhd0hvbGQ9YjtTKGEpO2EuX2RyYXdIb2xkPSExfWZ1bmN0aW9uIHNiKGEpe3ZhciBiPWEub0NsYXNzZXMsYz1mKGEublRhYmxlKTtjPWYoIjxkaXYvPiIpLmluc2VydEJlZm9yZShjKTt2YXIgZD1hLm9GZWF0dXJlcyxlPQpmKCI8ZGl2Lz4iLHtpZDphLnNUYWJsZUlkKyJfd3JhcHBlciIsImNsYXNzIjpiLnNXcmFwcGVyKyhhLm5URm9vdD8iIjoiICIrYi5zTm9Gb290ZXIpfSk7YS5uSG9sZGluZz1jWzBdO2EublRhYmxlV3JhcHBlcj1lWzBdO2EublRhYmxlUmVpbnNlcnRCZWZvcmU9YS5uVGFibGUubmV4dFNpYmxpbmc7Zm9yKHZhciBoPWEuc0RvbS5zcGxpdCgiIiksZyxrLGwsbixtLHAsdT0wO3U8aC5sZW5ndGg7dSsrKXtnPW51bGw7az1oW3VdO2lmKCI8Ij09ayl7bD1mKCI8ZGl2Lz4iKVswXTtuPWhbdSsxXTtpZigiJyI9PW58fCciJz09bil7bT0iIjtmb3IocD0yO2hbdStwXSE9bjspbSs9aFt1K3BdLHArKzsiSCI9PW0/bT1iLnNKVUlIZWFkZXI6IkYiPT1tJiYobT1iLnNKVUlGb290ZXIpOy0xIT1tLmluZGV4T2YoIi4iKT8obj1tLnNwbGl0KCIuIiksbC5pZD1uWzBdLnN1YnN0cigxLG5bMF0ubGVuZ3RoLTEpLGwuY2xhc3NOYW1lPW5bMV0pOiIjIj09bS5jaGFyQXQoMCk/bC5pZD1tLnN1YnN0cigxLAptLmxlbmd0aC0xKTpsLmNsYXNzTmFtZT1tO3UrPXB9ZS5hcHBlbmQobCk7ZT1mKGwpfWVsc2UgaWYoIj4iPT1rKWU9ZS5wYXJlbnQoKTtlbHNlIGlmKCJsIj09ayYmZC5iUGFnaW5hdGUmJmQuYkxlbmd0aENoYW5nZSlnPXRiKGEpO2Vsc2UgaWYoImYiPT1rJiZkLmJGaWx0ZXIpZz11YihhKTtlbHNlIGlmKCJyIj09ayYmZC5iUHJvY2Vzc2luZylnPXZiKGEpO2Vsc2UgaWYoInQiPT1rKWc9d2IoYSk7ZWxzZSBpZigiaSI9PWsmJmQuYkluZm8pZz14YihhKTtlbHNlIGlmKCJwIj09ayYmZC5iUGFnaW5hdGUpZz15YihhKTtlbHNlIGlmKDAhPT1xLmV4dC5mZWF0dXJlLmxlbmd0aClmb3IobD1xLmV4dC5mZWF0dXJlLHA9MCxuPWwubGVuZ3RoO3A8bjtwKyspaWYoaz09bFtwXS5jRmVhdHVyZSl7Zz1sW3BdLmZuSW5pdChhKTticmVha31nJiYobD1hLmFhbkZlYXR1cmVzLGxba118fChsW2tdPVtdKSxsW2tdLnB1c2goZyksZS5hcHBlbmQoZykpfWMucmVwbGFjZVdpdGgoZSk7YS5uSG9sZGluZz0KbnVsbH1mdW5jdGlvbiBmYShhLGIpe2I9ZihiKS5jaGlsZHJlbigidHIiKTt2YXIgYyxkLGU7YS5zcGxpY2UoMCxhLmxlbmd0aCk7dmFyIGg9MDtmb3IoZT1iLmxlbmd0aDtoPGU7aCsrKWEucHVzaChbXSk7aD0wO2ZvcihlPWIubGVuZ3RoO2g8ZTtoKyspe3ZhciBnPWJbaF07Zm9yKGM9Zy5maXJzdENoaWxkO2M7KXtpZigiVEQiPT1jLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl8fCJUSCI9PWMubm9kZU5hbWUudG9VcHBlckNhc2UoKSl7dmFyIGs9MSpjLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpO3ZhciBsPTEqYy5nZXRBdHRyaWJ1dGUoInJvd3NwYW4iKTtrPWsmJjAhPT1rJiYxIT09az9rOjE7bD1sJiYwIT09bCYmMSE9PWw/bDoxO3ZhciBuPTA7Zm9yKGQ9YVtoXTtkW25dOyluKys7dmFyIG09bjt2YXIgcD0xPT09az8hMDohMTtmb3IoZD0wO2Q8aztkKyspZm9yKG49MDtuPGw7bisrKWFbaCtuXVttK2RdPXtjZWxsOmMsdW5pcXVlOnB9LGFbaCtuXS5uVHI9Z31jPWMubmV4dFNpYmxpbmd9fX0KZnVuY3Rpb24gdWEoYSxiLGMpe3ZhciBkPVtdO2N8fChjPWEuYW9IZWFkZXIsYiYmKGM9W10sZmEoYyxiKSkpO2I9MDtmb3IodmFyIGU9Yy5sZW5ndGg7YjxlO2IrKylmb3IodmFyIGg9MCxnPWNbYl0ubGVuZ3RoO2g8ZztoKyspIWNbYl1baF0udW5pcXVlfHxkW2hdJiZhLmJTb3J0Q2VsbHNUb3B8fChkW2hdPWNbYl1baF0uY2VsbCk7cmV0dXJuIGR9ZnVuY3Rpb24gdmEoYSxiLGMpe0EoYSwiYW9TZXJ2ZXJQYXJhbXMiLCJzZXJ2ZXJQYXJhbXMiLFtiXSk7aWYoYiYmZi5pc0FycmF5KGIpKXt2YXIgZD17fSxlPS8oLio/KVxbXF0kLztmLmVhY2goYixmdW5jdGlvbihhLGIpeyhhPWIubmFtZS5tYXRjaChlKSk/KGE9YVswXSxkW2FdfHwoZFthXT1bXSksZFthXS5wdXNoKGIudmFsdWUpKTpkW2IubmFtZV09Yi52YWx1ZX0pO2I9ZH12YXIgaD1hLmFqYXgsZz1hLm9JbnN0YW5jZSxrPWZ1bmN0aW9uKGIpe0EoYSxudWxsLCJ4aHIiLFthLGIsYS5qcVhIUl0pO2MoYil9O2lmKGYuaXNQbGFpbk9iamVjdChoKSYmCmguZGF0YSl7dmFyIGw9aC5kYXRhO3ZhciBuPSJmdW5jdGlvbiI9PT10eXBlb2YgbD9sKGIsYSk6bDtiPSJmdW5jdGlvbiI9PT10eXBlb2YgbCYmbj9uOmYuZXh0ZW5kKCEwLGIsbik7ZGVsZXRlIGguZGF0YX1uPXtkYXRhOmIsc3VjY2VzczpmdW5jdGlvbihiKXt2YXIgYz1iLmVycm9yfHxiLnNFcnJvcjtjJiZPKGEsMCxjKTthLmpzb249YjtrKGIpfSxkYXRhVHlwZToianNvbiIsY2FjaGU6ITEsdHlwZTphLnNTZXJ2ZXJNZXRob2QsZXJyb3I6ZnVuY3Rpb24oYixjLGQpe2Q9QShhLG51bGwsInhociIsW2EsbnVsbCxhLmpxWEhSXSk7LTE9PT1mLmluQXJyYXkoITAsZCkmJigicGFyc2VyZXJyb3IiPT1jP08oYSwwLCJJbnZhbGlkIEpTT04gcmVzcG9uc2UiLDEpOjQ9PT1iLnJlYWR5U3RhdGUmJk8oYSwwLCJBamF4IGVycm9yIiw3KSk7SyhhLCExKX19O2Eub0FqYXhEYXRhPWI7QShhLG51bGwsInByZVhociIsW2EsYl0pO2EuZm5TZXJ2ZXJEYXRhP2EuZm5TZXJ2ZXJEYXRhLmNhbGwoZywKYS5zQWpheFNvdXJjZSxmLm1hcChiLGZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6Yix2YWx1ZTphfX0pLGssYSk6YS5zQWpheFNvdXJjZXx8InN0cmluZyI9PT10eXBlb2YgaD9hLmpxWEhSPWYuYWpheChmLmV4dGVuZChuLHt1cmw6aHx8YS5zQWpheFNvdXJjZX0pKToiZnVuY3Rpb24iPT09dHlwZW9mIGg/YS5qcVhIUj1oLmNhbGwoZyxiLGssYSk6KGEuanFYSFI9Zi5hamF4KGYuZXh0ZW5kKG4saCkpLGguZGF0YT1sKX1mdW5jdGlvbiBxYihhKXtyZXR1cm4gYS5iQWpheERhdGFHZXQ/KGEuaURyYXcrKyxLKGEsITApLHZhKGEsemIoYSksZnVuY3Rpb24oYil7QWIoYSxiKX0pLCExKTohMH1mdW5jdGlvbiB6YihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjPWIubGVuZ3RoLGQ9YS5vRmVhdHVyZXMsZT1hLm9QcmV2aW91c1NlYXJjaCxoPWEuYW9QcmVTZWFyY2hDb2xzLGc9W10saz1ZKGEpO3ZhciBsPWEuX2lEaXNwbGF5U3RhcnQ7dmFyIG49ITEhPT1kLmJQYWdpbmF0ZT9hLl9pRGlzcGxheUxlbmd0aDoKLTE7dmFyIG09ZnVuY3Rpb24oYSxiKXtnLnB1c2goe25hbWU6YSx2YWx1ZTpifSl9O20oInNFY2hvIixhLmlEcmF3KTttKCJpQ29sdW1ucyIsYyk7bSgic0NvbHVtbnMiLEooYiwic05hbWUiKS5qb2luKCIsIikpO20oImlEaXNwbGF5U3RhcnQiLGwpO20oImlEaXNwbGF5TGVuZ3RoIixuKTt2YXIgcD17ZHJhdzphLmlEcmF3LGNvbHVtbnM6W10sb3JkZXI6W10sc3RhcnQ6bCxsZW5ndGg6bixzZWFyY2g6e3ZhbHVlOmUuc1NlYXJjaCxyZWdleDplLmJSZWdleH19O2ZvcihsPTA7bDxjO2wrKyl7dmFyIHU9YltsXTt2YXIgc2E9aFtsXTtuPSJmdW5jdGlvbiI9PXR5cGVvZiB1Lm1EYXRhPyJmdW5jdGlvbiI6dS5tRGF0YTtwLmNvbHVtbnMucHVzaCh7ZGF0YTpuLG5hbWU6dS5zTmFtZSxzZWFyY2hhYmxlOnUuYlNlYXJjaGFibGUsb3JkZXJhYmxlOnUuYlNvcnRhYmxlLHNlYXJjaDp7dmFsdWU6c2Euc1NlYXJjaCxyZWdleDpzYS5iUmVnZXh9fSk7bSgibURhdGFQcm9wXyIrbCxuKTtkLmJGaWx0ZXImJgoobSgic1NlYXJjaF8iK2wsc2Euc1NlYXJjaCksbSgiYlJlZ2V4XyIrbCxzYS5iUmVnZXgpLG0oImJTZWFyY2hhYmxlXyIrbCx1LmJTZWFyY2hhYmxlKSk7ZC5iU29ydCYmbSgiYlNvcnRhYmxlXyIrbCx1LmJTb3J0YWJsZSl9ZC5iRmlsdGVyJiYobSgic1NlYXJjaCIsZS5zU2VhcmNoKSxtKCJiUmVnZXgiLGUuYlJlZ2V4KSk7ZC5iU29ydCYmKGYuZWFjaChrLGZ1bmN0aW9uKGEsYil7cC5vcmRlci5wdXNoKHtjb2x1bW46Yi5jb2wsZGlyOmIuZGlyfSk7bSgiaVNvcnRDb2xfIithLGIuY29sKTttKCJzU29ydERpcl8iK2EsYi5kaXIpfSksbSgiaVNvcnRpbmdDb2xzIixrLmxlbmd0aCkpO2I9cS5leHQubGVnYWN5LmFqYXg7cmV0dXJuIG51bGw9PT1iP2Euc0FqYXhTb3VyY2U/ZzpwOmI/ZzpwfWZ1bmN0aW9uIEFiKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYlthXSE9PXA/YlthXTpiW2NdfSxkPXdhKGEsYiksZT1jKCJzRWNobyIsImRyYXciKSxoPWMoImlUb3RhbFJlY29yZHMiLAoicmVjb3Jkc1RvdGFsIik7Yz1jKCJpVG90YWxEaXNwbGF5UmVjb3JkcyIsInJlY29yZHNGaWx0ZXJlZCIpO2lmKGUpe2lmKDEqZTxhLmlEcmF3KXJldHVybjthLmlEcmF3PTEqZX1xYShhKTthLl9pUmVjb3Jkc1RvdGFsPXBhcnNlSW50KGgsMTApO2EuX2lSZWNvcmRzRGlzcGxheT1wYXJzZUludChjLDEwKTtlPTA7Zm9yKGg9ZC5sZW5ndGg7ZTxoO2UrKylSKGEsZFtlXSk7YS5haURpc3BsYXk9YS5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTthLmJBamF4RGF0YUdldD0hMTtTKGEpO2EuX2JJbml0Q29tcGxldGV8fHhhKGEsYik7YS5iQWpheERhdGFHZXQ9ITA7SyhhLCExKX1mdW5jdGlvbiB3YShhLGIpe2E9Zi5pc1BsYWluT2JqZWN0KGEuYWpheCkmJmEuYWpheC5kYXRhU3JjIT09cD9hLmFqYXguZGF0YVNyYzphLnNBamF4RGF0YVByb3A7cmV0dXJuImRhdGEiPT09YT9iLmFhRGF0YXx8YlthXToiIiE9PWE/VShhKShiKTpifWZ1bmN0aW9uIHViKGEpe3ZhciBiPWEub0NsYXNzZXMsYz0KYS5zVGFibGVJZCxkPWEub0xhbmd1YWdlLGU9YS5vUHJldmlvdXNTZWFyY2gsaD1hLmFhbkZlYXR1cmVzLGc9JzxpbnB1dCB0eXBlPSJzZWFyY2giIGNsYXNzPSInK2Iuc0ZpbHRlcklucHV0KyciLz4nLGs9ZC5zU2VhcmNoO2s9ay5tYXRjaCgvX0lOUFVUXy8pP2sucmVwbGFjZSgiX0lOUFVUXyIsZyk6aytnO2I9ZigiPGRpdi8+Iix7aWQ6aC5mP251bGw6YysiX2ZpbHRlciIsImNsYXNzIjpiLnNGaWx0ZXJ9KS5hcHBlbmQoZigiPGxhYmVsLz4iKS5hcHBlbmQoaykpO2g9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnZhbHVlP3RoaXMudmFsdWU6IiI7YiE9ZS5zU2VhcmNoJiYoaWEoYSx7c1NlYXJjaDpiLGJSZWdleDplLmJSZWdleCxiU21hcnQ6ZS5iU21hcnQsYkNhc2VJbnNlbnNpdGl2ZTplLmJDYXNlSW5zZW5zaXRpdmV9KSxhLl9pRGlzcGxheVN0YXJ0PTAsUyhhKSl9O2c9bnVsbCE9PWEuc2VhcmNoRGVsYXk/YS5zZWFyY2hEZWxheToic3NwIj09PUQoYSk/NDAwOjA7dmFyIGw9ZigiaW5wdXQiLApiKS52YWwoZS5zU2VhcmNoKS5hdHRyKCJwbGFjZWhvbGRlciIsZC5zU2VhcmNoUGxhY2Vob2xkZXIpLm9uKCJrZXl1cC5EVCBzZWFyY2guRFQgaW5wdXQuRFQgcGFzdGUuRFQgY3V0LkRUIixnP1NhKGgsZyk6aCkub24oImtleXByZXNzLkRUIixmdW5jdGlvbihhKXtpZigxMz09YS5rZXlDb2RlKXJldHVybiExfSkuYXR0cigiYXJpYS1jb250cm9scyIsYyk7ZihhLm5UYWJsZSkub24oInNlYXJjaC5kdC5EVCIsZnVuY3Rpb24oYixjKXtpZihhPT09Yyl0cnl7bFswXSE9PXkuYWN0aXZlRWxlbWVudCYmbC52YWwoZS5zU2VhcmNoKX1jYXRjaCh3KXt9fSk7cmV0dXJuIGJbMF19ZnVuY3Rpb24gaWEoYSxiLGMpe3ZhciBkPWEub1ByZXZpb3VzU2VhcmNoLGU9YS5hb1ByZVNlYXJjaENvbHMsaD1mdW5jdGlvbihhKXtkLnNTZWFyY2g9YS5zU2VhcmNoO2QuYlJlZ2V4PWEuYlJlZ2V4O2QuYlNtYXJ0PWEuYlNtYXJ0O2QuYkNhc2VJbnNlbnNpdGl2ZT1hLmJDYXNlSW5zZW5zaXRpdmV9LGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYkVzY2FwZVJlZ2V4IT09CnA/IWEuYkVzY2FwZVJlZ2V4OmEuYlJlZ2V4fTtLYShhKTtpZigic3NwIiE9RChhKSl7QmIoYSxiLnNTZWFyY2gsYyxnKGIpLGIuYlNtYXJ0LGIuYkNhc2VJbnNlbnNpdGl2ZSk7aChiKTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKUNiKGEsZVtiXS5zU2VhcmNoLGIsZyhlW2JdKSxlW2JdLmJTbWFydCxlW2JdLmJDYXNlSW5zZW5zaXRpdmUpO0RiKGEpfWVsc2UgaChiKTthLmJGaWx0ZXJlZD0hMDtBKGEsbnVsbCwic2VhcmNoIixbYV0pfWZ1bmN0aW9uIERiKGEpe2Zvcih2YXIgYj1xLmV4dC5zZWFyY2gsYz1hLmFpRGlzcGxheSxkLGUsaD0wLGc9Yi5sZW5ndGg7aDxnO2grKyl7Zm9yKHZhciBrPVtdLGw9MCxuPWMubGVuZ3RoO2w8bjtsKyspZT1jW2xdLGQ9YS5hb0RhdGFbZV0sYltoXShhLGQuX2FGaWx0ZXJEYXRhLGUsZC5fYURhdGEsbCkmJmsucHVzaChlKTtjLmxlbmd0aD0wO2YubWVyZ2UoYyxrKX19ZnVuY3Rpb24gQ2IoYSxiLGMsZCxlLGgpe2lmKCIiIT09Yil7dmFyIGc9W10saz0KYS5haURpc3BsYXk7ZD1UYShiLGQsZSxoKTtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKWI9YS5hb0RhdGFba1tlXV0uX2FGaWx0ZXJEYXRhW2NdLGQudGVzdChiKSYmZy5wdXNoKGtbZV0pO2EuYWlEaXNwbGF5PWd9fWZ1bmN0aW9uIEJiKGEsYixjLGQsZSxoKXtlPVRhKGIsZCxlLGgpO3ZhciBnPWEub1ByZXZpb3VzU2VhcmNoLnNTZWFyY2gsaz1hLmFpRGlzcGxheU1hc3RlcjtoPVtdOzAhPT1xLmV4dC5zZWFyY2gubGVuZ3RoJiYoYz0hMCk7dmFyIGY9RWIoYSk7aWYoMD49Yi5sZW5ndGgpYS5haURpc3BsYXk9ay5zbGljZSgpO2Vsc2V7aWYoZnx8Y3x8ZHx8Zy5sZW5ndGg+Yi5sZW5ndGh8fDAhPT1iLmluZGV4T2YoZyl8fGEuYlNvcnRlZClhLmFpRGlzcGxheT1rLnNsaWNlKCk7Yj1hLmFpRGlzcGxheTtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWUudGVzdChhLmFvRGF0YVtiW2NdXS5fc0ZpbHRlclJvdykmJmgucHVzaChiW2NdKTthLmFpRGlzcGxheT1ofX1mdW5jdGlvbiBUYShhLGIsCmMsZCl7YT1iP2E6VWEoYSk7YyYmKGE9Il4oPz0uKj8iK2YubWFwKGEubWF0Y2goLyJbXiJdKyJ8W14gXSsvZyl8fFsiIl0sZnVuY3Rpb24oYSl7aWYoJyInPT09YS5jaGFyQXQoMCkpe3ZhciBiPWEubWF0Y2goL14iKC4qKSIkLyk7YT1iP2JbMV06YX1yZXR1cm4gYS5yZXBsYWNlKCciJywiIil9KS5qb2luKCIpKD89Lio/IikrIikuKiQiKTtyZXR1cm4gbmV3IFJlZ0V4cChhLGQ/ImkiOiIiKX1mdW5jdGlvbiBFYihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjLGQsZT1xLmV4dC50eXBlLnNlYXJjaDt2YXIgaD0hMTt2YXIgZz0wO2ZvcihjPWEuYW9EYXRhLmxlbmd0aDtnPGM7ZysrKXt2YXIgaz1hLmFvRGF0YVtnXTtpZighay5fYUZpbHRlckRhdGEpe3ZhciBmPVtdO3ZhciBuPTA7Zm9yKGQ9Yi5sZW5ndGg7bjxkO24rKyl7aD1iW25dO2lmKGguYlNlYXJjaGFibGUpe3ZhciBtPUkoYSxnLG4sImZpbHRlciIpO2VbaC5zVHlwZV0mJihtPWVbaC5zVHlwZV0obSkpO251bGw9PT1tJiYobT0iIik7CiJzdHJpbmciIT09dHlwZW9mIG0mJm0udG9TdHJpbmcmJihtPW0udG9TdHJpbmcoKSl9ZWxzZSBtPSIiO20uaW5kZXhPZiYmLTEhPT1tLmluZGV4T2YoIiYiKSYmKHlhLmlubmVySFRNTD1tLG09JGI/eWEudGV4dENvbnRlbnQ6eWEuaW5uZXJUZXh0KTttLnJlcGxhY2UmJihtPW0ucmVwbGFjZSgvW1xyXG5cdTIwMjhdL2csIiIpKTtmLnB1c2gobSl9ay5fYUZpbHRlckRhdGE9ZjtrLl9zRmlsdGVyUm93PWYuam9pbigiICAiKTtoPSEwfX1yZXR1cm4gaH1mdW5jdGlvbiBGYihhKXtyZXR1cm57c2VhcmNoOmEuc1NlYXJjaCxzbWFydDphLmJTbWFydCxyZWdleDphLmJSZWdleCxjYXNlSW5zZW5zaXRpdmU6YS5iQ2FzZUluc2Vuc2l0aXZlfX1mdW5jdGlvbiBHYihhKXtyZXR1cm57c1NlYXJjaDphLnNlYXJjaCxiU21hcnQ6YS5zbWFydCxiUmVnZXg6YS5yZWdleCxiQ2FzZUluc2Vuc2l0aXZlOmEuY2FzZUluc2Vuc2l0aXZlfX1mdW5jdGlvbiB4YihhKXt2YXIgYj1hLnNUYWJsZUlkLGM9YS5hYW5GZWF0dXJlcy5pLApkPWYoIjxkaXYvPiIseyJjbGFzcyI6YS5vQ2xhc3Nlcy5zSW5mbyxpZDpjP251bGw6YisiX2luZm8ifSk7Y3x8KGEuYW9EcmF3Q2FsbGJhY2sucHVzaCh7Zm46SGIsc05hbWU6ImluZm9ybWF0aW9uIn0pLGQuYXR0cigicm9sZSIsInN0YXR1cyIpLmF0dHIoImFyaWEtbGl2ZSIsInBvbGl0ZSIpLGYoYS5uVGFibGUpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGIrIl9pbmZvIikpO3JldHVybiBkWzBdfWZ1bmN0aW9uIEhiKGEpe3ZhciBiPWEuYWFuRmVhdHVyZXMuaTtpZigwIT09Yi5sZW5ndGgpe3ZhciBjPWEub0xhbmd1YWdlLGQ9YS5faURpc3BsYXlTdGFydCsxLGU9YS5mbkRpc3BsYXlFbmQoKSxoPWEuZm5SZWNvcmRzVG90YWwoKSxnPWEuZm5SZWNvcmRzRGlzcGxheSgpLGs9Zz9jLnNJbmZvOmMuc0luZm9FbXB0eTtnIT09aCYmKGsrPSIgIitjLnNJbmZvRmlsdGVyZWQpO2srPWMuc0luZm9Qb3N0Rml4O2s9SWIoYSxrKTtjPWMuZm5JbmZvQ2FsbGJhY2s7bnVsbCE9PWMmJihrPWMuY2FsbChhLm9JbnN0YW5jZSwKYSxkLGUsaCxnLGspKTtmKGIpLmh0bWwoayl9fWZ1bmN0aW9uIEliKGEsYil7dmFyIGM9YS5mbkZvcm1hdE51bWJlcixkPWEuX2lEaXNwbGF5U3RhcnQrMSxlPWEuX2lEaXNwbGF5TGVuZ3RoLGg9YS5mblJlY29yZHNEaXNwbGF5KCksZz0tMT09PWU7cmV0dXJuIGIucmVwbGFjZSgvX1NUQVJUXy9nLGMuY2FsbChhLGQpKS5yZXBsYWNlKC9fRU5EXy9nLGMuY2FsbChhLGEuZm5EaXNwbGF5RW5kKCkpKS5yZXBsYWNlKC9fTUFYXy9nLGMuY2FsbChhLGEuZm5SZWNvcmRzVG90YWwoKSkpLnJlcGxhY2UoL19UT1RBTF8vZyxjLmNhbGwoYSxoKSkucmVwbGFjZSgvX1BBR0VfL2csYy5jYWxsKGEsZz8xOk1hdGguY2VpbChkL2UpKSkucmVwbGFjZSgvX1BBR0VTXy9nLGMuY2FsbChhLGc/MTpNYXRoLmNlaWwoaC9lKSkpfWZ1bmN0aW9uIGphKGEpe3ZhciBiPWEuaUluaXREaXNwbGF5U3RhcnQsYz1hLmFvQ29sdW1uczt2YXIgZD1hLm9GZWF0dXJlczt2YXIgZT1hLmJEZWZlckxvYWRpbmc7aWYoYS5iSW5pdGlhbGlzZWQpe3NiKGEpOwpwYihhKTtoYShhLGEuYW9IZWFkZXIpO2hhKGEsYS5hb0Zvb3Rlcik7SyhhLCEwKTtkLmJBdXRvV2lkdGgmJkphKGEpO3ZhciBoPTA7Zm9yKGQ9Yy5sZW5ndGg7aDxkO2grKyl7dmFyIGc9Y1toXTtnLnNXaWR0aCYmKGcublRoLnN0eWxlLndpZHRoPUIoZy5zV2lkdGgpKX1BKGEsbnVsbCwicHJlSW5pdCIsW2FdKTtWKGEpO2M9RChhKTtpZigic3NwIiE9Y3x8ZSkiYWpheCI9PWM/dmEoYSxbXSxmdW5jdGlvbihjKXt2YXIgZD13YShhLGMpO2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspUihhLGRbaF0pO2EuaUluaXREaXNwbGF5U3RhcnQ9YjtWKGEpO0soYSwhMSk7eGEoYSxjKX0sYSk6KEsoYSwhMSkseGEoYSkpfWVsc2Ugc2V0VGltZW91dChmdW5jdGlvbigpe2phKGEpfSwyMDApfWZ1bmN0aW9uIHhhKGEsYil7YS5fYkluaXRDb21wbGV0ZT0hMDsoYnx8YS5vSW5pdC5hYURhdGEpJiZhYShhKTtBKGEsbnVsbCwicGx1Z2luLWluaXQiLFthLGJdKTtBKGEsImFvSW5pdENvbXBsZXRlIiwiaW5pdCIsClthLGJdKX1mdW5jdGlvbiBWYShhLGIpe2I9cGFyc2VJbnQoYiwxMCk7YS5faURpc3BsYXlMZW5ndGg9YjtXYShhKTtBKGEsbnVsbCwibGVuZ3RoIixbYSxiXSl9ZnVuY3Rpb24gdGIoYSl7dmFyIGI9YS5vQ2xhc3NlcyxjPWEuc1RhYmxlSWQsZD1hLmFMZW5ndGhNZW51LGU9Zi5pc0FycmF5KGRbMF0pLGg9ZT9kWzBdOmQ7ZD1lP2RbMV06ZDtlPWYoIjxzZWxlY3QvPiIse25hbWU6YysiX2xlbmd0aCIsImFyaWEtY29udHJvbHMiOmMsImNsYXNzIjpiLnNMZW5ndGhTZWxlY3R9KTtmb3IodmFyIGc9MCxrPWgubGVuZ3RoO2c8aztnKyspZVswXVtnXT1uZXcgT3B0aW9uKCJudW1iZXIiPT09dHlwZW9mIGRbZ10/YS5mbkZvcm1hdE51bWJlcihkW2ddKTpkW2ddLGhbZ10pO3ZhciBsPWYoIjxkaXY+PGxhYmVsLz48L2Rpdj4iKS5hZGRDbGFzcyhiLnNMZW5ndGgpO2EuYWFuRmVhdHVyZXMubHx8KGxbMF0uaWQ9YysiX2xlbmd0aCIpO2wuY2hpbGRyZW4oKS5hcHBlbmQoYS5vTGFuZ3VhZ2Uuc0xlbmd0aE1lbnUucmVwbGFjZSgiX01FTlVfIiwKZVswXS5vdXRlckhUTUwpKTtmKCJzZWxlY3QiLGwpLnZhbChhLl9pRGlzcGxheUxlbmd0aCkub24oImNoYW5nZS5EVCIsZnVuY3Rpb24oYil7VmEoYSxmKHRoaXMpLnZhbCgpKTtTKGEpfSk7ZihhLm5UYWJsZSkub24oImxlbmd0aC5kdC5EVCIsZnVuY3Rpb24oYixjLGQpe2E9PT1jJiZmKCJzZWxlY3QiLGwpLnZhbChkKX0pO3JldHVybiBsWzBdfWZ1bmN0aW9uIHliKGEpe3ZhciBiPWEuc1BhZ2luYXRpb25UeXBlLGM9cS5leHQucGFnZXJbYl0sZD0iZnVuY3Rpb24iPT09dHlwZW9mIGMsZT1mdW5jdGlvbihhKXtTKGEpfTtiPWYoIjxkaXYvPiIpLmFkZENsYXNzKGEub0NsYXNzZXMuc1BhZ2luZytiKVswXTt2YXIgaD1hLmFhbkZlYXR1cmVzO2R8fGMuZm5Jbml0KGEsYixlKTtoLnB8fChiLmlkPWEuc1RhYmxlSWQrIl9wYWdpbmF0ZSIsYS5hb0RyYXdDYWxsYmFjay5wdXNoKHtmbjpmdW5jdGlvbihhKXtpZihkKXt2YXIgYj1hLl9pRGlzcGxheVN0YXJ0LGc9YS5faURpc3BsYXlMZW5ndGgsCmY9YS5mblJlY29yZHNEaXNwbGF5KCksbT0tMT09PWc7Yj1tPzA6TWF0aC5jZWlsKGIvZyk7Zz1tPzE6TWF0aC5jZWlsKGYvZyk7Zj1jKGIsZyk7dmFyIHA7bT0wO2ZvcihwPWgucC5sZW5ndGg7bTxwO20rKylSYShhLCJwYWdlQnV0dG9uIikoYSxoLnBbbV0sbSxmLGIsZyl9ZWxzZSBjLmZuVXBkYXRlKGEsZSl9LHNOYW1lOiJwYWdpbmF0aW9uIn0pKTtyZXR1cm4gYn1mdW5jdGlvbiBYYShhLGIsYyl7dmFyIGQ9YS5faURpc3BsYXlTdGFydCxlPWEuX2lEaXNwbGF5TGVuZ3RoLGg9YS5mblJlY29yZHNEaXNwbGF5KCk7MD09PWh8fC0xPT09ZT9kPTA6Im51bWJlciI9PT10eXBlb2YgYj8oZD1iKmUsZD5oJiYoZD0wKSk6ImZpcnN0Ij09Yj9kPTA6InByZXZpb3VzIj09Yj8oZD0wPD1lP2QtZTowLDA+ZCYmKGQ9MCkpOiJuZXh0Ij09Yj9kK2U8aCYmKGQrPWUpOiJsYXN0Ij09Yj9kPU1hdGguZmxvb3IoKGgtMSkvZSkqZTpPKGEsMCwiVW5rbm93biBwYWdpbmcgYWN0aW9uOiAiK2IsNSk7Yj0KYS5faURpc3BsYXlTdGFydCE9PWQ7YS5faURpc3BsYXlTdGFydD1kO2ImJihBKGEsbnVsbCwicGFnZSIsW2FdKSxjJiZTKGEpKTtyZXR1cm4gYn1mdW5jdGlvbiB2YihhKXtyZXR1cm4gZigiPGRpdi8+Iix7aWQ6YS5hYW5GZWF0dXJlcy5yP251bGw6YS5zVGFibGVJZCsiX3Byb2Nlc3NpbmciLCJjbGFzcyI6YS5vQ2xhc3Nlcy5zUHJvY2Vzc2luZ30pLmh0bWwoYS5vTGFuZ3VhZ2Uuc1Byb2Nlc3NpbmcpLmluc2VydEJlZm9yZShhLm5UYWJsZSlbMF19ZnVuY3Rpb24gSyhhLGIpe2Eub0ZlYXR1cmVzLmJQcm9jZXNzaW5nJiZmKGEuYWFuRmVhdHVyZXMucikuY3NzKCJkaXNwbGF5IixiPyJibG9jayI6Im5vbmUiKTtBKGEsbnVsbCwicHJvY2Vzc2luZyIsW2EsYl0pfWZ1bmN0aW9uIHdiKGEpe3ZhciBiPWYoYS5uVGFibGUpO2IuYXR0cigicm9sZSIsImdyaWQiKTt2YXIgYz1hLm9TY3JvbGw7aWYoIiI9PT1jLnNYJiYiIj09PWMuc1kpcmV0dXJuIGEublRhYmxlO3ZhciBkPWMuc1gsZT1jLnNZLApoPWEub0NsYXNzZXMsZz1iLmNoaWxkcmVuKCJjYXB0aW9uIiksaz1nLmxlbmd0aD9nWzBdLl9jYXB0aW9uU2lkZTpudWxsLGw9ZihiWzBdLmNsb25lTm9kZSghMSkpLG49ZihiWzBdLmNsb25lTm9kZSghMSkpLG09Yi5jaGlsZHJlbigidGZvb3QiKTttLmxlbmd0aHx8KG09bnVsbCk7bD1mKCI8ZGl2Lz4iLHsiY2xhc3MiOmguc1Njcm9sbFdyYXBwZXJ9KS5hcHBlbmQoZigiPGRpdi8+Iix7ImNsYXNzIjpoLnNTY3JvbGxIZWFkfSkuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIixwb3NpdGlvbjoicmVsYXRpdmUiLGJvcmRlcjowLHdpZHRoOmQ/ZD9CKGQpOm51bGw6IjEwMCUifSkuYXBwZW5kKGYoIjxkaXYvPiIseyJjbGFzcyI6aC5zU2Nyb2xsSGVhZElubmVyfSkuY3NzKHsiYm94LXNpemluZyI6ImNvbnRlbnQtYm94Iix3aWR0aDpjLnNYSW5uZXJ8fCIxMDAlIn0pLmFwcGVuZChsLnJlbW92ZUF0dHIoImlkIikuY3NzKCJtYXJnaW4tbGVmdCIsMCkuYXBwZW5kKCJ0b3AiPT09az9nOm51bGwpLmFwcGVuZChiLmNoaWxkcmVuKCJ0aGVhZCIpKSkpKS5hcHBlbmQoZigiPGRpdi8+IiwKeyJjbGFzcyI6aC5zU2Nyb2xsQm9keX0pLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixvdmVyZmxvdzoiYXV0byIsd2lkdGg6ZD9CKGQpOm51bGx9KS5hcHBlbmQoYikpO20mJmwuYXBwZW5kKGYoIjxkaXYvPiIseyJjbGFzcyI6aC5zU2Nyb2xsRm9vdH0pLmNzcyh7b3ZlcmZsb3c6ImhpZGRlbiIsYm9yZGVyOjAsd2lkdGg6ZD9kP0IoZCk6bnVsbDoiMTAwJSJ9KS5hcHBlbmQoZigiPGRpdi8+Iix7ImNsYXNzIjpoLnNTY3JvbGxGb290SW5uZXJ9KS5hcHBlbmQobi5yZW1vdmVBdHRyKCJpZCIpLmNzcygibWFyZ2luLWxlZnQiLDApLmFwcGVuZCgiYm90dG9tIj09PWs/ZzpudWxsKS5hcHBlbmQoYi5jaGlsZHJlbigidGZvb3QiKSkpKSk7Yj1sLmNoaWxkcmVuKCk7dmFyIHA9YlswXTtoPWJbMV07dmFyIHU9bT9iWzJdOm51bGw7aWYoZClmKGgpLm9uKCJzY3JvbGwuRFQiLGZ1bmN0aW9uKGEpe2E9dGhpcy5zY3JvbGxMZWZ0O3Auc2Nyb2xsTGVmdD1hO20mJih1LnNjcm9sbExlZnQ9YSl9KTsKZihoKS5jc3MoZSYmYy5iQ29sbGFwc2U/Im1heC1oZWlnaHQiOiJoZWlnaHQiLGUpO2EublNjcm9sbEhlYWQ9cDthLm5TY3JvbGxCb2R5PWg7YS5uU2Nyb2xsRm9vdD11O2EuYW9EcmF3Q2FsbGJhY2sucHVzaCh7Zm46bmEsc05hbWU6InNjcm9sbGluZyJ9KTtyZXR1cm4gbFswXX1mdW5jdGlvbiBuYShhKXt2YXIgYj1hLm9TY3JvbGwsYz1iLnNYLGQ9Yi5zWElubmVyLGU9Yi5zWTtiPWIuaUJhcldpZHRoO3ZhciBoPWYoYS5uU2Nyb2xsSGVhZCksZz1oWzBdLnN0eWxlLGs9aC5jaGlsZHJlbigiZGl2IiksbD1rWzBdLnN0eWxlLG49ay5jaGlsZHJlbigidGFibGUiKTtrPWEublNjcm9sbEJvZHk7dmFyIG09ZihrKSx3PWsuc3R5bGUsdT1mKGEublNjcm9sbEZvb3QpLmNoaWxkcmVuKCJkaXYiKSxxPXUuY2hpbGRyZW4oInRhYmxlIiksdD1mKGEublRIZWFkKSxyPWYoYS5uVGFibGUpLHY9clswXSx6YT12LnN0eWxlLFQ9YS5uVEZvb3Q/ZihhLm5URm9vdCk6bnVsbCxBPWEub0Jyb3dzZXIsCng9QS5iU2Nyb2xsT3ZlcnNpemUsYWM9SihhLmFvQ29sdW1ucywiblRoIiksWWE9W10seT1bXSx6PVtdLEM9W10sRyxIPWZ1bmN0aW9uKGEpe2E9YS5zdHlsZTthLnBhZGRpbmdUb3A9IjAiO2EucGFkZGluZ0JvdHRvbT0iMCI7YS5ib3JkZXJUb3BXaWR0aD0iMCI7YS5ib3JkZXJCb3R0b21XaWR0aD0iMCI7YS5oZWlnaHQ9MH07dmFyIEQ9ay5zY3JvbGxIZWlnaHQ+ay5jbGllbnRIZWlnaHQ7aWYoYS5zY3JvbGxCYXJWaXMhPT1EJiZhLnNjcm9sbEJhclZpcyE9PXApYS5zY3JvbGxCYXJWaXM9RCxhYShhKTtlbHNle2Euc2Nyb2xsQmFyVmlzPUQ7ci5jaGlsZHJlbigidGhlYWQsIHRmb290IikucmVtb3ZlKCk7aWYoVCl7dmFyIEU9VC5jbG9uZSgpLnByZXBlbmRUbyhyKTt2YXIgRj1ULmZpbmQoInRyIik7RT1FLmZpbmQoInRyIil9dmFyIEk9dC5jbG9uZSgpLnByZXBlbmRUbyhyKTt0PXQuZmluZCgidHIiKTtEPUkuZmluZCgidHIiKTtJLmZpbmQoInRoLCB0ZCIpLnJlbW92ZUF0dHIoInRhYmluZGV4Iik7CmN8fCh3LndpZHRoPSIxMDAlIixoWzBdLnN0eWxlLndpZHRoPSIxMDAlIik7Zi5lYWNoKHVhKGEsSSksZnVuY3Rpb24oYixjKXtHPWJhKGEsYik7Yy5zdHlsZS53aWR0aD1hLmFvQ29sdW1uc1tHXS5zV2lkdGh9KTtUJiZOKGZ1bmN0aW9uKGEpe2Euc3R5bGUud2lkdGg9IiJ9LEUpO2g9ci5vdXRlcldpZHRoKCk7IiI9PT1jPyh6YS53aWR0aD0iMTAwJSIseCYmKHIuZmluZCgidGJvZHkiKS5oZWlnaHQoKT5rLm9mZnNldEhlaWdodHx8InNjcm9sbCI9PW0uY3NzKCJvdmVyZmxvdy15IikpJiYoemEud2lkdGg9QihyLm91dGVyV2lkdGgoKS1iKSksaD1yLm91dGVyV2lkdGgoKSk6IiIhPT1kJiYoemEud2lkdGg9QihkKSxoPXIub3V0ZXJXaWR0aCgpKTtOKEgsRCk7TihmdW5jdGlvbihhKXt6LnB1c2goYS5pbm5lckhUTUwpO1lhLnB1c2goQihmKGEpLmNzcygid2lkdGgiKSkpfSxEKTtOKGZ1bmN0aW9uKGEsYil7LTEhPT1mLmluQXJyYXkoYSxhYykmJihhLnN0eWxlLndpZHRoPVlhW2JdKX0sCnQpO2YoRCkuaGVpZ2h0KDApO1QmJihOKEgsRSksTihmdW5jdGlvbihhKXtDLnB1c2goYS5pbm5lckhUTUwpO3kucHVzaChCKGYoYSkuY3NzKCJ3aWR0aCIpKSl9LEUpLE4oZnVuY3Rpb24oYSxiKXthLnN0eWxlLndpZHRoPXlbYl19LEYpLGYoRSkuaGVpZ2h0KDApKTtOKGZ1bmN0aW9uKGEsYil7YS5pbm5lckhUTUw9JzxkaXYgY2xhc3M9ImRhdGFUYWJsZXNfc2l6aW5nIj4nK3pbYl0rIjwvZGl2PiI7YS5jaGlsZE5vZGVzWzBdLnN0eWxlLmhlaWdodD0iMCI7YS5jaGlsZE5vZGVzWzBdLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2Euc3R5bGUud2lkdGg9WWFbYl19LEQpO1QmJk4oZnVuY3Rpb24oYSxiKXthLmlubmVySFRNTD0nPGRpdiBjbGFzcz0iZGF0YVRhYmxlc19zaXppbmciPicrQ1tiXSsiPC9kaXY+IjthLmNoaWxkTm9kZXNbMF0uc3R5bGUuaGVpZ2h0PSIwIjthLmNoaWxkTm9kZXNbMF0uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7YS5zdHlsZS53aWR0aD15W2JdfSxFKTtyLm91dGVyV2lkdGgoKTwKaD8oRj1rLnNjcm9sbEhlaWdodD5rLm9mZnNldEhlaWdodHx8InNjcm9sbCI9PW0uY3NzKCJvdmVyZmxvdy15Iik/aCtiOmgseCYmKGsuc2Nyb2xsSGVpZ2h0Pmsub2Zmc2V0SGVpZ2h0fHwic2Nyb2xsIj09bS5jc3MoIm92ZXJmbG93LXkiKSkmJih6YS53aWR0aD1CKEYtYikpLCIiIT09YyYmIiI9PT1kfHxPKGEsMSwiUG9zc2libGUgY29sdW1uIG1pc2FsaWdubWVudCIsNikpOkY9IjEwMCUiO3cud2lkdGg9QihGKTtnLndpZHRoPUIoRik7VCYmKGEublNjcm9sbEZvb3Quc3R5bGUud2lkdGg9QihGKSk7IWUmJngmJih3LmhlaWdodD1CKHYub2Zmc2V0SGVpZ2h0K2IpKTtjPXIub3V0ZXJXaWR0aCgpO25bMF0uc3R5bGUud2lkdGg9QihjKTtsLndpZHRoPUIoYyk7ZD1yLmhlaWdodCgpPmsuY2xpZW50SGVpZ2h0fHwic2Nyb2xsIj09bS5jc3MoIm92ZXJmbG93LXkiKTtlPSJwYWRkaW5nIisoQS5iU2Nyb2xsYmFyTGVmdD8iTGVmdCI6IlJpZ2h0Iik7bFtlXT1kP2IrInB4IjoiMHB4IjtUJiYKKHFbMF0uc3R5bGUud2lkdGg9QihjKSx1WzBdLnN0eWxlLndpZHRoPUIoYyksdVswXS5zdHlsZVtlXT1kP2IrInB4IjoiMHB4Iik7ci5jaGlsZHJlbigiY29sZ3JvdXAiKS5pbnNlcnRCZWZvcmUoci5jaGlsZHJlbigidGhlYWQiKSk7bS50cmlnZ2VyKCJzY3JvbGwiKTshYS5iU29ydGVkJiYhYS5iRmlsdGVyZWR8fGEuX2RyYXdIb2xkfHwoay5zY3JvbGxUb3A9MCl9fWZ1bmN0aW9uIE4oYSxiLGMpe2Zvcih2YXIgZD0wLGU9MCxoPWIubGVuZ3RoLGcsaztlPGg7KXtnPWJbZV0uZmlyc3RDaGlsZDtmb3Ioaz1jP2NbZV0uZmlyc3RDaGlsZDpudWxsO2c7KTE9PT1nLm5vZGVUeXBlJiYoYz9hKGcsayxkKTphKGcsZCksZCsrKSxnPWcubmV4dFNpYmxpbmcsaz1jP2submV4dFNpYmxpbmc6bnVsbDtlKyt9fWZ1bmN0aW9uIEphKGEpe3ZhciBiPWEublRhYmxlLGM9YS5hb0NvbHVtbnMsZD1hLm9TY3JvbGwsZT1kLnNZLGg9ZC5zWCxnPWQuc1hJbm5lcixrPWMubGVuZ3RoLGw9b2EoYSwiYlZpc2libGUiKSwKbj1mKCJ0aCIsYS5uVEhlYWQpLG09Yi5nZXRBdHRyaWJ1dGUoIndpZHRoIikscD1iLnBhcmVudE5vZGUsdT0hMSxxLHQ9YS5vQnJvd3NlcjtkPXQuYlNjcm9sbE92ZXJzaXplOyhxPWIuc3R5bGUud2lkdGgpJiYtMSE9PXEuaW5kZXhPZigiJSIpJiYobT1xKTtmb3IocT0wO3E8bC5sZW5ndGg7cSsrKXt2YXIgcj1jW2xbcV1dO251bGwhPT1yLnNXaWR0aCYmKHIuc1dpZHRoPUpiKHIuc1dpZHRoT3JpZyxwKSx1PSEwKX1pZihkfHwhdSYmIWgmJiFlJiZrPT1XKGEpJiZrPT1uLmxlbmd0aClmb3IocT0wO3E8aztxKyspbD1iYShhLHEpLG51bGwhPT1sJiYoY1tsXS5zV2lkdGg9QihuLmVxKHEpLndpZHRoKCkpKTtlbHNle2s9ZihiKS5jbG9uZSgpLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLnJlbW92ZUF0dHIoImlkIik7ay5maW5kKCJ0Ym9keSB0ciIpLnJlbW92ZSgpO3ZhciB2PWYoIjx0ci8+IikuYXBwZW5kVG8oay5maW5kKCJ0Ym9keSIpKTtrLmZpbmQoInRoZWFkLCB0Zm9vdCIpLnJlbW92ZSgpOwprLmFwcGVuZChmKGEublRIZWFkKS5jbG9uZSgpKS5hcHBlbmQoZihhLm5URm9vdCkuY2xvbmUoKSk7ay5maW5kKCJ0Zm9vdCB0aCwgdGZvb3QgdGQiKS5jc3MoIndpZHRoIiwiIik7bj11YShhLGsuZmluZCgidGhlYWQiKVswXSk7Zm9yKHE9MDtxPGwubGVuZ3RoO3ErKylyPWNbbFtxXV0sbltxXS5zdHlsZS53aWR0aD1udWxsIT09ci5zV2lkdGhPcmlnJiYiIiE9PXIuc1dpZHRoT3JpZz9CKHIuc1dpZHRoT3JpZyk6IiIsci5zV2lkdGhPcmlnJiZoJiZmKG5bcV0pLmFwcGVuZChmKCI8ZGl2Lz4iKS5jc3Moe3dpZHRoOnIuc1dpZHRoT3JpZyxtYXJnaW46MCxwYWRkaW5nOjAsYm9yZGVyOjAsaGVpZ2h0OjF9KSk7aWYoYS5hb0RhdGEubGVuZ3RoKWZvcihxPTA7cTxsLmxlbmd0aDtxKyspdT1sW3FdLHI9Y1t1XSxmKEtiKGEsdSkpLmNsb25lKCExKS5hcHBlbmQoci5zQ29udGVudFBhZGRpbmcpLmFwcGVuZFRvKHYpO2YoIltuYW1lXSIsaykucmVtb3ZlQXR0cigibmFtZSIpO3I9ZigiPGRpdi8+IikuY3NzKGh8fAplP3twb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxoZWlnaHQ6MSxyaWdodDowLG92ZXJmbG93OiJoaWRkZW4ifTp7fSkuYXBwZW5kKGspLmFwcGVuZFRvKHApO2gmJmc/ay53aWR0aChnKTpoPyhrLmNzcygid2lkdGgiLCJhdXRvIiksay5yZW1vdmVBdHRyKCJ3aWR0aCIpLGsud2lkdGgoKTxwLmNsaWVudFdpZHRoJiZtJiZrLndpZHRoKHAuY2xpZW50V2lkdGgpKTplP2sud2lkdGgocC5jbGllbnRXaWR0aCk6bSYmay53aWR0aChtKTtmb3IocT1lPTA7cTxsLmxlbmd0aDtxKyspcD1mKG5bcV0pLGc9cC5vdXRlcldpZHRoKCktcC53aWR0aCgpLHA9dC5iQm91bmRpbmc/TWF0aC5jZWlsKG5bcV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpOnAub3V0ZXJXaWR0aCgpLGUrPXAsY1tsW3FdXS5zV2lkdGg9QihwLWcpO2Iuc3R5bGUud2lkdGg9QihlKTtyLnJlbW92ZSgpfW0mJihiLnN0eWxlLndpZHRoPUIobSkpOyFtJiYhaHx8YS5fcmVzekV2dHx8KGI9ZnVuY3Rpb24oKXtmKHopLm9uKCJyZXNpemUuRFQtIisKYS5zSW5zdGFuY2UsU2EoZnVuY3Rpb24oKXthYShhKX0pKX0sZD9zZXRUaW1lb3V0KGIsMUUzKTpiKCksYS5fcmVzekV2dD0hMCl9ZnVuY3Rpb24gSmIoYSxiKXtpZighYSlyZXR1cm4gMDthPWYoIjxkaXYvPiIpLmNzcygid2lkdGgiLEIoYSkpLmFwcGVuZFRvKGJ8fHkuYm9keSk7Yj1hWzBdLm9mZnNldFdpZHRoO2EucmVtb3ZlKCk7cmV0dXJuIGJ9ZnVuY3Rpb24gS2IoYSxiKXt2YXIgYz1MYihhLGIpO2lmKDA+YylyZXR1cm4gbnVsbDt2YXIgZD1hLmFvRGF0YVtjXTtyZXR1cm4gZC5uVHI/ZC5hbkNlbGxzW2JdOmYoIjx0ZC8+IikuaHRtbChJKGEsYyxiLCJkaXNwbGF5IikpWzBdfWZ1bmN0aW9uIExiKGEsYil7Zm9yKHZhciBjLGQ9LTEsZT0tMSxoPTAsZz1hLmFvRGF0YS5sZW5ndGg7aDxnO2grKyljPUkoYSxoLGIsImRpc3BsYXkiKSsiIixjPWMucmVwbGFjZShiYywiIiksYz1jLnJlcGxhY2UoLyZuYnNwOy9nLCIgIiksYy5sZW5ndGg+ZCYmKGQ9Yy5sZW5ndGgsZT1oKTtyZXR1cm4gZX0KZnVuY3Rpb24gQihhKXtyZXR1cm4gbnVsbD09PWE/IjBweCI6Im51bWJlciI9PXR5cGVvZiBhPzA+YT8iMHB4IjphKyJweCI6YS5tYXRjaCgvXGQkLyk/YSsicHgiOmF9ZnVuY3Rpb24gWShhKXt2YXIgYj1bXSxjPWEuYW9Db2x1bW5zO3ZhciBkPWEuYWFTb3J0aW5nRml4ZWQ7dmFyIGU9Zi5pc1BsYWluT2JqZWN0KGQpO3ZhciBoPVtdO3ZhciBnPWZ1bmN0aW9uKGEpe2EubGVuZ3RoJiYhZi5pc0FycmF5KGFbMF0pP2gucHVzaChhKTpmLm1lcmdlKGgsYSl9O2YuaXNBcnJheShkKSYmZyhkKTtlJiZkLnByZSYmZyhkLnByZSk7ZyhhLmFhU29ydGluZyk7ZSYmZC5wb3N0JiZnKGQucG9zdCk7Zm9yKGE9MDthPGgubGVuZ3RoO2ErKyl7dmFyIGs9aFthXVswXTtnPWNba10uYURhdGFTb3J0O2Q9MDtmb3IoZT1nLmxlbmd0aDtkPGU7ZCsrKXt2YXIgbD1nW2RdO3ZhciBuPWNbbF0uc1R5cGV8fCJzdHJpbmciO2hbYV0uX2lkeD09PXAmJihoW2FdLl9pZHg9Zi5pbkFycmF5KGhbYV1bMV0sY1tsXS5hc1NvcnRpbmcpKTsKYi5wdXNoKHtzcmM6ayxjb2w6bCxkaXI6aFthXVsxXSxpbmRleDpoW2FdLl9pZHgsdHlwZTpuLGZvcm1hdHRlcjpxLmV4dC50eXBlLm9yZGVyW24rIi1wcmUiXX0pfX1yZXR1cm4gYn1mdW5jdGlvbiByYihhKXt2YXIgYixjPVtdLGQ9cS5leHQudHlwZS5vcmRlcixlPWEuYW9EYXRhLGg9MCxnPWEuYWlEaXNwbGF5TWFzdGVyO0thKGEpO3ZhciBrPVkoYSk7dmFyIGY9MDtmb3IoYj1rLmxlbmd0aDtmPGI7ZisrKXt2YXIgbj1rW2ZdO24uZm9ybWF0dGVyJiZoKys7TWIoYSxuLmNvbCl9aWYoInNzcCIhPUQoYSkmJjAhPT1rLmxlbmd0aCl7Zj0wO2ZvcihiPWcubGVuZ3RoO2Y8YjtmKyspY1tnW2ZdXT1mO2g9PT1rLmxlbmd0aD9nLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgZCxoPWsubGVuZ3RoLGc9ZVthXS5fYVNvcnREYXRhLGY9ZVtiXS5fYVNvcnREYXRhO2ZvcihkPTA7ZDxoO2QrKyl7dmFyIGw9a1tkXTt2YXIgbT1nW2wuY29sXTt2YXIgbj1mW2wuY29sXTttPW08bj8tMTptPm4/MTowOwppZigwIT09bSlyZXR1cm4iYXNjIj09PWwuZGlyP206LW19bT1jW2FdO249Y1tiXTtyZXR1cm4gbTxuPy0xOm0+bj8xOjB9KTpnLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgaCxnPWsubGVuZ3RoLGY9ZVthXS5fYVNvcnREYXRhLGw9ZVtiXS5fYVNvcnREYXRhO2ZvcihoPTA7aDxnO2grKyl7dmFyIG09a1toXTt2YXIgbj1mW20uY29sXTt2YXIgcD1sW20uY29sXTttPWRbbS50eXBlKyItIittLmRpcl18fGRbInN0cmluZy0iK20uZGlyXTtuPW0obixwKTtpZigwIT09bilyZXR1cm4gbn1uPWNbYV07cD1jW2JdO3JldHVybiBuPHA/LTE6bj5wPzE6MH0pfWEuYlNvcnRlZD0hMH1mdW5jdGlvbiBOYihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjPVkoYSk7YT1hLm9MYW5ndWFnZS5vQXJpYTtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2Q8ZTtkKyspe3ZhciBoPWJbZF07dmFyIGc9aC5hc1NvcnRpbmc7dmFyIGs9aC5zVGl0bGUucmVwbGFjZSgvPC4qPz4vZywiIik7dmFyIGY9aC5uVGg7Zi5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtc29ydCIpOwpoLmJTb3J0YWJsZSYmKDA8Yy5sZW5ndGgmJmNbMF0uY29sPT1kPyhmLnNldEF0dHJpYnV0ZSgiYXJpYS1zb3J0IiwiYXNjIj09Y1swXS5kaXI/ImFzY2VuZGluZyI6ImRlc2NlbmRpbmciKSxoPWdbY1swXS5pbmRleCsxXXx8Z1swXSk6aD1nWzBdLGsrPSJhc2MiPT09aD9hLnNTb3J0QXNjZW5kaW5nOmEuc1NvcnREZXNjZW5kaW5nKTtmLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsayl9fWZ1bmN0aW9uIFphKGEsYixjLGQpe3ZhciBlPWEuYWFTb3J0aW5nLGg9YS5hb0NvbHVtbnNbYl0uYXNTb3J0aW5nLGc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLl9pZHg7Yz09PXAmJihjPWYuaW5BcnJheShhWzFdLGgpKTtyZXR1cm4gYysxPGgubGVuZ3RoP2MrMTpiP251bGw6MH07Im51bWJlciI9PT10eXBlb2YgZVswXSYmKGU9YS5hYVNvcnRpbmc9W2VdKTtjJiZhLm9GZWF0dXJlcy5iU29ydE11bHRpPyhjPWYuaW5BcnJheShiLEooZSwiMCIpKSwtMSE9PWM/KGI9ZyhlW2NdLCEwKSxudWxsPT09CmImJjE9PT1lLmxlbmd0aCYmKGI9MCksbnVsbD09PWI/ZS5zcGxpY2UoYywxKTooZVtjXVsxXT1oW2JdLGVbY10uX2lkeD1iKSk6KGUucHVzaChbYixoWzBdLDBdKSxlW2UubGVuZ3RoLTFdLl9pZHg9MCkpOmUubGVuZ3RoJiZlWzBdWzBdPT1iPyhiPWcoZVswXSksZS5sZW5ndGg9MSxlWzBdWzFdPWhbYl0sZVswXS5faWR4PWIpOihlLmxlbmd0aD0wLGUucHVzaChbYixoWzBdXSksZVswXS5faWR4PTApO1YoYSk7ImZ1bmN0aW9uIj09dHlwZW9mIGQmJmQoYSl9ZnVuY3Rpb24gUWEoYSxiLGMsZCl7dmFyIGU9YS5hb0NvbHVtbnNbY107JGEoYix7fSxmdW5jdGlvbihiKXshMSE9PWUuYlNvcnRhYmxlJiYoYS5vRmVhdHVyZXMuYlByb2Nlc3Npbmc/KEsoYSwhMCksc2V0VGltZW91dChmdW5jdGlvbigpe1phKGEsYyxiLnNoaWZ0S2V5LGQpOyJzc3AiIT09RChhKSYmSyhhLCExKX0sMCkpOlphKGEsYyxiLnNoaWZ0S2V5LGQpKX0pfWZ1bmN0aW9uIEFhKGEpe3ZhciBiPWEuYUxhc3RTb3J0LApjPWEub0NsYXNzZXMuc1NvcnRDb2x1bW4sZD1ZKGEpLGU9YS5vRmVhdHVyZXMsaDtpZihlLmJTb3J0JiZlLmJTb3J0Q2xhc3Nlcyl7ZT0wO2ZvcihoPWIubGVuZ3RoO2U8aDtlKyspe3ZhciBnPWJbZV0uc3JjO2YoSihhLmFvRGF0YSwiYW5DZWxscyIsZykpLnJlbW92ZUNsYXNzKGMrKDI+ZT9lKzE6MykpfWU9MDtmb3IoaD1kLmxlbmd0aDtlPGg7ZSsrKWc9ZFtlXS5zcmMsZihKKGEuYW9EYXRhLCJhbkNlbGxzIixnKSkuYWRkQ2xhc3MoYysoMj5lP2UrMTozKSl9YS5hTGFzdFNvcnQ9ZH1mdW5jdGlvbiBNYihhLGIpe3ZhciBjPWEuYW9Db2x1bW5zW2JdLGQ9cS5leHQub3JkZXJbYy5zU29ydERhdGFUeXBlXSxlO2QmJihlPWQuY2FsbChhLm9JbnN0YW5jZSxhLGIsY2EoYSxiKSkpO2Zvcih2YXIgaCxnPXEuZXh0LnR5cGUub3JkZXJbYy5zVHlwZSsiLXByZSJdLGs9MCxmPWEuYW9EYXRhLmxlbmd0aDtrPGY7aysrKWlmKGM9YS5hb0RhdGFba10sYy5fYVNvcnREYXRhfHwoYy5fYVNvcnREYXRhPQpbXSksIWMuX2FTb3J0RGF0YVtiXXx8ZCloPWQ/ZVtrXTpJKGEsayxiLCJzb3J0IiksYy5fYVNvcnREYXRhW2JdPWc/ZyhoKTpofWZ1bmN0aW9uIEJhKGEpe2lmKGEub0ZlYXR1cmVzLmJTdGF0ZVNhdmUmJiFhLmJEZXN0cm95aW5nKXt2YXIgYj17dGltZTorbmV3IERhdGUsc3RhcnQ6YS5faURpc3BsYXlTdGFydCxsZW5ndGg6YS5faURpc3BsYXlMZW5ndGgsb3JkZXI6Zi5leHRlbmQoITAsW10sYS5hYVNvcnRpbmcpLHNlYXJjaDpGYihhLm9QcmV2aW91c1NlYXJjaCksY29sdW1uczpmLm1hcChhLmFvQ29sdW1ucyxmdW5jdGlvbihiLGQpe3JldHVybnt2aXNpYmxlOmIuYlZpc2libGUsc2VhcmNoOkZiKGEuYW9QcmVTZWFyY2hDb2xzW2RdKX19KX07QShhLCJhb1N0YXRlU2F2ZVBhcmFtcyIsInN0YXRlU2F2ZVBhcmFtcyIsW2EsYl0pO2Eub1NhdmVkU3RhdGU9YjthLmZuU3RhdGVTYXZlQ2FsbGJhY2suY2FsbChhLm9JbnN0YW5jZSxhLGIpfX1mdW5jdGlvbiBPYihhLGIsYyl7dmFyIGQsCmUsaD1hLmFvQ29sdW1ucztiPWZ1bmN0aW9uKGIpe2lmKGImJmIudGltZSl7dmFyIGc9QShhLCJhb1N0YXRlTG9hZFBhcmFtcyIsInN0YXRlTG9hZFBhcmFtcyIsW2EsYl0pO2lmKC0xPT09Zi5pbkFycmF5KCExLGcpJiYoZz1hLmlTdGF0ZUR1cmF0aW9uLCEoMDxnJiZiLnRpbWU8K25ldyBEYXRlLTFFMypnfHxiLmNvbHVtbnMmJmgubGVuZ3RoIT09Yi5jb2x1bW5zLmxlbmd0aCkpKXthLm9Mb2FkZWRTdGF0ZT1mLmV4dGVuZCghMCx7fSxiKTtiLnN0YXJ0IT09cCYmKGEuX2lEaXNwbGF5U3RhcnQ9Yi5zdGFydCxhLmlJbml0RGlzcGxheVN0YXJ0PWIuc3RhcnQpO2IubGVuZ3RoIT09cCYmKGEuX2lEaXNwbGF5TGVuZ3RoPWIubGVuZ3RoKTtiLm9yZGVyIT09cCYmKGEuYWFTb3J0aW5nPVtdLGYuZWFjaChiLm9yZGVyLGZ1bmN0aW9uKGIsYyl7YS5hYVNvcnRpbmcucHVzaChjWzBdPj1oLmxlbmd0aD9bMCxjWzFdXTpjKX0pKTtiLnNlYXJjaCE9PXAmJmYuZXh0ZW5kKGEub1ByZXZpb3VzU2VhcmNoLApHYihiLnNlYXJjaCkpO2lmKGIuY29sdW1ucylmb3IoZD0wLGU9Yi5jb2x1bW5zLmxlbmd0aDtkPGU7ZCsrKWc9Yi5jb2x1bW5zW2RdLGcudmlzaWJsZSE9PXAmJihoW2RdLmJWaXNpYmxlPWcudmlzaWJsZSksZy5zZWFyY2ghPT1wJiZmLmV4dGVuZChhLmFvUHJlU2VhcmNoQ29sc1tkXSxHYihnLnNlYXJjaCkpO0EoYSwiYW9TdGF0ZUxvYWRlZCIsInN0YXRlTG9hZGVkIixbYSxiXSl9fWMoKX07aWYoYS5vRmVhdHVyZXMuYlN0YXRlU2F2ZSl7dmFyIGc9YS5mblN0YXRlTG9hZENhbGxiYWNrLmNhbGwoYS5vSW5zdGFuY2UsYSxiKTtnIT09cCYmYihnKX1lbHNlIGMoKX1mdW5jdGlvbiBDYShhKXt2YXIgYj1xLnNldHRpbmdzO2E9Zi5pbkFycmF5KGEsSihiLCJuVGFibGUiKSk7cmV0dXJuLTEhPT1hP2JbYV06bnVsbH1mdW5jdGlvbiBPKGEsYixjLGQpe2M9IkRhdGFUYWJsZXMgd2FybmluZzogIisoYT8idGFibGUgaWQ9IithLnNUYWJsZUlkKyIgLSAiOiIiKStjO2QmJihjKz0iLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGVycm9yLCBwbGVhc2Ugc2VlIGh0dHA6Ly9kYXRhdGFibGVzLm5ldC90bi8iKwpkKTtpZihiKXouY29uc29sZSYmY29uc29sZS5sb2cmJmNvbnNvbGUubG9nKGMpO2Vsc2UgaWYoYj1xLmV4dCxiPWIuc0Vyck1vZGV8fGIuZXJyTW9kZSxhJiZBKGEsbnVsbCwiZXJyb3IiLFthLGQsY10pLCJhbGVydCI9PWIpYWxlcnQoYyk7ZWxzZXtpZigidGhyb3ciPT1iKXRocm93IEVycm9yKGMpOyJmdW5jdGlvbiI9PXR5cGVvZiBiJiZiKGEsZCxjKX19ZnVuY3Rpb24gTShhLGIsYyxkKXtmLmlzQXJyYXkoYyk/Zi5lYWNoKGMsZnVuY3Rpb24oYyxkKXtmLmlzQXJyYXkoZCk/TShhLGIsZFswXSxkWzFdKTpNKGEsYixkKX0pOihkPT09cCYmKGQ9YyksYltjXSE9PXAmJihhW2RdPWJbY10pKX1mdW5jdGlvbiBhYihhLGIsYyl7dmFyIGQ7Zm9yKGQgaW4gYilpZihiLmhhc093blByb3BlcnR5KGQpKXt2YXIgZT1iW2RdO2YuaXNQbGFpbk9iamVjdChlKT8oZi5pc1BsYWluT2JqZWN0KGFbZF0pfHwoYVtkXT17fSksZi5leHRlbmQoITAsYVtkXSxlKSk6YyYmImRhdGEiIT09ZCYmImFhRGF0YSIhPT0KZCYmZi5pc0FycmF5KGUpP2FbZF09ZS5zbGljZSgpOmFbZF09ZX1yZXR1cm4gYX1mdW5jdGlvbiAkYShhLGIsYyl7ZihhKS5vbigiY2xpY2suRFQiLGIsZnVuY3Rpb24oYil7ZihhKS5ibHVyKCk7YyhiKX0pLm9uKCJrZXlwcmVzcy5EVCIsYixmdW5jdGlvbihhKXsxMz09PWEud2hpY2gmJihhLnByZXZlbnREZWZhdWx0KCksYyhhKSl9KS5vbigic2VsZWN0c3RhcnQuRFQiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KX1mdW5jdGlvbiBFKGEsYixjLGQpe2MmJmFbYl0ucHVzaCh7Zm46YyxzTmFtZTpkfSl9ZnVuY3Rpb24gQShhLGIsYyxkKXt2YXIgZT1bXTtiJiYoZT1mLm1hcChhW2JdLnNsaWNlKCkucmV2ZXJzZSgpLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGIuZm4uYXBwbHkoYS5vSW5zdGFuY2UsZCl9KSk7bnVsbCE9PWMmJihiPWYuRXZlbnQoYysiLmR0IiksZihhLm5UYWJsZSkudHJpZ2dlcihiLGQpLGUucHVzaChiLnJlc3VsdCkpO3JldHVybiBlfWZ1bmN0aW9uIFdhKGEpe3ZhciBiPWEuX2lEaXNwbGF5U3RhcnQsCmM9YS5mbkRpc3BsYXlFbmQoKSxkPWEuX2lEaXNwbGF5TGVuZ3RoO2I+PWMmJihiPWMtZCk7Yi09YiVkO2lmKC0xPT09ZHx8MD5iKWI9MDthLl9pRGlzcGxheVN0YXJ0PWJ9ZnVuY3Rpb24gUmEoYSxiKXthPWEucmVuZGVyZXI7dmFyIGM9cS5leHQucmVuZGVyZXJbYl07cmV0dXJuIGYuaXNQbGFpbk9iamVjdChhKSYmYVtiXT9jW2FbYl1dfHxjLl86InN0cmluZyI9PT10eXBlb2YgYT9jW2FdfHxjLl86Yy5ffWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEub0ZlYXR1cmVzLmJTZXJ2ZXJTaWRlPyJzc3AiOmEuYWpheHx8YS5zQWpheFNvdXJjZT8iYWpheCI6ImRvbSJ9ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1QYi5udW1iZXJzX2xlbmd0aCxkPU1hdGguZmxvb3IoYy8yKTtiPD1jP2E9WigwLGIpOmE8PWQ/KGE9WigwLGMtMiksYS5wdXNoKCJlbGxpcHNpcyIpLGEucHVzaChiLTEpKTooYT49Yi0xLWQ/YT1aKGItKGMtMiksYik6KGE9WihhLWQrMixhK2QtMSksYS5wdXNoKCJlbGxpcHNpcyIpLAphLnB1c2goYi0xKSksYS5zcGxpY2UoMCwwLCJlbGxpcHNpcyIpLGEuc3BsaWNlKDAsMCwwKSk7YS5EVF9lbD0ic3BhbiI7cmV0dXJuIGF9ZnVuY3Rpb24gSGEoYSl7Zi5lYWNoKHtudW06ZnVuY3Rpb24oYil7cmV0dXJuIERhKGIsYSl9LCJudW0tZm10IjpmdW5jdGlvbihiKXtyZXR1cm4gRGEoYixhLGJiKX0sImh0bWwtbnVtIjpmdW5jdGlvbihiKXtyZXR1cm4gRGEoYixhLEVhKX0sImh0bWwtbnVtLWZtdCI6ZnVuY3Rpb24oYil7cmV0dXJuIERhKGIsYSxFYSxiYil9fSxmdW5jdGlvbihiLGMpe0MudHlwZS5vcmRlcltiK2ErIi1wcmUiXT1jO2IubWF0Y2goL15odG1sXC0vKSYmKEMudHlwZS5zZWFyY2hbYithXT1DLnR5cGUuc2VhcmNoLmh0bWwpfSl9ZnVuY3Rpb24gUWIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9W0NhKHRoaXNbcS5leHQuaUFwaUluZGV4XSldLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gcS5leHQuaW50ZXJuYWxbYV0uYXBwbHkodGhpcywKYil9fXZhciBxPWZ1bmN0aW9uKGEpe3RoaXMuJD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFwaSghMCkuJChhLGIpfTt0aGlzLl89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hcGkoITApLnJvd3MoYSxiKS5kYXRhKCl9O3RoaXMuYXBpPWZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyB2KENhKHRoaXNbQy5pQXBpSW5kZXhdKSk6bmV3IHYodGhpcyl9O3RoaXMuZm5BZGREYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hcGkoITApO2E9Zi5pc0FycmF5KGEpJiYoZi5pc0FycmF5KGFbMF0pfHxmLmlzUGxhaW5PYmplY3QoYVswXSkpP2Mucm93cy5hZGQoYSk6Yy5yb3cuYWRkKGEpOyhiPT09cHx8YikmJmMuZHJhdygpO3JldHVybiBhLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5BZGp1c3RDb2x1bW5TaXppbmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNvbHVtbnMuYWRqdXN0KCksYz1iLnNldHRpbmdzKClbMF0sZD1jLm9TY3JvbGw7YT09PXB8fGE/Yi5kcmF3KCExKToKKCIiIT09ZC5zWHx8IiIhPT1kLnNZKSYmbmEoYyl9O3RoaXMuZm5DbGVhclRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXBpKCEwKS5jbGVhcigpOyhhPT09cHx8YSkmJmIuZHJhdygpfTt0aGlzLmZuQ2xvc2U9ZnVuY3Rpb24oYSl7dGhpcy5hcGkoITApLnJvdyhhKS5jaGlsZC5oaWRlKCl9O3RoaXMuZm5EZWxldGVSb3c9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuYXBpKCEwKTthPWQucm93cyhhKTt2YXIgZT1hLnNldHRpbmdzKClbMF0saD1lLmFvRGF0YVthWzBdWzBdXTthLnJlbW92ZSgpO2ImJmIuY2FsbCh0aGlzLGUsaCk7KGM9PT1wfHxjKSYmZC5kcmF3KCk7cmV0dXJuIGh9O3RoaXMuZm5EZXN0cm95PWZ1bmN0aW9uKGEpe3RoaXMuYXBpKCEwKS5kZXN0cm95KGEpfTt0aGlzLmZuRHJhdz1mdW5jdGlvbihhKXt0aGlzLmFwaSghMCkuZHJhdyhhKX07dGhpcy5mbkZpbHRlcj1mdW5jdGlvbihhLGIsYyxkLGUsZil7ZT10aGlzLmFwaSghMCk7bnVsbD09PWJ8fGI9PT1wPwplLnNlYXJjaChhLGMsZCxmKTplLmNvbHVtbihiKS5zZWFyY2goYSxjLGQsZik7ZS5kcmF3KCl9O3RoaXMuZm5HZXREYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hcGkoITApO2lmKGEhPT1wKXt2YXIgZD1hLm5vZGVOYW1lP2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKToiIjtyZXR1cm4gYiE9PXB8fCJ0ZCI9PWR8fCJ0aCI9PWQ/Yy5jZWxsKGEsYikuZGF0YSgpOmMucm93KGEpLmRhdGEoKXx8bnVsbH1yZXR1cm4gYy5kYXRhKCkudG9BcnJheSgpfTt0aGlzLmZuR2V0Tm9kZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApO3JldHVybiBhIT09cD9iLnJvdyhhKS5ub2RlKCk6Yi5yb3dzKCkubm9kZXMoKS5mbGF0dGVuKCkudG9BcnJheSgpfTt0aGlzLmZuR2V0UG9zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLGM9YS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO3JldHVybiJUUiI9PWM/Yi5yb3coYSkuaW5kZXgoKToiVEQiPT1jfHwiVEgiPT1jPyhhPWIuY2VsbChhKS5pbmRleCgpLApbYS5yb3csYS5jb2x1bW5WaXNpYmxlLGEuY29sdW1uXSk6bnVsbH07dGhpcy5mbklzT3Blbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hcGkoITApLnJvdyhhKS5jaGlsZC5pc1Nob3duKCl9O3RoaXMuZm5PcGVuPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5hcGkoITApLnJvdyhhKS5jaGlsZChiLGMpLnNob3coKS5jaGlsZCgpWzBdfTt0aGlzLmZuUGFnZUNoYW5nZT1mdW5jdGlvbihhLGIpe2E9dGhpcy5hcGkoITApLnBhZ2UoYSk7KGI9PT1wfHxiKSYmYS5kcmF3KCExKX07dGhpcy5mblNldENvbHVtblZpcz1mdW5jdGlvbihhLGIsYyl7YT10aGlzLmFwaSghMCkuY29sdW1uKGEpLnZpc2libGUoYik7KGM9PT1wfHxjKSYmYS5jb2x1bW5zLmFkanVzdCgpLmRyYXcoKX07dGhpcy5mblNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIENhKHRoaXNbQy5pQXBpSW5kZXhdKX07dGhpcy5mblNvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5hcGkoITApLm9yZGVyKGEpLmRyYXcoKX07dGhpcy5mblNvcnRMaXN0ZW5lcj0KZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXBpKCEwKS5vcmRlci5saXN0ZW5lcihhLGIsYyl9O3RoaXMuZm5VcGRhdGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgaD10aGlzLmFwaSghMCk7Yz09PXB8fG51bGw9PT1jP2gucm93KGIpLmRhdGEoYSk6aC5jZWxsKGIsYykuZGF0YShhKTsoZT09PXB8fGUpJiZoLmNvbHVtbnMuYWRqdXN0KCk7KGQ9PT1wfHxkKSYmaC5kcmF3KCk7cmV0dXJuIDB9O3RoaXMuZm5WZXJzaW9uQ2hlY2s9Qy5mblZlcnNpb25DaGVjazt2YXIgYj10aGlzLGM9YT09PXAsZD10aGlzLmxlbmd0aDtjJiYoYT17fSk7dGhpcy5vQXBpPXRoaXMuaW50ZXJuYWw9Qy5pbnRlcm5hbDtmb3IodmFyIGUgaW4gcS5leHQuaW50ZXJuYWwpZSYmKHRoaXNbZV09UWIoZSkpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXt9LGc9MTxkP2FiKGUsYSwhMCk6YSxrPTAsbDtlPXRoaXMuZ2V0QXR0cmlidXRlKCJpZCIpO3ZhciBuPSExLG09cS5kZWZhdWx0cyx3PWYodGhpcyk7aWYoInRhYmxlIiE9CnRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlPKG51bGwsMCwiTm9uLXRhYmxlIG5vZGUgaW5pdGlhbGlzYXRpb24gKCIrdGhpcy5ub2RlTmFtZSsiKSIsMik7ZWxzZXtqYihtKTtrYihtLmNvbHVtbik7TChtLG0sITApO0wobS5jb2x1bW4sbS5jb2x1bW4sITApO0wobSxmLmV4dGVuZChnLHcuZGF0YSgpKSwhMCk7dmFyIHU9cS5zZXR0aW5ncztrPTA7Zm9yKGw9dS5sZW5ndGg7azxsO2srKyl7dmFyIHQ9dVtrXTtpZih0Lm5UYWJsZT09dGhpc3x8dC5uVEhlYWQmJnQublRIZWFkLnBhcmVudE5vZGU9PXRoaXN8fHQublRGb290JiZ0Lm5URm9vdC5wYXJlbnROb2RlPT10aGlzKXt2YXIgdj1nLmJSZXRyaWV2ZSE9PXA/Zy5iUmV0cmlldmU6bS5iUmV0cmlldmU7aWYoY3x8dilyZXR1cm4gdC5vSW5zdGFuY2U7aWYoZy5iRGVzdHJveSE9PXA/Zy5iRGVzdHJveTptLmJEZXN0cm95KXt0Lm9JbnN0YW5jZS5mbkRlc3Ryb3koKTticmVha31lbHNle08odCwwLCJDYW5ub3QgcmVpbml0aWFsaXNlIERhdGFUYWJsZSIsCjMpO3JldHVybn19aWYodC5zVGFibGVJZD09dGhpcy5pZCl7dS5zcGxpY2UoaywxKTticmVha319aWYobnVsbD09PWV8fCIiPT09ZSl0aGlzLmlkPWU9IkRhdGFUYWJsZXNfVGFibGVfIitxLmV4dC5fdW5pcXVlKys7dmFyIHI9Zi5leHRlbmQoITAse30scS5tb2RlbHMub1NldHRpbmdzLHtzRGVzdHJveVdpZHRoOndbMF0uc3R5bGUud2lkdGgsc0luc3RhbmNlOmUsc1RhYmxlSWQ6ZX0pO3IublRhYmxlPXRoaXM7ci5vQXBpPWIuaW50ZXJuYWw7ci5vSW5pdD1nO3UucHVzaChyKTtyLm9JbnN0YW5jZT0xPT09Yi5sZW5ndGg/Yjp3LmRhdGFUYWJsZSgpO2piKGcpO0dhKGcub0xhbmd1YWdlKTtnLmFMZW5ndGhNZW51JiYhZy5pRGlzcGxheUxlbmd0aCYmKGcuaURpc3BsYXlMZW5ndGg9Zi5pc0FycmF5KGcuYUxlbmd0aE1lbnVbMF0pP2cuYUxlbmd0aE1lbnVbMF1bMF06Zy5hTGVuZ3RoTWVudVswXSk7Zz1hYihmLmV4dGVuZCghMCx7fSxtKSxnKTtNKHIub0ZlYXR1cmVzLGcsImJQYWdpbmF0ZSBiTGVuZ3RoQ2hhbmdlIGJGaWx0ZXIgYlNvcnQgYlNvcnRNdWx0aSBiSW5mbyBiUHJvY2Vzc2luZyBiQXV0b1dpZHRoIGJTb3J0Q2xhc3NlcyBiU2VydmVyU2lkZSBiRGVmZXJSZW5kZXIiLnNwbGl0KCIgIikpOwpNKHIsZyxbImFzU3RyaXBlQ2xhc3NlcyIsImFqYXgiLCJmblNlcnZlckRhdGEiLCJmbkZvcm1hdE51bWJlciIsInNTZXJ2ZXJNZXRob2QiLCJhYVNvcnRpbmciLCJhYVNvcnRpbmdGaXhlZCIsImFMZW5ndGhNZW51Iiwic1BhZ2luYXRpb25UeXBlIiwic0FqYXhTb3VyY2UiLCJzQWpheERhdGFQcm9wIiwiaVN0YXRlRHVyYXRpb24iLCJzRG9tIiwiYlNvcnRDZWxsc1RvcCIsImlUYWJJbmRleCIsImZuU3RhdGVMb2FkQ2FsbGJhY2siLCJmblN0YXRlU2F2ZUNhbGxiYWNrIiwicmVuZGVyZXIiLCJzZWFyY2hEZWxheSIsInJvd0lkIixbImlDb29raWVEdXJhdGlvbiIsImlTdGF0ZUR1cmF0aW9uIl0sWyJvU2VhcmNoIiwib1ByZXZpb3VzU2VhcmNoIl0sWyJhb1NlYXJjaENvbHMiLCJhb1ByZVNlYXJjaENvbHMiXSxbImlEaXNwbGF5TGVuZ3RoIiwiX2lEaXNwbGF5TGVuZ3RoIl1dKTtNKHIub1Njcm9sbCxnLFtbInNTY3JvbGxYIiwic1giXSxbInNTY3JvbGxYSW5uZXIiLCJzWElubmVyIl0sClsic1Njcm9sbFkiLCJzWSJdLFsiYlNjcm9sbENvbGxhcHNlIiwiYkNvbGxhcHNlIl1dKTtNKHIub0xhbmd1YWdlLGcsImZuSW5mb0NhbGxiYWNrIik7RShyLCJhb0RyYXdDYWxsYmFjayIsZy5mbkRyYXdDYWxsYmFjaywidXNlciIpO0UociwiYW9TZXJ2ZXJQYXJhbXMiLGcuZm5TZXJ2ZXJQYXJhbXMsInVzZXIiKTtFKHIsImFvU3RhdGVTYXZlUGFyYW1zIixnLmZuU3RhdGVTYXZlUGFyYW1zLCJ1c2VyIik7RShyLCJhb1N0YXRlTG9hZFBhcmFtcyIsZy5mblN0YXRlTG9hZFBhcmFtcywidXNlciIpO0UociwiYW9TdGF0ZUxvYWRlZCIsZy5mblN0YXRlTG9hZGVkLCJ1c2VyIik7RShyLCJhb1Jvd0NhbGxiYWNrIixnLmZuUm93Q2FsbGJhY2ssInVzZXIiKTtFKHIsImFvUm93Q3JlYXRlZENhbGxiYWNrIixnLmZuQ3JlYXRlZFJvdywidXNlciIpO0UociwiYW9IZWFkZXJDYWxsYmFjayIsZy5mbkhlYWRlckNhbGxiYWNrLCJ1c2VyIik7RShyLCJhb0Zvb3RlckNhbGxiYWNrIixnLmZuRm9vdGVyQ2FsbGJhY2ssCiJ1c2VyIik7RShyLCJhb0luaXRDb21wbGV0ZSIsZy5mbkluaXRDb21wbGV0ZSwidXNlciIpO0UociwiYW9QcmVEcmF3Q2FsbGJhY2siLGcuZm5QcmVEcmF3Q2FsbGJhY2ssInVzZXIiKTtyLnJvd0lkRm49VShnLnJvd0lkKTtsYihyKTt2YXIgeD1yLm9DbGFzc2VzO2YuZXh0ZW5kKHgscS5leHQuY2xhc3NlcyxnLm9DbGFzc2VzKTt3LmFkZENsYXNzKHguc1RhYmxlKTtyLmlJbml0RGlzcGxheVN0YXJ0PT09cCYmKHIuaUluaXREaXNwbGF5U3RhcnQ9Zy5pRGlzcGxheVN0YXJ0LHIuX2lEaXNwbGF5U3RhcnQ9Zy5pRGlzcGxheVN0YXJ0KTtudWxsIT09Zy5pRGVmZXJMb2FkaW5nJiYoci5iRGVmZXJMb2FkaW5nPSEwLGU9Zi5pc0FycmF5KGcuaURlZmVyTG9hZGluZyksci5faVJlY29yZHNEaXNwbGF5PWU/Zy5pRGVmZXJMb2FkaW5nWzBdOmcuaURlZmVyTG9hZGluZyxyLl9pUmVjb3Jkc1RvdGFsPWU/Zy5pRGVmZXJMb2FkaW5nWzFdOmcuaURlZmVyTG9hZGluZyk7dmFyIHk9ci5vTGFuZ3VhZ2U7CmYuZXh0ZW5kKCEwLHksZy5vTGFuZ3VhZ2UpO3kuc1VybCYmKGYuYWpheCh7ZGF0YVR5cGU6Impzb24iLHVybDp5LnNVcmwsc3VjY2VzczpmdW5jdGlvbihhKXtHYShhKTtMKG0ub0xhbmd1YWdlLGEpO2YuZXh0ZW5kKCEwLHksYSk7amEocil9LGVycm9yOmZ1bmN0aW9uKCl7amEocil9fSksbj0hMCk7bnVsbD09PWcuYXNTdHJpcGVDbGFzc2VzJiYoci5hc1N0cmlwZUNsYXNzZXM9W3guc1N0cmlwZU9kZCx4LnNTdHJpcGVFdmVuXSk7ZT1yLmFzU3RyaXBlQ2xhc3Nlczt2YXIgej13LmNoaWxkcmVuKCJ0Ym9keSIpLmZpbmQoInRyIikuZXEoMCk7LTEhPT1mLmluQXJyYXkoITAsZi5tYXAoZSxmdW5jdGlvbihhLGIpe3JldHVybiB6Lmhhc0NsYXNzKGEpfSkpJiYoZigidGJvZHkgdHIiLHRoaXMpLnJlbW92ZUNsYXNzKGUuam9pbigiICIpKSxyLmFzRGVzdHJveVN0cmlwZXM9ZS5zbGljZSgpKTtlPVtdO3U9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGhlYWQiKTswIT09dS5sZW5ndGgmJgooZmEoci5hb0hlYWRlcix1WzBdKSxlPXVhKHIpKTtpZihudWxsPT09Zy5hb0NvbHVtbnMpZm9yKHU9W10saz0wLGw9ZS5sZW5ndGg7azxsO2srKyl1LnB1c2gobnVsbCk7ZWxzZSB1PWcuYW9Db2x1bW5zO2s9MDtmb3IobD11Lmxlbmd0aDtrPGw7aysrKUlhKHIsZT9lW2tdOm51bGwpO25iKHIsZy5hb0NvbHVtbkRlZnMsdSxmdW5jdGlvbihhLGIpe21hKHIsYSxiKX0pO2lmKHoubGVuZ3RoKXt2YXIgQj1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT09YS5nZXRBdHRyaWJ1dGUoImRhdGEtIitiKT9iOm51bGx9O2YoelswXSkuY2hpbGRyZW4oInRoLCB0ZCIpLmVhY2goZnVuY3Rpb24oYSxiKXt2YXIgYz1yLmFvQ29sdW1uc1thXTtpZihjLm1EYXRhPT09YSl7dmFyIGQ9QihiLCJzb3J0Iil8fEIoYiwib3JkZXIiKTtiPUIoYiwiZmlsdGVyIil8fEIoYiwic2VhcmNoIik7aWYobnVsbCE9PWR8fG51bGwhPT1iKWMubURhdGE9e186YSsiLmRpc3BsYXkiLHNvcnQ6bnVsbCE9PWQ/YSsiLkBkYXRhLSIrCmQ6cCx0eXBlOm51bGwhPT1kP2ErIi5AZGF0YS0iK2Q6cCxmaWx0ZXI6bnVsbCE9PWI/YSsiLkBkYXRhLSIrYjpwfSxtYShyLGEpfX0pfXZhciBDPXIub0ZlYXR1cmVzO2U9ZnVuY3Rpb24oKXtpZihnLmFhU29ydGluZz09PXApe3ZhciBhPXIuYWFTb3J0aW5nO2s9MDtmb3IobD1hLmxlbmd0aDtrPGw7aysrKWFba11bMV09ci5hb0NvbHVtbnNba10uYXNTb3J0aW5nWzBdfUFhKHIpO0MuYlNvcnQmJkUociwiYW9EcmF3Q2FsbGJhY2siLGZ1bmN0aW9uKCl7aWYoci5iU29ydGVkKXt2YXIgYT1ZKHIpLGI9e307Zi5lYWNoKGEsZnVuY3Rpb24oYSxjKXtiW2Muc3JjXT1jLmRpcn0pO0EocixudWxsLCJvcmRlciIsW3IsYSxiXSk7TmIocil9fSk7RShyLCJhb0RyYXdDYWxsYmFjayIsZnVuY3Rpb24oKXsoci5iU29ydGVkfHwic3NwIj09PUQocil8fEMuYkRlZmVyUmVuZGVyKSYmQWEocil9LCJzYyIpO2E9dy5jaGlsZHJlbigiY2FwdGlvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLl9jYXB0aW9uU2lkZT0KZih0aGlzKS5jc3MoImNhcHRpb24tc2lkZSIpfSk7dmFyIGI9dy5jaGlsZHJlbigidGhlYWQiKTswPT09Yi5sZW5ndGgmJihiPWYoIjx0aGVhZC8+IikuYXBwZW5kVG8odykpO3IublRIZWFkPWJbMF07Yj13LmNoaWxkcmVuKCJ0Ym9keSIpOzA9PT1iLmxlbmd0aCYmKGI9ZigiPHRib2R5Lz4iKS5hcHBlbmRUbyh3KSk7ci5uVEJvZHk9YlswXTtiPXcuY2hpbGRyZW4oInRmb290Iik7MD09PWIubGVuZ3RoJiYwPGEubGVuZ3RoJiYoIiIhPT1yLm9TY3JvbGwuc1h8fCIiIT09ci5vU2Nyb2xsLnNZKSYmKGI9ZigiPHRmb290Lz4iKS5hcHBlbmRUbyh3KSk7MD09PWIubGVuZ3RofHwwPT09Yi5jaGlsZHJlbigpLmxlbmd0aD93LmFkZENsYXNzKHguc05vRm9vdGVyKTowPGIubGVuZ3RoJiYoci5uVEZvb3Q9YlswXSxmYShyLmFvRm9vdGVyLHIublRGb290KSk7aWYoZy5hYURhdGEpZm9yKGs9MDtrPGcuYWFEYXRhLmxlbmd0aDtrKyspUihyLGcuYWFEYXRhW2tdKTtlbHNlKHIuYkRlZmVyTG9hZGluZ3x8CiJkb20iPT1EKHIpKSYmcGEocixmKHIublRCb2R5KS5jaGlsZHJlbigidHIiKSk7ci5haURpc3BsYXk9ci5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTtyLmJJbml0aWFsaXNlZD0hMDshMT09PW4mJmphKHIpfTtnLmJTdGF0ZVNhdmU/KEMuYlN0YXRlU2F2ZT0hMCxFKHIsImFvRHJhd0NhbGxiYWNrIixCYSwic3RhdGVfc2F2ZSIpLE9iKHIsZyxlKSk6ZSgpfX0pO2I9bnVsbDtyZXR1cm4gdGhpc30sQyx0LHgsY2I9e30sUmI9L1tcclxuXHUyMDI4XS9nLEVhPS88Lio/Pi9nLGNjPS9eXGR7Miw0fVtcLlwvXC1dXGR7MSwyfVtcLlwvXC1dXGR7MSwyfShbVCBdezF9XGR7MSwyfVs6XC5dXGR7Mn0oW1wuOl1cZHsyfSk/KT8kLyxkYz0vKFwvfFwufFwqfFwrfFw/fFx8fFwofFwpfFxbfFxdfFx7fFx9fFxcfFwkfFxefFwtKS9nLGJiPS9bJywkwqPigqzCpSVcdTIwMDlcdTIwMkZcdTIwQkRcdTIwYTlcdTIwQkFyZmvJg86eXS9naSxQPWZ1bmN0aW9uKGEpe3JldHVybiBhJiYhMCE9PWEmJiItIiE9PWE/ITE6CiEwfSxTYj1mdW5jdGlvbihhKXt2YXIgYj1wYXJzZUludChhLDEwKTtyZXR1cm4haXNOYU4oYikmJmlzRmluaXRlKGEpP2I6bnVsbH0sVGI9ZnVuY3Rpb24oYSxiKXtjYltiXXx8KGNiW2JdPW5ldyBSZWdFeHAoVWEoYiksImciKSk7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgYSYmIi4iIT09Yj9hLnJlcGxhY2UoL1wuL2csIiIpLnJlcGxhY2UoY2JbYl0sIi4iKTphfSxkYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9InN0cmluZyI9PT10eXBlb2YgYTtpZihQKGEpKXJldHVybiEwO2ImJmQmJihhPVRiKGEsYikpO2MmJmQmJihhPWEucmVwbGFjZShiYiwiIikpO3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9LFViPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gUChhKT8hMDpQKGEpfHwic3RyaW5nIj09PXR5cGVvZiBhP2RiKGEucmVwbGFjZShFYSwiIiksYixjKT8hMDpudWxsOm51bGx9LEo9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9MCxoPWEubGVuZ3RoO2lmKGMhPT0KcClmb3IoO2U8aDtlKyspYVtlXSYmYVtlXVtiXSYmZC5wdXNoKGFbZV1bYl1bY10pO2Vsc2UgZm9yKDtlPGg7ZSsrKWFbZV0mJmQucHVzaChhW2VdW2JdKTtyZXR1cm4gZH0sbGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10saD0wLGc9Yi5sZW5ndGg7aWYoZCE9PXApZm9yKDtoPGc7aCsrKWFbYltoXV1bY10mJmUucHVzaChhW2JbaF1dW2NdW2RdKTtlbHNlIGZvcig7aDxnO2grKyllLnB1c2goYVtiW2hdXVtjXSk7cmV0dXJuIGV9LFo9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihiPT09cCl7Yj0wO3ZhciBkPWF9ZWxzZSBkPWIsYj1hO2ZvcihhPWI7YTxkO2ErKyljLnB1c2goYSk7cmV0dXJuIGN9LFZiPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWFbY10mJmIucHVzaChhW2NdKTtyZXR1cm4gYn0sdGE9ZnVuY3Rpb24oYSl7YTp7aWYoISgyPmEubGVuZ3RoKSl7dmFyIGI9YS5zbGljZSgpLnNvcnQoKTtmb3IodmFyIGM9YlswXSxkPTEsCmU9Yi5sZW5ndGg7ZDxlO2QrKyl7aWYoYltkXT09PWMpe2I9ITE7YnJlYWsgYX1jPWJbZF19fWI9ITB9aWYoYilyZXR1cm4gYS5zbGljZSgpO2I9W107ZT1hLmxlbmd0aDt2YXIgaCxnPTA7ZD0wO2E6Zm9yKDtkPGU7ZCsrKXtjPWFbZF07Zm9yKGg9MDtoPGc7aCsrKWlmKGJbaF09PT1jKWNvbnRpbnVlIGE7Yi5wdXNoKGMpO2crK31yZXR1cm4gYn07cS51dGlsPXt0aHJvdHRsZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIhPT1wP2I6MjAwLGQsZTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLGc9K25ldyBEYXRlLGY9YXJndW1lbnRzO2QmJmc8ZCtjPyhjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZD1wO2EuYXBwbHkoYixmKX0sYykpOihkPWcsYS5hcHBseShiLGYpKX19LGVzY2FwZVJlZ2V4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoZGMsIlxcJDEiKX19O3ZhciBGPWZ1bmN0aW9uKGEsYixjKXthW2JdIT09cCYmKGFbY109YVtiXSl9LGRhPS9cWy4qP1xdJC8sClg9L1woXCkkLyxVYT1xLnV0aWwuZXNjYXBlUmVnZXgseWE9ZigiPGRpdj4iKVswXSwkYj15YS50ZXh0Q29udGVudCE9PXAsYmM9LzwuKj8+L2csU2E9cS51dGlsLnRocm90dGxlLFdiPVtdLEc9QXJyYXkucHJvdG90eXBlLGVjPWZ1bmN0aW9uKGEpe3ZhciBiLGM9cS5zZXR0aW5ncyxkPWYubWFwKGMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5uVGFibGV9KTtpZihhKXtpZihhLm5UYWJsZSYmYS5vQXBpKXJldHVyblthXTtpZihhLm5vZGVOYW1lJiYidGFibGUiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZT1mLmluQXJyYXkoYSxkKTtyZXR1cm4tMSE9PWU/W2NbZV1dOm51bGx9aWYoYSYmImZ1bmN0aW9uIj09PXR5cGVvZiBhLnNldHRpbmdzKXJldHVybiBhLnNldHRpbmdzKCkudG9BcnJheSgpOyJzdHJpbmciPT09dHlwZW9mIGE/Yj1mKGEpOmEgaW5zdGFuY2VvZiBmJiYoYj1hKX1lbHNlIHJldHVybltdO2lmKGIpcmV0dXJuIGIubWFwKGZ1bmN0aW9uKGEpe2U9Zi5pbkFycmF5KHRoaXMsCmQpO3JldHVybi0xIT09ZT9jW2VdOm51bGx9KS50b0FycmF5KCl9O3ZhciB2PWZ1bmN0aW9uKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgdikpcmV0dXJuIG5ldyB2KGEsYik7dmFyIGM9W10sZD1mdW5jdGlvbihhKXsoYT1lYyhhKSkmJmMucHVzaC5hcHBseShjLGEpfTtpZihmLmlzQXJyYXkoYSkpZm9yKHZhciBlPTAsaD1hLmxlbmd0aDtlPGg7ZSsrKWQoYVtlXSk7ZWxzZSBkKGEpO3RoaXMuY29udGV4dD10YShjKTtiJiZmLm1lcmdlKHRoaXMsYik7dGhpcy5zZWxlY3Rvcj17cm93czpudWxsLGNvbHM6bnVsbCxvcHRzOm51bGx9O3YuZXh0ZW5kKHRoaXMsdGhpcyxXYil9O3EuQXBpPXY7Zi5leHRlbmQodi5wcm90b3R5cGUse2FueTpmdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy5jb3VudCgpfSxjb25jYXQ6Ry5jb25jYXQsY29udGV4dDpbXSxjb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsYXR0ZW4oKS5sZW5ndGh9LGVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0KdGhpcy5sZW5ndGg7YjxjO2IrKylhLmNhbGwodGhpcyx0aGlzW2JdLGIsdGhpcyk7cmV0dXJuIHRoaXN9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGV4dDtyZXR1cm4gYi5sZW5ndGg+YT9uZXcgdihiW2FdLHRoaXNbYV0pOm51bGx9LGZpbHRlcjpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZihHLmZpbHRlciliPUcuZmlsdGVyLmNhbGwodGhpcyxhLHRoaXMpO2Vsc2UgZm9yKHZhciBjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKWEuY2FsbCh0aGlzLHRoaXNbY10sYyx0aGlzKSYmYi5wdXNoKHRoaXNbY10pO3JldHVybiBuZXcgdih0aGlzLmNvbnRleHQsYil9LGZsYXR0ZW46ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gbmV3IHYodGhpcy5jb250ZXh0LGEuY29uY2F0LmFwcGx5KGEsdGhpcy50b0FycmF5KCkpKX0sam9pbjpHLmpvaW4saW5kZXhPZjpHLmluZGV4T2Z8fGZ1bmN0aW9uKGEsYil7Yj1ifHwwO2Zvcih2YXIgYz10aGlzLmxlbmd0aDtiPGM7YisrKWlmKHRoaXNbYl09PT0KYSlyZXR1cm4gYjtyZXR1cm4tMX0saXRlcmF0b3I6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10saCxnLGY9dGhpcy5jb250ZXh0LGwsbj10aGlzLnNlbGVjdG9yOyJzdHJpbmciPT09dHlwZW9mIGEmJihkPWMsYz1iLGI9YSxhPSExKTt2YXIgbT0wO2ZvcihoPWYubGVuZ3RoO208aDttKyspe3ZhciBxPW5ldyB2KGZbbV0pO2lmKCJ0YWJsZSI9PT1iKXt2YXIgdT1jLmNhbGwocSxmW21dLG0pO3UhPT1wJiZlLnB1c2godSl9ZWxzZSBpZigiY29sdW1ucyI9PT1ifHwicm93cyI9PT1iKXU9Yy5jYWxsKHEsZlttXSx0aGlzW21dLG0pLHUhPT1wJiZlLnB1c2godSk7ZWxzZSBpZigiY29sdW1uIj09PWJ8fCJjb2x1bW4tcm93cyI9PT1ifHwicm93Ij09PWJ8fCJjZWxsIj09PWIpe3ZhciB0PXRoaXNbbV07ImNvbHVtbi1yb3dzIj09PWImJihsPUZhKGZbbV0sbi5vcHRzKSk7dmFyIHg9MDtmb3IoZz10Lmxlbmd0aDt4PGc7eCsrKXU9dFt4XSx1PSJjZWxsIj09PWI/Yy5jYWxsKHEsZlttXSx1LnJvdywKdS5jb2x1bW4sbSx4KTpjLmNhbGwocSxmW21dLHUsbSx4LGwpLHUhPT1wJiZlLnB1c2godSl9fXJldHVybiBlLmxlbmd0aHx8ZD8oYT1uZXcgdihmLGE/ZS5jb25jYXQuYXBwbHkoW10sZSk6ZSksYj1hLnNlbGVjdG9yLGIucm93cz1uLnJvd3MsYi5jb2xzPW4uY29scyxiLm9wdHM9bi5vcHRzLGEpOnRoaXN9LGxhc3RJbmRleE9mOkcubGFzdEluZGV4T2Z8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW5kZXhPZi5hcHBseSh0aGlzLnRvQXJyYXkucmV2ZXJzZSgpLGFyZ3VtZW50cyl9LGxlbmd0aDowLG1hcDpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZihHLm1hcCliPUcubWFwLmNhbGwodGhpcyxhLHRoaXMpO2Vsc2UgZm9yKHZhciBjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKWIucHVzaChhLmNhbGwodGhpcyx0aGlzW2NdLGMpKTtyZXR1cm4gbmV3IHYodGhpcy5jb250ZXh0LGIpfSxwbHVjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGJbYV19KX0sCnBvcDpHLnBvcCxwdXNoOkcucHVzaCxyZWR1Y2U6Ry5yZWR1Y2V8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIG1iKHRoaXMsYSxiLDAsdGhpcy5sZW5ndGgsMSl9LHJlZHVjZVJpZ2h0OkcucmVkdWNlUmlnaHR8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIG1iKHRoaXMsYSxiLHRoaXMubGVuZ3RoLTEsLTEsLTEpfSxyZXZlcnNlOkcucmV2ZXJzZSxzZWxlY3RvcjpudWxsLHNoaWZ0Okcuc2hpZnQsc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHYodGhpcy5jb250ZXh0LHRoaXMpfSxzb3J0Okcuc29ydCxzcGxpY2U6Ry5zcGxpY2UsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBHLnNsaWNlLmNhbGwodGhpcyl9LHRvJDpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMpfSx0b0pRdWVyeTpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMpfSx1bmlxdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHYodGhpcy5jb250ZXh0LHRhKHRoaXMpKX0sdW5zaGlmdDpHLnVuc2hpZnR9KTt2LmV4dGVuZD1mdW5jdGlvbihhLApiLGMpe2lmKGMubGVuZ3RoJiZiJiYoYiBpbnN0YW5jZW9mIHZ8fGIuX19kdF93cmFwcGVyKSl7dmFyIGQsZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yi5hcHBseShhLGFyZ3VtZW50cyk7di5leHRlbmQoZCxkLGMubWV0aG9kRXh0KTtyZXR1cm4gZH19O3ZhciBoPTA7Zm9yKGQ9Yy5sZW5ndGg7aDxkO2grKyl7dmFyIGc9Y1toXTtiW2cubmFtZV09ImZ1bmN0aW9uIj09PWcudHlwZT9lKGEsZy52YWwsZyk6Im9iamVjdCI9PT1nLnR5cGU/e306Zy52YWw7YltnLm5hbWVdLl9fZHRfd3JhcHBlcj0hMDt2LmV4dGVuZChhLGJbZy5uYW1lXSxnLnByb3BFeHQpfX19O3YucmVnaXN0ZXI9dD1mdW5jdGlvbihhLGIpe2lmKGYuaXNBcnJheShhKSlmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspdi5yZWdpc3RlcihhW2NdLGIpO2Vsc2V7ZD1hLnNwbGl0KCIuIik7dmFyIGU9V2IsaDthPTA7Zm9yKGM9ZC5sZW5ndGg7YTxjO2ErKyl7dmFyIGc9KGg9LTEhPT0KZFthXS5pbmRleE9mKCIoKSIpKT9kW2FdLnJlcGxhY2UoIigpIiwiIik6ZFthXTthOnt2YXIgaz0wO2Zvcih2YXIgbD1lLmxlbmd0aDtrPGw7aysrKWlmKGVba10ubmFtZT09PWcpe2s9ZVtrXTticmVhayBhfWs9bnVsbH1rfHwoaz17bmFtZTpnLHZhbDp7fSxtZXRob2RFeHQ6W10scHJvcEV4dDpbXSx0eXBlOiJvYmplY3QifSxlLnB1c2goaykpO2E9PT1jLTE/KGsudmFsPWIsay50eXBlPSJmdW5jdGlvbiI9PT10eXBlb2YgYj8iZnVuY3Rpb24iOmYuaXNQbGFpbk9iamVjdChiKT8ib2JqZWN0Ijoib3RoZXIiKTplPWg/ay5tZXRob2RFeHQ6ay5wcm9wRXh0fX19O3YucmVnaXN0ZXJQbHVyYWw9eD1mdW5jdGlvbihhLGIsYyl7di5yZWdpc3RlcihhLGMpO3YucmVnaXN0ZXIoYixmdW5jdGlvbigpe3ZhciBhPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBhPT09dGhpcz90aGlzOmEgaW5zdGFuY2VvZiB2P2EubGVuZ3RoP2YuaXNBcnJheShhWzBdKT9uZXcgdihhLmNvbnRleHQsCmFbMF0pOmFbMF06cDphfSl9O3ZhciBmYz1mdW5jdGlvbihhLGIpe2lmKCJudW1iZXIiPT09dHlwZW9mIGEpcmV0dXJuW2JbYV1dO3ZhciBjPWYubWFwKGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5uVGFibGV9KTtyZXR1cm4gZihjKS5maWx0ZXIoYSkubWFwKGZ1bmN0aW9uKGEpe2E9Zi5pbkFycmF5KHRoaXMsYyk7cmV0dXJuIGJbYV19KS50b0FycmF5KCl9O3QoInRhYmxlcygpIixmdW5jdGlvbihhKXtyZXR1cm4gYT9uZXcgdihmYyhhLHRoaXMuY29udGV4dCkpOnRoaXN9KTt0KCJ0YWJsZSgpIixmdW5jdGlvbihhKXthPXRoaXMudGFibGVzKGEpO3ZhciBiPWEuY29udGV4dDtyZXR1cm4gYi5sZW5ndGg/bmV3IHYoYlswXSk6YX0pO3goInRhYmxlcygpLm5vZGVzKCkiLCJ0YWJsZSgpLm5vZGUoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5UYWJsZX0sMSl9KTt4KCJ0YWJsZXMoKS5ib2R5KCkiLCJ0YWJsZSgpLmJvZHkoKSIsCmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoInRhYmxlIixmdW5jdGlvbihhKXtyZXR1cm4gYS5uVEJvZHl9LDEpfSk7eCgidGFibGVzKCkuaGVhZGVyKCkiLCJ0YWJsZSgpLmhlYWRlcigpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRIZWFkfSwxKX0pO3goInRhYmxlcygpLmZvb3RlcigpIiwidGFibGUoKS5mb290ZXIoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5URm9vdH0sMSl9KTt4KCJ0YWJsZXMoKS5jb250YWluZXJzKCkiLCJ0YWJsZSgpLmNvbnRhaW5lcigpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlV3JhcHBlcn0sMSl9KTt0KCJkcmF3KCkiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYil7InBhZ2UiPT09CmE/UyhiKTooInN0cmluZyI9PT10eXBlb2YgYSYmKGE9ImZ1bGwtaG9sZCI9PT1hPyExOiEwKSxWKGIsITE9PT1hKSl9KX0pO3QoInBhZ2UoKSIsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1wP3RoaXMucGFnZS5pbmZvKCkucGFnZTp0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYil7WGEoYixhKX0pfSk7dCgicGFnZS5pbmZvKCkiLGZ1bmN0aW9uKGEpe2lmKDA9PT10aGlzLmNvbnRleHQubGVuZ3RoKXJldHVybiBwO2E9dGhpcy5jb250ZXh0WzBdO3ZhciBiPWEuX2lEaXNwbGF5U3RhcnQsYz1hLm9GZWF0dXJlcy5iUGFnaW5hdGU/YS5faURpc3BsYXlMZW5ndGg6LTEsZD1hLmZuUmVjb3Jkc0Rpc3BsYXkoKSxlPS0xPT09YztyZXR1cm57cGFnZTplPzA6TWF0aC5mbG9vcihiL2MpLHBhZ2VzOmU/MTpNYXRoLmNlaWwoZC9jKSxzdGFydDpiLGVuZDphLmZuRGlzcGxheUVuZCgpLGxlbmd0aDpjLHJlY29yZHNUb3RhbDphLmZuUmVjb3Jkc1RvdGFsKCkscmVjb3Jkc0Rpc3BsYXk6ZCwKc2VydmVyU2lkZToic3NwIj09PUQoYSl9fSk7dCgicGFnZS5sZW4oKSIsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1wPzAhPT10aGlzLmNvbnRleHQubGVuZ3RoP3RoaXMuY29udGV4dFswXS5faURpc3BsYXlMZW5ndGg6cDp0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYil7VmEoYixhKX0pfSk7dmFyIFhiPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1uZXcgdihhKTtkLm9uZSgiZHJhdyIsZnVuY3Rpb24oKXtjKGQuYWpheC5qc29uKCkpfSl9aWYoInNzcCI9PUQoYSkpVihhLGIpO2Vsc2V7SyhhLCEwKTt2YXIgZT1hLmpxWEhSO2UmJjQhPT1lLnJlYWR5U3RhdGUmJmUuYWJvcnQoKTt2YShhLFtdLGZ1bmN0aW9uKGMpe3FhKGEpO2M9d2EoYSxjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspUihhLGNbZF0pO1YoYSxiKTtLKGEsITEpfSl9fTt0KCJhamF4Lmpzb24oKSIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7aWYoMDxhLmxlbmd0aClyZXR1cm4gYVswXS5qc29ufSk7CnQoImFqYXgucGFyYW1zKCkiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0O2lmKDA8YS5sZW5ndGgpcmV0dXJuIGFbMF0ub0FqYXhEYXRhfSk7dCgiYWpheC5yZWxvYWQoKSIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGMpe1hiKGMsITE9PT1iLGEpfSl9KTt0KCJhamF4LnVybCgpIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQ7aWYoYT09PXApe2lmKDA9PT1iLmxlbmd0aClyZXR1cm4gcDtiPWJbMF07cmV0dXJuIGIuYWpheD9mLmlzUGxhaW5PYmplY3QoYi5hamF4KT9iLmFqYXgudXJsOmIuYWpheDpiLnNBamF4U291cmNlfXJldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYil7Zi5pc1BsYWluT2JqZWN0KGIuYWpheCk/Yi5hamF4LnVybD1hOmIuYWpheD1hfSl9KTt0KCJhamF4LnVybCgpLmxvYWQoKSIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGMpe1hiKGMsCiExPT09YixhKX0pfSk7dmFyIGViPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGg9W10sZyxrLGw7dmFyIG49dHlwZW9mIGI7YiYmInN0cmluZyIhPT1uJiYiZnVuY3Rpb24iIT09biYmYi5sZW5ndGghPT1wfHwoYj1bYl0pO249MDtmb3Ioaz1iLmxlbmd0aDtuPGs7bisrKXt2YXIgbT1iW25dJiZiW25dLnNwbGl0JiYhYltuXS5tYXRjaCgvW1xbXCg6XS8pP2Jbbl0uc3BsaXQoIiwiKTpbYltuXV07dmFyIHE9MDtmb3IobD1tLmxlbmd0aDtxPGw7cSsrKShnPWMoInN0cmluZyI9PT10eXBlb2YgbVtxXT9mLnRyaW0obVtxXSk6bVtxXSkpJiZnLmxlbmd0aCYmKGg9aC5jb25jYXQoZykpfWE9Qy5zZWxlY3RvclthXTtpZihhLmxlbmd0aClmb3Iobj0wLGs9YS5sZW5ndGg7bjxrO24rKyloPWFbbl0oZCxlLGgpO3JldHVybiB0YShoKX0sZmI9ZnVuY3Rpb24oYSl7YXx8KGE9e30pO2EuZmlsdGVyJiZhLnNlYXJjaD09PXAmJihhLnNlYXJjaD1hLmZpbHRlcik7cmV0dXJuIGYuZXh0ZW5kKHtzZWFyY2g6Im5vbmUiLApvcmRlcjoiY3VycmVudCIscGFnZToiYWxsIn0sYSl9LGdiPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylpZigwPGFbYl0ubGVuZ3RoKXJldHVybiBhWzBdPWFbYl0sYVswXS5sZW5ndGg9MSxhLmxlbmd0aD0xLGEuY29udGV4dD1bYS5jb250ZXh0W2JdXSxhO2EubGVuZ3RoPTA7cmV0dXJuIGF9LEZhPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1hLmFpRGlzcGxheTt2YXIgZT1hLmFpRGlzcGxheU1hc3Rlcjt2YXIgaD1iLnNlYXJjaDt2YXIgZz1iLm9yZGVyO2I9Yi5wYWdlO2lmKCJzc3AiPT1EKGEpKXJldHVybiJyZW1vdmVkIj09PWg/W106WigwLGUubGVuZ3RoKTtpZigiY3VycmVudCI9PWIpZm9yKGc9YS5faURpc3BsYXlTdGFydCxhPWEuZm5EaXNwbGF5RW5kKCk7ZzxhO2crKyljLnB1c2goZFtnXSk7ZWxzZSBpZigiY3VycmVudCI9PWd8fCJhcHBsaWVkIj09ZylpZigibm9uZSI9PWgpYz1lLnNsaWNlKCk7ZWxzZSBpZigiYXBwbGllZCI9PWgpYz0KZC5zbGljZSgpO2Vsc2V7aWYoInJlbW92ZWQiPT1oKXt2YXIgaz17fTtnPTA7Zm9yKGE9ZC5sZW5ndGg7ZzxhO2crKylrW2RbZ11dPW51bGw7Yz1mLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBrLmhhc093blByb3BlcnR5KGEpP251bGw6YX0pfX1lbHNlIGlmKCJpbmRleCI9PWd8fCJvcmlnaW5hbCI9PWcpZm9yKGc9MCxhPWEuYW9EYXRhLmxlbmd0aDtnPGE7ZysrKSJub25lIj09aD9jLnB1c2goZyk6KGU9Zi5pbkFycmF5KGcsZCksKC0xPT09ZSYmInJlbW92ZWQiPT1ofHwwPD1lJiYiYXBwbGllZCI9PWgpJiZjLnB1c2goZykpO3JldHVybiBjfSxnYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGViKCJyb3ciLGIsZnVuY3Rpb24oYil7dmFyIGU9U2IoYiksZz1hLmFvRGF0YTtpZihudWxsIT09ZSYmIWMpcmV0dXJuW2VdO2R8fChkPUZhKGEsYykpO2lmKG51bGwhPT1lJiYtMSE9PWYuaW5BcnJheShlLGQpKXJldHVybltlXTtpZihudWxsPT09Ynx8Yj09PXB8fCIiPT09YilyZXR1cm4gZDsKaWYoImZ1bmN0aW9uIj09PXR5cGVvZiBiKXJldHVybiBmLm1hcChkLGZ1bmN0aW9uKGEpe3ZhciBjPWdbYV07cmV0dXJuIGIoYSxjLl9hRGF0YSxjLm5Ucik/YTpudWxsfSk7aWYoYi5ub2RlTmFtZSl7ZT1iLl9EVF9Sb3dJbmRleDt2YXIgaz1iLl9EVF9DZWxsSW5kZXg7aWYoZSE9PXApcmV0dXJuIGdbZV0mJmdbZV0ublRyPT09Yj9bZV06W107aWYoaylyZXR1cm4gZ1trLnJvd10mJmdbay5yb3ddLm5Ucj09PWIucGFyZW50Tm9kZT9bay5yb3ddOltdO2U9ZihiKS5jbG9zZXN0KCIqW2RhdGEtZHQtcm93XSIpO3JldHVybiBlLmxlbmd0aD9bZS5kYXRhKCJkdC1yb3ciKV06W119aWYoInN0cmluZyI9PT10eXBlb2YgYiYmIiMiPT09Yi5jaGFyQXQoMCkmJihlPWEuYUlkc1tiLnJlcGxhY2UoL14jLywiIildLGUhPT1wKSlyZXR1cm5bZS5pZHhdO2U9VmIobGEoYS5hb0RhdGEsZCwiblRyIikpO3JldHVybiBmKGUpLmZpbHRlcihiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRFRfUm93SW5kZXh9KS50b0FycmF5KCl9LAphLGMpfTt0KCJyb3dzKCkiLGZ1bmN0aW9uKGEsYil7YT09PXA/YT0iIjpmLmlzUGxhaW5PYmplY3QoYSkmJihiPWEsYT0iIik7Yj1mYihiKTt2YXIgYz10aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYyl7cmV0dXJuIGdjKGMsYSxiKX0sMSk7Yy5zZWxlY3Rvci5yb3dzPWE7Yy5zZWxlY3Rvci5vcHRzPWI7cmV0dXJuIGN9KTt0KCJyb3dzKCkubm9kZXMoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigicm93IixmdW5jdGlvbihhLGIpe3JldHVybiBhLmFvRGF0YVtiXS5uVHJ8fHB9LDEpfSk7dCgicm93cygpLmRhdGEoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcighMCwicm93cyIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbGEoYS5hb0RhdGEsYiwiX2FEYXRhIil9LDEpfSk7eCgicm93cygpLmNhY2hlKCkiLCJyb3coKS5jYWNoZSgpIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigicm93IixmdW5jdGlvbihiLGMpe2I9Yi5hb0RhdGFbY107CnJldHVybiJzZWFyY2giPT09YT9iLl9hRmlsdGVyRGF0YTpiLl9hU29ydERhdGF9LDEpfSk7eCgicm93cygpLmludmFsaWRhdGUoKSIsInJvdygpLmludmFsaWRhdGUoKSIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoInJvdyIsZnVuY3Rpb24oYixjKXtlYShiLGMsYSl9KX0pO3goInJvd3MoKS5pbmRleGVzKCkiLCJyb3coKS5pbmRleCgpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJyb3ciLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LDEpfSk7eCgicm93cygpLmlkcygpIiwicm93KCkuaWQoKSIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5jb250ZXh0LGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspZm9yKHZhciBoPTAsZz10aGlzW2RdLmxlbmd0aDtoPGc7aCsrKXt2YXIgZj1jW2RdLnJvd0lkRm4oY1tkXS5hb0RhdGFbdGhpc1tkXVtoXV0uX2FEYXRhKTtiLnB1c2goKCEwPT09YT8iIyI6IiIpK2YpfXJldHVybiBuZXcgdihjLGIpfSk7eCgicm93cygpLnJlbW92ZSgpIiwKInJvdygpLnJlbW92ZSgpIixmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5pdGVyYXRvcigicm93IixmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi5hb0RhdGEsaD1lW2NdLGcsZjtlLnNwbGljZShjLDEpO3ZhciBsPTA7Zm9yKGc9ZS5sZW5ndGg7bDxnO2wrKyl7dmFyIG49ZVtsXTt2YXIgbT1uLmFuQ2VsbHM7bnVsbCE9PW4ublRyJiYobi5uVHIuX0RUX1Jvd0luZGV4PWwpO2lmKG51bGwhPT1tKWZvcihuPTAsZj1tLmxlbmd0aDtuPGY7bisrKW1bbl0uX0RUX0NlbGxJbmRleC5yb3c9bH1yYShiLmFpRGlzcGxheU1hc3RlcixjKTtyYShiLmFpRGlzcGxheSxjKTtyYShhW2RdLGMsITEpOzA8Yi5faVJlY29yZHNEaXNwbGF5JiZiLl9pUmVjb3Jkc0Rpc3BsYXktLTtXYShiKTtjPWIucm93SWRGbihoLl9hRGF0YSk7YyE9PXAmJmRlbGV0ZSBiLmFJZHNbY119KTt0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZD1hLmFvRGF0YS5sZW5ndGg7YjxkO2IrKylhLmFvRGF0YVtiXS5pZHg9CmJ9KTtyZXR1cm4gdGhpc30pO3QoInJvd3MuYWRkKCkiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXRlcmF0b3IoInRhYmxlIixmdW5jdGlvbihiKXt2YXIgYyxkPVtdO3ZhciBnPTA7Zm9yKGM9YS5sZW5ndGg7ZzxjO2crKyl7dmFyIGY9YVtnXTtmLm5vZGVOYW1lJiYiVFIiPT09Zi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpP2QucHVzaChwYShiLGYpWzBdKTpkLnB1c2goUihiLGYpKX1yZXR1cm4gZH0sMSksYz10aGlzLnJvd3MoLTEpO2MucG9wKCk7Zi5tZXJnZShjLGIpO3JldHVybiBjfSk7dCgicm93KCkiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGdiKHRoaXMucm93cyhhLGIpKX0pO3QoInJvdygpLmRhdGEoKSIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb250ZXh0O2lmKGE9PT1wKXJldHVybiBiLmxlbmd0aCYmdGhpcy5sZW5ndGg/YlswXS5hb0RhdGFbdGhpc1swXV0uX2FEYXRhOnA7dmFyIGM9YlswXS5hb0RhdGFbdGhpc1swXV07Yy5fYURhdGE9YTtmLmlzQXJyYXkoYSkmJmMublRyLmlkJiYKUShiWzBdLnJvd0lkKShhLGMublRyLmlkKTtlYShiWzBdLHRoaXNbMF0sImRhdGEiKTtyZXR1cm4gdGhpc30pO3QoInJvdygpLm5vZGUoKSIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7cmV0dXJuIGEubGVuZ3RoJiZ0aGlzLmxlbmd0aD9hWzBdLmFvRGF0YVt0aGlzWzBdXS5uVHJ8fG51bGw6bnVsbH0pO3QoInJvdy5hZGQoKSIsZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIGYmJmEubGVuZ3RoJiYoYT1hWzBdKTt2YXIgYj10aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYil7cmV0dXJuIGEubm9kZU5hbWUmJiJUUiI9PT1hLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk/cGEoYixhKVswXTpSKGIsYSl9KTtyZXR1cm4gdGhpcy5yb3coYlswXSl9KTt2YXIgaGM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10saD1mdW5jdGlvbihiLGMpe2lmKGYuaXNBcnJheShiKXx8YiBpbnN0YW5jZW9mIGYpZm9yKHZhciBkPTAsZz1iLmxlbmd0aDtkPGc7ZCsrKWgoYltkXSxjKTtlbHNlIGIubm9kZU5hbWUmJgoidHIiPT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2UucHVzaChiKTooZD1mKCI8dHI+PHRkLz48L3RyPiIpLmFkZENsYXNzKGMpLGYoInRkIixkKS5hZGRDbGFzcyhjKS5odG1sKGIpWzBdLmNvbFNwYW49VyhhKSxlLnB1c2goZFswXSkpfTtoKGMsZCk7Yi5fZGV0YWlscyYmYi5fZGV0YWlscy5kZXRhY2goKTtiLl9kZXRhaWxzPWYoZSk7Yi5fZGV0YWlsc1Nob3cmJmIuX2RldGFpbHMuaW5zZXJ0QWZ0ZXIoYi5uVHIpfSxoYj1mdW5jdGlvbihhLGIpe3ZhciBjPWEuY29udGV4dDtjLmxlbmd0aCYmKGE9Y1swXS5hb0RhdGFbYiE9PXA/YjphWzBdXSkmJmEuX2RldGFpbHMmJihhLl9kZXRhaWxzLnJlbW92ZSgpLGEuX2RldGFpbHNTaG93PXAsYS5fZGV0YWlscz1wKX0sWWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNvbnRleHQ7Yy5sZW5ndGgmJmEubGVuZ3RoJiYoYT1jWzBdLmFvRGF0YVthWzBdXSxhLl9kZXRhaWxzJiYoKGEuX2RldGFpbHNTaG93PWIpP2EuX2RldGFpbHMuaW5zZXJ0QWZ0ZXIoYS5uVHIpOgphLl9kZXRhaWxzLmRldGFjaCgpLGljKGNbMF0pKSl9LGljPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyB2KGEpLGM9YS5hb0RhdGE7Yi5vZmYoImRyYXcuZHQuRFRfZGV0YWlscyBjb2x1bW4tdmlzaWJpbGl0eS5kdC5EVF9kZXRhaWxzIGRlc3Ryb3kuZHQuRFRfZGV0YWlscyIpOzA8SihjLCJfZGV0YWlscyIpLmxlbmd0aCYmKGIub24oImRyYXcuZHQuRFRfZGV0YWlscyIsZnVuY3Rpb24oZCxlKXthPT09ZSYmYi5yb3dzKHtwYWdlOiJjdXJyZW50In0pLmVxKDApLmVhY2goZnVuY3Rpb24oYSl7YT1jW2FdO2EuX2RldGFpbHNTaG93JiZhLl9kZXRhaWxzLmluc2VydEFmdGVyKGEublRyKX0pfSksYi5vbigiY29sdW1uLXZpc2liaWxpdHkuZHQuRFRfZGV0YWlscyIsZnVuY3Rpb24oYixlLGYsZyl7aWYoYT09PWUpZm9yKGU9VyhlKSxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKWI9Y1tmXSxiLl9kZXRhaWxzJiZiLl9kZXRhaWxzLmNoaWxkcmVuKCJ0ZFtjb2xzcGFuXSIpLmF0dHIoImNvbHNwYW4iLAplKX0pLGIub24oImRlc3Ryb3kuZHQuRFRfZGV0YWlscyIsZnVuY3Rpb24oZCxlKXtpZihhPT09ZSlmb3IoZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyljW2RdLl9kZXRhaWxzJiZoYihiLGQpfSkpfTt0KCJyb3coKS5jaGlsZCgpIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY29udGV4dDtpZihhPT09cClyZXR1cm4gYy5sZW5ndGgmJnRoaXMubGVuZ3RoP2NbMF0uYW9EYXRhW3RoaXNbMF1dLl9kZXRhaWxzOnA7ITA9PT1hP3RoaXMuY2hpbGQuc2hvdygpOiExPT09YT9oYih0aGlzKTpjLmxlbmd0aCYmdGhpcy5sZW5ndGgmJmhjKGNbMF0sY1swXS5hb0RhdGFbdGhpc1swXV0sYSxiKTtyZXR1cm4gdGhpc30pO3QoWyJyb3coKS5jaGlsZC5zaG93KCkiLCJyb3coKS5jaGlsZCgpLnNob3coKSJdLGZ1bmN0aW9uKGEpe1liKHRoaXMsITApO3JldHVybiB0aGlzfSk7dChbInJvdygpLmNoaWxkLmhpZGUoKSIsInJvdygpLmNoaWxkKCkuaGlkZSgpIl0sZnVuY3Rpb24oKXtZYih0aGlzLCExKTsKcmV0dXJuIHRoaXN9KTt0KFsicm93KCkuY2hpbGQucmVtb3ZlKCkiLCJyb3coKS5jaGlsZCgpLnJlbW92ZSgpIl0sZnVuY3Rpb24oKXtoYih0aGlzKTtyZXR1cm4gdGhpc30pO3QoInJvdygpLmNoaWxkLmlzU2hvd24oKSIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7cmV0dXJuIGEubGVuZ3RoJiZ0aGlzLmxlbmd0aD9hWzBdLmFvRGF0YVt0aGlzWzBdXS5fZGV0YWlsc1Nob3d8fCExOiExfSk7dmFyIGpjPS9eKFteOl0rKToobmFtZXx2aXNJZHh8dmlzaWJsZSkkLyxaYj1mdW5jdGlvbihhLGIsYyxkLGUpe2M9W107ZD0wO2Zvcih2YXIgZj1lLmxlbmd0aDtkPGY7ZCsrKWMucHVzaChJKGEsZVtkXSxiKSk7cmV0dXJuIGN9LGtjPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmFvQ29sdW1ucyxlPUooZCwic05hbWUiKSxoPUooZCwiblRoIik7cmV0dXJuIGViKCJjb2x1bW4iLGIsZnVuY3Rpb24oYil7dmFyIGc9U2IoYik7aWYoIiI9PT1iKXJldHVybiBaKGQubGVuZ3RoKTtpZihudWxsIT09CmcpcmV0dXJuWzA8PWc/ZzpkLmxlbmd0aCtnXTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGIpe3ZhciBsPUZhKGEsYyk7cmV0dXJuIGYubWFwKGQsZnVuY3Rpb24oYyxkKXtyZXR1cm4gYihkLFpiKGEsZCwwLDAsbCksaFtkXSk/ZDpudWxsfSl9dmFyIG49InN0cmluZyI9PT10eXBlb2YgYj9iLm1hdGNoKGpjKToiIjtpZihuKXN3aXRjaChuWzJdKXtjYXNlICJ2aXNJZHgiOmNhc2UgInZpc2libGUiOmc9cGFyc2VJbnQoblsxXSwxMCk7aWYoMD5nKXt2YXIgbT1mLm1hcChkLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYlZpc2libGU/YjpudWxsfSk7cmV0dXJuW21bbS5sZW5ndGgrZ11dfXJldHVybltiYShhLGcpXTtjYXNlICJuYW1lIjpyZXR1cm4gZi5tYXAoZSxmdW5jdGlvbihhLGIpe3JldHVybiBhPT09blsxXT9iOm51bGx9KTtkZWZhdWx0OnJldHVybltdfWlmKGIubm9kZU5hbWUmJmIuX0RUX0NlbGxJbmRleClyZXR1cm5bYi5fRFRfQ2VsbEluZGV4LmNvbHVtbl07Zz1mKGgpLmZpbHRlcihiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZi5pbkFycmF5KHRoaXMsCmgpfSkudG9BcnJheSgpO2lmKGcubGVuZ3RofHwhYi5ub2RlTmFtZSlyZXR1cm4gZztnPWYoYikuY2xvc2VzdCgiKltkYXRhLWR0LWNvbHVtbl0iKTtyZXR1cm4gZy5sZW5ndGg/W2cuZGF0YSgiZHQtY29sdW1uIildOltdfSxhLGMpfTt0KCJjb2x1bW5zKCkiLGZ1bmN0aW9uKGEsYil7YT09PXA/YT0iIjpmLmlzUGxhaW5PYmplY3QoYSkmJihiPWEsYT0iIik7Yj1mYihiKTt2YXIgYz10aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYyl7cmV0dXJuIGtjKGMsYSxiKX0sMSk7Yy5zZWxlY3Rvci5jb2xzPWE7Yy5zZWxlY3Rvci5vcHRzPWI7cmV0dXJuIGN9KTt4KCJjb2x1bW5zKCkuaGVhZGVyKCkiLCJjb2x1bW4oKS5oZWFkZXIoKSIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigiY29sdW1uIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmFvQ29sdW1uc1tiXS5uVGh9LDEpfSk7eCgiY29sdW1ucygpLmZvb3RlcigpIiwiY29sdW1uKCkuZm9vdGVyKCkiLGZ1bmN0aW9uKGEsCmIpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJjb2x1bW4iLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm5UZn0sMSl9KTt4KCJjb2x1bW5zKCkuZGF0YSgpIiwiY29sdW1uKCkuZGF0YSgpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJjb2x1bW4tcm93cyIsWmIsMSl9KTt4KCJjb2x1bW5zKCkuZGF0YVNyYygpIiwiY29sdW1uKCkuZGF0YVNyYygpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJjb2x1bW4iLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm1EYXRhfSwxKX0pO3goImNvbHVtbnMoKS5jYWNoZSgpIiwiY29sdW1uKCkuY2FjaGUoKSIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoImNvbHVtbi1yb3dzIixmdW5jdGlvbihiLGMsZCxlLGYpe3JldHVybiBsYShiLmFvRGF0YSxmLCJzZWFyY2giPT09YT8iX2FGaWx0ZXJEYXRhIjoiX2FTb3J0RGF0YSIsYyl9LDEpfSk7eCgiY29sdW1ucygpLm5vZGVzKCkiLAoiY29sdW1uKCkubm9kZXMoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigiY29sdW1uLXJvd3MiLGZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGxhKGEuYW9EYXRhLGUsImFuQ2VsbHMiLGIpfSwxKX0pO3goImNvbHVtbnMoKS52aXNpYmxlKCkiLCJjb2x1bW4oKS52aXNpYmxlKCkiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXRoaXMuaXRlcmF0b3IoImNvbHVtbiIsZnVuY3Rpb24oYixjKXtpZihhPT09cClyZXR1cm4gYi5hb0NvbHVtbnNbY10uYlZpc2libGU7dmFyIGQ9Yi5hb0NvbHVtbnMsZT1kW2NdLGg9Yi5hb0RhdGEsbjtpZihhIT09cCYmZS5iVmlzaWJsZSE9PWEpe2lmKGEpe3ZhciBtPWYuaW5BcnJheSghMCxKKGQsImJWaXNpYmxlIiksYysxKTtkPTA7Zm9yKG49aC5sZW5ndGg7ZDxuO2QrKyl7dmFyIHE9aFtkXS5uVHI7Yj1oW2RdLmFuQ2VsbHM7cSYmcS5pbnNlcnRCZWZvcmUoYltjXSxiW21dfHxudWxsKX19ZWxzZSBmKEooYi5hb0RhdGEsImFuQ2VsbHMiLApjKSkuZGV0YWNoKCk7ZS5iVmlzaWJsZT1hfX0pO2EhPT1wJiZ0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oZCl7aGEoZCxkLmFvSGVhZGVyKTtoYShkLGQuYW9Gb290ZXIpO2QuYWlEaXNwbGF5Lmxlbmd0aHx8ZihkLm5UQm9keSkuZmluZCgidGRbY29sc3Bhbl0iKS5hdHRyKCJjb2xzcGFuIixXKGQpKTtCYShkKTtjLml0ZXJhdG9yKCJjb2x1bW4iLGZ1bmN0aW9uKGMsZCl7QShjLG51bGwsImNvbHVtbi12aXNpYmlsaXR5IixbYyxkLGEsYl0pfSk7KGI9PT1wfHxiKSYmYy5jb2x1bW5zLmFkanVzdCgpfSk7cmV0dXJuIGR9KTt4KCJjb2x1bW5zKCkuaW5kZXhlcygpIiwiY29sdW1uKCkuaW5kZXgoKSIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoImNvbHVtbiIsZnVuY3Rpb24oYixjKXtyZXR1cm4idmlzaWJsZSI9PT1hP2NhKGIsYyk6Y30sMSl9KTt0KCJjb2x1bW5zLmFkanVzdCgpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYSl7YWEoYSl9LAoxKX0pO3QoImNvbHVtbi5pbmRleCgpIixmdW5jdGlvbihhLGIpe2lmKDAhPT10aGlzLmNvbnRleHQubGVuZ3RoKXt2YXIgYz10aGlzLmNvbnRleHRbMF07aWYoImZyb21WaXNpYmxlIj09PWF8fCJ0b0RhdGEiPT09YSlyZXR1cm4gYmEoYyxiKTtpZigiZnJvbURhdGEiPT09YXx8InRvVmlzaWJsZSI9PT1hKXJldHVybiBjYShjLGIpfX0pO3QoImNvbHVtbigpIixmdW5jdGlvbihhLGIpe3JldHVybiBnYih0aGlzLmNvbHVtbnMoYSxiKSl9KTt2YXIgbGM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuYW9EYXRhLGU9RmEoYSxjKSxoPVZiKGxhKGQsZSwiYW5DZWxscyIpKSxnPWYoW10uY29uY2F0LmFwcGx5KFtdLGgpKSxrLGw9YS5hb0NvbHVtbnMubGVuZ3RoLG4sbSxxLHUsdCx2O3JldHVybiBlYigiY2VsbCIsYixmdW5jdGlvbihiKXt2YXIgYz0iZnVuY3Rpb24iPT09dHlwZW9mIGI7aWYobnVsbD09PWJ8fGI9PT1wfHxjKXtuPVtdO209MDtmb3IocT1lLmxlbmd0aDttPHE7bSsrKWZvcihrPQplW21dLHU9MDt1PGw7dSsrKXQ9e3JvdzprLGNvbHVtbjp1fSxjPyh2PWRba10sYih0LEkoYSxrLHUpLHYuYW5DZWxscz92LmFuQ2VsbHNbdV06bnVsbCkmJm4ucHVzaCh0KSk6bi5wdXNoKHQpO3JldHVybiBufWlmKGYuaXNQbGFpbk9iamVjdChiKSlyZXR1cm4gYi5jb2x1bW4hPT1wJiZiLnJvdyE9PXAmJi0xIT09Zi5pbkFycmF5KGIucm93LGUpP1tiXTpbXTtjPWcuZmlsdGVyKGIpLm1hcChmdW5jdGlvbihhLGIpe3JldHVybntyb3c6Yi5fRFRfQ2VsbEluZGV4LnJvdyxjb2x1bW46Yi5fRFRfQ2VsbEluZGV4LmNvbHVtbn19KS50b0FycmF5KCk7aWYoYy5sZW5ndGh8fCFiLm5vZGVOYW1lKXJldHVybiBjO3Y9ZihiKS5jbG9zZXN0KCIqW2RhdGEtZHQtcm93XSIpO3JldHVybiB2Lmxlbmd0aD9be3Jvdzp2LmRhdGEoImR0LXJvdyIpLGNvbHVtbjp2LmRhdGEoImR0LWNvbHVtbiIpfV06W119LGEsYyl9O3QoImNlbGxzKCkiLGZ1bmN0aW9uKGEsYixjKXtmLmlzUGxhaW5PYmplY3QoYSkmJgooYS5yb3c9PT1wPyhjPWEsYT1udWxsKTooYz1iLGI9bnVsbCkpO2YuaXNQbGFpbk9iamVjdChiKSYmKGM9YixiPW51bGwpO2lmKG51bGw9PT1ifHxiPT09cClyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGIpe3JldHVybiBsYyhiLGEsZmIoYykpfSk7dmFyIGQ9Yz97cGFnZTpjLnBhZ2Usb3JkZXI6Yy5vcmRlcixzZWFyY2g6Yy5zZWFyY2h9Ont9LGU9dGhpcy5jb2x1bW5zKGIsZCksaD10aGlzLnJvd3MoYSxkKSxnLGssbCxuO2Q9dGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGEsYil7YT1bXTtnPTA7Zm9yKGs9aFtiXS5sZW5ndGg7ZzxrO2crKylmb3IobD0wLG49ZVtiXS5sZW5ndGg7bDxuO2wrKylhLnB1c2goe3JvdzpoW2JdW2ddLGNvbHVtbjplW2JdW2xdfSk7cmV0dXJuIGF9LDEpO2Q9YyYmYy5zZWxlY3RlZD90aGlzLmNlbGxzKGQsYyk6ZDtmLmV4dGVuZChkLnNlbGVjdG9yLHtjb2xzOmIscm93czphLG9wdHM6Y30pO3JldHVybiBkfSk7eCgiY2VsbHMoKS5ub2RlcygpIiwKImNlbGwoKS5ub2RlKCkiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoImNlbGwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4oYT1hLmFvRGF0YVtiXSkmJmEuYW5DZWxscz9hLmFuQ2VsbHNbY106cH0sMSl9KTt0KCJjZWxscygpLmRhdGEoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigiY2VsbCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBJKGEsYixjKX0sMSl9KTt4KCJjZWxscygpLmNhY2hlKCkiLCJjZWxsKCkuY2FjaGUoKSIsZnVuY3Rpb24oYSl7YT0ic2VhcmNoIj09PWE/Il9hRmlsdGVyRGF0YSI6Il9hU29ydERhdGEiO3JldHVybiB0aGlzLml0ZXJhdG9yKCJjZWxsIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGIuYW9EYXRhW2NdW2FdW2RdfSwxKX0pO3goImNlbGxzKCkucmVuZGVyKCkiLCJjZWxsKCkucmVuZGVyKCkiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJjZWxsIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIEkoYixjLGQsYSl9LAoxKX0pO3goImNlbGxzKCkuaW5kZXhlcygpIiwiY2VsbCgpLmluZGV4KCkiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoImNlbGwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm57cm93OmIsY29sdW1uOmMsY29sdW1uVmlzaWJsZTpjYShhLGMpfX0sMSl9KTt4KCJjZWxscygpLmludmFsaWRhdGUoKSIsImNlbGwoKS5pbnZhbGlkYXRlKCkiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJjZWxsIixmdW5jdGlvbihiLGMsZCl7ZWEoYixjLGEsZCl9KX0pO3QoImNlbGwoKSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBnYih0aGlzLmNlbGxzKGEsYixjKSl9KTt0KCJjZWxsKCkuZGF0YSgpIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQsYz10aGlzWzBdO2lmKGE9PT1wKXJldHVybiBiLmxlbmd0aCYmYy5sZW5ndGg/SShiWzBdLGNbMF0ucm93LGNbMF0uY29sdW1uKTpwO29iKGJbMF0sY1swXS5yb3csY1swXS5jb2x1bW4sYSk7ZWEoYlswXSxjWzBdLnJvdywKImRhdGEiLGNbMF0uY29sdW1uKTtyZXR1cm4gdGhpc30pO3QoIm9yZGVyKCkiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jb250ZXh0O2lmKGE9PT1wKXJldHVybiAwIT09Yy5sZW5ndGg/Y1swXS5hYVNvcnRpbmc6cDsibnVtYmVyIj09PXR5cGVvZiBhP2E9W1thLGJdXTphLmxlbmd0aCYmIWYuaXNBcnJheShhWzBdKSYmKGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7cmV0dXJuIHRoaXMuaXRlcmF0b3IoInRhYmxlIixmdW5jdGlvbihiKXtiLmFhU29ydGluZz1hLnNsaWNlKCl9KX0pO3QoIm9yZGVyLmxpc3RlbmVyKCkiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGQpe1FhKGQsYSxiLGMpfSl9KTt0KCJvcmRlci5maXhlZCgpIixmdW5jdGlvbihhKXtpZighYSl7dmFyIGI9dGhpcy5jb250ZXh0O2I9Yi5sZW5ndGg/YlswXS5hYVNvcnRpbmdGaXhlZDpwO3JldHVybiBmLmlzQXJyYXkoYik/e3ByZTpifToKYn1yZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGIpe2IuYWFTb3J0aW5nRml4ZWQ9Zi5leHRlbmQoITAse30sYSl9KX0pO3QoWyJjb2x1bW5zKCkub3JkZXIoKSIsImNvbHVtbigpLm9yZGVyKCkiXSxmdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYyxkKXt2YXIgZT1bXTtmLmVhY2goYltkXSxmdW5jdGlvbihiLGMpe2UucHVzaChbYyxhXSl9KTtjLmFhU29ydGluZz1lfSl9KTt0KCJzZWFyY2goKSIsZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5jb250ZXh0O3JldHVybiBhPT09cD8wIT09ZS5sZW5ndGg/ZVswXS5vUHJldmlvdXNTZWFyY2guc1NlYXJjaDpwOnRoaXMuaXRlcmF0b3IoInRhYmxlIixmdW5jdGlvbihlKXtlLm9GZWF0dXJlcy5iRmlsdGVyJiZpYShlLGYuZXh0ZW5kKHt9LGUub1ByZXZpb3VzU2VhcmNoLHtzU2VhcmNoOmErIiIsYlJlZ2V4Om51bGw9PT1iPyExOmIsYlNtYXJ0Om51bGw9PT0KYz8hMDpjLGJDYXNlSW5zZW5zaXRpdmU6bnVsbD09PWQ/ITA6ZH0pLDEpfSl9KTt4KCJjb2x1bW5zKCkuc2VhcmNoKCkiLCJjb2x1bW4oKS5zZWFyY2goKSIsZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoImNvbHVtbiIsZnVuY3Rpb24oZSxoKXt2YXIgZz1lLmFvUHJlU2VhcmNoQ29scztpZihhPT09cClyZXR1cm4gZ1toXS5zU2VhcmNoO2Uub0ZlYXR1cmVzLmJGaWx0ZXImJihmLmV4dGVuZChnW2hdLHtzU2VhcmNoOmErIiIsYlJlZ2V4Om51bGw9PT1iPyExOmIsYlNtYXJ0Om51bGw9PT1jPyEwOmMsYkNhc2VJbnNlbnNpdGl2ZTpudWxsPT09ZD8hMDpkfSksaWEoZSxlLm9QcmV2aW91c1NlYXJjaCwxKSl9KX0pO3QoInN0YXRlKCkiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg/dGhpcy5jb250ZXh0WzBdLm9TYXZlZFN0YXRlOm51bGx9KTt0KCJzdGF0ZS5jbGVhcigpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsCmZ1bmN0aW9uKGEpe2EuZm5TdGF0ZVNhdmVDYWxsYmFjay5jYWxsKGEub0luc3RhbmNlLGEse30pfSl9KTt0KCJzdGF0ZS5sb2FkZWQoKSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0Lmxlbmd0aD90aGlzLmNvbnRleHRbMF0ub0xvYWRlZFN0YXRlOm51bGx9KTt0KCJzdGF0ZS5zYXZlKCkiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoInRhYmxlIixmdW5jdGlvbihhKXtCYShhKX0pfSk7cS52ZXJzaW9uQ2hlY2s9cS5mblZlcnNpb25DaGVjaz1mdW5jdGlvbihhKXt2YXIgYj1xLnZlcnNpb24uc3BsaXQoIi4iKTthPWEuc3BsaXQoIi4iKTtmb3IodmFyIGMsZCxlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKWlmKGM9cGFyc2VJbnQoYltlXSwxMCl8fDAsZD1wYXJzZUludChhW2VdLDEwKXx8MCxjIT09ZClyZXR1cm4gYz5kO3JldHVybiEwfTtxLmlzRGF0YVRhYmxlPXEuZm5Jc0RhdGFUYWJsZT1mdW5jdGlvbihhKXt2YXIgYj1mKGEpLmdldCgwKSxjPSExO2lmKGEgaW5zdGFuY2VvZgpxLkFwaSlyZXR1cm4hMDtmLmVhY2gocS5zZXR0aW5ncyxmdW5jdGlvbihhLGUpe2E9ZS5uU2Nyb2xsSGVhZD9mKCJ0YWJsZSIsZS5uU2Nyb2xsSGVhZClbMF06bnVsbDt2YXIgZD1lLm5TY3JvbGxGb290P2YoInRhYmxlIixlLm5TY3JvbGxGb290KVswXTpudWxsO2lmKGUublRhYmxlPT09Ynx8YT09PWJ8fGQ9PT1iKWM9ITB9KTtyZXR1cm4gY307cS50YWJsZXM9cS5mblRhYmxlcz1mdW5jdGlvbihhKXt2YXIgYj0hMTtmLmlzUGxhaW5PYmplY3QoYSkmJihiPWEuYXBpLGE9YS52aXNpYmxlKTt2YXIgYz1mLm1hcChxLnNldHRpbmdzLGZ1bmN0aW9uKGIpe2lmKCFhfHxhJiZmKGIublRhYmxlKS5pcygiOnZpc2libGUiKSlyZXR1cm4gYi5uVGFibGV9KTtyZXR1cm4gYj9uZXcgdihjKTpjfTtxLmNhbWVsVG9IdW5nYXJpYW49TDt0KCIkKCkiLGZ1bmN0aW9uKGEsYil7Yj10aGlzLnJvd3MoYikubm9kZXMoKTtiPWYoYik7cmV0dXJuIGYoW10uY29uY2F0KGIuZmlsdGVyKGEpLnRvQXJyYXkoKSwKYi5maW5kKGEpLnRvQXJyYXkoKSkpfSk7Zi5lYWNoKFsib24iLCJvbmUiLCJvZmYiXSxmdW5jdGlvbihhLGIpe3QoYisiKCkiLGZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthWzBdPWYubWFwKGFbMF0uc3BsaXQoL1xzLyksZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goL1wuZHRcYi8pP2E6YSsiLmR0In0pLmpvaW4oIiAiKTt2YXIgZD1mKHRoaXMudGFibGVzKCkubm9kZXMoKSk7ZFtiXS5hcHBseShkLGEpO3JldHVybiB0aGlzfSl9KTt0KCJjbGVhcigpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKCJ0YWJsZSIsZnVuY3Rpb24oYSl7cWEoYSl9KX0pO3QoInNldHRpbmdzKCkiLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB2KHRoaXMuY29udGV4dCx0aGlzLmNvbnRleHQpfSk7dCgiaW5pdCgpIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGV4dDtyZXR1cm4gYS5sZW5ndGg/YVswXS5vSW5pdDpudWxsfSk7dCgiZGF0YSgpIiwKZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGEpe3JldHVybiBKKGEuYW9EYXRhLCJfYURhdGEiKX0pLmZsYXR0ZW4oKX0pO3QoImRlc3Ryb3koKSIsZnVuY3Rpb24oYSl7YT1hfHwhMTtyZXR1cm4gdGhpcy5pdGVyYXRvcigidGFibGUiLGZ1bmN0aW9uKGIpe3ZhciBjPWIublRhYmxlV3JhcHBlci5wYXJlbnROb2RlLGQ9Yi5vQ2xhc3NlcyxlPWIublRhYmxlLGg9Yi5uVEJvZHksZz1iLm5USGVhZCxrPWIublRGb290LGw9ZihlKTtoPWYoaCk7dmFyIG49ZihiLm5UYWJsZVdyYXBwZXIpLG09Zi5tYXAoYi5hb0RhdGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRyfSkscDtiLmJEZXN0cm95aW5nPSEwO0EoYiwiYW9EZXN0cm95Q2FsbGJhY2siLCJkZXN0cm95IixbYl0pO2F8fChuZXcgdihiKSkuY29sdW1ucygpLnZpc2libGUoITApO24ub2ZmKCIuRFQiKS5maW5kKCI6bm90KHRib2R5ICopIikub2ZmKCIuRFQiKTtmKHopLm9mZigiLkRULSIrYi5zSW5zdGFuY2UpOwplIT1nLnBhcmVudE5vZGUmJihsLmNoaWxkcmVuKCJ0aGVhZCIpLmRldGFjaCgpLGwuYXBwZW5kKGcpKTtrJiZlIT1rLnBhcmVudE5vZGUmJihsLmNoaWxkcmVuKCJ0Zm9vdCIpLmRldGFjaCgpLGwuYXBwZW5kKGspKTtiLmFhU29ydGluZz1bXTtiLmFhU29ydGluZ0ZpeGVkPVtdO0FhKGIpO2YobSkucmVtb3ZlQ2xhc3MoYi5hc1N0cmlwZUNsYXNzZXMuam9pbigiICIpKTtmKCJ0aCwgdGQiLGcpLnJlbW92ZUNsYXNzKGQuc1NvcnRhYmxlKyIgIitkLnNTb3J0YWJsZUFzYysiICIrZC5zU29ydGFibGVEZXNjKyIgIitkLnNTb3J0YWJsZU5vbmUpO2guY2hpbGRyZW4oKS5kZXRhY2goKTtoLmFwcGVuZChtKTtnPWE/InJlbW92ZSI6ImRldGFjaCI7bFtnXSgpO25bZ10oKTshYSYmYyYmKGMuaW5zZXJ0QmVmb3JlKGUsYi5uVGFibGVSZWluc2VydEJlZm9yZSksbC5jc3MoIndpZHRoIixiLnNEZXN0cm95V2lkdGgpLnJlbW92ZUNsYXNzKGQuc1RhYmxlKSwocD1iLmFzRGVzdHJveVN0cmlwZXMubGVuZ3RoKSYmCmguY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKGEpe2YodGhpcykuYWRkQ2xhc3MoYi5hc0Rlc3Ryb3lTdHJpcGVzW2ElcF0pfSkpO2M9Zi5pbkFycmF5KGIscS5zZXR0aW5ncyk7LTEhPT1jJiZxLnNldHRpbmdzLnNwbGljZShjLDEpfSl9KTtmLmVhY2goWyJjb2x1bW4iLCJyb3ciLCJjZWxsIl0sZnVuY3Rpb24oYSxiKXt0KGIrInMoKS5ldmVyeSgpIixmdW5jdGlvbihhKXt2YXIgYz10aGlzLnNlbGVjdG9yLm9wdHMsZT10aGlzO3JldHVybiB0aGlzLml0ZXJhdG9yKGIsZnVuY3Rpb24oZCxmLGssbCxuKXthLmNhbGwoZVtiXShmLCJjZWxsIj09PWI/azpjLCJjZWxsIj09PWI/YzpwKSxmLGssbCxuKX0pfSl9KTt0KCJpMThuKCkiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNvbnRleHRbMF07YT1VKGEpKGQub0xhbmd1YWdlKTthPT09cCYmKGE9Yik7YyE9PXAmJmYuaXNQbGFpbk9iamVjdChhKSYmKGE9YVtjXSE9PXA/YVtjXTphLl8pO3JldHVybiBhLnJlcGxhY2UoIiVkIixjKX0pOwpxLnZlcnNpb249IjEuMTAuMjAiO3Euc2V0dGluZ3M9W107cS5tb2RlbHM9e307cS5tb2RlbHMub1NlYXJjaD17YkNhc2VJbnNlbnNpdGl2ZTohMCxzU2VhcmNoOiIiLGJSZWdleDohMSxiU21hcnQ6ITB9O3EubW9kZWxzLm9Sb3c9e25UcjpudWxsLGFuQ2VsbHM6bnVsbCxfYURhdGE6W10sX2FTb3J0RGF0YTpudWxsLF9hRmlsdGVyRGF0YTpudWxsLF9zRmlsdGVyUm93Om51bGwsX3NSb3dTdHJpcGU6IiIsc3JjOm51bGwsaWR4Oi0xfTtxLm1vZGVscy5vQ29sdW1uPXtpZHg6bnVsbCxhRGF0YVNvcnQ6bnVsbCxhc1NvcnRpbmc6bnVsbCxiU2VhcmNoYWJsZTpudWxsLGJTb3J0YWJsZTpudWxsLGJWaXNpYmxlOm51bGwsX3NNYW51YWxUeXBlOm51bGwsX2JBdHRyU3JjOiExLGZuQ3JlYXRlZENlbGw6bnVsbCxmbkdldERhdGE6bnVsbCxmblNldERhdGE6bnVsbCxtRGF0YTpudWxsLG1SZW5kZXI6bnVsbCxuVGg6bnVsbCxuVGY6bnVsbCxzQ2xhc3M6bnVsbCxzQ29udGVudFBhZGRpbmc6bnVsbCwKc0RlZmF1bHRDb250ZW50Om51bGwsc05hbWU6bnVsbCxzU29ydERhdGFUeXBlOiJzdGQiLHNTb3J0aW5nQ2xhc3M6bnVsbCxzU29ydGluZ0NsYXNzSlVJOm51bGwsc1RpdGxlOm51bGwsc1R5cGU6bnVsbCxzV2lkdGg6bnVsbCxzV2lkdGhPcmlnOm51bGx9O3EuZGVmYXVsdHM9e2FhRGF0YTpudWxsLGFhU29ydGluZzpbWzAsImFzYyJdXSxhYVNvcnRpbmdGaXhlZDpbXSxhamF4Om51bGwsYUxlbmd0aE1lbnU6WzEwLDI1LDUwLDEwMF0sYW9Db2x1bW5zOm51bGwsYW9Db2x1bW5EZWZzOm51bGwsYW9TZWFyY2hDb2xzOltdLGFzU3RyaXBlQ2xhc3NlczpudWxsLGJBdXRvV2lkdGg6ITAsYkRlZmVyUmVuZGVyOiExLGJEZXN0cm95OiExLGJGaWx0ZXI6ITAsYkluZm86ITAsYkxlbmd0aENoYW5nZTohMCxiUGFnaW5hdGU6ITAsYlByb2Nlc3Npbmc6ITEsYlJldHJpZXZlOiExLGJTY3JvbGxDb2xsYXBzZTohMSxiU2VydmVyU2lkZTohMSxiU29ydDohMCxiU29ydE11bHRpOiEwLGJTb3J0Q2VsbHNUb3A6ITEsCmJTb3J0Q2xhc3NlczohMCxiU3RhdGVTYXZlOiExLGZuQ3JlYXRlZFJvdzpudWxsLGZuRHJhd0NhbGxiYWNrOm51bGwsZm5Gb290ZXJDYWxsYmFjazpudWxsLGZuRm9ybWF0TnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiBhLnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZyx0aGlzLm9MYW5ndWFnZS5zVGhvdXNhbmRzKX0sZm5IZWFkZXJDYWxsYmFjazpudWxsLGZuSW5mb0NhbGxiYWNrOm51bGwsZm5Jbml0Q29tcGxldGU6bnVsbCxmblByZURyYXdDYWxsYmFjazpudWxsLGZuUm93Q2FsbGJhY2s6bnVsbCxmblNlcnZlckRhdGE6bnVsbCxmblNlcnZlclBhcmFtczpudWxsLGZuU3RhdGVMb2FkQ2FsbGJhY2s6ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKCgtMT09PWEuaVN0YXRlRHVyYXRpb24/c2Vzc2lvblN0b3JhZ2U6bG9jYWxTdG9yYWdlKS5nZXRJdGVtKCJEYXRhVGFibGVzXyIrYS5zSW5zdGFuY2UrIl8iK2xvY2F0aW9uLnBhdGhuYW1lKSl9Y2F0Y2goYil7fX0sCmZuU3RhdGVMb2FkUGFyYW1zOm51bGwsZm5TdGF0ZUxvYWRlZDpudWxsLGZuU3RhdGVTYXZlQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0cnl7KC0xPT09YS5pU3RhdGVEdXJhdGlvbj9zZXNzaW9uU3RvcmFnZTpsb2NhbFN0b3JhZ2UpLnNldEl0ZW0oIkRhdGFUYWJsZXNfIithLnNJbnN0YW5jZSsiXyIrbG9jYXRpb24ucGF0aG5hbWUsSlNPTi5zdHJpbmdpZnkoYikpfWNhdGNoKGMpe319LGZuU3RhdGVTYXZlUGFyYW1zOm51bGwsaVN0YXRlRHVyYXRpb246NzIwMCxpRGVmZXJMb2FkaW5nOm51bGwsaURpc3BsYXlMZW5ndGg6MTAsaURpc3BsYXlTdGFydDowLGlUYWJJbmRleDowLG9DbGFzc2VzOnt9LG9MYW5ndWFnZTp7b0FyaWE6e3NTb3J0QXNjZW5kaW5nOiI6IGFjdGl2YXRlIHRvIHNvcnQgY29sdW1uIGFzY2VuZGluZyIsc1NvcnREZXNjZW5kaW5nOiI6IGFjdGl2YXRlIHRvIHNvcnQgY29sdW1uIGRlc2NlbmRpbmcifSxvUGFnaW5hdGU6e3NGaXJzdDoiRmlyc3QiLHNMYXN0OiJMYXN0IiwKc05leHQ6Ik5leHQiLHNQcmV2aW91czoiUHJldmlvdXMifSxzRW1wdHlUYWJsZToiTm8gZGF0YSBhdmFpbGFibGUgaW4gdGFibGUiLHNJbmZvOiJTaG93aW5nIF9TVEFSVF8gdG8gX0VORF8gb2YgX1RPVEFMXyBlbnRyaWVzIixzSW5mb0VtcHR5OiJTaG93aW5nIDAgdG8gMCBvZiAwIGVudHJpZXMiLHNJbmZvRmlsdGVyZWQ6IihmaWx0ZXJlZCBmcm9tIF9NQVhfIHRvdGFsIGVudHJpZXMpIixzSW5mb1Bvc3RGaXg6IiIsc0RlY2ltYWw6IiIsc1Rob3VzYW5kczoiLCIsc0xlbmd0aE1lbnU6IlNob3cgX01FTlVfIGVudHJpZXMiLHNMb2FkaW5nUmVjb3JkczoiTG9hZGluZy4uLiIsc1Byb2Nlc3Npbmc6IlByb2Nlc3NpbmcuLi4iLHNTZWFyY2g6IlNlYXJjaDoiLHNTZWFyY2hQbGFjZWhvbGRlcjoiIixzVXJsOiIiLHNaZXJvUmVjb3JkczoiTm8gbWF0Y2hpbmcgcmVjb3JkcyBmb3VuZCJ9LG9TZWFyY2g6Zi5leHRlbmQoe30scS5tb2RlbHMub1NlYXJjaCksc0FqYXhEYXRhUHJvcDoiZGF0YSIsCnNBamF4U291cmNlOm51bGwsc0RvbToibGZydGlwIixzZWFyY2hEZWxheTpudWxsLHNQYWdpbmF0aW9uVHlwZToic2ltcGxlX251bWJlcnMiLHNTY3JvbGxYOiIiLHNTY3JvbGxYSW5uZXI6IiIsc1Njcm9sbFk6IiIsc1NlcnZlck1ldGhvZDoiR0VUIixyZW5kZXJlcjpudWxsLHJvd0lkOiJEVF9Sb3dJZCJ9O0gocS5kZWZhdWx0cyk7cS5kZWZhdWx0cy5jb2x1bW49e2FEYXRhU29ydDpudWxsLGlEYXRhU29ydDotMSxhc1NvcnRpbmc6WyJhc2MiLCJkZXNjIl0sYlNlYXJjaGFibGU6ITAsYlNvcnRhYmxlOiEwLGJWaXNpYmxlOiEwLGZuQ3JlYXRlZENlbGw6bnVsbCxtRGF0YTpudWxsLG1SZW5kZXI6bnVsbCxzQ2VsbFR5cGU6InRkIixzQ2xhc3M6IiIsc0NvbnRlbnRQYWRkaW5nOiIiLHNEZWZhdWx0Q29udGVudDpudWxsLHNOYW1lOiIiLHNTb3J0RGF0YVR5cGU6InN0ZCIsc1RpdGxlOm51bGwsc1R5cGU6bnVsbCxzV2lkdGg6bnVsbH07SChxLmRlZmF1bHRzLmNvbHVtbik7cS5tb2RlbHMub1NldHRpbmdzPQp7b0ZlYXR1cmVzOntiQXV0b1dpZHRoOm51bGwsYkRlZmVyUmVuZGVyOm51bGwsYkZpbHRlcjpudWxsLGJJbmZvOm51bGwsYkxlbmd0aENoYW5nZTpudWxsLGJQYWdpbmF0ZTpudWxsLGJQcm9jZXNzaW5nOm51bGwsYlNlcnZlclNpZGU6bnVsbCxiU29ydDpudWxsLGJTb3J0TXVsdGk6bnVsbCxiU29ydENsYXNzZXM6bnVsbCxiU3RhdGVTYXZlOm51bGx9LG9TY3JvbGw6e2JDb2xsYXBzZTpudWxsLGlCYXJXaWR0aDowLHNYOm51bGwsc1hJbm5lcjpudWxsLHNZOm51bGx9LG9MYW5ndWFnZTp7Zm5JbmZvQ2FsbGJhY2s6bnVsbH0sb0Jyb3dzZXI6e2JTY3JvbGxPdmVyc2l6ZTohMSxiU2Nyb2xsYmFyTGVmdDohMSxiQm91bmRpbmc6ITEsYmFyV2lkdGg6MH0sYWpheDpudWxsLGFhbkZlYXR1cmVzOltdLGFvRGF0YTpbXSxhaURpc3BsYXk6W10sYWlEaXNwbGF5TWFzdGVyOltdLGFJZHM6e30sYW9Db2x1bW5zOltdLGFvSGVhZGVyOltdLGFvRm9vdGVyOltdLG9QcmV2aW91c1NlYXJjaDp7fSwKYW9QcmVTZWFyY2hDb2xzOltdLGFhU29ydGluZzpudWxsLGFhU29ydGluZ0ZpeGVkOltdLGFzU3RyaXBlQ2xhc3NlczpudWxsLGFzRGVzdHJveVN0cmlwZXM6W10sc0Rlc3Ryb3lXaWR0aDowLGFvUm93Q2FsbGJhY2s6W10sYW9IZWFkZXJDYWxsYmFjazpbXSxhb0Zvb3RlckNhbGxiYWNrOltdLGFvRHJhd0NhbGxiYWNrOltdLGFvUm93Q3JlYXRlZENhbGxiYWNrOltdLGFvUHJlRHJhd0NhbGxiYWNrOltdLGFvSW5pdENvbXBsZXRlOltdLGFvU3RhdGVTYXZlUGFyYW1zOltdLGFvU3RhdGVMb2FkUGFyYW1zOltdLGFvU3RhdGVMb2FkZWQ6W10sc1RhYmxlSWQ6IiIsblRhYmxlOm51bGwsblRIZWFkOm51bGwsblRGb290Om51bGwsblRCb2R5Om51bGwsblRhYmxlV3JhcHBlcjpudWxsLGJEZWZlckxvYWRpbmc6ITEsYkluaXRpYWxpc2VkOiExLGFvT3BlblJvd3M6W10sc0RvbTpudWxsLHNlYXJjaERlbGF5Om51bGwsc1BhZ2luYXRpb25UeXBlOiJ0d29fYnV0dG9uIixpU3RhdGVEdXJhdGlvbjowLAphb1N0YXRlU2F2ZTpbXSxhb1N0YXRlTG9hZDpbXSxvU2F2ZWRTdGF0ZTpudWxsLG9Mb2FkZWRTdGF0ZTpudWxsLHNBamF4U291cmNlOm51bGwsc0FqYXhEYXRhUHJvcDpudWxsLGJBamF4RGF0YUdldDohMCxqcVhIUjpudWxsLGpzb246cCxvQWpheERhdGE6cCxmblNlcnZlckRhdGE6bnVsbCxhb1NlcnZlclBhcmFtczpbXSxzU2VydmVyTWV0aG9kOm51bGwsZm5Gb3JtYXROdW1iZXI6bnVsbCxhTGVuZ3RoTWVudTpudWxsLGlEcmF3OjAsYkRyYXdpbmc6ITEsaURyYXdFcnJvcjotMSxfaURpc3BsYXlMZW5ndGg6MTAsX2lEaXNwbGF5U3RhcnQ6MCxfaVJlY29yZHNUb3RhbDowLF9pUmVjb3Jkc0Rpc3BsYXk6MCxvQ2xhc3Nlczp7fSxiRmlsdGVyZWQ6ITEsYlNvcnRlZDohMSxiU29ydENlbGxzVG9wOm51bGwsb0luaXQ6bnVsbCxhb0Rlc3Ryb3lDYWxsYmFjazpbXSxmblJlY29yZHNUb3RhbDpmdW5jdGlvbigpe3JldHVybiJzc3AiPT1EKHRoaXMpPzEqdGhpcy5faVJlY29yZHNUb3RhbDoKdGhpcy5haURpc3BsYXlNYXN0ZXIubGVuZ3RofSxmblJlY29yZHNEaXNwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuInNzcCI9PUQodGhpcyk/MSp0aGlzLl9pUmVjb3Jkc0Rpc3BsYXk6dGhpcy5haURpc3BsYXkubGVuZ3RofSxmbkRpc3BsYXlFbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pRGlzcGxheUxlbmd0aCxiPXRoaXMuX2lEaXNwbGF5U3RhcnQsYz1iK2EsZD10aGlzLmFpRGlzcGxheS5sZW5ndGgsZT10aGlzLm9GZWF0dXJlcyxmPWUuYlBhZ2luYXRlO3JldHVybiBlLmJTZXJ2ZXJTaWRlPyExPT09Znx8LTE9PT1hP2IrZDpNYXRoLm1pbihiK2EsdGhpcy5faVJlY29yZHNEaXNwbGF5KTohZnx8Yz5kfHwtMT09PWE/ZDpjfSxvSW5zdGFuY2U6bnVsbCxzSW5zdGFuY2U6bnVsbCxpVGFiSW5kZXg6MCxuU2Nyb2xsSGVhZDpudWxsLG5TY3JvbGxGb290Om51bGwsYUxhc3RTb3J0OltdLG9QbHVnaW5zOnt9LHJvd0lkRm46bnVsbCxyb3dJZDpudWxsfTtxLmV4dD1DPXtidXR0b25zOnt9LApjbGFzc2VzOnt9LGJ1aWxkZXI6Ii1zb3VyY2UtIixlcnJNb2RlOiJhbGVydCIsZmVhdHVyZTpbXSxzZWFyY2g6W10sc2VsZWN0b3I6e2NlbGw6W10sY29sdW1uOltdLHJvdzpbXX0saW50ZXJuYWw6e30sbGVnYWN5OnthamF4Om51bGx9LHBhZ2VyOnt9LHJlbmRlcmVyOntwYWdlQnV0dG9uOnt9LGhlYWRlcjp7fX0sb3JkZXI6e30sdHlwZTp7ZGV0ZWN0OltdLHNlYXJjaDp7fSxvcmRlcjp7fX0sX3VuaXF1ZTowLGZuVmVyc2lvbkNoZWNrOnEuZm5WZXJzaW9uQ2hlY2ssaUFwaUluZGV4OjAsb0pVSUNsYXNzZXM6e30sc1ZlcnNpb246cS52ZXJzaW9ufTtmLmV4dGVuZChDLHthZm5GaWx0ZXJpbmc6Qy5zZWFyY2gsYVR5cGVzOkMudHlwZS5kZXRlY3Qsb2ZuU2VhcmNoOkMudHlwZS5zZWFyY2gsb1NvcnQ6Qy50eXBlLm9yZGVyLGFmblNvcnREYXRhOkMub3JkZXIsYW9GZWF0dXJlczpDLmZlYXR1cmUsb0FwaTpDLmludGVybmFsLG9TdGRDbGFzc2VzOkMuY2xhc3NlcyxvUGFnaW5hdGlvbjpDLnBhZ2VyfSk7CmYuZXh0ZW5kKHEuZXh0LmNsYXNzZXMse3NUYWJsZToiZGF0YVRhYmxlIixzTm9Gb290ZXI6Im5vLWZvb3RlciIsc1BhZ2VCdXR0b246InBhZ2luYXRlX2J1dHRvbiIsc1BhZ2VCdXR0b25BY3RpdmU6ImN1cnJlbnQiLHNQYWdlQnV0dG9uRGlzYWJsZWQ6ImRpc2FibGVkIixzU3RyaXBlT2RkOiJvZGQiLHNTdHJpcGVFdmVuOiJldmVuIixzUm93RW1wdHk6ImRhdGFUYWJsZXNfZW1wdHkiLHNXcmFwcGVyOiJkYXRhVGFibGVzX3dyYXBwZXIiLHNGaWx0ZXI6ImRhdGFUYWJsZXNfZmlsdGVyIixzSW5mbzoiZGF0YVRhYmxlc19pbmZvIixzUGFnaW5nOiJkYXRhVGFibGVzX3BhZ2luYXRlIHBhZ2luZ18iLHNMZW5ndGg6ImRhdGFUYWJsZXNfbGVuZ3RoIixzUHJvY2Vzc2luZzoiZGF0YVRhYmxlc19wcm9jZXNzaW5nIixzU29ydEFzYzoic29ydGluZ19hc2MiLHNTb3J0RGVzYzoic29ydGluZ19kZXNjIixzU29ydGFibGU6InNvcnRpbmciLHNTb3J0YWJsZUFzYzoic29ydGluZ19hc2NfZGlzYWJsZWQiLApzU29ydGFibGVEZXNjOiJzb3J0aW5nX2Rlc2NfZGlzYWJsZWQiLHNTb3J0YWJsZU5vbmU6InNvcnRpbmdfZGlzYWJsZWQiLHNTb3J0Q29sdW1uOiJzb3J0aW5nXyIsc0ZpbHRlcklucHV0OiIiLHNMZW5ndGhTZWxlY3Q6IiIsc1Njcm9sbFdyYXBwZXI6ImRhdGFUYWJsZXNfc2Nyb2xsIixzU2Nyb2xsSGVhZDoiZGF0YVRhYmxlc19zY3JvbGxIZWFkIixzU2Nyb2xsSGVhZElubmVyOiJkYXRhVGFibGVzX3Njcm9sbEhlYWRJbm5lciIsc1Njcm9sbEJvZHk6ImRhdGFUYWJsZXNfc2Nyb2xsQm9keSIsc1Njcm9sbEZvb3Q6ImRhdGFUYWJsZXNfc2Nyb2xsRm9vdCIsc1Njcm9sbEZvb3RJbm5lcjoiZGF0YVRhYmxlc19zY3JvbGxGb290SW5uZXIiLHNIZWFkZXJUSDoiIixzRm9vdGVyVEg6IiIsc1NvcnRKVUlBc2M6IiIsc1NvcnRKVUlEZXNjOiIiLHNTb3J0SlVJOiIiLHNTb3J0SlVJQXNjQWxsb3dlZDoiIixzU29ydEpVSURlc2NBbGxvd2VkOiIiLHNTb3J0SlVJV3JhcHBlcjoiIixzU29ydEljb246IiIsCnNKVUlIZWFkZXI6IiIsc0pVSUZvb3RlcjoiIn0pO3ZhciBQYj1xLmV4dC5wYWdlcjtmLmV4dGVuZChQYix7c2ltcGxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuWyJwcmV2aW91cyIsIm5leHQiXX0sZnVsbDpmdW5jdGlvbihhLGIpe3JldHVyblsiZmlyc3QiLCJwcmV2aW91cyIsIm5leHQiLCJsYXN0Il19LG51bWJlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5ba2EoYSxiKV19LHNpbXBsZV9udW1iZXJzOmZ1bmN0aW9uKGEsYil7cmV0dXJuWyJwcmV2aW91cyIsa2EoYSxiKSwibmV4dCJdfSxmdWxsX251bWJlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bImZpcnN0IiwicHJldmlvdXMiLGthKGEsYiksIm5leHQiLCJsYXN0Il19LGZpcnN0X2xhc3RfbnVtYmVyczpmdW5jdGlvbihhLGIpe3JldHVyblsiZmlyc3QiLGthKGEsYiksImxhc3QiXX0sX251bWJlcnM6a2EsbnVtYmVyc19sZW5ndGg6N30pO2YuZXh0ZW5kKCEwLHEuZXh0LnJlbmRlcmVyLHtwYWdlQnV0dG9uOntfOmZ1bmN0aW9uKGEsYiwKYyxkLGUsaCl7dmFyIGc9YS5vQ2xhc3NlcyxrPWEub0xhbmd1YWdlLm9QYWdpbmF0ZSxsPWEub0xhbmd1YWdlLm9BcmlhLnBhZ2luYXRlfHx7fSxuLG0scT0wLHQ9ZnVuY3Rpb24oYixkKXt2YXIgcCxyPWcuc1BhZ2VCdXR0b25EaXNhYmxlZCx1PWZ1bmN0aW9uKGIpe1hhKGEsYi5kYXRhLmFjdGlvbiwhMCl9O3ZhciB3PTA7Zm9yKHA9ZC5sZW5ndGg7dzxwO3crKyl7dmFyIHY9ZFt3XTtpZihmLmlzQXJyYXkodikpe3ZhciB4PWYoIjwiKyh2LkRUX2VsfHwiZGl2IikrIi8+IikuYXBwZW5kVG8oYik7dCh4LHYpfWVsc2V7bj1udWxsO209djt4PWEuaVRhYkluZGV4O3N3aXRjaCh2KXtjYXNlICJlbGxpcHNpcyI6Yi5hcHBlbmQoJzxzcGFuIGNsYXNzPSJlbGxpcHNpcyI+JiN4MjAyNjs8L3NwYW4+Jyk7YnJlYWs7Y2FzZSAiZmlyc3QiOm49ay5zRmlyc3Q7MD09PWUmJih4PS0xLG0rPSIgIityKTticmVhaztjYXNlICJwcmV2aW91cyI6bj1rLnNQcmV2aW91czswPT09ZSYmKHg9LTEsbSs9CiIgIityKTticmVhaztjYXNlICJuZXh0IjpuPWsuc05leHQ7ZT09PWgtMSYmKHg9LTEsbSs9IiAiK3IpO2JyZWFrO2Nhc2UgImxhc3QiOm49ay5zTGFzdDtlPT09aC0xJiYoeD0tMSxtKz0iICIrcik7YnJlYWs7ZGVmYXVsdDpuPXYrMSxtPWU9PT12P2cuc1BhZ2VCdXR0b25BY3RpdmU6IiJ9bnVsbCE9PW4mJih4PWYoIjxhPiIseyJjbGFzcyI6Zy5zUGFnZUJ1dHRvbisiICIrbSwiYXJpYS1jb250cm9scyI6YS5zVGFibGVJZCwiYXJpYS1sYWJlbCI6bFt2XSwiZGF0YS1kdC1pZHgiOnEsdGFiaW5kZXg6eCxpZDowPT09YyYmInN0cmluZyI9PT10eXBlb2Ygdj9hLnNUYWJsZUlkKyJfIit2Om51bGx9KS5odG1sKG4pLmFwcGVuZFRvKGIpLCRhKHgse2FjdGlvbjp2fSx1KSxxKyspfX19O3RyeXt2YXIgdj1mKGIpLmZpbmQoeS5hY3RpdmVFbGVtZW50KS5kYXRhKCJkdC1pZHgiKX1jYXRjaChtYyl7fXQoZihiKS5lbXB0eSgpLGQpO3YhPT1wJiZmKGIpLmZpbmQoIltkYXRhLWR0LWlkeD0iKwp2KyJdIikuZm9jdXMoKX19fSk7Zi5leHRlbmQocS5leHQudHlwZS5kZXRlY3QsW2Z1bmN0aW9uKGEsYil7Yj1iLm9MYW5ndWFnZS5zRGVjaW1hbDtyZXR1cm4gZGIoYSxiKT8ibnVtIitiOm51bGx9LGZ1bmN0aW9uKGEsYil7aWYoYSYmIShhIGluc3RhbmNlb2YgRGF0ZSkmJiFjYy50ZXN0KGEpKXJldHVybiBudWxsO2I9RGF0ZS5wYXJzZShhKTtyZXR1cm4gbnVsbCE9PWImJiFpc05hTihiKXx8UChhKT8iZGF0ZSI6bnVsbH0sZnVuY3Rpb24oYSxiKXtiPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBkYihhLGIsITApPyJudW0tZm10IitiOm51bGx9LGZ1bmN0aW9uKGEsYil7Yj1iLm9MYW5ndWFnZS5zRGVjaW1hbDtyZXR1cm4gVWIoYSxiKT8iaHRtbC1udW0iK2I6bnVsbH0sZnVuY3Rpb24oYSxiKXtiPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBVYihhLGIsITApPyJodG1sLW51bS1mbXQiK2I6bnVsbH0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gUChhKXx8InN0cmluZyI9PT0KdHlwZW9mIGEmJi0xIT09YS5pbmRleE9mKCI8Iik/Imh0bWwiOm51bGx9XSk7Zi5leHRlbmQocS5leHQudHlwZS5zZWFyY2gse2h0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIFAoYSk/YToic3RyaW5nIj09PXR5cGVvZiBhP2EucmVwbGFjZShSYiwiICIpLnJlcGxhY2UoRWEsIiIpOiIifSxzdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIFAoYSk/YToic3RyaW5nIj09PXR5cGVvZiBhP2EucmVwbGFjZShSYiwiICIpOmF9fSk7dmFyIERhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDAhPT1hJiYoIWF8fCItIj09PWEpKXJldHVybi1JbmZpbml0eTtiJiYoYT1UYihhLGIpKTthLnJlcGxhY2UmJihjJiYoYT1hLnJlcGxhY2UoYywiIikpLGQmJihhPWEucmVwbGFjZShkLCIiKSkpO3JldHVybiAxKmF9O2YuZXh0ZW5kKEMudHlwZS5vcmRlcix7ImRhdGUtcHJlIjpmdW5jdGlvbihhKXthPURhdGUucGFyc2UoYSk7cmV0dXJuIGlzTmFOKGEpPy1JbmZpbml0eTphfSwiaHRtbC1wcmUiOmZ1bmN0aW9uKGEpe3JldHVybiBQKGEpPwoiIjphLnJlcGxhY2U/YS5yZXBsYWNlKC88Lio/Pi9nLCIiKS50b0xvd2VyQ2FzZSgpOmErIiJ9LCJzdHJpbmctcHJlIjpmdW5jdGlvbihhKXtyZXR1cm4gUChhKT8iIjoic3RyaW5nIj09PXR5cGVvZiBhP2EudG9Mb3dlckNhc2UoKTphLnRvU3RyaW5nP2EudG9TdHJpbmcoKToiIn0sInN0cmluZy1hc2MiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfSwic3RyaW5nLWRlc2MiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8xOmE+Yj8tMTowfX0pO0hhKCIiKTtmLmV4dGVuZCghMCxxLmV4dC5yZW5kZXJlcix7aGVhZGVyOntfOmZ1bmN0aW9uKGEsYixjLGQpe2YoYS5uVGFibGUpLm9uKCJvcmRlci5kdC5EVCIsZnVuY3Rpb24oZSxmLGcsayl7YT09PWYmJihlPWMuaWR4LGIucmVtb3ZlQ2xhc3MoYy5zU29ydGluZ0NsYXNzKyIgIitkLnNTb3J0QXNjKyIgIitkLnNTb3J0RGVzYykuYWRkQ2xhc3MoImFzYyI9PWtbZV0/ZC5zU29ydEFzYzoiZGVzYyI9PWtbZV0/ZC5zU29ydERlc2M6CmMuc1NvcnRpbmdDbGFzcykpfSl9LGpxdWVyeXVpOmZ1bmN0aW9uKGEsYixjLGQpe2YoIjxkaXYvPiIpLmFkZENsYXNzKGQuc1NvcnRKVUlXcmFwcGVyKS5hcHBlbmQoYi5jb250ZW50cygpKS5hcHBlbmQoZigiPHNwYW4vPiIpLmFkZENsYXNzKGQuc1NvcnRJY29uKyIgIitjLnNTb3J0aW5nQ2xhc3NKVUkpKS5hcHBlbmRUbyhiKTtmKGEublRhYmxlKS5vbigib3JkZXIuZHQuRFQiLGZ1bmN0aW9uKGUsZixnLGspe2E9PT1mJiYoZT1jLmlkeCxiLnJlbW92ZUNsYXNzKGQuc1NvcnRBc2MrIiAiK2Quc1NvcnREZXNjKS5hZGRDbGFzcygiYXNjIj09a1tlXT9kLnNTb3J0QXNjOiJkZXNjIj09a1tlXT9kLnNTb3J0RGVzYzpjLnNTb3J0aW5nQ2xhc3MpLGIuZmluZCgic3Bhbi4iK2Quc1NvcnRJY29uKS5yZW1vdmVDbGFzcyhkLnNTb3J0SlVJQXNjKyIgIitkLnNTb3J0SlVJRGVzYysiICIrZC5zU29ydEpVSSsiICIrZC5zU29ydEpVSUFzY0FsbG93ZWQrIiAiK2Quc1NvcnRKVUlEZXNjQWxsb3dlZCkuYWRkQ2xhc3MoImFzYyI9PQprW2VdP2Quc1NvcnRKVUlBc2M6ImRlc2MiPT1rW2VdP2Quc1NvcnRKVUlEZXNjOmMuc1NvcnRpbmdDbGFzc0pVSSkpfSl9fX0pO3ZhciBpYj1mdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBhP2EucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvIi9nLCImcXVvdDsiKTphfTtxLnJlbmRlcj17bnVtYmVyOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJue2Rpc3BsYXk6ZnVuY3Rpb24oZil7aWYoIm51bWJlciIhPT10eXBlb2YgZiYmInN0cmluZyIhPT10eXBlb2YgZilyZXR1cm4gZjt2YXIgZz0wPmY/Ii0iOiIiLGg9cGFyc2VGbG9hdChmKTtpZihpc05hTihoKSlyZXR1cm4gaWIoZik7aD1oLnRvRml4ZWQoYyk7Zj1NYXRoLmFicyhoKTtoPXBhcnNlSW50KGYsMTApO2Y9Yz9iKyhmLWgpLnRvRml4ZWQoYykuc3Vic3RyaW5nKDIpOiIiO3JldHVybiBnKyhkfHwiIikraC50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csCmEpK2YrKGV8fCIiKX19fSx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2Rpc3BsYXk6aWIsZmlsdGVyOmlifX19O2YuZXh0ZW5kKHEuZXh0LmludGVybmFsLHtfZm5FeHRlcm5BcGlGdW5jOlFiLF9mbkJ1aWxkQWpheDp2YSxfZm5BamF4VXBkYXRlOnFiLF9mbkFqYXhQYXJhbWV0ZXJzOnpiLF9mbkFqYXhVcGRhdGVEcmF3OkFiLF9mbkFqYXhEYXRhU3JjOndhLF9mbkFkZENvbHVtbjpJYSxfZm5Db2x1bW5PcHRpb25zOm1hLF9mbkFkanVzdENvbHVtblNpemluZzphYSxfZm5WaXNpYmxlVG9Db2x1bW5JbmRleDpiYSxfZm5Db2x1bW5JbmRleFRvVmlzaWJsZTpjYSxfZm5WaXNibGVDb2x1bW5zOlcsX2ZuR2V0Q29sdW1uczpvYSxfZm5Db2x1bW5UeXBlczpLYSxfZm5BcHBseUNvbHVtbkRlZnM6bmIsX2ZuSHVuZ2FyaWFuTWFwOkgsX2ZuQ2FtZWxUb0h1bmdhcmlhbjpMLF9mbkxhbmd1YWdlQ29tcGF0OkdhLF9mbkJyb3dzZXJEZXRlY3Q6bGIsX2ZuQWRkRGF0YTpSLF9mbkFkZFRyOnBhLF9mbk5vZGVUb0RhdGFJbmRleDpmdW5jdGlvbihhLApiKXtyZXR1cm4gYi5fRFRfUm93SW5kZXghPT1wP2IuX0RUX1Jvd0luZGV4Om51bGx9LF9mbk5vZGVUb0NvbHVtbkluZGV4OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5pbkFycmF5KGMsYS5hb0RhdGFbYl0uYW5DZWxscyl9LF9mbkdldENlbGxEYXRhOkksX2ZuU2V0Q2VsbERhdGE6b2IsX2ZuU3BsaXRPYmpOb3RhdGlvbjpOYSxfZm5HZXRPYmplY3REYXRhRm46VSxfZm5TZXRPYmplY3REYXRhRm46USxfZm5HZXREYXRhTWFzdGVyOk9hLF9mbkNsZWFyVGFibGU6cWEsX2ZuRGVsZXRlSW5kZXg6cmEsX2ZuSW52YWxpZGF0ZTplYSxfZm5HZXRSb3dFbGVtZW50czpNYSxfZm5DcmVhdGVUcjpMYSxfZm5CdWlsZEhlYWQ6cGIsX2ZuRHJhd0hlYWQ6aGEsX2ZuRHJhdzpTLF9mblJlRHJhdzpWLF9mbkFkZE9wdGlvbnNIdG1sOnNiLF9mbkRldGVjdEhlYWRlcjpmYSxfZm5HZXRVbmlxdWVUaHM6dWEsX2ZuRmVhdHVyZUh0bWxGaWx0ZXI6dWIsX2ZuRmlsdGVyQ29tcGxldGU6aWEsX2ZuRmlsdGVyQ3VzdG9tOkRiLApfZm5GaWx0ZXJDb2x1bW46Q2IsX2ZuRmlsdGVyOkJiLF9mbkZpbHRlckNyZWF0ZVNlYXJjaDpUYSxfZm5Fc2NhcGVSZWdleDpVYSxfZm5GaWx0ZXJEYXRhOkViLF9mbkZlYXR1cmVIdG1sSW5mbzp4YixfZm5VcGRhdGVJbmZvOkhiLF9mbkluZm9NYWNyb3M6SWIsX2ZuSW5pdGlhbGlzZTpqYSxfZm5Jbml0Q29tcGxldGU6eGEsX2ZuTGVuZ3RoQ2hhbmdlOlZhLF9mbkZlYXR1cmVIdG1sTGVuZ3RoOnRiLF9mbkZlYXR1cmVIdG1sUGFnaW5hdGU6eWIsX2ZuUGFnZUNoYW5nZTpYYSxfZm5GZWF0dXJlSHRtbFByb2Nlc3Npbmc6dmIsX2ZuUHJvY2Vzc2luZ0Rpc3BsYXk6SyxfZm5GZWF0dXJlSHRtbFRhYmxlOndiLF9mblNjcm9sbERyYXc6bmEsX2ZuQXBwbHlUb0NoaWxkcmVuOk4sX2ZuQ2FsY3VsYXRlQ29sdW1uV2lkdGhzOkphLF9mblRocm90dGxlOlNhLF9mbkNvbnZlcnRUb1dpZHRoOkpiLF9mbkdldFdpZGVzdE5vZGU6S2IsX2ZuR2V0TWF4TGVuU3RyaW5nOkxiLF9mblN0cmluZ1RvQ3NzOkIsCl9mblNvcnRGbGF0dGVuOlksX2ZuU29ydDpyYixfZm5Tb3J0QXJpYTpOYixfZm5Tb3J0TGlzdGVuZXI6WmEsX2ZuU29ydEF0dGFjaExpc3RlbmVyOlFhLF9mblNvcnRpbmdDbGFzc2VzOkFhLF9mblNvcnREYXRhOk1iLF9mblNhdmVTdGF0ZTpCYSxfZm5Mb2FkU3RhdGU6T2IsX2ZuU2V0dGluZ3NGcm9tTm9kZTpDYSxfZm5Mb2c6TyxfZm5NYXA6TSxfZm5CaW5kQWN0aW9uOiRhLF9mbkNhbGxiYWNrUmVnOkUsX2ZuQ2FsbGJhY2tGaXJlOkEsX2ZuTGVuZ3RoT3ZlcmZsb3c6V2EsX2ZuUmVuZGVyZXI6UmEsX2ZuRGF0YVNvdXJjZTpELF9mblJvd0F0dHJpYnV0ZXM6UGEsX2ZuRXh0ZW5kOmFiLF9mbkNhbGN1bGF0ZUVuZDpmdW5jdGlvbigpe319KTtmLmZuLmRhdGFUYWJsZT1xO3EuJD1mO2YuZm4uZGF0YVRhYmxlU2V0dGluZ3M9cS5zZXR0aW5ncztmLmZuLmRhdGFUYWJsZUV4dD1xLmV4dDtmLmZuLkRhdGFUYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gZih0aGlzKS5kYXRhVGFibGUoYSkuYXBpKCl9OwpmLmVhY2gocSxmdW5jdGlvbihhLGIpe2YuZm4uRGF0YVRhYmxlW2FdPWJ9KTtyZXR1cm4gZi5mbi5kYXRhVGFibGV9KTsK"></script>
  <link href="data:text/css,%0A%2Econtainer%2Dfluid%2Ecrosstalk%2Dbscols%20%7B%0Amargin%2Dleft%3A%20%2D30px%3B%0Amargin%2Dright%3A%20%2D30px%3B%0Awhite%2Dspace%3A%20normal%3B%0A%7D%0A%0Abody%20%3E%20%2Econtainer%2Dfluid%2Ecrosstalk%2Dbscols%20%7B%0Amargin%2Dleft%3A%20auto%3B%0Amargin%2Dright%3A%20auto%3B%0A%7D%0A%2Ecrosstalk%2Dinput%2Dcheckboxgroup%20%2Ecrosstalk%2Doptions%2Dgroup%20%2Ecrosstalk%2Doptions%2Dcolumn%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%2012px%3B%0Avertical%2Dalign%3A%20top%3B%0A%7D%0A%40media%20only%20screen%20and%20%28max%2Dwidth%3A480px%29%20%7B%0A%2Ecrosstalk%2Dinput%2Dcheckboxgroup%20%2Ecrosstalk%2Doptions%2Dgroup%20%2Ecrosstalk%2Doptions%2Dcolumn%20%7B%0Adisplay%3A%20block%3B%0Apadding%2Dright%3A%20inherit%3B%0A%7D%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,IWZ1bmN0aW9uIG8odSxhLGwpe2Z1bmN0aW9uIHMobixlKXtpZighYVtuXSl7aWYoIXVbbl0pe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFlJiZ0KXJldHVybiB0KG4sITApO2lmKGYpcmV0dXJuIGYobiwhMCk7dmFyIHI9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbisiJyIpO3Rocm93IHIuY29kZT0iTU9EVUxFX05PVF9GT1VORCIscn12YXIgaT1hW25dPXtleHBvcnRzOnt9fTt1W25dWzBdLmNhbGwoaS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXVbbl1bMV1bZV07cmV0dXJuIHModHx8ZSl9LGksaS5leHBvcnRzLG8sdSxhLGwpfXJldHVybiBhW25dLmV4cG9ydHN9Zm9yKHZhciBmPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGU9MDtlPGwubGVuZ3RoO2UrKylzKGxbZV0pO3JldHVybiBzfSh7MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCYmcihlLnByb3RvdHlwZSx0KSxuJiZyKGUsbiksZX19KCk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsZSksdGhpcy5fdHlwZXM9e30sdGhpcy5fc2VxPTB9cmV0dXJuIHIoZSxbe2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fdHlwZXNbZV07bnx8KG49dGhpcy5fdHlwZXNbZV09e30pO3ZhciByPSJzdWIiK3RoaXMuX3NlcSsrO3JldHVybiBuW3JdPXQscn19LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl90eXBlc1tlXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCl7Zm9yKHZhciByIGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eShyKSYmbltyXT09PXQpcmV0dXJuIGRlbGV0ZSBuW3JdLHI7cmV0dXJuITF9aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiEoIW58fCFuW3RdKSYmKGRlbGV0ZSBuW3RdLHQpO3Rocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCB0eXBlIGZvciBsaXN0ZW5lciIpfX0se2tleToidHJpZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX3R5cGVzW2VdO2Zvcih2YXIgaSBpbiByKXIuaGFzT3duUHJvcGVydHkoaSkmJnJbaV0uY2FsbChuLHQpfX1dKSxlfSgpO24uZGVmYXVsdD1pfSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5GaWx0ZXJIYW5kbGU9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQmJnIoZS5wcm90b3R5cGUsdCksbiYmcihlLG4pLGV9fSgpLGk9bChlKCIuL2V2ZW50cyIpKSxvPWwoZSgiLi9maWx0ZXJzZXQiKSksdT1sKGUoIi4vZ3JvdXAiKSksYT1mdW5jdGlvbihlKXt7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fX0oZSgiLi91dGlsIikpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBzPTE7bi5GaWx0ZXJIYW5kbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGUsdCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsbiksdGhpcy5fZXZlbnRSZWxheT1uZXcgaS5kZWZhdWx0LHRoaXMuX2VtaXR0ZXI9bmV3IGEuU3Vic2NyaXB0aW9uVHJhY2tlcih0aGlzLl9ldmVudFJlbGF5KSx0aGlzLl9ncm91cD1udWxsLHRoaXMuX2ZpbHRlclNldD1udWxsLHRoaXMuX2ZpbHRlclZhcj1udWxsLHRoaXMuX3Zhck9uQ2hhbmdlU3ViPW51bGwsdGhpcy5fZXh0cmFJbmZvPWEuZXh0ZW5kKHtzZW5kZXI6dGhpc30sdCksdGhpcy5faWQ9ImZpbHRlciIrcysrLHRoaXMuc2V0R3JvdXAoZSl9cmV0dXJuIHIobixbe2tleToic2V0R3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzO2lmKHRoaXMuX2dyb3VwIT09ZSYmKCh0aGlzLl9ncm91cHx8ZSkmJih0aGlzLl9maWx0ZXJWYXImJih0aGlzLl9maWx0ZXJWYXIub2ZmKCJjaGFuZ2UiLHRoaXMuX3Zhck9uQ2hhbmdlU3ViKSx0aGlzLmNsZWFyKCksdGhpcy5fdmFyT25DaGFuZ2VTdWI9bnVsbCx0aGlzLl9maWx0ZXJWYXI9bnVsbCx0aGlzLl9maWx0ZXJTZXQ9bnVsbCksdGhpcy5fZ3JvdXA9ZSkpKXtlPSgwLHUuZGVmYXVsdCkoZSksdGhpcy5fZmlsdGVyU2V0PSh0PWUudmFyKCJmaWx0ZXJzZXQiKSwobj10LmdldCgpKXx8KG49bmV3IG8uZGVmYXVsdCx0LnNldChuKSksbiksdGhpcy5fZmlsdGVyVmFyPSgwLHUuZGVmYXVsdCkoZSkudmFyKCJmaWx0ZXIiKTt2YXIgaT10aGlzLl9maWx0ZXJWYXIub24oImNoYW5nZSIsZnVuY3Rpb24oZSl7ci5fZXZlbnRSZWxheS50cmlnZ2VyKCJjaGFuZ2UiLGUscil9KTt0aGlzLl92YXJPbkNoYW5nZVN1Yj1pfX19LHtrZXk6Il9tZXJnZUV4dHJhSW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGEuZXh0ZW5kKHt9LHRoaXMuX2V4dHJhSW5mbz90aGlzLl9leHRyYUluZm86bnVsbCxlfHxudWxsKX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5jbGVhcigpLHRoaXMuc2V0R3JvdXAobnVsbCl9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZmlsdGVyU2V0JiYodGhpcy5fZmlsdGVyU2V0LmNsZWFyKHRoaXMuX2lkKSx0aGlzLl9vbkNoYW5nZShlKSl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZmlsdGVyU2V0JiYodGhpcy5fZmlsdGVyU2V0LnVwZGF0ZSh0aGlzLl9pZCxlKSx0aGlzLl9vbkNoYW5nZSh0KSl9fSx7a2V5OiJvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZW1pdHRlci5vbihlLHQpfX0se2tleToib2ZmIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9lbWl0dGVyLm9mZihlLHQpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9maWx0ZXJTZXQmJnRoaXMuX2ZpbHRlclZhci5zZXQodGhpcy5fZmlsdGVyU2V0LnZhbHVlLHRoaXMuX21lcmdlRXh0cmFJbmZvKGUpKX19LHtrZXk6ImZpbHRlcmVkS2V5cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlclNldD90aGlzLl9maWx0ZXJTZXQudmFsdWU6bnVsbH19XSksbn0oKX0seyIuL2V2ZW50cyI6MSwiLi9maWx0ZXJzZXQiOjMsIi4vZ3JvdXAiOjQsIi4vdXRpbCI6MTF9XSwzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0JiZyKGUucHJvdG90eXBlLHQpLG4mJnIoZSxuKSxlfX0oKSxhPWUoIi4vdXRpbCIpO2Z1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZT09PXQ/MDplPHQ/LTE6dDxlPzE6dm9pZCAwfXZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpLHRoaXMucmVzZXQoKX1yZXR1cm4gcihlLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVzPXt9LHRoaXMuX2tleXM9e30sdGhpcy5fdmFsdWU9bnVsbCx0aGlzLl9hY3RpdmVIYW5kbGVzPTB9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7bnVsbCE9PXQmJih0PXQuc2xpY2UoMCkpLnNvcnQobCk7dmFyIG49KDAsYS5kaWZmU29ydGVkTGlzdHMpKHRoaXMuX2hhbmRsZXNbZV0sdCkscj1uLmFkZGVkLGk9bi5yZW1vdmVkO3RoaXMuX2hhbmRsZXNbZV09dDtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl0aGlzLl9rZXlzW3Jbb11dPSh0aGlzLl9rZXlzW3Jbb11dfHwwKSsxO2Zvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKXRoaXMuX2tleXNbaVt1XV0tLTt0aGlzLl91cGRhdGVWYWx1ZSh0KX19LHtrZXk6Il91cGRhdGVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5fYWxsS2V5cyx0PU9iamVjdC5rZXlzKHRoaXMuX2hhbmRsZXMpLmxlbmd0aDtpZigwPT09dCl0aGlzLl92YWx1ZT1udWxsO2Vsc2V7dGhpcy5fdmFsdWU9W107Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3RoaXMuX2tleXNbZVtuXV09PT10JiZ0aGlzLl92YWx1ZS5wdXNoKGVbbl0pfX19fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09dGhpcy5faGFuZGxlc1tlXSl7dmFyIHQ9dGhpcy5faGFuZGxlc1tlXTt0fHwodD1bXSk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5fa2V5c1t0W25dXS0tO2RlbGV0ZSB0aGlzLl9oYW5kbGVzW2VdLHRoaXMuX3VwZGF0ZVZhbHVlKCl9fX0se2tleToidmFsdWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZX19LHtrZXk6Il9hbGxLZXlzIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Qua2V5cyh0aGlzLl9rZXlzKTtyZXR1cm4gZS5zb3J0KGwpLGV9fV0pLGV9KCk7bi5kZWZhdWx0PWl9LHsiLi91dGlsIjoxMX1dLDQ6W2Z1bmN0aW9uKGwsZSxzKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0JiZyKGUucHJvdG90eXBlLHQpLG4mJnIoZSxuKSxlfX0oKSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTtzLmRlZmF1bHQ9ZnVuY3Rpb24gZSh0KXt7aWYodCYmInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB1Lmhhc093blByb3BlcnR5KHQpfHwodVt0XT1uZXcgYSh0KSksdVt0XTtpZigib2JqZWN0Ij09PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOnIodCkpJiZ0Ll92YXJzJiZ0LnZhcilyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpJiYxPT10Lmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiB0WzBdKXJldHVybiBlKHRbMF0pO3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBncm91cE5hbWUgYXJndW1lbnQiKX19O3ZhciB0LGk9bCgiLi92YXIiKSxvPSh0PWkpJiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fTtlLl9fY3Jvc3N0YWxrX2dyb3Vwcz1lLl9fY3Jvc3N0YWxrX2dyb3Vwc3x8e307dmFyIHU9ZS5fX2Nyb3NzdGFsa19ncm91cHM7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLHQpLHRoaXMubmFtZT1lLHRoaXMuX3ZhcnM9e319cmV0dXJuIG4odCxbe2tleToidmFyIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YXIgbmFtZSIpO3JldHVybiB0aGlzLl92YXJzLmhhc093blByb3BlcnR5KGUpfHwodGhpcy5fdmFyc1tlXT1uZXcgby5kZWZhdWx0KHRoaXMsZSkpLHRoaXMuX3ZhcnNbZV19fSx7a2V5OiJoYXMiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhciBuYW1lIik7cmV0dXJuIHRoaXMuX3ZhcnMuaGFzT3duUHJvcGVydHkoZSl9fV0pLHR9KCl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi92YXIiOjEyfV0sNTpbZnVuY3Rpb24oZixlLGMpeyhmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciB0LG49ZigiLi9ncm91cCIpLHI9KHQ9bikmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9LGk9ZigiLi9zZWxlY3Rpb24iKSxvPWYoIi4vZmlsdGVyIiksdT1mKCIuL2lucHV0Iik7ZigiLi9pbnB1dF9zZWxlY3RpemUiKSxmKCIuL2lucHV0X2NoZWNrYm94Z3JvdXAiKSxmKCIuL2lucHV0X3NsaWRlciIpO3ZhciBhPSgwLHIuZGVmYXVsdCkoImRlZmF1bHQiKTtmdW5jdGlvbiBsKGUpe3JldHVybiBhLnZhcihlKX1lLlNoaW55JiZlLlNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCJ1cGRhdGUtY2xpZW50LXZhbHVlIixmdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIGUuZ3JvdXA/KDAsci5kZWZhdWx0KShlLmdyb3VwKS52YXIoZS5uYW1lKS5zZXQoZS52YWx1ZSk6bChlLm5hbWUpLnNldChlLnZhbHVlKX0pO3ZhciBzPXtncm91cDpyLmRlZmF1bHQsdmFyOmwsaGFzOmZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0sU2VsZWN0aW9uSGFuZGxlOmkuU2VsZWN0aW9uSGFuZGxlLEZpbHRlckhhbmRsZTpvLkZpbHRlckhhbmRsZSxiaW5kOnUuYmluZH07Yy5kZWZhdWx0PXMsZS5jcm9zc3RhbGs9c30pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL2ZpbHRlciI6MiwiLi9ncm91cCI6NCwiLi9pbnB1dCI6NiwiLi9pbnB1dF9jaGVja2JveGdyb3VwIjo3LCIuL2lucHV0X3NlbGVjdGl6ZSI6OCwiLi9pbnB1dF9zbGlkZXIiOjksIi4vc2VsZWN0aW9uIjoxMH1dLDY6W2Z1bmN0aW9uKGUsdCxhKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3JbZS5jbGFzc05hbWVdPWUsdC5kb2N1bWVudCYmImNvbXBsZXRlIiE9PXQuZG9jdW1lbnQucmVhZHlTdGF0ZT9vKGZ1bmN0aW9uKCl7bigpfSk6dC5kb2N1bWVudCYmc2V0VGltZW91dChuLDEwMCl9LGEuYmluZD1uO3ZhciBvPXQualF1ZXJ5LHI9e307ZnVuY3Rpb24gbigpe09iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49cltlXTtvKCIuIituLmNsYXNzTmFtZSkubm90KCIuY3Jvc3N0YWxrLWlucHV0LWJvdW5kIikuZWFjaChmdW5jdGlvbihlLHQpe2kobix0KX0pfSl9ZnVuY3Rpb24gaShlLHQpe3ZhciBuPW8odCkuZmluZCgic2NyaXB0W3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXVtkYXRhLWZvcj0nIit0LmlkLnJlcGxhY2UoLyhbISIjJCUmJygpKissLi86Ozw9Pj9AW1xcXF1eYHt8fX5dKS9nLCJcXCQxIikrIiddIikscj1KU09OLnBhcnNlKG5bMF0uaW5uZXJUZXh0KSxpPWUuZmFjdG9yeSh0LHIpO28odCkuZGF0YSgiY3Jvc3N0YWxrLWluc3RhbmNlIixpKSxvKHQpLmFkZENsYXNzKCJjcm9zc3RhbGstaW5wdXQtYm91bmQiKX1pZih0LlNoaW55KXt2YXIgZT1uZXcgdC5TaGlueS5JbnB1dEJpbmRpbmcsdT10LmpRdWVyeTt1LmV4dGVuZChlLHtmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB1KGUpLmZpbmQoIi5jcm9zc3RhbGstaW5wdXQiKX0saW5pdGlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgdCxuO3UoZSkuaGFzQ2xhc3MoImNyb3NzdGFsay1pbnB1dC1ib3VuZCIpfHwobj1vKHQ9ZSksT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihlKXtuLmhhc0NsYXNzKGUpJiYhbi5oYXNDbGFzcygiY3Jvc3N0YWxrLWlucHV0LWJvdW5kIikmJmkocltlXSx0KX0pKX0sZ2V0SWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFZhbHVlOmZ1bmN0aW9uKGUpe30sc2V0VmFsdWU6ZnVuY3Rpb24oZSx0KXt9LHJlY2VpdmVNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7fSxzdWJzY3JpYmU6ZnVuY3Rpb24oZSx0KXt1KGUpLmRhdGEoImNyb3NzdGFsay1pbnN0YW5jZSIpLnJlc3VtZSgpfSx1bnN1YnNjcmliZTpmdW5jdGlvbihlKXt1KGUpLmRhdGEoImNyb3NzdGFsay1pbnN0YW5jZSIpLnN1c3BlbmQoKX19KSx0LlNoaW55LmlucHV0QmluZGluZ3MucmVnaXN0ZXIoZSwiY3Jvc3N0YWxrLmlucHV0QmluZGluZyIpfX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDc6W2Z1bmN0aW9uKHIsZSx0KXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciB0PWZ1bmN0aW9uKGUpe3tpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9fShyKCIuL2lucHV0IikpLG49cigiLi9maWx0ZXIiKTt2YXIgYT1lLmpRdWVyeTt0LnJlZ2lzdGVyKHtjbGFzc05hbWU6ImNyb3NzdGFsay1pbnB1dC1jaGVja2JveGdyb3VwIixmYWN0b3J5OmZ1bmN0aW9uKGUscil7dmFyIGk9bmV3IG4uRmlsdGVySGFuZGxlKHIuZ3JvdXApLG89dm9pZCAwLHU9YShlKTtyZXR1cm4gdS5vbigiY2hhbmdlIiwiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSIsZnVuY3Rpb24oKXt2YXIgZT11LmZpbmQoImlucHV0W3R5cGU9J2NoZWNrYm94J106Y2hlY2tlZCIpO2lmKDA9PT1lLmxlbmd0aClvPW51bGwsaS5jbGVhcigpO2Vsc2V7dmFyIHQ9e307ZS5lYWNoKGZ1bmN0aW9uKCl7ci5tYXBbdGhpcy52YWx1ZV0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPSEwfSl9KTt2YXIgbj1PYmplY3Qua2V5cyh0KTtuLnNvcnQoKSxvPW4saS5zZXQobil9fSkse3N1c3BlbmQ6ZnVuY3Rpb24oKXtpLmNsZWFyKCl9LHJlc3VtZTpmdW5jdGlvbigpe28mJmkuc2V0KG8pfX19fSl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9maWx0ZXIiOjIsIi4vaW5wdXQiOjZ9XSw4OltmdW5jdGlvbihyLGUsdCl7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1uKHIoIi4vaW5wdXQiKSksbD1uKHIoIi4vdXRpbCIpKSxzPXIoIi4vZmlsdGVyIik7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9dmFyIGY9ZS5qUXVlcnk7dC5yZWdpc3Rlcih7Y2xhc3NOYW1lOiJjcm9zc3RhbGstaW5wdXQtc2VsZWN0IixmYWN0b3J5OmZ1bmN0aW9uKGUsbil7dmFyIHQ9bC5kYXRhZnJhbWVUb0QzKG4uaXRlbXMpLHI9e29wdGlvbnM6W3t2YWx1ZToiIixsYWJlbDoiKEFsbCkifV0uY29uY2F0KHQpLHZhbHVlRmllbGQ6InZhbHVlIixsYWJlbEZpZWxkOiJsYWJlbCIsc2VhcmNoRmllbGQ6ImxhYmVsIn0saT1mKGUpLmZpbmQoInNlbGVjdCIpWzBdLG89ZihpKS5zZWxlY3RpemUocilbMF0uc2VsZWN0aXplLHU9bmV3IHMuRmlsdGVySGFuZGxlKG4uZ3JvdXApLGE9dm9pZCAwO3JldHVybiBvLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoMD09PW8uaXRlbXMubGVuZ3RoKWE9bnVsbCx1LmNsZWFyKCk7ZWxzZXt2YXIgdD17fTtvLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oZSl7bi5tYXBbZV0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPSEwfSl9KTt2YXIgZT1PYmplY3Qua2V5cyh0KTtlLnNvcnQoKSxhPWUsdS5zZXQoZSl9fSkse3N1c3BlbmQ6ZnVuY3Rpb24oKXt1LmNsZWFyKCl9LHJlc3VtZTpmdW5jdGlvbigpe2EmJnUuc2V0KGEpfX19fSl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9maWx0ZXIiOjIsIi4vaW5wdXQiOjYsIi4vdXRpbCI6MTF9XSw5OltmdW5jdGlvbihuLGUsdCl7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgZD1mdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxhPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0odT1hLm5leHQoKSkuZG9uZSkmJihuLnB1c2godS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5eyFyJiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KGUsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSx0PWZ1bmN0aW9uKGUpe3tpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9fShuKCIuL2lucHV0IikpLGE9bigiLi9maWx0ZXIiKTt2YXIgdj1lLmpRdWVyeSxwPWUuc3RyZnRpbWU7ZnVuY3Rpb24geShlLHQpe2Zvcih2YXIgbj1lLnRvU3RyaW5nKCk7bi5sZW5ndGg8dDspbj0iMCIrbjtyZXR1cm4gbn10LnJlZ2lzdGVyKHtjbGFzc05hbWU6ImNyb3NzdGFsay1pbnB1dC1zbGlkZXIiLGZhY3Rvcnk6ZnVuY3Rpb24oZSxsKXt2YXIgcz1uZXcgYS5GaWx0ZXJIYW5kbGUobC5ncm91cCksdD17fSxmPXYoZSkuZmluZCgiaW5wdXQiKSxuPWYuZGF0YSgiZGF0YS10eXBlIikscj1mLmRhdGEoInRpbWUtZm9ybWF0IiksaT1mLmRhdGEoInJvdW5kIiksbz12b2lkIDA7aWYoImRhdGUiPT09bilvPXAudXRjKCksdC5wcmV0dGlmeT1mdW5jdGlvbihlKXtyZXR1cm4gbyhyLG5ldyBEYXRlKGUpKX07ZWxzZSBpZigiZGF0ZXRpbWUiPT09bil7dmFyIHU9Zi5kYXRhKCJ0aW1lem9uZSIpO289dT9wLnRpbWV6b25lKHUpOnAsdC5wcmV0dGlmeT1mdW5jdGlvbihlKXtyZXR1cm4gbyhyLG5ldyBEYXRlKGUpKX19ZWxzZSJudW1iZXIiPT09biYmdm9pZCAwIT09aSYmKHQucHJldHRpZnk9ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5wb3coMTAsaSk7cmV0dXJuIE1hdGgucm91bmQoZSp0KS90fSk7ZnVuY3Rpb24gYygpe3ZhciBlPWYuZGF0YSgiaW9uUmFuZ2VTbGlkZXIiKS5yZXN1bHQsdD12b2lkIDAsbj1mLmRhdGEoImRhdGEtdHlwZSIpO3JldHVybiB0PSJkYXRlIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuKHQ9bmV3IERhdGUoK2UpKWluc3RhbmNlb2YgRGF0ZT90LmdldFVUQ0Z1bGxZZWFyKCkrIi0iK3kodC5nZXRVVENNb250aCgpKzEsMikrIi0iK3kodC5nZXRVVENEYXRlKCksMik6bnVsbDt2YXIgdH06ImRhdGV0aW1lIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuK2UvMWUzfTpmdW5jdGlvbihlKXtyZXR1cm4rZX0sImRvdWJsZSI9PT1mLmRhdGEoImlvblJhbmdlU2xpZGVyIikub3B0aW9ucy50eXBlP1t0KGUuZnJvbSksdChlLnRvKV06dChlLmZyb20pfWYuaW9uUmFuZ2VTbGlkZXIodCk7dmFyIGg9bnVsbDtyZXR1cm4gZi5vbigiY2hhbmdlLmNyb3NzdGFsa1NsaWRlcklucHV0IixmdW5jdGlvbihlKXtpZighZi5kYXRhKCJ1cGRhdGluZyIpJiYhZi5kYXRhKCJhbmltYXRpbmciKSl7Zm9yKHZhciB0PWMoKSxuPWQodCwyKSxyPW5bMF0saT1uWzFdLG89W10sdT0wO3U8bC52YWx1ZXMubGVuZ3RoO3UrKyl7dmFyIGE9bC52YWx1ZXNbdV07cjw9YSYmYTw9aSYmby5wdXNoKGwua2V5c1t1XSl9by5zb3J0KCkscy5zZXQobyksaD1vfX0pLHtzdXNwZW5kOmZ1bmN0aW9uKCl7cy5jbGVhcigpfSxyZXN1bWU6ZnVuY3Rpb24oKXtoJiZzLnNldChoKX19fX0pfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vZmlsdGVyIjoyLCIuL2lucHV0Ijo2fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uU2VsZWN0aW9uSGFuZGxlPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0JiZyKGUucHJvdG90eXBlLHQpLG4mJnIoZSxuKSxlfX0oKSxpPWEoZSgiLi9ldmVudHMiKSksbz1hKGUoIi4vZ3JvdXAiKSksdT1mdW5jdGlvbihlKXt7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fX0oZSgiLi91dGlsIikpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fW4uU2VsZWN0aW9uSGFuZGxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsbiksdGhpcy5fZXZlbnRSZWxheT1uZXcgaS5kZWZhdWx0LHRoaXMuX2VtaXR0ZXI9bmV3IHUuU3Vic2NyaXB0aW9uVHJhY2tlcih0aGlzLl9ldmVudFJlbGF5KSx0aGlzLl9ncm91cD1udWxsLHRoaXMuX3Zhcj1udWxsLHRoaXMuX3Zhck9uQ2hhbmdlU3ViPW51bGwsdGhpcy5fZXh0cmFJbmZvPXUuZXh0ZW5kKHtzZW5kZXI6dGhpc30sdCksdGhpcy5zZXRHcm91cChlKX1yZXR1cm4gcihuLFt7a2V5OiJzZXRHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9ncm91cCE9PWUmJih0aGlzLl9ncm91cHx8ZSkmJih0aGlzLl92YXImJih0aGlzLl92YXIub2ZmKCJjaGFuZ2UiLHRoaXMuX3Zhck9uQ2hhbmdlU3ViKSx0aGlzLl92YXI9bnVsbCx0aGlzLl92YXJPbkNoYW5nZVN1Yj1udWxsKSx0aGlzLl9ncm91cD1lKSl7dGhpcy5fdmFyPSgwLG8uZGVmYXVsdCkoZSkudmFyKCJzZWxlY3Rpb24iKTt2YXIgbj10aGlzLl92YXIub24oImNoYW5nZSIsZnVuY3Rpb24oZSl7dC5fZXZlbnRSZWxheS50cmlnZ2VyKCJjaGFuZ2UiLGUsdCl9KTt0aGlzLl92YXJPbkNoYW5nZVN1Yj1ufX19LHtrZXk6Il9tZXJnZUV4dHJhSW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUuZXh0ZW5kKHt9LHRoaXMuX2V4dHJhSW5mbz90aGlzLl9leHRyYUluZm86bnVsbCxlfHxudWxsKX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl92YXImJnRoaXMuX3Zhci5zZXQoZSx0aGlzLl9tZXJnZUV4dHJhSW5mbyh0KSl9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdmFyJiZ0aGlzLnNldCh2b2lkIDAsdGhpcy5fbWVyZ2VFeHRyYUluZm8oZSkpfX0se2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub24oZSx0KX19LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZW1pdHRlci5vZmYoZSx0KX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zZXRHcm91cChudWxsKX19LHtrZXk6InZhbHVlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFyP3RoaXMuX3Zhci5nZXQoKTpudWxsfX1dKSxufSgpfSx7Ii4vZXZlbnRzIjoxLCIuL2dyb3VwIjo0LCIuL3V0aWwiOjExfV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQmJnIoZS5wcm90b3R5cGUsdCksbiYmcihlLG4pLGV9fSgpLGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O2Z1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTE7dDxlLmxlbmd0aDt0KyspaWYoZVt0XTw9ZVt0LTFdKXRocm93IG5ldyBFcnJvcigiTGlzdCBpcyBub3Qgc29ydGVkIG9yIGNvbnRhaW5zIGR1cGxpY2F0ZSIpfW4uZXh0ZW5kPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoMTx0P3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldO2lmKG51bGwhPW8pZm9yKHZhciB1IGluIG8pby5oYXNPd25Qcm9wZXJ0eSh1KSYmKGVbdV09b1t1XSl9cmV0dXJuIGV9LG4uY2hlY2tTb3J0ZWQ9dSxuLmRpZmZTb3J0ZWRMaXN0cz1mdW5jdGlvbihlLHQpe3ZhciBuPTAscj0wO2V8fChlPVtdKTt0fHwodD1bXSk7dmFyIGk9W10sbz1bXTt1KGUpLHUodCk7Zm9yKDtuPGUubGVuZ3RoJiZyPHQubGVuZ3RoOyllW25dPT09dFtyXT8obisrLHIrKyk6ZVtuXTx0W3JdP2kucHVzaChlW24rK10pOm8ucHVzaCh0W3IrK10pO248ZS5sZW5ndGgmJihpPWkuY29uY2F0KGUuc2xpY2UobikpKTtyPHQubGVuZ3RoJiYobz1vLmNvbmNhdCh0LnNsaWNlKHIpKSk7cmV0dXJue3JlbW92ZWQ6aSxhZGRlZDpvfX0sbi5kYXRhZnJhbWVUb0QzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49dm9pZCAwO2Zvcih2YXIgciBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KHIpJiZ0LnB1c2gociksIm9iamVjdCIhPT1sKGVbcl0pfHx2b2lkIDA9PT1lW3JdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkFsbCBmaWVsZHMgbXVzdCBiZSBhcnJheXMiKTtpZih2b2lkIDAhPT1uJiZuIT09ZVtyXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpO249ZVtyXS5sZW5ndGh9Zm9yKHZhciBpPVtdLG89dm9pZCAwLHU9MDt1PG47dSsrKXtvPXt9O2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKW9bdFthXV09ZVt0W2FdXVt1XTtpLnB1c2gobyl9cmV0dXJuIGl9O24uU3Vic2NyaXB0aW9uVHJhY2tlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsdCksdGhpcy5fZW1pdHRlcj1lLHRoaXMuX3N1YnM9e319cmV0dXJuIHIodCxbe2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZW1pdHRlci5vbihlLHQpO3JldHVybiB0aGlzLl9zdWJzW25dPWUsbn19LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9lbWl0dGVyLm9mZihlLHQpO3JldHVybiBuJiZkZWxldGUgdGhpcy5fc3Vic1tuXSxufX0se2tleToicmVtb3ZlQWxsTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj10aGlzLl9zdWJzO3RoaXMuX3N1YnM9e30sT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9lbWl0dGVyLm9mZihuW2VdLGUpfSl9fV0pLHR9KCl9LHt9XSwxMjpbZnVuY3Rpb24oYSxlLGwpeyhmdW5jdGlvbihvKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBlLHU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCYmcihlLnByb3RvdHlwZSx0KSxuJiZyKGUsbiksZX19KCksbj1hKCIuL2V2ZW50cyIpLGk9KGU9bikmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLHQsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsciksdGhpcy5fZ3JvdXA9ZSx0aGlzLl9uYW1lPXQsdGhpcy5fdmFsdWU9bix0aGlzLl9ldmVudHM9bmV3IGkuZGVmYXVsdH1yZXR1cm4gdChyLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX3ZhbHVlIT09ZSl7dmFyIG49dGhpcy5fdmFsdWU7dGhpcy5fdmFsdWU9ZTt2YXIgcj17fTtpZih0JiYib2JqZWN0Ij09PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOnUodCkpKWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPXRbaV0pO3Iub2xkVmFsdWU9bixyLnZhbHVlPWUsdGhpcy5fZXZlbnRzLnRyaWdnZXIoImNoYW5nZSIscix0aGlzKSxvLlNoaW55JiZvLlNoaW55Lm9uSW5wdXRDaGFuZ2UmJm8uU2hpbnkub25JbnB1dENoYW5nZSgiLmNsaWVudFZhbHVlLSIrKG51bGwhPT10aGlzLl9ncm91cC5uYW1lP3RoaXMuX2dyb3VwLm5hbWUrIi0iOiIiKSt0aGlzLl9uYW1lLHZvaWQgMD09PWU/bnVsbDplKX19fSx7a2V5OiJvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZXZlbnRzLm9uKGUsdCl9fSx7a2V5OiJvZmYiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2V2ZW50cy5vZmYoZSx0KX19XSkscn0oKTtsLmRlZmF1bHQ9cn0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL2V2ZW50cyI6MX1dfSx7fSxbNV0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1jcm9zc3RhbGsubWluLmpzLm1hcA=="></script>
  <script src="data:application/javascript;base64,LyoqCiAqIEBwb3BwZXJqcy9jb3JlIHYyLjYuMCAtIE1JVCBMaWNlbnNlCiAqLwoKInVzZSBzdHJpY3QiOyFmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/dChleHBvcnRzKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSx0KTp0KChlPWV8fHNlbGYpLlBvcHBlcj17fSl9KHRoaXMsKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJue3dpZHRoOihlPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLndpZHRoLGhlaWdodDplLmhlaWdodCx0b3A6ZS50b3AscmlnaHQ6ZS5yaWdodCxib3R0b206ZS5ib3R0b20sbGVmdDplLmxlZnQseDplLmxlZnQseTplLnRvcH19ZnVuY3Rpb24gbihlKXtyZXR1cm4iW29iamVjdCBXaW5kb3ddIiE9PWUudG9TdHJpbmcoKT8oZT1lLm93bmVyRG9jdW1lbnQpJiZlLmRlZmF1bHRWaWV3fHx3aW5kb3c6ZX1mdW5jdGlvbiByKGUpe3JldHVybntzY3JvbGxMZWZ0OihlPW4oZSkpLnBhZ2VYT2Zmc2V0LHNjcm9sbFRvcDplLnBhZ2VZT2Zmc2V0fX1mdW5jdGlvbiBvKGUpe3JldHVybiBlIGluc3RhbmNlb2YgbihlKS5FbGVtZW50fHxlIGluc3RhbmNlb2YgRWxlbWVudH1mdW5jdGlvbiBpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgbihlKS5IVE1MRWxlbWVudHx8ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50fWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/KGUubm9kZU5hbWV8fCIiKS50b0xvd2VyQ2FzZSgpOm51bGx9ZnVuY3Rpb24gcyhlKXtyZXR1cm4oKG8oZSk/ZS5vd25lckRvY3VtZW50OmUuZG9jdW1lbnQpfHx3aW5kb3cuZG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBmKGUpe3JldHVybiB0KHMoZSkpLmxlZnQrcihlKS5zY3JvbGxMZWZ0fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIG4oZSkuZ2V0Q29tcHV0ZWRTdHlsZShlKX1mdW5jdGlvbiBwKGUpe3JldHVybiBlPWMoZSksL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVuLy50ZXN0KGUub3ZlcmZsb3crZS5vdmVyZmxvd1krZS5vdmVyZmxvd1gpfWZ1bmN0aW9uIGwoZSxvLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgbD1zKG8pO2U9dChlKTt2YXIgdT1pKG8pLGQ9e3Njcm9sbExlZnQ6MCxzY3JvbGxUb3A6MH0sbT17eDowLHk6MH07cmV0dXJuKHV8fCF1JiYhYykmJigoImJvZHkiIT09YShvKXx8cChsKSkmJihkPW8hPT1uKG8pJiZpKG8pP3tzY3JvbGxMZWZ0Om8uc2Nyb2xsTGVmdCxzY3JvbGxUb3A6by5zY3JvbGxUb3B9OnIobykpLGkobyk/KChtPXQobykpLngrPW8uY2xpZW50TGVmdCxtLnkrPW8uY2xpZW50VG9wKTpsJiYobS54PWYobCkpKSx7eDplLmxlZnQrZC5zY3JvbGxMZWZ0LW0ueCx5OmUudG9wK2Quc2Nyb2xsVG9wLW0ueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH19ZnVuY3Rpb24gdShlKXtyZXR1cm57eDplLm9mZnNldExlZnQseTplLm9mZnNldFRvcCx3aWR0aDplLm9mZnNldFdpZHRoLGhlaWdodDplLm9mZnNldEhlaWdodH19ZnVuY3Rpb24gZChlKXtyZXR1cm4iaHRtbCI9PT1hKGUpP2U6ZS5hc3NpZ25lZFNsb3R8fGUucGFyZW50Tm9kZXx8ZS5ob3N0fHxzKGUpfWZ1bmN0aW9uIG0oZSx0KXt2b2lkIDA9PT10JiYodD1bXSk7dmFyIHI9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gMDw9WyJodG1sIiwiYm9keSIsIiNkb2N1bWVudCJdLmluZGV4T2YoYSh0KSk/dC5vd25lckRvY3VtZW50LmJvZHk6aSh0KSYmcCh0KT90OmUoZCh0KSl9KGUpO2U9ImJvZHkiPT09YShyKTt2YXIgbz1uKHIpO3JldHVybiByPWU/W29dLmNvbmNhdChvLnZpc3VhbFZpZXdwb3J0fHxbXSxwKHIpP3I6W10pOnIsdD10LmNvbmNhdChyKSxlP3Q6dC5jb25jYXQobShkKHIpKSl9ZnVuY3Rpb24gaChlKXtpZighaShlKXx8ImZpeGVkIj09PWMoZSkucG9zaXRpb24pcmV0dXJuIG51bGw7aWYoZT1lLm9mZnNldFBhcmVudCl7dmFyIHQ9cyhlKTtpZigiYm9keSI9PT1hKGUpJiYic3RhdGljIj09PWMoZSkucG9zaXRpb24mJiJzdGF0aWMiIT09Yyh0KS5wb3NpdGlvbilyZXR1cm4gdH1yZXR1cm4gZX1mdW5jdGlvbiBnKGUpe2Zvcih2YXIgdD1uKGUpLHI9aChlKTtyJiYwPD1bInRhYmxlIiwidGQiLCJ0aCJdLmluZGV4T2YoYShyKSkmJiJzdGF0aWMiPT09YyhyKS5wb3NpdGlvbjspcj1oKHIpO2lmKHImJiJib2R5Ij09PWEocikmJiJzdGF0aWMiPT09YyhyKS5wb3NpdGlvbilyZXR1cm4gdDtpZighcillOntmb3IoZT1kKGUpO2koZSkmJjA+WyJodG1sIiwiYm9keSJdLmluZGV4T2YoYShlKSk7KXtpZigibm9uZSIhPT0ocj1jKGUpKS50cmFuc2Zvcm18fCJub25lIiE9PXIucGVyc3BlY3RpdmV8fHIud2lsbENoYW5nZSYmImF1dG8iIT09ci53aWxsQ2hhbmdlKXtyPWU7YnJlYWsgZX1lPWUucGFyZW50Tm9kZX1yPW51bGx9cmV0dXJuIHJ8fHR9ZnVuY3Rpb24gdihlKXt2YXIgdD1uZXcgTWFwLG49bmV3IFNldCxyPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Quc2V0KGUubmFtZSxlKX0pKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGFzKGUubmFtZSl8fGZ1bmN0aW9uIGUobyl7bi5hZGQoby5uYW1lKSxbXS5jb25jYXQoby5yZXF1aXJlc3x8W10sby5yZXF1aXJlc0lmRXhpc3RzfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bi5oYXMocil8fChyPXQuZ2V0KHIpKSYmZShyKX0pKSxyLnB1c2gobyl9KGUpfSkpLHJ9ZnVuY3Rpb24gYihlKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdHx8KHQ9bmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dD12b2lkIDAsbihlKCkpfSkpfSkpKSx0fX1mdW5jdGlvbiB5KGUpe3JldHVybiBlLnNwbGl0KCItIilbMF19ZnVuY3Rpb24gTyhlLHQpe3ZhciByLG89dC5nZXRSb290Tm9kZSYmdC5nZXRSb290Tm9kZSgpO2lmKGUuY29udGFpbnModCkpcmV0dXJuITA7aWYoKHI9bykmJihyPW8gaW5zdGFuY2VvZihyPW4obykuU2hhZG93Um9vdCl8fG8gaW5zdGFuY2VvZiBTaGFkb3dSb290KSxyKWRve2lmKHQmJmUuaXNTYW1lTm9kZSh0KSlyZXR1cm4hMDt0PXQucGFyZW50Tm9kZXx8dC5ob3N0fXdoaWxlKHQpO3JldHVybiExfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7fSx7bGVmdDplLngsdG9wOmUueSxyaWdodDplLngrZS53aWR0aCxib3R0b206ZS55K2UuaGVpZ2h0fSl9ZnVuY3Rpb24geChlLG8pe2lmKCJ2aWV3cG9ydCI9PT1vKXtvPW4oZSk7dmFyIGE9cyhlKTtvPW8udmlzdWFsVmlld3BvcnQ7dmFyIHA9YS5jbGllbnRXaWR0aDthPWEuY2xpZW50SGVpZ2h0O3ZhciBsPTAsdT0wO28mJihwPW8ud2lkdGgsYT1vLmhlaWdodCwvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwobD1vLm9mZnNldExlZnQsdT1vLm9mZnNldFRvcCkpLGU9dyhlPXt3aWR0aDpwLGhlaWdodDphLHg6bCtmKGUpLHk6dX0pfWVsc2UgaShvKT8oKGU9dChvKSkudG9wKz1vLmNsaWVudFRvcCxlLmxlZnQrPW8uY2xpZW50TGVmdCxlLmJvdHRvbT1lLnRvcCtvLmNsaWVudEhlaWdodCxlLnJpZ2h0PWUubGVmdCtvLmNsaWVudFdpZHRoLGUud2lkdGg9by5jbGllbnRXaWR0aCxlLmhlaWdodD1vLmNsaWVudEhlaWdodCxlLng9ZS5sZWZ0LGUueT1lLnRvcCk6KHU9cyhlKSxlPXModSksbD1yKHUpLG89dS5vd25lckRvY3VtZW50LmJvZHkscD1NYXRoLm1heChlLnNjcm9sbFdpZHRoLGUuY2xpZW50V2lkdGgsbz9vLnNjcm9sbFdpZHRoOjAsbz9vLmNsaWVudFdpZHRoOjApLGE9TWF0aC5tYXgoZS5zY3JvbGxIZWlnaHQsZS5jbGllbnRIZWlnaHQsbz9vLnNjcm9sbEhlaWdodDowLG8/by5jbGllbnRIZWlnaHQ6MCksdT0tbC5zY3JvbGxMZWZ0K2YodSksbD0tbC5zY3JvbGxUb3AsInJ0bCI9PT1jKG98fGUpLmRpcmVjdGlvbiYmKHUrPU1hdGgubWF4KGUuY2xpZW50V2lkdGgsbz9vLmNsaWVudFdpZHRoOjApLXApLGU9dyh7d2lkdGg6cCxoZWlnaHQ6YSx4OnUseTpsfSkpO3JldHVybiBlfWZ1bmN0aW9uIGooZSx0LG4pe3JldHVybiB0PSJjbGlwcGluZ1BhcmVudHMiPT09dD9mdW5jdGlvbihlKXt2YXIgdD1tKGQoZSkpLG49MDw9WyJhYnNvbHV0ZSIsImZpeGVkIl0uaW5kZXhPZihjKGUpLnBvc2l0aW9uKSYmaShlKT9nKGUpOmU7cmV0dXJuIG8obik/dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpJiZPKGUsbikmJiJib2R5IiE9PWEoZSl9KSk6W119KGUpOltdLmNvbmNhdCh0KSwobj0obj1bXS5jb25jYXQodCxbbl0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG49eChlLG4pLHQudG9wPU1hdGgubWF4KG4udG9wLHQudG9wKSx0LnJpZ2h0PU1hdGgubWluKG4ucmlnaHQsdC5yaWdodCksdC5ib3R0b209TWF0aC5taW4obi5ib3R0b20sdC5ib3R0b20pLHQubGVmdD1NYXRoLm1heChuLmxlZnQsdC5sZWZ0KSx0fSkseChlLG5bMF0pKSkud2lkdGg9bi5yaWdodC1uLmxlZnQsbi5oZWlnaHQ9bi5ib3R0b20tbi50b3Asbi54PW4ubGVmdCxuLnk9bi50b3Asbn1mdW5jdGlvbiBNKGUpe3JldHVybiAwPD1bInRvcCIsImJvdHRvbSJdLmluZGV4T2YoZSk/IngiOiJ5In1mdW5jdGlvbiBFKGUpe3ZhciB0PWUucmVmZXJlbmNlLG49ZS5lbGVtZW50LHI9KGU9ZS5wbGFjZW1lbnQpP3koZSk6bnVsbDtlPWU/ZS5zcGxpdCgiLSIpWzFdOm51bGw7dmFyIG89dC54K3Qud2lkdGgvMi1uLndpZHRoLzIsaT10LnkrdC5oZWlnaHQvMi1uLmhlaWdodC8yO3N3aXRjaChyKXtjYXNlInRvcCI6bz17eDpvLHk6dC55LW4uaGVpZ2h0fTticmVhaztjYXNlImJvdHRvbSI6bz17eDpvLHk6dC55K3QuaGVpZ2h0fTticmVhaztjYXNlInJpZ2h0IjpvPXt4OnQueCt0LndpZHRoLHk6aX07YnJlYWs7Y2FzZSJsZWZ0IjpvPXt4OnQueC1uLndpZHRoLHk6aX07YnJlYWs7ZGVmYXVsdDpvPXt4OnQueCx5OnQueX19aWYobnVsbCE9KHI9cj9NKHIpOm51bGwpKXN3aXRjaChpPSJ5Ij09PXI/ImhlaWdodCI6IndpZHRoIixlKXtjYXNlInN0YXJ0IjpvW3JdLT10W2ldLzItbltpXS8yO2JyZWFrO2Nhc2UiZW5kIjpvW3JdKz10W2ldLzItbltpXS8yfXJldHVybiBvfWZ1bmN0aW9uIEQoZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9KSxlKX1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiB0W25dPWUsdH0pLHt9KX1mdW5jdGlvbiBMKGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPW47bj12b2lkIDA9PT0obj1yLnBsYWNlbWVudCk/ZS5wbGFjZW1lbnQ6bjt2YXIgaT1yLmJvdW5kYXJ5LGE9dm9pZCAwPT09aT8iY2xpcHBpbmdQYXJlbnRzIjppLGY9dm9pZCAwPT09KGk9ci5yb290Qm91bmRhcnkpPyJ2aWV3cG9ydCI6aTtpPXZvaWQgMD09PShpPXIuZWxlbWVudENvbnRleHQpPyJwb3BwZXIiOmk7dmFyIGM9ci5hbHRCb3VuZGFyeSxwPXZvaWQgMCE9PWMmJmM7cj1EKCJudW1iZXIiIT10eXBlb2Yocj12b2lkIDA9PT0ocj1yLnBhZGRpbmcpPzA6cik/cjpQKHIsVCkpO3ZhciBsPWUuZWxlbWVudHMucmVmZXJlbmNlO2M9ZS5yZWN0cy5wb3BwZXIsYT1qKG8ocD1lLmVsZW1lbnRzW3A/InBvcHBlciI9PT1pPyJyZWZlcmVuY2UiOiJwb3BwZXIiOmldKT9wOnAuY29udGV4dEVsZW1lbnR8fHMoZS5lbGVtZW50cy5wb3BwZXIpLGEsZikscD1FKHtyZWZlcmVuY2U6Zj10KGwpLGVsZW1lbnQ6YyxzdHJhdGVneToiYWJzb2x1dGUiLHBsYWNlbWVudDpufSksYz13KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjKSxwKSksZj0icG9wcGVyIj09PWk/YzpmO3ZhciB1PXt0b3A6YS50b3AtZi50b3Arci50b3AsYm90dG9tOmYuYm90dG9tLWEuYm90dG9tK3IuYm90dG9tLGxlZnQ6YS5sZWZ0LWYubGVmdCtyLmxlZnQscmlnaHQ6Zi5yaWdodC1hLnJpZ2h0K3IucmlnaHR9O2lmKGU9ZS5tb2RpZmllcnNEYXRhLm9mZnNldCwicG9wcGVyIj09PWkmJmUpe3ZhciBkPWVbbl07T2JqZWN0LmtleXModSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9MDw9WyJyaWdodCIsImJvdHRvbSJdLmluZGV4T2YoZSk/MTotMSxuPTA8PVsidG9wIiwiYm90dG9tIl0uaW5kZXhPZihlKT8ieSI6IngiO3VbZV0rPWRbbl0qdH0pKX1yZXR1cm4gdX1mdW5jdGlvbiBrKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4hdC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hKGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl9KSl9ZnVuY3Rpb24gQihlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHQ9ZS5kZWZhdWx0TW9kaWZpZXJzLG49dm9pZCAwPT09dD9bXTp0LHI9dm9pZCAwPT09KGU9ZS5kZWZhdWx0T3B0aW9ucyk/VjplO3JldHVybiBmdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gYSgpe2YuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKSxmPVtdfXZvaWQgMD09PWkmJihpPXIpO3ZhciBzPXtwbGFjZW1lbnQ6ImJvdHRvbSIsb3JkZXJlZE1vZGlmaWVyczpbXSxvcHRpb25zOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxWKSxyKSxtb2RpZmllcnNEYXRhOnt9LGVsZW1lbnRzOntyZWZlcmVuY2U6ZSxwb3BwZXI6dH0sYXR0cmlidXRlczp7fSxzdHlsZXM6e319LGY9W10sYz0hMSxwPXtzdGF0ZTpzLHNldE9wdGlvbnM6ZnVuY3Rpb24oaSl7cmV0dXJuIGEoKSxzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikscy5vcHRpb25zKSxpKSxzLnNjcm9sbFBhcmVudHM9e3JlZmVyZW5jZTpvKGUpP20oZSk6ZS5jb250ZXh0RWxlbWVudD9tKGUuY29udGV4dEVsZW1lbnQpOltdLHBvcHBlcjptKHQpfSxpPWZ1bmN0aW9uKGUpe3ZhciB0PXYoZSk7cmV0dXJuIE4ucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlLmNvbmNhdCh0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGhhc2U9PT1ufSkpKX0pLFtdKX0oZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZVt0Lm5hbWVdO3JldHVybiBlW3QubmFtZV09bj9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx0KSx7fSx7b3B0aW9uczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbi5vcHRpb25zKSx0Lm9wdGlvbnMpLGRhdGE6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4uZGF0YSksdC5kYXRhKX0pOnQsZX0pLHt9KTtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oW10uY29uY2F0KG4scy5vcHRpb25zLm1vZGlmaWVycykpKSxzLm9yZGVyZWRNb2RpZmllcnM9aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVuYWJsZWR9KSkscy5vcmRlcmVkTW9kaWZpZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxuPWUub3B0aW9ucztuPXZvaWQgMD09PW4/e306biwiZnVuY3Rpb24iPT10eXBlb2YoZT1lLmVmZmVjdCkmJih0PWUoe3N0YXRlOnMsbmFtZTp0LGluc3RhbmNlOnAsb3B0aW9uczpufSksZi5wdXNoKHR8fGZ1bmN0aW9uKCl7fSkpfSkpLHAudXBkYXRlKCl9LGZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7aWYoIWMpe3ZhciBlPXMuZWxlbWVudHMsdD1lLnJlZmVyZW5jZTtpZihrKHQsZT1lLnBvcHBlcikpZm9yKHMucmVjdHM9e3JlZmVyZW5jZTpsKHQsZyhlKSwiZml4ZWQiPT09cy5vcHRpb25zLnN0cmF0ZWd5KSxwb3BwZXI6dShlKX0scy5yZXNldD0hMSxzLnBsYWNlbWVudD1zLm9wdGlvbnMucGxhY2VtZW50LHMub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gcy5tb2RpZmllcnNEYXRhW2UubmFtZV09T2JqZWN0LmFzc2lnbih7fSxlLmRhdGEpfSkpLHQ9MDt0PHMub3JkZXJlZE1vZGlmaWVycy5sZW5ndGg7dCsrKWlmKCEwPT09cy5yZXNldClzLnJlc2V0PSExLHQ9LTE7ZWxzZXt2YXIgbj1zLm9yZGVyZWRNb2RpZmllcnNbdF07ZT1uLmZuO3ZhciByPW4ub3B0aW9ucztyPXZvaWQgMD09PXI/e306cixuPW4ubmFtZSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHM9ZSh7c3RhdGU6cyxvcHRpb25zOnIsbmFtZTpuLGluc3RhbmNlOnB9KXx8cyl9fX0sdXBkYXRlOmIoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtwLmZvcmNlVXBkYXRlKCksZShzKX0pKX0pKSxkZXN0cm95OmZ1bmN0aW9uKCl7YSgpLGM9ITB9fTtyZXR1cm4gayhlLHQpPyhwLnNldE9wdGlvbnMoaSkudGhlbigoZnVuY3Rpb24oZSl7IWMmJmkub25GaXJzdFVwZGF0ZSYmaS5vbkZpcnN0VXBkYXRlKGUpfSkpLHApOnB9fWZ1bmN0aW9uIFcoZSl7dmFyIHQscj1lLnBvcHBlcixvPWUucG9wcGVyUmVjdCxpPWUucGxhY2VtZW50LGE9ZS5vZmZzZXRzLGY9ZS5wb3NpdGlvbixjPWUuZ3B1QWNjZWxlcmF0aW9uLHA9ZS5hZGFwdGl2ZTtlLnJvdW5kT2Zmc2V0cz8oZT13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxlPXt4Ok1hdGgucm91bmQoYS54KmUpL2V8fDAseTpNYXRoLnJvdW5kKGEueSplKS9lfHwwfSk6ZT1hO3ZhciBsPWU7ZT12b2lkIDA9PT0oZT1sLngpPzA6ZSxsPXZvaWQgMD09PShsPWwueSk/MDpsO3ZhciB1PWEuaGFzT3duUHJvcGVydHkoIngiKTthPWEuaGFzT3duUHJvcGVydHkoInkiKTt2YXIgZCxtPSJsZWZ0IixoPSJ0b3AiLHY9d2luZG93O2lmKHApe3ZhciBiPWcocik7Yj09PW4ocikmJihiPXMocikpLCJ0b3AiPT09aSYmKGg9ImJvdHRvbSIsbC09Yi5jbGllbnRIZWlnaHQtby5oZWlnaHQsbCo9Yz8xOi0xKSwibGVmdCI9PT1pJiYobT0icmlnaHQiLGUtPWIuY2xpZW50V2lkdGgtby53aWR0aCxlKj1jPzE6LTEpfXJldHVybiByPU9iamVjdC5hc3NpZ24oe3Bvc2l0aW9uOmZ9LHAmJnopLGM/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIpLHt9LCgoZD17fSlbaF09YT8iMCI6IiIsZFttXT11PyIwIjoiIixkLnRyYW5zZm9ybT0yPih2LmRldmljZVBpeGVsUmF0aW98fDEpPyJ0cmFuc2xhdGUoIitlKyJweCwgIitsKyJweCkiOiJ0cmFuc2xhdGUzZCgiK2UrInB4LCAiK2wrInB4LCAwKSIsZCkpOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7fSwoKHQ9e30pW2hdPWE/bCsicHgiOiIiLHRbbV09dT9lKyJweCI6IiIsdC50cmFuc2Zvcm09IiIsdCkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGUucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csKGZ1bmN0aW9uKGUpe3JldHVybiBHW2VdfSkpfWZ1bmN0aW9uIEgoZSl7cmV0dXJuIGUucmVwbGFjZSgvc3RhcnR8ZW5kL2csKGZ1bmN0aW9uKGUpe3JldHVybiBKW2VdfSkpfWZ1bmN0aW9uIFIoZSx0LG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17eDowLHk6MH0pLHt0b3A6ZS50b3AtdC5oZWlnaHQtbi55LHJpZ2h0OmUucmlnaHQtdC53aWR0aCtuLngsYm90dG9tOmUuYm90dG9tLXQuaGVpZ2h0K24ueSxsZWZ0OmUubGVmdC10LndpZHRoLW4ueH19ZnVuY3Rpb24gUyhlKXtyZXR1cm5bInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAwPD1lW3RdfSkpfXZhciBUPVsidG9wIiwiYm90dG9tIiwicmlnaHQiLCJsZWZ0Il0scT1ULnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoW3QrIi1zdGFydCIsdCsiLWVuZCJdKX0pLFtdKSxDPVtdLmNvbmNhdChULFsiYXV0byJdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KFt0LHQrIi1zdGFydCIsdCsiLWVuZCJdKX0pLFtdKSxOPSJiZWZvcmVSZWFkIHJlYWQgYWZ0ZXJSZWFkIGJlZm9yZU1haW4gbWFpbiBhZnRlck1haW4gYmVmb3JlV3JpdGUgd3JpdGUgYWZ0ZXJXcml0ZSIuc3BsaXQoIiAiKSxWPXtwbGFjZW1lbnQ6ImJvdHRvbSIsbW9kaWZpZXJzOltdLHN0cmF0ZWd5OiJhYnNvbHV0ZSJ9LEk9e3Bhc3NpdmU6ITB9LF89e25hbWU6ImV2ZW50TGlzdGVuZXJzIixlbmFibGVkOiEwLHBoYXNlOiJ3cml0ZSIsZm46ZnVuY3Rpb24oKXt9LGVmZmVjdDpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXRlLHI9ZS5pbnN0YW5jZSxvPShlPWUub3B0aW9ucykuc2Nyb2xsLGk9dm9pZCAwPT09b3x8byxhPXZvaWQgMD09PShlPWUucmVzaXplKXx8ZSxzPW4odC5lbGVtZW50cy5wb3BwZXIpLGY9W10uY29uY2F0KHQuc2Nyb2xsUGFyZW50cy5yZWZlcmVuY2UsdC5zY3JvbGxQYXJlbnRzLnBvcHBlcik7cmV0dXJuIGkmJmYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLHIudXBkYXRlLEkpfSkpLGEmJnMuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixyLnVwZGF0ZSxJKSxmdW5jdGlvbigpe2kmJmYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLHIudXBkYXRlLEkpfSkpLGEmJnMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIixyLnVwZGF0ZSxJKX19LGRhdGE6e319LFU9e25hbWU6InBvcHBlck9mZnNldHMiLGVuYWJsZWQ6ITAscGhhc2U6InJlYWQiLGZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGU7dC5tb2RpZmllcnNEYXRhW2UubmFtZV09RSh7cmVmZXJlbmNlOnQucmVjdHMucmVmZXJlbmNlLGVsZW1lbnQ6dC5yZWN0cy5wb3BwZXIsc3RyYXRlZ3k6ImFic29sdXRlIixwbGFjZW1lbnQ6dC5wbGFjZW1lbnR9KX0sZGF0YTp7fX0sej17dG9wOiJhdXRvIixyaWdodDoiYXV0byIsYm90dG9tOiJhdXRvIixsZWZ0OiJhdXRvIn0sRj17bmFtZToiY29tcHV0ZVN0eWxlcyIsZW5hYmxlZDohMCxwaGFzZToiYmVmb3JlV3JpdGUiLGZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj1lLm9wdGlvbnM7ZT12b2lkIDA9PT0oZT1uLmdwdUFjY2VsZXJhdGlvbil8fGU7dmFyIHI9bi5hZGFwdGl2ZTtyPXZvaWQgMD09PXJ8fHIsbj12b2lkIDA9PT0obj1uLnJvdW5kT2Zmc2V0cyl8fG4sZT17cGxhY2VtZW50OnkodC5wbGFjZW1lbnQpLHBvcHBlcjp0LmVsZW1lbnRzLnBvcHBlcixwb3BwZXJSZWN0OnQucmVjdHMucG9wcGVyLGdwdUFjY2VsZXJhdGlvbjplfSxudWxsIT10Lm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyYmKHQuc3R5bGVzLnBvcHBlcj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5zdHlsZXMucG9wcGVyKSxXKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7fSx7b2Zmc2V0czp0Lm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyxwb3NpdGlvbjp0Lm9wdGlvbnMuc3RyYXRlZ3ksYWRhcHRpdmU6cixyb3VuZE9mZnNldHM6bn0pKSkpLG51bGwhPXQubW9kaWZpZXJzRGF0YS5hcnJvdyYmKHQuc3R5bGVzLmFycm93PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LnN0eWxlcy5hcnJvdyksVyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse30se29mZnNldHM6dC5tb2RpZmllcnNEYXRhLmFycm93LHBvc2l0aW9uOiJhYnNvbHV0ZSIsYWRhcHRpdmU6ITEscm91bmRPZmZzZXRzOm59KSkpKSx0LmF0dHJpYnV0ZXMucG9wcGVyPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LmF0dHJpYnV0ZXMucG9wcGVyKSx7fSx7ImRhdGEtcG9wcGVyLXBsYWNlbWVudCI6dC5wbGFjZW1lbnR9KX0sZGF0YTp7fX0sWD17bmFtZToiYXBwbHlTdHlsZXMiLGVuYWJsZWQ6ITAscGhhc2U6IndyaXRlIixmbjpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXRlO09iamVjdC5rZXlzKHQuZWxlbWVudHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXQuc3R5bGVzW2VdfHx7fSxyPXQuYXR0cmlidXRlc1tlXXx8e30sbz10LmVsZW1lbnRzW2VdO2kobykmJmEobykmJihPYmplY3QuYXNzaWduKG8uc3R5bGUsbiksT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9cltlXTshMT09PXQ/by5yZW1vdmVBdHRyaWJ1dGUoZSk6by5zZXRBdHRyaWJ1dGUoZSwhMD09PXQ/IiI6dCl9KSkpfSkpfSxlZmZlY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZSxuPXtwb3BwZXI6e3Bvc2l0aW9uOnQub3B0aW9ucy5zdHJhdGVneSxsZWZ0OiIwIix0b3A6IjAiLG1hcmdpbjoiMCJ9LGFycm93Ontwb3NpdGlvbjoiYWJzb2x1dGUifSxyZWZlcmVuY2U6e319O3JldHVybiBPYmplY3QuYXNzaWduKHQuZWxlbWVudHMucG9wcGVyLnN0eWxlLG4ucG9wcGVyKSx0LmVsZW1lbnRzLmFycm93JiZPYmplY3QuYXNzaWduKHQuZWxlbWVudHMuYXJyb3cuc3R5bGUsbi5hcnJvdyksZnVuY3Rpb24oKXtPYmplY3Qua2V5cyh0LmVsZW1lbnRzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj10LmVsZW1lbnRzW2VdLG89dC5hdHRyaWJ1dGVzW2VdfHx7fTtlPU9iamVjdC5rZXlzKHQuc3R5bGVzLmhhc093blByb3BlcnR5KGUpP3Quc3R5bGVzW2VdOm5bZV0pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT0iIixlfSkse30pLGkocikmJmEocikmJihPYmplY3QuYXNzaWduKHIuc3R5bGUsZSksT2JqZWN0LmtleXMobykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5yZW1vdmVBdHRyaWJ1dGUoZSl9KSkpfSkpfX0scmVxdWlyZXM6WyJjb21wdXRlU3R5bGVzIl19LFk9e25hbWU6Im9mZnNldCIsZW5hYmxlZDohMCxwaGFzZToibWFpbiIscmVxdWlyZXM6WyJwb3BwZXJPZmZzZXRzIl0sZm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZSxuPWUubmFtZSxyPXZvaWQgMD09PShlPWUub3B0aW9ucy5vZmZzZXQpP1swLDBdOmUsbz0oZT1DLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXt2YXIgbz10LnJlY3RzLGk9eShuKSxhPTA8PVsibGVmdCIsInRvcCJdLmluZGV4T2YoaSk/LTE6MSxzPSJmdW5jdGlvbiI9PXR5cGVvZiByP3IoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG8pLHt9LHtwbGFjZW1lbnQ6bn0pKTpyO3JldHVybiBvPShvPXNbMF0pfHwwLHM9KChzPXNbMV0pfHwwKSphLGk9MDw9WyJsZWZ0IiwicmlnaHQiXS5pbmRleE9mKGkpP3t4OnMseTpvfTp7eDpvLHk6c30sZVtuXT1pLGV9KSx7fSkpW3QucGxhY2VtZW50XSxpPW8ueDtvPW8ueSxudWxsIT10Lm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyYmKHQubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLngrPWksdC5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueSs9byksdC5tb2RpZmllcnNEYXRhW25dPWV9fSxHPXtsZWZ0OiJyaWdodCIscmlnaHQ6ImxlZnQiLGJvdHRvbToidG9wIix0b3A6ImJvdHRvbSJ9LEo9e3N0YXJ0OiJlbmQiLGVuZDoic3RhcnQifSxLPXtuYW1lOiJmbGlwIixlbmFibGVkOiEwLHBoYXNlOiJtYWluIixmbjpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXRlLG49ZS5vcHRpb25zO2lmKGU9ZS5uYW1lLCF0Lm1vZGlmaWVyc0RhdGFbZV0uX3NraXApe3ZhciByPW4ubWFpbkF4aXM7cj12b2lkIDA9PT1yfHxyO3ZhciBvPW4uYWx0QXhpcztvPXZvaWQgMD09PW98fG87dmFyIGk9bi5mYWxsYmFja1BsYWNlbWVudHMsYT1uLnBhZGRpbmcscz1uLmJvdW5kYXJ5LGY9bi5yb290Qm91bmRhcnksYz1uLmFsdEJvdW5kYXJ5LHA9bi5mbGlwVmFyaWF0aW9ucyxsPXZvaWQgMD09PXB8fHAsdT1uLmFsbG93ZWRBdXRvUGxhY2VtZW50cztwPXkobj10Lm9wdGlvbnMucGxhY2VtZW50KSxpPWl8fChwIT09biYmbD9mdW5jdGlvbihlKXtpZigiYXV0byI9PT15KGUpKXJldHVybltdO3ZhciB0PUEoZSk7cmV0dXJuW0goZSksdCxIKHQpXX0obik6W0EobildKTt2YXIgZD1bbl0uY29uY2F0KGkpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5jb25jYXQoImF1dG8iPT09eShuKT9mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbj10LmJvdW5kYXJ5LHI9dC5yb290Qm91bmRhcnksbz10LnBhZGRpbmcsaT10LmZsaXBWYXJpYXRpb25zLGE9dC5hbGxvd2VkQXV0b1BsYWNlbWVudHMscz12b2lkIDA9PT1hP0M6YSxmPXQucGxhY2VtZW50LnNwbGl0KCItIilbMV07MD09PShpPSh0PWY/aT9xOnEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgiLSIpWzFdPT09Zn0pKTpUKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwPD1zLmluZGV4T2YoZSl9KSkpLmxlbmd0aCYmKGk9dCk7dmFyIGM9aS5yZWR1Y2UoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbaV09TChlLHtwbGFjZW1lbnQ6aSxib3VuZGFyeTpuLHJvb3RCb3VuZGFyeTpyLHBhZGRpbmc6b30pW3koaSldLHR9KSx7fSk7cmV0dXJuIE9iamVjdC5rZXlzKGMpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNbZV0tY1t0XX0pKX0odCx7cGxhY2VtZW50Om4sYm91bmRhcnk6cyxyb290Qm91bmRhcnk6ZixwYWRkaW5nOmEsZmxpcFZhcmlhdGlvbnM6bCxhbGxvd2VkQXV0b1BsYWNlbWVudHM6dX0pOm4pfSksW10pO249dC5yZWN0cy5yZWZlcmVuY2UsaT10LnJlY3RzLnBvcHBlcjt2YXIgbT1uZXcgTWFwO3A9ITA7Zm9yKHZhciBoPWRbMF0sZz0wO2c8ZC5sZW5ndGg7ZysrKXt2YXIgdj1kW2ddLGI9eSh2KSxPPSJzdGFydCI9PT12LnNwbGl0KCItIilbMV0sdz0wPD1bInRvcCIsImJvdHRvbSJdLmluZGV4T2YoYikseD13PyJ3aWR0aCI6ImhlaWdodCIsaj1MKHQse3BsYWNlbWVudDp2LGJvdW5kYXJ5OnMscm9vdEJvdW5kYXJ5OmYsYWx0Qm91bmRhcnk6YyxwYWRkaW5nOmF9KTtpZihPPXc/Tz8icmlnaHQiOiJsZWZ0IjpPPyJib3R0b20iOiJ0b3AiLG5beF0+aVt4XSYmKE89QShPKSkseD1BKE8pLHc9W10sciYmdy5wdXNoKDA+PWpbYl0pLG8mJncucHVzaCgwPj1qW09dLDA+PWpbeF0pLHcuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpKXtoPXYscD0hMTticmVha31tLnNldCh2LHcpfWlmKHApZm9yKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZC5maW5kKChmdW5jdGlvbih0KXtpZih0PW0uZ2V0KHQpKXJldHVybiB0LnNsaWNlKDAsZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfSkpO2lmKHQpcmV0dXJuIGg9dCwiYnJlYWsifSxvPWw/MzoxOzA8byYmImJyZWFrIiE9PXIobyk7by0tKTt0LnBsYWNlbWVudCE9PWgmJih0Lm1vZGlmaWVyc0RhdGFbZV0uX3NraXA9ITAsdC5wbGFjZW1lbnQ9aCx0LnJlc2V0PSEwKX19LHJlcXVpcmVzSWZFeGlzdHM6WyJvZmZzZXQiXSxkYXRhOntfc2tpcDohMX19LFE9e25hbWU6InByZXZlbnRPdmVyZmxvdyIsZW5hYmxlZDohMCxwaGFzZToibWFpbiIsZm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZSxuPWUub3B0aW9ucztlPWUubmFtZTt2YXIgcj1uLm1haW5BeGlzLG89dm9pZCAwPT09cnx8cjtyPXZvaWQgMCE9PShyPW4uYWx0QXhpcykmJnI7dmFyIGk9bi50ZXRoZXI7aT12b2lkIDA9PT1pfHxpO3ZhciBhPW4udGV0aGVyT2Zmc2V0LHM9dm9pZCAwPT09YT8wOmE7bj1MKHQse2JvdW5kYXJ5Om4uYm91bmRhcnkscm9vdEJvdW5kYXJ5Om4ucm9vdEJvdW5kYXJ5LHBhZGRpbmc6bi5wYWRkaW5nLGFsdEJvdW5kYXJ5Om4uYWx0Qm91bmRhcnl9KSxhPXkodC5wbGFjZW1lbnQpO3ZhciBmPXQucGxhY2VtZW50LnNwbGl0KCItIilbMV0sYz0hZixwPU0oYSk7YT0ieCI9PT1wPyJ5IjoieCI7dmFyIGw9dC5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMsZD10LnJlY3RzLnJlZmVyZW5jZSxtPXQucmVjdHMucG9wcGVyLGg9ImZ1bmN0aW9uIj09dHlwZW9mIHM/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5yZWN0cykse30se3BsYWNlbWVudDp0LnBsYWNlbWVudH0pKTpzO2lmKHM9e3g6MCx5OjB9LGwpe2lmKG8pe3ZhciB2PSJ5Ij09PXA/InRvcCI6ImxlZnQiLGI9InkiPT09cD8iYm90dG9tIjoicmlnaHQiLE89InkiPT09cD8iaGVpZ2h0Ijoid2lkdGgiO289bFtwXTt2YXIgdz1sW3BdK25bdl0seD1sW3BdLW5bYl0saj1pPy1tW09dLzI6MCxFPSJzdGFydCI9PT1mP2RbT106bVtPXTtmPSJzdGFydCI9PT1mPy1tW09dOi1kW09dLG09dC5lbGVtZW50cy5hcnJvdyxtPWkmJm0/dShtKTp7d2lkdGg6MCxoZWlnaHQ6MH07dmFyIEQ9dC5tb2RpZmllcnNEYXRhWyJhcnJvdyNwZXJzaXN0ZW50Il0/dC5tb2RpZmllcnNEYXRhWyJhcnJvdyNwZXJzaXN0ZW50Il0ucGFkZGluZzp7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9O3Y9RFt2XSxiPURbYl0sbT1NYXRoLm1heCgwLE1hdGgubWluKGRbT10sbVtPXSkpLEU9Yz9kW09dLzItai1tLXYtaDpFLW0tdi1oLGM9Yz8tZFtPXS8yK2orbStiK2g6ZittK2IraCxoPXQuZWxlbWVudHMuYXJyb3cmJmcodC5lbGVtZW50cy5hcnJvdyksZD10Lm1vZGlmaWVyc0RhdGEub2Zmc2V0P3QubW9kaWZpZXJzRGF0YS5vZmZzZXRbdC5wbGFjZW1lbnRdW3BdOjAsaD1sW3BdK0UtZC0oaD8ieSI9PT1wP2guY2xpZW50VG9wfHwwOmguY2xpZW50TGVmdHx8MDowKSxjPWxbcF0rYy1kLGk9TWF0aC5tYXgoaT9NYXRoLm1pbih3LGgpOncsTWF0aC5taW4obyxpP01hdGgubWF4KHgsYyk6eCkpLGxbcF09aSxzW3BdPWktb31yJiYocj1sW2FdLGk9TWF0aC5tYXgocituWyJ4Ij09PXA/InRvcCI6ImxlZnQiXSxNYXRoLm1pbihyLHItblsieCI9PT1wPyJib3R0b20iOiJyaWdodCJdKSksbFthXT1pLHNbYV09aS1yKSx0Lm1vZGlmaWVyc0RhdGFbZV09c319LHJlcXVpcmVzSWZFeGlzdHM6WyJvZmZzZXQiXX0sWj17bmFtZToiYXJyb3ciLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLGZuOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5zdGF0ZTtlPWUubmFtZTt2YXIgcj1uLmVsZW1lbnRzLmFycm93LG89bi5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMsaT15KG4ucGxhY2VtZW50KSxhPU0oaSk7aWYoaT0wPD1bImxlZnQiLCJyaWdodCJdLmluZGV4T2YoaSk/ImhlaWdodCI6IndpZHRoIixyJiZvKXt2YXIgcz1uLm1vZGlmaWVyc0RhdGFbZSsiI3BlcnNpc3RlbnQiXS5wYWRkaW5nLGY9dShyKSxjPSJ5Ij09PWE/InRvcCI6ImxlZnQiLHA9InkiPT09YT8iYm90dG9tIjoicmlnaHQiLGw9bi5yZWN0cy5yZWZlcmVuY2VbaV0rbi5yZWN0cy5yZWZlcmVuY2VbYV0tb1thXS1uLnJlY3RzLnBvcHBlcltpXTtvPW9bYV0tbi5yZWN0cy5yZWZlcmVuY2VbYV0sbD0ocj0ocj1nKHIpKT8ieSI9PT1hP3IuY2xpZW50SGVpZ2h0fHwwOnIuY2xpZW50V2lkdGh8fDA6MCkvMi1mW2ldLzIrKGwvMi1vLzIpLGk9TWF0aC5tYXgoc1tjXSxNYXRoLm1pbihsLHItZltpXS1zW3BdKSksbi5tb2RpZmllcnNEYXRhW2VdPSgodD17fSlbYV09aSx0LmNlbnRlck9mZnNldD1pLWwsdCl9fSxlZmZlY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZSxuPWUub3B0aW9ucztlPWUubmFtZTt2YXIgcj1uLmVsZW1lbnQ7aWYocj12b2lkIDA9PT1yPyJbZGF0YS1wb3BwZXItYXJyb3ddIjpyLG49dm9pZCAwPT09KG49bi5wYWRkaW5nKT8wOm4sbnVsbCE9cil7aWYoInN0cmluZyI9PXR5cGVvZiByJiYhKHI9dC5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihyKSkpcmV0dXJuO08odC5lbGVtZW50cy5wb3BwZXIscikmJih0LmVsZW1lbnRzLmFycm93PXIsdC5tb2RpZmllcnNEYXRhW2UrIiNwZXJzaXN0ZW50Il09e3BhZGRpbmc6RCgibnVtYmVyIiE9dHlwZW9mIG4/bjpQKG4sVCkpfSl9fSxyZXF1aXJlczpbInBvcHBlck9mZnNldHMiXSxyZXF1aXJlc0lmRXhpc3RzOlsicHJldmVudE92ZXJmbG93Il19LCQ9e25hbWU6ImhpZGUiLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLHJlcXVpcmVzSWZFeGlzdHM6WyJwcmV2ZW50T3ZlcmZsb3ciXSxmbjpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXRlO2U9ZS5uYW1lO3ZhciBuPXQucmVjdHMucmVmZXJlbmNlLHI9dC5yZWN0cy5wb3BwZXIsbz10Lm1vZGlmaWVyc0RhdGEucHJldmVudE92ZXJmbG93LGk9TCh0LHtlbGVtZW50Q29udGV4dDoicmVmZXJlbmNlIn0pLGE9TCh0LHthbHRCb3VuZGFyeTohMH0pO249UihpLG4pLHI9UihhLHIsbyksbz1TKG4pLGE9UyhyKSx0Lm1vZGlmaWVyc0RhdGFbZV09e3JlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0czpuLHBvcHBlckVzY2FwZU9mZnNldHM6cixpc1JlZmVyZW5jZUhpZGRlbjpvLGhhc1BvcHBlckVzY2FwZWQ6YX0sdC5hdHRyaWJ1dGVzLnBvcHBlcj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5hdHRyaWJ1dGVzLnBvcHBlcikse30seyJkYXRhLXBvcHBlci1yZWZlcmVuY2UtaGlkZGVuIjpvLCJkYXRhLXBvcHBlci1lc2NhcGVkIjphfSl9fSxlZT1CKHtkZWZhdWx0TW9kaWZpZXJzOltfLFUsRixYXX0pLHRlPVtfLFUsRixYLFksSyxRLFosJF0sbmU9Qih7ZGVmYXVsdE1vZGlmaWVyczp0ZX0pO2UuYXBwbHlTdHlsZXM9WCxlLmFycm93PVosZS5jb21wdXRlU3R5bGVzPUYsZS5jcmVhdGVQb3BwZXI9bmUsZS5jcmVhdGVQb3BwZXJMaXRlPWVlLGUuZGVmYXVsdE1vZGlmaWVycz10ZSxlLmRldGVjdE92ZXJmbG93PUwsZS5ldmVudExpc3RlbmVycz1fLGUuZmxpcD1LLGUuaGlkZT0kLGUub2Zmc2V0PVksZS5wb3BwZXJHZW5lcmF0b3I9QixlLnBvcHBlck9mZnNldHM9VSxlLnByZXZlbnRPdmVyZmxvdz1RLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9wcGVyLm1pbi5qcy5tYXAK"></script>
  <link href="data:text/css,%2Etippy%2Dbox%5Bdata%2Danimation%3Dfade%5D%5Bdata%2Dstate%3Dhidden%5D%7Bopacity%3A0%7D%5Bdata%2Dtippy%2Droot%5D%7Bmax%2Dwidth%3Acalc%28100vw%20%2D%2010px%29%7D%2Etippy%2Dbox%7Bposition%3Arelative%3Bbackground%2Dcolor%3A%23333%3Bcolor%3A%23fff%3Bborder%2Dradius%3A4px%3Bfont%2Dsize%3A14px%3Bline%2Dheight%3A1%2E4%3Boutline%3A0%3Btransition%2Dproperty%3Atransform%2Cvisibility%2Copacity%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dtop%5D%3E%2Etippy%2Darrow%7Bbottom%3A0%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dtop%5D%3E%2Etippy%2Darrow%3Abefore%7Bbottom%3A%2D7px%3Bleft%3A0%3Bborder%2Dwidth%3A8px%208px%200%3Bborder%2Dtop%2Dcolor%3Ainitial%3Btransform%2Dorigin%3Acenter%20top%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dbottom%5D%3E%2Etippy%2Darrow%7Btop%3A0%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dbottom%5D%3E%2Etippy%2Darrow%3Abefore%7Btop%3A%2D7px%3Bleft%3A0%3Bborder%2Dwidth%3A0%208px%208px%3Bborder%2Dbottom%2Dcolor%3Ainitial%3Btransform%2Dorigin%3Acenter%20bottom%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dleft%5D%3E%2Etippy%2Darrow%7Bright%3A0%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dleft%5D%3E%2Etippy%2Darrow%3Abefore%7Bborder%2Dwidth%3A8px%200%208px%208px%3Bborder%2Dleft%2Dcolor%3Ainitial%3Bright%3A%2D7px%3Btransform%2Dorigin%3Acenter%20left%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dright%5D%3E%2Etippy%2Darrow%7Bleft%3A0%7D%2Etippy%2Dbox%5Bdata%2Dplacement%5E%3Dright%5D%3E%2Etippy%2Darrow%3Abefore%7Bleft%3A%2D7px%3Bborder%2Dwidth%3A8px%208px%208px%200%3Bborder%2Dright%2Dcolor%3Ainitial%3Btransform%2Dorigin%3Acenter%20right%7D%2Etippy%2Dbox%5Bdata%2Dinertia%5D%5Bdata%2Dstate%3Dvisible%5D%7Btransition%2Dtiming%2Dfunction%3Acubic%2Dbezier%28%2E54%2C1%2E5%2C%2E38%2C1%2E11%29%7D%2Etippy%2Darrow%7Bwidth%3A16px%3Bheight%3A16px%3Bcolor%3A%23333%7D%2Etippy%2Darrow%3Abefore%7Bcontent%3A%22%22%3Bposition%3Aabsolute%3Bborder%2Dcolor%3Atransparent%3Bborder%2Dstyle%3Asolid%7D%2Etippy%2Dcontent%7Bposition%3Arelative%3Bpadding%3A5px%209px%3Bz%2Dindex%3A1%7D" rel="stylesheet" />
  <link href="data:text/css,%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%7Bbackground%2Dcolor%3A%23fff%3Bbackground%2Dclip%3Apadding%2Dbox%3Bborder%3A1px%20solid%20rgba%280%2C8%2C16%2C%2E15%29%3Bcolor%3A%23333%3Bbox%2Dshadow%3A0%204px%2014px%20%2D2px%20rgba%280%2C8%2C16%2C%2E08%29%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%3E%2Etippy%2Dbackdrop%7Bbackground%2Dcolor%3A%23fff%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%3E%2Etippy%2Darrow%3Aafter%2C%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%3E%2Etippy%2Dsvg%2Darrow%3Aafter%7Bcontent%3A%22%22%3Bposition%3Aabsolute%3Bz%2Dindex%3A%2D1%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%3E%2Etippy%2Darrow%3Aafter%7Bborder%2Dcolor%3Atransparent%3Bborder%2Dstyle%3Asolid%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dtop%5D%3E%2Etippy%2Darrow%3Abefore%7Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dtop%5D%3E%2Etippy%2Darrow%3Aafter%7Bborder%2Dtop%2Dcolor%3Argba%280%2C8%2C16%2C%2E2%29%3Bborder%2Dwidth%3A7px%207px%200%3Btop%3A17px%3Bleft%3A1px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dtop%5D%3E%2Etippy%2Dsvg%2Darrow%3Esvg%7Btop%3A16px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dtop%5D%3E%2Etippy%2Dsvg%2Darrow%3Aafter%7Btop%3A17px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dbottom%5D%3E%2Etippy%2Darrow%3Abefore%7Bborder%2Dbottom%2Dcolor%3A%23fff%3Bbottom%3A16px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dbottom%5D%3E%2Etippy%2Darrow%3Aafter%7Bborder%2Dbottom%2Dcolor%3Argba%280%2C8%2C16%2C%2E2%29%3Bborder%2Dwidth%3A0%207px%207px%3Bbottom%3A17px%3Bleft%3A1px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dbottom%5D%3E%2Etippy%2Dsvg%2Darrow%3Esvg%7Bbottom%3A16px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dbottom%5D%3E%2Etippy%2Dsvg%2Darrow%3Aafter%7Bbottom%3A17px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dleft%5D%3E%2Etippy%2Darrow%3Abefore%7Bborder%2Dleft%2Dcolor%3A%23fff%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dleft%5D%3E%2Etippy%2Darrow%3Aafter%7Bborder%2Dleft%2Dcolor%3Argba%280%2C8%2C16%2C%2E2%29%3Bborder%2Dwidth%3A7px%200%207px%207px%3Bleft%3A17px%3Btop%3A1px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dleft%5D%3E%2Etippy%2Dsvg%2Darrow%3Esvg%7Bleft%3A11px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dleft%5D%3E%2Etippy%2Dsvg%2Darrow%3Aafter%7Bleft%3A12px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dright%5D%3E%2Etippy%2Darrow%3Abefore%7Bborder%2Dright%2Dcolor%3A%23fff%3Bright%3A16px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dright%5D%3E%2Etippy%2Darrow%3Aafter%7Bborder%2Dwidth%3A7px%207px%207px%200%3Bright%3A17px%3Btop%3A1px%3Bborder%2Dright%2Dcolor%3Argba%280%2C8%2C16%2C%2E2%29%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dright%5D%3E%2Etippy%2Dsvg%2Darrow%3Esvg%7Bright%3A11px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%5Bdata%2Dplacement%5E%3Dright%5D%3E%2Etippy%2Dsvg%2Darrow%3Aafter%7Bright%3A12px%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%3E%2Etippy%2Dsvg%2Darrow%7Bfill%3A%23fff%7D%2Etippy%2Dbox%5Bdata%2Dtheme%7E%3Dlight%2Dborder%5D%3E%2Etippy%2Dsvg%2Darrow%3Aafter%7Bbackground%2Dimage%3Aurl%28data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4%3D%29%3Bbackground%2Dsize%3A16px%206px%3Bwidth%3A16px%3Bheight%3A6px%7D" rel="stylesheet" />
  <script src="data:application/javascript;base64,IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoIkBwb3BwZXJqcy9jb3JlIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiQHBvcHBlcmpzL2NvcmUiXSxlKToodD10fHxzZWxmKS50aXBweT1lKHQuUG9wcGVyKX0odGhpcywoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO3ZhciBlPXtwYXNzaXZlOiEwLGNhcHR1cmU6ITB9O2Z1bmN0aW9uIG4odCxlLG4pe2lmKEFycmF5LmlzQXJyYXkodCkpe3ZhciByPXRbZV07cmV0dXJuIG51bGw9PXI/QXJyYXkuaXNBcnJheShuKT9uW2VdOm46cn1yZXR1cm4gdH1mdW5jdGlvbiByKHQsZSl7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KTtyZXR1cm4gMD09PW4uaW5kZXhPZigiW29iamVjdCIpJiZuLmluZGV4T2YoZSsiXSIpPi0xfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD90LmFwcGx5KHZvaWQgMCxlKTp0fWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gMD09PWU/dDpmdW5jdGlvbihyKXtjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3Qocil9KSxlKX07dmFyIG59ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPU9iamVjdC5hc3NpZ24oe30sdCk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZGVsZXRlIG5bdF19KSksbn1mdW5jdGlvbiBzKHQpe3JldHVybltdLmNvbmNhdCh0KX1mdW5jdGlvbiB1KHQsZSl7LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX1mdW5jdGlvbiBjKHQpe3JldHVybiB0LnNwbGl0KCItIilbMF19ZnVuY3Rpb24gcCh0KXtyZXR1cm5bXS5zbGljZS5jYWxsKHQpfWZ1bmN0aW9uIGYoKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iil9ZnVuY3Rpb24gbCh0KXtyZXR1cm5bIkVsZW1lbnQiLCJGcmFnbWVudCJdLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiByKHQsZSl9KSl9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gcih0LCJNb3VzZUV2ZW50Iil9ZnVuY3Rpb24gdih0KXtyZXR1cm4hKCF0fHwhdC5fdGlwcHl8fHQuX3RpcHB5LnJlZmVyZW5jZSE9PXQpfWZ1bmN0aW9uIG0odCl7cmV0dXJuIGwodCk/W3RdOmZ1bmN0aW9uKHQpe3JldHVybiByKHQsIk5vZGVMaXN0Iil9KHQpP3AodCk6QXJyYXkuaXNBcnJheSh0KT90OnAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KSl9ZnVuY3Rpb24gZyh0LGUpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dCYmKHQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPWUrIm1zIil9KSl9ZnVuY3Rpb24gaCh0LGUpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dCYmdC5zZXRBdHRyaWJ1dGUoImRhdGEtc3RhdGUiLGUpfSkpfWZ1bmN0aW9uIGIodCl7dmFyIGU9cyh0KVswXTtyZXR1cm4gZSYmZS5vd25lckRvY3VtZW50fHxkb2N1bWVudH1mdW5jdGlvbiB5KHQsZSxuKXt2YXIgcj1lKyJFdmVudExpc3RlbmVyIjtbInRyYW5zaXRpb25lbmQiLCJ3ZWJraXRUcmFuc2l0aW9uRW5kIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtyXShlLG4pfSkpfXZhciB3PXtpc1RvdWNoOiExfSxFPTA7ZnVuY3Rpb24gVCgpe3cuaXNUb3VjaHx8KHcuaXNUb3VjaD0hMCx3aW5kb3cucGVyZm9ybWFuY2UmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsQykpfWZ1bmN0aW9uIEMoKXt2YXIgdD1wZXJmb3JtYW5jZS5ub3coKTt0LUU8MjAmJih3LmlzVG91Y2g9ITEsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixDKSksRT10fWZ1bmN0aW9uIHgoKXt2YXIgdD1kb2N1bWVudC5hY3RpdmVFbGVtZW50O2lmKHYodCkpe3ZhciBlPXQuX3RpcHB5O3QuYmx1ciYmIWUuc3RhdGUuaXNWaXNpYmxlJiZ0LmJsdXIoKX19dmFyIEE9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ/bmF2aWdhdG9yLnVzZXJBZ2VudDoiIixPPS9NU0lFIHxUcmlkZW50XC8vLnRlc3QoQSksTD1PYmplY3QuYXNzaWduKHthcHBlbmRUbzpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5fSxhcmlhOntjb250ZW50OiJhdXRvIixleHBhbmRlZDoiYXV0byJ9LGRlbGF5OjAsZHVyYXRpb246WzMwMCwyNTBdLGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6bnVsbCxoaWRlT25DbGljazohMCxpZ25vcmVBdHRyaWJ1dGVzOiExLGludGVyYWN0aXZlOiExLGludGVyYWN0aXZlQm9yZGVyOjIsaW50ZXJhY3RpdmVEZWJvdW5jZTowLG1vdmVUcmFuc2l0aW9uOiIiLG9mZnNldDpbMCwxMF0sb25BZnRlclVwZGF0ZTpmdW5jdGlvbigpe30sb25CZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXt9LG9uQ3JlYXRlOmZ1bmN0aW9uKCl7fSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt9LG9uSGlkZGVuOmZ1bmN0aW9uKCl7fSxvbkhpZGU6ZnVuY3Rpb24oKXt9LG9uTW91bnQ6ZnVuY3Rpb24oKXt9LG9uU2hvdzpmdW5jdGlvbigpe30sb25TaG93bjpmdW5jdGlvbigpe30sb25UcmlnZ2VyOmZ1bmN0aW9uKCl7fSxvblVudHJpZ2dlcjpmdW5jdGlvbigpe30sb25DbGlja091dHNpZGU6ZnVuY3Rpb24oKXt9LHBsYWNlbWVudDoidG9wIixwbHVnaW5zOltdLHBvcHBlck9wdGlvbnM6e30scmVuZGVyOm51bGwsc2hvd09uQ3JlYXRlOiExLHRvdWNoOiEwLHRyaWdnZXI6Im1vdXNlZW50ZXIgZm9jdXMiLHRyaWdnZXJUYXJnZXQ6bnVsbH0se2FuaW1hdGVGaWxsOiExLGZvbGxvd0N1cnNvcjohMSxpbmxpbmVQb3NpdGlvbmluZzohMSxzdGlja3k6ITF9LHt9LHthbGxvd0hUTUw6ITEsYW5pbWF0aW9uOiJmYWRlIixhcnJvdzohMCxjb250ZW50OiIiLGluZXJ0aWE6ITEsbWF4V2lkdGg6MzUwLHJvbGU6InRvb2x0aXAiLHRoZW1lOiIiLHpJbmRleDo5OTk5fSksRD1PYmplY3Qua2V5cyhMKTtmdW5jdGlvbiBrKHQpe3ZhciBlPSh0LnBsdWdpbnN8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9bi5uYW1lLGk9bi5kZWZhdWx0VmFsdWU7cmV0dXJuIHImJihlW3JdPXZvaWQgMCE9PXRbcl0/dFtyXTppKSxlfSkse30pO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHQse30sZSl9ZnVuY3Rpb24gUih0LGUpe3ZhciBuPU9iamVjdC5hc3NpZ24oe30sZSx7Y29udGVudDppKGUuY29udGVudCxbdF0pfSxlLmlnbm9yZUF0dHJpYnV0ZXM/e306ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT9PYmplY3Qua2V5cyhrKE9iamVjdC5hc3NpZ24oe30sTCx7cGx1Z2luczplfSkpKTpEKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9KHQuZ2V0QXR0cmlidXRlKCJkYXRhLXRpcHB5LSIrbil8fCIiKS50cmltKCk7aWYoIXIpcmV0dXJuIGU7aWYoImNvbnRlbnQiPT09billW25dPXI7ZWxzZSB0cnl7ZVtuXT1KU09OLnBhcnNlKHIpfWNhdGNoKHQpe2Vbbl09cn1yZXR1cm4gZX0pLHt9KX0odCxlLnBsdWdpbnMpKTtyZXR1cm4gbi5hcmlhPU9iamVjdC5hc3NpZ24oe30sTC5hcmlhLHt9LG4uYXJpYSksbi5hcmlhPXtleHBhbmRlZDoiYXV0byI9PT1uLmFyaWEuZXhwYW5kZWQ/ZS5pbnRlcmFjdGl2ZTpuLmFyaWEuZXhwYW5kZWQsY29udGVudDoiYXV0byI9PT1uLmFyaWEuY29udGVudD9lLmludGVyYWN0aXZlP251bGw6ImRlc2NyaWJlZGJ5IjpuLmFyaWEuY29udGVudH0sbn1mdW5jdGlvbiBNKHQsZSl7dC5pbm5lckhUTUw9ZX1mdW5jdGlvbiBQKHQpe3ZhciBlPWYoKTtyZXR1cm4hMD09PXQ/ZS5jbGFzc05hbWU9InRpcHB5LWFycm93IjooZS5jbGFzc05hbWU9InRpcHB5LXN2Zy1hcnJvdyIsbCh0KT9lLmFwcGVuZENoaWxkKHQpOk0oZSx0KSksZX1mdW5jdGlvbiBWKHQsZSl7bChlLmNvbnRlbnQpPyhNKHQsIiIpLHQuYXBwZW5kQ2hpbGQoZS5jb250ZW50KSk6ImZ1bmN0aW9uIiE9dHlwZW9mIGUuY29udGVudCYmKGUuYWxsb3dIVE1MP00odCxlLmNvbnRlbnQpOnQudGV4dENvbnRlbnQ9ZS5jb250ZW50KX1mdW5jdGlvbiBqKHQpe3ZhciBlPXQuZmlyc3RFbGVtZW50Q2hpbGQsbj1wKGUuY2hpbGRyZW4pO3JldHVybntib3g6ZSxjb250ZW50Om4uZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJ0aXBweS1jb250ZW50Iil9KSksYXJyb3c6bi5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGFzc0xpc3QuY29udGFpbnMoInRpcHB5LWFycm93Iil8fHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJ0aXBweS1zdmctYXJyb3ciKX0pKSxiYWNrZHJvcDpuLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzTGlzdC5jb250YWlucygidGlwcHktYmFja2Ryb3AiKX0pKX19ZnVuY3Rpb24gSSh0KXt2YXIgZT1mKCksbj1mKCk7bi5jbGFzc05hbWU9InRpcHB5LWJveCIsbi5zZXRBdHRyaWJ1dGUoImRhdGEtc3RhdGUiLCJoaWRkZW4iKSxuLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpO3ZhciByPWYoKTtmdW5jdGlvbiBpKG4scil7dmFyIGk9aihlKSxvPWkuYm94LGE9aS5jb250ZW50LHM9aS5hcnJvdztyLnRoZW1lP28uc2V0QXR0cmlidXRlKCJkYXRhLXRoZW1lIixyLnRoZW1lKTpvLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS10aGVtZSIpLCJzdHJpbmciPT10eXBlb2Ygci5hbmltYXRpb24/by5zZXRBdHRyaWJ1dGUoImRhdGEtYW5pbWF0aW9uIixyLmFuaW1hdGlvbik6by5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtYW5pbWF0aW9uIiksci5pbmVydGlhP28uc2V0QXR0cmlidXRlKCJkYXRhLWluZXJ0aWEiLCIiKTpvLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1pbmVydGlhIiksby5zdHlsZS5tYXhXaWR0aD0ibnVtYmVyIj09dHlwZW9mIHIubWF4V2lkdGg/ci5tYXhXaWR0aCsicHgiOnIubWF4V2lkdGgsci5yb2xlP28uc2V0QXR0cmlidXRlKCJyb2xlIixyLnJvbGUpOm8ucmVtb3ZlQXR0cmlidXRlKCJyb2xlIiksbi5jb250ZW50PT09ci5jb250ZW50JiZuLmFsbG93SFRNTD09PXIuYWxsb3dIVE1MfHxWKGEsdC5wcm9wcyksci5hcnJvdz9zP24uYXJyb3chPT1yLmFycm93JiYoby5yZW1vdmVDaGlsZChzKSxvLmFwcGVuZENoaWxkKFAoci5hcnJvdykpKTpvLmFwcGVuZENoaWxkKFAoci5hcnJvdykpOnMmJm8ucmVtb3ZlQ2hpbGQocyl9cmV0dXJuIHIuY2xhc3NOYW1lPSJ0aXBweS1jb250ZW50IixyLnNldEF0dHJpYnV0ZSgiZGF0YS1zdGF0ZSIsImhpZGRlbiIpLFYocix0LnByb3BzKSxlLmFwcGVuZENoaWxkKG4pLG4uYXBwZW5kQ2hpbGQociksaSh0LnByb3BzLHQucHJvcHMpLHtwb3BwZXI6ZSxvblVwZGF0ZTppfX1JLiQkdGlwcHk9ITA7dmFyIFM9MSxCPVtdLEg9W107ZnVuY3Rpb24gTihyLGEpe3ZhciBsLHYsbSxFLFQsQyx4LEEsRCxNPVIocixPYmplY3QuYXNzaWduKHt9LEwse30saygobD1hLE9iamVjdC5rZXlzKGwpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09bFtlXSYmKHRbZV09bFtlXSksdH0pLHt9KSkpKSksUD0hMSxWPSExLEk9ITEsTj0hMSxVPVtdLF89byhidCxNLmludGVyYWN0aXZlRGVib3VuY2UpLEY9UysrLFc9KEQ9TS5wbHVnaW5zKS5maWx0ZXIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEQuaW5kZXhPZih0KT09PWV9KSksWD17aWQ6RixyZWZlcmVuY2U6cixwb3BwZXI6ZigpLHBvcHBlckluc3RhbmNlOm51bGwscHJvcHM6TSxzdGF0ZTp7aXNFbmFibGVkOiEwLGlzVmlzaWJsZTohMSxpc0Rlc3Ryb3llZDohMSxpc01vdW50ZWQ6ITEsaXNTaG93bjohMX0scGx1Z2luczpXLGNsZWFyRGVsYXlUaW1lb3V0czpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh2KSxjbGVhclRpbWVvdXQobSksY2FuY2VsQW5pbWF0aW9uRnJhbWUoRSl9LHNldFByb3BzOmZ1bmN0aW9uKHQpe2lmKFguc3RhdGUuaXNEZXN0cm95ZWQpcmV0dXJuO2l0KCJvbkJlZm9yZVVwZGF0ZSIsW1gsdF0pLGd0KCk7dmFyIGU9WC5wcm9wcyxuPVIocixPYmplY3QuYXNzaWduKHt9LFgucHJvcHMse30sdCx7aWdub3JlQXR0cmlidXRlczohMH0pKTtYLnByb3BzPW4sbXQoKSxlLmludGVyYWN0aXZlRGVib3VuY2UhPT1uLmludGVyYWN0aXZlRGVib3VuY2UmJihzdCgpLF89byhidCxuLmludGVyYWN0aXZlRGVib3VuY2UpKTtlLnRyaWdnZXJUYXJnZXQmJiFuLnRyaWdnZXJUYXJnZXQ/cyhlLnRyaWdnZXJUYXJnZXQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIil9KSk6bi50cmlnZ2VyVGFyZ2V0JiZyLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIpO2F0KCkscnQoKSxxJiZxKGUsbik7WC5wb3BwZXJJbnN0YW5jZSYmKFR0KCkseHQoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodC5fdGlwcHkucG9wcGVySW5zdGFuY2UuZm9yY2VVcGRhdGUpfSkpKTtpdCgib25BZnRlclVwZGF0ZSIsW1gsdF0pfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe1guc2V0UHJvcHMoe2NvbnRlbnQ6dH0pfSxzaG93OmZ1bmN0aW9uKCl7dmFyIHQ9WC5zdGF0ZS5pc1Zpc2libGUsZT1YLnN0YXRlLmlzRGVzdHJveWVkLHI9IVguc3RhdGUuaXNFbmFibGVkLG89dy5pc1RvdWNoJiYhWC5wcm9wcy50b3VjaCxhPW4oWC5wcm9wcy5kdXJhdGlvbiwwLEwuZHVyYXRpb24pO2lmKHR8fGV8fHJ8fG8pcmV0dXJuO2lmKFooKS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpcmV0dXJuO2lmKGl0KCJvblNob3ciLFtYXSwhMSksITE9PT1YLnByb3BzLm9uU2hvdyhYKSlyZXR1cm47WC5zdGF0ZS5pc1Zpc2libGU9ITAsUSgpJiYoJC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIik7cnQoKSxmdCgpLFguc3RhdGUuaXNNb3VudGVkfHwoJC5zdHlsZS50cmFuc2l0aW9uPSJub25lIik7aWYoUSgpKXt2YXIgcz1ldCgpLGM9cy5ib3gscD1zLmNvbnRlbnQ7ZyhbYyxwXSwwKX14PWZ1bmN0aW9uKCl7aWYoWC5zdGF0ZS5pc1Zpc2libGUmJiFOKXtpZihOPSEwLCQub2Zmc2V0SGVpZ2h0LCQuc3R5bGUudHJhbnNpdGlvbj1YLnByb3BzLm1vdmVUcmFuc2l0aW9uLFEoKSYmWC5wcm9wcy5hbmltYXRpb24pe3ZhciB0PWV0KCksZT10LmJveCxuPXQuY29udGVudDtnKFtlLG5dLGEpLGgoW2Usbl0sInZpc2libGUiKX1vdCgpLGF0KCksdShILFgpLFguc3RhdGUuaXNNb3VudGVkPSEwLGl0KCJvbk1vdW50IixbWF0pLFgucHJvcHMuYW5pbWF0aW9uJiZRKCkmJmZ1bmN0aW9uKHQsZSl7ZHQodCxlKX0oYSwoZnVuY3Rpb24oKXtYLnN0YXRlLmlzU2hvd249ITAsaXQoIm9uU2hvd24iLFtYXSl9KSl9fSxmdW5jdGlvbigpe3ZhciB0LGU9WC5wcm9wcy5hcHBlbmRUbyxuPVooKTt0PVgucHJvcHMuaW50ZXJhY3RpdmUmJmU9PT1MLmFwcGVuZFRvfHwicGFyZW50Ij09PWU/bi5wYXJlbnROb2RlOmkoZSxbbl0pO3QuY29udGFpbnMoJCl8fHQuYXBwZW5kQ2hpbGQoJCk7VHQoKX0oKX0saGlkZTpmdW5jdGlvbigpe3ZhciB0PSFYLnN0YXRlLmlzVmlzaWJsZSxlPVguc3RhdGUuaXNEZXN0cm95ZWQscj0hWC5zdGF0ZS5pc0VuYWJsZWQsaT1uKFgucHJvcHMuZHVyYXRpb24sMSxMLmR1cmF0aW9uKTtpZih0fHxlfHxyKXJldHVybjtpZihpdCgib25IaWRlIixbWF0sITEpLCExPT09WC5wcm9wcy5vbkhpZGUoWCkpcmV0dXJuO1guc3RhdGUuaXNWaXNpYmxlPSExLFguc3RhdGUuaXNTaG93bj0hMSxOPSExLFA9ITEsUSgpJiYoJC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTtpZihzdCgpLGx0KCkscnQoKSxRKCkpe3ZhciBvPWV0KCksYT1vLmJveCxzPW8uY29udGVudDtYLnByb3BzLmFuaW1hdGlvbiYmKGcoW2Esc10saSksaChbYSxzXSwiaGlkZGVuIikpfW90KCksYXQoKSxYLnByb3BzLmFuaW1hdGlvbj9RKCkmJmZ1bmN0aW9uKHQsZSl7ZHQodCwoZnVuY3Rpb24oKXshWC5zdGF0ZS5pc1Zpc2libGUmJiQucGFyZW50Tm9kZSYmJC5wYXJlbnROb2RlLmNvbnRhaW5zKCQpJiZlKCl9KSl9KGksWC51bm1vdW50KTpYLnVubW91bnQoKX0saGlkZVdpdGhJbnRlcmFjdGl2aXR5OmZ1bmN0aW9uKHQpe3R0KCkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixfKSx1KEIsXyksXyh0KX0sZW5hYmxlOmZ1bmN0aW9uKCl7WC5zdGF0ZS5pc0VuYWJsZWQ9ITB9LGRpc2FibGU6ZnVuY3Rpb24oKXtYLmhpZGUoKSxYLnN0YXRlLmlzRW5hYmxlZD0hMX0sdW5tb3VudDpmdW5jdGlvbigpe1guc3RhdGUuaXNWaXNpYmxlJiZYLmhpZGUoKTtpZighWC5zdGF0ZS5pc01vdW50ZWQpcmV0dXJuO0N0KCkseHQoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0Ll90aXBweS51bm1vdW50KCl9KSksJC5wYXJlbnROb2RlJiYkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoJCk7SD1ILmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1YfSkpLFguc3RhdGUuaXNNb3VudGVkPSExLGl0KCJvbkhpZGRlbiIsW1hdKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKFguc3RhdGUuaXNEZXN0cm95ZWQpcmV0dXJuO1guY2xlYXJEZWxheVRpbWVvdXRzKCksWC51bm1vdW50KCksZ3QoKSxkZWxldGUgci5fdGlwcHksWC5zdGF0ZS5pc0Rlc3Ryb3llZD0hMCxpdCgib25EZXN0cm95IixbWF0pfX07aWYoIU0ucmVuZGVyKXJldHVybiBYO3ZhciBZPU0ucmVuZGVyKFgpLCQ9WS5wb3BwZXIscT1ZLm9uVXBkYXRlOyQuc2V0QXR0cmlidXRlKCJkYXRhLXRpcHB5LXJvb3QiLCIiKSwkLmlkPSJ0aXBweS0iK1guaWQsWC5wb3BwZXI9JCxyLl90aXBweT1YLCQuX3RpcHB5PVg7dmFyIHo9Vy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZuKFgpfSkpLEo9ci5oYXNBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiKTtyZXR1cm4gbXQoKSxhdCgpLHJ0KCksaXQoIm9uQ3JlYXRlIixbWF0pLE0uc2hvd09uQ3JlYXRlJiZBdCgpLCQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsKGZ1bmN0aW9uKCl7WC5wcm9wcy5pbnRlcmFjdGl2ZSYmWC5zdGF0ZS5pc1Zpc2libGUmJlguY2xlYXJEZWxheVRpbWVvdXRzKCl9KSksJC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwoZnVuY3Rpb24odCl7WC5wcm9wcy5pbnRlcmFjdGl2ZSYmWC5wcm9wcy50cmlnZ2VyLmluZGV4T2YoIm1vdXNlZW50ZXIiKT49MCYmKHR0KCkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixfKSxfKHQpKX0pKSxYO2Z1bmN0aW9uIEcoKXt2YXIgdD1YLnByb3BzLnRvdWNoO3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Q6W3QsMF19ZnVuY3Rpb24gSygpe3JldHVybiJob2xkIj09PUcoKVswXX1mdW5jdGlvbiBRKCl7dmFyIHQ7cmV0dXJuISEobnVsbD09KHQ9WC5wcm9wcy5yZW5kZXIpP3ZvaWQgMDp0LiQkdGlwcHkpfWZ1bmN0aW9uIFooKXtyZXR1cm4gQXx8cn1mdW5jdGlvbiB0dCgpe3ZhciB0PVooKS5wYXJlbnROb2RlO3JldHVybiB0P2IodCk6ZG9jdW1lbnR9ZnVuY3Rpb24gZXQoKXtyZXR1cm4gaigkKX1mdW5jdGlvbiBudCh0KXtyZXR1cm4gWC5zdGF0ZS5pc01vdW50ZWQmJiFYLnN0YXRlLmlzVmlzaWJsZXx8dy5pc1RvdWNofHxUJiYiZm9jdXMiPT09VC50eXBlPzA6bihYLnByb3BzLmRlbGF5LHQ/MDoxLEwuZGVsYXkpfWZ1bmN0aW9uIHJ0KCl7JC5zdHlsZS5wb2ludGVyRXZlbnRzPVgucHJvcHMuaW50ZXJhY3RpdmUmJlguc3RhdGUuaXNWaXNpYmxlPyIiOiJub25lIiwkLnN0eWxlLnpJbmRleD0iIitYLnByb3BzLnpJbmRleH1mdW5jdGlvbiBpdCh0LGUsbil7dmFyIHI7KHZvaWQgMD09PW4mJihuPSEwKSx6LmZvckVhY2goKGZ1bmN0aW9uKG4pe25bdF0mJm5bdF0uYXBwbHkodm9pZCAwLGUpfSkpLG4pJiYocj1YLnByb3BzKVt0XS5hcHBseShyLGUpfWZ1bmN0aW9uIG90KCl7dmFyIHQ9WC5wcm9wcy5hcmlhO2lmKHQuY29udGVudCl7dmFyIGU9ImFyaWEtIit0LmNvbnRlbnQsbj0kLmlkO3MoWC5wcm9wcy50cmlnZ2VyVGFyZ2V0fHxyKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LmdldEF0dHJpYnV0ZShlKTtpZihYLnN0YXRlLmlzVmlzaWJsZSl0LnNldEF0dHJpYnV0ZShlLHI/cisiICIrbjpuKTtlbHNle3ZhciBpPXImJnIucmVwbGFjZShuLCIiKS50cmltKCk7aT90LnNldEF0dHJpYnV0ZShlLGkpOnQucmVtb3ZlQXR0cmlidXRlKGUpfX0pKX19ZnVuY3Rpb24gYXQoKXshSiYmWC5wcm9wcy5hcmlhLmV4cGFuZGVkJiZzKFgucHJvcHMudHJpZ2dlclRhcmdldHx8cikuZm9yRWFjaCgoZnVuY3Rpb24odCl7WC5wcm9wcy5pbnRlcmFjdGl2ZT90LnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsWC5zdGF0ZS5pc1Zpc2libGUmJnQ9PT1aKCk/InRydWUiOiJmYWxzZSIpOnQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIil9KSl9ZnVuY3Rpb24gc3QoKXt0dCgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsXyksQj1CLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1ffSkpfWZ1bmN0aW9uIHV0KHQpe2lmKCEody5pc1RvdWNoJiYoSXx8Im1vdXNlZG93biI9PT10LnR5cGUpfHxYLnByb3BzLmludGVyYWN0aXZlJiYkLmNvbnRhaW5zKHQudGFyZ2V0KSkpe2lmKFooKS5jb250YWlucyh0LnRhcmdldCkpe2lmKHcuaXNUb3VjaClyZXR1cm47aWYoWC5zdGF0ZS5pc1Zpc2libGUmJlgucHJvcHMudHJpZ2dlci5pbmRleE9mKCJjbGljayIpPj0wKXJldHVybn1lbHNlIGl0KCJvbkNsaWNrT3V0c2lkZSIsW1gsdF0pOyEwPT09WC5wcm9wcy5oaWRlT25DbGljayYmKFguY2xlYXJEZWxheVRpbWVvdXRzKCksWC5oaWRlKCksVj0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe1Y9ITF9KSksWC5zdGF0ZS5pc01vdW50ZWR8fGx0KCkpfX1mdW5jdGlvbiBjdCgpe0k9ITB9ZnVuY3Rpb24gcHQoKXtJPSExfWZ1bmN0aW9uIGZ0KCl7dmFyIHQ9dHQoKTt0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdXQsITApLHQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLHV0LGUpLHQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIscHQsZSksdC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLGN0LGUpfWZ1bmN0aW9uIGx0KCl7dmFyIHQ9dHQoKTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdXQsITApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLHV0LGUpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIscHQsZSksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLGN0LGUpfWZ1bmN0aW9uIGR0KHQsZSl7dmFyIG49ZXQoKS5ib3g7ZnVuY3Rpb24gcih0KXt0LnRhcmdldD09PW4mJih5KG4sInJlbW92ZSIsciksZSgpKX1pZigwPT09dClyZXR1cm4gZSgpO3kobiwicmVtb3ZlIixDKSx5KG4sImFkZCIsciksQz1yfWZ1bmN0aW9uIHZ0KHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSkscyhYLnByb3BzLnRyaWdnZXJUYXJnZXR8fHIpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3IuYWRkRXZlbnRMaXN0ZW5lcih0LGUsbiksVS5wdXNoKHtub2RlOnIsZXZlbnRUeXBlOnQsaGFuZGxlcjplLG9wdGlvbnM6bn0pfSkpfWZ1bmN0aW9uIG10KCl7dmFyIHQ7SygpJiYodnQoInRvdWNoc3RhcnQiLGh0LHtwYXNzaXZlOiEwfSksdnQoInRvdWNoZW5kIix5dCx7cGFzc2l2ZTohMH0pKSwodD1YLnByb3BzLnRyaWdnZXIsdC5zcGxpdCgvXHMrLykuZmlsdGVyKEJvb2xlYW4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigibWFudWFsIiE9PXQpc3dpdGNoKHZ0KHQsaHQpLHQpe2Nhc2UibW91c2VlbnRlciI6dnQoIm1vdXNlbGVhdmUiLHl0KTticmVhaztjYXNlImZvY3VzIjp2dChPPyJmb2N1c291dCI6ImJsdXIiLHd0KTticmVhaztjYXNlImZvY3VzaW4iOnZ0KCJmb2N1c291dCIsd3QpfX0pKX1mdW5jdGlvbiBndCgpe1UuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlLG49dC5ldmVudFR5cGUscj10LmhhbmRsZXIsaT10Lm9wdGlvbnM7ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4scixpKX0pKSxVPVtdfWZ1bmN0aW9uIGh0KHQpe3ZhciBlLG49ITE7aWYoWC5zdGF0ZS5pc0VuYWJsZWQmJiFFdCh0KSYmIVYpe3ZhciByPSJmb2N1cyI9PT0obnVsbD09KGU9VCk/dm9pZCAwOmUudHlwZSk7VD10LEE9dC5jdXJyZW50VGFyZ2V0LGF0KCksIVguc3RhdGUuaXNWaXNpYmxlJiZkKHQpJiZCLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSkpLCJjbGljayI9PT10LnR5cGUmJihYLnByb3BzLnRyaWdnZXIuaW5kZXhPZigibW91c2VlbnRlciIpPDB8fFApJiYhMSE9PVgucHJvcHMuaGlkZU9uQ2xpY2smJlguc3RhdGUuaXNWaXNpYmxlP249ITA6QXQodCksImNsaWNrIj09PXQudHlwZSYmKFA9IW4pLG4mJiFyJiZPdCh0KX19ZnVuY3Rpb24gYnQodCl7dmFyIGU9dC50YXJnZXQsbj1aKCkuY29udGFpbnMoZSl8fCQuY29udGFpbnMoZSk7Im1vdXNlbW92ZSI9PT10LnR5cGUmJm58fGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jbGllbnRYLHI9ZS5jbGllbnRZO3JldHVybiB0LmV2ZXJ5KChmdW5jdGlvbih0KXt2YXIgZT10LnBvcHBlclJlY3QsaT10LnBvcHBlclN0YXRlLG89dC5wcm9wcy5pbnRlcmFjdGl2ZUJvcmRlcixhPWMoaS5wbGFjZW1lbnQpLHM9aS5tb2RpZmllcnNEYXRhLm9mZnNldDtpZighcylyZXR1cm4hMDt2YXIgdT0iYm90dG9tIj09PWE/cy50b3AueTowLHA9InRvcCI9PT1hP3MuYm90dG9tLnk6MCxmPSJyaWdodCI9PT1hP3MubGVmdC54OjAsbD0ibGVmdCI9PT1hP3MucmlnaHQueDowLGQ9ZS50b3Atcit1Pm8sdj1yLWUuYm90dG9tLXA+byxtPWUubGVmdC1uK2Y+byxnPW4tZS5yaWdodC1sPm87cmV0dXJuIGR8fHZ8fG18fGd9KSl9KHh0KCkuY29uY2F0KCQpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGUsbj1udWxsPT0oZT10Ll90aXBweS5wb3BwZXJJbnN0YW5jZSk/dm9pZCAwOmUuc3RhdGU7cmV0dXJuIG4/e3BvcHBlclJlY3Q6dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwb3BwZXJTdGF0ZTpuLHByb3BzOk19Om51bGx9KSkuZmlsdGVyKEJvb2xlYW4pLHQpJiYoc3QoKSxPdCh0KSl9ZnVuY3Rpb24geXQodCl7RXQodCl8fFgucHJvcHMudHJpZ2dlci5pbmRleE9mKCJjbGljayIpPj0wJiZQfHwoWC5wcm9wcy5pbnRlcmFjdGl2ZT9YLmhpZGVXaXRoSW50ZXJhY3Rpdml0eSh0KTpPdCh0KSl9ZnVuY3Rpb24gd3QodCl7WC5wcm9wcy50cmlnZ2VyLmluZGV4T2YoImZvY3VzaW4iKTwwJiZ0LnRhcmdldCE9PVooKXx8WC5wcm9wcy5pbnRlcmFjdGl2ZSYmdC5yZWxhdGVkVGFyZ2V0JiYkLmNvbnRhaW5zKHQucmVsYXRlZFRhcmdldCl8fE90KHQpfWZ1bmN0aW9uIEV0KHQpe3JldHVybiEhdy5pc1RvdWNoJiZLKCkhPT10LnR5cGUuaW5kZXhPZigidG91Y2giKT49MH1mdW5jdGlvbiBUdCgpe0N0KCk7dmFyIGU9WC5wcm9wcyxuPWUucG9wcGVyT3B0aW9ucyxpPWUucGxhY2VtZW50LG89ZS5vZmZzZXQsYT1lLmdldFJlZmVyZW5jZUNsaWVudFJlY3Qscz1lLm1vdmVUcmFuc2l0aW9uLHU9USgpP2ooJCkuYXJyb3c6bnVsbCxjPWE/e2dldEJvdW5kaW5nQ2xpZW50UmVjdDphLGNvbnRleHRFbGVtZW50OmEuY29udGV4dEVsZW1lbnR8fFooKX06cixwPVt7bmFtZToib2Zmc2V0IixvcHRpb25zOntvZmZzZXQ6b319LHtuYW1lOiJwcmV2ZW50T3ZlcmZsb3ciLG9wdGlvbnM6e3BhZGRpbmc6e3RvcDoyLGJvdHRvbToyLGxlZnQ6NSxyaWdodDo1fX19LHtuYW1lOiJmbGlwIixvcHRpb25zOntwYWRkaW5nOjV9fSx7bmFtZToiY29tcHV0ZVN0eWxlcyIsb3B0aW9uczp7YWRhcHRpdmU6IXN9fSx7bmFtZToiJCR0aXBweSIsZW5hYmxlZDohMCxwaGFzZToiYmVmb3JlV3JpdGUiLHJlcXVpcmVzOlsiY29tcHV0ZVN0eWxlcyJdLGZuOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGU7aWYoUSgpKXt2YXIgbj1ldCgpLmJveDtbInBsYWNlbWVudCIsInJlZmVyZW5jZS1oaWRkZW4iLCJlc2NhcGVkIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7InBsYWNlbWVudCI9PT10P24uc2V0QXR0cmlidXRlKCJkYXRhLXBsYWNlbWVudCIsZS5wbGFjZW1lbnQpOmUuYXR0cmlidXRlcy5wb3BwZXJbImRhdGEtcG9wcGVyLSIrdF0/bi5zZXRBdHRyaWJ1dGUoImRhdGEtIit0LCIiKTpuLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS0iK3QpfSkpLGUuYXR0cmlidXRlcy5wb3BwZXI9e319fX1dO1EoKSYmdSYmcC5wdXNoKHtuYW1lOiJhcnJvdyIsb3B0aW9uczp7ZWxlbWVudDp1LHBhZGRpbmc6M319KSxwLnB1c2guYXBwbHkocCwobnVsbD09bj92b2lkIDA6bi5tb2RpZmllcnMpfHxbXSksWC5wb3BwZXJJbnN0YW5jZT10LmNyZWF0ZVBvcHBlcihjLCQsT2JqZWN0LmFzc2lnbih7fSxuLHtwbGFjZW1lbnQ6aSxvbkZpcnN0VXBkYXRlOngsbW9kaWZpZXJzOnB9KSl9ZnVuY3Rpb24gQ3QoKXtYLnBvcHBlckluc3RhbmNlJiYoWC5wb3BwZXJJbnN0YW5jZS5kZXN0cm95KCksWC5wb3BwZXJJbnN0YW5jZT1udWxsKX1mdW5jdGlvbiB4dCgpe3JldHVybiBwKCQucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtdGlwcHktcm9vdF0iKSl9ZnVuY3Rpb24gQXQodCl7WC5jbGVhckRlbGF5VGltZW91dHMoKSx0JiZpdCgib25UcmlnZ2VyIixbWCx0XSksZnQoKTt2YXIgZT1udCghMCksbj1HKCkscj1uWzBdLGk9blsxXTt3LmlzVG91Y2gmJiJob2xkIj09PXImJmkmJihlPWkpLGU/dj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe1guc2hvdygpfSksZSk6WC5zaG93KCl9ZnVuY3Rpb24gT3QodCl7aWYoWC5jbGVhckRlbGF5VGltZW91dHMoKSxpdCgib25VbnRyaWdnZXIiLFtYLHRdKSxYLnN0YXRlLmlzVmlzaWJsZSl7aWYoIShYLnByb3BzLnRyaWdnZXIuaW5kZXhPZigibW91c2VlbnRlciIpPj0wJiZYLnByb3BzLnRyaWdnZXIuaW5kZXhPZigiY2xpY2siKT49MCYmWyJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIl0uaW5kZXhPZih0LnR5cGUpPj0wJiZQKSl7dmFyIGU9bnQoITEpO2U/bT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe1guc3RhdGUuaXNWaXNpYmxlJiZYLmhpZGUoKX0pLGUpOkU9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe1guaGlkZSgpfSkpfX1lbHNlIGx0KCl9fWZ1bmN0aW9uIFUodCxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9TC5wbHVnaW5zLmNvbmNhdChuLnBsdWdpbnN8fFtdKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IixULGUpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJibHVyIix4KTt2YXIgaT1PYmplY3QuYXNzaWduKHt9LG4se3BsdWdpbnM6cn0pLG89bSh0KS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSYmTihlLGkpO3JldHVybiBuJiZ0LnB1c2gobiksdH0pLFtdKTtyZXR1cm4gbCh0KT9vWzBdOm99VS5kZWZhdWx0UHJvcHM9TCxVLnNldERlZmF1bHRQcm9wcz1mdW5jdGlvbih0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtMW2VdPXRbZV19KSl9LFUuY3VycmVudElucHV0PXc7dmFyIF89e21vdXNlb3ZlcjoibW91c2VlbnRlciIsZm9jdXNpbjoiZm9jdXMiLGNsaWNrOiJjbGljayJ9O3ZhciBGPXtuYW1lOiJhbmltYXRlRmlsbCIsZGVmYXVsdFZhbHVlOiExLGZuOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCEobnVsbD09KGU9dC5wcm9wcy5yZW5kZXIpP3ZvaWQgMDplLiQkdGlwcHkpKXJldHVybnt9O3ZhciBuPWoodC5wb3BwZXIpLHI9bi5ib3gsaT1uLmNvbnRlbnQsbz10LnByb3BzLmFuaW1hdGVGaWxsP2Z1bmN0aW9uKCl7dmFyIHQ9ZigpO3JldHVybiB0LmNsYXNzTmFtZT0idGlwcHktYmFja2Ryb3AiLGgoW3RdLCJoaWRkZW4iKSx0fSgpOm51bGw7cmV0dXJue29uQ3JlYXRlOmZ1bmN0aW9uKCl7byYmKHIuaW5zZXJ0QmVmb3JlKG8sci5maXJzdEVsZW1lbnRDaGlsZCksci5zZXRBdHRyaWJ1dGUoImRhdGEtYW5pbWF0ZWZpbGwiLCIiKSxyLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLHQuc2V0UHJvcHMoe2Fycm93OiExLGFuaW1hdGlvbjoic2hpZnQtYXdheSJ9KSl9LG9uTW91bnQ6ZnVuY3Rpb24oKXtpZihvKXt2YXIgdD1yLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbixlPU51bWJlcih0LnJlcGxhY2UoIm1zIiwiIikpO2kuc3R5bGUudHJhbnNpdGlvbkRlbGF5PU1hdGgucm91bmQoZS8xMCkrIm1zIixvLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj10LGgoW29dLCJ2aXNpYmxlIil9fSxvblNob3c6ZnVuY3Rpb24oKXtvJiYoby5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249IjBtcyIpfSxvbkhpZGU6ZnVuY3Rpb24oKXtvJiZoKFtvXSwiaGlkZGVuIil9fX19O3ZhciBXPXtjbGllbnRYOjAsY2xpZW50WTowfSxYPVtdO2Z1bmN0aW9uIFkodCl7dmFyIGU9dC5jbGllbnRYLG49dC5jbGllbnRZO1c9e2NsaWVudFg6ZSxjbGllbnRZOm59fXZhciAkPXtuYW1lOiJmb2xsb3dDdXJzb3IiLGRlZmF1bHRWYWx1ZTohMSxmbjpmdW5jdGlvbih0KXt2YXIgZT10LnJlZmVyZW5jZSxuPWIodC5wcm9wcy50cmlnZ2VyVGFyZ2V0fHxlKSxyPSExLGk9ITEsbz0hMCxhPXQucHJvcHM7ZnVuY3Rpb24gcygpe3JldHVybiJpbml0aWFsIj09PXQucHJvcHMuZm9sbG93Q3Vyc29yJiZ0LnN0YXRlLmlzVmlzaWJsZX1mdW5jdGlvbiB1KCl7bi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGYpfWZ1bmN0aW9uIGMoKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsZil9ZnVuY3Rpb24gcCgpe3I9ITAsdC5zZXRQcm9wcyh7Z2V0UmVmZXJlbmNlQ2xpZW50UmVjdDpudWxsfSkscj0hMX1mdW5jdGlvbiBmKG4pe3ZhciByPSFuLnRhcmdldHx8ZS5jb250YWlucyhuLnRhcmdldCksaT10LnByb3BzLmZvbGxvd0N1cnNvcixvPW4uY2xpZW50WCxhPW4uY2xpZW50WSxzPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1vLXMubGVmdCxjPWEtcy50b3A7IXImJnQucHJvcHMuaW50ZXJhY3RpdmV8fHQuc2V0UHJvcHMoe2dldFJlZmVyZW5jZUNsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49byxyPWE7ImluaXRpYWwiPT09aSYmKG49dC5sZWZ0K3Uscj10LnRvcCtjKTt2YXIgcz0iaG9yaXpvbnRhbCI9PT1pP3QudG9wOnIscD0idmVydGljYWwiPT09aT90LnJpZ2h0Om4sZj0iaG9yaXpvbnRhbCI9PT1pP3QuYm90dG9tOnIsbD0idmVydGljYWwiPT09aT90LmxlZnQ6bjtyZXR1cm57d2lkdGg6cC1sLGhlaWdodDpmLXMsdG9wOnMscmlnaHQ6cCxib3R0b206ZixsZWZ0Omx9fX0pfWZ1bmN0aW9uIGwoKXt0LnByb3BzLmZvbGxvd0N1cnNvciYmKFgucHVzaCh7aW5zdGFuY2U6dCxkb2M6bn0pLGZ1bmN0aW9uKHQpe3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixZKX0obikpfWZ1bmN0aW9uIHYoKXswPT09KFg9WC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmluc3RhbmNlIT09dH0pKSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb2M9PT1ufSkpLmxlbmd0aCYmZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLFkpfShuKX1yZXR1cm57b25DcmVhdGU6bCxvbkRlc3Ryb3k6dixvbkJlZm9yZVVwZGF0ZTpmdW5jdGlvbigpe2E9dC5wcm9wc30sb25BZnRlclVwZGF0ZTpmdW5jdGlvbihlLG4pe3ZhciBvPW4uZm9sbG93Q3Vyc29yO3J8fHZvaWQgMCE9PW8mJmEuZm9sbG93Q3Vyc29yIT09byYmKHYoKSxvPyhsKCksIXQuc3RhdGUuaXNNb3VudGVkfHxpfHxzKCl8fHUoKSk6KGMoKSxwKCkpKX0sb25Nb3VudDpmdW5jdGlvbigpe3QucHJvcHMuZm9sbG93Q3Vyc29yJiYhaSYmKG8mJihmKFcpLG89ITEpLHMoKXx8dSgpKX0sb25UcmlnZ2VyOmZ1bmN0aW9uKHQsZSl7ZChlKSYmKFc9e2NsaWVudFg6ZS5jbGllbnRYLGNsaWVudFk6ZS5jbGllbnRZfSksaT0iZm9jdXMiPT09ZS50eXBlfSxvbkhpZGRlbjpmdW5jdGlvbigpe3QucHJvcHMuZm9sbG93Q3Vyc29yJiYocCgpLGMoKSxvPSEwKX19fX07dmFyIHE9e25hbWU6ImlubGluZVBvc2l0aW9uaW5nIixkZWZhdWx0VmFsdWU6ITEsZm46ZnVuY3Rpb24odCl7dmFyIGUsbj10LnJlZmVyZW5jZTt2YXIgcj0tMSxpPSExLG89e25hbWU6InRpcHB5SW5saW5lUG9zaXRpb25pbmciLGVuYWJsZWQ6ITAscGhhc2U6ImFmdGVyV3JpdGUiLGZuOmZ1bmN0aW9uKGkpe3ZhciBvPWkuc3RhdGU7dC5wcm9wcy5pbmxpbmVQb3NpdGlvbmluZyYmKGUhPT1vLnBsYWNlbWVudCYmdC5zZXRQcm9wcyh7Z2V0UmVmZXJlbmNlQ2xpZW50UmVjdDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7aWYobi5sZW5ndGg8Mnx8bnVsbD09PXQpcmV0dXJuIGU7aWYoMj09PW4ubGVuZ3RoJiZyPj0wJiZuWzBdLmxlZnQ+blsxXS5yaWdodClyZXR1cm4gbltyXXx8ZTtzd2l0Y2godCl7Y2FzZSJ0b3AiOmNhc2UiYm90dG9tIjp2YXIgaT1uWzBdLG89bltuLmxlbmd0aC0xXSxhPSJ0b3AiPT09dCxzPWkudG9wLHU9by5ib3R0b20sYz1hP2kubGVmdDpvLmxlZnQscD1hP2kucmlnaHQ6by5yaWdodDtyZXR1cm57dG9wOnMsYm90dG9tOnUsbGVmdDpjLHJpZ2h0OnAsd2lkdGg6cC1jLGhlaWdodDp1LXN9O2Nhc2UibGVmdCI6Y2FzZSJyaWdodCI6dmFyIGY9TWF0aC5taW4uYXBwbHkoTWF0aCxuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVmdH0pKSksbD1NYXRoLm1heC5hcHBseShNYXRoLG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yaWdodH0pKSksZD1uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImxlZnQiPT09dD9lLmxlZnQ9PT1mOmUucmlnaHQ9PT1sfSkpLHY9ZFswXS50b3AsbT1kW2QubGVuZ3RoLTFdLmJvdHRvbTtyZXR1cm57dG9wOnYsYm90dG9tOm0sbGVmdDpmLHJpZ2h0Omwsd2lkdGg6bC1mLGhlaWdodDptLXZ9O2RlZmF1bHQ6cmV0dXJuIGV9fShjKHQpLG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscChuLmdldENsaWVudFJlY3RzKCkpLHIpfShvLnBsYWNlbWVudCl9fSksZT1vLnBsYWNlbWVudCl9fTtmdW5jdGlvbiBhKCl7dmFyIGU7aXx8KGU9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm57cG9wcGVyT3B0aW9uczpPYmplY3QuYXNzaWduKHt9LHQucG9wcGVyT3B0aW9ucyx7bW9kaWZpZXJzOltdLmNvbmNhdCgoKG51bGw9PShuPXQucG9wcGVyT3B0aW9ucyk/dm9pZCAwOm4ubW9kaWZpZXJzKXx8W10pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZSE9PWUubmFtZX0pKSxbZV0pfSl9fSh0LnByb3BzLG8pLGk9ITAsdC5zZXRQcm9wcyhlKSxpPSExKX1yZXR1cm57b25DcmVhdGU6YSxvbkFmdGVyVXBkYXRlOmEsb25UcmlnZ2VyOmZ1bmN0aW9uKGUsbil7aWYoZChuKSl7dmFyIGk9cCh0LnJlZmVyZW5jZS5nZXRDbGllbnRSZWN0cygpKSxvPWkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVmdC0yPD1uLmNsaWVudFgmJnQucmlnaHQrMj49bi5jbGllbnRYJiZ0LnRvcC0yPD1uLmNsaWVudFkmJnQuYm90dG9tKzI+PW4uY2xpZW50WX0pKTtyPWkuaW5kZXhPZihvKX19LG9uVW50cmlnZ2VyOmZ1bmN0aW9uKCl7cj0tMX19fX07dmFyIHo9e25hbWU6InN0aWNreSIsZGVmYXVsdFZhbHVlOiExLGZuOmZ1bmN0aW9uKHQpe3ZhciBlPXQucmVmZXJlbmNlLG49dC5wb3BwZXI7ZnVuY3Rpb24gcihlKXtyZXR1cm4hMD09PXQucHJvcHMuc3RpY2t5fHx0LnByb3BzLnN0aWNreT09PWV9dmFyIGk9bnVsbCxvPW51bGw7ZnVuY3Rpb24gYSgpe3ZhciBzPXIoInJlZmVyZW5jZSIpPyh0LnBvcHBlckluc3RhbmNlP3QucG9wcGVySW5zdGFuY2Uuc3RhdGUuZWxlbWVudHMucmVmZXJlbmNlOmUpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGwsdT1yKCJwb3BwZXIiKT9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGw7KHMmJkooaSxzKXx8dSYmSihvLHUpKSYmdC5wb3BwZXJJbnN0YW5jZSYmdC5wb3BwZXJJbnN0YW5jZS51cGRhdGUoKSxpPXMsbz11LHQuc3RhdGUuaXNNb3VudGVkJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9cmV0dXJue29uTW91bnQ6ZnVuY3Rpb24oKXt0LnByb3BzLnN0aWNreSYmYSgpfX19fTtmdW5jdGlvbiBKKHQsZSl7cmV0dXJuIXR8fCFlfHwodC50b3AhPT1lLnRvcHx8dC5yaWdodCE9PWUucmlnaHR8fHQuYm90dG9tIT09ZS5ib3R0b218fHQubGVmdCE9PWUubGVmdCl9cmV0dXJuIFUuc2V0RGVmYXVsdFByb3BzKHtwbHVnaW5zOltGLCQscSx6XSxyZW5kZXI6SX0pLFUuY3JlYXRlU2luZ2xldG9uPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuLHI9dCxpPVtdLG89ZS5vdmVycmlkZXMscz1bXTtmdW5jdGlvbiB1KCl7aT1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVmZXJlbmNlfSkpfWZ1bmN0aW9uIGModCl7ci5mb3JFYWNoKChmdW5jdGlvbihlKXt0P2UuZW5hYmxlKCk6ZS5kaXNhYmxlKCl9KSl9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gci5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUuc2V0UHJvcHM7cmV0dXJuIGUuc2V0UHJvcHM9ZnVuY3Rpb24oaSl7cihpKSxlLnJlZmVyZW5jZT09PW4mJnQuc2V0UHJvcHMoaSl9LGZ1bmN0aW9uKCl7ZS5zZXRQcm9wcz1yfX0pKX1jKCExKSx1KCk7dmFyIGw9e2ZuOmZ1bmN0aW9uKCl7cmV0dXJue29uRGVzdHJveTpmdW5jdGlvbigpe2MoITApfSxvblRyaWdnZXI6ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmN1cnJlbnRUYXJnZXQscz1pLmluZGV4T2YoYSk7aWYoYSE9PW4pe249YTt2YXIgdT0ob3x8W10pLmNvbmNhdCgiY29udGVudCIpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXT1yW3NdLnByb3BzW2VdLHR9KSx7fSk7dC5zZXRQcm9wcyhPYmplY3QuYXNzaWduKHt9LHUse2dldFJlZmVyZW5jZUNsaWVudFJlY3Q6ImZ1bmN0aW9uIj09dHlwZW9mIHUuZ2V0UmVmZXJlbmNlQ2xpZW50UmVjdD91LmdldFJlZmVyZW5jZUNsaWVudFJlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX19KSl9fX19fSxkPVUoZigpLE9iamVjdC5hc3NpZ24oe30sYShlLFsib3ZlcnJpZGVzIl0pLHtwbHVnaW5zOltsXS5jb25jYXQoZS5wbHVnaW5zfHxbXSksdHJpZ2dlclRhcmdldDppfSkpLHY9ZC5zZXRQcm9wcztyZXR1cm4gZC5zZXRQcm9wcz1mdW5jdGlvbih0KXtvPXQub3ZlcnJpZGVzfHxvLHYodCl9LGQuc2V0SW5zdGFuY2VzPWZ1bmN0aW9uKHQpe2MoITApLHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pKSxyPXQsYyghMSksdSgpLHAoZCksZC5zZXRQcm9wcyh7dHJpZ2dlclRhcmdldDppfSl9LHM9cChkKSxkfSxVLmRlbGVnYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49W10scj1bXSxpPSExLG89ZS50YXJnZXQsdT1hKGUsWyJ0YXJnZXQiXSksYz1PYmplY3QuYXNzaWduKHt9LHUse3RyaWdnZXI6Im1hbnVhbCIsdG91Y2g6ITF9KSxwPU9iamVjdC5hc3NpZ24oe30sdSx7c2hvd09uQ3JlYXRlOiEwfSksZj1VKHQsYyk7ZnVuY3Rpb24gbCh0KXtpZih0LnRhcmdldCYmIWkpe3ZhciBuPXQudGFyZ2V0LmNsb3Nlc3Qobyk7aWYobil7dmFyIGE9bi5nZXRBdHRyaWJ1dGUoImRhdGEtdGlwcHktdHJpZ2dlciIpfHxlLnRyaWdnZXJ8fEwudHJpZ2dlcjtpZighbi5fdGlwcHkmJiEoInRvdWNoc3RhcnQiPT09dC50eXBlJiYiYm9vbGVhbiI9PXR5cGVvZiBwLnRvdWNofHwidG91Y2hzdGFydCIhPT10LnR5cGUmJmEuaW5kZXhPZihfW3QudHlwZV0pPDApKXt2YXIgcz1VKG4scCk7cyYmKHI9ci5jb25jYXQocykpfX19fWZ1bmN0aW9uIGQodCxlLHIsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihlLHIsaSksbi5wdXNoKHtub2RlOnQsZXZlbnRUeXBlOmUsaGFuZGxlcjpyLG9wdGlvbnM6aX0pfXJldHVybiBzKGYpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVzdHJveSxvPXQuZW5hYmxlLGE9dC5kaXNhYmxlO3QuZGVzdHJveT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCksdCYmci5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmRlc3Ryb3koKX0pKSxyPVtdLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlLG49dC5ldmVudFR5cGUscj10LmhhbmRsZXIsaT10Lm9wdGlvbnM7ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4scixpKX0pKSxuPVtdLGUoKX0sdC5lbmFibGU9ZnVuY3Rpb24oKXtvKCksci5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lbmFibGUoKX0pKSxpPSExfSx0LmRpc2FibGU9ZnVuY3Rpb24oKXthKCksci5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kaXNhYmxlKCl9KSksaT0hMH0sZnVuY3Rpb24odCl7dmFyIGU9dC5yZWZlcmVuY2U7ZChlLCJ0b3VjaHN0YXJ0IixsKSxkKGUsIm1vdXNlb3ZlciIsbCksZChlLCJmb2N1c2luIixsKSxkKGUsImNsaWNrIixsKX0odCl9KSksZn0sVS5oaWRlQWxsPWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMD09PXQ/e306dCxuPWUuZXhjbHVkZSxyPWUuZHVyYXRpb247SC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT0hMTtpZihuJiYoZT12KG4pP3QucmVmZXJlbmNlPT09bjp0LnBvcHBlcj09PW4ucG9wcGVyKSwhZSl7dmFyIGk9dC5wcm9wcy5kdXJhdGlvbjt0LnNldFByb3BzKHtkdXJhdGlvbjpyfSksdC5oaWRlKCksdC5zdGF0ZS5pc0Rlc3Ryb3llZHx8dC5zZXRQcm9wcyh7ZHVyYXRpb246aX0pfX0pKX0sVS5yb3VuZEFycm93PSc8c3ZnIHdpZHRoPSIxNiIgaGVpZ2h0PSI2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDZzMS43OTYtLjAxMyA0LjY3LTMuNjE1QzUuODUxLjkgNi45My4wMDYgOCAwYzEuMDctLjAwNiAyLjE0OC44ODcgMy4zNDMgMi4zODVDMTQuMjMzIDYuMDA1IDE2IDYgMTYgNkgweiI+PC9zdmc+JyxVfSkpOwovLyMgc291cmNlTWFwcGluZ1VSTD10aXBweS51bWQubWluLmpzLm1hcAo="></script>
  <script src="data:application/javascript;base64,Ly8gQGxpY2Vuc2UgbWFnbmV0Oj94dD11cm46YnRpaDpkM2Q5YTlhNjU5NTUyMWY5NjY2YTVlOTRjYzgzMGRhYjgzYjY1Njk5JmRuPWV4cGF0LnR4dCBFeHBhdAovLwovLyBBbmNob3JKUyAtIHY0LjIuMiAtIDIwMTktMTEtMTQKLy8gaHR0cHM6Ly93d3cuYnJ5YW5icmF1bi5jb20vYW5jaG9yanMvCi8vIENvcHlyaWdodCAoYykgMjAxOSBCcnlhbiBCcmF1bjsgTGljZW5zZWQgTUlUCi8vCi8vIEBsaWNlbnNlIG1hZ25ldDo/eHQ9dXJuOmJ0aWg6ZDNkOWE5YTY1OTU1MjFmOTY2NmE1ZTk0Y2M4MzBkYWI4M2I2NTY5OSZkbj1leHBhdC50eHQgRXhwYXQKIWZ1bmN0aW9uKEEsZSl7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6KEEuQW5jaG9ySlM9ZSgpLEEuYW5jaG9ycz1uZXcgQS5BbmNob3JKUyl9KHRoaXMsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7cmV0dXJuIGZ1bmN0aW9uKEEpe2Z1bmN0aW9uIGYoQSl7QS5pY29uPUEuaGFzT3duUHJvcGVydHkoImljb24iKT9BLmljb246Iu6niyIsQS52aXNpYmxlPUEuaGFzT3duUHJvcGVydHkoInZpc2libGUiKT9BLnZpc2libGU6ImhvdmVyIixBLnBsYWNlbWVudD1BLmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKT9BLnBsYWNlbWVudDoicmlnaHQiLEEuYXJpYUxhYmVsPUEuaGFzT3duUHJvcGVydHkoImFyaWFMYWJlbCIpP0EuYXJpYUxhYmVsOiJBbmNob3IiLEEuY2xhc3M9QS5oYXNPd25Qcm9wZXJ0eSgiY2xhc3MiKT9BLmNsYXNzOiIiLEEuYmFzZT1BLmhhc093blByb3BlcnR5KCJiYXNlIik/QS5iYXNlOiIiLEEudHJ1bmNhdGU9QS5oYXNPd25Qcm9wZXJ0eSgidHJ1bmNhdGUiKT9NYXRoLmZsb29yKEEudHJ1bmNhdGUpOjY0LEEudGl0bGVUZXh0PUEuaGFzT3duUHJvcGVydHkoInRpdGxlVGV4dCIpP0EudGl0bGVUZXh0OiIifWZ1bmN0aW9uIHAoQSl7dmFyIGU7aWYoInN0cmluZyI9PXR5cGVvZiBBfHxBIGluc3RhbmNlb2YgU3RyaW5nKWU9W10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEEpKTtlbHNle2lmKCEoQXJyYXkuaXNBcnJheShBKXx8QSBpbnN0YW5jZW9mIE5vZGVMaXN0KSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzZWxlY3RvciBwcm92aWRlZCB0byBBbmNob3JKUyB3YXMgaW52YWxpZC4iKTtlPVtdLnNsaWNlLmNhbGwoQSl9cmV0dXJuIGV9dGhpcy5vcHRpb25zPUF8fHt9LHRoaXMuZWxlbWVudHM9W10sZih0aGlzLm9wdGlvbnMpLHRoaXMuaXNUb3VjaERldmljZT1mdW5jdGlvbigpe3JldHVybiEhKCJvbnRvdWNoc3RhcnQiaW4gd2luZG93fHx3aW5kb3cuRG9jdW1lbnRUb3VjaCYmZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoKX0sdGhpcy5hZGQ9ZnVuY3Rpb24oQSl7dmFyIGUsdCxpLG4sbyxzLGEscixjLGgsbCx1LGQ9W107aWYoZih0aGlzLm9wdGlvbnMpLCJ0b3VjaCI9PT0obD10aGlzLm9wdGlvbnMudmlzaWJsZSkmJihsPXRoaXMuaXNUb3VjaERldmljZSgpPyJhbHdheXMiOiJob3ZlciIpLDA9PT0oZT1wKEE9QXx8ImgyLCBoMywgaDQsIGg1LCBoNiIpKS5sZW5ndGgpcmV0dXJuIHRoaXM7Zm9yKCFmdW5jdGlvbigpe2lmKG51bGwhPT1kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoInN0eWxlLmFuY2hvcmpzIikpcmV0dXJuO3ZhciBBLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLmNsYXNzTmFtZT0iYW5jaG9yanMiLGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSx2b2lkIDA9PT0oQT1kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ1tyZWw9InN0eWxlc2hlZXQiXSwgc3R5bGUnKSk/ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKTpkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShlLEEpO2Uuc2hlZXQuaW5zZXJ0UnVsZSgiIC5hbmNob3Jqcy1saW5rIHsgICBvcGFjaXR5OiAwOyAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOyB9IixlLnNoZWV0LmNzc1J1bGVzLmxlbmd0aCksZS5zaGVldC5pbnNlcnRSdWxlKCIgKjpob3ZlciA+IC5hbmNob3Jqcy1saW5rLCAuYW5jaG9yanMtbGluazpmb2N1cyAgeyAgIG9wYWNpdHk6IDE7IH0iLGUuc2hlZXQuY3NzUnVsZXMubGVuZ3RoKSxlLnNoZWV0Lmluc2VydFJ1bGUoIiBbZGF0YS1hbmNob3Jqcy1pY29uXTo6YWZ0ZXIgeyAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1hbmNob3Jqcy1pY29uKTsgfSIsZS5zaGVldC5jc3NSdWxlcy5sZW5ndGgpLGUuc2hlZXQuaW5zZXJ0UnVsZSgnIEBmb250LWZhY2UgeyAgIGZvbnQtZmFtaWx5OiAiYW5jaG9yanMtaWNvbnMiOyAgIHNyYzogdXJsKGRhdGE6bi9hO2Jhc2U2NCxBQUVBQUFBTEFJQUFBd0F3VDFNdk1nOHlHMmNBQUFFNEFBQUFZR050WVhEcDNnQzNBQUFCcEFBQUFFeG5ZWE53QUFBQUVBQUFBOXdBQUFBSVoyeDVabFFDY2Z3QUFBSDRBQUFCQ0dobFlXUUhGdkh5QUFBQXZBQUFBRFpvYUdWaEJuQUNGd0FBQVBRQUFBQWthRzEwZUFTQUFERUFBQUdZQUFBQURHeHZZMkVBQ0FDRUFBQUI4QUFBQUFodFlYaHdBQVlBVndBQUFSZ0FBQUFnYm1GdFpRR09IOWNBQUFNQUFBQUF1bkJ2YzNRQUF3QUFBQUFEdkFBQUFDQUFBUUFBQUFFQUFIekUycDlmRHp6MUFBa0VBQUFBQUFEUmVjVVdBQUFBQU5RQTZSOEFBQUFBQW9BQ3dBQUFBQWdBQWdBQUFBQUFBQUFCQUFBRHdQL0FBQUFDZ0FBQS85TUNyUUFCQUFBQUFBQUFBQUFBQUFBQUFBQUFBd0FCQUFBQUF3QlZBQUlBQUFBQUFBSUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBTUNRQUdRQUFVQUFBS1pBc3dBQUFDUEFwa0N6QUFBQWVzQU13RUpBQUFBQUFBQUFBQUFBQUFBQUFBQUFSQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVFBQWcvLzBEd1AvQUFFQUR3QUJBQUFBQUFRQUFBQUFBQUFBQUFBQUFJQUFBQUFBQUFBSUFBQUFDZ0FBeEFBQUFBd0FBQUFNQUFBQWNBQUVBQXdBQUFCd0FBd0FCQUFBQUhBQUVBREFBQUFBSUFBZ0FBZ0FBQUNEcHkvLzkvLzhBQUFBZzZjdi8vZi8vLytFV053QURBQUVBQUFBQUFBQUFBQUFBQUFBQUNBQ0VBQUVBQUFBQUFBQUFBQUFBQUFBeEFBQUNBQVFBUkFLQUFzQUFLd0JVQUFBQklpWW5KalEzTnpZMk16SVdGeFlVQndjR0lpY21ORGMzTmpRbkppWWpJZ1lIQndZVUZ4WVVCd1lHSXdjaUppY21ORGMzTmpJWEZoUUhCd1lVRnhZV016STJOemMyTkNjbU5EYzJNaGNXRkFjSEJnWWpBUlFHREFVdExYb1dPUjhmT1JZdExUZ0tHd29LQ2pnYUdnMGdFaElnRFhvYUdna0pCUXdIZFI4NUZpMHRPQW9iQ2dvS09Cb2FEU0FTRWlBTmVob2FDUWtLR3dvdExYb1dPUjhCTXdVRkxZRXVlaFlYRnhZdWdDNDRDUWtLR3dvNEdrb2FEUTBORFhvYVNob0tHd29GQmU4WEZpNkFMamdKQ1FvYkNqZ2FTaG9ORFEwTmVocEtHZ29iQ2dvS0xZRXVlaFlYQUFBQURBQ1dBQUVBQUFBQUFBRUFDQUFBQUFFQUFBQUFBQUlBQXdBSUFBRUFBQUFBQUFNQUNBQUFBQUVBQUFBQUFBUUFDQUFBQUFFQUFBQUFBQVVBQVFBTEFBRUFBQUFBQUFZQUNBQUFBQU1BQVFRSkFBRUFFQUFNQUFNQUFRUUpBQUlBQmdBY0FBTUFBUVFKQUFNQUVBQU1BQU1BQVFRSkFBUUFFQUFNQUFNQUFRUUpBQVVBQWdBaUFBTUFBUVFKQUFZQUVBQU1ZVzVqYUc5eWFuTTBNREJBQUdFQWJnQmpBR2dBYndCeUFHb0Fjd0EwQURBQU1BQkFBQUFBQXdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUgvL3dBUCkgZm9ybWF0KCJ0cnVldHlwZSIpOyB9JyxlLnNoZWV0LmNzc1J1bGVzLmxlbmd0aCl9KCksdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbaWRdIiksaT1bXS5tYXAuY2FsbCh0LGZ1bmN0aW9uKEEpe3JldHVybiBBLmlkfSksbz0wO288ZS5sZW5ndGg7bysrKWlmKHRoaXMuaGFzQW5jaG9ySlNMaW5rKGVbb10pKWQucHVzaChvKTtlbHNle2lmKGVbb10uaGFzQXR0cmlidXRlKCJpZCIpKW49ZVtvXS5nZXRBdHRyaWJ1dGUoImlkIik7ZWxzZSBpZihlW29dLmhhc0F0dHJpYnV0ZSgiZGF0YS1hbmNob3ItaWQiKSluPWVbb10uZ2V0QXR0cmlidXRlKCJkYXRhLWFuY2hvci1pZCIpO2Vsc2V7Zm9yKGM9cj10aGlzLnVybGlmeShlW29dLnRleHRDb250ZW50KSxhPTA7dm9pZCAwIT09cyYmKGM9cisiLSIrYSksYSs9MSwtMSE9PShzPWkuaW5kZXhPZihjKSk7KTtzPXZvaWQgMCxpLnB1c2goYyksZVtvXS5zZXRBdHRyaWJ1dGUoImlkIixjKSxuPWN9KGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5jbGFzc05hbWU9ImFuY2hvcmpzLWxpbmsgIit0aGlzLm9wdGlvbnMuY2xhc3MsaC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHRoaXMub3B0aW9ucy5hcmlhTGFiZWwpLGguc2V0QXR0cmlidXRlKCJkYXRhLWFuY2hvcmpzLWljb24iLHRoaXMub3B0aW9ucy5pY29uKSx0aGlzLm9wdGlvbnMudGl0bGVUZXh0JiYoaC50aXRsZT10aGlzLm9wdGlvbnMudGl0bGVUZXh0KSx1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJhc2UiKT93aW5kb3cubG9jYXRpb24ucGF0aG5hbWUrd2luZG93LmxvY2F0aW9uLnNlYXJjaDoiIix1PXRoaXMub3B0aW9ucy5iYXNlfHx1LGguaHJlZj11KyIjIituLCJhbHdheXMiPT09bCYmKGguc3R5bGUub3BhY2l0eT0iMSIpLCLup4siPT09dGhpcy5vcHRpb25zLmljb24mJihoLnN0eWxlLmZvbnQ9IjFlbS8xIGFuY2hvcmpzLWljb25zIiwibGVmdCI9PT10aGlzLm9wdGlvbnMucGxhY2VtZW50JiYoaC5zdHlsZS5saW5lSGVpZ2h0PSJpbmhlcml0IikpLCJsZWZ0Ij09PXRoaXMub3B0aW9ucy5wbGFjZW1lbnQ/KGguc3R5bGUucG9zaXRpb249ImFic29sdXRlIixoLnN0eWxlLm1hcmdpbkxlZnQ9Ii0xZW0iLGguc3R5bGUucGFkZGluZ1JpZ2h0PSIwLjVlbSIsZVtvXS5pbnNlcnRCZWZvcmUoaCxlW29dLmZpcnN0Q2hpbGQpKTooaC5zdHlsZS5wYWRkaW5nTGVmdD0iMC4zNzVlbSIsZVtvXS5hcHBlbmRDaGlsZChoKSl9Zm9yKG89MDtvPGQubGVuZ3RoO28rKyllLnNwbGljZShkW29dLW8sMSk7cmV0dXJuIHRoaXMuZWxlbWVudHM9dGhpcy5lbGVtZW50cy5jb25jYXQoZSksdGhpc30sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oQSl7Zm9yKHZhciBlLHQsaT1wKEEpLG49MDtuPGkubGVuZ3RoO24rKykodD1pW25dLnF1ZXJ5U2VsZWN0b3IoIi5hbmNob3Jqcy1saW5rIikpJiYoLTEhPT0oZT10aGlzLmVsZW1lbnRzLmluZGV4T2YoaVtuXSkpJiZ0aGlzLmVsZW1lbnRzLnNwbGljZShlLDEpLGlbbl0ucmVtb3ZlQ2hpbGQodCkpO3JldHVybiB0aGlzfSx0aGlzLnJlbW92ZUFsbD1mdW5jdGlvbigpe3RoaXMucmVtb3ZlKHRoaXMuZWxlbWVudHMpfSx0aGlzLnVybGlmeT1mdW5jdGlvbihBKXtyZXR1cm4gdGhpcy5vcHRpb25zLnRydW5jYXRlfHxmKHRoaXMub3B0aW9ucyksQS50cmltKCkucmVwbGFjZSgvXCcvZ2ksIiIpLnJlcGxhY2UoL1smICskLDo7PT9AIiN7fXxefltgJSEnPD5cXVwuXC9cKFwpXCpcXFxuXHRcYlx2XS9nLCItIikucmVwbGFjZSgvLXsyLH0vZywiLSIpLnN1YnN0cmluZygwLHRoaXMub3B0aW9ucy50cnVuY2F0ZSkucmVwbGFjZSgvXi0rfC0rJC9nbSwiIikudG9Mb3dlckNhc2UoKX0sdGhpcy5oYXNBbmNob3JKU0xpbms9ZnVuY3Rpb24oQSl7dmFyIGU9QS5maXJzdENoaWxkJiYtMTwoIiAiK0EuZmlyc3RDaGlsZC5jbGFzc05hbWUrIiAiKS5pbmRleE9mKCIgYW5jaG9yanMtbGluayAiKSx0PUEubGFzdENoaWxkJiYtMTwoIiAiK0EubGFzdENoaWxkLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiBhbmNob3Jqcy1saW5rICIpO3JldHVybiBlfHx0fHwhMX19fSk7Ci8vIEBsaWNlbnNlLWVuZA=="></script>
  <script src="data:application/javascript;base64,LyohCiAqIEJvd3NlciAtIGEgYnJvd3NlciBkZXRlY3RvcgogKiBodHRwczovL2dpdGh1Yi5jb20vZGVkL2Jvd3NlcgogKiBNSVQgTGljZW5zZSB8IChjKSBEdXN0aW4gRGlheiAyMDE1CiAqLwohZnVuY3Rpb24oZSx0LG4pe3R5cGVvZiBtb2R1bGUhPSJ1bmRlZmluZWQiJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKCk6dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZD9kZWZpbmUodCxuKTplW3RdPW4oKX0odGhpcywiYm93c2VyIixmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7ZnVuY3Rpb24gbihlKXt2YXIgbj10Lm1hdGNoKGUpO3JldHVybiBuJiZuLmxlbmd0aD4xJiZuWzFdfHwiIn1mdW5jdGlvbiByKGUpe3ZhciBuPXQubWF0Y2goZSk7cmV0dXJuIG4mJm4ubGVuZ3RoPjEmJm5bMl18fCIifWZ1bmN0aW9uIE4oZSl7c3dpdGNoKGUpe2Nhc2UiTlQiOnJldHVybiJOVCI7Y2FzZSJYUCI6cmV0dXJuIlhQIjtjYXNlIk5UIDUuMCI6cmV0dXJuIjIwMDAiO2Nhc2UiTlQgNS4xIjpyZXR1cm4iWFAiO2Nhc2UiTlQgNS4yIjpyZXR1cm4iMjAwMyI7Y2FzZSJOVCA2LjAiOnJldHVybiJWaXN0YSI7Y2FzZSJOVCA2LjEiOnJldHVybiI3IjtjYXNlIk5UIDYuMiI6cmV0dXJuIjgiO2Nhc2UiTlQgNi4zIjpyZXR1cm4iOC4xIjtjYXNlIk5UIDEwLjAiOnJldHVybiIxMCI7ZGVmYXVsdDpyZXR1cm4gdW5kZWZpbmVkfX12YXIgaT1uKC8oaXBvZHxpcGhvbmV8aXBhZCkvaSkudG9Mb3dlckNhc2UoKSxzPS9saWtlIGFuZHJvaWQvaS50ZXN0KHQpLG89IXMmJi9hbmRyb2lkL2kudGVzdCh0KSx1PS9uZXh1c1xzKlswLTZdXHMqL2kudGVzdCh0KSxhPSF1JiYvbmV4dXNccypbMC05XSsvaS50ZXN0KHQpLGY9L0NyT1MvLnRlc3QodCksbD0vc2lsay9pLnRlc3QodCksYz0vc2FpbGZpc2gvaS50ZXN0KHQpLGg9L3RpemVuL2kudGVzdCh0KSxwPS8od2VifGhwdylvcy9pLnRlc3QodCksZD0vd2luZG93cyBwaG9uZS9pLnRlc3QodCksdj0vU2Ftc3VuZ0Jyb3dzZXIvaS50ZXN0KHQpLG09IWQmJi93aW5kb3dzL2kudGVzdCh0KSxnPSFpJiYhbCYmL21hY2ludG9zaC9pLnRlc3QodCkseT0hbyYmIWMmJiFoJiYhcCYmL2xpbnV4L2kudGVzdCh0KSxiPXIoL2VkZyhbZWFdfGlvcylcLyhcZCsoXC5cZCspPykvaSksdz1uKC92ZXJzaW9uXC8oXGQrKFwuXGQrKT8pL2kpLEU9L3RhYmxldC9pLnRlc3QodCkmJiEvdGFibGV0IHBjL2kudGVzdCh0KSxTPSFFJiYvW14tXW1vYmkvaS50ZXN0KHQpLHg9L3hib3gvaS50ZXN0KHQpLFQ7L29wZXJhL2kudGVzdCh0KT9UPXtuYW1lOiJPcGVyYSIsb3BlcmE6ZSx2ZXJzaW9uOnd8fG4oLyg/Om9wZXJhfG9wcnxvcGlvcylbXHNcL10oXGQrKFwuXGQrKT8pL2kpfTovb3ByXC98b3Bpb3MvaS50ZXN0KHQpP1Q9e25hbWU6Ik9wZXJhIixvcGVyYTplLHZlcnNpb246bigvKD86b3ByfG9waW9zKVtcc1wvXShcZCsoXC5cZCspPykvaSl8fHd9Oi9TYW1zdW5nQnJvd3Nlci9pLnRlc3QodCk/VD17bmFtZToiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZCIsc2Ftc3VuZ0Jyb3dzZXI6ZSx2ZXJzaW9uOnd8fG4oLyg/OlNhbXN1bmdCcm93c2VyKVtcc1wvXShcZCsoXC5cZCspPykvaSl9Oi9jb2FzdC9pLnRlc3QodCk/VD17bmFtZToiT3BlcmEgQ29hc3QiLGNvYXN0OmUsdmVyc2lvbjp3fHxuKC8oPzpjb2FzdClbXHNcL10oXGQrKFwuXGQrKT8pL2kpfToveWFicm93c2VyL2kudGVzdCh0KT9UPXtuYW1lOiJZYW5kZXggQnJvd3NlciIseWFuZGV4YnJvd3NlcjplLHZlcnNpb246d3x8bigvKD86eWFicm93c2VyKVtcc1wvXShcZCsoXC5cZCspPykvaSl9Oi91Y2Jyb3dzZXIvaS50ZXN0KHQpP1Q9e25hbWU6IlVDIEJyb3dzZXIiLHVjYnJvd3NlcjplLHZlcnNpb246bigvKD86dWNicm93c2VyKVtcc1wvXShcZCsoPzpcLlxkKykrKS9pKX06L214aW9zL2kudGVzdCh0KT9UPXtuYW1lOiJNYXh0aG9uIixtYXh0aG9uOmUsdmVyc2lvbjpuKC8oPzpteGlvcylbXHNcL10oXGQrKD86XC5cZCspKykvaSl9Oi9lcGlwaGFueS9pLnRlc3QodCk/VD17bmFtZToiRXBpcGhhbnkiLGVwaXBoYW55OmUsdmVyc2lvbjpuKC8oPzplcGlwaGFueSlbXHNcL10oXGQrKD86XC5cZCspKykvaSl9Oi9wdWZmaW4vaS50ZXN0KHQpP1Q9e25hbWU6IlB1ZmZpbiIscHVmZmluOmUsdmVyc2lvbjpuKC8oPzpwdWZmaW4pW1xzXC9dKFxkKyg/OlwuXGQrKT8pL2kpfTovc2xlaXBuaXIvaS50ZXN0KHQpP1Q9e25hbWU6IlNsZWlwbmlyIixzbGVpcG5pcjplLHZlcnNpb246bigvKD86c2xlaXBuaXIpW1xzXC9dKFxkKyg/OlwuXGQrKSspL2kpfTovay1tZWxlb24vaS50ZXN0KHQpP1Q9e25hbWU6IkstTWVsZW9uIixrTWVsZW9uOmUsdmVyc2lvbjpuKC8oPzprLW1lbGVvbilbXHNcL10oXGQrKD86XC5cZCspKykvaSl9OmQ/KFQ9e25hbWU6IldpbmRvd3MgUGhvbmUiLG9zbmFtZToiV2luZG93cyBQaG9uZSIsd2luZG93c3Bob25lOmV9LGI/KFQubXNlZGdlPWUsVC52ZXJzaW9uPWIpOihULm1zaWU9ZSxULnZlcnNpb249bigvaWVtb2JpbGVcLyhcZCsoXC5cZCspPykvaSkpKTovbXNpZXx0cmlkZW50L2kudGVzdCh0KT9UPXtuYW1lOiJJbnRlcm5ldCBFeHBsb3JlciIsbXNpZTplLHZlcnNpb246bigvKD86bXNpZSB8cnY6KShcZCsoXC5cZCspPykvaSl9OmY/VD17bmFtZToiQ2hyb21lIixvc25hbWU6IkNocm9tZSBPUyIsY2hyb21lb3M6ZSxjaHJvbWVCb29rOmUsY2hyb21lOmUsdmVyc2lvbjpuKC8oPzpjaHJvbWV8Y3Jpb3N8Y3JtbylcLyhcZCsoXC5cZCspPykvaSl9Oi9lZGcoW2VhXXxpb3MpL2kudGVzdCh0KT9UPXtuYW1lOiJNaWNyb3NvZnQgRWRnZSIsbXNlZGdlOmUsdmVyc2lvbjpifTovdml2YWxkaS9pLnRlc3QodCk/VD17bmFtZToiVml2YWxkaSIsdml2YWxkaTplLHZlcnNpb246bigvdml2YWxkaVwvKFxkKyhcLlxkKyk/KS9pKXx8d306Yz9UPXtuYW1lOiJTYWlsZmlzaCIsb3NuYW1lOiJTYWlsZmlzaCBPUyIsc2FpbGZpc2g6ZSx2ZXJzaW9uOm4oL3NhaWxmaXNoXHM/YnJvd3NlclwvKFxkKyhcLlxkKyk/KS9pKX06L3NlYW1vbmtleVwvL2kudGVzdCh0KT9UPXtuYW1lOiJTZWFNb25rZXkiLHNlYW1vbmtleTplLHZlcnNpb246bigvc2VhbW9ua2V5XC8oXGQrKFwuXGQrKT8pL2kpfTovZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MvaS50ZXN0KHQpPyhUPXtuYW1lOiJGaXJlZm94IixmaXJlZm94OmUsdmVyc2lvbjpuKC8oPzpmaXJlZm94fGljZXdlYXNlbHxmeGlvcylbIFwvXShcZCsoXC5cZCspPykvaSl9LC9cKChtb2JpbGV8dGFibGV0KTtbXlwpXSpydjpbXGRcLl0rXCkvaS50ZXN0KHQpJiYoVC5maXJlZm94b3M9ZSxULm9zbmFtZT0iRmlyZWZveCBPUyIpKTpsP1Q9e25hbWU6IkFtYXpvbiBTaWxrIixzaWxrOmUsdmVyc2lvbjpuKC9zaWxrXC8oXGQrKFwuXGQrKT8pL2kpfTovcGhhbnRvbS9pLnRlc3QodCk/VD17bmFtZToiUGhhbnRvbUpTIixwaGFudG9tOmUsdmVyc2lvbjpuKC9waGFudG9tanNcLyhcZCsoXC5cZCspPykvaSl9Oi9zbGltZXJqcy9pLnRlc3QodCk/VD17bmFtZToiU2xpbWVySlMiLHNsaW1lcjplLHZlcnNpb246bigvc2xpbWVyanNcLyhcZCsoXC5cZCspPykvaSl9Oi9ibGFja2JlcnJ5fFxiYmJcZCsvaS50ZXN0KHQpfHwvcmltXHN0YWJsZXQvaS50ZXN0KHQpP1Q9e25hbWU6IkJsYWNrQmVycnkiLG9zbmFtZToiQmxhY2tCZXJyeSBPUyIsYmxhY2tiZXJyeTplLHZlcnNpb246d3x8bigvYmxhY2tiZXJyeVtcZF0rXC8oXGQrKFwuXGQrKT8pL2kpfTpwPyhUPXtuYW1lOiJXZWJPUyIsb3NuYW1lOiJXZWJPUyIsd2Vib3M6ZSx2ZXJzaW9uOnd8fG4oL3coPzplYik/b3Nicm93c2VyXC8oXGQrKFwuXGQrKT8pL2kpfSwvdG91Y2hwYWRcLy9pLnRlc3QodCkmJihULnRvdWNocGFkPWUpKTovYmFkYS9pLnRlc3QodCk/VD17bmFtZToiQmFkYSIsb3NuYW1lOiJCYWRhIixiYWRhOmUsdmVyc2lvbjpuKC9kb2xmaW5cLyhcZCsoXC5cZCspPykvaSl9Omg/VD17bmFtZToiVGl6ZW4iLG9zbmFtZToiVGl6ZW4iLHRpemVuOmUsdmVyc2lvbjpuKC8oPzp0aXplblxzPyk/YnJvd3NlclwvKFxkKyhcLlxkKyk/KS9pKXx8d306L3F1cHppbGxhL2kudGVzdCh0KT9UPXtuYW1lOiJRdXBaaWxsYSIscXVwemlsbGE6ZSx2ZXJzaW9uOm4oLyg/OnF1cHppbGxhKVtcc1wvXShcZCsoPzpcLlxkKykrKS9pKXx8d306L2Nocm9taXVtL2kudGVzdCh0KT9UPXtuYW1lOiJDaHJvbWl1bSIsY2hyb21pdW06ZSx2ZXJzaW9uOm4oLyg/OmNocm9taXVtKVtcc1wvXShcZCsoPzpcLlxkKyk/KS9pKXx8d306L2Nocm9tZXxjcmlvc3xjcm1vL2kudGVzdCh0KT9UPXtuYW1lOiJDaHJvbWUiLGNocm9tZTplLHZlcnNpb246bigvKD86Y2hyb21lfGNyaW9zfGNybW8pXC8oXGQrKFwuXGQrKT8pL2kpfTpvP1Q9e25hbWU6IkFuZHJvaWQiLHZlcnNpb246d306L3NhZmFyaXxhcHBsZXdlYmtpdC9pLnRlc3QodCk/KFQ9e25hbWU6IlNhZmFyaSIsc2FmYXJpOmV9LHcmJihULnZlcnNpb249dykpOmk/KFQ9e25hbWU6aT09ImlwaG9uZSI/ImlQaG9uZSI6aT09ImlwYWQiPyJpUGFkIjoiaVBvZCJ9LHcmJihULnZlcnNpb249dykpOi9nb29nbGVib3QvaS50ZXN0KHQpP1Q9e25hbWU6Ikdvb2dsZWJvdCIsZ29vZ2xlYm90OmUsdmVyc2lvbjpuKC9nb29nbGVib3RcLyhcZCsoXC5cZCspKS9pKXx8d306VD17bmFtZTpuKC9eKC4qKVwvKC4qKSAvKSx2ZXJzaW9uOnIoL14oLiopXC8oLiopIC8pfSwhVC5tc2VkZ2UmJi8oYXBwbGUpP3dlYmtpdC9pLnRlc3QodCk/KC8oYXBwbGUpP3dlYmtpdFwvNTM3XC4zNi9pLnRlc3QodCk/KFQubmFtZT1ULm5hbWV8fCJCbGluayIsVC5ibGluaz1lKTooVC5uYW1lPVQubmFtZXx8IldlYmtpdCIsVC53ZWJraXQ9ZSksIVQudmVyc2lvbiYmdyYmKFQudmVyc2lvbj13KSk6IVQub3BlcmEmJi9nZWNrb1wvL2kudGVzdCh0KSYmKFQubmFtZT1ULm5hbWV8fCJHZWNrbyIsVC5nZWNrbz1lLFQudmVyc2lvbj1ULnZlcnNpb258fG4oL2dlY2tvXC8oXGQrKFwuXGQrKT8pL2kpKSwhVC53aW5kb3dzcGhvbmUmJihvfHxULnNpbGspPyhULmFuZHJvaWQ9ZSxULm9zbmFtZT0iQW5kcm9pZCIpOiFULndpbmRvd3NwaG9uZSYmaT8oVFtpXT1lLFQuaW9zPWUsVC5vc25hbWU9ImlPUyIpOmc/KFQubWFjPWUsVC5vc25hbWU9Im1hY09TIik6eD8oVC54Ym94PWUsVC5vc25hbWU9Ilhib3giKTptPyhULndpbmRvd3M9ZSxULm9zbmFtZT0iV2luZG93cyIpOnkmJihULmxpbnV4PWUsVC5vc25hbWU9IkxpbnV4Iik7dmFyIEM9IiI7VC53aW5kb3dzP0M9TihuKC9XaW5kb3dzICgoTlR8WFApKCBcZFxkPy5cZCk/KS9pKSk6VC53aW5kb3dzcGhvbmU/Qz1uKC93aW5kb3dzIHBob25lICg/Om9zKT9ccz8oXGQrKFwuXGQrKSopL2kpOlQubWFjPyhDPW4oL01hYyBPUyBYIChcZCsoW19cLlxzXVxkKykqKS9pKSxDPUMucmVwbGFjZSgvW19cc10vZywiLiIpKTppPyhDPW4oL29zIChcZCsoW19cc11cZCspKikgbGlrZSBtYWMgb3MgeC9pKSxDPUMucmVwbGFjZSgvW19cc10vZywiLiIpKTpvP0M9bigvYW5kcm9pZFsgXC8tXShcZCsoXC5cZCspKikvaSk6VC53ZWJvcz9DPW4oLyg/OndlYnxocHcpb3NcLyhcZCsoXC5cZCspKikvaSk6VC5ibGFja2JlcnJ5P0M9bigvcmltXHN0YWJsZXRcc29zXHMoXGQrKFwuXGQrKSopL2kpOlQuYmFkYT9DPW4oL2JhZGFcLyhcZCsoXC5cZCspKikvaSk6VC50aXplbiYmKEM9bigvdGl6ZW5bXC9cc10oXGQrKFwuXGQrKSopL2kpKSxDJiYoVC5vc3ZlcnNpb249Qyk7dmFyIGs9IVQud2luZG93cyYmQy5zcGxpdCgiLiIpWzBdO2lmKEV8fGF8fGk9PSJpcGFkInx8byYmKGs9PTN8fGs+PTQmJiFTKXx8VC5zaWxrKVQudGFibGV0PWU7ZWxzZSBpZihTfHxpPT0iaXBob25lInx8aT09Imlwb2QifHxvfHx1fHxULmJsYWNrYmVycnl8fFQud2Vib3N8fFQuYmFkYSlULm1vYmlsZT1lO3JldHVybiBULm1zZWRnZXx8VC5tc2llJiZULnZlcnNpb24+PTEwfHxULnlhbmRleGJyb3dzZXImJlQudmVyc2lvbj49MTV8fFQudml2YWxkaSYmVC52ZXJzaW9uPj0xfHxULmNocm9tZSYmVC52ZXJzaW9uPj0yMHx8VC5zYW1zdW5nQnJvd3NlciYmVC52ZXJzaW9uPj00fHxULmZpcmVmb3gmJlQudmVyc2lvbj49MjB8fFQuc2FmYXJpJiZULnZlcnNpb24+PTZ8fFQub3BlcmEmJlQudmVyc2lvbj49MTB8fFQuaW9zJiZULm9zdmVyc2lvbiYmVC5vc3ZlcnNpb24uc3BsaXQoIi4iKVswXT49Nnx8VC5ibGFja2JlcnJ5JiZULnZlcnNpb24+PTEwLjF8fFQuY2hyb21pdW0mJlQudmVyc2lvbj49MjA/VC5hPWU6VC5tc2llJiZULnZlcnNpb248MTB8fFQuY2hyb21lJiZULnZlcnNpb248MjB8fFQuZmlyZWZveCYmVC52ZXJzaW9uPDIwfHxULnNhZmFyaSYmVC52ZXJzaW9uPDZ8fFQub3BlcmEmJlQudmVyc2lvbjwxMHx8VC5pb3MmJlQub3N2ZXJzaW9uJiZULm9zdmVyc2lvbi5zcGxpdCgiLiIpWzBdPDZ8fFQuY2hyb21pdW0mJlQudmVyc2lvbjwyMD9ULmM9ZTpULng9ZSxUfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUuc3BsaXQoIi4iKS5sZW5ndGh9ZnVuY3Rpb24gaShlLHQpe3ZhciBuPVtdLHI7aWYoQXJyYXkucHJvdG90eXBlLm1hcClyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGUsdCk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyluLnB1c2godChlW3JdKSk7cmV0dXJuIG59ZnVuY3Rpb24gcyhlKXt2YXIgdD1NYXRoLm1heChyKGVbMF0pLHIoZVsxXSkpLG49aShlLGZ1bmN0aW9uKGUpe3ZhciBuPXQtcihlKTtyZXR1cm4gZSs9KG5ldyBBcnJheShuKzEpKS5qb2luKCIuMCIpLGkoZS5zcGxpdCgiLiIpLGZ1bmN0aW9uKGUpe3JldHVybihuZXcgQXJyYXkoMjAtZS5sZW5ndGgpKS5qb2luKCIwIikrZX0pLnJldmVyc2UoKX0pO3doaWxlKC0tdD49MCl7aWYoblswXVt0XT5uWzFdW3RdKXJldHVybiAxO2lmKG5bMF1bdF0hPT1uWzFdW3RdKXJldHVybi0xO2lmKHQ9PT0wKXJldHVybiAwfX1mdW5jdGlvbiBvKGUscixpKXt2YXIgbz1uO3R5cGVvZiByPT0ic3RyaW5nIiYmKGk9cixyPXZvaWQgMCkscj09PXZvaWQgMCYmKHI9ITEpLGkmJihvPXQoaSkpO3ZhciB1PSIiK28udmVyc2lvbjtmb3IodmFyIGEgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGEpJiZvW2FdKXtpZih0eXBlb2YgZVthXSE9InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJCcm93c2VyIHZlcnNpb24gaW4gdGhlIG1pblZlcnNpb24gbWFwIHNob3VsZCBiZSBhIHN0cmluZzogIithKyI6ICIrU3RyaW5nKGUpKTtyZXR1cm4gcyhbdSxlW2FdXSk8MH1yZXR1cm4gcn1mdW5jdGlvbiB1KGUsdCxuKXtyZXR1cm4hbyhlLHQsbil9dmFyIGU9ITAsbj10KHR5cGVvZiBuYXZpZ2F0b3IhPSJ1bmRlZmluZWQiP25hdmlnYXRvci51c2VyQWdlbnR8fCIiOiIiKTtyZXR1cm4gbi50ZXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXt2YXIgcj1lW3RdO2lmKHR5cGVvZiByPT0ic3RyaW5nIiYmciBpbiBuKXJldHVybiEwfXJldHVybiExfSxuLmlzVW5zdXBwb3J0ZWRCcm93c2VyPW8sbi5jb21wYXJlVmVyc2lvbnM9cyxuLmNoZWNrPXUsbi5fZGV0ZWN0PXQsbi5kZXRlY3Q9dCxufSk="></script>
  <script src="data:application/javascript;base64,Ly8gd2ViY29tcG9uZW50cy5qcyByZXF1aXJlcyBTZXQgYXBpIHdoaWNoIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzCmlmICh0eXBlb2YoU2V0KSAhPT0gInVuZGVmaW5lZCIpIHsKLyoqCkBsaWNlbnNlIEBub2NvbXBpbGUKQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQKQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28Kc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHQKKi8KKGZ1bmN0aW9uKCl7LyoKCiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dAogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dAogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28KIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiovCid1c2Ugc3RyaWN0Jzt2YXIgcSxhYT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09dGhpcz90aGlzOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZudWxsIT1nbG9iYWw/Z2xvYmFsOnRoaXMsYmE9ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7YSE9QXJyYXkucHJvdG90eXBlJiZhIT1PYmplY3QucHJvdG90eXBlJiYoYVtiXT1jLnZhbHVlKX07ZnVuY3Rpb24gY2EoKXtjYT1mdW5jdGlvbigpe307YWEuU3ltYm9sfHwoYWEuU3ltYm9sPWRhKX12YXIgZGE9ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4ianNjb21wX3N5bWJvbF8iKyhifHwiIikrYSsrfX0oKTsKZnVuY3Rpb24gZWEoKXtjYSgpO3ZhciBhPWFhLlN5bWJvbC5pdGVyYXRvcjthfHwoYT1hYS5TeW1ib2wuaXRlcmF0b3I9YWEuU3ltYm9sKCJpdGVyYXRvciIpKTsiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkucHJvdG90eXBlW2FdJiZiYShBcnJheS5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZhKHRoaXMpfX0pO2VhPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBmYShhKXt2YXIgYj0wO3JldHVybiBoYShmdW5jdGlvbigpe3JldHVybiBiPGEubGVuZ3RoP3tkb25lOiExLHZhbHVlOmFbYisrXX06e2RvbmU6ITB9fSl9ZnVuY3Rpb24gaGEoYSl7ZWEoKTthPXtuZXh0OmF9O2FbYWEuU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gYX1mdW5jdGlvbiBpYShhKXtlYSgpO3ZhciBiPWFbU3ltYm9sLml0ZXJhdG9yXTtyZXR1cm4gYj9iLmNhbGwoYSk6ZmEoYSl9CmZ1bmN0aW9uIGphKGEpe2Zvcih2YXIgYixjPVtdOyEoYj1hLm5leHQoKSkuZG9uZTspYy5wdXNoKGIudmFsdWUpO3JldHVybiBjfQooZnVuY3Rpb24oKXtpZighZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTthLmluaXRFdmVudCgiZm9vIiwhMCwhMCk7YS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBhLmRlZmF1bHRQcmV2ZW50ZWR9KCkpe3ZhciBhPUV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGFibGUmJihhLmNhbGwodGhpcyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImRlZmF1bHRQcmV2ZW50ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY29uZmlndXJhYmxlOiEwfSkpfX12YXIgYj0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtpZighd2luZG93LkN1c3RvbUV2ZW50fHxiJiYiZnVuY3Rpb24iIT09dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCl3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpOwpjLmluaXRDdXN0b21FdmVudChhLCEhYi5idWJibGVzLCEhYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sd2luZG93LkN1c3RvbUV2ZW50LnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlO2lmKCF3aW5kb3cuRXZlbnR8fGImJiJmdW5jdGlvbiIhPT10eXBlb2Ygd2luZG93LkV2ZW50KXt2YXIgYz13aW5kb3cuRXZlbnQ7d2luZG93LkV2ZW50PWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtjLmluaXRFdmVudChhLCEhYi5idWJibGVzLCEhYi5jYW5jZWxhYmxlKTtyZXR1cm4gY307aWYoYylmb3IodmFyIGQgaW4gYyl3aW5kb3cuRXZlbnRbZF09Y1tkXTt3aW5kb3cuRXZlbnQucHJvdG90eXBlPWMucHJvdG90eXBlfWlmKCF3aW5kb3cuTW91c2VFdmVudHx8YiYmImZ1bmN0aW9uIiE9PXR5cGVvZiB3aW5kb3cuTW91c2VFdmVudCl7Yj13aW5kb3cuTW91c2VFdmVudDt3aW5kb3cuTW91c2VFdmVudD1mdW5jdGlvbihhLApiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50Iik7Yy5pbml0TW91c2VFdmVudChhLCEhYi5idWJibGVzLCEhYi5jYW5jZWxhYmxlLGIudmlld3x8d2luZG93LGIuZGV0YWlsLGIuc2NyZWVuWCxiLnNjcmVlblksYi5jbGllbnRYLGIuY2xpZW50WSxiLmN0cmxLZXksYi5hbHRLZXksYi5zaGlmdEtleSxiLm1ldGFLZXksYi5idXR0b24sYi5yZWxhdGVkVGFyZ2V0KTtyZXR1cm4gY307aWYoYilmb3IoZCBpbiBiKXdpbmRvdy5Nb3VzZUV2ZW50W2RdPWJbZF07d2luZG93Lk1vdXNlRXZlbnQucHJvdG90eXBlPWIucHJvdG90eXBlfUFycmF5LmZyb218fChBcnJheS5mcm9tPWZ1bmN0aW9uKGEpe3JldHVybltdLnNsaWNlLmNhbGwoYSl9KTtPYmplY3QuYXNzaWdufHwoT2JqZWN0LmFzc2lnbj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxkPTAsZTtkPGMubGVuZ3RoO2QrKylpZihlPWNbZF0pZm9yKHZhciBmPQphLG49ZSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG4pLEc9MDtHPHIubGVuZ3RoO0crKyllPXJbR10sZltlXT1uW2VdO3JldHVybiBhfSl9KSh3aW5kb3cuV2ViQ29tcG9uZW50cyk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31mdW5jdGlvbiBiKGEsYil7aWYoIWEuY2hpbGROb2Rlcy5sZW5ndGgpcmV0dXJuW107c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5ET0NVTUVOVF9OT0RFOnJldHVybiBHLmNhbGwoYSxiKTtjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTpyZXR1cm4geC5jYWxsKGEsYik7ZGVmYXVsdDpyZXR1cm4gci5jYWxsKGEsYil9fXZhciBjPSJ1bmRlZmluZWQiPT09dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQsZD0hKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5jbG9uZU5vZGUoKWluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCksZT0hMTsvVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpZm9yKHZhciBkO2Q9YS5maXJzdENoaWxkOyljLmNhbGwodGhpcyxkLGIpO2Vsc2UgYy5jYWxsKHRoaXMsCmEsYik7cmV0dXJuIGF9ZT0hMDt2YXIgYj1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPWZ1bmN0aW9uKGEpe2E9Yi5jYWxsKHRoaXMsYSk7dGhpcyBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQmJihhLl9fcHJvdG9fXz1Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSk7cmV0dXJuIGF9O0RvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw9SFRNTEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw7RG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcj1IVE1MRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvcjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSx7bm9kZVR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREV9LGNvbmZpZ3VyYWJsZTohMH0sbG9jYWxOYW1lOntnZXQ6ZnVuY3Rpb24oKXt9LApjb25maWd1cmFibGU6ITB9LG5vZGVOYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iI2RvY3VtZW50LWZyYWdtZW50In0sY29uZmlndXJhYmxlOiEwfX0pO3ZhciBjPU5vZGUucHJvdG90eXBlLmluc2VydEJlZm9yZTtOb2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9YTt2YXIgZD1Ob2RlLnByb3RvdHlwZS5hcHBlbmRDaGlsZDtOb2RlLnByb3RvdHlwZS5hcHBlbmRDaGlsZD1mdW5jdGlvbihiKXtiIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudD9hLmNhbGwodGhpcyxiLG51bGwpOmQuY2FsbCh0aGlzLGIpO3JldHVybiBifTt2YXIgZj1Ob2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxnPU5vZGUucHJvdG90eXBlLnJlcGxhY2VDaGlsZDtOb2RlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9ZnVuY3Rpb24oYixjKXtiIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudD8oYS5jYWxsKHRoaXMsYixjKSxmLmNhbGwodGhpcyxjKSk6Zy5jYWxsKHRoaXMsYixjKTtyZXR1cm4gY307RG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9CmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVFbGVtZW50KCJkZiIpO2EuX19wcm90b19fPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlO3JldHVybiBhfTt2YXIgaD1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe2I9aC5jYWxsKHRoaXMsYSxifHwhMSk7YSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQmJihiLl9fcHJvdG9fXz1Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSk7cmV0dXJuIGJ9fSgpO3ZhciBmPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxnPURvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50LGg9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGUsaz1Ob2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxtPU5vZGUucHJvdG90eXBlLmFwcGVuZENoaWxkLG49Tm9kZS5wcm90b3R5cGUucmVwbGFjZUNoaWxkLHI9RWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCwKRz1Eb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx4PURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwsdj1mdW5jdGlvbigpe2lmKCFjKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtiLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2EuY29udGVudC5hcHBlbmRDaGlsZChiKTthPWEuY2xvbmVOb2RlKCEwKTtyZXR1cm4gMD09PWEuY29udGVudC5jaGlsZE5vZGVzLmxlbmd0aHx8MD09PWEuY29udGVudC5maXJzdENoaWxkLmNvbnRlbnQuY2hpbGROb2Rlcy5sZW5ndGh8fGR9fSgpO2lmKGMpe3ZhciBVPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgidGVtcGxhdGUiKSxEYz0hMCx4YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3hhLnRleHRDb250ZW50PSJ0ZW1wbGF0ZXtkaXNwbGF5Om5vbmU7fSI7CnZhciBFYz1kb2N1bWVudC5oZWFkO0VjLmluc2VydEJlZm9yZSh4YSxFYy5maXJzdEVsZW1lbnRDaGlsZCk7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpO3ZhciBtZj0hZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikuaGFzT3duUHJvcGVydHkoImlubmVySFRNTCIpO2EuUj1mdW5jdGlvbihiKXtpZighYi5jb250ZW50JiZiLm5hbWVzcGFjZVVSST09PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkkpe2IuY29udGVudD1VLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IodmFyIGM7Yz1iLmZpcnN0Q2hpbGQ7KW0uY2FsbChiLmNvbnRlbnQsYyk7aWYobWYpYi5fX3Byb3RvX189YS5wcm90b3R5cGU7ZWxzZSBpZihiLmNsb25lTm9kZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5hKHRoaXMsYil9LERjKXRyeXtwKGIpLEZjKGIpfWNhdGNoKHpoKXtEYz0hMX1hLmIoYi5jb250ZW50KX19O3ZhciBwPWZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLAoiaW5uZXJIVE1MIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEdjKHRoaXMpfSxzZXQ6ZnVuY3Rpb24oYil7VS5ib2R5LmlubmVySFRNTD1iO2ZvcihhLmIoVSk7dGhpcy5jb250ZW50LmZpcnN0Q2hpbGQ7KWsuY2FsbCh0aGlzLmNvbnRlbnQsdGhpcy5jb250ZW50LmZpcnN0Q2hpbGQpO2Zvcig7VS5ib2R5LmZpcnN0Q2hpbGQ7KW0uY2FsbCh0aGlzLmNvbnRlbnQsVS5ib2R5LmZpcnN0Q2hpbGQpfSxjb25maWd1cmFibGU6ITB9KX0sRmM9ZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIm91dGVySFRNTCIse2dldDpmdW5jdGlvbigpe3JldHVybiI8dGVtcGxhdGU+Iit0aGlzLmlubmVySFRNTCsiPC90ZW1wbGF0ZT4ifSxzZXQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5wYXJlbnROb2RlKXtVLmJvZHkuaW5uZXJIVE1MPWE7Zm9yKGE9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtVLmJvZHkuZmlyc3RDaGlsZDspbS5jYWxsKGEsVS5ib2R5LmZpcnN0Q2hpbGQpOwpuLmNhbGwodGhpcy5wYXJlbnROb2RlLGEsdGhpcyl9ZWxzZSB0aHJvdyBFcnJvcigiRmFpbGVkIHRvIHNldCB0aGUgJ291dGVySFRNTCcgcHJvcGVydHkgb24gJ0VsZW1lbnQnOiBUaGlzIGVsZW1lbnQgaGFzIG5vIHBhcmVudCBub2RlLiIpO30sY29uZmlndXJhYmxlOiEwfSl9O3AoYS5wcm90b3R5cGUpO0ZjKGEucHJvdG90eXBlKTthLmI9ZnVuY3Rpb24oYyl7Yz1iKGMsInRlbXBsYXRlIik7Zm9yKHZhciBkPTAsZT1jLmxlbmd0aCxmO2Q8ZSYmKGY9Y1tkXSk7ZCsrKWEuUihmKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXthLmIoZG9jdW1lbnQpfSk7RG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYj1nLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsidGVtcGxhdGUiPT09Yi5sb2NhbE5hbWUmJmEuUihiKTtyZXR1cm4gYn07dmFyIG5mPS9bJlx1MDBBMCJdL2csa2I9L1smXHUwMEEwPD5dL2csCmw9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgIiYiOnJldHVybiImYW1wOyI7Y2FzZSAiPCI6cmV0dXJuIiZsdDsiO2Nhc2UgIj4iOnJldHVybiImZ3Q7IjtjYXNlICciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlICJcdTAwYTAiOnJldHVybiImbmJzcDsifX07eGE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifTt2YXIgRj14YSgiYXJlYSBiYXNlIGJyIGNvbCBjb21tYW5kIGVtYmVkIGhyIGltZyBpbnB1dCBrZXlnZW4gbGluayBtZXRhIHBhcmFtIHNvdXJjZSB0cmFjayB3YnIiLnNwbGl0KCIgIikpLG9mPXhhKCJzdHlsZSBzY3JpcHQgeG1wIGlmcmFtZSBub2VtYmVkIG5vZnJhbWVzIHBsYWludGV4dCBub3NjcmlwdCIuc3BsaXQoIiAiKSksR2M9ZnVuY3Rpb24oYSxiKXsidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUmJihhPWEuY29udGVudCk7Zm9yKHZhciBjPSIiLGQ9Yj9iKGEpOmEuY2hpbGROb2RlcyxlPTAsZj1kLmxlbmd0aCwKZztlPGYmJihnPWRbZV0pO2UrKyl7YTp7dmFyIGg9Zzt2YXIgaz1hO3ZhciBtPWI7c3dpdGNoKGgubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBuPWgubG9jYWxOYW1lLHY9IjwiK24scj1oLmF0dHJpYnV0ZXMscD0wO2s9cltwXTtwKyspdis9IiAiK2submFtZSsnPSInK2sudmFsdWUucmVwbGFjZShuZixsKSsnIic7dis9Ij4iO2g9RltuXT92OnYrR2MoaCxtKSsiPC8iK24rIj4iO2JyZWFrIGE7Y2FzZSBOb2RlLlRFWFRfTk9ERTpoPWguZGF0YTtoPWsmJm9mW2subG9jYWxOYW1lXT9oOmgucmVwbGFjZShrYixsKTticmVhayBhO2Nhc2UgTm9kZS5DT01NRU5UX05PREU6aD0iXHgzYyEtLSIraC5kYXRhKyItLVx4M2UiO2JyZWFrIGE7ZGVmYXVsdDp0aHJvdyB3aW5kb3cuY29uc29sZS5lcnJvcihoKSxFcnJvcigibm90IGltcGxlbWVudGVkIik7fX1jKz1ofXJldHVybiBjfX1pZihjfHx2KXthLmE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLmNhbGwoYSwhMSk7CnRoaXMuUiYmdGhpcy5SKGMpO2ImJihtLmNhbGwoYy5jb250ZW50LGYuY2FsbChhLmNvbnRlbnQsITApKSxsYihjLmNvbnRlbnQsYS5jb250ZW50KSk7cmV0dXJuIGN9O3ZhciBsYj1mdW5jdGlvbihjLGQpe2lmKGQucXVlcnlTZWxlY3RvckFsbCYmKGQ9YihkLCJ0ZW1wbGF0ZSIpLDAhPT1kLmxlbmd0aCkpe2M9YihjLCJ0ZW1wbGF0ZSIpO2Zvcih2YXIgZT0wLGY9Yy5sZW5ndGgsZyxoO2U8ZjtlKyspaD1kW2VdLGc9Y1tlXSxhJiZhLlImJmEuUihoKSxuLmNhbGwoZy5wYXJlbnROb2RlLHBmLmNhbGwoaCwhMCksZyl9fSxwZj1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU9ZnVuY3Rpb24oYil7aWYoIWUmJmQmJnRoaXMgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWlmKGIpdmFyIGM9cWYuY2FsbCh0aGlzLm93bmVyRG9jdW1lbnQsdGhpcywhMCk7ZWxzZSByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlbHNlIHRoaXMubm9kZVR5cGU9PT0KTm9kZS5FTEVNRU5UX05PREUmJiJ0ZW1wbGF0ZSI9PT10aGlzLmxvY2FsTmFtZSYmdGhpcy5uYW1lc3BhY2VVUkk9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkk/Yz1hLmEodGhpcyxiKTpjPWYuY2FsbCh0aGlzLGIpO2ImJmxiKGMsdGhpcyk7cmV0dXJuIGN9LHFmPURvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlPWZ1bmN0aW9uKGMsZCl7ZD1kfHwhMTtpZigidGVtcGxhdGUiPT09Yy5sb2NhbE5hbWUpcmV0dXJuIGEuYShjLGQpO3ZhciBlPWguY2FsbCh0aGlzLGMsZCk7aWYoZCl7bGIoZSxjKTtjPWIoZSwnc2NyaXB0Om5vdChbdHlwZV0pLHNjcmlwdFt0eXBlPSJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Il0sc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJyk7Zm9yKHZhciBmLGs9MDtrPGMubGVuZ3RoO2srKyl7Zj1jW2tdO2Q9Zy5jYWxsKGRvY3VtZW50LCJzY3JpcHQiKTtkLnRleHRDb250ZW50PWYudGV4dENvbnRlbnQ7Zm9yKHZhciBtPWYuYXR0cmlidXRlcywKbD0wLHY7bDxtLmxlbmd0aDtsKyspdj1tW2xdLGQuc2V0QXR0cmlidXRlKHYubmFtZSx2LnZhbHVlKTtuLmNhbGwoZi5wYXJlbnROb2RlLGQsZil9fXJldHVybiBlfX1jJiYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ9YSl9KSgpO3ZhciBrYTtBcnJheS5pc0FycmF5P2thPUFycmF5LmlzQXJyYXk6a2E9ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX07dmFyIGxhPWthO3ZhciBtYT0wLG5hLG9hPSJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLHBhPW9hfHx7fSxxYT1wYS5NdXRhdGlvbk9ic2VydmVyfHxwYS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHJhPSJ1bmRlZmluZWQiPT09dHlwZW9mIHNlbGYmJiJ1bmRlZmluZWQiIT09dHlwZW9mIHByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwocHJvY2Vzcyksc2E9InVuZGVmaW5lZCIhPT10eXBlb2YgVWludDhDbGFtcGVkQXJyYXkmJiJ1bmRlZmluZWQiIT09dHlwZW9mIGltcG9ydFNjcmlwdHMmJiJ1bmRlZmluZWQiIT09dHlwZW9mIE1lc3NhZ2VDaGFubmVsO2Z1bmN0aW9uIHRhKCl7cmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgbmE/ZnVuY3Rpb24oKXtuYSh1YSl9OnZhKCl9CmZ1bmN0aW9uIHdhKCl7dmFyIGE9MCxiPW5ldyBxYSh1YSksYz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7Yi5vYnNlcnZlKGMse2NoYXJhY3RlckRhdGE6ITB9KTtyZXR1cm4gZnVuY3Rpb24oKXtjLmRhdGE9YT0rK2ElMn19ZnVuY3Rpb24geWEoKXt2YXIgYT1uZXcgTWVzc2FnZUNoYW5uZWw7YS5wb3J0MS5vbm1lc3NhZ2U9dWE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucG9ydDIucG9zdE1lc3NhZ2UoMCl9fWZ1bmN0aW9uIHZhKCl7dmFyIGE9c2V0VGltZW91dDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYSh1YSwxKX19dmFyIHphPUFycmF5KDFFMyk7ZnVuY3Rpb24gdWEoKXtmb3IodmFyIGE9MDthPG1hO2ErPTIpKDAsemFbYV0pKHphW2ErMV0pLHphW2FdPXZvaWQgMCx6YVthKzFdPXZvaWQgMDttYT0wfXZhciBBYSxCYTsKaWYocmEpQmE9ZnVuY3Rpb24oKXtyZXR1cm4gcHJvY2Vzcy54Yih1YSl9O2Vsc2V7dmFyIENhO2lmKHFhKUNhPXdhKCk7ZWxzZXt2YXIgRGE7aWYoc2EpRGE9eWEoKTtlbHNle3ZhciBFYTtpZih2b2lkIDA9PT1vYSYmImZ1bmN0aW9uIj09PXR5cGVvZiByZXF1aXJlKXRyeXt2YXIgRmE9cmVxdWlyZSgidmVydHgiKTtuYT1GYS56Ynx8RmEueWI7RWE9dGEoKX1jYXRjaChhKXtFYT12YSgpfWVsc2UgRWE9dmEoKTtEYT1FYX1DYT1EYX1CYT1DYX1BYT1CYTtmdW5jdGlvbiBHYShhLGIpe3phW21hXT1hO3phW21hKzFdPWI7bWErPTI7Mj09PW1hJiZBYSgpfTtmdW5jdGlvbiBIYShhLGIpe3ZhciBjPXRoaXMsZD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihJYSk7dm9pZCAwPT09ZFtKYV0mJkthKGQpO3ZhciBlPWMubztpZihlKXt2YXIgZj1hcmd1bWVudHNbZS0xXTtHYShmdW5jdGlvbigpe3JldHVybiBMYShlLGQsZixjLmwpfSl9ZWxzZSBNYShjLGQsYSxiKTtyZXR1cm4gZH07ZnVuY3Rpb24gTmEoYSl7aWYoYSYmIm9iamVjdCI9PT10eXBlb2YgYSYmYS5jb25zdHJ1Y3Rvcj09PXRoaXMpcmV0dXJuIGE7dmFyIGI9bmV3IHRoaXMoSWEpO09hKGIsYSk7cmV0dXJuIGJ9O3ZhciBKYT1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTYpO2Z1bmN0aW9uIElhKCl7fXZhciBRYT1uZXcgUGE7ZnVuY3Rpb24gUmEoYSl7dHJ5e3JldHVybiBhLnRoZW59Y2F0Y2goYil7cmV0dXJuIFFhLmVycm9yPWIsUWF9fWZ1bmN0aW9uIFNhKGEsYixjLGQpe3RyeXthLmNhbGwoYixjLGQpfWNhdGNoKGUpe3JldHVybiBlfX1mdW5jdGlvbiBUYShhLGIsYyl7R2EoZnVuY3Rpb24oYSl7dmFyIGQ9ITEsZj1TYShjLGIsZnVuY3Rpb24oYyl7ZHx8KGQ9ITAsYiE9PWM/T2EoYSxjKTp0KGEsYykpfSxmdW5jdGlvbihiKXtkfHwoZD0hMCx1KGEsYikpfSk7IWQmJmYmJihkPSEwLHUoYSxmKSl9LGEpfWZ1bmN0aW9uIFVhKGEsYil7MT09PWIubz90KGEsYi5sKToyPT09Yi5vP3UoYSxiLmwpOk1hKGIsdm9pZCAwLGZ1bmN0aW9uKGIpe3JldHVybiBPYShhLGIpfSxmdW5jdGlvbihiKXtyZXR1cm4gdShhLGIpfSl9CmZ1bmN0aW9uIFZhKGEsYixjKXtiLmNvbnN0cnVjdG9yPT09YS5jb25zdHJ1Y3RvciYmYz09PUhhJiZiLmNvbnN0cnVjdG9yLnJlc29sdmU9PT1OYT9VYShhLGIpOmM9PT1RYT8odShhLFFhLmVycm9yKSxRYS5lcnJvcj1udWxsKTp2b2lkIDA9PT1jP3QoYSxiKToiZnVuY3Rpb24iPT09dHlwZW9mIGM/VGEoYSxiLGMpOnQoYSxiKX1mdW5jdGlvbiBPYShhLGIpe2lmKGE9PT1iKXUoYSxuZXcgVHlwZUVycm9yKCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmIikpO2Vsc2V7dmFyIGM9dHlwZW9mIGI7bnVsbD09PWJ8fCJvYmplY3QiIT09YyYmImZ1bmN0aW9uIiE9PWM/dChhLGIpOlZhKGEsYixSYShiKSl9fWZ1bmN0aW9uIFdhKGEpe2EueGEmJmEueGEoYS5sKTtYYShhKX1mdW5jdGlvbiB0KGEsYil7dm9pZCAwPT09YS5vJiYoYS5sPWIsYS5vPTEsMCE9PWEuVS5sZW5ndGgmJkdhKFhhLGEpKX0KZnVuY3Rpb24gdShhLGIpe3ZvaWQgMD09PWEubyYmKGEubz0yLGEubD1iLEdhKFdhLGEpKX1mdW5jdGlvbiBNYShhLGIsYyxkKXt2YXIgZT1hLlUsZj1lLmxlbmd0aDthLnhhPW51bGw7ZVtmXT1iO2VbZisxXT1jO2VbZisyXT1kOzA9PT1mJiZhLm8mJkdhKFhhLGEpfWZ1bmN0aW9uIFhhKGEpe3ZhciBiPWEuVSxjPWEubztpZigwIT09Yi5sZW5ndGgpe2Zvcih2YXIgZCxlLGY9YS5sLGc9MDtnPGIubGVuZ3RoO2crPTMpZD1iW2ddLGU9YltnK2NdLGQ/TGEoYyxkLGUsZik6ZShmKTthLlUubGVuZ3RoPTB9fWZ1bmN0aW9uIFBhKCl7dGhpcy5lcnJvcj1udWxsfXZhciBZYT1uZXcgUGE7CmZ1bmN0aW9uIExhKGEsYixjLGQpe3ZhciBlPSJmdW5jdGlvbiI9PT10eXBlb2YgYztpZihlKXt0cnl7dmFyIGY9YyhkKX1jYXRjaChtKXtZYS5lcnJvcj1tLGY9WWF9aWYoZj09PVlhKXt2YXIgZz0hMDt2YXIgaD1mLmVycm9yO2YuZXJyb3I9bnVsbH1lbHNlIHZhciBrPSEwO2lmKGI9PT1mKXt1KGIsbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLiIpKTtyZXR1cm59fWVsc2UgZj1kLGs9ITA7dm9pZCAwPT09Yi5vJiYoZSYmaz9PYShiLGYpOmc/dShiLGgpOjE9PT1hP3QoYixmKToyPT09YSYmdShiLGYpKX1mdW5jdGlvbiBaYShhLGIpe3RyeXtiKGZ1bmN0aW9uKGIpe09hKGEsYil9LGZ1bmN0aW9uKGIpe3UoYSxiKX0pfWNhdGNoKGMpe3UoYSxjKX19dmFyICRhPTA7ZnVuY3Rpb24gS2EoYSl7YVtKYV09JGErKzthLm89dm9pZCAwO2EubD12b2lkIDA7YS5VPVtdfTtmdW5jdGlvbiBhYihhLGIpe3RoaXMuTmE9YTt0aGlzLk49bmV3IGEoSWEpO3RoaXMuTltKYV18fEthKHRoaXMuTik7aWYobGEoYikpaWYodGhpcy4kPXRoaXMubGVuZ3RoPWIubGVuZ3RoLHRoaXMubD1BcnJheSh0aGlzLmxlbmd0aCksMD09PXRoaXMubGVuZ3RoKXQodGhpcy5OLHRoaXMubCk7ZWxzZXt0aGlzLmxlbmd0aD10aGlzLmxlbmd0aHx8MDtmb3IoYT0wO3ZvaWQgMD09PXRoaXMubyYmYTxiLmxlbmd0aDthKyspYmIodGhpcyxiW2FdLGEpOzA9PT10aGlzLiQmJnQodGhpcy5OLHRoaXMubCl9ZWxzZSB1KHRoaXMuTixFcnJvcigiQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5IikpfQpmdW5jdGlvbiBiYihhLGIsYyl7dmFyIGQ9YS5OYSxlPWQucmVzb2x2ZTtlPT09TmE/KGU9UmEoYiksZT09PUhhJiZ2b2lkIDAhPT1iLm8/Y2IoYSxiLm8sYyxiLmwpOiJmdW5jdGlvbiIhPT10eXBlb2YgZT8oYS4kLS0sYS5sW2NdPWIpOmQ9PT13PyhkPW5ldyBkKElhKSxWYShkLGIsZSksZGIoYSxkLGMpKTpkYihhLG5ldyBkKGZ1bmN0aW9uKGEpe3JldHVybiBhKGIpfSksYykpOmRiKGEsZShiKSxjKX1mdW5jdGlvbiBjYihhLGIsYyxkKXt2YXIgZT1hLk47dm9pZCAwPT09ZS5vJiYoYS4kLS0sMj09PWI/dShlLGQpOmEubFtjXT1kKTswPT09YS4kJiZ0KGUsYS5sKX1mdW5jdGlvbiBkYihhLGIsYyl7TWEoYix2b2lkIDAsZnVuY3Rpb24oYil7cmV0dXJuIGNiKGEsMSxjLGIpfSxmdW5jdGlvbihiKXtyZXR1cm4gY2IoYSwyLGMsYil9KX07ZnVuY3Rpb24gZWIoYSl7cmV0dXJuKG5ldyBhYih0aGlzLGEpKS5OfTtmdW5jdGlvbiBmYihhKXt2YXIgYj10aGlzO3JldHVybiBsYShhKT9uZXcgYihmdW5jdGlvbihjLGQpe2Zvcih2YXIgZT1hLmxlbmd0aCxmPTA7ZjxlO2YrKyliLnJlc29sdmUoYVtmXSkudGhlbihjLGQpfSk6bmV3IGIoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYihuZXcgVHlwZUVycm9yKCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuIikpfSl9O2Z1bmN0aW9uIGdiKGEpe3ZhciBiPW5ldyB0aGlzKElhKTt1KGIsYSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIHcoYSl7dGhpc1tKYV09JGErKzt0aGlzLmw9dGhpcy5vPXZvaWQgMDt0aGlzLlU9W107aWYoSWEhPT1hKXtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGEpdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciIpO2lmKHRoaXMgaW5zdGFuY2VvZiB3KVphKHRoaXMsYSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt9fXcucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp3LHRoZW46SGEsYTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsYSl9fTsvKgoKQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQKQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28Kc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHQKKi8Kd2luZG93LlByb21pc2V8fCh3aW5kb3cuUHJvbWlzZT13LHcucHJvdG90eXBlWyJjYXRjaCJdPXcucHJvdG90eXBlLmEsdy5wcm90b3R5cGUudGhlbj13LnByb3RvdHlwZS50aGVuLHcuYWxsPWViLHcucmFjZT1mYix3LnJlc29sdmU9TmEsdy5yZWplY3Q9Z2IpOy8qCgogQ29weXJpZ2h0IChjKSAyMDE0IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0CiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQKIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dAoqLwp3aW5kb3cuV2ViQ29tcG9uZW50cz13aW5kb3cuV2ViQ29tcG9uZW50c3x8e2ZsYWdzOnt9fTt2YXIgaGI9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9IndlYmNvbXBvbmVudHMtYnVuZGxlIl0nKSxpYj0vd2MtKC4rKS8seT17fTtpZigheS5ub09wdHMpe2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9Iik7dmFyIGI7YVswXSYmKGI9YVswXS5tYXRjaChpYikpJiYoeVtiWzFdXT1hWzFdfHwhMCl9KTtpZihoYilmb3IodmFyIGpiPTAsbWI7bWI9aGIuYXR0cmlidXRlc1tqYl07amIrKykic3JjIiE9PW1iLm5hbWUmJih5W21iLm5hbWVdPW1iLnZhbHVlfHwhMCk7aWYoeS5sb2cmJnkubG9nLnNwbGl0KXt2YXIgbmI9eS5sb2cuc3BsaXQoIiwiKTt5LmxvZz17fTtuYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3kubG9nW2FdPSEwfSl9ZWxzZSB5LmxvZz17fX0Kd2luZG93LldlYkNvbXBvbmVudHMuZmxhZ3M9eTt2YXIgb2I9eS5zaGFkeWRvbTtvYiYmKHdpbmRvdy5TaGFkeURPTT13aW5kb3cuU2hhZHlET018fHt9LHdpbmRvdy5TaGFkeURPTS5mb3JjZT1vYik7dmFyIHBiPXkucmVnaXN0ZXJ8fHkuY2U7cGImJndpbmRvdy5jdXN0b21FbGVtZW50cyYmKHdpbmRvdy5jdXN0b21FbGVtZW50cy5mb3JjZVBvbHlmaWxsPXBiKTsvKgoKQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQKQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28Kc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHQKKi8KZnVuY3Rpb24gcWIoKXt0aGlzLkRhPXRoaXMucm9vdD1udWxsO3RoaXMuZGE9ITE7dGhpcy5MPXRoaXMuWj10aGlzLnBhPXRoaXMuYXNzaWduZWRTbG90PXRoaXMuYXNzaWduZWROb2Rlcz10aGlzLlM9bnVsbDt0aGlzLmNoaWxkTm9kZXM9dGhpcy5uZXh0U2libGluZz10aGlzLnByZXZpb3VzU2libGluZz10aGlzLmxhc3RDaGlsZD10aGlzLmZpcnN0Q2hpbGQ9dGhpcy5wYXJlbnROb2RlPXRoaXMuVj12b2lkIDA7dGhpcy5JYT10aGlzLnZhPSExfXFiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57fX07ZnVuY3Rpb24geihhKXthLmthfHwoYS5rYT1uZXcgcWIpO3JldHVybiBhLmthfWZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEmJmEua2F9O3ZhciBCPXdpbmRvdy5TaGFkeURPTXx8e307Qi5VYT0hKCFFbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3d8fCFOb2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSk7dmFyIHJiPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsImZpcnN0Q2hpbGQiKTtCLkk9ISEocmImJnJiLmNvbmZpZ3VyYWJsZSYmcmIuZ2V0KTtCLkJhPUIuZm9yY2V8fCFCLlVhO3ZhciBzYj1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCJUcmlkZW50IiksdGI9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgiRWRnZSIpO3ZvaWQgMD09PUIuRmEmJihCLkZhPUIuSSYmKHNifHx0YikpO2Z1bmN0aW9uIHViKGEpe3JldHVybihhPUEoYSkpJiZ2b2lkIDAhPT1hLmZpcnN0Q2hpbGR9ZnVuY3Rpb24gQyhhKXtyZXR1cm4iU2hhZHlSb290Ij09PWEuT2F9ZnVuY3Rpb24gdmIoYSl7YT1hLmdldFJvb3ROb2RlKCk7aWYoQyhhKSlyZXR1cm4gYX0KdmFyIHdiPUVsZW1lbnQucHJvdG90eXBlLHhiPXdiLm1hdGNoZXN8fHdiLm1hdGNoZXNTZWxlY3Rvcnx8d2IubW96TWF0Y2hlc1NlbGVjdG9yfHx3Yi5tc01hdGNoZXNTZWxlY3Rvcnx8d2Iub01hdGNoZXNTZWxlY3Rvcnx8d2Iud2Via2l0TWF0Y2hlc1NlbGVjdG9yO2Z1bmN0aW9uIHliKGEsYil7aWYoYSYmYilmb3IodmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYiksZD0wLGU7ZDxjLmxlbmd0aCYmKGU9Y1tkXSk7ZCsrKXt2YXIgZj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsZSk7ZiYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZSxmKX19ZnVuY3Rpb24gemIoYSxiKXtmb3IodmFyIGM9W10sZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDsrK2QpY1tkLTFdPWFyZ3VtZW50c1tkXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKXliKGEsY1tkXSk7cmV0dXJuIGF9ZnVuY3Rpb24gQWIoYSxiKXtmb3IodmFyIGMgaW4gYilhW2NdPWJbY119CnZhciBCYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIiksQ2I9MCxEYj1bXTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKXtmb3IoO0RiLmxlbmd0aDspdHJ5e0RiLnNoaWZ0KCkoKX1jYXRjaChhKXt0aHJvdyBCYi50ZXh0Q29udGVudD1DYisrLGE7fX0pKS5vYnNlcnZlKEJiLHtjaGFyYWN0ZXJEYXRhOiEwfSk7ZnVuY3Rpb24gRWIoYSl7RGIucHVzaChhKTtCYi50ZXh0Q29udGVudD1DYisrfXZhciBGYj0hIWRvY3VtZW50LmNvbnRhaW5zO2Z1bmN0aW9uIEdiKGEsYil7Zm9yKDtiOyl7aWYoYj09YSlyZXR1cm4hMDtiPWIucGFyZW50Tm9kZX1yZXR1cm4hMX07dmFyIEhiPVtdLEliO2Z1bmN0aW9uIEpiKGEpe0lifHwoSWI9ITAsRWIoS2IpKTtIYi5wdXNoKGEpfWZ1bmN0aW9uIEtiKCl7SWI9ITE7Zm9yKHZhciBhPSEhSGIubGVuZ3RoO0hiLmxlbmd0aDspSGIuc2hpZnQoKSgpO3JldHVybiBhfUtiLmxpc3Q9SGI7ZnVuY3Rpb24gTGIoKXt0aGlzLmE9ITE7dGhpcy5hZGRlZE5vZGVzPVtdO3RoaXMucmVtb3ZlZE5vZGVzPVtdO3RoaXMuY2E9bmV3IFNldH1mdW5jdGlvbiBNYihhKXthLmF8fChhLmE9ITAsRWIoZnVuY3Rpb24oKXtOYihhKX0pKX1mdW5jdGlvbiBOYihhKXtpZihhLmEpe2EuYT0hMTt2YXIgYj1hLnRha2VSZWNvcmRzKCk7Yi5sZW5ndGgmJmEuY2EuZm9yRWFjaChmdW5jdGlvbihhKXthKGIpfSl9fUxiLnByb3RvdHlwZS50YWtlUmVjb3Jkcz1mdW5jdGlvbigpe2lmKHRoaXMuYWRkZWROb2Rlcy5sZW5ndGh8fHRoaXMucmVtb3ZlZE5vZGVzLmxlbmd0aCl7dmFyIGE9W3thZGRlZE5vZGVzOnRoaXMuYWRkZWROb2RlcyxyZW1vdmVkTm9kZXM6dGhpcy5yZW1vdmVkTm9kZXN9XTt0aGlzLmFkZGVkTm9kZXM9W107dGhpcy5yZW1vdmVkTm9kZXM9W107cmV0dXJuIGF9cmV0dXJuW119OwpmdW5jdGlvbiBPYihhLGIpe3ZhciBjPXooYSk7Yy5TfHwoYy5TPW5ldyBMYik7Yy5TLmNhLmFkZChiKTt2YXIgZD1jLlM7cmV0dXJue0xhOmIsUDpkLFBhOmEsdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtyZXR1cm4gZC50YWtlUmVjb3JkcygpfX19ZnVuY3Rpb24gUGIoYSl7dmFyIGI9YSYmYS5QO2ImJihiLmNhLmRlbGV0ZShhLkxhKSxiLmNhLnNpemV8fCh6KGEuUGEpLlM9bnVsbCkpfQpmdW5jdGlvbiBRYihhLGIpe3ZhciBjPWIuZ2V0Um9vdE5vZGUoKTtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9Yz09PWEudGFyZ2V0LmdldFJvb3ROb2RlKCk7aWYoYiYmYS5hZGRlZE5vZGVzKXtpZihiPUFycmF5LmZyb20oYS5hZGRlZE5vZGVzKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGM9PT1hLmdldFJvb3ROb2RlKCl9KSxiLmxlbmd0aClyZXR1cm4gYT1PYmplY3QuY3JlYXRlKGEpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJhZGRlZE5vZGVzIix7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSxhfWVsc2UgaWYoYilyZXR1cm4gYX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYX0pfTt2YXIgRD17fSxSYj1FbGVtZW50LnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsU2I9RWxlbWVudC5wcm90b3R5cGUucmVwbGFjZUNoaWxkLFRiPUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkLFViPUVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZSxWYj1FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUsV2I9RWxlbWVudC5wcm90b3R5cGUuY2xvbmVOb2RlLFhiPURvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlLFliPUVsZW1lbnQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsWmI9RWxlbWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciwkYj1XaW5kb3cucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsYWM9V2luZG93LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLGJjPUVsZW1lbnQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQsY2M9Tm9kZS5wcm90b3R5cGUuY29udGFpbnN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5jb250YWlucyxkYz1Eb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5SWQsCmVjPUVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IsZmM9RG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixnYz1Eb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixoYz1FbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLGljPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwsamM9RG9jdW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw7RC5hcHBlbmRDaGlsZD1FbGVtZW50LnByb3RvdHlwZS5hcHBlbmRDaGlsZDtELmluc2VydEJlZm9yZT1SYjtELnJlcGxhY2VDaGlsZD1TYjtELnJlbW92ZUNoaWxkPVRiO0Quc2V0QXR0cmlidXRlPVViO0QucmVtb3ZlQXR0cmlidXRlPVZiO0QuY2xvbmVOb2RlPVdiO0QuaW1wb3J0Tm9kZT1YYjtELmFkZEV2ZW50TGlzdGVuZXI9WWI7RC5yZW1vdmVFdmVudExpc3RlbmVyPVpiO0QuZWI9JGI7RC5mYj1hYztELmRpc3BhdGNoRXZlbnQ9YmM7RC5jb250YWlucz1jYzsKRC5nZXRFbGVtZW50QnlJZD1kYztELm9iPWVjO0Quc2I9ZmM7RC5tYj1nYztELnF1ZXJ5U2VsZWN0b3I9ZnVuY3Rpb24oYSl7c3dpdGNoKHRoaXMubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6cmV0dXJuIGVjLmNhbGwodGhpcyxhKTtjYXNlIE5vZGUuRE9DVU1FTlRfTk9ERTpyZXR1cm4gZ2MuY2FsbCh0aGlzLGEpO2RlZmF1bHQ6cmV0dXJuIGZjLmNhbGwodGhpcyxhKX19O0QucGI9aGM7RC50Yj1pYztELm5iPWpjO0QucXVlcnlTZWxlY3RvckFsbD1mdW5jdGlvbihhKXtzd2l0Y2godGhpcy5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpyZXR1cm4gaGMuY2FsbCh0aGlzLGEpO2Nhc2UgTm9kZS5ET0NVTUVOVF9OT0RFOnJldHVybiBqYy5jYWxsKHRoaXMsYSk7ZGVmYXVsdDpyZXR1cm4gaWMuY2FsbCh0aGlzLGEpfX07dmFyIGtjPS9bJlx1MDBBMCJdL2csbGM9L1smXHUwMEEwPD5dL2c7ZnVuY3Rpb24gbWMoYSl7c3dpdGNoKGEpe2Nhc2UgIiYiOnJldHVybiImYW1wOyI7Y2FzZSAiPCI6cmV0dXJuIiZsdDsiO2Nhc2UgIj4iOnJldHVybiImZ3Q7IjtjYXNlICciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlICJcdTAwYTAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBuYyhhKXtmb3IodmFyIGI9e30sYz0wO2M8YS5sZW5ndGg7YysrKWJbYVtjXV09ITA7cmV0dXJuIGJ9dmFyIG9jPW5jKCJhcmVhIGJhc2UgYnIgY29sIGNvbW1hbmQgZW1iZWQgaHIgaW1nIGlucHV0IGtleWdlbiBsaW5rIG1ldGEgcGFyYW0gc291cmNlIHRyYWNrIHdiciIuc3BsaXQoIiAiKSkscGM9bmMoInN0eWxlIHNjcmlwdCB4bXAgaWZyYW1lIG5vZW1iZWQgbm9mcmFtZXMgcGxhaW50ZXh0IG5vc2NyaXB0Ii5zcGxpdCgiICIpKTsKZnVuY3Rpb24gcWMoYSxiKXsidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUmJihhPWEuY29udGVudCk7Zm9yKHZhciBjPSIiLGQ9Yj9iKGEpOmEuY2hpbGROb2RlcyxlPTAsZj1kLmxlbmd0aCxnO2U8ZiYmKGc9ZFtlXSk7ZSsrKXthOnt2YXIgaD1nO3ZhciBrPWE7dmFyIG09Yjtzd2l0Y2goaC5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpmb3IodmFyIG49aC5sb2NhbE5hbWUscj0iPCIrbixHPWguYXR0cmlidXRlcyx4PTA7az1HW3hdO3grKylyKz0iICIray5uYW1lKyc9Iicray52YWx1ZS5yZXBsYWNlKGtjLG1jKSsnIic7cis9Ij4iO2g9b2Nbbl0/cjpyK3FjKGgsbSkrIjwvIituKyI+IjticmVhayBhO2Nhc2UgTm9kZS5URVhUX05PREU6aD1oLmRhdGE7aD1rJiZwY1trLmxvY2FsTmFtZV0/aDpoLnJlcGxhY2UobGMsbWMpO2JyZWFrIGE7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpoPSJceDNjIS0tIitoLmRhdGErIi0tXHgzZSI7YnJlYWsgYTtkZWZhdWx0OnRocm93IHdpbmRvdy5jb25zb2xlLmVycm9yKGgpLApFcnJvcigibm90IGltcGxlbWVudGVkIik7fX1jKz1ofXJldHVybiBjfTt2YXIgRT17fSxIPWRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZG9jdW1lbnQsTm9kZUZpbHRlci5TSE9XX0FMTCxudWxsLCExKSxJPWRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZG9jdW1lbnQsTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsbnVsbCwhMSk7ZnVuY3Rpb24gcmMoYSl7dmFyIGI9W107SC5jdXJyZW50Tm9kZT1hO2ZvcihhPUguZmlyc3RDaGlsZCgpO2E7KWIucHVzaChhKSxhPUgubmV4dFNpYmxpbmcoKTtyZXR1cm4gYn1FLnBhcmVudE5vZGU9ZnVuY3Rpb24oYSl7SC5jdXJyZW50Tm9kZT1hO3JldHVybiBILnBhcmVudE5vZGUoKX07RS5maXJzdENoaWxkPWZ1bmN0aW9uKGEpe0guY3VycmVudE5vZGU9YTtyZXR1cm4gSC5maXJzdENoaWxkKCl9O0UubGFzdENoaWxkPWZ1bmN0aW9uKGEpe0guY3VycmVudE5vZGU9YTtyZXR1cm4gSC5sYXN0Q2hpbGQoKX07RS5wcmV2aW91c1NpYmxpbmc9ZnVuY3Rpb24oYSl7SC5jdXJyZW50Tm9kZT1hO3JldHVybiBILnByZXZpb3VzU2libGluZygpfTsKRS5uZXh0U2libGluZz1mdW5jdGlvbihhKXtILmN1cnJlbnROb2RlPWE7cmV0dXJuIEgubmV4dFNpYmxpbmcoKX07RS5jaGlsZE5vZGVzPXJjO0UucGFyZW50RWxlbWVudD1mdW5jdGlvbihhKXtJLmN1cnJlbnROb2RlPWE7cmV0dXJuIEkucGFyZW50Tm9kZSgpfTtFLmZpcnN0RWxlbWVudENoaWxkPWZ1bmN0aW9uKGEpe0kuY3VycmVudE5vZGU9YTtyZXR1cm4gSS5maXJzdENoaWxkKCl9O0UubGFzdEVsZW1lbnRDaGlsZD1mdW5jdGlvbihhKXtJLmN1cnJlbnROb2RlPWE7cmV0dXJuIEkubGFzdENoaWxkKCl9O0UucHJldmlvdXNFbGVtZW50U2libGluZz1mdW5jdGlvbihhKXtJLmN1cnJlbnROb2RlPWE7cmV0dXJuIEkucHJldmlvdXNTaWJsaW5nKCl9O0UubmV4dEVsZW1lbnRTaWJsaW5nPWZ1bmN0aW9uKGEpe0kuY3VycmVudE5vZGU9YTtyZXR1cm4gSS5uZXh0U2libGluZygpfTsKRS5jaGlsZHJlbj1mdW5jdGlvbihhKXt2YXIgYj1bXTtJLmN1cnJlbnROb2RlPWE7Zm9yKGE9SS5maXJzdENoaWxkKCk7YTspYi5wdXNoKGEpLGE9SS5uZXh0U2libGluZygpO3JldHVybiBifTtFLmlubmVySFRNTD1mdW5jdGlvbihhKXtyZXR1cm4gcWMoYSxmdW5jdGlvbihhKXtyZXR1cm4gcmMoYSl9KX07RS50ZXh0Q29udGVudD1mdW5jdGlvbihhKXtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTphPWRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoYSxOb2RlRmlsdGVyLlNIT1dfVEVYVCxudWxsLCExKTtmb3IodmFyIGI9IiIsYztjPWEubmV4dE5vZGUoKTspYis9Yy5ub2RlVmFsdWU7cmV0dXJuIGI7ZGVmYXVsdDpyZXR1cm4gYS5ub2RlVmFsdWV9fTt2YXIgSj17fSxzYz1CLkksdGM9W05vZGUucHJvdG90eXBlLEVsZW1lbnQucHJvdG90eXBlLEhUTUxFbGVtZW50LnByb3RvdHlwZV07ZnVuY3Rpb24gSyhhKXt2YXIgYjthOntmb3IoYj0wO2I8dGMubGVuZ3RoO2IrKyl7dmFyIGM9dGNbYl07aWYoYy5oYXNPd25Qcm9wZXJ0eShhKSl7Yj1jO2JyZWFrIGF9fWI9dm9pZCAwfWlmKCFiKXRocm93IEVycm9yKCJDb3VsZCBub3QgZmluZCBkZXNjcmlwdG9yIGZvciAiK2EpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYSl9CnZhciBMPXNjP3twYXJlbnROb2RlOksoInBhcmVudE5vZGUiKSxmaXJzdENoaWxkOksoImZpcnN0Q2hpbGQiKSxsYXN0Q2hpbGQ6SygibGFzdENoaWxkIikscHJldmlvdXNTaWJsaW5nOksoInByZXZpb3VzU2libGluZyIpLG5leHRTaWJsaW5nOksoIm5leHRTaWJsaW5nIiksY2hpbGROb2RlczpLKCJjaGlsZE5vZGVzIikscGFyZW50RWxlbWVudDpLKCJwYXJlbnRFbGVtZW50IikscHJldmlvdXNFbGVtZW50U2libGluZzpLKCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiksbmV4dEVsZW1lbnRTaWJsaW5nOksoIm5leHRFbGVtZW50U2libGluZyIpLGlubmVySFRNTDpLKCJpbm5lckhUTUwiKSx0ZXh0Q29udGVudDpLKCJ0ZXh0Q29udGVudCIpLGZpcnN0RWxlbWVudENoaWxkOksoImZpcnN0RWxlbWVudENoaWxkIiksbGFzdEVsZW1lbnRDaGlsZDpLKCJsYXN0RWxlbWVudENoaWxkIiksY2hpbGRyZW46SygiY2hpbGRyZW4iKX06e30sdWM9c2M/e2ZpcnN0RWxlbWVudENoaWxkOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsCiJmaXJzdEVsZW1lbnRDaGlsZCIpLGxhc3RFbGVtZW50Q2hpbGQ6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSwibGFzdEVsZW1lbnRDaGlsZCIpLGNoaWxkcmVuOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsImNoaWxkcmVuIil9Ont9LHZjPXNjP3tmaXJzdEVsZW1lbnRDaGlsZDpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKERvY3VtZW50LnByb3RvdHlwZSwiZmlyc3RFbGVtZW50Q2hpbGQiKSxsYXN0RWxlbWVudENoaWxkOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRG9jdW1lbnQucHJvdG90eXBlLCJsYXN0RWxlbWVudENoaWxkIiksY2hpbGRyZW46T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihEb2N1bWVudC5wcm90b3R5cGUsImNoaWxkcmVuIil9Ont9O0ouQ2E9TDtKLnJiPXVjO0oubGI9dmM7Si5wYXJlbnROb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBMLnBhcmVudE5vZGUuZ2V0LmNhbGwoYSl9OwpKLmZpcnN0Q2hpbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEwuZmlyc3RDaGlsZC5nZXQuY2FsbChhKX07Si5sYXN0Q2hpbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEwubGFzdENoaWxkLmdldC5jYWxsKGEpfTtKLnByZXZpb3VzU2libGluZz1mdW5jdGlvbihhKXtyZXR1cm4gTC5wcmV2aW91c1NpYmxpbmcuZ2V0LmNhbGwoYSl9O0oubmV4dFNpYmxpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIEwubmV4dFNpYmxpbmcuZ2V0LmNhbGwoYSl9O0ouY2hpbGROb2Rlcz1mdW5jdGlvbihhKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoTC5jaGlsZE5vZGVzLmdldC5jYWxsKGEpKX07Si5wYXJlbnRFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBMLnBhcmVudEVsZW1lbnQuZ2V0LmNhbGwoYSl9O0oucHJldmlvdXNFbGVtZW50U2libGluZz1mdW5jdGlvbihhKXtyZXR1cm4gTC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmdldC5jYWxsKGEpfTtKLm5leHRFbGVtZW50U2libGluZz1mdW5jdGlvbihhKXtyZXR1cm4gTC5uZXh0RWxlbWVudFNpYmxpbmcuZ2V0LmNhbGwoYSl9OwpKLmlubmVySFRNTD1mdW5jdGlvbihhKXtyZXR1cm4gTC5pbm5lckhUTUwuZ2V0LmNhbGwoYSl9O0oudGV4dENvbnRlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEwudGV4dENvbnRlbnQuZ2V0LmNhbGwoYSl9O0ouY2hpbGRyZW49ZnVuY3Rpb24oYSl7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOmE9dWMuY2hpbGRyZW4uZ2V0LmNhbGwoYSk7YnJlYWs7Y2FzZSBOb2RlLkRPQ1VNRU5UX05PREU6YT12Yy5jaGlsZHJlbi5nZXQuY2FsbChhKTticmVhaztkZWZhdWx0OmE9TC5jaGlsZHJlbi5nZXQuY2FsbChhKX1yZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSl9OwpKLmZpcnN0RWxlbWVudENoaWxkPWZ1bmN0aW9uKGEpe3N3aXRjaChhLm5vZGVUeXBlKXtjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTpyZXR1cm4gdWMuZmlyc3RFbGVtZW50Q2hpbGQuZ2V0LmNhbGwoYSk7Y2FzZSBOb2RlLkRPQ1VNRU5UX05PREU6cmV0dXJuIHZjLmZpcnN0RWxlbWVudENoaWxkLmdldC5jYWxsKGEpO2RlZmF1bHQ6cmV0dXJuIEwuZmlyc3RFbGVtZW50Q2hpbGQuZ2V0LmNhbGwoYSl9fTtKLmxhc3RFbGVtZW50Q2hpbGQ9ZnVuY3Rpb24oYSl7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOnJldHVybiB1Yy5sYXN0RWxlbWVudENoaWxkLmdldC5jYWxsKGEpO2Nhc2UgTm9kZS5ET0NVTUVOVF9OT0RFOnJldHVybiB2Yy5sYXN0RWxlbWVudENoaWxkLmdldC5jYWxsKGEpO2RlZmF1bHQ6cmV0dXJuIEwubGFzdEVsZW1lbnRDaGlsZC5nZXQuY2FsbChhKX19O3ZhciBNPUIuRmE/SjpFO2Z1bmN0aW9uIHdjKGEpe2Zvcig7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCl9CnZhciB4Yz1CLkkseWM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJpbmVydCIpLHpjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsImlzQ29ubmVjdGVkIiksQWM9emMmJnpjLmdldCxCYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKERvY3VtZW50LnByb3RvdHlwZSwiYWN0aXZlRWxlbWVudCIpLENjPXtwYXJlbnRFbGVtZW50OntnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1BKHRoaXMpOyhhPWEmJmEucGFyZW50Tm9kZSkmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERSYmKGE9bnVsbCk7cmV0dXJuIHZvaWQgMCE9PWE/YTpNLnBhcmVudEVsZW1lbnQodGhpcyl9LGNvbmZpZ3VyYWJsZTohMH0scGFyZW50Tm9kZTp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9QSh0aGlzKTthPWEmJmEucGFyZW50Tm9kZTtyZXR1cm4gdm9pZCAwIT09YT9hOk0ucGFyZW50Tm9kZSh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSwKbmV4dFNpYmxpbmc6e2dldDpmdW5jdGlvbigpe3ZhciBhPUEodGhpcyk7YT1hJiZhLm5leHRTaWJsaW5nO3JldHVybiB2b2lkIDAhPT1hP2E6TS5uZXh0U2libGluZyh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSxwcmV2aW91c1NpYmxpbmc6e2dldDpmdW5jdGlvbigpe3ZhciBhPUEodGhpcyk7YT1hJiZhLnByZXZpb3VzU2libGluZztyZXR1cm4gdm9pZCAwIT09YT9hOk0ucHJldmlvdXNTaWJsaW5nKHRoaXMpfSxjb25maWd1cmFibGU6ITB9LG5leHRFbGVtZW50U2libGluZzp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9QSh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLm5leHRTaWJsaW5nKXtmb3IoYT10aGlzLm5leHRTaWJsaW5nO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfXJldHVybiBNLm5leHRFbGVtZW50U2libGluZyh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSxwcmV2aW91c0VsZW1lbnRTaWJsaW5nOntnZXQ6ZnVuY3Rpb24oKXt2YXIgYT0KQSh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLnByZXZpb3VzU2libGluZyl7Zm9yKGE9dGhpcy5wcmV2aW91c1NpYmxpbmc7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXJldHVybiBNLnByZXZpb3VzRWxlbWVudFNpYmxpbmcodGhpcyl9LGNvbmZpZ3VyYWJsZTohMH19LEhjPXtjbGFzc05hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGEpfSxjb25maWd1cmFibGU6ITB9fSxJYz17Y2hpbGROb2Rlczp7Z2V0OmZ1bmN0aW9uKCl7aWYodWIodGhpcykpe3ZhciBhPUEodGhpcyk7aWYoIWEuY2hpbGROb2Rlcyl7YS5jaGlsZE5vZGVzPVtdO2Zvcih2YXIgYj10aGlzLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpYS5jaGlsZE5vZGVzLnB1c2goYil9dmFyIGM9YS5jaGlsZE5vZGVzfWVsc2UgYz0KTS5jaGlsZE5vZGVzKHRoaXMpO2MuaXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gY1thXX07cmV0dXJuIGN9LGNvbmZpZ3VyYWJsZTohMH0sY2hpbGRFbGVtZW50Q291bnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aH0sY29uZmlndXJhYmxlOiEwfSxmaXJzdENoaWxkOntnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1BKHRoaXMpO2E9YSYmYS5maXJzdENoaWxkO3JldHVybiB2b2lkIDAhPT1hP2E6TS5maXJzdENoaWxkKHRoaXMpfSxjb25maWd1cmFibGU6ITB9LGxhc3RDaGlsZDp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9QSh0aGlzKTthPWEmJmEubGFzdENoaWxkO3JldHVybiB2b2lkIDAhPT1hP2E6TS5sYXN0Q2hpbGQodGhpcyl9LGNvbmZpZ3VyYWJsZTohMH0sdGV4dENvbnRlbnQ6e2dldDpmdW5jdGlvbigpe2lmKHViKHRoaXMpKXtmb3IodmFyIGE9W10sYj0wLGM9dGhpcy5jaGlsZE5vZGVzLGQ7ZD1jW2JdO2IrKylkLm5vZGVUeXBlIT09Tm9kZS5DT01NRU5UX05PREUmJgphLnB1c2goZC50ZXh0Q29udGVudCk7cmV0dXJuIGEuam9pbigiIil9cmV0dXJuIE0udGV4dENvbnRlbnQodGhpcyl9LHNldDpmdW5jdGlvbihhKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBhfHxudWxsPT09YSlhPSIiO3N3aXRjaCh0aGlzLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmNhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOmlmKCF1Yih0aGlzKSYmeGMpe3ZhciBiPXRoaXMuZmlyc3RDaGlsZDsoYiE9dGhpcy5sYXN0Q2hpbGR8fGImJmIubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFKSYmd2ModGhpcyk7Si5DYS50ZXh0Q29udGVudC5zZXQuY2FsbCh0aGlzLGEpfWVsc2Ugd2ModGhpcyksKDA8YS5sZW5ndGh8fHRoaXMubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSkmJnRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpO2JyZWFrO2RlZmF1bHQ6dGhpcy5ub2RlVmFsdWU9YX19LGNvbmZpZ3VyYWJsZTohMH0sZmlyc3RFbGVtZW50Q2hpbGQ6e2dldDpmdW5jdGlvbigpe3ZhciBhPQpBKHRoaXMpO2lmKGEmJnZvaWQgMCE9PWEuZmlyc3RDaGlsZCl7Zm9yKGE9dGhpcy5maXJzdENoaWxkO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfXJldHVybiBNLmZpcnN0RWxlbWVudENoaWxkKHRoaXMpfSxjb25maWd1cmFibGU6ITB9LGxhc3RFbGVtZW50Q2hpbGQ6e2dldDpmdW5jdGlvbigpe3ZhciBhPUEodGhpcyk7aWYoYSYmdm9pZCAwIT09YS5sYXN0Q2hpbGQpe2ZvcihhPXRoaXMubGFzdENoaWxkO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLnByZXZpb3VzU2libGluZztyZXR1cm4gYX1yZXR1cm4gTS5sYXN0RWxlbWVudENoaWxkKHRoaXMpfSxjb25maWd1cmFibGU6ITB9LGNoaWxkcmVuOntnZXQ6ZnVuY3Rpb24oKXt2YXIgYTt1Yih0aGlzKT9hPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCh0aGlzLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0pOgphPU0uY2hpbGRyZW4odGhpcyk7YS5pdGVtPWZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfTtyZXR1cm4gYX0sY29uZmlndXJhYmxlOiEwfSxpbm5lckhUTUw6e2dldDpmdW5jdGlvbigpe3JldHVybiB1Yih0aGlzKT9xYygidGVtcGxhdGUiPT09dGhpcy5sb2NhbE5hbWU/dGhpcy5jb250ZW50OnRoaXMpOk0uaW5uZXJIVE1MKHRoaXMpfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9InRlbXBsYXRlIj09PXRoaXMubG9jYWxOYW1lP3RoaXMuY29udGVudDp0aGlzO3djKGIpO3ZhciBjPXRoaXMubG9jYWxOYW1lO2MmJiJ0ZW1wbGF0ZSIhPT1jfHwoYz0iZGl2Iik7Yz15Yy5jcmVhdGVFbGVtZW50KGMpO2Zvcih4Yz9KLkNhLmlubmVySFRNTC5zZXQuY2FsbChjLGEpOmMuaW5uZXJIVE1MPWE7Yy5maXJzdENoaWxkOyliLmFwcGVuZENoaWxkKGMuZmlyc3RDaGlsZCl9LGNvbmZpZ3VyYWJsZTohMH19LEpjPXtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1BKHRoaXMpO3JldHVybiBhJiYKYS5EYXx8bnVsbH0sY29uZmlndXJhYmxlOiEwfX0sS2M9e2FjdGl2ZUVsZW1lbnQ6e2dldDpmdW5jdGlvbigpe3ZhciBhPUJjJiZCYy5nZXQ/QmMuZ2V0LmNhbGwoZG9jdW1lbnQpOkIuST92b2lkIDA6ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtpZihhJiZhLm5vZGVUeXBlKXt2YXIgYj0hIUModGhpcyk7aWYodGhpcz09PWRvY3VtZW50fHxiJiZ0aGlzLmhvc3QhPT1hJiZELmNvbnRhaW5zLmNhbGwodGhpcy5ob3N0LGEpKXtmb3IoYj12YihhKTtiJiZiIT09dGhpczspYT1iLmhvc3QsYj12YihhKTthPXRoaXM9PT1kb2N1bWVudD9iP251bGw6YTpiPT09dGhpcz9hOm51bGx9ZWxzZSBhPW51bGx9ZWxzZSBhPW51bGw7cmV0dXJuIGF9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwfX07CmZ1bmN0aW9uIE4oYSxiLGMpe2Zvcih2YXIgZCBpbiBiKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsZCk7ZSYmZS5jb25maWd1cmFibGV8fCFlJiZjP09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGQsYltkXSk6YyYmY29uc29sZS53YXJuKCJDb3VsZCBub3QgZGVmaW5lIixkLCJvbiIsYSl9fWZ1bmN0aW9uIExjKGEpe04oYSxDYyk7TihhLEhjKTtOKGEsSWMpO04oYSxLYyl9CmZ1bmN0aW9uIE1jKCl7dmFyIGE9TmMucHJvdG90eXBlO2EuX19wcm90b19fPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlO04oYSxDYywhMCk7TihhLEljLCEwKTtOKGEsS2MsITApO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEse25vZGVUeXBlOnt2YWx1ZTpOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUsY29uZmlndXJhYmxlOiEwfSxub2RlTmFtZTp7dmFsdWU6IiNkb2N1bWVudC1mcmFnbWVudCIsY29uZmlndXJhYmxlOiEwfSxub2RlVmFsdWU6e3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfX0pO1sibG9jYWxOYW1lIiwibmFtZXNwYWNlVVJJIiwicHJlZml4Il0uZm9yRWFjaChmdW5jdGlvbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwfSl9KTtbIm93bmVyRG9jdW1lbnQiLCJiYXNlVVJJIiwiaXNDb25uZWN0ZWQiXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RbYl19LApjb25maWd1cmFibGU6ITB9KX0pfXZhciBPYz1CLkk/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGEpe3ZhciBiPXooYSk7Yi52YXx8KGIudmE9ITAsTihhLENjLCEwKSxOKGEsSGMsITApKX0sUGM9Qi5JP2Z1bmN0aW9uKCl7fTpmdW5jdGlvbihhKXt6KGEpLklhfHwoTihhLEljLCEwKSxOKGEsSmMsITApKX07dmFyIFFjPU0uY2hpbGROb2RlcztmdW5jdGlvbiBSYyhhLGIsYyl7T2MoYSk7Yz1jfHxudWxsO3ZhciBkPXooYSksZT16KGIpLGY9Yz96KGMpOm51bGw7ZC5wcmV2aW91c1NpYmxpbmc9Yz9mLnByZXZpb3VzU2libGluZzpiLmxhc3RDaGlsZDtpZihmPUEoZC5wcmV2aW91c1NpYmxpbmcpKWYubmV4dFNpYmxpbmc9YTtpZihmPUEoZC5uZXh0U2libGluZz1jKSlmLnByZXZpb3VzU2libGluZz1hO2QucGFyZW50Tm9kZT1iO2M/Yz09PWUuZmlyc3RDaGlsZCYmKGUuZmlyc3RDaGlsZD1hKTooZS5sYXN0Q2hpbGQ9YSxlLmZpcnN0Q2hpbGR8fChlLmZpcnN0Q2hpbGQ9YSkpO2UuY2hpbGROb2Rlcz1udWxsfQpmdW5jdGlvbiBTYyhhLGIpe3ZhciBjPXooYSk7aWYodm9pZCAwPT09Yy5maXJzdENoaWxkKWZvcihiPWJ8fFFjKGEpLGMuZmlyc3RDaGlsZD1iWzBdfHxudWxsLGMubGFzdENoaWxkPWJbYi5sZW5ndGgtMV18fG51bGwsUGMoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdLGU9eihkKTtlLnBhcmVudE5vZGU9YTtlLm5leHRTaWJsaW5nPWJbYysxXXx8bnVsbDtlLnByZXZpb3VzU2libGluZz1iW2MtMV18fG51bGw7T2MoZCl9fTt2YXIgVGM9TS5wYXJlbnROb2RlOwpmdW5jdGlvbiBVYyhhLGIsYyl7aWYoYj09PWEpdGhyb3cgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdhcHBlbmRDaGlsZCcgb24gJ05vZGUnOiBUaGUgbmV3IGNoaWxkIGVsZW1lbnQgY29udGFpbnMgdGhlIHBhcmVudC4iKTtpZihjKXt2YXIgZD1BKGMpO2Q9ZCYmZC5wYXJlbnROb2RlO2lmKHZvaWQgMCE9PWQmJmQhPT1hfHx2b2lkIDA9PT1kJiZUYyhjKSE9PWEpdGhyb3cgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdpbnNlcnRCZWZvcmUnIG9uICdOb2RlJzogVGhlIG5vZGUgYmVmb3JlIHdoaWNoIHRoZSBuZXcgbm9kZSBpcyB0byBiZSBpbnNlcnRlZCBpcyBub3QgYSBjaGlsZCBvZiB0aGlzIG5vZGUuIik7fWlmKGM9PT1iKXJldHVybiBiO2IucGFyZW50Tm9kZSYmVmMoYi5wYXJlbnROb2RlLGIpO3ZhciBlLGY7aWYoIWIuX19ub0luc2VydGlvblBvaW50KXtpZihmPWU9dmIoYSkpe3ZhciBnOyJzbG90Ij09PWIubG9jYWxOYW1lP2c9W2JdOmIucXVlcnlTZWxlY3RvckFsbCYmCihnPWIucXVlcnlTZWxlY3RvckFsbCgic2xvdCIpKTtmPWcmJmcubGVuZ3RoP2c6dm9pZCAwfWYmJihnPWUsZD1mLGcuYT1nLmF8fFtdLGcubT1nLm18fFtdLGcudz1nLnd8fHt9LGcuYS5wdXNoLmFwcGx5KGcuYSxbXS5jb25jYXQoZCBpbnN0YW5jZW9mIEFycmF5P2Q6amEoaWEoZCkpKSkpfSgic2xvdCI9PT1hLmxvY2FsTmFtZXx8ZikmJihlPWV8fHZiKGEpKSYmV2MoZSk7aWYodWIoYSkpe2U9YztQYyhhKTtmPXooYSk7dm9pZCAwIT09Zi5maXJzdENoaWxkJiYoZi5jaGlsZE5vZGVzPW51bGwpO2lmKGIubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpe2Y9Yi5jaGlsZE5vZGVzO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspUmMoZltnXSxhLGUpO2U9eihiKTtmPXZvaWQgMCE9PWUuZmlyc3RDaGlsZD9udWxsOnZvaWQgMDtlLmZpcnN0Q2hpbGQ9ZS5sYXN0Q2hpbGQ9ZjtlLmNoaWxkTm9kZXM9Zn1lbHNlIFJjKGIsYSxlKTtlPUEoYSk7aWYoWGMoYSkpe1djKGUucm9vdCk7CnZhciBoPSEwfWVsc2UgZS5yb290JiYoaD0hMCl9aHx8KGg9QyhhKT9hLmhvc3Q6YSxjPyhjPVljKGMpLEQuaW5zZXJ0QmVmb3JlLmNhbGwoaCxiLGMpKTpELmFwcGVuZENoaWxkLmNhbGwoaCxiKSk7WmMoYSxiKTtyZXR1cm4gYn0KZnVuY3Rpb24gVmMoYSxiKXtpZihiLnBhcmVudE5vZGUhPT1hKXRocm93IEVycm9yKCJUaGUgbm9kZSB0byBiZSByZW1vdmVkIGlzIG5vdCBhIGNoaWxkIG9mIHRoaXMgbm9kZTogIitiKTt2YXIgYz12YihiKSxkPUEoYSk7aWYodWIoYSkpe3ZhciBlPXooYiksZj16KGEpO2I9PT1mLmZpcnN0Q2hpbGQmJihmLmZpcnN0Q2hpbGQ9ZS5uZXh0U2libGluZyk7Yj09PWYubGFzdENoaWxkJiYoZi5sYXN0Q2hpbGQ9ZS5wcmV2aW91c1NpYmxpbmcpO3ZhciBnPWUucHJldmlvdXNTaWJsaW5nLGg9ZS5uZXh0U2libGluZztnJiYoeihnKS5uZXh0U2libGluZz1oKTtoJiYoeihoKS5wcmV2aW91c1NpYmxpbmc9Zyk7ZS5wYXJlbnROb2RlPWUucHJldmlvdXNTaWJsaW5nPWUubmV4dFNpYmxpbmc9dm9pZCAwO3ZvaWQgMCE9PWYuY2hpbGROb2RlcyYmKGYuY2hpbGROb2Rlcz1udWxsKTtpZihYYyhhKSl7V2MoZC5yb290KTt2YXIgaz0hMH19JGMoYik7aWYoYyl7KGU9YSYmInNsb3QiPT09YS5sb2NhbE5hbWUpJiYKKGs9ITApO2lmKGMubSl7YWQoYyk7Zj1jLnc7Zm9yKHYgaW4gZilmb3IoZz1mW3ZdLGg9MDtoPGcubGVuZ3RoO2grKyl7dmFyIG09Z1toXTtpZihHYihiLG0pKXtnLnNwbGljZShoLDEpO3ZhciBuPWMubS5pbmRleE9mKG0pOzA8PW4mJmMubS5zcGxpY2UobiwxKTtoLS07bj1BKG0pO2lmKG09bi5MKWZvcih2YXIgcj0wO3I8bS5sZW5ndGg7cisrKXt2YXIgRz1tW3JdLHg9YmQoRyk7eCYmRC5yZW1vdmVDaGlsZC5jYWxsKHgsRyl9bi5MPVtdO24uYXNzaWduZWROb2Rlcz1bXTtuPSEwfX12YXIgdj1ufWVsc2Ugdj12b2lkIDA7KHZ8fGUpJiZXYyhjKX1rfHwoaz1DKGEpP2EuaG9zdDphLCghZC5yb290JiYic2xvdCIhPT1iLmxvY2FsTmFtZXx8az09PVRjKGIpKSYmRC5yZW1vdmVDaGlsZC5jYWxsKGssYikpO1pjKGEsbnVsbCxiKTtyZXR1cm4gYn0KZnVuY3Rpb24gJGMoYSl7dmFyIGI9QShhKTtpZihiJiZ2b2lkIDAhPT1iLlYpe2I9YS5jaGlsZE5vZGVzO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGgsZTtjPGQmJihlPWJbY10pO2MrKykkYyhlKX1pZihhPUEoYSkpYS5WPXZvaWQgMH1mdW5jdGlvbiBZYyhhKXt2YXIgYj1hO2EmJiJzbG90Ij09PWEubG9jYWxOYW1lJiYoYj0oYj0oYj1BKGEpKSYmYi5MKSYmYi5sZW5ndGg/YlswXTpZYyhhLm5leHRTaWJsaW5nKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gWGMoYSl7cmV0dXJuKGE9KGE9QShhKSkmJmEucm9vdCkmJmNkKGEpfQpmdW5jdGlvbiBkZChhLGIpe2lmKCJzbG90Ij09PWIpYT1hLnBhcmVudE5vZGUsWGMoYSkmJldjKEEoYSkucm9vdCk7ZWxzZSBpZigic2xvdCI9PT1hLmxvY2FsTmFtZSYmIm5hbWUiPT09YiYmKGI9dmIoYSkpKXtpZihiLm0pe3ZhciBjPWEuSmEsZD1lZChhKTtpZihkIT09Yyl7Yz1iLndbY107dmFyIGU9Yy5pbmRleE9mKGEpOzA8PWUmJmMuc3BsaWNlKGUsMSk7Yz1iLndbZF18fChiLndbZF09W10pO2MucHVzaChhKTsxPGMubGVuZ3RoJiYoYi53W2RdPWZkKGMpKX19V2MoYil9fWZ1bmN0aW9uIFpjKGEsYixjKXtpZihhPShhPUEoYSkpJiZhLlMpYiYmYS5hZGRlZE5vZGVzLnB1c2goYiksYyYmYS5yZW1vdmVkTm9kZXMucHVzaChjKSxNYihhKX0KZnVuY3Rpb24gZ2QoYSl7aWYoYSYmYS5ub2RlVHlwZSl7dmFyIGI9eihhKSxjPWIuVjt2b2lkIDA9PT1jJiYoQyhhKT8oYz1hLGIuVj1jKTooYz0oYz1hLnBhcmVudE5vZGUpP2dkKGMpOmEsRC5jb250YWlucy5jYWxsKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxhKSYmKGIuVj1jKSkpO3JldHVybiBjfX1mdW5jdGlvbiBoZChhLGIsYyl7dmFyIGQ9W107aWQoYS5jaGlsZE5vZGVzLGIsYyxkKTtyZXR1cm4gZH1mdW5jdGlvbiBpZChhLGIsYyxkKXtmb3IodmFyIGU9MCxmPWEubGVuZ3RoLGc7ZTxmJiYoZz1hW2VdKTtlKyspe3ZhciBoO2lmKGg9Zy5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXtoPWc7dmFyIGs9YixtPWMsbj1kLHI9ayhoKTtyJiZuLnB1c2goaCk7bSYmbShyKT9oPXI6KGlkKGguY2hpbGROb2RlcyxrLG0sbiksaD12b2lkIDApfWlmKGgpYnJlYWt9fXZhciBqZD1udWxsOwpmdW5jdGlvbiBrZChhLGIsYyl7amR8fChqZD13aW5kb3cuU2hhZHlDU1MmJndpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSk7amQmJiJjbGFzcyI9PT1iP2pkLnNldEVsZW1lbnRDbGFzcyhhLGMpOihELnNldEF0dHJpYnV0ZS5jYWxsKGEsYixjKSxkZChhLGIpKX1mdW5jdGlvbiBsZChhLGIpe2lmKGEub3duZXJEb2N1bWVudCE9PWRvY3VtZW50KXJldHVybiBELmltcG9ydE5vZGUuY2FsbChkb2N1bWVudCxhLGIpO3ZhciBjPUQuaW1wb3J0Tm9kZS5jYWxsKGRvY3VtZW50LGEsITEpO2lmKGIpe2E9YS5jaGlsZE5vZGVzO2I9MDtmb3IodmFyIGQ7YjxhLmxlbmd0aDtiKyspZD1sZChhW2JdLCEwKSxjLmFwcGVuZENoaWxkKGQpfXJldHVybiBjfTt2YXIgbWQ9Il9fZXZlbnRXcmFwcGVycyIrRGF0ZS5ub3coKSxuZD17Ymx1cjohMCxmb2N1czohMCxmb2N1c2luOiEwLGZvY3Vzb3V0OiEwLGNsaWNrOiEwLGRibGNsaWNrOiEwLG1vdXNlZG93bjohMCxtb3VzZWVudGVyOiEwLG1vdXNlbGVhdmU6ITAsbW91c2Vtb3ZlOiEwLG1vdXNlb3V0OiEwLG1vdXNlb3ZlcjohMCxtb3VzZXVwOiEwLHdoZWVsOiEwLGJlZm9yZWlucHV0OiEwLGlucHV0OiEwLGtleWRvd246ITAsa2V5dXA6ITAsY29tcG9zaXRpb25zdGFydDohMCxjb21wb3NpdGlvbnVwZGF0ZTohMCxjb21wb3NpdGlvbmVuZDohMCx0b3VjaHN0YXJ0OiEwLHRvdWNoZW5kOiEwLHRvdWNobW92ZTohMCx0b3VjaGNhbmNlbDohMCxwb2ludGVyb3ZlcjohMCxwb2ludGVyZW50ZXI6ITAscG9pbnRlcmRvd246ITAscG9pbnRlcm1vdmU6ITAscG9pbnRlcnVwOiEwLHBvaW50ZXJjYW5jZWw6ITAscG9pbnRlcm91dDohMCxwb2ludGVybGVhdmU6ITAsZ290cG9pbnRlcmNhcHR1cmU6ITAsbG9zdHBvaW50ZXJjYXB0dXJlOiEwLApkcmFnc3RhcnQ6ITAsZHJhZzohMCxkcmFnZW50ZXI6ITAsZHJhZ2xlYXZlOiEwLGRyYWdvdmVyOiEwLGRyb3A6ITAsZHJhZ2VuZDohMCxET01BY3RpdmF0ZTohMCxET01Gb2N1c0luOiEwLERPTUZvY3VzT3V0OiEwLGtleXByZXNzOiEwfTtmdW5jdGlvbiBvZChhLGIpe3ZhciBjPVtdLGQ9YTtmb3IoYT1hPT09d2luZG93P3dpbmRvdzphLmdldFJvb3ROb2RlKCk7ZDspYy5wdXNoKGQpLGQ9ZC5hc3NpZ25lZFNsb3Q/ZC5hc3NpZ25lZFNsb3Q6ZC5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSYmZC5ob3N0JiYoYnx8ZCE9PWEpP2QuaG9zdDpkLnBhcmVudE5vZGU7Y1tjLmxlbmd0aC0xXT09PWRvY3VtZW50JiZjLnB1c2god2luZG93KTtyZXR1cm4gY30KZnVuY3Rpb24gcGQoYSxiKXtpZighQylyZXR1cm4gYTthPW9kKGEsITApO2Zvcih2YXIgYz0wLGQsZSxmLGc7YzxiLmxlbmd0aDtjKyspaWYoZD1iW2NdLGY9ZD09PXdpbmRvdz93aW5kb3c6ZC5nZXRSb290Tm9kZSgpLGYhPT1lJiYoZz1hLmluZGV4T2YoZiksZT1mKSwhQyhmKXx8LTE8ZylyZXR1cm4gZH0KdmFyIHFkPXtnZXQgY29tcG9zZWQoKXshMSE9PXRoaXMuaXNUcnVzdGVkJiZ2b2lkIDA9PT10aGlzLmhhJiYodGhpcy5oYT1uZFt0aGlzLnR5cGVdKTtyZXR1cm4gdGhpcy5oYXx8ITF9LGNvbXBvc2VkUGF0aDpmdW5jdGlvbigpe3RoaXMudGF8fCh0aGlzLnRhPW9kKHRoaXMuX190YXJnZXQsdGhpcy5jb21wb3NlZCkpO3JldHVybiB0aGlzLnRhfSxnZXQgdGFyZ2V0KCl7cmV0dXJuIHBkKHRoaXMuY3VycmVudFRhcmdldCx0aGlzLmNvbXBvc2VkUGF0aCgpKX0sZ2V0IHJlbGF0ZWRUYXJnZXQoKXtpZighdGhpcy5qYSlyZXR1cm4gbnVsbDt0aGlzLndhfHwodGhpcy53YT1vZCh0aGlzLmphLCEwKSk7cmV0dXJuIHBkKHRoaXMuY3VycmVudFRhcmdldCx0aGlzLndhKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7RXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO3RoaXMuaWE9ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe0V2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbCh0aGlzKTsKdGhpcy5pYT10aGlzLkhhPSEwfX07ZnVuY3Rpb24gcmQoYSl7ZnVuY3Rpb24gYihiLGQpe2I9bmV3IGEoYixkKTtiLmhhPWQmJiEhZC5jb21wb3NlZDtyZXR1cm4gYn1BYihiLGEpO2IucHJvdG90eXBlPWEucHJvdG90eXBlO3JldHVybiBifXZhciBzZD17Zm9jdXM6ITAsYmx1cjohMH07ZnVuY3Rpb24gdGQoYSl7cmV0dXJuIGEuX190YXJnZXQhPT1hLnRhcmdldHx8YS5qYSE9PWEucmVsYXRlZFRhcmdldH1mdW5jdGlvbiB1ZChhLGIsYyl7aWYoYz1iLl9faGFuZGxlcnMmJmIuX19oYW5kbGVyc1thLnR5cGVdJiZiLl9faGFuZGxlcnNbYS50eXBlXVtjXSlmb3IodmFyIGQ9MCxlOyhlPWNbZF0pJiYoIXRkKGEpfHxhLnRhcmdldCE9PWEucmVsYXRlZFRhcmdldCkmJihlLmNhbGwoYixhKSwhYS5IYSk7ZCsrKTt9CmZ1bmN0aW9uIHZkKGEpe3ZhciBiPWEuY29tcG9zZWRQYXRoKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH0sY29uZmlndXJhYmxlOiEwfSk7Zm9yKHZhciBjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBkPWJbY107dWQoYSxkLCJjYXB0dXJlIik7aWYoYS5pYSlyZXR1cm59T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImV2ZW50UGhhc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXZlbnQuQVRfVEFSR0VUfX0pO3ZhciBlO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe2Q9YltjXTt2YXIgZj1BKGQpO2Y9ZiYmZi5yb290O2lmKDA9PT1jfHxmJiZmPT09ZSlpZih1ZChhLGQsImJ1YmJsZSIpLGQhPT13aW5kb3cmJihlPWQuZ2V0Um9vdE5vZGUoKSksYS5pYSlicmVha319CmZ1bmN0aW9uIHdkKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGg9YVtnXSxrPWgudHlwZSxtPWguY2FwdHVyZSxuPWgub25jZSxyPWgucGFzc2l2ZTtpZihiPT09aC5ub2RlJiZjPT09ayYmZD09PW0mJmU9PT1uJiZmPT09cilyZXR1cm4gZ31yZXR1cm4tMX0KZnVuY3Rpb24geGQoYSxiLGMpe2lmKGIpe3ZhciBkPXR5cGVvZiBiO2lmKCJmdW5jdGlvbiI9PT1kfHwib2JqZWN0Ij09PWQpaWYoIm9iamVjdCIhPT1kfHxiLmhhbmRsZUV2ZW50JiYiZnVuY3Rpb24iPT09dHlwZW9mIGIuaGFuZGxlRXZlbnQpe2lmKGMmJiJvYmplY3QiPT09dHlwZW9mIGMpe3ZhciBlPSEhYy5jYXB0dXJlO3ZhciBmPSEhYy5vbmNlO3ZhciBnPSEhYy5wYXNzaXZlfWVsc2UgZT0hIWMsZz1mPSExO3ZhciBoPWMmJmMubGF8fHRoaXMsaz1iW21kXTtpZihrKXtpZigtMTx3ZChrLGgsYSxlLGYsZykpcmV0dXJufWVsc2UgYlttZF09W107az1mdW5jdGlvbihlKXtmJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpO2UuX190YXJnZXR8fHlkKGUpO2lmKGghPT10aGlzKXt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsImN1cnJlbnRUYXJnZXQiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBofSwKY29uZmlndXJhYmxlOiEwfSl9aWYoZS5jb21wb3NlZHx8LTE8ZS5jb21wb3NlZFBhdGgoKS5pbmRleE9mKGgpKWlmKHRkKGUpJiZlLnRhcmdldD09PWUucmVsYXRlZFRhcmdldCllLmV2ZW50UGhhc2U9PT1FdmVudC5CVUJCTElOR19QSEFTRSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtlbHNlIGlmKGUuZXZlbnRQaGFzZT09PUV2ZW50LkNBUFRVUklOR19QSEFTRXx8ZS5idWJibGVzfHxlLnRhcmdldD09PWh8fGggaW5zdGFuY2VvZiBXaW5kb3cpe3ZhciBrPSJmdW5jdGlvbiI9PT1kP2IuY2FsbChoLGUpOmIuaGFuZGxlRXZlbnQmJmIuaGFuZGxlRXZlbnQoZSk7aCE9PXRoaXMmJihnPyhPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiY3VycmVudFRhcmdldCIsZyksZz1udWxsKTpkZWxldGUgZS5jdXJyZW50VGFyZ2V0KTtyZXR1cm4ga319O2JbbWRdLnB1c2goe25vZGU6aCx0eXBlOmEsY2FwdHVyZTplLG9uY2U6ZixwYXNzaXZlOmcsZ2I6a30pO3NkW2FdPyh0aGlzLl9faGFuZGxlcnM9CnRoaXMuX19oYW5kbGVyc3x8e30sdGhpcy5fX2hhbmRsZXJzW2FdPXRoaXMuX19oYW5kbGVyc1thXXx8e2NhcHR1cmU6W10sYnViYmxlOltdfSx0aGlzLl9faGFuZGxlcnNbYV1bZT8iY2FwdHVyZSI6ImJ1YmJsZSJdLnB1c2goaykpOih0aGlzIGluc3RhbmNlb2YgV2luZG93P0QuZWI6RC5hZGRFdmVudExpc3RlbmVyKS5jYWxsKHRoaXMsYSxrLGMpfX19CmZ1bmN0aW9uIHpkKGEsYixjKXtpZihiKXtpZihjJiYib2JqZWN0Ij09PXR5cGVvZiBjKXt2YXIgZD0hIWMuY2FwdHVyZTt2YXIgZT0hIWMub25jZTt2YXIgZj0hIWMucGFzc2l2ZX1lbHNlIGQ9ISFjLGY9ZT0hMTt2YXIgZz1jJiZjLmxhfHx0aGlzLGg9dm9pZCAwO3ZhciBrPW51bGw7dHJ5e2s9YlttZF19Y2F0Y2gobSl7fWsmJihlPXdkKGssZyxhLGQsZSxmKSwtMTxlJiYoaD1rLnNwbGljZShlLDEpWzBdLmdiLGsubGVuZ3RofHwoYlttZF09dm9pZCAwKSkpOyh0aGlzIGluc3RhbmNlb2YgV2luZG93P0QuZmI6RC5yZW1vdmVFdmVudExpc3RlbmVyKS5jYWxsKHRoaXMsYSxofHxiLGMpO2gmJnNkW2FdJiZ0aGlzLl9faGFuZGxlcnMmJnRoaXMuX19oYW5kbGVyc1thXSYmKGE9dGhpcy5fX2hhbmRsZXJzW2FdW2Q/ImNhcHR1cmUiOiJidWJibGUiXSxoPWEuaW5kZXhPZihoKSwtMTxoJiZhLnNwbGljZShoLDEpKX19CmZ1bmN0aW9uIEFkKCl7Zm9yKHZhciBhIGluIHNkKXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGEsZnVuY3Rpb24oYSl7YS5fX3RhcmdldHx8KHlkKGEpLHZkKGEpKX0sITApfWZ1bmN0aW9uIHlkKGEpe2EuX190YXJnZXQ9YS50YXJnZXQ7YS5qYT1hLnJlbGF0ZWRUYXJnZXQ7aWYoQi5JKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSk7aWYoIWIuaGFzT3duUHJvcGVydHkoIl9fcGF0Y2hQcm90byIpKXt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO2MuaWI9Yjt5YihjLHFkKTtiLl9fcGF0Y2hQcm90bz1jfWEuX19wcm90b19fPWIuX19wYXRjaFByb3RvfWVsc2UgeWIoYSxxZCl9dmFyIEJkPXJkKHdpbmRvdy5FdmVudCksQ2Q9cmQod2luZG93LkN1c3RvbUV2ZW50KSxEZD1yZCh3aW5kb3cuTW91c2VFdmVudCk7ZnVuY3Rpb24gRWQoYSxiKXtyZXR1cm57aW5kZXg6YSxXOltdLGJhOmJ9fQpmdW5jdGlvbiBGZChhLGIsYyxkKXt2YXIgZT0wLGY9MCxnPTAsaD0wLGs9TWF0aC5taW4oYi1lLGQtZik7aWYoMD09ZSYmMD09ZilhOntmb3IoZz0wO2c8aztnKyspaWYoYVtnXSE9PWNbZ10pYnJlYWsgYTtnPWt9aWYoYj09YS5sZW5ndGgmJmQ9PWMubGVuZ3RoKXtoPWEubGVuZ3RoO2Zvcih2YXIgbT1jLmxlbmd0aCxuPTA7bjxrLWcmJkdkKGFbLS1oXSxjWy0tbV0pOyluKys7aD1ufWUrPWc7Zis9ZztiLT1oO2QtPWg7aWYoMD09Yi1lJiYwPT1kLWYpcmV0dXJuW107aWYoZT09Yil7Zm9yKGI9RWQoZSwwKTtmPGQ7KWIuVy5wdXNoKGNbZisrXSk7cmV0dXJuW2JdfWlmKGY9PWQpcmV0dXJuW0VkKGUsYi1lKV07az1lO2c9ZjtkPWQtZysxO2g9Yi1rKzE7Yj1BcnJheShkKTtmb3IobT0wO208ZDttKyspYlttXT1BcnJheShoKSxiW21dWzBdPW07Zm9yKG09MDttPGg7bSsrKWJbMF1bbV09bTtmb3IobT0xO208ZDttKyspZm9yKG49MTtuPGg7bisrKWlmKGFbaytuLTFdPT09Y1tnK20tMV0pYlttXVtuXT0KYlttLTFdW24tMV07ZWxzZXt2YXIgcj1iW20tMV1bbl0rMSxHPWJbbV1bbi0xXSsxO2JbbV1bbl09cjxHP3I6R31rPWIubGVuZ3RoLTE7Zz1iWzBdLmxlbmd0aC0xO2Q9YltrXVtnXTtmb3IoYT1bXTswPGt8fDA8ZzspMD09az8oYS5wdXNoKDIpLGctLSk6MD09Zz8oYS5wdXNoKDMpLGstLSk6KGg9YltrLTFdW2ctMV0sbT1iW2stMV1bZ10sbj1iW2tdW2ctMV0scj1tPG4/bTxoP206aDpuPGg/bjpoLHI9PWg/KGg9PWQ/YS5wdXNoKDApOihhLnB1c2goMSksZD1oKSxrLS0sZy0tKTpyPT1tPyhhLnB1c2goMyksay0tLGQ9bSk6KGEucHVzaCgyKSxnLS0sZD1uKSk7YS5yZXZlcnNlKCk7Yj12b2lkIDA7az1bXTtmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKXN3aXRjaChhW2ddKXtjYXNlIDA6YiYmKGsucHVzaChiKSxiPXZvaWQgMCk7ZSsrO2YrKzticmVhaztjYXNlIDE6Ynx8KGI9RWQoZSwwKSk7Yi5iYSsrO2UrKztiLlcucHVzaChjW2ZdKTtmKys7YnJlYWs7Y2FzZSAyOmJ8fChiPUVkKGUsCjApKTtiLmJhKys7ZSsrO2JyZWFrO2Nhc2UgMzpifHwoYj1FZChlLDApKSxiLlcucHVzaChjW2ZdKSxmKyt9YiYmay5wdXNoKGIpO3JldHVybiBrfWZ1bmN0aW9uIEdkKGEsYil7cmV0dXJuIGE9PT1ifTt2YXIgYmQ9TS5wYXJlbnROb2RlLEhkPU0uY2hpbGROb2RlcyxJZD17fTtmdW5jdGlvbiBKZChhKXt2YXIgYj1bXTtkbyBiLnVuc2hpZnQoYSk7d2hpbGUoYT1hLnBhcmVudE5vZGUpO3JldHVybiBifWZ1bmN0aW9uIE5jKGEsYixjKXtpZihhIT09SWQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSWxsZWdhbCBjb25zdHJ1Y3RvciIpO3RoaXMuT2E9IlNoYWR5Um9vdCI7YT1IZChiKTt0aGlzLmhvc3Q9Yjt0aGlzLmI9YyYmYy5tb2RlO1NjKGIsYSk7Yz1BKGIpO2Mucm9vdD10aGlzO2MuRGE9ImNsb3NlZCIhPT10aGlzLmI/dGhpczpudWxsO2M9eih0aGlzKTtjLmZpcnN0Q2hpbGQ9Yy5sYXN0Q2hpbGQ9Yy5wYXJlbnROb2RlPWMubmV4dFNpYmxpbmc9Yy5wcmV2aW91c1NpYmxpbmc9bnVsbDtjLmNoaWxkTm9kZXM9W107dGhpcy5hYT0hMTt0aGlzLmE9dGhpcy53PXRoaXMubT1udWxsO2M9MDtmb3IodmFyIGQ9YS5sZW5ndGg7YzxkO2MrKylELnJlbW92ZUNoaWxkLmNhbGwoYixhW2NdKX0KZnVuY3Rpb24gV2MoYSl7YS5hYXx8KGEuYWE9ITAsSmIoZnVuY3Rpb24oKXtyZXR1cm4gS2QoYSl9KSl9ZnVuY3Rpb24gS2QoYSl7Zm9yKHZhciBiO2E7KXthLmFhJiYoYj1hKTthOnt2YXIgYz1hO2E9Yy5ob3N0LmdldFJvb3ROb2RlKCk7aWYoQyhhKSlmb3IodmFyIGQ9Yy5ob3N0LmNoaWxkTm9kZXMsZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGM9ZFtlXSwic2xvdCI9PWMubG9jYWxOYW1lKWJyZWFrIGE7YT12b2lkIDB9fWImJmIuX3JlbmRlclJvb3QoKX0KTmMucHJvdG90eXBlLl9yZW5kZXJSb290PWZ1bmN0aW9uKCl7dGhpcy5hYT0hMTtpZih0aGlzLm0pe2FkKHRoaXMpO2Zvcih2YXIgYT0wLGI7YTx0aGlzLm0ubGVuZ3RoO2ErKyl7Yj10aGlzLm1bYV07dmFyIGM9QShiKSxkPWMuYXNzaWduZWROb2RlcztjLmFzc2lnbmVkTm9kZXM9W107Yy5MPVtdO2lmKGMucGE9ZClmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXt2YXIgZT1BKGRbY10pO2UuWj1lLmFzc2lnbmVkU2xvdDtlLmFzc2lnbmVkU2xvdD09PWImJihlLmFzc2lnbmVkU2xvdD1udWxsKX19Zm9yKGI9dGhpcy5ob3N0LmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpTGQodGhpcyxiKTtmb3IoYT0wO2E8dGhpcy5tLmxlbmd0aDthKyspe2I9dGhpcy5tW2FdO2Q9QShiKTtpZighZC5hc3NpZ25lZE5vZGVzLmxlbmd0aClmb3IoYz1iLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpTGQodGhpcyxjLGIpOyhjPShjPUEoYi5wYXJlbnROb2RlKSkmJmMucm9vdCkmJmNkKGMpJiZjLl9yZW5kZXJSb290KCk7Ck1kKHRoaXMsZC5MLGQuYXNzaWduZWROb2Rlcyk7aWYoYz1kLnBhKXtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKUEoY1tlXSkuWj1udWxsO2QucGE9bnVsbDtjLmxlbmd0aD5kLmFzc2lnbmVkTm9kZXMubGVuZ3RoJiYoZC5kYT0hMCl9ZC5kYSYmKGQuZGE9ITEsTmQodGhpcyxiKSl9YT10aGlzLm07Yj1bXTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWM9YVtkXS5wYXJlbnROb2RlLChlPUEoYykpJiZlLnJvb3R8fCEoMD5iLmluZGV4T2YoYykpfHxiLnB1c2goYyk7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKyl7ZD1iW2FdO2M9ZD09PXRoaXM/dGhpcy5ob3N0OmQ7ZT1bXTtkPWQuY2hpbGROb2Rlcztmb3IodmFyIGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9ZFtmXTtpZigic2xvdCI9PWcubG9jYWxOYW1lKXtnPUEoZykuTDtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKyllLnB1c2goZ1toXSl9ZWxzZSBlLnB1c2goZyl9ZD12b2lkIDA7Zj1IZChjKTtnPUZkKGUsZS5sZW5ndGgsZixmLmxlbmd0aCk7CmZvcih2YXIgaz1oPTA7aDxnLmxlbmd0aCYmKGQ9Z1toXSk7aCsrKXtmb3IodmFyIG09MCxuO208ZC5XLmxlbmd0aCYmKG49ZC5XW21dKTttKyspYmQobik9PT1jJiZELnJlbW92ZUNoaWxkLmNhbGwoYyxuKSxmLnNwbGljZShkLmluZGV4K2ssMSk7ay09ZC5iYX1mb3Ioaz0wO2s8Zy5sZW5ndGgmJihkPWdba10pO2srKylmb3IoaD1mW2QuaW5kZXhdLG09ZC5pbmRleDttPGQuaW5kZXgrZC5iYTttKyspbj1lW21dLEQuaW5zZXJ0QmVmb3JlLmNhbGwoYyxuLGgpLGYuc3BsaWNlKG0sMCxuKX19fTtmdW5jdGlvbiBMZChhLGIsYyl7dmFyIGQ9eihiKSxlPWQuWjtkLlo9bnVsbDtjfHwoYz0oYT1hLndbYi5zbG90fHwiX19jYXRjaGFsbCJdKSYmYVswXSk7Yz8oeihjKS5hc3NpZ25lZE5vZGVzLnB1c2goYiksZC5hc3NpZ25lZFNsb3Q9Yyk6ZC5hc3NpZ25lZFNsb3Q9dm9pZCAwO2UhPT1kLmFzc2lnbmVkU2xvdCYmZC5hc3NpZ25lZFNsb3QmJih6KGQuYXNzaWduZWRTbG90KS5kYT0hMCl9CmZ1bmN0aW9uIE1kKGEsYixjKXtmb3IodmFyIGQ9MCxlO2Q8Yy5sZW5ndGgmJihlPWNbZF0pO2QrKylpZigic2xvdCI9PWUubG9jYWxOYW1lKXt2YXIgZj1BKGUpLmFzc2lnbmVkTm9kZXM7ZiYmZi5sZW5ndGgmJk1kKGEsYixmKX1lbHNlIGIucHVzaChjW2RdKX1mdW5jdGlvbiBOZChhLGIpe0QuZGlzcGF0Y2hFdmVudC5jYWxsKGIsbmV3IEV2ZW50KCJzbG90Y2hhbmdlIikpO2I9QShiKTtiLmFzc2lnbmVkU2xvdCYmTmQoYSxiLmFzc2lnbmVkU2xvdCl9ZnVuY3Rpb24gYWQoYSl7aWYoYS5hJiZhLmEubGVuZ3RoKXtmb3IodmFyIGI9YS5hLGMsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO1NjKGUpO1NjKGUucGFyZW50Tm9kZSk7dmFyIGY9ZWQoZSk7YS53W2ZdPyhjPWN8fHt9LGNbZl09ITAsYS53W2ZdLnB1c2goZSkpOmEud1tmXT1bZV07YS5tLnB1c2goZSl9aWYoYylmb3IodmFyIGcgaW4gYylhLndbZ109ZmQoYS53W2ddKTthLmE9W119fQpmdW5jdGlvbiBlZChhKXt2YXIgYj1hLm5hbWV8fGEuZ2V0QXR0cmlidXRlKCJuYW1lIil8fCJfX2NhdGNoYWxsIjtyZXR1cm4gYS5KYT1ifWZ1bmN0aW9uIGZkKGEpe3JldHVybiBhLnNvcnQoZnVuY3Rpb24oYSxjKXthPUpkKGEpO2Zvcih2YXIgYj1KZChjKSxlPTA7ZTxhLmxlbmd0aDtlKyspe2M9YVtlXTt2YXIgZj1iW2VdO2lmKGMhPT1mKXJldHVybiBhPUFycmF5LmZyb20oYy5wYXJlbnROb2RlLmNoaWxkTm9kZXMpLGEuaW5kZXhPZihjKS1hLmluZGV4T2YoZil9fSl9ZnVuY3Rpb24gY2QoYSl7YWQoYSk7cmV0dXJuISghYS5tfHwhYS5tLmxlbmd0aCl9O2Z1bmN0aW9uIE9kKGEpe3ZhciBiPWEuZ2V0Um9vdE5vZGUoKTtDKGIpJiZLZChiKTtyZXR1cm4oYT1BKGEpKSYmYS5hc3NpZ25lZFNsb3R8fG51bGx9CnZhciBQZD17YWRkRXZlbnRMaXN0ZW5lcjp4ZC5iaW5kKHdpbmRvdykscmVtb3ZlRXZlbnRMaXN0ZW5lcjp6ZC5iaW5kKHdpbmRvdyl9LFFkPXthZGRFdmVudExpc3RlbmVyOnhkLHJlbW92ZUV2ZW50TGlzdGVuZXI6emQsYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFVjKHRoaXMsYSl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhLGIpe3JldHVybiBVYyh0aGlzLGEsYil9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiBWYyh0aGlzLGEpfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oYSxiKXtVYyh0aGlzLGEsYik7VmModGhpcyxiKTtyZXR1cm4gYX0sY2xvbmVOb2RlOmZ1bmN0aW9uKGEpe2lmKCJ0ZW1wbGF0ZSI9PXRoaXMubG9jYWxOYW1lKXZhciBiPUQuY2xvbmVOb2RlLmNhbGwodGhpcyxhKTtlbHNlIGlmKGI9RC5jbG9uZU5vZGUuY2FsbCh0aGlzLCExKSxhKXthPXRoaXMuY2hpbGROb2Rlcztmb3IodmFyIGM9MCxkO2M8YS5sZW5ndGg7YysrKWQ9YVtjXS5jbG9uZU5vZGUoITApLApiLmFwcGVuZENoaWxkKGQpfXJldHVybiBifSxnZXRSb290Tm9kZTpmdW5jdGlvbigpe3JldHVybiBnZCh0aGlzKX0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIEdiKHRoaXMsYSl9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSl7S2IoKTtyZXR1cm4gRC5kaXNwYXRjaEV2ZW50LmNhbGwodGhpcyxhKX19OwpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRZCx7aXNDb25uZWN0ZWQ6e2dldDpmdW5jdGlvbigpe2lmKEFjJiZBYy5jYWxsKHRoaXMpKXJldHVybiEwO2lmKHRoaXMubm9kZVR5cGU9PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSlyZXR1cm4hMTt2YXIgYT10aGlzLm93bmVyRG9jdW1lbnQ7aWYoRmIpe2lmKEQuY29udGFpbnMuY2FsbChhLHRoaXMpKXJldHVybiEwfWVsc2UgaWYoYS5kb2N1bWVudEVsZW1lbnQmJkQuY29udGFpbnMuY2FsbChhLmRvY3VtZW50RWxlbWVudCx0aGlzKSlyZXR1cm4hMDtmb3IoYT10aGlzO2EmJiEoYSBpbnN0YW5jZW9mIERvY3VtZW50KTspYT1hLnBhcmVudE5vZGV8fChDKGEpP2EuaG9zdDp2b2lkIDApO3JldHVybiEhKGEmJmEgaW5zdGFuY2VvZiBEb2N1bWVudCl9LGNvbmZpZ3VyYWJsZTohMH19KTsKdmFyIFJkPXtnZXQgYXNzaWduZWRTbG90KCl7cmV0dXJuIE9kKHRoaXMpfX0sU2Q9e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGhkKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIHhiLmNhbGwoYixhKX0sZnVuY3Rpb24oYSl7cmV0dXJuISFhfSlbMF18fG51bGx9LHF1ZXJ5U2VsZWN0b3JBbGw6ZnVuY3Rpb24oYSxiKXtpZihiKXtiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKEQucXVlcnlTZWxlY3RvckFsbCh0aGlzLGEpKTt2YXIgYz10aGlzLmdldFJvb3ROb2RlKCk7cmV0dXJuIGIuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJvb3ROb2RlKCk9PWN9KX1yZXR1cm4gaGQodGhpcyxmdW5jdGlvbihiKXtyZXR1cm4geGIuY2FsbChiLGEpfSl9fSxUZD17YXNzaWduZWROb2RlczpmdW5jdGlvbihhKXtpZigic2xvdCI9PT10aGlzLmxvY2FsTmFtZSl7dmFyIGI9dGhpcy5nZXRSb290Tm9kZSgpO0MoYikmJktkKGIpO3JldHVybihiPUEodGhpcykpPyhhJiZhLmZsYXR0ZW4/CmIuTDpiLmFzc2lnbmVkTm9kZXMpfHxbXTpbXX19fSxVZD16Yih7c2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7a2QodGhpcyxhLGIpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7RC5yZW1vdmVBdHRyaWJ1dGUuY2FsbCh0aGlzLGEpO2RkKHRoaXMsYSl9LGF0dGFjaFNoYWRvdzpmdW5jdGlvbihhKXtpZighdGhpcyl0aHJvdyJNdXN0IHByb3ZpZGUgYSBob3N0LiI7aWYoIWEpdGhyb3ciTm90IGVub3VnaCBhcmd1bWVudHMuIjtyZXR1cm4gbmV3IE5jKElkLHRoaXMsYSl9LGdldCBzbG90KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzbG90Iil9LHNldCBzbG90KGEpe2tkKHRoaXMsInNsb3QiLGEpfSxnZXQgYXNzaWduZWRTbG90KCl7cmV0dXJuIE9kKHRoaXMpfX0sU2QsVGQpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFVkLEpjKTsKdmFyIFZkPXpiKHtpbXBvcnROb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGxkKGEsYil9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiBoZCh0aGlzLGZ1bmN0aW9uKGIpe3JldHVybiBiLmlkPT1hfSxmdW5jdGlvbihhKXtyZXR1cm4hIWF9KVswXXx8bnVsbH19LFNkKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhWZCx7X2FjdGl2ZUVsZW1lbnQ6S2MuYWN0aXZlRWxlbWVudH0pOwp2YXIgV2Q9SFRNTEVsZW1lbnQucHJvdG90eXBlLmJsdXIsWGQ9emIoe2JsdXI6ZnVuY3Rpb24oKXt2YXIgYT1BKHRoaXMpOyhhPShhPWEmJmEucm9vdCkmJmEuYWN0aXZlRWxlbWVudCk/YS5ibHVyKCk6V2QuY2FsbCh0aGlzKX19KSxZZD17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7Im9iamVjdCIhPT10eXBlb2YgYyYmKGM9e2NhcHR1cmU6ISFjfSk7Yy5sYT10aGlzO3RoaXMuaG9zdC5hZGRFdmVudExpc3RlbmVyKGEsYixjKX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7Im9iamVjdCIhPT10eXBlb2YgYyYmKGM9e2NhcHR1cmU6ISFjfSk7Yy5sYT10aGlzO3RoaXMuaG9zdC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGhkKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGIuaWQ9PWF9LGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pWzBdfHxudWxsfX07CmZ1bmN0aW9uIFpkKGEsYil7Zm9yKHZhciBjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixlKTtmLnZhbHVlP2FbZV09Zi52YWx1ZTpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxlLGYpfX07aWYoQi5CYSl7dmFyIFNoYWR5RE9NPXtpblVzZTpCLkJhLHBhdGNoOmZ1bmN0aW9uKGEpe1BjKGEpO09jKGEpO3JldHVybiBhfSxpc1NoYWR5Um9vdDpDLGVucXVldWU6SmIsZmx1c2g6S2Isc2V0dGluZ3M6QixmaWx0ZXJNdXRhdGlvbnM6UWIsb2JzZXJ2ZUNoaWxkcmVuOk9iLHVub2JzZXJ2ZUNoaWxkcmVuOlBiLG5hdGl2ZU1ldGhvZHM6RCxuYXRpdmVUcmVlOk19O3dpbmRvdy5TaGFkeURPTT1TaGFkeURPTTt3aW5kb3cuRXZlbnQ9QmQ7d2luZG93LkN1c3RvbUV2ZW50PUNkO3dpbmRvdy5Nb3VzZUV2ZW50PURkO0FkKCk7dmFyICRkPXdpbmRvdy5jdXN0b21FbGVtZW50cyYmd2luZG93LmN1c3RvbUVsZW1lbnRzLm5hdGl2ZUhUTUxFbGVtZW50fHxIVE1MRWxlbWVudDtaZChOYy5wcm90b3R5cGUsWWQpO1pkKHdpbmRvdy5Ob2RlLnByb3RvdHlwZSxRZCk7WmQod2luZG93LldpbmRvdy5wcm90b3R5cGUsUGQpO1pkKHdpbmRvdy5UZXh0LnByb3RvdHlwZSxSZCk7WmQod2luZG93LkRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLApTZCk7WmQod2luZG93LkVsZW1lbnQucHJvdG90eXBlLFVkKTtaZCh3aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLFZkKTt3aW5kb3cuSFRNTFNsb3RFbGVtZW50JiZaZCh3aW5kb3cuSFRNTFNsb3RFbGVtZW50LnByb3RvdHlwZSxUZCk7WmQoJGQucHJvdG90eXBlLFhkKTtCLkkmJihMYyh3aW5kb3cuTm9kZS5wcm90b3R5cGUpLExjKHdpbmRvdy5UZXh0LnByb3RvdHlwZSksTGMod2luZG93LkRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlKSxMYyh3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUpLExjKCRkLnByb3RvdHlwZSksTGMod2luZG93LkRvY3VtZW50LnByb3RvdHlwZSksd2luZG93LkhUTUxTbG90RWxlbWVudCYmTGMod2luZG93LkhUTUxTbG90RWxlbWVudC5wcm90b3R5cGUpKTtNYygpO3dpbmRvdy5TaGFkb3dSb290PU5jfTt2YXIgYWU9bmV3IFNldCgiYW5ub3RhdGlvbi14bWwgY29sb3ItcHJvZmlsZSBmb250LWZhY2UgZm9udC1mYWNlLXNyYyBmb250LWZhY2UtdXJpIGZvbnQtZmFjZS1mb3JtYXQgZm9udC1mYWNlLW5hbWUgbWlzc2luZy1nbHlwaCIuc3BsaXQoIiAiKSk7ZnVuY3Rpb24gYmUoYSl7dmFyIGI9YWUuaGFzKGEpO2E9L15bYS16XVsuMC05X2Etel0qLVtcLS4wLTlfYS16XSokLy50ZXN0KGEpO3JldHVybiFiJiZhfWZ1bmN0aW9uIE8oYSl7dmFyIGI9YS5pc0Nvbm5lY3RlZDtpZih2b2lkIDAhPT1iKXJldHVybiBiO2Zvcig7YSYmIShhLl9fQ0VfaXNJbXBvcnREb2N1bWVudHx8YSBpbnN0YW5jZW9mIERvY3VtZW50KTspYT1hLnBhcmVudE5vZGV8fCh3aW5kb3cuU2hhZG93Um9vdCYmYSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q/YS5ob3N0OnZvaWQgMCk7cmV0dXJuISghYXx8IShhLl9fQ0VfaXNJbXBvcnREb2N1bWVudHx8YSBpbnN0YW5jZW9mIERvY3VtZW50KSl9CmZ1bmN0aW9uIGNlKGEsYil7Zm9yKDtiJiZiIT09YSYmIWIubmV4dFNpYmxpbmc7KWI9Yi5wYXJlbnROb2RlO3JldHVybiBiJiZiIT09YT9iLm5leHRTaWJsaW5nOm51bGx9CmZ1bmN0aW9uIGRlKGEsYixjKXtjPXZvaWQgMD09PWM/bmV3IFNldDpjO2Zvcih2YXIgZD1hO2Q7KXtpZihkLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBlPWQ7YihlKTt2YXIgZj1lLmxvY2FsTmFtZTtpZigibGluayI9PT1mJiYiaW1wb3J0Ij09PWUuZ2V0QXR0cmlidXRlKCJyZWwiKSl7ZD1lLmltcG9ydDtpZihkIGluc3RhbmNlb2YgTm9kZSYmIWMuaGFzKGQpKWZvcihjLmFkZChkKSxkPWQuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylkZShkLGIsYyk7ZD1jZShhLGUpO2NvbnRpbnVlfWVsc2UgaWYoInRlbXBsYXRlIj09PWYpe2Q9Y2UoYSxlKTtjb250aW51ZX1pZihlPWUuX19DRV9zaGFkb3dSb290KWZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylkZShlLGIsYyl9ZD1kLmZpcnN0Q2hpbGQ/ZC5maXJzdENoaWxkOmNlKGEsZCl9fWZ1bmN0aW9uIFAoYSxiLGMpe2FbYl09Y307ZnVuY3Rpb24gZWUoKXt0aGlzLmE9bmV3IE1hcDt0aGlzLk09bmV3IE1hcDt0aGlzLkY9W107dGhpcy5jPSExfWZ1bmN0aW9uIGZlKGEsYixjKXthLmEuc2V0KGIsYyk7YS5NLnNldChjLmNvbnN0cnVjdG9yLGMpfWZ1bmN0aW9uIGdlKGEsYil7YS5jPSEwO2EuRi5wdXNoKGIpfWZ1bmN0aW9uIGhlKGEsYil7YS5jJiZkZShiLGZ1bmN0aW9uKGIpe3JldHVybiBhLmIoYil9KX1lZS5wcm90b3R5cGUuYj1mdW5jdGlvbihhKXtpZih0aGlzLmMmJiFhLl9fQ0VfcGF0Y2hlZCl7YS5fX0NFX3BhdGNoZWQ9ITA7Zm9yKHZhciBiPTA7Yjx0aGlzLkYubGVuZ3RoO2IrKyl0aGlzLkZbYl0oYSl9fTtmdW5jdGlvbiBRKGEsYil7dmFyIGM9W107ZGUoYixmdW5jdGlvbihhKXtyZXR1cm4gYy5wdXNoKGEpfSk7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGQ9Y1tiXTsxPT09ZC5fX0NFX3N0YXRlP2EuY29ubmVjdGVkQ2FsbGJhY2soZCk6aWUoYSxkKX19CmZ1bmN0aW9uIFIoYSxiKXt2YXIgYz1bXTtkZShiLGZ1bmN0aW9uKGEpe3JldHVybiBjLnB1c2goYSl9KTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZD1jW2JdOzE9PT1kLl9fQ0Vfc3RhdGUmJmEuZGlzY29ubmVjdGVkQ2FsbGJhY2soZCl9fQpmdW5jdGlvbiBqZShhLGIsYyl7Yz12b2lkIDA9PT1jP3t9OmM7dmFyIGQ9Yy5iYnx8bmV3IFNldCxlPWMuZ2F8fGZ1bmN0aW9uKGIpe3JldHVybiBpZShhLGIpfSxmPVtdO2RlKGIsZnVuY3Rpb24oYil7aWYoImxpbmsiPT09Yi5sb2NhbE5hbWUmJiJpbXBvcnQiPT09Yi5nZXRBdHRyaWJ1dGUoInJlbCIpKXt2YXIgYz1iLmltcG9ydDtjIGluc3RhbmNlb2YgTm9kZSYmKGMuX19DRV9pc0ltcG9ydERvY3VtZW50PSEwLGMuX19DRV9oYXNSZWdpc3RyeT0hMCk7YyYmImNvbXBsZXRlIj09PWMucmVhZHlTdGF0ZT9jLl9fQ0VfZG9jdW1lbnRMb2FkSGFuZGxlZD0hMDpiLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7dmFyIGM9Yi5pbXBvcnQ7aWYoIWMuX19DRV9kb2N1bWVudExvYWRIYW5kbGVkKXtjLl9fQ0VfZG9jdW1lbnRMb2FkSGFuZGxlZD0hMDt2YXIgZj1uZXcgU2V0KGQpO2YuZGVsZXRlKGMpO2plKGEsYyx7YmI6ZixnYTplfSl9fSl9ZWxzZSBmLnB1c2goYil9LGQpOwppZihhLmMpZm9yKGI9MDtiPGYubGVuZ3RoO2IrKylhLmIoZltiXSk7Zm9yKGI9MDtiPGYubGVuZ3RoO2IrKyllKGZbYl0pfQpmdW5jdGlvbiBpZShhLGIpe2lmKHZvaWQgMD09PWIuX19DRV9zdGF0ZSl7dmFyIGM9Yi5vd25lckRvY3VtZW50O2lmKGMuZGVmYXVsdFZpZXd8fGMuX19DRV9pc0ltcG9ydERvY3VtZW50JiZjLl9fQ0VfaGFzUmVnaXN0cnkpaWYoYz1hLmEuZ2V0KGIubG9jYWxOYW1lKSl7Yy5jb25zdHJ1Y3Rpb25TdGFjay5wdXNoKGIpO3ZhciBkPWMuY29uc3RydWN0b3I7dHJ5e3RyeXtpZihuZXcgZCE9PWIpdGhyb3cgRXJyb3IoIlRoZSBjdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvciBkaWQgbm90IHByb2R1Y2UgdGhlIGVsZW1lbnQgYmVpbmcgdXBncmFkZWQuIik7fWZpbmFsbHl7Yy5jb25zdHJ1Y3Rpb25TdGFjay5wb3AoKX19Y2F0Y2goZyl7dGhyb3cgYi5fX0NFX3N0YXRlPTIsZzt9Yi5fX0NFX3N0YXRlPTE7Yi5fX0NFX2RlZmluaXRpb249YztpZihjLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaylmb3IoYz1jLm9ic2VydmVkQXR0cmlidXRlcyxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sCmY9Yi5nZXRBdHRyaWJ1dGUoZSk7bnVsbCE9PWYmJmEuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGIsZSxudWxsLGYsbnVsbCl9TyhiKSYmYS5jb25uZWN0ZWRDYWxsYmFjayhiKX19fWVlLnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbihhKXt2YXIgYj1hLl9fQ0VfZGVmaW5pdGlvbjtiLmNvbm5lY3RlZENhbGxiYWNrJiZiLmNvbm5lY3RlZENhbGxiYWNrLmNhbGwoYSl9O2VlLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbihhKXt2YXIgYj1hLl9fQ0VfZGVmaW5pdGlvbjtiLmRpc2Nvbm5lY3RlZENhbGxiYWNrJiZiLmRpc2Nvbm5lY3RlZENhbGxiYWNrLmNhbGwoYSl9OwplZS5wcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5fX0NFX2RlZmluaXRpb247Zi5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJi0xPGYub2JzZXJ2ZWRBdHRyaWJ1dGVzLmluZGV4T2YoYikmJmYuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrLmNhbGwoYSxiLGMsZCxlKX07ZnVuY3Rpb24ga2UoYSl7dmFyIGI9ZG9jdW1lbnQ7dGhpcy5BPWE7dGhpcy5hPWI7dGhpcy5QPXZvaWQgMDtqZSh0aGlzLkEsdGhpcy5hKTsibG9hZGluZyI9PT10aGlzLmEucmVhZHlTdGF0ZSYmKHRoaXMuUD1uZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmIuYmluZCh0aGlzKSksdGhpcy5QLm9ic2VydmUodGhpcy5hLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pKX1mdW5jdGlvbiBsZShhKXthLlAmJmEuUC5kaXNjb25uZWN0KCl9a2UucHJvdG90eXBlLmI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hLnJlYWR5U3RhdGU7ImludGVyYWN0aXZlIiE9PWImJiJjb21wbGV0ZSIhPT1ifHxsZSh0aGlzKTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLmFkZGVkTm9kZXMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKWplKHRoaXMuQSxjW2RdKX07ZnVuY3Rpb24gbWUoKXt2YXIgYT10aGlzO3RoaXMuYj10aGlzLmE9dm9pZCAwO3RoaXMuYz1uZXcgUHJvbWlzZShmdW5jdGlvbihiKXthLmI9YjthLmEmJmIoYS5hKX0pfW1lLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl0aHJvdyBFcnJvcigiQWxyZWFkeSByZXNvbHZlZC4iKTt0aGlzLmE9YTt0aGlzLmImJnRoaXMuYihhKX07ZnVuY3Rpb24gUyhhKXt0aGlzLm1hPSExO3RoaXMuQT1hO3RoaXMucmE9bmV3IE1hcDt0aGlzLm5hPWZ1bmN0aW9uKGEpe3JldHVybiBhKCl9O3RoaXMuWT0hMTt0aGlzLm9hPVtdO3RoaXMuTWE9bmV3IGtlKGEpfXE9Uy5wcm90b3R5cGU7CnEuZGVmaW5lPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpZighKGIgaW5zdGFuY2VvZiBGdW5jdGlvbikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ3VzdG9tIGVsZW1lbnQgY29uc3RydWN0b3JzIG11c3QgYmUgZnVuY3Rpb25zLiIpO2lmKCFiZShhKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlRoZSBlbGVtZW50IG5hbWUgJyIrYSsiJyBpcyBub3QgdmFsaWQuIik7aWYodGhpcy5BLmEuZ2V0KGEpKXRocm93IEVycm9yKCJBIGN1c3RvbSBlbGVtZW50IHdpdGggbmFtZSAnIithKyInIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZC4iKTtpZih0aGlzLm1hKXRocm93IEVycm9yKCJBIGN1c3RvbSBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgZGVmaW5lZC4iKTt0aGlzLm1hPSEwO3RyeXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1lW2FdO2lmKHZvaWQgMCE9PWImJiEoYiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl0aHJvdyBFcnJvcigiVGhlICciK2ErIicgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLiIpOwpyZXR1cm4gYn0sZT1iLnByb3RvdHlwZTtpZighKGUgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBjdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSBpcyBub3QgYW4gb2JqZWN0LiIpO3ZhciBmPWQoImNvbm5lY3RlZENhbGxiYWNrIik7dmFyIGc9ZCgiZGlzY29ubmVjdGVkQ2FsbGJhY2siKTt2YXIgaD1kKCJhZG9wdGVkQ2FsbGJhY2siKTt2YXIgaz1kKCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siKTt2YXIgbT1iLm9ic2VydmVkQXR0cmlidXRlc3x8W119Y2F0Y2gobil7cmV0dXJufWZpbmFsbHl7dGhpcy5tYT0hMX1iPXtsb2NhbE5hbWU6YSxjb25zdHJ1Y3RvcjpiLGNvbm5lY3RlZENhbGxiYWNrOmYsZGlzY29ubmVjdGVkQ2FsbGJhY2s6ZyxhZG9wdGVkQ2FsbGJhY2s6aCxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6ayxvYnNlcnZlZEF0dHJpYnV0ZXM6bSxjb25zdHJ1Y3Rpb25TdGFjazpbXX07ZmUodGhpcy5BLGEsYik7dGhpcy5vYS5wdXNoKGIpOwp0aGlzLll8fCh0aGlzLlk9ITAsdGhpcy5uYShmdW5jdGlvbigpe3JldHVybiBuZShjKX0pKX07cS5nYT1mdW5jdGlvbihhKXtqZSh0aGlzLkEsYSl9OwpmdW5jdGlvbiBuZShhKXtpZighMSE9PWEuWSl7YS5ZPSExO2Zvcih2YXIgYj1hLm9hLGM9W10sZD1uZXcgTWFwLGU9MDtlPGIubGVuZ3RoO2UrKylkLnNldChiW2VdLmxvY2FsTmFtZSxbXSk7amUoYS5BLGRvY3VtZW50LHtnYTpmdW5jdGlvbihiKXtpZih2b2lkIDA9PT1iLl9fQ0Vfc3RhdGUpe3ZhciBlPWIubG9jYWxOYW1lLGY9ZC5nZXQoZSk7Zj9mLnB1c2goYik6YS5BLmEuZ2V0KGUpJiZjLnB1c2goYil9fX0pO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspaWUoYS5BLGNbZV0pO2Zvcig7MDxiLmxlbmd0aDspe3ZhciBmPWIuc2hpZnQoKTtlPWYubG9jYWxOYW1lO2Y9ZC5nZXQoZi5sb2NhbE5hbWUpO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKWllKGEuQSxmW2ddKTsoZT1hLnJhLmdldChlKSkmJmUucmVzb2x2ZSh2b2lkIDApfX19cS5nZXQ9ZnVuY3Rpb24oYSl7aWYoYT10aGlzLkEuYS5nZXQoYSkpcmV0dXJuIGEuY29uc3RydWN0b3J9OwpxLndoZW5EZWZpbmVkPWZ1bmN0aW9uKGEpe2lmKCFiZShhKSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFN5bnRheEVycm9yKCInIithKyInIGlzIG5vdCBhIHZhbGlkIGN1c3RvbSBlbGVtZW50IG5hbWUuIikpO3ZhciBiPXRoaXMucmEuZ2V0KGEpO2lmKGIpcmV0dXJuIGIuYztiPW5ldyBtZTt0aGlzLnJhLnNldChhLGIpO3RoaXMuQS5hLmdldChhKSYmIXRoaXMub2Euc29tZShmdW5jdGlvbihiKXtyZXR1cm4gYi5sb2NhbE5hbWU9PT1hfSkmJmIucmVzb2x2ZSh2b2lkIDApO3JldHVybiBiLmN9O3EuWGE9ZnVuY3Rpb24oYSl7bGUodGhpcy5NYSk7dmFyIGI9dGhpcy5uYTt0aGlzLm5hPWZ1bmN0aW9uKGMpe3JldHVybiBhKGZ1bmN0aW9uKCl7cmV0dXJuIGIoYyl9KX19O3dpbmRvdy5DdXN0b21FbGVtZW50UmVnaXN0cnk9UztTLnByb3RvdHlwZS5kZWZpbmU9Uy5wcm90b3R5cGUuZGVmaW5lO1MucHJvdG90eXBlLnVwZ3JhZGU9Uy5wcm90b3R5cGUuZ2E7ClMucHJvdG90eXBlLmdldD1TLnByb3RvdHlwZS5nZXQ7Uy5wcm90b3R5cGUud2hlbkRlZmluZWQ9Uy5wcm90b3R5cGUud2hlbkRlZmluZWQ7Uy5wcm90b3R5cGUucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaz1TLnByb3RvdHlwZS5YYTt2YXIgb2U9d2luZG93LkRvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50LHBlPXdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudE5TLHFlPXdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZSxyZT13aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLnByZXBlbmQsc2U9d2luZG93LkRvY3VtZW50LnByb3RvdHlwZS5hcHBlbmQsdGU9d2luZG93LkRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnByZXBlbmQsdWU9d2luZG93LkRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLmFwcGVuZCx2ZT13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLHdlPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5hcHBlbmRDaGlsZCx4ZT13aW5kb3cuTm9kZS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLHllPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCx6ZT13aW5kb3cuTm9kZS5wcm90b3R5cGUucmVwbGFjZUNoaWxkLEFlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93Lk5vZGUucHJvdG90eXBlLAoidGV4dENvbnRlbnQiKSxCZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93LENlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkVsZW1lbnQucHJvdG90eXBlLCJpbm5lckhUTUwiKSxEZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLEVlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUsRmU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSxHZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTlMsSGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZU5TLEllPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVOUyxKZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50LEtlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZGphY2VudEhUTUwsTGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnByZXBlbmQsCk1lPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5hcHBlbmQsTmU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmJlZm9yZSxPZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuYWZ0ZXIsUGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnJlcGxhY2VXaXRoLFFlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmUsUmU9d2luZG93LkhUTUxFbGVtZW50LFNlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZSwiaW5uZXJIVE1MIiksVGU9d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZGphY2VudEVsZW1lbnQsVWU9d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZGphY2VudEhUTUw7dmFyIFZlPW5ldyBmdW5jdGlvbigpe307ZnVuY3Rpb24gV2UoKXt2YXIgYT1YZTt3aW5kb3cuSFRNTEVsZW1lbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7dmFyIGI9dGhpcy5jb25zdHJ1Y3RvcixkPWEuTS5nZXQoYik7aWYoIWQpdGhyb3cgRXJyb3IoIlRoZSBjdXN0b20gZWxlbWVudCBiZWluZyBjb25zdHJ1Y3RlZCB3YXMgbm90IHJlZ2lzdGVyZWQgd2l0aCBgY3VzdG9tRWxlbWVudHNgLiIpO3ZhciBlPWQuY29uc3RydWN0aW9uU3RhY2s7aWYoMD09PWUubGVuZ3RoKXJldHVybiBlPW9lLmNhbGwoZG9jdW1lbnQsZC5sb2NhbE5hbWUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihlLGIucHJvdG90eXBlKSxlLl9fQ0Vfc3RhdGU9MSxlLl9fQ0VfZGVmaW5pdGlvbj1kLGEuYihlKSxlO2Q9ZS5sZW5ndGgtMTt2YXIgZj1lW2RdO2lmKGY9PT1WZSl0aHJvdyBFcnJvcigiVGhlIEhUTUxFbGVtZW50IGNvbnN0cnVjdG9yIHdhcyBlaXRoZXIgY2FsbGVkIHJlZW50cmFudGx5IGZvciB0aGlzIGNvbnN0cnVjdG9yIG9yIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4iKTsKZVtkXT1WZTtPYmplY3Quc2V0UHJvdG90eXBlT2YoZixiLnByb3RvdHlwZSk7YS5iKGYpO3JldHVybiBmfWIucHJvdG90eXBlPVJlLnByb3RvdHlwZTtyZXR1cm4gYn0oKX07ZnVuY3Rpb24gWWUoYSxiLGMpe2Z1bmN0aW9uIGQoYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoOysrZSlkW2UtMF09YXJndW1lbnRzW2VdO2U9W107Zm9yKHZhciBmPVtdLG09MDttPGQubGVuZ3RoO20rKyl7dmFyIG49ZFttXTtuIGluc3RhbmNlb2YgRWxlbWVudCYmTyhuKSYmZi5wdXNoKG4pO2lmKG4gaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWZvcihuPW4uZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZyllLnB1c2gobik7ZWxzZSBlLnB1c2gobil9Yi5hcHBseSh0aGlzLGQpO2ZvcihkPTA7ZDxmLmxlbmd0aDtkKyspUihhLGZbZF0pO2lmKE8odGhpcykpZm9yKGQ9MDtkPGUubGVuZ3RoO2QrKylmPWVbZF0sZiBpbnN0YW5jZW9mIEVsZW1lbnQmJlEoYSxmKX19dm9pZCAwIT09Yy5mYSYmKGIucHJlcGVuZD1kKGMuZmEpKTt2b2lkIDAhPT1jLmFwcGVuZCYmKGIuYXBwZW5kPWQoYy5hcHBlbmQpKX07ZnVuY3Rpb24gWmUoKXt2YXIgYT1YZTtQKERvY3VtZW50LnByb3RvdHlwZSwiY3JlYXRlRWxlbWVudCIsZnVuY3Rpb24oYil7aWYodGhpcy5fX0NFX2hhc1JlZ2lzdHJ5KXt2YXIgYz1hLmEuZ2V0KGIpO2lmKGMpcmV0dXJuIG5ldyBjLmNvbnN0cnVjdG9yfWI9b2UuY2FsbCh0aGlzLGIpO2EuYihiKTtyZXR1cm4gYn0pO1AoRG9jdW1lbnQucHJvdG90eXBlLCJpbXBvcnROb2RlIixmdW5jdGlvbihiLGMpe2I9cWUuY2FsbCh0aGlzLGIsYyk7dGhpcy5fX0NFX2hhc1JlZ2lzdHJ5P2plKGEsYik6aGUoYSxiKTtyZXR1cm4gYn0pO1AoRG9jdW1lbnQucHJvdG90eXBlLCJjcmVhdGVFbGVtZW50TlMiLGZ1bmN0aW9uKGIsYyl7aWYodGhpcy5fX0NFX2hhc1JlZ2lzdHJ5JiYobnVsbD09PWJ8fCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj09PWIpKXt2YXIgZD1hLmEuZ2V0KGMpO2lmKGQpcmV0dXJuIG5ldyBkLmNvbnN0cnVjdG9yfWI9cGUuY2FsbCh0aGlzLGIsYyk7YS5iKGIpO3JldHVybiBifSk7ClllKGEsRG9jdW1lbnQucHJvdG90eXBlLHtmYTpyZSxhcHBlbmQ6c2V9KX07ZnVuY3Rpb24gJGUoKXt2YXIgYT1YZTtmdW5jdGlvbiBiKGIsZCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsInRleHRDb250ZW50Iix7ZW51bWVyYWJsZTpkLmVudW1lcmFibGUsY29uZmlndXJhYmxlOiEwLGdldDpkLmdldCxzZXQ6ZnVuY3Rpb24oYil7aWYodGhpcy5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKWQuc2V0LmNhbGwodGhpcyxiKTtlbHNle3ZhciBjPXZvaWQgMDtpZih0aGlzLmZpcnN0Q2hpbGQpe3ZhciBlPXRoaXMuY2hpbGROb2RlcyxoPWUubGVuZ3RoO2lmKDA8aCYmTyh0aGlzKSl7Yz1BcnJheShoKTtmb3IodmFyIGs9MDtrPGg7aysrKWNba109ZVtrXX19ZC5zZXQuY2FsbCh0aGlzLGIpO2lmKGMpZm9yKGI9MDtiPGMubGVuZ3RoO2IrKylSKGEsY1tiXSl9fX0pfVAoTm9kZS5wcm90b3R5cGUsImluc2VydEJlZm9yZSIsZnVuY3Rpb24oYixkKXtpZihiIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGIuY2hpbGROb2Rlcyk7CmI9eGUuY2FsbCh0aGlzLGIsZCk7aWYoTyh0aGlzKSlmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKVEoYSxjW2RdKTtyZXR1cm4gYn1jPU8oYik7ZD14ZS5jYWxsKHRoaXMsYixkKTtjJiZSKGEsYik7Tyh0aGlzKSYmUShhLGIpO3JldHVybiBkfSk7UChOb2RlLnByb3RvdHlwZSwiYXBwZW5kQ2hpbGQiLGZ1bmN0aW9uKGIpe2lmKGIgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYi5jaGlsZE5vZGVzKTtiPXdlLmNhbGwodGhpcyxiKTtpZihPKHRoaXMpKWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKVEoYSxjW2VdKTtyZXR1cm4gYn1jPU8oYik7ZT13ZS5jYWxsKHRoaXMsYik7YyYmUihhLGIpO08odGhpcykmJlEoYSxiKTtyZXR1cm4gZX0pO1AoTm9kZS5wcm90b3R5cGUsImNsb25lTm9kZSIsZnVuY3Rpb24oYil7Yj12ZS5jYWxsKHRoaXMsYik7dGhpcy5vd25lckRvY3VtZW50Ll9fQ0VfaGFzUmVnaXN0cnk/amUoYSxiKToKaGUoYSxiKTtyZXR1cm4gYn0pO1AoTm9kZS5wcm90b3R5cGUsInJlbW92ZUNoaWxkIixmdW5jdGlvbihiKXt2YXIgYz1PKGIpLGU9eWUuY2FsbCh0aGlzLGIpO2MmJlIoYSxiKTtyZXR1cm4gZX0pO1AoTm9kZS5wcm90b3R5cGUsInJlcGxhY2VDaGlsZCIsZnVuY3Rpb24oYixkKXtpZihiIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGIuY2hpbGROb2Rlcyk7Yj16ZS5jYWxsKHRoaXMsYixkKTtpZihPKHRoaXMpKWZvcihSKGEsZCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKVEoYSxjW2RdKTtyZXR1cm4gYn1jPU8oYik7dmFyIGY9emUuY2FsbCh0aGlzLGIsZCksZz1PKHRoaXMpO2cmJlIoYSxkKTtjJiZSKGEsYik7ZyYmUShhLGIpO3JldHVybiBmfSk7QWUmJkFlLmdldD9iKE5vZGUucHJvdG90eXBlLEFlKTpnZShhLGZ1bmN0aW9uKGEpe2IoYSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPQpbXSxiPTA7Yjx0aGlzLmNoaWxkTm9kZXMubGVuZ3RoO2IrKylhLnB1c2godGhpcy5jaGlsZE5vZGVzW2JdLnRleHRDb250ZW50KTtyZXR1cm4gYS5qb2luKCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2Zvcig7dGhpcy5maXJzdENoaWxkOyl5ZS5jYWxsKHRoaXMsdGhpcy5maXJzdENoaWxkKTt3ZS5jYWxsKHRoaXMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfX0pfSl9O2Z1bmN0aW9uIGFmKGEpe3ZhciBiPUVsZW1lbnQucHJvdG90eXBlO2Z1bmN0aW9uIGMoYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoOysrZSlkW2UtMF09YXJndW1lbnRzW2VdO2U9W107Zm9yKHZhciBoPVtdLGs9MDtrPGQubGVuZ3RoO2srKyl7dmFyIG09ZFtrXTttIGluc3RhbmNlb2YgRWxlbWVudCYmTyhtKSYmaC5wdXNoKG0pO2lmKG0gaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWZvcihtPW0uZmlyc3RDaGlsZDttO209bS5uZXh0U2libGluZyllLnB1c2gobSk7ZWxzZSBlLnB1c2gobSl9Yi5hcHBseSh0aGlzLGQpO2ZvcihkPTA7ZDxoLmxlbmd0aDtkKyspUihhLGhbZF0pO2lmKE8odGhpcykpZm9yKGQ9MDtkPGUubGVuZ3RoO2QrKyloPWVbZF0saCBpbnN0YW5jZW9mIEVsZW1lbnQmJlEoYSxoKX19dm9pZCAwIT09TmUmJihiLmJlZm9yZT1jKE5lKSk7dm9pZCAwIT09TmUmJihiLmFmdGVyPWMoT2UpKTt2b2lkIDAhPT0KUGUmJlAoYiwicmVwbGFjZVdpdGgiLGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDxhcmd1bWVudHMubGVuZ3RoOysrZCljW2QtMF09YXJndW1lbnRzW2RdO2Q9W107Zm9yKHZhciBnPVtdLGg9MDtoPGMubGVuZ3RoO2grKyl7dmFyIGs9Y1toXTtrIGluc3RhbmNlb2YgRWxlbWVudCYmTyhrKSYmZy5wdXNoKGspO2lmKGsgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWZvcihrPWsuZmlyc3RDaGlsZDtrO2s9ay5uZXh0U2libGluZylkLnB1c2goayk7ZWxzZSBkLnB1c2goayl9aD1PKHRoaXMpO1BlLmFwcGx5KHRoaXMsYyk7Zm9yKGM9MDtjPGcubGVuZ3RoO2MrKylSKGEsZ1tjXSk7aWYoaClmb3IoUihhLHRoaXMpLGM9MDtjPGQubGVuZ3RoO2MrKylnPWRbY10sZyBpbnN0YW5jZW9mIEVsZW1lbnQmJlEoYSxnKX0pO3ZvaWQgMCE9PVFlJiZQKGIsInJlbW92ZSIsZnVuY3Rpb24oKXt2YXIgYj1PKHRoaXMpO1FlLmNhbGwodGhpcyk7YiYmUihhLHRoaXMpfSl9O2Z1bmN0aW9uIGJmKCl7dmFyIGE9WGU7ZnVuY3Rpb24gYihiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCJpbm5lckhUTUwiLHtlbnVtZXJhYmxlOmMuZW51bWVyYWJsZSxjb25maWd1cmFibGU6ITAsZ2V0OmMuZ2V0LHNldDpmdW5jdGlvbihiKXt2YXIgZD10aGlzLGU9dm9pZCAwO08odGhpcykmJihlPVtdLGRlKHRoaXMsZnVuY3Rpb24oYSl7YSE9PWQmJmUucHVzaChhKX0pKTtjLnNldC5jYWxsKHRoaXMsYik7aWYoZSlmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTsxPT09Zy5fX0NFX3N0YXRlJiZhLmRpc2Nvbm5lY3RlZENhbGxiYWNrKGcpfXRoaXMub3duZXJEb2N1bWVudC5fX0NFX2hhc1JlZ2lzdHJ5P2plKGEsdGhpcyk6aGUoYSx0aGlzKTtyZXR1cm4gYn19KX1mdW5jdGlvbiBjKGIsYyl7UChiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLGZ1bmN0aW9uKGIsZCl7dmFyIGU9TyhkKTtiPWMuY2FsbCh0aGlzLGIsZCk7ZSYmUihhLGQpO08oYikmJlEoYSwKZCk7cmV0dXJuIGJ9KX1mdW5jdGlvbiBkKGIsYyl7ZnVuY3Rpb24gZChiLGMpe2Zvcih2YXIgZD1bXTtiIT09YztiPWIubmV4dFNpYmxpbmcpZC5wdXNoKGIpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspamUoYSxkW2NdKX1QKGIsImluc2VydEFkamFjZW50SFRNTCIsZnVuY3Rpb24oYSxiKXthPWEudG9Mb3dlckNhc2UoKTtpZigiYmVmb3JlYmVnaW4iPT09YSl7dmFyIGU9dGhpcy5wcmV2aW91c1NpYmxpbmc7Yy5jYWxsKHRoaXMsYSxiKTtkKGV8fHRoaXMucGFyZW50Tm9kZS5maXJzdENoaWxkLHRoaXMpfWVsc2UgaWYoImFmdGVyYmVnaW4iPT09YSllPXRoaXMuZmlyc3RDaGlsZCxjLmNhbGwodGhpcyxhLGIpLGQodGhpcy5maXJzdENoaWxkLGUpO2Vsc2UgaWYoImJlZm9yZWVuZCI9PT1hKWU9dGhpcy5sYXN0Q2hpbGQsYy5jYWxsKHRoaXMsYSxiKSxkKGV8fHRoaXMuZmlyc3RDaGlsZCxudWxsKTtlbHNlIGlmKCJhZnRlcmVuZCI9PT1hKWU9dGhpcy5uZXh0U2libGluZyxjLmNhbGwodGhpcywKYSxiKSxkKHRoaXMubmV4dFNpYmxpbmcsZSk7ZWxzZSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlRoZSB2YWx1ZSBwcm92aWRlZCAoIitTdHJpbmcoYSkrIikgaXMgbm90IG9uZSBvZiAnYmVmb3JlYmVnaW4nLCAnYWZ0ZXJiZWdpbicsICdiZWZvcmVlbmQnLCBvciAnYWZ0ZXJlbmQnLiIpO30pfUJlJiZQKEVsZW1lbnQucHJvdG90eXBlLCJhdHRhY2hTaGFkb3ciLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9fQ0Vfc2hhZG93Um9vdD1hPUJlLmNhbGwodGhpcyxhKX0pO0NlJiZDZS5nZXQ/YihFbGVtZW50LnByb3RvdHlwZSxDZSk6U2UmJlNlLmdldD9iKEhUTUxFbGVtZW50LnByb3RvdHlwZSxTZSk6Z2UoYSxmdW5jdGlvbihhKXtiKGEse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2ZS5jYWxsKHRoaXMsITApLmlubmVySFRNTH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPSJ0ZW1wbGF0ZSI9PT10aGlzLmxvY2FsTmFtZSxjPWI/dGhpcy5jb250ZW50Ogp0aGlzLGQ9b2UuY2FsbChkb2N1bWVudCx0aGlzLmxvY2FsTmFtZSk7Zm9yKGQuaW5uZXJIVE1MPWE7MDxjLmNoaWxkTm9kZXMubGVuZ3RoOyl5ZS5jYWxsKGMsYy5jaGlsZE5vZGVzWzBdKTtmb3IoYT1iP2QuY29udGVudDpkOzA8YS5jaGlsZE5vZGVzLmxlbmd0aDspd2UuY2FsbChjLGEuY2hpbGROb2Rlc1swXSl9fSl9KTtQKEVsZW1lbnQucHJvdG90eXBlLCJzZXRBdHRyaWJ1dGUiLGZ1bmN0aW9uKGIsYyl7aWYoMSE9PXRoaXMuX19DRV9zdGF0ZSlyZXR1cm4gRWUuY2FsbCh0aGlzLGIsYyk7dmFyIGQ9RGUuY2FsbCh0aGlzLGIpO0VlLmNhbGwodGhpcyxiLGMpO2M9RGUuY2FsbCh0aGlzLGIpO2EuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHRoaXMsYixkLGMsbnVsbCl9KTtQKEVsZW1lbnQucHJvdG90eXBlLCJzZXRBdHRyaWJ1dGVOUyIsZnVuY3Rpb24oYixjLGQpe2lmKDEhPT10aGlzLl9fQ0Vfc3RhdGUpcmV0dXJuIEhlLmNhbGwodGhpcyxiLGMsZCk7dmFyIGU9R2UuY2FsbCh0aGlzLApiLGMpO0hlLmNhbGwodGhpcyxiLGMsZCk7ZD1HZS5jYWxsKHRoaXMsYixjKTthLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLGMsZSxkLGIpfSk7UChFbGVtZW50LnByb3RvdHlwZSwicmVtb3ZlQXR0cmlidXRlIixmdW5jdGlvbihiKXtpZigxIT09dGhpcy5fX0NFX3N0YXRlKXJldHVybiBGZS5jYWxsKHRoaXMsYik7dmFyIGM9RGUuY2FsbCh0aGlzLGIpO0ZlLmNhbGwodGhpcyxiKTtudWxsIT09YyYmYS5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodGhpcyxiLGMsbnVsbCxudWxsKX0pO1AoRWxlbWVudC5wcm90b3R5cGUsInJlbW92ZUF0dHJpYnV0ZU5TIixmdW5jdGlvbihiLGMpe2lmKDEhPT10aGlzLl9fQ0Vfc3RhdGUpcmV0dXJuIEllLmNhbGwodGhpcyxiLGMpO3ZhciBkPUdlLmNhbGwodGhpcyxiLGMpO0llLmNhbGwodGhpcyxiLGMpO3ZhciBlPUdlLmNhbGwodGhpcyxiLGMpO2QhPT1lJiZhLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLGMsZCxlLGIpfSk7VGU/CmMoSFRNTEVsZW1lbnQucHJvdG90eXBlLFRlKTpKZT9jKEVsZW1lbnQucHJvdG90eXBlLEplKTpjb25zb2xlLndhcm4oIkN1c3RvbSBFbGVtZW50czogYEVsZW1lbnQjaW5zZXJ0QWRqYWNlbnRFbGVtZW50YCB3YXMgbm90IHBhdGNoZWQuIik7VWU/ZChIVE1MRWxlbWVudC5wcm90b3R5cGUsVWUpOktlP2QoRWxlbWVudC5wcm90b3R5cGUsS2UpOmNvbnNvbGUud2FybigiQ3VzdG9tIEVsZW1lbnRzOiBgRWxlbWVudCNpbnNlcnRBZGphY2VudEhUTUxgIHdhcyBub3QgcGF0Y2hlZC4iKTtZZShhLEVsZW1lbnQucHJvdG90eXBlLHtmYTpMZSxhcHBlbmQ6TWV9KTthZihhKX07dmFyIGNmPXdpbmRvdy5jdXN0b21FbGVtZW50cztpZighY2Z8fGNmLmZvcmNlUG9seWZpbGx8fCJmdW5jdGlvbiIhPXR5cGVvZiBjZi5kZWZpbmV8fCJmdW5jdGlvbiIhPXR5cGVvZiBjZi5nZXQpe3ZhciBYZT1uZXcgZWU7V2UoKTtaZSgpO1llKFhlLERvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLHtmYTp0ZSxhcHBlbmQ6dWV9KTskZSgpO2JmKCk7ZG9jdW1lbnQuX19DRV9oYXNSZWdpc3RyeT0hMDt2YXIgY3VzdG9tRWxlbWVudHM9bmV3IFMoWGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csImN1c3RvbUVsZW1lbnRzIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Y3VzdG9tRWxlbWVudHN9KX07ZnVuY3Rpb24gZGYoKXt0aGlzLmVuZD10aGlzLnN0YXJ0PTA7dGhpcy5ydWxlcz10aGlzLnBhcmVudD10aGlzLnByZXZpb3VzPW51bGw7dGhpcy5jc3NUZXh0PXRoaXMucGFyc2VkQ3NzVGV4dD0iIjt0aGlzLmF0UnVsZT0hMTt0aGlzLnR5cGU9MDt0aGlzLnBhcnNlZFNlbGVjdG9yPXRoaXMuc2VsZWN0b3I9dGhpcy5rZXlmcmFtZXNOYW1lPSIifQpmdW5jdGlvbiBlZihhKXthPWEucmVwbGFjZShmZiwiIikucmVwbGFjZShnZiwiIik7dmFyIGI9aGYsYz1hLGQ9bmV3IGRmO2Quc3RhcnQ9MDtkLmVuZD1jLmxlbmd0aDtmb3IodmFyIGU9ZCxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKWlmKCJ7Ij09PWNbZl0pe2UucnVsZXN8fChlLnJ1bGVzPVtdKTt2YXIgaD1lLGs9aC5ydWxlc1toLnJ1bGVzLmxlbmd0aC0xXXx8bnVsbDtlPW5ldyBkZjtlLnN0YXJ0PWYrMTtlLnBhcmVudD1oO2UucHJldmlvdXM9aztoLnJ1bGVzLnB1c2goZSl9ZWxzZSJ9Ij09PWNbZl0mJihlLmVuZD1mKzEsZT1lLnBhcmVudHx8ZCk7cmV0dXJuIGIoZCxhKX0KZnVuY3Rpb24gaGYoYSxiKXt2YXIgYz1iLnN1YnN0cmluZyhhLnN0YXJ0LGEuZW5kLTEpO2EucGFyc2VkQ3NzVGV4dD1hLmNzc1RleHQ9Yy50cmltKCk7YS5wYXJlbnQmJihjPWIuc3Vic3RyaW5nKGEucHJldmlvdXM/YS5wcmV2aW91cy5lbmQ6YS5wYXJlbnQuc3RhcnQsYS5zdGFydC0xKSxjPWpmKGMpLGM9Yy5yZXBsYWNlKGtmLCIgIiksYz1jLnN1YnN0cmluZyhjLmxhc3RJbmRleE9mKCI7IikrMSksYz1hLnBhcnNlZFNlbGVjdG9yPWEuc2VsZWN0b3I9Yy50cmltKCksYS5hdFJ1bGU9MD09PWMuaW5kZXhPZigiQCIpLGEuYXRSdWxlPzA9PT1jLmluZGV4T2YoIkBtZWRpYSIpP2EudHlwZT1sZjpjLm1hdGNoKHJmKSYmKGEudHlwZT1zZixhLmtleWZyYW1lc05hbWU9YS5zZWxlY3Rvci5zcGxpdChrZikucG9wKCkpOmEudHlwZT0wPT09Yy5pbmRleE9mKCItLSIpP3RmOnVmKTtpZihjPWEucnVsZXMpZm9yKHZhciBkPTAsZT1jLmxlbmd0aCxmO2Q8ZSYmKGY9Y1tkXSk7ZCsrKWhmKGYsCmIpO3JldHVybiBhfWZ1bmN0aW9uIGpmKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcKFswLTlhLWZdezEsNn0pXHMvZ2ksZnVuY3Rpb24oYSxjKXthPWM7Zm9yKGM9Ni1hLmxlbmd0aDtjLS07KWE9IjAiK2E7cmV0dXJuIlxcIithfSl9CmZ1bmN0aW9uIHZmKGEsYixjKXtjPXZvaWQgMD09PWM/IiI6Yzt2YXIgZD0iIjtpZihhLmNzc1RleHR8fGEucnVsZXMpe3ZhciBlPWEucnVsZXMsZjtpZihmPWUpZj1lWzBdLGY9IShmJiZmLnNlbGVjdG9yJiYwPT09Zi5zZWxlY3Rvci5pbmRleE9mKCItLSIpKTtpZihmKXtmPTA7Zm9yKHZhciBnPWUubGVuZ3RoLGg7ZjxnJiYoaD1lW2ZdKTtmKyspZD12ZihoLGIsZCl9ZWxzZSBiP2I9YS5jc3NUZXh0OihiPWEuY3NzVGV4dCxiPWIucmVwbGFjZSh3ZiwiIikucmVwbGFjZSh4ZiwiIiksYj1iLnJlcGxhY2UoeWYsIiIpLnJlcGxhY2UoemYsIiIpKSwoZD1iLnRyaW0oKSkmJihkPSIgICIrZCsiXG4iKX1kJiYoYS5zZWxlY3RvciYmKGMrPWEuc2VsZWN0b3IrIiB7XG4iKSxjKz1kLGEuc2VsZWN0b3ImJihjKz0ifVxuXG4iKSk7cmV0dXJuIGN9CnZhciB1Zj0xLHNmPTcsbGY9NCx0Zj0xRTMsZmY9L1wvXCpbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLy9naW0sZ2Y9L0BpbXBvcnRbXjtdKjsvZ2ltLHdmPS8oPzpeW147XC1cc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qPyg/Ols7XG5dfCQpL2dpbSx4Zj0vKD86XlteO1wtXHN9XSspPy0tW147e31dKj86W157fTtdKj97W159XSo/fSg/Ols7XG5dfCQpPy9naW0seWY9L0BhcHBseVxzKlwoP1teKTtdKlwpP1xzKig/Ols7XG5dfCQpPy9naW0semY9L1teOzpdKj86W147XSo/dmFyXChbXjtdKlwpKD86Wztcbl18JCk/L2dpbSxyZj0vXkBbXlxzXSprZXlmcmFtZXMvLGtmPS9ccysvZzt2YXIgVD0hKHdpbmRvdy5TaGFkeURPTSYmd2luZG93LlNoYWR5RE9NLmluVXNlKSxBZjtmdW5jdGlvbiBCZihhKXtBZj1hJiZhLnNoaW1jc3Nwcm9wZXJ0aWVzPyExOlR8fCEobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcLzYwMXxFZGdlXC8xNS8pfHwhd2luZG93LkNTU3x8IUNTUy5zdXBwb3J0c3x8IUNTUy5zdXBwb3J0cygiYm94LXNoYWRvdyIsIjAgMCAwIHZhcigtLWZvbykiKSl9d2luZG93LlNoYWR5Q1NTJiZ2b2lkIDAhPT13aW5kb3cuU2hhZHlDU1MubmF0aXZlQ3NzP0FmPXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3M6d2luZG93LlNoYWR5Q1NTPyhCZih3aW5kb3cuU2hhZHlDU1MpLHdpbmRvdy5TaGFkeUNTUz12b2lkIDApOkJmKHdpbmRvdy5XZWJDb21wb25lbnRzJiZ3aW5kb3cuV2ViQ29tcG9uZW50cy5mbGFncyk7dmFyIFY9QWY7dmFyIENmPS8oPzpefFs7XHN7XVxzKikoLS1bXHctXSo/KVxzKjpccyooPzooKD86Jyg/OlxcJ3wuKSo/J3wiKD86XFwifC4pKj8ifFwoW14pXSo/XCl8W159O3tdKSspfFx7KFtefV0qKVx9KD86KD89Wztcc31dKXwkKSkvZ2ksRGY9Lyg/Ol58XFcrKUBhcHBseVxzKlwoPyhbXik7XG5dKilcKT8vZ2ksRWY9LygtLVtcdy1dKylccyooWzosOyldfCQpL2dpLEZmPS8oYW5pbWF0aW9uXHMqOil8KGFuaW1hdGlvbi1uYW1lXHMqOikvLEdmPS9AbWVkaWFccyguKikvLEhmPS9ce1tefV0qXH0vZzt2YXIgSWY9bmV3IFNldDtmdW5jdGlvbiBKZihhLGIpe2lmKCFhKXJldHVybiIiOyJzdHJpbmciPT09dHlwZW9mIGEmJihhPWVmKGEpKTtiJiZLZihhLGIpO3JldHVybiB2ZihhLFYpfWZ1bmN0aW9uIExmKGEpeyFhLl9fY3NzUnVsZXMmJmEudGV4dENvbnRlbnQmJihhLl9fY3NzUnVsZXM9ZWYoYS50ZXh0Q29udGVudCkpO3JldHVybiBhLl9fY3NzUnVsZXN8fG51bGx9ZnVuY3Rpb24gTWYoYSl7cmV0dXJuISFhLnBhcmVudCYmYS5wYXJlbnQudHlwZT09PXNmfWZ1bmN0aW9uIEtmKGEsYixjLGQpe2lmKGEpe3ZhciBlPSExLGY9YS50eXBlO2lmKGQmJmY9PT1sZil7dmFyIGc9YS5zZWxlY3Rvci5tYXRjaChHZik7ZyYmKHdpbmRvdy5tYXRjaE1lZGlhKGdbMV0pLm1hdGNoZXN8fChlPSEwKSl9Zj09PXVmP2IoYSk6YyYmZj09PXNmP2MoYSk6Zj09PXRmJiYoZT0hMCk7aWYoKGE9YS5ydWxlcykmJiFlKXtlPTA7Zj1hLmxlbmd0aDtmb3IodmFyIGg7ZTxmJiYoaD1hW2VdKTtlKyspS2YoaCxiLGMsZCl9fX0KZnVuY3Rpb24gTmYoYSxiLGMsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtiJiZlLnNldEF0dHJpYnV0ZSgic2NvcGUiLGIpO2UudGV4dENvbnRlbnQ9YTtPZihlLGMsZCk7cmV0dXJuIGV9dmFyIFBmPW51bGw7ZnVuY3Rpb24gT2YoYSxiLGMpe2I9Ynx8ZG9jdW1lbnQuaGVhZDtiLmluc2VydEJlZm9yZShhLGMmJmMubmV4dFNpYmxpbmd8fGIuZmlyc3RDaGlsZCk7UGY/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihQZik9PT1Ob2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORyYmKFBmPWEpOlBmPWF9CmZ1bmN0aW9uIFFmKGEsYil7dmFyIGM9YS5pbmRleE9mKCJ2YXIoIik7aWYoLTE9PT1jKXJldHVybiBiKGEsIiIsIiIsIiIpO2E6e3ZhciBkPTA7dmFyIGU9YyszO2Zvcih2YXIgZj1hLmxlbmd0aDtlPGY7ZSsrKWlmKCIoIj09PWFbZV0pZCsrO2Vsc2UgaWYoIikiPT09YVtlXSYmMD09PS0tZClicmVhayBhO2U9LTF9ZD1hLnN1YnN0cmluZyhjKzQsZSk7Yz1hLnN1YnN0cmluZygwLGMpO2E9UWYoYS5zdWJzdHJpbmcoZSsxKSxiKTtlPWQuaW5kZXhPZigiLCIpO3JldHVybi0xPT09ZT9iKGMsZC50cmltKCksIiIsYSk6YihjLGQuc3Vic3RyaW5nKDAsZSkudHJpbSgpLGQuc3Vic3RyaW5nKGUrMSkudHJpbSgpLGEpfWZ1bmN0aW9uIFJmKGEsYil7VD9hLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGIpOndpbmRvdy5TaGFkeURPTS5uYXRpdmVNZXRob2RzLnNldEF0dHJpYnV0ZS5jYWxsKGEsImNsYXNzIixiKX0KZnVuY3Rpb24gU2YoYSl7dmFyIGI9YS5sb2NhbE5hbWUsYz0iIjtiPy0xPGIuaW5kZXhPZigiLSIpfHwoYz1iLGI9YS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJpcyIpfHwiIik6KGI9YS5pcyxjPWEuZXh0ZW5kcyk7cmV0dXJue2lzOmIsWDpjfX07ZnVuY3Rpb24gVGYoKXt9ZnVuY3Rpb24gVWYoYSxiLGMpe3ZhciBkPVZmO2EuX19zdHlsZVNjb3BlZD9hLl9fc3R5bGVTY29wZWQ9bnVsbDpXZihkLGEsYnx8IiIsYyl9ZnVuY3Rpb24gV2YoYSxiLGMsZCl7Yi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZYZihiLGMsZCk7aWYoYj0idGVtcGxhdGUiPT09Yi5sb2NhbE5hbWU/KGIuY29udGVudHx8Yi5qYikuY2hpbGROb2RlczpiLmNoaWxkcmVufHxiLmNoaWxkTm9kZXMpZm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspV2YoYSxiW2VdLGMsZCl9CmZ1bmN0aW9uIFhmKGEsYixjKXtpZihiKWlmKGEuY2xhc3NMaXN0KWM/KGEuY2xhc3NMaXN0LnJlbW92ZSgic3R5bGUtc2NvcGUiKSxhLmNsYXNzTGlzdC5yZW1vdmUoYikpOihhLmNsYXNzTGlzdC5hZGQoInN0eWxlLXNjb3BlIiksYS5jbGFzc0xpc3QuYWRkKGIpKTtlbHNlIGlmKGEuZ2V0QXR0cmlidXRlKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShZZik7Yz9kJiYoYj1kLnJlcGxhY2UoInN0eWxlLXNjb3BlIiwiIikucmVwbGFjZShiLCIiKSxSZihhLGIpKTpSZihhLChkP2QrIiAiOiIiKSsic3R5bGUtc2NvcGUgIitiKX19ZnVuY3Rpb24gWmYoYSxiLGMpe3ZhciBkPVZmLGU9YS5fX2Nzc0J1aWxkO1R8fCJzaGFkeSI9PT1lP2I9SmYoYixjKTooYT1TZihhKSxiPSRmKGQsYixhLmlzLGEuWCxjKSsiXG5cbiIpO3JldHVybiBiLnRyaW0oKX0KZnVuY3Rpb24gJGYoYSxiLGMsZCxlKXt2YXIgZj1hZyhjLGQpO2M9Yz9iZytjOiIiO3JldHVybiBKZihiLGZ1bmN0aW9uKGIpe2IuY3x8KGIuc2VsZWN0b3I9Yi5HPWNnKGEsYixhLmIsYyxmKSxiLmM9ITApO2UmJmUoYixjLGYpfSl9ZnVuY3Rpb24gYWcoYSxiKXtyZXR1cm4gYj8iW2lzPSIrYSsiXSI6YX1mdW5jdGlvbiBjZyhhLGIsYyxkLGUpe3ZhciBmPWIuc2VsZWN0b3Iuc3BsaXQoZGcpO2lmKCFNZihiKSl7Yj0wO2Zvcih2YXIgZz1mLmxlbmd0aCxoO2I8ZyYmKGg9ZltiXSk7YisrKWZbYl09Yy5jYWxsKGEsaCxkLGUpfXJldHVybiBmLmpvaW4oZGcpfWZ1bmN0aW9uIGVnKGEpe3JldHVybiBhLnJlcGxhY2UoZmcsZnVuY3Rpb24oYSxjLGQpey0xPGQuaW5kZXhPZigiKyIpP2Q9ZC5yZXBsYWNlKC9cKy9nLCJfX18iKTotMTxkLmluZGV4T2YoIl9fXyIpJiYoZD1kLnJlcGxhY2UoL19fXy9nLCIrIikpO3JldHVybiI6IitjKyIoIitkKyIpIn0pfQpUZi5wcm90b3R5cGUuYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ITE7YT1hLnRyaW0oKTt2YXIgZT1mZy50ZXN0KGEpO2UmJihhPWEucmVwbGFjZShmZyxmdW5jdGlvbihhLGIsYyl7cmV0dXJuIjoiK2IrIigiK2MucmVwbGFjZSgvXHMvZywiIikrIikifSksYT1lZyhhKSk7YT1hLnJlcGxhY2UoZ2csaGcrIiAkMSIpO2E9YS5yZXBsYWNlKGlnLGZ1bmN0aW9uKGEsZSxoKXtkfHwoYT1qZyhoLGUsYixjKSxkPWR8fGEuc3RvcCxlPWEuU2EsaD1hLnZhbHVlKTtyZXR1cm4gZStofSk7ZSYmKGE9ZWcoYSkpO3JldHVybiBhfTsKZnVuY3Rpb24gamcoYSxiLGMsZCl7dmFyIGU9YS5pbmRleE9mKGtnKTswPD1hLmluZGV4T2YoaGcpP2E9bGcoYSxkKTowIT09ZSYmKGE9Yz9tZyhhLGMpOmEpO2M9ITE7MDw9ZSYmKGI9IiIsYz0hMCk7aWYoYyl7dmFyIGY9ITA7YyYmKGE9YS5yZXBsYWNlKG5nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIiA+ICIrYn0pKX1hPWEucmVwbGFjZShvZyxmdW5jdGlvbihhLGIsYyl7cmV0dXJuJ1tkaXI9IicrYysnIl0gJytiKyIsICIrYisnW2Rpcj0iJytjKyciXSd9KTtyZXR1cm57dmFsdWU6YSxTYTpiLHN0b3A6Zn19ZnVuY3Rpb24gbWcoYSxiKXthPWEuc3BsaXQocGcpO2FbMF0rPWI7cmV0dXJuIGEuam9pbihwZyl9CmZ1bmN0aW9uIGxnKGEsYil7dmFyIGM9YS5tYXRjaChxZyk7cmV0dXJuKGM9YyYmY1syXS50cmltKCl8fCIiKT9jWzBdLm1hdGNoKHJnKT9hLnJlcGxhY2UocWcsZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiK2Z9KTpjLnNwbGl0KHJnKVswXT09PWI/YzpzZzphLnJlcGxhY2UoaGcsYil9ZnVuY3Rpb24gdGcoYSl7YS5zZWxlY3Rvcj09PXVnJiYoYS5zZWxlY3Rvcj0iaHRtbCIpfVRmLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGEpe3JldHVybiBhLm1hdGNoKGtnKT90aGlzLmIoYSx2Zyk6bWcoYS50cmltKCksdmcpfTthYS5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUZi5wcm90b3R5cGUse2E6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiJzdHlsZS1zY29wZSJ9fX0pOwp2YXIgZmc9LzoobnRoWy1cd10rKVwoKFteKV0rKVwpLyx2Zz0iOm5vdCguc3R5bGUtc2NvcGUpIixkZz0iLCIsaWc9LyhefFtccz4rfl0rKSgoPzpcWy4rP1xdfFteXHM+K349W10pKykvZyxyZz0vW1suOiMqXS8saGc9Ijpob3N0Iix1Zz0iOnJvb3QiLGtnPSI6OnNsb3R0ZWQiLGdnPW5ldyBSZWdFeHAoIl4oIitrZysiKSIpLHFnPS8oOmhvc3QpKD86XCgoKD86XChbXikoXSpcKXxbXikoXSopKz8pXCkpLyxuZz0vKD86OjpzbG90dGVkKSg/OlwoKCg/OlwoW14pKF0qXCl8W14pKF0qKSs/KVwpKS8sb2c9LyguKik6ZGlyXCgoPzoobHRyfHJ0bCkpXCkvLGJnPSIuIixwZz0iOiIsWWY9ImNsYXNzIixzZz0ic2hvdWxkX25vdF9tYXRjaCIsVmY9bmV3IFRmO2Z1bmN0aW9uIHdnKGEsYixjLGQpe3RoaXMuSz1hfHxudWxsO3RoaXMuYj1ifHxudWxsO3RoaXMuc2E9Y3x8W107dGhpcy5UPW51bGw7dGhpcy5YPWR8fCIiO3RoaXMuYT10aGlzLkg9dGhpcy5PPW51bGx9ZnVuY3Rpb24geGcoYSl7cmV0dXJuIGE/YS5fX3N0eWxlSW5mbzpudWxsfWZ1bmN0aW9uIHlnKGEsYil7cmV0dXJuIGEuX19zdHlsZUluZm89Yn13Zy5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkt9O3dnLnByb3RvdHlwZS5fZ2V0U3R5bGVSdWxlcz13Zy5wcm90b3R5cGUuYztmdW5jdGlvbiB6ZyhhKXt2YXIgYj10aGlzLm1hdGNoZXN8fHRoaXMubWF0Y2hlc1NlbGVjdG9yfHx0aGlzLm1vek1hdGNoZXNTZWxlY3Rvcnx8dGhpcy5tc01hdGNoZXNTZWxlY3Rvcnx8dGhpcy5vTWF0Y2hlc1NlbGVjdG9yfHx0aGlzLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtyZXR1cm4gYiYmYi5jYWxsKHRoaXMsYSl9dmFyIEFnPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIlRyaWRlbnQiKTtmdW5jdGlvbiBCZygpe31mdW5jdGlvbiBDZyhhKXt2YXIgYj17fSxjPVtdLGQ9MDtLZihhLGZ1bmN0aW9uKGEpe0RnKGEpO2EuaW5kZXg9ZCsrO2E9YS5CLmNzc1RleHQ7Zm9yKHZhciBjO2M9RWYuZXhlYyhhKTspe3ZhciBlPWNbMV07IjoiIT09Y1syXSYmKGJbZV09ITApfX0sZnVuY3Rpb24oYSl7Yy5wdXNoKGEpfSk7YS5iPWM7YT1bXTtmb3IodmFyIGUgaW4gYilhLnB1c2goZSk7cmV0dXJuIGF9CmZ1bmN0aW9uIERnKGEpe2lmKCFhLkIpe3ZhciBiPXt9LGM9e307RWcoYSxjKSYmKGIuSj1jLGEucnVsZXM9bnVsbCk7Yi5jc3NUZXh0PWEucGFyc2VkQ3NzVGV4dC5yZXBsYWNlKEhmLCIiKS5yZXBsYWNlKENmLCIiKTthLkI9Yn19ZnVuY3Rpb24gRWcoYSxiKXt2YXIgYz1hLkI7aWYoYyl7aWYoYy5KKXJldHVybiBPYmplY3QuYXNzaWduKGIsYy5KKSwhMH1lbHNle2M9YS5wYXJzZWRDc3NUZXh0O2Zvcih2YXIgZDthPUNmLmV4ZWMoYyk7KXtkPShhWzJdfHxhWzNdKS50cmltKCk7aWYoImluaGVyaXQiIT09ZHx8InVuc2V0IiE9PWQpYlthWzFdLnRyaW0oKV09ZDtkPSEwfXJldHVybiBkfX0KZnVuY3Rpb24gRmcoYSxiLGMpe2ImJihiPTA8PWIuaW5kZXhPZigiOyIpP0dnKGEsYixjKTpRZihiLGZ1bmN0aW9uKGIsZSxmLGcpe2lmKCFlKXJldHVybiBiK2c7KGU9RmcoYSxjW2VdLGMpKSYmImluaXRpYWwiIT09ZT8iYXBwbHktc2hpbS1pbmhlcml0Ij09PWUmJihlPSJpbmhlcml0Iik6ZT1GZyhhLGNbZl18fGYsYyl8fGY7cmV0dXJuIGIrKGV8fCIiKStnfSkpO3JldHVybiBiJiZiLnRyaW0oKXx8IiJ9CmZ1bmN0aW9uIEdnKGEsYixjKXtiPWIuc3BsaXQoIjsiKTtmb3IodmFyIGQ9MCxlLGY7ZDxiLmxlbmd0aDtkKyspaWYoZT1iW2RdKXtEZi5sYXN0SW5kZXg9MDtpZihmPURmLmV4ZWMoZSkpZT1GZyhhLGNbZlsxXV0sYyk7ZWxzZSBpZihmPWUuaW5kZXhPZigiOiIpLC0xIT09Zil7dmFyIGc9ZS5zdWJzdHJpbmcoZik7Zz1nLnRyaW0oKTtnPUZnKGEsZyxjKXx8ZztlPWUuc3Vic3RyaW5nKDAsZikrZ31iW2RdPWUmJmUubGFzdEluZGV4T2YoIjsiKT09PWUubGVuZ3RoLTE/ZS5zbGljZSgwLC0xKTplfHwiIn1yZXR1cm4gYi5qb2luKCI7Iil9CmZ1bmN0aW9uIEhnKGEsYil7dmFyIGM9e30sZD1bXTtLZihhLGZ1bmN0aW9uKGEpe2EuQnx8RGcoYSk7dmFyIGU9YS5HfHxhLnBhcnNlZFNlbGVjdG9yO2ImJmEuQi5KJiZlJiZ6Zy5jYWxsKGIsZSkmJihFZyhhLGMpLGE9YS5pbmRleCxlPXBhcnNlSW50KGEvMzIsMTApLGRbZV09KGRbZV18fDApfDE8PGElMzIpfSxudWxsLCEwKTtyZXR1cm57SjpjLGtleTpkfX0KZnVuY3Rpb24gSWcoYSxiLGMsZCl7Yi5CfHxEZyhiKTtpZihiLkIuSil7dmFyIGU9U2YoYSk7YT1lLmlzO2U9ZS5YO2U9YT9hZyhhLGUpOiJodG1sIjt2YXIgZj1iLnBhcnNlZFNlbGVjdG9yLGc9Ijpob3N0ID4gKiI9PT1mfHwiaHRtbCI9PT1mLGg9MD09PWYuaW5kZXhPZigiOmhvc3QiKSYmIWc7InNoYWR5Ij09PWMmJihnPWY9PT1lKyIgPiAqLiIrZXx8LTEhPT1mLmluZGV4T2YoImh0bWwiKSxoPSFnJiYwPT09Zi5pbmRleE9mKGUpKTsic2hhZG93Ij09PWMmJihnPSI6aG9zdCA+ICoiPT09Znx8Imh0bWwiPT09ZixoPWgmJiFnKTtpZihnfHxoKWM9ZSxoJiYoYi5HfHwoYi5HPWNnKFZmLGIsVmYuYixhP2JnK2E6IiIsZSkpLGM9Yi5HfHxlKSxkKHtaYTpjLFdhOmgsd2I6Z30pfX0KZnVuY3Rpb24gSmcoYSxiKXt2YXIgYz17fSxkPXt9LGU9YiYmYi5fX2Nzc0J1aWxkO0tmKGIsZnVuY3Rpb24oYil7SWcoYSxiLGUsZnVuY3Rpb24oZSl7emcuY2FsbChhLmtifHxhLGUuWmEpJiYoZS5XYT9FZyhiLGMpOkVnKGIsZCkpfSl9LG51bGwsITApO3JldHVybntZYTpkLFZhOmN9fQpmdW5jdGlvbiBLZyhhLGIsYyxkKXt2YXIgZT1TZihiKSxmPWFnKGUuaXMsZS5YKSxnPW5ldyBSZWdFeHAoIig/Ol58W14uI1s6XSkiKyhiLmV4dGVuZHM/IlxcIitmLnNsaWNlKDAsLTEpKyJcXF0iOmYpKyIoJHxbLjpbXFxzPit+XSkiKTtlPXhnKGIpLks7dmFyIGg9TGcoZSxkKTtyZXR1cm4gWmYoYixlLGZ1bmN0aW9uKGIpe3ZhciBlPSIiO2IuQnx8RGcoYik7Yi5CLmNzc1RleHQmJihlPUdnKGEsYi5CLmNzc1RleHQsYykpO2IuY3NzVGV4dD1lO2lmKCFUJiYhTWYoYikmJmIuY3NzVGV4dCl7dmFyIGs9ZT1iLmNzc1RleHQ7bnVsbD09Yi56YSYmKGIuemE9RmYudGVzdChlKSk7aWYoYi56YSlpZihudWxsPT1iLmVhKXtiLmVhPVtdO2Zvcih2YXIgciBpbiBoKWs9aFtyXSxrPWsoZSksZSE9PWsmJihlPWssYi5lYS5wdXNoKHIpKX1lbHNle2ZvcihyPTA7cjxiLmVhLmxlbmd0aDsrK3Ipaz1oW2IuZWFbcl1dLGU9ayhlKTtrPWV9Yi5jc3NUZXh0PWs7Yi5HPWIuR3x8Yi5zZWxlY3RvcjsKZT0iLiIrZDtyPWIuRy5zcGxpdCgiLCIpO2s9MDtmb3IodmFyIEc9ci5sZW5ndGgseDtrPEcmJih4PXJba10pO2srKylyW2tdPXgubWF0Y2goZyk/eC5yZXBsYWNlKGYsZSk6ZSsiICIreDtiLnNlbGVjdG9yPXIuam9pbigiLCIpfX0pfWZ1bmN0aW9uIExnKGEsYil7YT1hLmI7dmFyIGM9e307aWYoIVQmJmEpZm9yKHZhciBkPTAsZT1hW2RdO2Q8YS5sZW5ndGg7ZT1hWysrZF0pe3ZhciBmPWUsZz1iO2YuRj1uZXcgUmVnRXhwKCJcXGIiK2Yua2V5ZnJhbWVzTmFtZSsiKD8hXFxCfC0pIiwiZyIpO2YuYT1mLmtleWZyYW1lc05hbWUrIi0iK2c7Zi5HPWYuR3x8Zi5zZWxlY3RvcjtmLnNlbGVjdG9yPWYuRy5yZXBsYWNlKGYua2V5ZnJhbWVzTmFtZSxmLmEpO2NbZS5rZXlmcmFtZXNOYW1lXT1NZyhlKX1yZXR1cm4gY31mdW5jdGlvbiBNZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZShhLkYsYS5hKX19CmZ1bmN0aW9uIE5nKGEsYil7dmFyIGM9T2csZD1MZihhKTthLnRleHRDb250ZW50PUpmKGQsZnVuY3Rpb24oYSl7dmFyIGQ9YS5jc3NUZXh0PWEucGFyc2VkQ3NzVGV4dDthLkImJmEuQi5jc3NUZXh0JiYoZD1kLnJlcGxhY2Uod2YsIiIpLnJlcGxhY2UoeGYsIiIpLGEuY3NzVGV4dD1HZyhjLGQsYikpfSl9YWEuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmcucHJvdG90eXBlLHthOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ieC1zY29wZSJ9fX0pO3ZhciBPZz1uZXcgQmc7dmFyIFBnPXt9LFFnPXdpbmRvdy5jdXN0b21FbGVtZW50cztpZihRZyYmIVQpe3ZhciBSZz1RZy5kZWZpbmU7UWcuZGVmaW5lPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgU2hhZHkgRE9NIHN0eWxlcyBmb3IgIithKyIgIiksZT1kb2N1bWVudC5oZWFkO2UuaW5zZXJ0QmVmb3JlKGQsKFBmP1BmLm5leHRTaWJsaW5nOm51bGwpfHxlLmZpcnN0Q2hpbGQpO1BmPWQ7UGdbYV09ZDtSZy5jYWxsKFFnLGEsYixjKX19O2Z1bmN0aW9uIFNnKCl7dGhpcy5jYWNoZT17fX1TZy5wcm90b3R5cGUuc3RvcmU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5jYWNoZVthXXx8W107ZS5wdXNoKHtKOmIsc3R5bGVFbGVtZW50OmMsSDpkfSk7MTAwPGUubGVuZ3RoJiZlLnNoaWZ0KCk7dGhpcy5jYWNoZVthXT1lfTtTZy5wcm90b3R5cGUuZmV0Y2g9ZnVuY3Rpb24oYSxiLGMpe2lmKGE9dGhpcy5jYWNoZVthXSlmb3IodmFyIGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dmFyIGU9YVtkXSxmO2E6e2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZS5KW2ddIT09YltnXSl7Zj0hMTticmVhayBhfX1mPSEwfWlmKGYpcmV0dXJuIGV9fTtmdW5jdGlvbiBUZygpe30KZnVuY3Rpb24gVWcoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy50YXJnZXQhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmMudGFyZ2V0IT09ZG9jdW1lbnQuaGVhZClmb3IodmFyIGQ9MDtkPGMuYWRkZWROb2Rlcy5sZW5ndGg7ZCsrKXt2YXIgZT1jLmFkZGVkTm9kZXNbZF07aWYoZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgZj1lLmdldFJvb3ROb2RlKCk7dmFyIGc9ZTt2YXIgaD1bXTtnLmNsYXNzTGlzdD9oPUFycmF5LmZyb20oZy5jbGFzc0xpc3QpOmcgaW5zdGFuY2VvZiB3aW5kb3cuU1ZHRWxlbWVudCYmZy5oYXNBdHRyaWJ1dGUoImNsYXNzIikmJihoPWcuZ2V0QXR0cmlidXRlKCJjbGFzcyIpLnNwbGl0KC9ccysvKSk7Zz1oO2g9Zy5pbmRleE9mKFZmLmEpO2lmKChnPS0xPGg/Z1toKzFdOiIiKSYmZj09PWUub3duZXJEb2N1bWVudClVZihlLGcsITApO2Vsc2UgaWYoZi5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSYmCihmPWYuaG9zdCkpaWYoZj1TZihmKS5pcyxnPT09Zilmb3IoZT13aW5kb3cuU2hhZHlET00ubmF0aXZlTWV0aG9kcy5xdWVyeVNlbGVjdG9yQWxsLmNhbGwoZSwiOm5vdCguIitWZi5hKyIpIiksZj0wO2Y8ZS5sZW5ndGg7ZisrKVhmKGVbZl0sZyk7ZWxzZSBnJiZVZihlLGcsITApLFVmKGUsZil9fX19CmlmKCFUKXt2YXIgVmc9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoVWcpLFdnPWZ1bmN0aW9uKGEpe1ZnLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX07aWYod2luZG93LmN1c3RvbUVsZW1lbnRzJiYhd2luZG93LmN1c3RvbUVsZW1lbnRzLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2spV2coZG9jdW1lbnQpO2Vsc2V7dmFyIFhnPWZ1bmN0aW9uKCl7V2coZG9jdW1lbnQuYm9keSl9O3dpbmRvdy5IVE1MSW1wb3J0cz93aW5kb3cuSFRNTEltcG9ydHMud2hlblJlYWR5KFhnKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtpZigibG9hZGluZyI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKXt2YXIgYT1mdW5jdGlvbigpe1hnKCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsYSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGEpfWVsc2UgWGcoKX0pfVRnPWZ1bmN0aW9uKCl7VWcoVmcudGFrZVJlY29yZHMoKSl9fQp2YXIgWWc9VGc7dmFyIFpnPXt9O3ZhciAkZz1Qcm9taXNlLnJlc29sdmUoKTtmdW5jdGlvbiBhaChhKXtpZihhPVpnW2FdKWEuX2FwcGx5U2hpbUN1cnJlbnRWZXJzaW9uPWEuX2FwcGx5U2hpbUN1cnJlbnRWZXJzaW9ufHwwLGEuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uPWEuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9ufHwwLGEuX2FwcGx5U2hpbU5leHRWZXJzaW9uPShhLl9hcHBseVNoaW1OZXh0VmVyc2lvbnx8MCkrMX1mdW5jdGlvbiBiaChhKXtyZXR1cm4gYS5fYXBwbHlTaGltQ3VycmVudFZlcnNpb249PT1hLl9hcHBseVNoaW1OZXh0VmVyc2lvbn1mdW5jdGlvbiBjaChhKXthLl9hcHBseVNoaW1WYWxpZGF0aW5nVmVyc2lvbj1hLl9hcHBseVNoaW1OZXh0VmVyc2lvbjthLmJ8fChhLmI9ITAsJGcudGhlbihmdW5jdGlvbigpe2EuX2FwcGx5U2hpbUN1cnJlbnRWZXJzaW9uPWEuX2FwcGx5U2hpbU5leHRWZXJzaW9uO2EuYj0hMX0pKX07dmFyIGRoPW5ldyBTZztmdW5jdGlvbiBXKCl7dGhpcy5BYT17fTt0aGlzLmM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBhPW5ldyBkZjthLnJ1bGVzPVtdO3RoaXMuRj15Zyh0aGlzLmMsbmV3IHdnKGEpKTt0aGlzLk09ITE7dGhpcy5iPXRoaXMuYT1udWxsfXE9Vy5wcm90b3R5cGU7cS5HYT1mdW5jdGlvbigpe1lnKCl9O3EuVGE9ZnVuY3Rpb24oYSl7cmV0dXJuIExmKGEpfTtxLmFiPWZ1bmN0aW9uKGEpe3JldHVybiBKZihhKX07CnEucHJlcGFyZVRlbXBsYXRlPWZ1bmN0aW9uKGEsYixjKXtpZighYS5GKXthLkY9ITA7YS5uYW1lPWI7YS5leHRlbmRzPWM7WmdbYl09YTt2YXIgZD0oZD1hLmNvbnRlbnQucXVlcnlTZWxlY3Rvcigic3R5bGUiKSk/ZC5nZXRBdHRyaWJ1dGUoImNzcy1idWlsZCIpfHwiIjoiIjt2YXIgZT1bXTtmb3IodmFyIGY9YS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIiksZz0wO2c8Zi5sZW5ndGg7ZysrKXt2YXIgaD1mW2ddO2lmKGguaGFzQXR0cmlidXRlKCJzaGFkeS11bnNjb3BlZCIpKXtpZighVCl7dmFyIGs9aC50ZXh0Q29udGVudDtJZi5oYXMoayl8fChJZi5hZGQoayksaz1oLmNsb25lTm9kZSghMCksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChrKSk7aC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGgpfX1lbHNlIGUucHVzaChoLnRleHRDb250ZW50KSxoLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaCl9ZT1lLmpvaW4oIiIpLnRyaW0oKTtjPXtpczpiLGV4dGVuZHM6YyxoYjpkfTsKVHx8VWYoYS5jb250ZW50LGIpO2VoKHRoaXMpO2Y9RGYudGVzdChlKXx8Q2YudGVzdChlKTtEZi5sYXN0SW5kZXg9MDtDZi5sYXN0SW5kZXg9MDtlPWVmKGUpO2YmJlYmJnRoaXMuYSYmdGhpcy5hLnRyYW5zZm9ybVJ1bGVzKGUsYik7YS5fc3R5bGVBc3Q9ZTthLk09ZDtkPVtdO1Z8fChkPUNnKGEuX3N0eWxlQXN0KSk7aWYoIWQubGVuZ3RofHxWKWU9VD9hLmNvbnRlbnQ6bnVsbCxiPVBnW2JdLGY9WmYoYyxhLl9zdHlsZUFzdCksYj1mLmxlbmd0aD9OZihmLGMuaXMsZSxiKTp2b2lkIDAsYS5hPWI7YS5jPWR9fTsKZnVuY3Rpb24gZmgoYSl7IWEuYiYmd2luZG93LlNoYWR5Q1NTJiZ3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UmJihhLmI9d2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlLGEuYi50cmFuc2Zvcm1DYWxsYmFjaz1mdW5jdGlvbihiKXthLkVhKGIpfSxhLmIudmFsaWRhdGVDYWxsYmFjaz1mdW5jdGlvbigpe3JlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpeyhhLmIuZW5xdWV1ZWR8fGEuTSkmJmEuZmx1c2hDdXN0b21TdHlsZXMoKX0pfSl9ZnVuY3Rpb24gZWgoYSl7IWEuYSYmd2luZG93LlNoYWR5Q1NTJiZ3aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltJiYoYS5hPXdpbmRvdy5TaGFkeUNTUy5BcHBseVNoaW0sYS5hLmludmFsaWRDYWxsYmFjaz1haCk7ZmgoYSl9CnEuZmx1c2hDdXN0b21TdHlsZXM9ZnVuY3Rpb24oKXtlaCh0aGlzKTtpZih0aGlzLmIpe3ZhciBhPXRoaXMuYi5wcm9jZXNzU3R5bGVzKCk7aWYodGhpcy5iLmVucXVldWVkKXtpZihWKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmIuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShhW2JdKTtpZihjJiZWJiZ0aGlzLmEpe3ZhciBkPUxmKGMpO2VoKHRoaXMpO3RoaXMuYS50cmFuc2Zvcm1SdWxlcyhkKTtjLnRleHRDb250ZW50PUpmKGQpfX1lbHNlIGZvcihnaCh0aGlzLHRoaXMuYyx0aGlzLkYpLGI9MDtiPGEubGVuZ3RoO2IrKykoYz10aGlzLmIuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShhW2JdKSkmJk5nKGMsdGhpcy5GLk8pO3RoaXMuYi5lbnF1ZXVlZD0hMTt0aGlzLk0mJiFWJiZ0aGlzLnN0eWxlRG9jdW1lbnQoKX19fTsKcS5zdHlsZUVsZW1lbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1TZihhKS5pcyxkPXhnKGEpO2lmKCFkKXt2YXIgZT1TZihhKTtkPWUuaXM7ZT1lLlg7dmFyIGY9UGdbZF07ZD1aZ1tkXTtpZihkKXt2YXIgZz1kLl9zdHlsZUFzdDt2YXIgaD1kLmN9ZD15ZyhhLG5ldyB3ZyhnLGYsaCxlKSl9YSE9PXRoaXMuYyYmKHRoaXMuTT0hMCk7YiYmKGQuVD1kLlR8fHt9LE9iamVjdC5hc3NpZ24oZC5ULGIpKTtpZihWKXtpZihkLlQpe2I9ZC5UO2Zvcih2YXIgayBpbiBiKW51bGw9PT1rP2Euc3R5bGUucmVtb3ZlUHJvcGVydHkoayk6YS5zdHlsZS5zZXRQcm9wZXJ0eShrLGJba10pfWlmKCgoaz1aZ1tjXSl8fGE9PT10aGlzLmMpJiZrJiZrLmEmJiFiaChrKSl7aWYoYmgoayl8fGsuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uIT09ay5fYXBwbHlTaGltTmV4dFZlcnNpb24pZWgodGhpcyksdGhpcy5hJiZ0aGlzLmEudHJhbnNmb3JtUnVsZXMoay5fc3R5bGVBc3QsYyksay5hLnRleHRDb250ZW50PQpaZihhLGQuSyksY2goayk7VCYmKGM9YS5zaGFkb3dSb290KSYmKGMucXVlcnlTZWxlY3Rvcigic3R5bGUiKS50ZXh0Q29udGVudD1aZihhLGQuSykpO2QuSz1rLl9zdHlsZUFzdH19ZWxzZSBpZihnaCh0aGlzLGEsZCksZC5zYSYmZC5zYS5sZW5ndGgpe2M9ZDtrPVNmKGEpLmlzO2Q9KGI9ZGguZmV0Y2goayxjLk8sYy5zYSkpP2Iuc3R5bGVFbGVtZW50Om51bGw7Zz1jLkg7KGg9YiYmYi5IKXx8KGg9dGhpcy5BYVtrXT0odGhpcy5BYVtrXXx8MCkrMSxoPWsrIi0iK2gpO2MuSD1oO2g9Yy5IO2U9T2c7ZT1kP2QudGV4dENvbnRlbnR8fCIiOktnKGUsYSxjLk8saCk7Zj14ZyhhKTt2YXIgbT1mLmE7bSYmIVQmJm0hPT1kJiYobS5fdXNlQ291bnQtLSwwPj1tLl91c2VDb3VudCYmbS5wYXJlbnROb2RlJiZtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSkpO1Q/Zi5hPyhmLmEudGV4dENvbnRlbnQ9ZSxkPWYuYSk6ZSYmKGQ9TmYoZSxoLGEuc2hhZG93Um9vdCxmLmIpKTpkP2QucGFyZW50Tm9kZXx8CihBZyYmLTE8ZS5pbmRleE9mKCJAbWVkaWEiKSYmKGQudGV4dENvbnRlbnQ9ZSksT2YoZCxudWxsLGYuYikpOmUmJihkPU5mKGUsaCxudWxsLGYuYikpO2QmJihkLl91c2VDb3VudD1kLl91c2VDb3VudHx8MCxmLmEhPWQmJmQuX3VzZUNvdW50KyssZi5hPWQpO2g9ZDtUfHwoZD1jLkgsZj1lPWEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIixnJiYoZj1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFxzKngtc2NvcGVcXHMqIitnKyJcXHMqIiwiZyIpLCIgIikpLGYrPShmPyIgIjoiIikrIngtc2NvcGUgIitkLGUhPT1mJiZSZihhLGYpKTtifHxkaC5zdG9yZShrLGMuTyxoLGMuSCl9fTtmdW5jdGlvbiBoaChhLGIpe3JldHVybihiPWIuZ2V0Um9vdE5vZGUoKS5ob3N0KT94ZyhiKT9iOmhoKGEsYik6YS5jfQpmdW5jdGlvbiBnaChhLGIsYyl7YT1oaChhLGIpO3ZhciBkPXhnKGEpO2E9T2JqZWN0LmNyZWF0ZShkLk98fG51bGwpO3ZhciBlPUpnKGIsYy5LKTtiPUhnKGQuSyxiKS5KO09iamVjdC5hc3NpZ24oYSxlLlZhLGIsZS5ZYSk7Yj1jLlQ7Zm9yKHZhciBmIGluIGIpaWYoKGU9YltmXSl8fDA9PT1lKWFbZl09ZTtmPU9nO2I9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSk7Zm9yKGU9MDtlPGIubGVuZ3RoO2UrKylkPWJbZV0sYVtkXT1GZyhmLGFbZF0sYSk7Yy5PPWF9cS5zdHlsZURvY3VtZW50PWZ1bmN0aW9uKGEpe3RoaXMuc3R5bGVTdWJ0cmVlKHRoaXMuYyxhKX07CnEuc3R5bGVTdWJ0cmVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zaGFkb3dSb290OyhjfHxhPT09dGhpcy5jKSYmdGhpcy5zdHlsZUVsZW1lbnQoYSxiKTtpZihiPWMmJihjLmNoaWxkcmVufHxjLmNoaWxkTm9kZXMpKWZvcihhPTA7YTxiLmxlbmd0aDthKyspdGhpcy5zdHlsZVN1YnRyZWUoYlthXSk7ZWxzZSBpZihhPWEuY2hpbGRyZW58fGEuY2hpbGROb2Rlcylmb3IoYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuc3R5bGVTdWJ0cmVlKGFbYl0pfTtxLkVhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1MZihhKTtLZihjLGZ1bmN0aW9uKGEpe2lmKFQpdGcoYSk7ZWxzZXt2YXIgYz1WZjthLnNlbGVjdG9yPWEucGFyc2VkU2VsZWN0b3I7dGcoYSk7YS5zZWxlY3Rvcj1hLkc9Y2coYyxhLGMuYyx2b2lkIDAsdm9pZCAwKX1WJiYoZWgoYiksYi5hJiZiLmEudHJhbnNmb3JtUnVsZShhKSl9KTtWP2EudGV4dENvbnRlbnQ9SmYoYyk6dGhpcy5GLksucnVsZXMucHVzaChjKX07CnEuZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM7Vnx8KGM9KHhnKGEpfHx4ZyhoaCh0aGlzLGEpKSkuT1tiXSk7cmV0dXJuKGM9Y3x8d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSkuZ2V0UHJvcGVydHlWYWx1ZShiKSk/Yy50cmltKCk6IiJ9O3EuJGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldFJvb3ROb2RlKCk7Yj1iP2Iuc3BsaXQoL1xzLyk6W107Yz1jLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWU7aWYoIWMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpO2lmKGQpe2Q9ZC5zcGxpdCgvXHMvKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT09VmYuYSl7Yz1kW2UrMV07YnJlYWt9fX1jJiZiLnB1c2goVmYuYSxjKTtWfHwoYz14ZyhhKSkmJmMuSCYmYi5wdXNoKE9nLmEsYy5IKTtSZihhLGIuam9pbigiICIpKX07cS5RYT1mdW5jdGlvbihhKXtyZXR1cm4geGcoYSl9O1cucHJvdG90eXBlLmZsdXNoPVcucHJvdG90eXBlLkdhOwpXLnByb3RvdHlwZS5wcmVwYXJlVGVtcGxhdGU9Vy5wcm90b3R5cGUucHJlcGFyZVRlbXBsYXRlO1cucHJvdG90eXBlLnN0eWxlRWxlbWVudD1XLnByb3RvdHlwZS5zdHlsZUVsZW1lbnQ7Vy5wcm90b3R5cGUuc3R5bGVEb2N1bWVudD1XLnByb3RvdHlwZS5zdHlsZURvY3VtZW50O1cucHJvdG90eXBlLnN0eWxlU3VidHJlZT1XLnByb3RvdHlwZS5zdHlsZVN1YnRyZWU7Vy5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlPVcucHJvdG90eXBlLmdldENvbXB1dGVkU3R5bGVWYWx1ZTtXLnByb3RvdHlwZS5zZXRFbGVtZW50Q2xhc3M9Vy5wcm90b3R5cGUuJGE7Vy5wcm90b3R5cGUuX3N0eWxlSW5mb0Zvck5vZGU9Vy5wcm90b3R5cGUuUWE7Vy5wcm90b3R5cGUudHJhbnNmb3JtQ3VzdG9tU3R5bGVGb3JEb2N1bWVudD1XLnByb3RvdHlwZS5FYTtXLnByb3RvdHlwZS5nZXRTdHlsZUFzdD1XLnByb3RvdHlwZS5UYTtXLnByb3RvdHlwZS5zdHlsZUFzdFRvU3RyaW5nPVcucHJvdG90eXBlLmFiOwpXLnByb3RvdHlwZS5mbHVzaEN1c3RvbVN0eWxlcz1XLnByb3RvdHlwZS5mbHVzaEN1c3RvbVN0eWxlcztPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXLnByb3RvdHlwZSx7bmF0aXZlU2hhZG93OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVH19LG5hdGl2ZUNzczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFZ9fX0pO3ZhciBYPW5ldyBXLGloLGpoO3dpbmRvdy5TaGFkeUNTUyYmKGloPXdpbmRvdy5TaGFkeUNTUy5BcHBseVNoaW0samg9d2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlKTsKd2luZG93LlNoYWR5Q1NTPXtTY29waW5nU2hpbTpYLHByZXBhcmVUZW1wbGF0ZTpmdW5jdGlvbihhLGIsYyl7WC5mbHVzaEN1c3RvbVN0eWxlcygpO1gucHJlcGFyZVRlbXBsYXRlKGEsYixjKX0sc3R5bGVTdWJ0cmVlOmZ1bmN0aW9uKGEsYil7WC5mbHVzaEN1c3RvbVN0eWxlcygpO1guc3R5bGVTdWJ0cmVlKGEsYil9LHN0eWxlRWxlbWVudDpmdW5jdGlvbihhKXtYLmZsdXNoQ3VzdG9tU3R5bGVzKCk7WC5zdHlsZUVsZW1lbnQoYSl9LHN0eWxlRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7WC5mbHVzaEN1c3RvbVN0eWxlcygpO1guc3R5bGVEb2N1bWVudChhKX0sZmx1c2hDdXN0b21TdHlsZXM6ZnVuY3Rpb24oKXtYLmZsdXNoQ3VzdG9tU3R5bGVzKCl9LGdldENvbXB1dGVkU3R5bGVWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBYLmdldENvbXB1dGVkU3R5bGVWYWx1ZShhLGIpfSxuYXRpdmVDc3M6VixuYXRpdmVTaGFkb3c6VH07aWgmJih3aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltPWloKTsKamgmJih3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2U9amgpOyhmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpeyIiPT1hJiYoZi5jYWxsKHRoaXMpLHRoaXMuaD0hMCk7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gMzI8YiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsNjMsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDMyPGImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGUoYSxlLGcpe2Z1bmN0aW9uIGgoYSl7a2IucHVzaChhKX12YXIgaz1lfHwic2NoZW1lIHN0YXJ0Iix2PTAscD0iIix4PSExLFU9ITEsa2I9W107YTpmb3IoOyh2b2lkIDAhPWFbdi0xXXx8MD09dikmJiF0aGlzLmg7KXt2YXIgbD1hW3ZdO3N3aXRjaChrKXtjYXNlICJzY2hlbWUgc3RhcnQiOmlmKGwmJnIudGVzdChsKSlwKz0KbC50b0xvd2VyQ2FzZSgpLGs9InNjaGVtZSI7ZWxzZSBpZihlKXtoKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBhfWVsc2V7cD0iIjtrPSJubyBzY2hlbWUiO2NvbnRpbnVlfWJyZWFrO2Nhc2UgInNjaGVtZSI6aWYobCYmRy50ZXN0KGwpKXArPWwudG9Mb3dlckNhc2UoKTtlbHNlIGlmKCI6Ij09bCl7dGhpcy5nPXA7cD0iIjtpZihlKWJyZWFrIGE7dm9pZCAwIT09bVt0aGlzLmddJiYodGhpcy5EPSEwKTtrPSJmaWxlIj09dGhpcy5nPyJyZWxhdGl2ZSI6dGhpcy5EJiZnJiZnLmc9PXRoaXMuZz8icmVsYXRpdmUgb3IgYXV0aG9yaXR5Ijp0aGlzLkQ/ImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6InNjaGVtZSBkYXRhIn1lbHNlIGlmKGUpe3ZvaWQgMCE9bCYmaCgiQ29kZSBwb2ludCBub3QgYWxsb3dlZCBpbiBzY2hlbWU6ICIrbCk7YnJlYWsgYX1lbHNle3A9IiI7dj0wO2s9Im5vIHNjaGVtZSI7Y29udGludWV9YnJlYWs7Y2FzZSAic2NoZW1lIGRhdGEiOiI/Ij09bD8odGhpcy51PSI/IiwKaz0icXVlcnkiKToiIyI9PWw/KHRoaXMuQz0iIyIsaz0iZnJhZ21lbnQiKTp2b2lkIDAhPWwmJiJcdCIhPWwmJiJcbiIhPWwmJiJcciIhPWwmJih0aGlzLnFhKz1jKGwpKTticmVhaztjYXNlICJubyBzY2hlbWUiOmlmKGcmJnZvaWQgMCE9PW1bZy5nXSl7az0icmVsYXRpdmUiO2NvbnRpbnVlfWVsc2UgaCgiTWlzc2luZyBzY2hlbWUuIiksZi5jYWxsKHRoaXMpLHRoaXMuaD0hMDticmVhaztjYXNlICJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOmlmKCIvIj09bCYmIi8iPT1hW3YrMV0paz0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtlbHNle2goIkV4cGVjdGVkIC8sIGdvdDogIitsKTtrPSJyZWxhdGl2ZSI7Y29udGludWV9YnJlYWs7Y2FzZSAicmVsYXRpdmUiOnRoaXMuRD0hMDsiZmlsZSIhPXRoaXMuZyYmKHRoaXMuZz1nLmcpO2lmKHZvaWQgMD09bCl7dGhpcy5pPWcuaTt0aGlzLnM9Zy5zO3RoaXMuaj1nLmouc2xpY2UoKTt0aGlzLnU9Zy51O3RoaXMudj1nLnY7dGhpcy5mPWcuZjsKYnJlYWsgYX1lbHNlIGlmKCIvIj09bHx8IlxcIj09bCkiXFwiPT1sJiZoKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaz0icmVsYXRpdmUgc2xhc2giO2Vsc2UgaWYoIj8iPT1sKXRoaXMuaT1nLmksdGhpcy5zPWcucyx0aGlzLmo9Zy5qLnNsaWNlKCksdGhpcy51PSI/Iix0aGlzLnY9Zy52LHRoaXMuZj1nLmYsaz0icXVlcnkiO2Vsc2UgaWYoIiMiPT1sKXRoaXMuaT1nLmksdGhpcy5zPWcucyx0aGlzLmo9Zy5qLnNsaWNlKCksdGhpcy51PWcudSx0aGlzLkM9IiMiLHRoaXMudj1nLnYsdGhpcy5mPWcuZixrPSJmcmFnbWVudCI7ZWxzZXtrPWFbdisxXTt2YXIgRj1hW3YrMl07aWYoImZpbGUiIT10aGlzLmd8fCFyLnRlc3QobCl8fCI6IiE9ayYmInwiIT1rfHx2b2lkIDAhPUYmJiIvIiE9RiYmIlxcIiE9RiYmIj8iIT1GJiYiIyIhPUYpdGhpcy5pPWcuaSx0aGlzLnM9Zy5zLHRoaXMudj1nLnYsdGhpcy5mPWcuZix0aGlzLmo9Zy5qLnNsaWNlKCksdGhpcy5qLnBvcCgpO2s9CiJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX1icmVhaztjYXNlICJyZWxhdGl2ZSBzbGFzaCI6aWYoIi8iPT1sfHwiXFwiPT1sKSJcXCI9PWwmJmgoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxrPSJmaWxlIj09dGhpcy5nPyJmaWxlIGhvc3QiOiJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2Vsc2V7ImZpbGUiIT10aGlzLmcmJih0aGlzLmk9Zy5pLHRoaXMucz1nLnMsdGhpcy52PWcudix0aGlzLmY9Zy5mKTtrPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX1icmVhaztjYXNlICJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIj09bClrPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjtlbHNle2goIkV4cGVjdGVkICcvJywgZ290OiAiK2wpO2s9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7Y29udGludWV9YnJlYWs7Y2FzZSAiYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI6az0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtpZigiLyIhPWwpe2goIkV4cGVjdGVkICcvJywgZ290OiAiKwpsKTtjb250aW51ZX1icmVhaztjYXNlICJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiOmlmKCIvIiE9bCYmIlxcIiE9bCl7az0iYXV0aG9yaXR5Ijtjb250aW51ZX1lbHNlIGgoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK2wpO2JyZWFrO2Nhc2UgImF1dGhvcml0eSI6aWYoIkAiPT1sKXt4JiYoaCgiQCBhbHJlYWR5IHNlZW4uIikscCs9IiU0MCIpO3g9ITA7Zm9yKGw9MDtsPHAubGVuZ3RoO2wrKylGPXBbbF0sIlx0Ij09Rnx8IlxuIj09Rnx8IlxyIj09Rj9oKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpOiI6Ij09RiYmbnVsbD09PXRoaXMuZj90aGlzLmY9IiI6KEY9YyhGKSxudWxsIT09dGhpcy5mP3RoaXMuZis9Rjp0aGlzLnYrPUYpO3A9IiJ9ZWxzZSBpZih2b2lkIDA9PWx8fCIvIj09bHx8IlxcIj09bHx8Ij8iPT1sfHwiIyI9PWwpe3YtPXAubGVuZ3RoO3A9IiI7az0iaG9zdCI7Y29udGludWV9ZWxzZSBwKz1sO2JyZWFrO2Nhc2UgImZpbGUgaG9zdCI6aWYodm9pZCAwPT0KbHx8Ii8iPT1sfHwiXFwiPT1sfHwiPyI9PWx8fCIjIj09bCl7MiE9cC5sZW5ndGh8fCFyLnRlc3QocFswXSl8fCI6IiE9cFsxXSYmInwiIT1wWzFdPygwIT1wLmxlbmd0aCYmKHRoaXMuaT1iLmNhbGwodGhpcyxwKSxwPSIiKSxrPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Iik6az0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9ZWxzZSJcdCI9PWx8fCJcbiI9PWx8fCJcciI9PWw/aCgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpwKz1sO2JyZWFrO2Nhc2UgImhvc3QiOmNhc2UgImhvc3RuYW1lIjppZigiOiIhPWx8fFUpaWYodm9pZCAwPT1sfHwiLyI9PWx8fCJcXCI9PWx8fCI/Ij09bHx8IiMiPT1sKXt0aGlzLmk9Yi5jYWxsKHRoaXMscCk7cD0iIjtrPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjtpZihlKWJyZWFrIGE7Y29udGludWV9ZWxzZSJcdCIhPWwmJiJcbiIhPWwmJiJcciIhPWw/KCJbIj09bD9VPSEwOiJdIj09bCYmKFU9ITEpLHArPWwpOmgoIkludmFsaWQgY29kZSBwb2ludCBpbiBob3N0L2hvc3RuYW1lOiAiKwpsKTtlbHNlIGlmKHRoaXMuaT1iLmNhbGwodGhpcyxwKSxwPSIiLGs9InBvcnQiLCJob3N0bmFtZSI9PWUpYnJlYWsgYTticmVhaztjYXNlICJwb3J0IjppZigvWzAtOV0vLnRlc3QobCkpcCs9bDtlbHNlIGlmKHZvaWQgMD09bHx8Ii8iPT1sfHwiXFwiPT1sfHwiPyI9PWx8fCIjIj09bHx8ZSl7IiIhPXAmJihwPXBhcnNlSW50KHAsMTApLHAhPW1bdGhpcy5nXSYmKHRoaXMucz1wKyIiKSxwPSIiKTtpZihlKWJyZWFrIGE7az0icmVsYXRpdmUgcGF0aCBzdGFydCI7Y29udGludWV9ZWxzZSJcdCI9PWx8fCJcbiI9PWx8fCJcciI9PWw/aCgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrbCk6KGYuY2FsbCh0aGlzKSx0aGlzLmg9ITApO2JyZWFrO2Nhc2UgInJlbGF0aXZlIHBhdGggc3RhcnQiOiJcXCI9PWwmJmgoIidcXCcgbm90IGFsbG93ZWQgaW4gcGF0aC4iKTtrPSJyZWxhdGl2ZSBwYXRoIjtpZigiLyIhPWwmJiJcXCIhPWwpY29udGludWU7YnJlYWs7Y2FzZSAicmVsYXRpdmUgcGF0aCI6aWYodm9pZCAwIT0KbCYmIi8iIT1sJiYiXFwiIT1sJiYoZXx8Ij8iIT1sJiYiIyIhPWwpKSJcdCIhPWwmJiJcbiIhPWwmJiJcciIhPWwmJihwKz1jKGwpKTtlbHNleyJcXCI9PWwmJmgoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7aWYoRj1uW3AudG9Mb3dlckNhc2UoKV0pcD1GOyIuLiI9PXA/KHRoaXMuai5wb3AoKSwiLyIhPWwmJiJcXCIhPWwmJnRoaXMuai5wdXNoKCIiKSk6Ii4iPT1wJiYiLyIhPWwmJiJcXCIhPWw/dGhpcy5qLnB1c2goIiIpOiIuIiE9cCYmKCJmaWxlIj09dGhpcy5nJiYwPT10aGlzLmoubGVuZ3RoJiYyPT1wLmxlbmd0aCYmci50ZXN0KHBbMF0pJiYifCI9PXBbMV0mJihwPXBbMF0rIjoiKSx0aGlzLmoucHVzaChwKSk7cD0iIjsiPyI9PWw/KHRoaXMudT0iPyIsaz0icXVlcnkiKToiIyI9PWwmJih0aGlzLkM9IiMiLGs9ImZyYWdtZW50Iil9YnJlYWs7Y2FzZSAicXVlcnkiOmV8fCIjIiE9bD92b2lkIDAhPWwmJiJcdCIhPWwmJiJcbiIhPWwmJiJcciIhPWwmJih0aGlzLnUrPQpkKGwpKToodGhpcy5DPSIjIixrPSJmcmFnbWVudCIpO2JyZWFrO2Nhc2UgImZyYWdtZW50Ijp2b2lkIDAhPWwmJiJcdCIhPWwmJiJcbiIhPWwmJiJcciIhPWwmJih0aGlzLkMrPWwpfXYrK319ZnVuY3Rpb24gZigpe3RoaXMudj10aGlzLnFhPXRoaXMuZz0iIjt0aGlzLmY9bnVsbDt0aGlzLnM9dGhpcy5pPSIiO3RoaXMuaj1bXTt0aGlzLkM9dGhpcy51PSIiO3RoaXMuRD10aGlzLmg9ITF9ZnVuY3Rpb24gZyhhLGIpe3ZvaWQgMD09PWJ8fGIgaW5zdGFuY2VvZiBnfHwoYj1uZXcgZyhTdHJpbmcoYikpKTt0aGlzLlJhPWE7Zi5jYWxsKHRoaXMpO2E9YS5yZXBsYWNlKC9eWyBcdFxyXG5cZl0rfFsgXHRcclxuXGZdKyQvZywiIik7ZS5jYWxsKHRoaXMsYSxudWxsLGIpfXZhciBoPSExO2lmKCFhLnFiKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtrLnBhdGhuYW1lPSJjJTIwZCI7aD0iaHR0cDovL2EvYyUyMGQiPT09ay5ocmVmfWNhdGNoKHYpe31pZighaCl7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTsKbS5mdHA9MjE7bS5maWxlPTA7bS5nb3BoZXI9NzA7bS5odHRwPTgwO20uaHR0cHM9NDQzO20ud3M9ODA7bS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iO25bIi4lMmUiXT0iLi4iO25bIiUyZS4iXT0iLi4iO25bIiUyZSUyZSJdPSIuLiI7dmFyIHI9L1thLXpBLVpdLyxHPS9bYS16QS1aMC05XCtcLVwuXS87Zy5wcm90b3R5cGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHJlZn0sZ2V0IGhyZWYoKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuUmE7dmFyIGE9IiI7aWYoIiIhPXRoaXMudnx8bnVsbCE9dGhpcy5mKWE9dGhpcy52KyhudWxsIT10aGlzLmY/IjoiK3RoaXMuZjoiIikrIkAiO3JldHVybiB0aGlzLnByb3RvY29sKyh0aGlzLkQ/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLnUrdGhpcy5DfSxzZXQgaHJlZihhKXtmLmNhbGwodGhpcyk7ZS5jYWxsKHRoaXMsYSl9LGdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLmcrCiI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuaHx8ZS5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLmg/IiI6dGhpcy5zP3RoaXMuaSsiOiIrdGhpcy5zOnRoaXMuaX0sc2V0IGhvc3QoYSl7IXRoaXMuaCYmdGhpcy5EJiZlLmNhbGwodGhpcyxhLCJob3N0Iil9LGdldCBob3N0bmFtZSgpe3JldHVybiB0aGlzLml9LHNldCBob3N0bmFtZShhKXshdGhpcy5oJiZ0aGlzLkQmJmUuY2FsbCh0aGlzLGEsImhvc3RuYW1lIil9LGdldCBwb3J0KCl7cmV0dXJuIHRoaXMuc30sc2V0IHBvcnQoYSl7IXRoaXMuaCYmdGhpcy5EJiZlLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmg/IiI6dGhpcy5EPyIvIit0aGlzLmouam9pbigiLyIpOnRoaXMucWF9LHNldCBwYXRobmFtZShhKXshdGhpcy5oJiZ0aGlzLkQmJih0aGlzLmo9W10sZS5jYWxsKHRoaXMsYSwicmVsYXRpdmUgcGF0aCBzdGFydCIpKX0sZ2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLmh8fAohdGhpcy51fHwiPyI9PXRoaXMudT8iIjp0aGlzLnV9LHNldCBzZWFyY2goYSl7IXRoaXMuaCYmdGhpcy5EJiYodGhpcy51PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGUuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLmh8fCF0aGlzLkN8fCIjIj09dGhpcy5DPyIiOnRoaXMuQ30sc2V0IGhhc2goYSl7dGhpcy5ofHwodGhpcy5DPSIjIiwiIyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGUuY2FsbCh0aGlzLGEsImZyYWdtZW50IikpfSxnZXQgb3JpZ2luKCl7dmFyIGE7aWYodGhpcy5ofHwhdGhpcy5nKXJldHVybiIiO3N3aXRjaCh0aGlzLmcpe2Nhc2UgImRhdGEiOmNhc2UgImZpbGUiOmNhc2UgImphdmFzY3JpcHQiOmNhc2UgIm1haWx0byI6cmV0dXJuIm51bGwifXJldHVybihhPXRoaXMuaG9zdCk/dGhpcy5nKyI6Ly8iK2E6IiJ9fTt2YXIgeD1hLlVSTDt4JiYoZy5jcmVhdGVPYmplY3RVUkw9ZnVuY3Rpb24oYSl7cmV0dXJuIHguY3JlYXRlT2JqZWN0VVJMLmFwcGx5KHgsCmFyZ3VtZW50cyl9LGcucmV2b2tlT2JqZWN0VVJMPWZ1bmN0aW9uKGEpe3gucmV2b2tlT2JqZWN0VVJMKGEpfSk7YS5VUkw9Z319KSh3aW5kb3cpO3ZhciBraD17fSxsaD1PYmplY3QuY3JlYXRlLG1oPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLG5oPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtmdW5jdGlvbiBZKGEsYil7Yj12b2lkIDA9PT1iP3t9OmI7cmV0dXJue3ZhbHVlOmEsY29uZmlndXJhYmxlOiEhYi55YSx3cml0YWJsZTohIWIuY2IsZW51bWVyYWJsZTohIWIuZX19dmFyIG9oPXZvaWQgMDt0cnl7b2g9MT09PW5oKHt9LCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDF9fSkueX1jYXRjaChhKXtvaD0hMX12YXIgcGg9e307ZnVuY3Rpb24gcWgoYSl7YT1TdHJpbmcoYSk7Zm9yKHZhciBiPSIiLGM9MDtwaFthK2JdOyliPWMrPTE7cGhbYStiXT0xO3ZhciBkPSJTeW1ib2woIithKyIiK2IrIikiO29oJiZuaChPYmplY3QucHJvdG90eXBlLGQse2dldDp2b2lkIDAsc2V0OmZ1bmN0aW9uKGEpe25oKHRoaXMsZCxZKGEse3lhOiEwLGNiOiEwfSkpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMX0pO3JldHVybiBkfQp2YXIgcmg9bGgobnVsbCk7ZnVuY3Rpb24gWihhKXtpZih0aGlzIGluc3RhbmNlb2YgWil0aHJvdyBuZXcgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTthPXZvaWQgMD09PWE/IiI6U3RyaW5nKGEpO3ZhciBiPXFoKGEpO3JldHVybiBvaD9saChyaCx7dWE6WShhKSxLYTpZKGIpfSk6Yn1taChaLHsiZm9yIjpZKGZ1bmN0aW9uKGEpe2E9U3RyaW5nKGEpO2lmKGtoW2FdKXJldHVybiBraFthXTt2YXIgYj1aKGEpO3JldHVybiBraFthXT1ifSksa2V5Rm9yOlkoZnVuY3Rpb24oYSl7aWYob2gmJighYXx8IlN5bWJvbCIhPT1hW1oudG9TdHJpbmdUYWddKSl0aHJvdyBuZXcgVHlwZUVycm9yKCIiK2ErIiBpcyBub3QgYSBzeW1ib2wiKTtmb3IodmFyIGIgaW4ga2gpaWYoa2hbYl09PT1hKXJldHVybiBvaD9raFtiXS51YTpraFtiXS5zdWJzdHIoNyxraFtiXS5sZW5ndGgtOCl9KX0pOwptaChaLHt1YjpZKFooImhhc0luc3RhbmNlIikpLHZiOlkoWigiaXNDb25jYXRTcHJlYWRhYmxlIikpLGl0ZXJhdG9yOlkoWigiaXRlcmF0b3IiKSksbWF0Y2g6WShaKCJtYXRjaCIpKSxyZXBsYWNlOlkoWigicmVwbGFjZSIpKSxzZWFyY2g6WShaKCJzZWFyY2giKSksQWI6WShaKCJzcGVjaWVzIikpLHNwbGl0OlkoWigic3BsaXQiKSksQmI6WShaKCJ0b1ByaW1pdGl2ZSIpKSx0b1N0cmluZ1RhZzpZKFooInRvU3RyaW5nVGFnIikpLHVuc2NvcGFibGVzOlkoWigidW5zY29wYWJsZXMiKSl9KTttaChyaCx7Y29uc3RydWN0b3I6WShaKSx0b1N0cmluZzpZKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuS2F9KSx2YWx1ZU9mOlkoZnVuY3Rpb24oKXtyZXR1cm4iU3ltYm9sKCIrdGhpcy51YSsiKSJ9KX0pO29oJiZuaChyaCxaLnRvU3RyaW5nVGFnLFkoIlN5bWJvbCIse3lhOiEwfSkpO3ZhciBzaD0iZnVuY3Rpb24iPT09dHlwZW9mIFN5bWJvbD9TeW1ib2w6WjsvKgoKQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dApUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQKQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28Kc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHQKKi8Kd2luZG93LlN5bWJvbHx8KHdpbmRvdy5TeW1ib2w9c2gsQXJyYXkucHJvdG90eXBlW3NoLml0ZXJhdG9yXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlLGgpe2Zvcig7Oylzd2l0Y2goYil7Y2FzZSAwOmM9MDtjYXNlIDE6aWYoIShjPGQubGVuZ3RoKSl7Yj0zO2JyZWFrfWI9NDtyZXR1cm57dmFsdWU6ZFtjXSxkb25lOiExfTtjYXNlIDQ6aWYoMSE9YSl7Yj01O2JyZWFrfWI9LTE7dGhyb3cgaDtjYXNlIDU6Y2FzZSAyOmMrKztiPTE7YnJlYWs7Y2FzZSAzOmI9LTE7ZGVmYXVsdDpyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fX12YXIgYj0wLGMsZD10aGlzLGU9e25leHQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEoMCxiLHZvaWQgMCl9LHRocm93OmZ1bmN0aW9uKGIpe3JldHVybiBhKDEsdm9pZCAwLGIpfSxyZXR1cm46ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiTm90IHlldCBpbXBsZW1lbnRlZCIpO319O2VhKCk7ZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9OwpyZXR1cm4gZX0sU2V0LnByb3RvdHlwZVtzaC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZixrKXtmb3IoOzspc3dpdGNoKGIpe2Nhc2UgMDpkPVtdLGUuZm9yRWFjaChmdW5jdGlvbihhKXtkLnB1c2goYSl9KSxjPTA7Y2FzZSAxOmlmKCEoYzxkLmxlbmd0aCkpe2I9MzticmVha31iPTQ7cmV0dXJue3ZhbHVlOmRbY10sZG9uZTohMX07Y2FzZSA0OmlmKDEhPWEpe2I9NTticmVha31iPS0xO3Rocm93IGs7Y2FzZSA1OmNhc2UgMjpjKys7Yj0xO2JyZWFrO2Nhc2UgMzpiPS0xO2RlZmF1bHQ6cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX19dmFyIGI9MCxjLGQsZT10aGlzLGY9e25leHQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEoMCxiLHZvaWQgMCl9LHRocm93OmZ1bmN0aW9uKGIpe3JldHVybiBhKDEsdm9pZCAwLGIpfSxyZXR1cm46ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiTm90IHlldCBpbXBsZW1lbnRlZCIpO319O2VhKCk7ZltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9OwpyZXR1cm4gZn0sTWFwLnByb3RvdHlwZVtzaC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZixrKXtmb3IoOzspc3dpdGNoKGIpe2Nhc2UgMDpkPVtdLGUuZm9yRWFjaChmdW5jdGlvbihhLGIpe2QucHVzaChbYixhXSl9KSxjPTA7Y2FzZSAxOmlmKCEoYzxkLmxlbmd0aCkpe2I9MzticmVha31iPTQ7cmV0dXJue3ZhbHVlOmRbY10sZG9uZTohMX07Y2FzZSA0OmlmKDEhPWEpe2I9NTticmVha31iPS0xO3Rocm93IGs7Y2FzZSA1OmNhc2UgMjpjKys7Yj0xO2JyZWFrO2Nhc2UgMzpiPS0xO2RlZmF1bHQ6cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX19dmFyIGI9MCxjLGQsZT10aGlzLGY9e25leHQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEoMCxiLHZvaWQgMCl9LHRocm93OmZ1bmN0aW9uKGIpe3JldHVybiBhKDEsdm9pZCAwLGIpfSxyZXR1cm46ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiTm90IHlldCBpbXBsZW1lbnRlZCIpO319O2VhKCk7ZltTeW1ib2wuaXRlcmF0b3JdPQpmdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gZn0sU3RyaW5nLnByb3RvdHlwZVtzaC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZSxoKXtmb3IoOzspc3dpdGNoKGIpe2Nhc2UgMDpjPTA7Y2FzZSAxOmlmKCEoYzxkLmxlbmd0aCkpe2I9MzticmVha31iPTQ7cmV0dXJue3ZhbHVlOmRbY10sZG9uZTohMX07Y2FzZSA0OmlmKDEhPWEpe2I9NTticmVha31iPS0xO3Rocm93IGg7Y2FzZSA1OmNhc2UgMjpjKys7Yj0xO2JyZWFrO2Nhc2UgMzpiPS0xO2RlZmF1bHQ6cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX19dmFyIGI9MCxjLGQ9dGhpcyxlPXtuZXh0OmZ1bmN0aW9uKGIpe3JldHVybiBhKDAsYix2b2lkIDApfSx0aHJvdzpmdW5jdGlvbihiKXtyZXR1cm4gYSgxLHZvaWQgMCxiKX0scmV0dXJuOmZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoIk5vdCB5ZXQgaW1wbGVtZW50ZWQiKTt9fTtlYSgpO2VbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTsKcmV0dXJuIGV9KTt2YXIgdGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTt0aC50ZXh0Q29udGVudD0iYm9keSB7dHJhbnNpdGlvbjogb3BhY2l0eSBlYXNlLWluIDAuMnM7IH0gXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB9IFxuIjt2YXIgdWg9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO3VoLmluc2VydEJlZm9yZSh0aCx1aC5maXJzdENoaWxkKTt2YXIgdmg9d2luZG93LmN1c3RvbUVsZW1lbnRzLHdoPSExLHhoPW51bGw7dmgucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayYmdmgucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayhmdW5jdGlvbihhKXt4aD1hO3doJiZhKCl9KTtmdW5jdGlvbiB5aCgpe3dpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKHdpbmRvdy5kb2N1bWVudCk7eGgmJnhoKCk7d2g9ITA7d2luZG93LldlYkNvbXBvbmVudHMucmVhZHk9ITA7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIldlYkNvbXBvbmVudHNSZWFkeSIse2J1YmJsZXM6ITB9KSl9CiJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlPyh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIseWgpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIix5aCk7eWgoKX0pKTp5aCgpO30pLmNhbGwodGhpcyk7Cn0K"></script>
  <script src="data:application/javascript;base64,ZnVuY3Rpb24gbG9hZF9kaXN0aWxsX2ZyYW1ld29yaygpIHsKKGZ1bmN0aW9uKGUsdCl7J29iamVjdCc9PXR5cGVvZiBleHBvcnRzJiYndW5kZWZpbmVkJyE9dHlwZW9mIG1vZHVsZT90KCk6J2Z1bmN0aW9uJz09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6dCgpfSkodGhpcyxmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBlKGUsdCl7ZS50aXRsZT10LnRpdGxlLHQucHVibGlzaGVkJiYodC5wdWJsaXNoZWQgaW5zdGFuY2VvZiBEYXRlP2UucHVibGlzaGVkRGF0ZT10LnB1Ymxpc2hlZDp0LnB1Ymxpc2hlZC5jb25zdHJ1Y3Rvcj09PVN0cmluZyYmKGUucHVibGlzaGVkRGF0ZT1uZXcgRGF0ZSh0LnB1Ymxpc2hlZCkpKSx0LnB1Ymxpc2hlZERhdGUmJih0LnB1Ymxpc2hlZERhdGUgaW5zdGFuY2VvZiBEYXRlP2UucHVibGlzaGVkRGF0ZT10LnB1Ymxpc2hlZERhdGU6dC5wdWJsaXNoZWREYXRlLmNvbnN0cnVjdG9yPT09U3RyaW5nP2UucHVibGlzaGVkRGF0ZT1uZXcgRGF0ZSh0LnB1Ymxpc2hlZERhdGUpOmNvbnNvbGUuZXJyb3IoJ0RvblwndCBrbm93IHdoYXQgdG8gZG8gd2l0aCBwdWJsaXNoZWQgZGF0ZTogJyt0LnB1Ymxpc2hlZERhdGUpKSxlLmRlc2NyaXB0aW9uPXQuZGVzY3JpcHRpb24sZS5hdXRob3JzPXQuYXV0aG9ycy5tYXAoKGUpPT5uZXcgUW4oZSkpLGUua2F0ZXg9dC5rYXRleCxlLnBhc3N3b3JkPXQucGFzc3dvcmR9ZnVuY3Rpb24gdChlPWRvY3VtZW50KXtjb25zdCB0PW5ldyBTZXQsbj1lLnF1ZXJ5U2VsZWN0b3JBbGwoJ2QtY2l0ZScpO2Zvcihjb25zdCBpIG9mIG4pe2NvbnN0IGU9aS5nZXRBdHRyaWJ1dGUoJ2tleScpLnNwbGl0KCcsJyk7Zm9yKGNvbnN0IG4gb2YgZSl0LmFkZChuKX1yZXR1cm5bLi4udF19ZnVuY3Rpb24gbihlLHQsbixpKXtpZihudWxsPT1lLmF1dGhvcilyZXR1cm4nJzt2YXIgYT1lLmF1dGhvci5zcGxpdCgnIGFuZCAnKTtsZXQgZD1hLm1hcCgoZSk9PntpZihlPWUudHJpbSgpLGUubWF0Y2goL1x7LitcfS8pKXt2YXIgbj0vXHsoW159XSspXH0vLGk9bi5leGVjKGUpO3JldHVybiBpWzFdfWlmKC0xIT1lLmluZGV4T2YoJywnKSl2YXIgYT1lLnNwbGl0KCcsJylbMF0udHJpbSgpLGQ9ZS5zcGxpdCgnLCcpWzFdO2Vsc2UgdmFyIGE9ZS5zcGxpdCgnICcpLnNsaWNlKC0xKVswXS50cmltKCksZD1lLnNwbGl0KCcgJykuc2xpY2UoMCwtMSkuam9pbignICcpO3ZhciByPScnO3JldHVybiB2b2lkIDAhPWQmJihyPWQudHJpbSgpLnNwbGl0KCcgJykubWFwKChlKT0+ZS50cmltKClbMF0pLHI9ci5qb2luKCcuJykrJy4nKSx0LnJlcGxhY2UoJyR7Rn0nLGQpLnJlcGxhY2UoJyR7TH0nLGEpLnJlcGxhY2UoJyR7SX0nLHIpfSk7aWYoMTxhLmxlbmd0aCl7dmFyIHI9ZC5zbGljZSgwLGEubGVuZ3RoLTEpLmpvaW4obik7cmV0dXJuIHIrPShpfHxuKStkW2EubGVuZ3RoLTFdLHJ9cmV0dXJuIGRbMF19ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmpvdXJuYWx8fGUuYm9va3RpdGxlfHwnJztpZigndm9sdW1lJ2luIGUpe3ZhciBuPWUuaXNzdWV8fGUubnVtYmVyO249dm9pZCAwPT1uPycnOicoJytuKycpJyx0Kz0nLCBWb2wgJytlLnZvbHVtZStufXJldHVybidwYWdlcydpbiBlJiYodCs9JywgcHAuICcrZS5wYWdlcyksJychPXQmJih0Kz0nLiAnKSwncHVibGlzaGVyJ2luIGUmJih0Kz1lLnB1Ymxpc2hlciwnLichPXRbdC5sZW5ndGgtMV0mJih0Kz0nLicpKSx0fWZ1bmN0aW9uIGEoZSl7aWYoJ3VybCdpbiBlKXt2YXIgdD1lLnVybCxuPS9hcnhpdlwub3JnXC9hYnNcLyhbMC05XC5dKikvLmV4ZWModCk7aWYobnVsbCE9biYmKHQ9YGh0dHA6Ly9hcnhpdi5vcmcvcGRmLyR7blsxXX0ucGRmYCksJy5wZGYnPT10LnNsaWNlKC00KSl2YXIgaT0nUERGJztlbHNlIGlmKCcuaHRtbCc9PXQuc2xpY2UoLTUpKXZhciBpPSdIVE1MJztyZXR1cm5gICZlbnNwOzxhIGhyZWY9IiR7dH0iPlske2l8fCdsaW5rJ31dPC9hPmB9cmV0dXJuJyd9ZnVuY3Rpb24gZChlLHQpe3JldHVybidkb2knaW4gZT9gJHt0Pyc8YnI+JzonJ30gPGEgaHJlZj0iaHR0cHM6Ly9kb2kub3JnLyR7ZS5kb2l9IiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5ET0k6ICR7ZS5kb2l9PC9hPmA6Jyd9ZnVuY3Rpb24gcihlKXtyZXR1cm4nPHNwYW4gY2xhc3M9InRpdGxlIj4nK2UudGl0bGUrJzwvc3Bhbj4gJ31mdW5jdGlvbiBvKGUpe2lmKGUpe3ZhciB0PXIoZSk7cmV0dXJuIHQrPWEoZSkrJzxicj4nLGUuYXV0aG9yJiYodCs9bihlLCcke0x9LCAke0l9JywnLCAnLCcgYW5kICcpLChlLnllYXJ8fGUuZGF0ZSkmJih0Kz0nLCAnKSksdCs9ZS55ZWFyfHxlLmRhdGU/KGUueWVhcnx8ZS5kYXRlKSsnLiAnOicuICcsdCs9aShlKSx0Kz1kKGUpLHR9cmV0dXJuJz8nfWZ1bmN0aW9uIGwoZSl7aWYoZSl7dmFyIHQ9Jyc7dCs9JzxzdHJvbmc+JytlLnRpdGxlKyc8L3N0cm9uZz4nLHQrPWEoZSksdCs9Jzxicj4nO3ZhciByPW4oZSwnJHtJfSAke0x9JywnLCAnKSsnLicsbz1pKGUpLnRyaW0oKSsnICcrZS55ZWFyKycuICcrZChlLCEwKTtyZXR1cm4gdCs9KHIrbykubGVuZ3RoPEhuKDQwLGUudGl0bGUubGVuZ3RoKT9yKycgJytvOnIrJzxicj4nK28sdH1yZXR1cm4nPyd9ZnVuY3Rpb24gcyhlKXtmb3IobGV0IHQgb2YgZS5hdXRob3JzKXtjb25zdCBlPSEhdC5hZmZpbGlhdGlvbixuPSEhdC5hZmZpbGlhdGlvbnM7aWYoZSlpZihuKWNvbnNvbGUud2FybihgQXV0aG9yICR7dC5hdXRob3J9IGhhcyBib3RoIG9sZC1zdHlsZSAoImFmZmlsaWF0aW9uIiAmICJhZmZpbGlhdGlvblVSTCIpIGFuZCBuZXcgc3R5bGUgKCJhZmZpbGlhdGlvbnMiKSBhZmZpbGlhdGlvbiBpbmZvcm1hdGlvbiFgKTtlbHNle2xldCBlPXtuYW1lOnQuYWZmaWxpYXRpb259O3QuYWZmaWxpYXRpb25VUkwmJihlLnVybD10LmFmZmlsaWF0aW9uVVJMKSx0LmFmZmlsaWF0aW9ucz1bZV19fXJldHVybiBjb25zb2xlLmxvZyhlKSxlfWZ1bmN0aW9uIGMoZSl7Y29uc3QgdD1lLnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdCcpO2lmKHQpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtpZignanNvbic9PWUuc3BsaXQoJy8nKVsxXSl7Y29uc3QgZT10LnRleHRDb250ZW50LG49SlNPTi5wYXJzZShlKTtyZXR1cm4gcyhuKX1jb25zb2xlLmVycm9yKCdEaXN0aWxsIG9ubHkgc3VwcG9ydHMgSlNPTiBmcm9udG1hdHRlciB0YWdzIGFueW1vcmU7IG5vIG1vcmUgWUFNTC4nKX1lbHNlIGNvbnNvbGUuZXJyb3IoJ1lvdSBhZGRlZCBhIGZyb250bWF0dGVyIHRhZyBidXQgZGlkIG5vdCBwcm92aWRlIGEgc2NyaXB0IHRhZyB3aXRoIGZyb250IG1hdHRlciBkYXRhIGluIGl0LiBQbGVhc2UgdGFrZSBhIGxvb2sgYXQgb3VyIHRlbXBsYXRlcy4nKTtyZXR1cm57fX1mdW5jdGlvbiB1KCl7cmV0dXJuLTEhPT1bJ2ludGVyYWN0aXZlJywnY29tcGxldGUnXS5pbmRleE9mKGRvY3VtZW50LnJlYWR5U3RhdGUpfWZ1bmN0aW9uIHAoZSl7Y29uc3QgdD0nZGlzdGlsbC1wcmVyZW5kZXJlZC1zdHlsZXMnLG49ZS5nZXRFbGVtZW50QnlJZCh0KTtpZighbil7Y29uc3Qgbj1lLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7bi5pZD10LG4udHlwZT0ndGV4dC9jc3MnO2NvbnN0IGk9ZS5jcmVhdGVUZXh0Tm9kZShiaSk7bi5hcHBlbmRDaGlsZChpKTtjb25zdCBhPWUuaGVhZC5xdWVyeVNlbGVjdG9yKCdzY3JpcHQnKTtlLmhlYWQuaW5zZXJ0QmVmb3JlKG4sYSl9fWZ1bmN0aW9uIGcoZSx0KXtjb25zb2xlLmluZm8oJ1J1bmxldmVsIDA6IFBvbHlmaWxsIHJlcXVpcmVkOiAnK2UubmFtZSk7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtuLnNyYz1lLnVybCxuLmFzeW5jPSExLHQmJihuLm9ubG9hZD1mdW5jdGlvbigpe3QoZSl9KSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXtuZXcgRXJyb3IoJ1J1bmxldmVsIDA6IFBvbHlmaWxscyBmYWlsZWQgdG8gbG9hZCBzY3JpcHQgJytlLm5hbWUpfSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG4pfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gdD17ZXhwb3J0czp7fX0sZSh0LHQuZXhwb3J0cyksdC5leHBvcnRzfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGUucmVwbGFjZSgvW1x0XG4gXSsvZywnICcpLnJlcGxhY2UoL3tcXFsiXmAuJ2FjdX5IdnNdKCApPyhbYS16QS1aXSl9L2csKGUsdCxuKT0+bikucmVwbGFjZSgve1xcKFthLXpBLVpdKX0vZywoZSx0KT0+dCl9ZnVuY3Rpb24gYihlKXtjb25zdCB0PW5ldyBNYXAsbj1faS50b0pTT04oZSk7Zm9yKGNvbnN0IGkgb2Ygbil7Zm9yKGNvbnN0W2UsdF1vZiBPYmplY3QuZW50cmllcyhpLmVudHJ5VGFncykpaS5lbnRyeVRhZ3NbZS50b0xvd2VyQ2FzZSgpXT1oKHQpO2kuZW50cnlUYWdzLnR5cGU9aS5lbnRyeVR5cGUsdC5zZXQoaS5jaXRhdGlvbktleSxpLmVudHJ5VGFncyl9cmV0dXJuIHR9ZnVuY3Rpb24gbShlKXtyZXR1cm5gQGFydGljbGV7JHtlLnNsdWd9LAogIGF1dGhvciA9IHske2UuYmlidGV4QXV0aG9yc319LAogIHRpdGxlID0geyR7ZS50aXRsZX19LAogIGpvdXJuYWwgPSB7JHtlLmpvdXJuYWwudGl0bGV9fSwKICB5ZWFyID0geyR7ZS5wdWJsaXNoZWRZZWFyfX0sCiAgbm90ZSA9IHske2UudXJsfX0sCiAgZG9pID0geyR7ZS5kb2l9fQp9YH1mdW5jdGlvbiB5KGUpe3JldHVybmAKICA8ZGl2IGNsYXNzPSJieWxpbmUgZ3JpZCI+CiAgICA8ZGl2IGNsYXNzPSJhdXRob3JzLWFmZmlsaWF0aW9ucyBncmlkIj4KICAgICAgPGgzPkF1dGhvcnM8L2gzPgogICAgICA8aDM+QWZmaWxpYXRpb25zPC9oMz4KICAgICAgJHtlLmF1dGhvcnMubWFwKChlKT0+YAogICAgICAgIDxwIGNsYXNzPSJhdXRob3IiPgogICAgICAgICAgJHtlLnBlcnNvbmFsVVJMP2AKICAgICAgICAgICAgPGEgY2xhc3M9Im5hbWUiIGhyZWY9IiR7ZS5wZXJzb25hbFVSTH0iPiR7ZS5uYW1lfTwvYT5gOmAKICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im5hbWUiPiR7ZS5uYW1lfTwvc3Bhbj5gfQogICAgICAgIDwvcD4KICAgICAgICA8cCBjbGFzcz0iYWZmaWxpYXRpb24iPgogICAgICAgICR7ZS5hZmZpbGlhdGlvbnMubWFwKChlKT0+ZS51cmw/YDxhIGNsYXNzPSJhZmZpbGlhdGlvbiIgaHJlZj0iJHtlLnVybH0iPiR7ZS5uYW1lfTwvYT5gOmA8c3BhbiBjbGFzcz0iYWZmaWxpYXRpb24iPiR7ZS5uYW1lfTwvc3Bhbj5gKS5qb2luKCcsICcpfQogICAgICAgIDwvcD4KICAgICAgYCkuam9pbignJyl9CiAgICA8L2Rpdj4KICAgIDxkaXY+CiAgICAgIDxoMz5QdWJsaXNoZWQ8L2gzPgogICAgICAke2UucHVibGlzaGVkRGF0ZT9gCiAgICAgICAgPHA+JHtlLnB1Ymxpc2hlZE1vbnRofSAke2UucHVibGlzaGVkRGF5fSwgJHtlLnB1Ymxpc2hlZFllYXJ9PC9wPiBgOmAKICAgICAgICA8cD48ZW0+Tm90IHB1Ymxpc2hlZCB5ZXQuPC9lbT48L3A+YH0KICAgIDwvZGl2PgogICAgPGRpdj4KICAgICAgPGgzPkRPSTwvaDM+CiAgICAgICR7ZS5kb2k/YAogICAgICAgIDxwPjxhIGhyZWY9Imh0dHBzOi8vZG9pLm9yZy8ke2UuZG9pfSI+JHtlLmRvaX08L2E+PC9wPmA6YAogICAgICAgIDxwPjxlbT5ObyBET0kgeWV0LjwvZW0+PC9wPmB9CiAgICA8L2Rpdj4KICA8L2Rpdj4KYH1mdW5jdGlvbiB4KGUsdCxuPWRvY3VtZW50KXtpZigwPHQuc2l6ZSl7ZS5zdHlsZS5kaXNwbGF5PScnO2xldCBpPWUucXVlcnlTZWxlY3RvcignLnJlZmVyZW5jZXMnKTtpZihpKWkuaW5uZXJIVE1MPScnO2Vsc2V7Y29uc3QgdD1uLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7dC5pbm5lckhUTUw9TWksZS5hcHBlbmRDaGlsZCh0KTtjb25zdCBhPW4uY3JlYXRlRWxlbWVudCgnaDMnKTthLmlkPSdyZWZlcmVuY2VzJyxhLnRleHRDb250ZW50PSdSZWZlcmVuY2VzJyxlLmFwcGVuZENoaWxkKGEpLGk9bi5jcmVhdGVFbGVtZW50KCdvbCcpLGkuaWQ9J3JlZmVyZW5jZXMtbGlzdCcsaS5jbGFzc05hbWU9J3JlZmVyZW5jZXMnLGUuYXBwZW5kQ2hpbGQoaSl9Zm9yKGNvbnN0W2UsYV1vZiB0KXtjb25zdCB0PW4uY3JlYXRlRWxlbWVudCgnbGknKTt0LmlkPWUsdC5pbm5lckhUTUw9byhhKSxpLmFwcGVuZENoaWxkKHQpfX1lbHNlIGUuc3R5bGUuZGlzcGxheT0nbm9uZSd9ZnVuY3Rpb24gayhlLHQpe2xldCBuPWAKICA8c3R5bGU+CgogIGQtdG9jIHsKICAgIGNvbnRhaW46IGxheW91dCBzdHlsZTsKICAgIGRpc3BsYXk6IGJsb2NrOwogIH0KCiAgZC10b2MgdWwgewogICAgcGFkZGluZy1sZWZ0OiAwOwogIH0KCiAgZC10b2MgdWwgPiB1bCB7CiAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7CiAgfQoKICBkLXRvYyBhIHsKICAgIGJvcmRlci1ib3R0b206IG5vbmU7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgfQoKICA8L3N0eWxlPgogIDxuYXYgcm9sZT0ibmF2aWdhdGlvbiIgY2xhc3M9InRhYmxlLW9mLWNvbnRlbnRzIj48L25hdj4KICA8aDI+VGFibGUgb2YgY29udGVudHM8L2gyPgogIDx1bD5gO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IGU9J0QtVElUTEUnPT1pLnBhcmVudEVsZW1lbnQudGFnTmFtZSx0PWkuZ2V0QXR0cmlidXRlKCduby10b2MnKTtpZihlfHx0KWNvbnRpbnVlO2NvbnN0IGE9aS50ZXh0Q29udGVudCxkPScjJytpLmdldEF0dHJpYnV0ZSgnaWQnKTtsZXQgcj0nPGxpPjxhIGhyZWY9IicrZCsnIj4nK2ErJzwvYT48L2xpPic7J0gzJz09aS50YWdOYW1lP3I9Jzx1bD4nK3IrJzwvdWw+JzpyKz0nPGJyPicsbis9cn1uKz0nPC91bD48L25hdj4nLGUuaW5uZXJIVE1MPW59ZnVuY3Rpb24gdihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gWGkoZSh0KSxuKX19ZnVuY3Rpb24gdyhlLHQsbil7dmFyIGk9KHQtZSkvUm4oMCxuKSxhPUZuKGpuKGkpL05uKSxkPWkvSW4oMTAsYSk7cmV0dXJuIDA8PWE/KGQ+PUdpPzEwOmQ+PWVhPzU6ZD49dGE/MjoxKSpJbigxMCxhKTotSW4oMTAsLWEpLyhkPj1HaT8xMDpkPj1lYT81OmQ+PXRhPzI6MSl9ZnVuY3Rpb24gUyhlLHQsbil7dmFyIGk9VW4odC1lKS9SbigwLG4pLGE9SW4oMTAsRm4oam4oaSkvTm4pKSxkPWkvYTtyZXR1cm4gZD49R2k/YSo9MTA6ZD49ZWE/YSo9NTpkPj10YSYmKGEqPTIpLHQ8ZT8tYTphfWZ1bmN0aW9uIF8oZSx0KXt2YXIgbj1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKTtmb3IodmFyIGkgaW4gdCluW2ldPXRbaV07cmV0dXJuIG59ZnVuY3Rpb24gTCgpe31mdW5jdGlvbiBNKGUpe3ZhciB0O3JldHVybiBlPShlKycnKS50cmltKCkudG9Mb3dlckNhc2UoKSwodD1zYS5leGVjKGUpKT8odD1wYXJzZUludCh0WzFdLDE2KSxuZXcgaigxNSZ0Pj44fDI0MCZ0Pj40LDE1JnQ+PjR8MjQwJnQsKDE1JnQpPDw0fDE1JnQsMSkpOih0PWNhLmV4ZWMoZSkpP08ocGFyc2VJbnQodFsxXSwxNikpOih0PXVhLmV4ZWMoZSkpP25ldyBqKHRbMV0sdFsyXSx0WzNdLDEpOih0PXBhLmV4ZWMoZSkpP25ldyBqKDI1NSp0WzFdLzEwMCwyNTUqdFsyXS8xMDAsMjU1KnRbM10vMTAwLDEpOih0PWdhLmV4ZWMoZSkpP1UodFsxXSx0WzJdLHRbM10sdFs0XSk6KHQ9ZmEuZXhlYyhlKSk/VSgyNTUqdFsxXS8xMDAsMjU1KnRbMl0vMTAwLDI1NSp0WzNdLzEwMCx0WzRdKToodD1oYS5leGVjKGUpKT9SKHRbMV0sdFsyXS8xMDAsdFszXS8xMDAsMSk6KHQ9YmEuZXhlYyhlKSk/Uih0WzFdLHRbMl0vMTAwLHRbM10vMTAwLHRbNF0pOm1hLmhhc093blByb3BlcnR5KGUpP08obWFbZV0pOid0cmFuc3BhcmVudCc9PT1lP25ldyBqKE5hTixOYU4sTmFOLDApOm51bGx9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gbmV3IGooMjU1JmU+PjE2LDI1NSZlPj44LDI1NSZlLDEpfWZ1bmN0aW9uIFUoZSx0LG4saSl7cmV0dXJuIDA+PWkmJihlPXQ9bj1OYU4pLG5ldyBqKGUsdCxuLGkpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuKGUgaW5zdGFuY2VvZiBMfHwoZT1NKGUpKSwhZSk/bmV3IGo6KGU9ZS5yZ2IoKSxuZXcgaihlLnIsZS5nLGUuYixlLm9wYWNpdHkpKX1mdW5jdGlvbiBOKGUsdCxuLGkpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9JKGUpOm5ldyBqKGUsdCxuLG51bGw9PWk/MTppKX1mdW5jdGlvbiBqKGUsdCxuLGkpe3RoaXMucj0rZSx0aGlzLmc9K3QsdGhpcy5iPStuLHRoaXMub3BhY2l0eT0raX1mdW5jdGlvbiBSKGUsdCxuLGkpe3JldHVybiAwPj1pP2U9dD1uPU5hTjowPj1ufHwxPD1uP2U9dD1OYU46MD49dCYmKGU9TmFOKSxuZXcgRihlLHQsbixpKX1mdW5jdGlvbiBxKGUpe2lmKGUgaW5zdGFuY2VvZiBGKXJldHVybiBuZXcgRihlLmgsZS5zLGUubCxlLm9wYWNpdHkpO2lmKGUgaW5zdGFuY2VvZiBMfHwoZT1NKGUpKSwhZSlyZXR1cm4gbmV3IEY7aWYoZSBpbnN0YW5jZW9mIEYpcmV0dXJuIGU7ZT1lLnJnYigpO3ZhciB0PWUuci8yNTUsbj1lLmcvMjU1LGk9ZS5iLzI1NSxhPUhuKHQsbixpKSxkPVJuKHQsbixpKSxyPU5hTixjPWQtYSxzPShkK2EpLzI7cmV0dXJuIGM/KHI9dD09PWQ/KG4taSkvYys2KihuPGkpOm49PT1kPyhpLXQpL2MrMjoodC1uKS9jKzQsYy89MC41PnM/ZCthOjItZC1hLHIqPTYwKTpjPTA8cyYmMT5zPzA6cixuZXcgRihyLGMscyxlLm9wYWNpdHkpfWZ1bmN0aW9uIEYoZSx0LG4saSl7dGhpcy5oPStlLHRoaXMucz0rdCx0aGlzLmw9K24sdGhpcy5vcGFjaXR5PStpfWZ1bmN0aW9uIFAoZSx0LG4pe3JldHVybiAyNTUqKDYwPmU/dCsobi10KSplLzYwOjE4MD5lP246MjQwPmU/dCsobi10KSooMjQwLWUpLzYwOnQpfWZ1bmN0aW9uIEgoZSl7aWYoZSBpbnN0YW5jZW9mIFkpcmV0dXJuIG5ldyBZKGUubCxlLmEsZS5iLGUub3BhY2l0eSk7aWYoZSBpbnN0YW5jZW9mIFgpe3ZhciB0PWUuaCp5YTtyZXR1cm4gbmV3IFkoZS5sLE1uKHQpKmUuYyxEbih0KSplLmMsZS5vcGFjaXR5KX1lIGluc3RhbmNlb2Yganx8KGU9SShlKSk7dmFyIG49JChlLnIpLGk9JChlLmcpLGE9JChlLmIpLGQ9VygoMC40MTI0NTY0Km4rMC4zNTc1NzYxKmkrMC4xODA0Mzc1KmEpL0tuKSxyPVcoKDAuMjEyNjcyOSpuKzAuNzE1MTUyMippKzAuMDcyMTc1KmEpL1huKSxvPVcoKDAuMDE5MzMzOSpuKzAuMTE5MTkyKmkrMC45NTAzMDQxKmEpL1luKTtyZXR1cm4gbmV3IFkoMTE2KnItMTYsNTAwKihkLXIpLDIwMCooci1vKSxlLm9wYWNpdHkpfWZ1bmN0aW9uIFkoZSx0LG4saSl7dGhpcy5sPStlLHRoaXMuYT0rdCx0aGlzLmI9K24sdGhpcy5vcGFjaXR5PStpfWZ1bmN0aW9uIFcoZSl7cmV0dXJuIGU+U2E/SW4oZSwxLzMpOmUvd2ErWm59ZnVuY3Rpb24gVihlKXtyZXR1cm4gZT52YT9lKmUqZTp3YSooZS1abil9ZnVuY3Rpb24gSyhlKXtyZXR1cm4gMjU1KigwLjAwMzEzMDg+PWU/MTIuOTIqZToxLjA1NSpJbihlLDEvMi40KS0wLjA1NSl9ZnVuY3Rpb24gJChlKXtyZXR1cm4gMC4wNDA0NT49KGUvPTI1NSk/ZS8xMi45MjpJbigoZSswLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiB6KGUpe2lmKGUgaW5zdGFuY2VvZiBYKXJldHVybiBuZXcgWChlLmgsZS5jLGUubCxlLm9wYWNpdHkpO2UgaW5zdGFuY2VvZiBZfHwoZT1IKGUpKTt2YXIgdD1FbihlLmIsZS5hKSp4YTtyZXR1cm4gbmV3IFgoMD50P3QrMzYwOnQsQW4oZS5hKmUuYStlLmIqZS5iKSxlLmwsZS5vcGFjaXR5KX1mdW5jdGlvbiBYKGUsdCxuLGkpe3RoaXMuaD0rZSx0aGlzLmM9K3QsdGhpcy5sPStuLHRoaXMub3BhY2l0eT0raX1mdW5jdGlvbiBKKGUpe2lmKGUgaW5zdGFuY2VvZiBaKXJldHVybiBuZXcgWihlLmgsZS5zLGUubCxlLm9wYWNpdHkpO2UgaW5zdGFuY2VvZiBqfHwoZT1JKGUpKTt2YXIgdD1lLnIvMjU1LG49ZS5nLzI1NSxpPWUuYi8yNTUsYT0oX2EqaStFKnQtVGEqbikvKF9hK0UtVGEpLGQ9aS1hLHI9KEQqKG4tYSktQipkKS9DLG89QW4ocipyK2QqZCkvKEQqYSooMS1hKSksbD1vP0VuKHIsZCkqeGEtMTIwOk5hTjtyZXR1cm4gbmV3IFooMD5sP2wrMzYwOmwsbyxhLGUub3BhY2l0eSl9ZnVuY3Rpb24gUShlLHQsbixpKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/SihlKTpuZXcgWihlLHQsbixudWxsPT1pPzE6aSl9ZnVuY3Rpb24gWihlLHQsbixpKXt0aGlzLmg9K2UsdGhpcy5zPSt0LHRoaXMubD0rbix0aGlzLm9wYWNpdHk9K2l9ZnVuY3Rpb24gRyhlLG4pe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZStpKm59fWZ1bmN0aW9uIGVlKGUsbixpKXtyZXR1cm4gZT1JbihlLGkpLG49SW4obixpKS1lLGk9MS9pLGZ1bmN0aW9uKGEpe3JldHVybiBJbihlK2EqbixpKX19ZnVuY3Rpb24gdGUoZSl7cmV0dXJuIDE9PShlPStlKT9uZTpmdW5jdGlvbih0LG4pe3JldHVybiBuLXQ/ZWUodCxuLGUpOkxhKGlzTmFOKHQpP246dCl9fWZ1bmN0aW9uIG5lKGUsdCl7dmFyIG49dC1lO3JldHVybiBuP0coZSxuKTpMYShpc05hTihlKT90OmUpfWZ1bmN0aW9uIGllKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX1mdW5jdGlvbiBhZShlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUobikrJyd9fWZ1bmN0aW9uIGRlKGUpe3JldHVybiBmdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGkoaSx0KXt2YXIgYT1lKChpPVEoaSkpLmgsKHQ9USh0KSkuaCksZD1uZShpLnMsdC5zKSxyPW5lKGkubCx0LmwpLG89bmUoaS5vcGFjaXR5LHQub3BhY2l0eSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBpLmg9YShlKSxpLnM9ZChlKSxpLmw9cihJbihlLG4pKSxpLm9wYWNpdHk9byhlKSxpKycnfX1yZXR1cm4gbj0rbixpLmdhbW1hPXQsaX0oMSl9ZnVuY3Rpb24gb2UoZSx0KXtyZXR1cm4odC09ZT0rZSk/ZnVuY3Rpb24obil7cmV0dXJuKG4tZSkvdH06UGEodCl9ZnVuY3Rpb24gbGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIGk9ZSh0PSt0LG49K24pO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZTw9dD8wOmU+PW4/MTppKGUpfX19ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dmFyIGQ9ZShuPStuLGk9K2kpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMD49ZT9uOjE8PWU/aTpkKGUpfX19ZnVuY3Rpb24gY2UoZSx0LG4saSl7dmFyIGE9ZVswXSxkPWVbMV0scj10WzBdLG89dFsxXTtyZXR1cm4gZDxhPyhhPW4oZCxhKSxyPWkobyxyKSk6KGE9bihhLGQpLHI9aShyLG8pKSxmdW5jdGlvbihlKXtyZXR1cm4gcihhKGUpKX19ZnVuY3Rpb24gdWUoZSx0LG4sYSl7dmFyIG89SG4oZS5sZW5ndGgsdC5sZW5ndGgpLTEsbD1BcnJheShvKSxkPUFycmF5KG8pLHI9LTE7Zm9yKGVbb108ZVswXSYmKGU9ZS5zbGljZSgpLnJldmVyc2UoKSx0PXQuc2xpY2UoKS5yZXZlcnNlKCkpOysrcjxvOylsW3JdPW4oZVtyXSxlW3IrMV0pLGRbcl09YSh0W3JdLHRbcisxXSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPVFpKGUsdCwxLG8pLTE7cmV0dXJuIGRbbl0obFtuXSh0KSl9fWZ1bmN0aW9uIHBlKGUsdCl7cmV0dXJuIHQuZG9tYWluKGUuZG9tYWluKCkpLnJhbmdlKGUucmFuZ2UoKSkuaW50ZXJwb2xhdGUoZS5pbnRlcnBvbGF0ZSgpKS5jbGFtcChlLmNsYW1wKCkpfWZ1bmN0aW9uIGdlKGUsdCl7ZnVuY3Rpb24gbigpe3JldHVybiBhPTI8SG4oby5sZW5ndGgsbC5sZW5ndGgpP3VlOmNlLGQ9cj1udWxsLGl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4oZHx8KGQ9YShvLGwsYz9sZShlKTplLHMpKSkoK3QpfXZhciBhLGQscixvPXphLGw9emEscz1qYSxjPSExO3JldHVybiBpLmludmVydD1mdW5jdGlvbihlKXtyZXR1cm4ocnx8KHI9YShsLG8sb2UsYz9zZSh0KTp0KSkpKCtlKX0saS5kb21haW49ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89YWEuY2FsbChlLEhhKSxuKCkpOm8uc2xpY2UoKX0saS5yYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1kYS5jYWxsKGUpLG4oKSk6bC5zbGljZSgpfSxpLnJhbmdlUm91bmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGw9ZGEuY2FsbChlKSxzPVJhLG4oKX0saS5jbGFtcD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz0hIWUsbigpKTpjfSxpLmludGVycG9sYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzPWUsbigpKTpzfSxuKCl9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIG5ldyBoZShlKX1mdW5jdGlvbiBoZShlKXtpZighKHQ9WGEuZXhlYyhlKSkpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZvcm1hdDogJytlKTt2YXIgdCxuPXRbMV18fCcgJyxpPXRbMl18fCc+JyxhPXRbM118fCctJyxkPXRbNF18fCcnLHI9ISF0WzVdLG89dFs2XSYmK3RbNl0sbD0hIXRbN10scz10WzhdJiYrdFs4XS5zbGljZSgxKSxjPXRbOV18fCcnOyduJz09PWM/KGw9ITAsYz0nZycpOiEkYVtjXSYmKGM9JycpLChyfHwnMCc9PT1uJiYnPSc9PT1pKSYmKHI9ITAsbj0nMCcsaT0nPScpLHRoaXMuZmlsbD1uLHRoaXMuYWxpZ249aSx0aGlzLnNpZ249YSx0aGlzLnN5bWJvbD1kLHRoaXMuemVybz1yLHRoaXMud2lkdGg9byx0aGlzLmNvbW1hPWwsdGhpcy5wcmVjaXNpb249cyx0aGlzLnR5cGU9Y31mdW5jdGlvbiBiZShlKXt2YXIgdD1lLmRvbWFpbjtyZXR1cm4gZS50aWNrcz1mdW5jdGlvbihlKXt2YXIgbj10KCk7cmV0dXJuIG5hKG5bMF0sbltuLmxlbmd0aC0xXSxudWxsPT1lPzEwOmUpfSxlLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYWQodCgpLGUsbil9LGUubmljZT1mdW5jdGlvbihuKXtudWxsPT1uJiYobj0xMCk7dmFyIGksYT10KCksZD0wLHI9YS5sZW5ndGgtMSxvPWFbZF0sbD1hW3JdO3JldHVybiBsPG8mJihpPW8sbz1sLGw9aSxpPWQsZD1yLHI9aSksaT13KG8sbCxuKSwwPGk/KG89Rm4oby9pKSppLGw9cW4obC9pKSppLGk9dyhvLGwsbikpOjA+aSYmKG89cW4obyppKS9pLGw9Rm4obCppKS9pLGk9dyhvLGwsbikpLDA8aT8oYVtkXT1GbihvL2kpKmksYVtyXT1xbihsL2kpKmksdChhKSk6MD5pJiYoYVtkXT1xbihvKmkpL2ksYVtyXT1GbihsKmkpL2ksdChhKSksZX0sZX1mdW5jdGlvbiBtZSgpe3ZhciBlPWdlKG9lLE1hKTtyZXR1cm4gZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHBlKGUsbWUoKSl9LGJlKGUpfWZ1bmN0aW9uIHllKGUsdCxuLGkpe2Z1bmN0aW9uIGEodCl7cmV0dXJuIGUodD1uZXcgRGF0ZSgrdCkpLHR9cmV0dXJuIGEuZmxvb3I9YSxhLmNlaWw9ZnVuY3Rpb24obil7cmV0dXJuIGUobj1uZXcgRGF0ZShuLTEpKSx0KG4sMSksZShuKSxufSxhLnJvdW5kPWZ1bmN0aW9uKGUpe3ZhciB0PWEoZSksbj1hLmNlaWwoZSk7cmV0dXJuIGUtdDxuLWU/dDpufSxhLm9mZnNldD1mdW5jdGlvbihlLG4pe3JldHVybiB0KGU9bmV3IERhdGUoK2UpLG51bGw9PW4/MTpGbihuKSksZX0sYS5yYW5nZT1mdW5jdGlvbihuLGksZCl7dmFyIHI9W107aWYobj1hLmNlaWwobiksZD1udWxsPT1kPzE6Rm4oZCksIShuPGkpfHwhKDA8ZCkpcmV0dXJuIHI7ZG8gci5wdXNoKG5ldyBEYXRlKCtuKSk7d2hpbGUoKHQobixkKSxlKG4pLG48aSkpO3JldHVybiByfSxhLmZpbHRlcj1mdW5jdGlvbihuKXtyZXR1cm4geWUoZnVuY3Rpb24odCl7aWYodD49dClmb3IoO2UodCksIW4odCk7KXQuc2V0VGltZSh0LTEpfSxmdW5jdGlvbihlLGkpe2lmKGU+PWUpaWYoMD5pKWZvcig7MD49KytpOylmb3IoO3QoZSwtMSksIW4oZSk7KTtlbHNlIGZvcig7MDw9LS1pOylmb3IoO3QoZSwxKSwhbihlKTspO30pfSxuJiYoYS5jb3VudD1mdW5jdGlvbih0LGkpe3JldHVybiBkZC5zZXRUaW1lKCt0KSxyZC5zZXRUaW1lKCtpKSxlKGRkKSxlKHJkKSxGbihuKGRkLHJkKSl9LGEuZXZlcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9Rm4oZSksaXNGaW5pdGUoZSkmJjA8ZT8xPGU/YS5maWx0ZXIoaT9mdW5jdGlvbih0KXtyZXR1cm4gMD09aSh0KSVlfTpmdW5jdGlvbih0KXtyZXR1cm4gMD09YS5jb3VudCgwLHQpJWV9KTphOm51bGx9KSxhfWZ1bmN0aW9uIHhlKGUpe3JldHVybiB5ZShmdW5jdGlvbih0KXt0LnNldERhdGUodC5nZXREYXRlKCktKHQuZ2V0RGF5KCkrNy1lKSU3KSx0LnNldEhvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihlLHQpe2Uuc2V0RGF0ZShlLmdldERhdGUoKSs3KnQpfSxmdW5jdGlvbihlLHQpe3JldHVybih0LWUtKHQuZ2V0VGltZXpvbmVPZmZzZXQoKS1lLmdldFRpbWV6b25lT2Zmc2V0KCkpKnNkKS9wZH0pfWZ1bmN0aW9uIGtlKGUpe3JldHVybiB5ZShmdW5jdGlvbih0KXt0LnNldFVUQ0RhdGUodC5nZXRVVENEYXRlKCktKHQuZ2V0VVRDRGF5KCkrNy1lKSU3KSx0LnNldFVUQ0hvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihlLHQpe2Uuc2V0VVRDRGF0ZShlLmdldFVUQ0RhdGUoKSs3KnQpfSxmdW5jdGlvbihlLHQpe3JldHVybih0LWUpL3BkfSl9ZnVuY3Rpb24gdmUoZSl7aWYoMDw9ZS55JiYxMDA+ZS55KXt2YXIgdD1uZXcgRGF0ZSgtMSxlLm0sZS5kLGUuSCxlLk0sZS5TLGUuTCk7cmV0dXJuIHQuc2V0RnVsbFllYXIoZS55KSx0fXJldHVybiBuZXcgRGF0ZShlLnksZS5tLGUuZCxlLkgsZS5NLGUuUyxlLkwpfWZ1bmN0aW9uIHdlKGUpe2lmKDA8PWUueSYmMTAwPmUueSl7dmFyIHQ9bmV3IERhdGUoRGF0ZS5VVEMoLTEsZS5tLGUuZCxlLkgsZS5NLGUuUyxlLkwpKTtyZXR1cm4gdC5zZXRVVENGdWxsWWVhcihlLnkpLHR9cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGUueSxlLm0sZS5kLGUuSCxlLk0sZS5TLGUuTCkpfWZ1bmN0aW9uIFNlKGUpe3JldHVybnt5OmUsbTowLGQ6MSxIOjAsTTowLFM6MCxMOjB9fWZ1bmN0aW9uIENlKGUpe2Z1bmN0aW9uIHQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGQscixvLGw9W10scz0tMSxpPTAsYz1lLmxlbmd0aDtmb3IoYSBpbnN0YW5jZW9mIERhdGV8fChhPW5ldyBEYXRlKCthKSk7KytzPGM7KTM3PT09ZS5jaGFyQ29kZUF0KHMpJiYobC5wdXNoKGUuc2xpY2UoaSxzKSksbnVsbD09KHI9SGRbZD1lLmNoYXJBdCgrK3MpXSk/cj0nZSc9PT1kPycgJzonMCc6ZD1lLmNoYXJBdCgrK3MpLChvPXRbZF0pJiYoZD1vKGEscikpLGwucHVzaChkKSxpPXMrMSk7cmV0dXJuIGwucHVzaChlLnNsaWNlKGkscykpLGwuam9pbignJyl9fWZ1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9U2UoMTkwMCksZD1hKHIsZSxuKz0nJywwKTtpZihkIT1uLmxlbmd0aClyZXR1cm4gbnVsbDtpZigncCdpbiByJiYoci5IPXIuSCUxMisxMipyLnApLCdXJ2luIHJ8fCdVJ2luIHIpeyd3J2luIHJ8fChyLnc9J1cnaW4gcj8xOjApO3ZhciBpPSdaJ2luIHI/d2UoU2Uoci55KSkuZ2V0VVRDRGF5KCk6dChTZShyLnkpKS5nZXREYXkoKTtyLm09MCxyLmQ9J1cnaW4gcj8oci53KzYpJTcrNypyLlctKGkrNSklNzpyLncrNypyLlUtKGkrNiklN31yZXR1cm4nWidpbiByPyhyLkgrPTB8ci5aLzEwMCxyLk0rPXIuWiUxMDAsd2UocikpOnQocil9fWZ1bmN0aW9uIGEoZSx0LGEsZCl7Zm9yKHZhciByLG8sbD0wLGk9dC5sZW5ndGgsbj1hLmxlbmd0aDtsPGk7KXtpZihkPj1uKXJldHVybi0xO2lmKHI9dC5jaGFyQ29kZUF0KGwrKyksMzc9PT1yKXtpZihyPXQuY2hhckF0KGwrKyksbz1DW3IgaW4gSGQ/dC5jaGFyQXQobCsrKTpyXSwhb3x8MD4oZD1vKGUsYSxkKSkpcmV0dXJuLTE7fWVsc2UgaWYociE9YS5jaGFyQ29kZUF0KGQrKykpcmV0dXJuLTF9cmV0dXJuIGR9dmFyIHI9ZS5kYXRlVGltZSxvPWUuZGF0ZSxsPWUudGltZSxpPWUucGVyaW9kcyxzPWUuZGF5cyxjPWUuc2hvcnREYXlzLHU9ZS5tb250aHMscD1lLnNob3J0TW9udGhzLGc9TGUoaSksZj1BZShpKSxoPUxlKHMpLGI9QWUocyksbT1MZShjKSx5PUFlKGMpLHg9TGUodSksaz1BZSh1KSx2PUxlKHApLHc9QWUocCksZD17YTpmdW5jdGlvbihlKXtyZXR1cm4gY1tlLmdldERheSgpXX0sQTpmdW5jdGlvbihlKXtyZXR1cm4gc1tlLmdldERheSgpXX0sYjpmdW5jdGlvbihlKXtyZXR1cm4gcFtlLmdldE1vbnRoKCldfSxCOmZ1bmN0aW9uKGUpe3JldHVybiB1W2UuZ2V0TW9udGgoKV19LGM6bnVsbCxkOlllLGU6WWUsSDpCZSxJOldlLGo6VmUsTDpLZSxtOiRlLE06WGUscDpmdW5jdGlvbihlKXtyZXR1cm4gaVsrKDEyPD1lLmdldEhvdXJzKCkpXX0sUzpKZSxVOlFlLHc6WmUsVzpHZSx4Om51bGwsWDpudWxsLHk6ZXQsWTp0dCxaOm50LCIlIjptdH0sUz17YTpmdW5jdGlvbihlKXtyZXR1cm4gY1tlLmdldFVUQ0RheSgpXX0sQTpmdW5jdGlvbihlKXtyZXR1cm4gc1tlLmdldFVUQ0RheSgpXX0sYjpmdW5jdGlvbihlKXtyZXR1cm4gcFtlLmdldFVUQ01vbnRoKCldfSxCOmZ1bmN0aW9uKGUpe3JldHVybiB1W2UuZ2V0VVRDTW9udGgoKV19LGM6bnVsbCxkOml0LGU6aXQsSDphdCxJOmR0LGo6cnQsTDpvdCxtOmx0LE06c3QscDpmdW5jdGlvbihlKXtyZXR1cm4gaVsrKDEyPD1lLmdldFVUQ0hvdXJzKCkpXX0sUzpjdCxVOnV0LHc6cHQsVzpndCx4Om51bGwsWDpudWxsLHk6ZnQsWTpodCxaOmJ0LCIlIjptdH0sQz17YTpmdW5jdGlvbihlLHQsYSl7dmFyIGk9bS5leGVjKHQuc2xpY2UoYSkpO3JldHVybiBpPyhlLnc9eVtpWzBdLnRvTG93ZXJDYXNlKCldLGEraVswXS5sZW5ndGgpOi0xfSxBOmZ1bmN0aW9uKGUsdCxhKXt2YXIgaT1oLmV4ZWModC5zbGljZShhKSk7cmV0dXJuIGk/KGUudz1iW2lbMF0udG9Mb3dlckNhc2UoKV0sYStpWzBdLmxlbmd0aCk6LTF9LGI6ZnVuY3Rpb24oZSx0LGEpe3ZhciBpPXYuZXhlYyh0LnNsaWNlKGEpKTtyZXR1cm4gaT8oZS5tPXdbaVswXS50b0xvd2VyQ2FzZSgpXSxhK2lbMF0ubGVuZ3RoKTotMX0sQjpmdW5jdGlvbihlLHQsYSl7dmFyIGk9eC5leGVjKHQuc2xpY2UoYSkpO3JldHVybiBpPyhlLm09a1tpWzBdLnRvTG93ZXJDYXNlKCldLGEraVswXS5sZW5ndGgpOi0xfSxjOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYShlLHIsdCxuKX0sZDpqZSxlOmplLEg6cWUsSTpxZSxqOlJlLEw6SGUsbTpOZSxNOkZlLHA6ZnVuY3Rpb24oZSx0LGEpe3ZhciBpPWcuZXhlYyh0LnNsaWNlKGEpKTtyZXR1cm4gaT8oZS5wPWZbaVswXS50b0xvd2VyQ2FzZSgpXSxhK2lbMF0ubGVuZ3RoKTotMX0sUzpQZSxVOkRlLHc6RWUsVzpNZSx4OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYShlLG8sdCxuKX0sWDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEoZSxsLHQsbil9LHk6VWUsWTpPZSxaOkllLCIlIjp6ZX07cmV0dXJuIGQueD10KG8sZCksZC5YPXQobCxkKSxkLmM9dChyLGQpLFMueD10KG8sUyksUy5YPXQobCxTKSxTLmM9dChyLFMpLHtmb3JtYXQ6ZnVuY3Rpb24oZSl7dmFyIG49dChlKz0nJyxkKTtyZXR1cm4gbi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBlfSxufSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdD1uKGUrPScnLHZlKTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBlfSx0fSx1dGNGb3JtYXQ6ZnVuY3Rpb24oZSl7dmFyIG49dChlKz0nJyxTKTtyZXR1cm4gbi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBlfSxufSx1dGNQYXJzZTpmdW5jdGlvbihlKXt2YXIgdD1uKGUsd2UpO3JldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHR9fX1mdW5jdGlvbiBUZShlLHQsbil7dmFyIGk9MD5lPyctJzonJyxhPShpPy1lOmUpKycnLGQ9YS5sZW5ndGg7cmV0dXJuIGkrKGQ8bj9BcnJheShuLWQrMSkuam9pbih0KSthOmEpfWZ1bmN0aW9uIF9lKGUpe3JldHVybiBlLnJlcGxhY2UoQmQsJ1xcJCYnKX1mdW5jdGlvbiBMZShlKXtyZXR1cm4gbmV3IFJlZ0V4cCgnXig/OicrZS5tYXAoX2UpLmpvaW4oJ3wnKSsnKScsJ2knKX1mdW5jdGlvbiBBZShlKXtmb3IodmFyIHQ9e30sYT0tMSxpPWUubGVuZ3RoOysrYTxpOyl0W2VbYV0udG9Mb3dlckNhc2UoKV09YTtyZXR1cm4gdH1mdW5jdGlvbiBFZShlLHQsYSl7dmFyIGk9emQuZXhlYyh0LnNsaWNlKGEsYSsxKSk7cmV0dXJuIGk/KGUudz0raVswXSxhK2lbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBEZShlLHQsYSl7dmFyIGk9emQuZXhlYyh0LnNsaWNlKGEpKTtyZXR1cm4gaT8oZS5VPStpWzBdLGEraVswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIE1lKGUsdCxhKXt2YXIgaT16ZC5leGVjKHQuc2xpY2UoYSkpO3JldHVybiBpPyhlLlc9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gT2UoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErNCkpO3JldHVybiBpPyhlLnk9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gVWUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMikpO3JldHVybiBpPyhlLnk9K2lbMF0rKDY4PCtpWzBdPzE5MDA6MmUzKSxhK2lbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBJZShlLHQsYSl7dmFyIGk9L14oWil8KFsrLV1cZFxkKSg/Olw6PyhcZFxkKSk/Ly5leGVjKHQuc2xpY2UoYSxhKzYpKTtyZXR1cm4gaT8oZS5aPWlbMV0/MDotKGlbMl0rKGlbM118fCcwMCcpKSxhK2lbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBOZShlLHQsYSl7dmFyIGk9emQuZXhlYyh0LnNsaWNlKGEsYSsyKSk7cmV0dXJuIGk/KGUubT1pWzBdLTEsYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gamUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMikpO3JldHVybiBpPyhlLmQ9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gUmUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMykpO3JldHVybiBpPyhlLm09MCxlLmQ9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gcWUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMikpO3JldHVybiBpPyhlLkg9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gRmUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMikpO3JldHVybiBpPyhlLk09K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gUGUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMikpO3JldHVybiBpPyhlLlM9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gSGUoZSx0LGEpe3ZhciBpPXpkLmV4ZWModC5zbGljZShhLGErMykpO3JldHVybiBpPyhlLkw9K2lbMF0sYStpWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gemUoZSx0LGEpe3ZhciBpPVlkLmV4ZWModC5zbGljZShhLGErMSkpO3JldHVybiBpP2EraVswXS5sZW5ndGg6LTF9ZnVuY3Rpb24gWWUoZSx0KXtyZXR1cm4gVGUoZS5nZXREYXRlKCksdCwyKX1mdW5jdGlvbiBCZShlLHQpe3JldHVybiBUZShlLmdldEhvdXJzKCksdCwyKX1mdW5jdGlvbiBXZShlLHQpe3JldHVybiBUZShlLmdldEhvdXJzKCklMTJ8fDEyLHQsMil9ZnVuY3Rpb24gVmUoZSx0KXtyZXR1cm4gVGUoMStiZC5jb3VudChUZChlKSxlKSx0LDMpfWZ1bmN0aW9uIEtlKGUsdCl7cmV0dXJuIFRlKGUuZ2V0TWlsbGlzZWNvbmRzKCksdCwzKX1mdW5jdGlvbiAkZShlLHQpe3JldHVybiBUZShlLmdldE1vbnRoKCkrMSx0LDIpfWZ1bmN0aW9uIFhlKGUsdCl7cmV0dXJuIFRlKGUuZ2V0TWludXRlcygpLHQsMil9ZnVuY3Rpb24gSmUoZSx0KXtyZXR1cm4gVGUoZS5nZXRTZWNvbmRzKCksdCwyKX1mdW5jdGlvbiBRZShlLHQpe3JldHVybiBUZShtZC5jb3VudChUZChlKSxlKSx0LDIpfWZ1bmN0aW9uIFplKGUpe3JldHVybiBlLmdldERheSgpfWZ1bmN0aW9uIEdlKGUsdCl7cmV0dXJuIFRlKHlkLmNvdW50KFRkKGUpLGUpLHQsMil9ZnVuY3Rpb24gZXQoZSx0KXtyZXR1cm4gVGUoZS5nZXRGdWxsWWVhcigpJTEwMCx0LDIpfWZ1bmN0aW9uIHR0KGUsdCl7cmV0dXJuIFRlKGUuZ2V0RnVsbFllYXIoKSUxZTQsdCw0KX1mdW5jdGlvbiBudChlKXt2YXIgdD1lLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuKDA8dD8nLSc6KHQqPS0xLCcrJykpK1RlKDB8dC82MCwnMCcsMikrVGUodCU2MCwnMCcsMil9ZnVuY3Rpb24gaXQoZSx0KXtyZXR1cm4gVGUoZS5nZXRVVENEYXRlKCksdCwyKX1mdW5jdGlvbiBhdChlLHQpe3JldHVybiBUZShlLmdldFVUQ0hvdXJzKCksdCwyKX1mdW5jdGlvbiBkdChlLHQpe3JldHVybiBUZShlLmdldFVUQ0hvdXJzKCklMTJ8fDEyLHQsMil9ZnVuY3Rpb24gcnQoZSx0KXtyZXR1cm4gVGUoMStBZC5jb3VudChSZChlKSxlKSx0LDMpfWZ1bmN0aW9uIG90KGUsdCl7cmV0dXJuIFRlKGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksdCwzKX1mdW5jdGlvbiBsdChlLHQpe3JldHVybiBUZShlLmdldFVUQ01vbnRoKCkrMSx0LDIpfWZ1bmN0aW9uIHN0KGUsdCl7cmV0dXJuIFRlKGUuZ2V0VVRDTWludXRlcygpLHQsMil9ZnVuY3Rpb24gY3QoZSx0KXtyZXR1cm4gVGUoZS5nZXRVVENTZWNvbmRzKCksdCwyKX1mdW5jdGlvbiB1dChlLHQpe3JldHVybiBUZShFZC5jb3VudChSZChlKSxlKSx0LDIpfWZ1bmN0aW9uIHB0KGUpe3JldHVybiBlLmdldFVUQ0RheSgpfWZ1bmN0aW9uIGd0KGUsdCl7cmV0dXJuIFRlKERkLmNvdW50KFJkKGUpLGUpLHQsMil9ZnVuY3Rpb24gZnQoZSx0KXtyZXR1cm4gVGUoZS5nZXRVVENGdWxsWWVhcigpJTEwMCx0LDIpfWZ1bmN0aW9uIGh0KGUsdCl7cmV0dXJuIFRlKGUuZ2V0VVRDRnVsbFllYXIoKSUxZTQsdCw0KX1mdW5jdGlvbiBidCgpe3JldHVybicrMDAwMCd9ZnVuY3Rpb24gbXQoKXtyZXR1cm4nJSd9ZnVuY3Rpb24geXQoZSl7dmFyIGk9ZS5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlW1JuKDAsSG4oaS0xLEZuKG4qaSkpKV19fWZ1bmN0aW9uIHh0KCl7Zm9yKHZhciBlLHQ9MCxpPWFyZ3VtZW50cy5sZW5ndGgsbj17fTt0PGk7Kyt0KXtpZighKGU9YXJndW1lbnRzW3RdKycnKXx8ZSBpbiBuKXRocm93IG5ldyBFcnJvcignaWxsZWdhbCB0eXBlOiAnK2UpO25bZV09W119cmV0dXJuIG5ldyBrdChuKX1mdW5jdGlvbiBrdChlKXt0aGlzLl89ZX1mdW5jdGlvbiB2dChlLG4pe3JldHVybiBlLnRyaW0oKS5zcGxpdCgvXnxccysvKS5tYXAoZnVuY3Rpb24oZSl7dmFyIGE9JycsZD1lLmluZGV4T2YoJy4nKTtpZigwPD1kJiYoYT1lLnNsaWNlKGQrMSksZT1lLnNsaWNlKDAsZCkpLGUmJiFuLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcigndW5rbm93biB0eXBlOiAnK2UpO3JldHVybnt0eXBlOmUsbmFtZTphfX0pfWZ1bmN0aW9uIHd0KGUsdCl7Zm9yKHZhciBhLGQ9MCxpPWUubGVuZ3RoO2Q8aTsrK2QpaWYoKGE9ZVtkXSkubmFtZT09PXQpcmV0dXJuIGEudmFsdWV9ZnVuY3Rpb24gU3QoZSx0LGEpe2Zvcih2YXIgZD0wLGk9ZS5sZW5ndGg7ZDxpOysrZClpZihlW2RdLm5hbWU9PT10KXtlW2RdPXRyLGU9ZS5zbGljZSgwLGQpLmNvbmNhdChlLnNsaWNlKGQrMSkpO2JyZWFrfXJldHVybiBudWxsIT1hJiZlLnB1c2goe25hbWU6dCx2YWx1ZTphfSksZX1mdW5jdGlvbiBDdChlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLm93bmVyRG9jdW1lbnQsbj10aGlzLm5hbWVzcGFjZVVSSTtyZXR1cm4gbj09PW5yJiZ0LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkk9PT1ucj90LmNyZWF0ZUVsZW1lbnQoZSk6dC5jcmVhdGVFbGVtZW50TlMobixlKX19ZnVuY3Rpb24gVHQoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZS5zcGFjZSxlLmxvY2FsKX19ZnVuY3Rpb24gX3QoZSx0LG4pe3JldHVybiBlPUx0KGUsdCxuKSxmdW5jdGlvbih0KXt2YXIgbj10LnJlbGF0ZWRUYXJnZXQ7biYmKG49PT10aGlzfHw4Jm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcykpfHxlLmNhbGwodGhpcyx0KX19ZnVuY3Rpb24gTHQoZSx0LG4pe3JldHVybiBmdW5jdGlvbihpKXt2YXIgYT11cjt1cj1pO3RyeXtlLmNhbGwodGhpcyx0aGlzLl9fZGF0YV9fLHQsbil9ZmluYWxseXt1cj1hfX19ZnVuY3Rpb24gQXQoZSl7cmV0dXJuIGUudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbihlKXt2YXIgbj0nJyxhPWUuaW5kZXhPZignLicpO3JldHVybiAwPD1hJiYobj1lLnNsaWNlKGErMSksZT1lLnNsaWNlKDAsYSkpLHt0eXBlOmUsbmFtZTpufX0pfWZ1bmN0aW9uIEV0KGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19vbjtpZih0KXtmb3IodmFyIG4sYT0wLGQ9LTEsaT10Lmxlbmd0aDthPGk7KythKShuPXRbYV0sKCFlLnR5cGV8fG4udHlwZT09PWUudHlwZSkmJm4ubmFtZT09PWUubmFtZSk/dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG4udHlwZSxuLmxpc3RlbmVyLG4uY2FwdHVyZSk6dFsrK2RdPW47KytkP3QubGVuZ3RoPWQ6ZGVsZXRlIHRoaXMuX19vbn19fWZ1bmN0aW9uIER0KGUsdCxuKXt2YXIgYT1jci5oYXNPd25Qcm9wZXJ0eShlLnR5cGUpP190Okx0O3JldHVybiBmdW5jdGlvbihyLGQsaSl7dmFyIGwsbz10aGlzLl9fb24scz1hKHQsZCxpKTtpZihvKWZvcih2YXIgYz0wLHU9by5sZW5ndGg7Yzx1OysrYylpZigobD1vW2NdKS50eXBlPT09ZS50eXBlJiZsLm5hbWU9PT1lLm5hbWUpcmV0dXJuIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihsLnR5cGUsbC5saXN0ZW5lcixsLmNhcHR1cmUpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihsLnR5cGUsbC5saXN0ZW5lcj1zLGwuY2FwdHVyZT1uKSx2b2lkKGwudmFsdWU9dCk7dGhpcy5hZGRFdmVudExpc3RlbmVyKGUudHlwZSxzLG4pLGw9e3R5cGU6ZS50eXBlLG5hbWU6ZS5uYW1lLHZhbHVlOnQsbGlzdGVuZXI6cyxjYXB0dXJlOm59LG8/by5wdXNoKGwpOnRoaXMuX19vbj1bbF19fWZ1bmN0aW9uIE10KGUsdCxuLGkpe3ZhciBhPXVyO2Uuc291cmNlRXZlbnQ9dXIsdXI9ZTt0cnl7cmV0dXJuIHQuYXBwbHkobixpKX1maW5hbGx5e3VyPWF9fWZ1bmN0aW9uIE90KCl7fWZ1bmN0aW9uIFV0KCl7cmV0dXJuW119ZnVuY3Rpb24gSXQoZSx0KXt0aGlzLm93bmVyRG9jdW1lbnQ9ZS5vd25lckRvY3VtZW50LHRoaXMubmFtZXNwYWNlVVJJPWUubmFtZXNwYWNlVVJJLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9fZGF0YV9fPXR9ZnVuY3Rpb24gTnQoZSx0LG4sYSxkLHIpe2Zvcih2YXIgbyxsPTAsaT10Lmxlbmd0aCxzPXIubGVuZ3RoO2w8czsrK2wpKG89dFtsXSk/KG8uX19kYXRhX189cltsXSxhW2xdPW8pOm5bbF09bmV3IEl0KGUscltsXSk7Zm9yKDtsPGk7KytsKShvPXRbbF0pJiYoZFtsXT1vKX1mdW5jdGlvbiBqdChlLHQsbixhLGQscixvKXt2YXIgbCxpLHMsYz17fSx1PXQubGVuZ3RoLHA9ci5sZW5ndGgsZz1BcnJheSh1KTtmb3IobD0wO2w8dTsrK2wpKGk9dFtsXSkmJihnW2xdPXM9a3Irby5jYWxsKGksaS5fX2RhdGFfXyxsLHQpLHMgaW4gYz9kW2xdPWk6Y1tzXT1pKTtmb3IobD0wO2w8cDsrK2wpcz1rcitvLmNhbGwoZSxyW2xdLGwsciksKGk9Y1tzXSk/KGFbbF09aSxpLl9fZGF0YV9fPXJbbF0sY1tzXT1udWxsKTpuW2xdPW5ldyBJdChlLHJbbF0pO2ZvcihsPTA7bDx1OysrbCkoaT10W2xdKSYmY1tnW2xdXT09PWkmJihkW2xdPWkpfWZ1bmN0aW9uIFJ0KGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTplPj10PzA6TmFOfWZ1bmN0aW9uIHF0KGUpe3JldHVybiBmdW5jdGlvbigpe3RoaXMucmVtb3ZlQXR0cmlidXRlKGUpfX1mdW5jdGlvbiBGdChlKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGUuc3BhY2UsZS5sb2NhbCl9fWZ1bmN0aW9uIFB0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5zZXRBdHRyaWJ1dGUoZSx0KX19ZnVuY3Rpb24gSHQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnNldEF0dHJpYnV0ZU5TKGUuc3BhY2UsZS5sb2NhbCx0KX19ZnVuY3Rpb24genQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1uP3RoaXMucmVtb3ZlQXR0cmlidXRlKGUpOnRoaXMuc2V0QXR0cmlidXRlKGUsbil9fWZ1bmN0aW9uIFl0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09bj90aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGUuc3BhY2UsZS5sb2NhbCk6dGhpcy5zZXRBdHRyaWJ1dGVOUyhlLnNwYWNlLGUubG9jYWwsbil9fWZ1bmN0aW9uIEJ0KGUpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoZSl9fWZ1bmN0aW9uIFd0KGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KGUsdCxuKX19ZnVuY3Rpb24gVnQoZSx0LG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWk/dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShlKTp0aGlzLnN0eWxlLnNldFByb3BlcnR5KGUsaSxuKX19ZnVuY3Rpb24gS3QoZSx0KXtyZXR1cm4gZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpfHx2cihlKS5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSh0KX1mdW5jdGlvbiAkdChlKXtyZXR1cm4gZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tlXX19ZnVuY3Rpb24gWHQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzW2VdPXR9fWZ1bmN0aW9uIEp0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09bj9kZWxldGUgdGhpc1tlXTp0aGlzW2VdPW59fWZ1bmN0aW9uIFF0KGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdCgvXnxccysvKX1mdW5jdGlvbiBadChlKXtyZXR1cm4gZS5jbGFzc0xpc3R8fG5ldyBHdChlKX1mdW5jdGlvbiBHdChlKXt0aGlzLl9ub2RlPWUsdGhpcy5fbmFtZXM9UXQoZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyl8fCcnKX1mdW5jdGlvbiBlbihlLHQpe2Zvcih2YXIgYT1adChlKSxkPS0xLGk9dC5sZW5ndGg7KytkPGk7KWEuYWRkKHRbZF0pfWZ1bmN0aW9uIHRuKGUsdCl7Zm9yKHZhciBhPVp0KGUpLGQ9LTEsaT10Lmxlbmd0aDsrK2Q8aTspYS5yZW1vdmUodFtkXSl9ZnVuY3Rpb24gbm4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7ZW4odGhpcyxlKX19ZnVuY3Rpb24gYW4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dG4odGhpcyxlKX19ZnVuY3Rpb24gZG4oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXsodC5hcHBseSh0aGlzLGFyZ3VtZW50cyk/ZW46dG4pKHRoaXMsZSl9fWZ1bmN0aW9uIHJuKCl7dGhpcy50ZXh0Q29udGVudD0nJ31mdW5jdGlvbiBvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50PWV9fWZ1bmN0aW9uIGxuKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudGV4dENvbnRlbnQ9bnVsbD09dD8nJzp0fX1mdW5jdGlvbiBzbigpe3RoaXMuaW5uZXJIVE1MPScnfWZ1bmN0aW9uIGNuKGUpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuaW5uZXJIVE1MPWV9fWZ1bmN0aW9uIHVuKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaW5uZXJIVE1MPW51bGw9PXQ/Jyc6dH19ZnVuY3Rpb24gcG4oKXt0aGlzLm5leHRTaWJsaW5nJiZ0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcyl9ZnVuY3Rpb24gZ24oKXt0aGlzLnByZXZpb3VzU2libGluZyYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLHRoaXMucGFyZW50Tm9kZS5maXJzdENoaWxkKX1mdW5jdGlvbiBmbigpe3JldHVybiBudWxsfWZ1bmN0aW9uIGhuKCl7dmFyIGU9dGhpcy5wYXJlbnROb2RlO2UmJmUucmVtb3ZlQ2hpbGQodGhpcyl9ZnVuY3Rpb24gYm4oZSx0LG4pe3ZhciBpPXZyKGUpLGE9aS5DdXN0b21FdmVudDsnZnVuY3Rpb24nPT10eXBlb2YgYT9hPW5ldyBhKHQsbik6KGE9aS5kb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKSxuPyhhLmluaXRFdmVudCh0LG4uYnViYmxlcyxuLmNhbmNlbGFibGUpLGEuZGV0YWlsPW4uZGV0YWlsKTphLmluaXRFdmVudCh0LCExLCExKSksZS5kaXNwYXRjaEV2ZW50KGEpfWZ1bmN0aW9uIG1uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJuKHRoaXMsZSx0KX19ZnVuY3Rpb24geW4oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYm4odGhpcyxlLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX19ZnVuY3Rpb24geG4oZSx0KXt0aGlzLl9ncm91cHM9ZSx0aGlzLl9wYXJlbnRzPXR9ZnVuY3Rpb24ga24oKXt1ci5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiB2bihlLHQpe3ZhciBuPWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGk9U3IoZSkub24oJ2RyYWdzdGFydC5kcmFnJyxudWxsKTt0JiYoaS5vbignY2xpY2suZHJhZycsVHIsITApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLm9uKCdjbGljay5kcmFnJyxudWxsKX0sMCkpLCdvbnNlbGVjdHN0YXJ0J2luIG4/aS5vbignc2VsZWN0c3RhcnQuZHJhZycsbnVsbCk6KG4uc3R5bGUuTW96VXNlclNlbGVjdD1uLl9fbm9zZWxlY3QsZGVsZXRlIG4uX19ub3NlbGVjdCl9ZnVuY3Rpb24gd24oZSx0LG4saSxhLGQscixvLGwscyl7dGhpcy50YXJnZXQ9ZSx0aGlzLnR5cGU9dCx0aGlzLnN1YmplY3Q9bix0aGlzLmlkZW50aWZpZXI9aSx0aGlzLmFjdGl2ZT1hLHRoaXMueD1kLHRoaXMueT1yLHRoaXMuZHg9byx0aGlzLmR5PWwsdGhpcy5fPXN9ZnVuY3Rpb24gU24oKXtyZXR1cm4hdXIuYnV0dG9ufWZ1bmN0aW9uIENuKCl7cmV0dXJuIHRoaXMucGFyZW50Tm9kZX1mdW5jdGlvbiBUbihlKXtyZXR1cm4gbnVsbD09ZT97eDp1ci54LHk6dXIueX06ZX1mdW5jdGlvbiBfbigpe3JldHVybidvbnRvdWNoc3RhcnQnaW4gdGhpc31mdW5jdGlvbiBMbihlKXtsZXQgdD1OcjsndW5kZWZpbmVkJyE9dHlwZW9mIGUuZ2l0aHViVXJsJiYodCs9YAogICAgPGgzIGlkPSJ1cGRhdGVzLWFuZC1jb3JyZWN0aW9ucyI+VXBkYXRlcyBhbmQgQ29ycmVjdGlvbnM8L2gzPgogICAgPHA+YCxlLmdpdGh1YkNvbXBhcmVVcGRhdGVzVXJsJiYodCs9YDxhIGhyZWY9IiR7ZS5naXRodWJDb21wYXJlVXBkYXRlc1VybH0iPlZpZXcgYWxsIGNoYW5nZXM8L2E+IHRvIHRoaXMgYXJ0aWNsZSBzaW5jZSBpdCB3YXMgZmlyc3QgcHVibGlzaGVkLmApLHQrPWAKICAgIElmIHlvdSBzZWUgbWlzdGFrZXMgb3Igd2FudCB0byBzdWdnZXN0IGNoYW5nZXMsIHBsZWFzZSA8YSBocmVmPSIke2UuZ2l0aHViVXJsKycvaXNzdWVzL25ldyd9Ij5jcmVhdGUgYW4gaXNzdWUgb24gR2l0SHViPC9hPi4gPC9wPgogICAgYCk7Y29uc3Qgbj1lLmpvdXJuYWw7cmV0dXJuJ3VuZGVmaW5lZCchPXR5cGVvZiBuJiYnRGlzdGlsbCc9PT1uLnRpdGxlJiYodCs9YAogICAgPGgzIGlkPSJyZXVzZSI+UmV1c2U8L2gzPgogICAgPHA+RGlhZ3JhbXMgYW5kIHRleHQgYXJlIGxpY2Vuc2VkIHVuZGVyIENyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gPGEgaHJlZj0iaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzQuMC8iPkNDLUJZIDQuMDwvYT4gd2l0aCB0aGUgPGEgY2xhc3M9ImdpdGh1YiIgaHJlZj0iJHtlLmdpdGh1YlVybH0iPnNvdXJjZSBhdmFpbGFibGUgb24gR2l0SHViPC9hPiwgdW5sZXNzIG5vdGVkIG90aGVyd2lzZS4gVGhlIGZpZ3VyZXMgdGhhdCBoYXZlIGJlZW4gcmV1c2VkIGZyb20gb3RoZXIgc291cmNlcyBkb27igJl0IGZhbGwgdW5kZXIgdGhpcyBsaWNlbnNlIGFuZCBjYW4gYmUgcmVjb2duaXplZCBieSBhIG5vdGUgaW4gdGhlaXIgY2FwdGlvbjog4oCcRmlndXJlIGZyb20g4oCm4oCdLjwvcD4KICAgIGApLCd1bmRlZmluZWQnIT10eXBlb2YgZS5wdWJsaXNoZWREYXRlJiYodCs9YAogICAgPGgzIGlkPSJjaXRhdGlvbiI+Q2l0YXRpb248L2gzPgogICAgPHA+Rm9yIGF0dHJpYnV0aW9uIGluIGFjYWRlbWljIGNvbnRleHRzLCBwbGVhc2UgY2l0ZSB0aGlzIHdvcmsgYXM8L3A+CiAgICA8cHJlIGNsYXNzPSJjaXRhdGlvbiBzaG9ydCI+JHtlLmNvbmNhdGVuYXRlZEF1dGhvcnN9LCAiJHtlLnRpdGxlfSIsIERpc3RpbGwsICR7ZS5wdWJsaXNoZWRZZWFyfS48L3ByZT4KICAgIDxwPkJpYlRlWCBjaXRhdGlvbjwvcD4KICAgIDxwcmUgY2xhc3M9ImNpdGF0aW9uIGxvbmciPiR7bShlKX08L3ByZT4KICAgIGApLHR9dmFyIEFuPU1hdGguc3FydCxFbj1NYXRoLmF0YW4yLERuPU1hdGguc2luLE1uPU1hdGguY29zLE9uPU1hdGguUEksVW49TWF0aC5hYnMsSW49TWF0aC5wb3csTm49TWF0aC5MTjEwLGpuPU1hdGgubG9nLFJuPU1hdGgubWF4LHFuPU1hdGguY2VpbCxGbj1NYXRoLmZsb29yLFBuPU1hdGgucm91bmQsSG49TWF0aC5taW47Y29uc3Qgem49WydTdW5kYXknLCdNb25kYXknLCdUdWVzZGF5JywnV2VkbmVzZGF5JywnVGh1cnNkYXknLCdGcmlkYXknLCdTYXR1cmRheSddLEJuPVsnSmFuLicsJ0ZlYi4nLCdNYXJjaCcsJ0FwcmlsJywnTWF5JywnSnVuZScsJ0p1bHknLCdBdWcuJywnU2VwdC4nLCdPY3QuJywnTm92LicsJ0RlYy4nXSxXbj0oZSk9PjEwPmU/JzAnK2U6ZSxWbj1mdW5jdGlvbihlKXtjb25zdCB0PXpuW2UuZ2V0RGF5KCldLnN1YnN0cmluZygwLDMpLG49V24oZS5nZXREYXRlKCkpLGk9Qm5bZS5nZXRNb250aCgpXS5zdWJzdHJpbmcoMCwzKSxhPWUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpLGQ9ZS5nZXRVVENIb3VycygpLnRvU3RyaW5nKCkscj1lLmdldFVUQ01pbnV0ZXMoKS50b1N0cmluZygpLG89ZS5nZXRVVENTZWNvbmRzKCkudG9TdHJpbmcoKTtyZXR1cm5gJHt0fSwgJHtufSAke2l9ICR7YX0gJHtkfToke3J9OiR7b30gWmB9LCRuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9QXJyYXkuZnJvbShlKS5yZWR1Y2UoKGUsW3Qsbl0pPT5PYmplY3QuYXNzaWduKGUse1t0XTpufSkse30pO3JldHVybiB0fSxKbj1mdW5jdGlvbihlKXtjb25zdCB0PW5ldyBNYXA7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmdC5zZXQobixlW25dKTtyZXR1cm4gdH07Y2xhc3MgUW57Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPWUuYXV0aG9yLHRoaXMucGVyc29uYWxVUkw9ZS5hdXRob3JVUkwsdGhpcy5hZmZpbGlhdGlvbj1lLmFmZmlsaWF0aW9uLHRoaXMuYWZmaWxpYXRpb25VUkw9ZS5hZmZpbGlhdGlvblVSTCx0aGlzLmFmZmlsaWF0aW9ucz1lLmFmZmlsaWF0aW9uc3x8W119Z2V0IGZpcnN0TmFtZSgpe2NvbnN0IGU9dGhpcy5uYW1lLnNwbGl0KCcgJyk7cmV0dXJuIGUuc2xpY2UoMCxlLmxlbmd0aC0xKS5qb2luKCcgJyl9Z2V0IGxhc3ROYW1lKCl7Y29uc3QgZT10aGlzLm5hbWUuc3BsaXQoJyAnKTtyZXR1cm4gZVtlLmxlbmd0aC0xXX19Y2xhc3MgR257Y29uc3RydWN0b3IoKXt0aGlzLnRpdGxlPSd1bm5hbWVkIGFydGljbGUnLHRoaXMuZGVzY3JpcHRpb249JycsdGhpcy5hdXRob3JzPVtdLHRoaXMuYmlibGlvZ3JhcGh5PW5ldyBNYXAsdGhpcy5iaWJsaW9ncmFwaHlQYXJzZWQ9ITEsdGhpcy5jaXRhdGlvbnM9W10sdGhpcy5jaXRhdGlvbnNDb2xsZWN0ZWQ9ITEsdGhpcy5qb3VybmFsPXt9LHRoaXMua2F0ZXg9e30sdGhpcy5wdWJsaXNoZWREYXRlPXZvaWQgMH1zZXQgdXJsKGUpe3RoaXMuX3VybD1lfWdldCB1cmwoKXtpZih0aGlzLl91cmwpcmV0dXJuIHRoaXMuX3VybDtyZXR1cm4gdGhpcy5kaXN0aWxsUGF0aCYmdGhpcy5qb3VybmFsLnVybD90aGlzLmpvdXJuYWwudXJsKycvJyt0aGlzLmRpc3RpbGxQYXRoOnRoaXMuam91cm5hbC51cmw/dGhpcy5qb3VybmFsLnVybDp2b2lkIDB9Z2V0IGdpdGh1YlVybCgpe3JldHVybiB0aGlzLmdpdGh1YlBhdGg/J2h0dHBzOi8vZ2l0aHViLmNvbS8nK3RoaXMuZ2l0aHViUGF0aDp2b2lkIDB9c2V0IHByZXZpZXdVUkwoZSl7dGhpcy5fcHJldmlld1VSTD1lfWdldCBwcmV2aWV3VVJMKCl7cmV0dXJuIHRoaXMuX3ByZXZpZXdVUkw/dGhpcy5fcHJldmlld1VSTDp0aGlzLnVybCsnL3RodW1ibmFpbC5qcGcnfWdldCBwdWJsaXNoZWREYXRlUkZDKCl7cmV0dXJuIFZuKHRoaXMucHVibGlzaGVkRGF0ZSl9Z2V0IHVwZGF0ZWREYXRlUkZDKCl7cmV0dXJuIFZuKHRoaXMudXBkYXRlZERhdGUpfWdldCBwdWJsaXNoZWRZZWFyKCl7cmV0dXJuIHRoaXMucHVibGlzaGVkRGF0ZS5nZXRGdWxsWWVhcigpfWdldCBwdWJsaXNoZWRNb250aCgpe3JldHVybiBCblt0aGlzLnB1Ymxpc2hlZERhdGUuZ2V0TW9udGgoKV19Z2V0IHB1Ymxpc2hlZERheSgpe3JldHVybiB0aGlzLnB1Ymxpc2hlZERhdGUuZ2V0RGF0ZSgpfWdldCBwdWJsaXNoZWRNb250aFBhZGRlZCgpe3JldHVybiBXbih0aGlzLnB1Ymxpc2hlZERhdGUuZ2V0TW9udGgoKSsxKX1nZXQgcHVibGlzaGVkRGF5UGFkZGVkKCl7cmV0dXJuIFduKHRoaXMucHVibGlzaGVkRGF0ZS5nZXREYXRlKCkpfWdldCBwdWJsaXNoZWRJU09EYXRlT25seSgpe3JldHVybiB0aGlzLnB1Ymxpc2hlZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfWdldCB2b2x1bWUoKXtjb25zdCBlPXRoaXMucHVibGlzaGVkWWVhci0yMDE1O2lmKDE+ZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcHVibGlzaCBkYXRlIGRldGVjdGVkIGR1cmluZyBjb21wdXRpbmcgdm9sdW1lJyk7cmV0dXJuIGV9Z2V0IGlzc3VlKCl7cmV0dXJuIHRoaXMucHVibGlzaGVkRGF0ZS5nZXRNb250aCgpKzF9Z2V0IGNvbmNhdGVuYXRlZEF1dGhvcnMoKXtpZigyPHRoaXMuYXV0aG9ycy5sZW5ndGgpcmV0dXJuIHRoaXMuYXV0aG9yc1swXS5sYXN0TmFtZSsnLCBldCBhbC4nO3JldHVybiAyPT09dGhpcy5hdXRob3JzLmxlbmd0aD90aGlzLmF1dGhvcnNbMF0ubGFzdE5hbWUrJyAmICcrdGhpcy5hdXRob3JzWzFdLmxhc3ROYW1lOjE9PT10aGlzLmF1dGhvcnMubGVuZ3RoP3RoaXMuYXV0aG9yc1swXS5sYXN0TmFtZTp2b2lkIDB9Z2V0IGJpYnRleEF1dGhvcnMoKXtyZXR1cm4gdGhpcy5hdXRob3JzLm1hcCgoZSk9PntyZXR1cm4gZS5sYXN0TmFtZSsnLCAnK2UuZmlyc3ROYW1lfSkuam9pbignIGFuZCAnKX1nZXQgc2x1Zygpe2xldCBlPScnO3JldHVybiB0aGlzLmF1dGhvcnMubGVuZ3RoJiYoZSs9dGhpcy5hdXRob3JzWzBdLmxhc3ROYW1lLnRvTG93ZXJDYXNlKCksZSs9dGhpcy5wdWJsaXNoZWRZZWFyLGUrPXRoaXMudGl0bGUuc3BsaXQoJyAnKVswXS50b0xvd2VyQ2FzZSgpKSxlfHwnVW50aXRsZWQnfWdldCBiaWJsaW9ncmFwaHlFbnRyaWVzKCl7cmV0dXJuIG5ldyBNYXAodGhpcy5jaXRhdGlvbnMubWFwKChlKT0+e2NvbnN0IHQ9dGhpcy5iaWJsaW9ncmFwaHkuZ2V0KGUpO3JldHVybltlLHRdfSkpfXNldCBiaWJsaW9ncmFwaHkoZSl7ZSBpbnN0YW5jZW9mIE1hcD90aGlzLl9iaWJsaW9ncmFwaHk9ZTonb2JqZWN0Jz09dHlwZW9mIGUmJih0aGlzLl9iaWJsaW9ncmFwaHk9Sm4oZSkpfWdldCBiaWJsaW9ncmFwaHkoKXtyZXR1cm4gdGhpcy5fYmlibGlvZ3JhcGh5fXN0YXRpYyBmcm9tT2JqZWN0KGUpe2NvbnN0IHQ9bmV3IEduO3JldHVybiBPYmplY3QuYXNzaWduKHQsZSksdH1hc3NpZ25Ub09iamVjdChlKXtPYmplY3QuYXNzaWduKGUsdGhpcyksZS5iaWJsaW9ncmFwaHk9JG4odGhpcy5iaWJsaW9ncmFwaHlFbnRyaWVzKSxlLnVybD10aGlzLnVybCxlLmdpdGh1YlVybD10aGlzLmdpdGh1YlVybCxlLnByZXZpZXdVUkw9dGhpcy5wcmV2aWV3VVJMLHRoaXMucHVibGlzaGVkRGF0ZSYmKGUudm9sdW1lPXRoaXMudm9sdW1lLGUuaXNzdWU9dGhpcy5pc3N1ZSxlLnB1Ymxpc2hlZERhdGVSRkM9dGhpcy5wdWJsaXNoZWREYXRlUkZDLGUucHVibGlzaGVkWWVhcj10aGlzLnB1Ymxpc2hlZFllYXIsZS5wdWJsaXNoZWRNb250aD10aGlzLnB1Ymxpc2hlZE1vbnRoLGUucHVibGlzaGVkRGF5PXRoaXMucHVibGlzaGVkRGF5LGUucHVibGlzaGVkTW9udGhQYWRkZWQ9dGhpcy5wdWJsaXNoZWRNb250aFBhZGRlZCxlLnB1Ymxpc2hlZERheVBhZGRlZD10aGlzLnB1Ymxpc2hlZERheVBhZGRlZCksdGhpcy51cGRhdGVkRGF0ZSYmKGUudXBkYXRlZERhdGVSRkM9dGhpcy51cGRhdGVkRGF0ZVJGQyksZS5jb25jYXRlbmF0ZWRBdXRob3JzPXRoaXMuY29uY2F0ZW5hdGVkQXV0aG9ycyxlLmJpYnRleEF1dGhvcnM9dGhpcy5iaWJ0ZXhBdXRob3JzLGUuc2x1Zz10aGlzLnNsdWd9fWNvbnN0IGVpPShlKT0+e3JldHVybiBjbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3IoKXtzdXBlcigpO2NvbnN0IGU9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLHN1YnRyZWU6ITB9LHQ9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCk9Pnt0LmRpc2Nvbm5lY3QoKSx0aGlzLnJlbmRlcklmUG9zc2libGUoKSx0Lm9ic2VydmUodGhpcyxlKX0pO3Qub2JzZXJ2ZSh0aGlzLGUpfWNvbm5lY3RlZENhbGxiYWNrKCl7c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKSx0aGlzLnJlbmRlcklmUG9zc2libGUoKX1yZW5kZXJJZlBvc3NpYmxlKCl7dGhpcy50ZXh0Q29udGVudCYmdGhpcy5yb290JiZ0aGlzLnJlbmRlckNvbnRlbnQoKX1yZW5kZXJDb250ZW50KCl7Y29uc29sZS5lcnJvcihgWW91ciBjbGFzcyAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gbXVzdCBwcm92aWRlIGEgY3VzdG9tIHJlbmRlckNvbnRlbnQoKSBtZXRob2QhYCl9fX0sdGk9KGUsdCxuPSEwKT0+e3JldHVybihpKT0+e2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtyZXR1cm4gYS5pbm5lckhUTUw9dCxuJiYnU2hhZHlDU1MnaW4gd2luZG93JiZTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUoYSxlKSxjbGFzcyBleHRlbmRzIGl7c3RhdGljIGdldCBpcygpe3JldHVybiBlfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmNsb25lPWRvY3VtZW50LmltcG9ydE5vZGUoYS5jb250ZW50LCEwKSxuJiYodGhpcy5hdHRhY2hTaGFkb3coe21vZGU6J29wZW4nfSksdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMuY2xvbmUpKX1jb25uZWN0ZWRDYWxsYmFjaygpe24/J1NoYWR5Q1NTJ2luIHdpbmRvdyYmU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpOnRoaXMuaW5zZXJ0QmVmb3JlKHRoaXMuY2xvbmUsdGhpcy5maXJzdENoaWxkKX1nZXQgcm9vdCgpe3JldHVybiBuP3RoaXMuc2hhZG93Um9vdDp0aGlzfSQoZSl7cmV0dXJuIHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKGUpfSQkKGUpe3JldHVybiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvckFsbChlKX19fX07dmFyIG5pPScvKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIERpc3RpbGwgVGVtcGxhdGUgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5zcGFuLmthdGV4LWRpc3BsYXkge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBwYWRkaW5nOiA4cHggMCA4cHggMDtcbiAgbWFyZ2luOiAwLjVlbSAwIDAuNWVtIDFlbTtcbn1cblxuc3Bhbi5rYXRleCB7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpO1xuICBmb250LXNpemU6IDEuMThlbTtcbn1cbic7Y29uc3QgaWk9ZnVuY3Rpb24oZSx0LG4pe2xldCBpPW4sYT0wO2Zvcihjb25zdCBkPWUubGVuZ3RoO2k8dC5sZW5ndGg7KXtjb25zdCBuPXRbaV07aWYoMD49YSYmdC5zbGljZShpLGkrZCk9PT1lKXJldHVybiBpOydcXCc9PT1uP2krKzoneyc9PT1uP2ErKzonfSc9PT1uJiZhLS07aSsrfXJldHVybi0xfSxhaT1mdW5jdGlvbihlLHQsbixpKXtjb25zdCBhPVtdO2ZvcihsZXQgZD0wO2Q8ZS5sZW5ndGg7ZCsrKWlmKCd0ZXh0Jz09PWVbZF0udHlwZSl7Y29uc3Qgcj1lW2RdLmRhdGE7bGV0IG8sbD0hMCxzPTA7Zm9yKG89ci5pbmRleE9mKHQpLC0xIT09byYmKHM9byxhLnB1c2goe3R5cGU6J3RleHQnLGRhdGE6ci5zbGljZSgwLHMpfSksbD0hMSk7Oyl7aWYobCl7aWYobz1yLmluZGV4T2YodCxzKSwtMT09PW8pYnJlYWs7YS5wdXNoKHt0eXBlOid0ZXh0JyxkYXRhOnIuc2xpY2UocyxvKX0pLHM9b31lbHNle2lmKG89aWkobixyLHMrdC5sZW5ndGgpLC0xPT09bylicmVhazthLnB1c2goe3R5cGU6J21hdGgnLGRhdGE6ci5zbGljZShzK3QubGVuZ3RoLG8pLHJhd0RhdGE6ci5zbGljZShzLG8rbi5sZW5ndGgpLGRpc3BsYXk6aX0pLHM9bytuLmxlbmd0aH1sPSFsfWEucHVzaCh7dHlwZTondGV4dCcsZGF0YTpyLnNsaWNlKHMpfSl9ZWxzZSBhLnB1c2goZVtkXSk7cmV0dXJuIGF9LGRpPWZ1bmN0aW9uKGUsdCl7bGV0IG49W3t0eXBlOid0ZXh0JyxkYXRhOmV9XTtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl7Y29uc3QgZT10W2FdO249YWkobixlLmxlZnQsZS5yaWdodCxlLmRpc3BsYXl8fCExKX1yZXR1cm4gbn0scmk9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWRpKGUsdC5kZWxpbWl0ZXJzKSxhPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IobGV0IGQ9MDtkPG4ubGVuZ3RoO2QrKylpZigndGV4dCc9PT1uW2RdLnR5cGUpYS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuW2RdLmRhdGEpKTtlbHNle2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZC1tYXRoJyksaT1uW2RdLmRhdGE7dC5kaXNwbGF5TW9kZT1uW2RdLmRpc3BsYXk7dHJ5e2UudGV4dENvbnRlbnQ9aSx0LmRpc3BsYXlNb2RlJiZlLnNldEF0dHJpYnV0ZSgnYmxvY2snLCcnKX1jYXRjaChpKXtpZighKGkgaW5zdGFuY2VvZiBrYXRleC5QYXJzZUVycm9yKSl0aHJvdyBpO3QuZXJyb3JDYWxsYmFjaygnS2FUZVggYXV0by1yZW5kZXI6IEZhaWxlZCB0byBwYXJzZSBgJytuW2RdLmRhdGErJ2Agd2l0aCAnLGkpLGEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobltkXS5yYXdEYXRhKSk7Y29udGludWV9YS5hcHBlbmRDaGlsZChlKX1yZXR1cm4gYX0sb2k9ZnVuY3Rpb24oZSx0KXtmb3IobGV0IG49MDtuPGUuY2hpbGROb2Rlcy5sZW5ndGg7bisrKXtjb25zdCBpPWUuY2hpbGROb2Rlc1tuXTtpZigzPT09aS5ub2RlVHlwZSl7Y29uc3QgYT1yaShpLnRleHRDb250ZW50LHQpO24rPWEuY2hpbGROb2Rlcy5sZW5ndGgtMSxlLnJlcGxhY2VDaGlsZChhLGkpfWVsc2UgaWYoMT09PWkubm9kZVR5cGUpe2NvbnN0IGU9LTE9PT10Lmlnbm9yZWRUYWdzLmluZGV4T2YoaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtlJiZvaShpLHQpfX19LGxpPXtkZWxpbWl0ZXJzOlt7bGVmdDonJCQnLHJpZ2h0OickJCcsZGlzcGxheTohMH0se2xlZnQ6J1xcWycscmlnaHQ6J1xcXScsZGlzcGxheTohMH0se2xlZnQ6J1xcKCcscmlnaHQ6J1xcKScsZGlzcGxheTohMX1dLGlnbm9yZWRUYWdzOlsnc2NyaXB0Jywnbm9zY3JpcHQnLCdzdHlsZScsJ3RleHRhcmVhJywncHJlJywnY29kZScsJ3N2ZyddLGVycm9yQ2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKGUsdCl9fSxzaT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBwcm92aWRlZCB0byByZW5kZXInKTtjb25zdCBuPU9iamVjdC5hc3NpZ24oe30sbGksdCk7b2koZSxuKX0sY2k9JzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9kaXN0aWxsLnB1Yi90aGlyZC1wYXJ0eS9rYXRleC9rYXRleC5taW4uY3NzIiBjcm9zc29yaWdpbj0iYW5vbnltb3VzIj4nLHVpPXRpKCdkLW1hdGgnLGAKJHtjaX0KPHN0eWxlPgoKOmhvc3QgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBjb250YWluOiBjb250ZW50Owp9Cgo6aG9zdChbYmxvY2tdKSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KCiR7bml9Cjwvc3R5bGU+CjxzcGFuIGlkPSdrYXRleC1jb250YWluZXInPjwvc3Bhbj4KYCk7Y2xhc3MgVCBleHRlbmRzIGVpKHVpKEhUTUxFbGVtZW50KSl7c3RhdGljIHNldCBrYXRleE9wdGlvbnMoZSl7VC5fa2F0ZXhPcHRpb25zPWUsVC5rYXRleE9wdGlvbnMuZGVsaW1pdGVycyYmKFQua2F0ZXhBZGRlZD9ULmthdGV4TG9hZGVkQ2FsbGJhY2soKTpULmFkZEthdGV4KCkpfXN0YXRpYyBnZXQga2F0ZXhPcHRpb25zKCl7cmV0dXJuIFQuX2thdGV4T3B0aW9uc3x8KFQuX2thdGV4T3B0aW9ucz17ZGVsaW1pdGVyczpbe2xlZnQ6JyQkJyxyaWdodDonJCQnLGRpc3BsYXk6ITF9XX0pLFQuX2thdGV4T3B0aW9uc31zdGF0aWMga2F0ZXhMb2FkZWRDYWxsYmFjaygpe2NvbnN0IGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZC1tYXRoJyk7Zm9yKGNvbnN0IHQgb2YgZSl0LnJlbmRlckNvbnRlbnQoKTtpZihULmthdGV4T3B0aW9ucy5kZWxpbWl0ZXJzKXtjb25zdCBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2QtYXJ0aWNsZScpO3NpKGUsVC5rYXRleE9wdGlvbnMpfX1zdGF0aWMgYWRkS2F0ZXgoKXtkb2N1bWVudC5oZWFkLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJyxjaSk7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtlLnNyYz0naHR0cHM6Ly9kaXN0aWxsLnB1Yi90aGlyZC1wYXJ0eS9rYXRleC9rYXRleC5taW4uanMnLGUuYXN5bmM9ITAsZS5vbmxvYWQ9VC5rYXRleExvYWRlZENhbGxiYWNrLGUuY3Jvc3NvcmlnaW49J2Fub255bW91cycsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKSxULmthdGV4QWRkZWQ9ITB9Z2V0IG9wdGlvbnMoKXtjb25zdCBlPXtkaXNwbGF5TW9kZTp0aGlzLmhhc0F0dHJpYnV0ZSgnYmxvY2snKX07cmV0dXJuIE9iamVjdC5hc3NpZ24oZSxULmthdGV4T3B0aW9ucyl9Y29ubmVjdGVkQ2FsbGJhY2soKXtzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpLFQua2F0ZXhBZGRlZHx8VC5hZGRLYXRleCgpfXJlbmRlckNvbnRlbnQoKXtpZigndW5kZWZpbmVkJyE9dHlwZW9mIGthdGV4KXtjb25zdCBlPXRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKCcja2F0ZXgtY29udGFpbmVyJyk7a2F0ZXgucmVuZGVyKHRoaXMudGV4dENvbnRlbnQsZSx0aGlzLm9wdGlvbnMpfX19VC5rYXRleEFkZGVkPSExLFQuaW5saW5lTWF0aFJlbmRlcmVkPSExLHdpbmRvdy5ETWF0aD1UO2NsYXNzIHBpIGV4dGVuZHMgSFRNTEVsZW1lbnR7c3RhdGljIGdldCBpcygpe3JldHVybidkLWZyb250LW1hdHRlcid9Y29uc3RydWN0b3IoKXtzdXBlcigpO2NvbnN0IGU9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGUpPT57Zm9yKGNvbnN0IHQgb2YgZSlpZignU0NSSVBUJz09PXQudGFyZ2V0Lm5vZGVOYW1lfHwnY2hhcmFjdGVyRGF0YSc9PT10LnR5cGUpe2NvbnN0IGU9Yyh0aGlzKTt0aGlzLm5vdGlmeShlKX19KTtlLm9ic2VydmUodGhpcyx7Y2hpbGRMaXN0OiEwLGNoYXJhY3RlckRhdGE6ITAsc3VidHJlZTohMH0pfW5vdGlmeShlKXtjb25zdCB0PW5ldyBDdXN0b21FdmVudCgnb25Gcm9udE1hdHRlckNoYW5nZWQnLHtkZXRhaWw6ZSxidWJibGVzOiEwfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCh0KX19dmFyIGdpPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmJvZHksaT1uLnF1ZXJ5U2VsZWN0b3IoJ2QtYXJ0aWNsZScpO2lmKCFpKXJldHVybiB2b2lkIGNvbnNvbGUud2FybignTm8gZC1hcnRpY2xlIHRhZyBmb3VuZDsgc2tpcHBpbmcgYWRkaW5nIG9wdGlvbmFsIGNvbXBvbmVudHMhJyk7bGV0IGE9ZS5xdWVyeVNlbGVjdG9yKCdkLWJ5bGluZScpO2F8fCh0LmF1dGhvcnM/KGE9ZS5jcmVhdGVFbGVtZW50KCdkLWJ5bGluZScpLG4uaW5zZXJ0QmVmb3JlKGEsaSkpOmNvbnNvbGUud2FybignTm8gYXV0aG9ycyBmb3VuZCBpbiBmcm9udCBtYXR0ZXI7IHBsZWFzZSBhZGQgdGhlbSBiZWZvcmUgc3VibWlzc2lvbiEnKSk7bGV0IGQ9ZS5xdWVyeVNlbGVjdG9yKCdkLXRpdGxlJyk7ZHx8KGQ9ZS5jcmVhdGVFbGVtZW50KCdkLXRpdGxlJyksbi5pbnNlcnRCZWZvcmUoZCxhKSk7bGV0IHI9ZC5xdWVyeVNlbGVjdG9yKCdoMScpO3J8fChyPWUuY3JlYXRlRWxlbWVudCgnaDEnKSxyLnRleHRDb250ZW50PXQudGl0bGUsZC5pbnNlcnRCZWZvcmUocixkLmZpcnN0Q2hpbGQpKTtjb25zdCBvPSd1bmRlZmluZWQnIT10eXBlb2YgdC5wYXNzd29yZDtsZXQgbD1uLnF1ZXJ5U2VsZWN0b3IoJ2QtaW50ZXJzdGl0aWFsJyk7aWYobyYmIWwpe2NvbnN0IGk9J3VuZGVmaW5lZCchPXR5cGVvZiB3aW5kb3csYT1pJiZ3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpO2kmJmF8fChsPWUuY3JlYXRlRWxlbWVudCgnZC1pbnRlcnN0aXRpYWwnKSxsLnBhc3N3b3JkPXQucGFzc3dvcmQsbi5pbnNlcnRCZWZvcmUobCxuLmZpcnN0Q2hpbGQpKX1lbHNlIW8mJmwmJmwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzKTtsZXQgcz1lLnF1ZXJ5U2VsZWN0b3IoJ2QtYXBwZW5kaXgnKTtzfHwocz1lLmNyZWF0ZUVsZW1lbnQoJ2QtYXBwZW5kaXgnKSxlLmJvZHkuYXBwZW5kQ2hpbGQocykpO2xldCBjPWUucXVlcnlTZWxlY3RvcignZC1mb290bm90ZS1saXN0Jyk7Y3x8KGM9ZS5jcmVhdGVFbGVtZW50KCdkLWZvb3Rub3RlLWxpc3QnKSxzLmFwcGVuZENoaWxkKGMpKTtsZXQgdT1lLnF1ZXJ5U2VsZWN0b3IoJ2QtY2l0YXRpb24tbGlzdCcpO3V8fCh1PWUuY3JlYXRlRWxlbWVudCgnZC1jaXRhdGlvbi1saXN0Jykscy5hcHBlbmRDaGlsZCh1KSl9O2NvbnN0IGZpPW5ldyBHbixoaT17ZnJvbnRNYXR0ZXI6Zmksd2FpdGluZ09uOntiaWJsaW9ncmFwaHk6W10sY2l0YXRpb25zOltdfSxsaXN0ZW5lcnM6e29uQ2l0ZUtleUNyZWF0ZWQoZSl7Y29uc3RbdCxuXT1lLmRldGFpbDtpZighZmkuY2l0YXRpb25zQ29sbGVjdGVkKXJldHVybiB2b2lkIGhpLndhaXRpbmdPbi5jaXRhdGlvbnMucHVzaCgoKT0+aGkubGlzdGVuZXJzLm9uQ2l0ZUtleUNyZWF0ZWQoZSkpO2lmKCFmaS5iaWJsaW9ncmFwaHlQYXJzZWQpcmV0dXJuIHZvaWQgaGkud2FpdGluZ09uLmJpYmxpb2dyYXBoeS5wdXNoKCgpPT5oaS5saXN0ZW5lcnMub25DaXRlS2V5Q3JlYXRlZChlKSk7Y29uc3QgaT1uLm1hcCgoZSk9PmZpLmNpdGF0aW9ucy5pbmRleE9mKGUpKTt0Lm51bWJlcnM9aTtjb25zdCBhPW4ubWFwKChlKT0+ZmkuYmlibGlvZ3JhcGh5LmdldChlKSk7dC5lbnRyaWVzPWF9LG9uQ2l0ZUtleUNoYW5nZWQoKXtmaS5jaXRhdGlvbnM9dCgpLGZpLmNpdGF0aW9uc0NvbGxlY3RlZD0hMDtmb3IoY29uc3QgZSBvZiBoaS53YWl0aW5nT24uY2l0YXRpb25zLnNsaWNlKCkpZSgpO2NvbnN0IGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZC1jaXRhdGlvbi1saXN0Jyksbj1uZXcgTWFwKGZpLmNpdGF0aW9ucy5tYXAoKGUpPT57cmV0dXJuW2UsZmkuYmlibGlvZ3JhcGh5LmdldChlKV19KSk7ZS5jaXRhdGlvbnM9bjtjb25zdCBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2QtY2l0ZScpO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IHQ9ZS5rZXlzLG49dC5tYXAoKGUpPT5maS5jaXRhdGlvbnMuaW5kZXhPZihlKSk7ZS5udW1iZXJzPW47Y29uc3QgaT10Lm1hcCgoZSk9PmZpLmJpYmxpb2dyYXBoeS5nZXQoZSkpO2UuZW50cmllcz1pfX0sb25DaXRlS2V5UmVtb3ZlZChlKXtoaS5saXN0ZW5lcnMub25DaXRlS2V5Q2hhbmdlZChlKX0sb25CaWJsaW9ncmFwaHlDaGFuZ2VkKGUpe2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZC1jaXRhdGlvbi1saXN0Jyksbj1lLmRldGFpbDtmaS5iaWJsaW9ncmFwaHk9bixmaS5iaWJsaW9ncmFwaHlQYXJzZWQ9ITA7Zm9yKGNvbnN0IHQgb2YgaGkud2FpdGluZ09uLmJpYmxpb2dyYXBoeS5zbGljZSgpKXQoKTtpZighZmkuY2l0YXRpb25zQ29sbGVjdGVkKXJldHVybiB2b2lkIGhpLndhaXRpbmdPbi5jaXRhdGlvbnMucHVzaChmdW5jdGlvbigpe2hpLmxpc3RlbmVycy5vbkJpYmxpb2dyYXBoeUNoYW5nZWQoe3RhcmdldDplLnRhcmdldCxkZXRhaWw6ZS5kZXRhaWx9KX0pO2lmKHQuaGFzQXR0cmlidXRlKCdkaXN0aWxsLXByZXJlbmRlcmVkJykpY29uc29sZS5pbmZvKCdDaXRhdGlvbiBsaXN0IHdhcyBwcmVyZW5kZXJlZDsgbm90IHVwZGF0aW5nIGl0LicpO2Vsc2V7Y29uc3QgZT1uZXcgTWFwKGZpLmNpdGF0aW9ucy5tYXAoKGUpPT57cmV0dXJuW2UsZmkuYmlibGlvZ3JhcGh5LmdldChlKV19KSk7dC5jaXRhdGlvbnM9ZX19LG9uRm9vdG5vdGVDaGFuZ2VkKCl7Y29uc3QgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkLWZvb3Rub3RlLWxpc3QnKTtpZihlKXtjb25zdCB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2QtZm9vdG5vdGUnKTtlLmZvb3Rub3Rlcz10fX0sb25Gcm9udE1hdHRlckNoYW5nZWQodCl7Y29uc3Qgbj10LmRldGFpbDtlKGZpLG4pO2NvbnN0IGk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZC1pbnRlcnN0aXRpYWwnKTtpJiYoJ3VuZGVmaW5lZCc9PXR5cGVvZiBmaS5wYXNzd29yZD9pLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaSk6aS5wYXNzd29yZD1maS5wYXNzd29yZCk7Y29uc3QgYT1kb2N1bWVudC5ib2R5Lmhhc0F0dHJpYnV0ZSgnZGlzdGlsbC1wcmVyZW5kZXJlZCcpO2lmKCFhJiZ1KCkpe2dpKGRvY3VtZW50LGZpKTtjb25zdCBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpc3RpbGwtYXBwZW5kaXgnKTtlJiYoZS5mcm9udE1hdHRlcj1maSk7Y29uc3QgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkLWJ5bGluZScpO3QmJih0LmZyb250TWF0dGVyPWZpKSxuLmthdGV4JiYoVC5rYXRleE9wdGlvbnM9bi5rYXRleCl9fSxET01Db250ZW50TG9hZGVkKCl7aWYoaGkubG9hZGVkKXJldHVybiB2b2lkIGNvbnNvbGUud2FybignQ29udHJvbGxlciByZWNlaXZlZCBET01Db250ZW50TG9hZGVkIGJ1dCB3YXMgYWxyZWFkeSBsb2FkZWQhJyk7aWYoIXUoKSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oJ0NvbnRyb2xsZXIgcmVjZWl2ZWQgRE9NQ29udGVudExvYWRlZCBiZWZvcmUgYXBwcm9wcmlhdGUgZG9jdW1lbnQucmVhZHlTdGF0ZSEnKTtoaS5sb2FkZWQ9ITAsY29uc29sZS5sb2coJ1J1bmxldmVsIDQ6IENvbnRyb2xsZXIgcnVubmluZyBET01Db250ZW50TG9hZGVkJyk7Y29uc3QgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkLWZyb250LW1hdHRlcicpLG49YyhlKTtoaS5saXN0ZW5lcnMub25Gcm9udE1hdHRlckNoYW5nZWQoe2RldGFpbDpufSksZmkuY2l0YXRpb25zPXQoKSxmaS5jaXRhdGlvbnNDb2xsZWN0ZWQ9ITA7Zm9yKGNvbnN0IGUgb2YgaGkud2FpdGluZ09uLmNpdGF0aW9ucy5zbGljZSgpKWUoKTtpZihmaS5iaWJsaW9ncmFwaHlQYXJzZWQpZm9yKGNvbnN0IGUgb2YgaGkud2FpdGluZ09uLmJpYmxpb2dyYXBoeS5zbGljZSgpKWUoKTtjb25zdCBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2QtZm9vdG5vdGUtbGlzdCcpO2lmKGkpe2NvbnN0IGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZC1mb290bm90ZScpO2kuZm9vdG5vdGVzPWV9fX19O2NvbnN0IGJpPScvKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIERpc3RpbGwgVGVtcGxhdGUgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5odG1sIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuXHRsaW5lLWhlaWdodDogMS42ZW07XG4gIC8qIGZvbnQtZmFtaWx5OiAiTGlicmUgRnJhbmtsaW4iLCAiSGVsdmV0aWNhIE5ldWUiLCBzYW5zLXNlcmlmOyAqL1xuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICJGaXJhIFNhbnMiLCAiRHJvaWQgU2FucyIsICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAvKiwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7Ki9cbiAgdGV4dC1zaXplLWFkanVzdDogMTAwJTtcbiAgLW1zLXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7XG4gIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogMTAwJTtcbn1cblxuQG1lZGlhKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgaHRtbCB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG59XG5cbmJvZHkge1xuICBtYXJnaW46IDA7XG59XG5cbmEge1xuICBjb2xvcjogIzAwNDI3Njtcbn1cblxuZmlndXJlIHtcbiAgbWFyZ2luOiAwO1xufVxuXG50YWJsZSB7XG5cdGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG5cdGJvcmRlci1zcGFjaW5nOiAwO1xufVxuXG50YWJsZSB0aCB7XG5cdHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbnRhYmxlIHRoZWFkIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7XG59XG5cbnRhYmxlIHRoZWFkIHRoIHtcbiAgcGFkZGluZy1ib3R0b206IDAuNWVtO1xufVxuXG50YWJsZSB0Ym9keSA6Zmlyc3QtY2hpbGQgdGQge1xuICBwYWRkaW5nLXRvcDogMC41ZW07XG59XG5cbnByZSB7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbnAge1xuICBtYXJnaW4tdG9wOiAwO1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG59XG5cbnN1cCwgc3ViIHtcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTAuNGVtO1xuICBsaW5lLWhlaWdodDogMWVtO1xufVxuXG5zdWIge1xuICB0b3A6IDAuNGVtO1xufVxuXG4ua2lja2VyLFxuLm1hcmtlciB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbn1cblxuXG4vKiBIZWFkbGluZSAqL1xuXG5AbWVkaWEobWluLXdpZHRoOiAxMDI0cHgpIHtcbiAgZC10aXRsZSBoMSBzcGFuIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxufVxuXG4vKiBGaWd1cmUgKi9cblxuZmlndXJlIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW4tYm90dG9tOiAyLjVlbTtcbiAgbWFyZ2luLXRvcDogMS41ZW07XG59XG5cbmZpZ2NhcHRpb24rZmlndXJlIHtcblxufVxuXG5maWd1cmUgaW1nIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmZpZ3VyZSBzdmcgdGV4dCxcbmZpZ3VyZSBzdmcgdHNwYW4ge1xufVxuXG5maWdjYXB0aW9uLFxuLmZpZ2NhcHRpb24ge1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpO1xuICBmb250LXNpemU6IDEycHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjVlbTtcbn1cblxuQG1lZGlhKG1pbi13aWR0aDogMTAyNHB4KSB7XG5maWdjYXB0aW9uLFxuLmZpZ2NhcHRpb24ge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgfVxufVxuXG5maWd1cmUuZXh0ZXJuYWwgaW1nIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgYm94LXNoYWRvdzogMCAxcHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgcGFkZGluZzogMThweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuZmlnY2FwdGlvbiBhIHtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcbn1cblxuZmlnY2FwdGlvbiBiLFxuZmlnY2FwdGlvbiBzdHJvbmcsIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMS4wKTtcbn1cbicrJy8qXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgRGlzdGlsbCBUZW1wbGF0ZSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbkBzdXBwb3J0cyBub3QgKGRpc3BsYXk6IGdyaWQpIHtcbiAgLmJhc2UtZ3JpZCxcbiAgZGlzdGlsbC1oZWFkZXIsXG4gIGQtdGl0bGUsXG4gIGQtYWJzdHJhY3QsXG4gIGQtYXJ0aWNsZSxcbiAgZC1hcHBlbmRpeCxcbiAgZGlzdGlsbC1hcHBlbmRpeCxcbiAgZC1ieWxpbmUsXG4gIGQtZm9vdG5vdGUtbGlzdCxcbiAgZC1jaXRhdGlvbi1saXN0LFxuICBkaXN0aWxsLWZvb3RlciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcGFkZGluZzogOHB4O1xuICB9XG59XG5cbi5iYXNlLWdyaWQsXG5kaXN0aWxsLWhlYWRlcixcbmQtdGl0bGUsXG5kLWFic3RyYWN0LFxuZC1hcnRpY2xlLFxuZC1hcHBlbmRpeCxcbmRpc3RpbGwtYXBwZW5kaXgsXG5kLWJ5bGluZSxcbmQtZm9vdG5vdGUtbGlzdCxcbmQtY2l0YXRpb24tbGlzdCxcbmRpc3RpbGwtZm9vdGVyIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAganVzdGlmeS1pdGVtczogc3RyZXRjaDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBbc2NyZWVuLXN0YXJ0XSA4cHggW3BhZ2Utc3RhcnQga2lja2VyLXN0YXJ0IHRleHQtc3RhcnQgZ3V0dGVyLXN0YXJ0IG1pZGRsZS1zdGFydF0gMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciBbdGV4dC1lbmQgcGFnZS1lbmQgZ3V0dGVyLWVuZCBraWNrZXItZW5kIG1pZGRsZS1lbmRdIDhweCBbc2NyZWVuLWVuZF07XG4gIGdyaWQtY29sdW1uLWdhcDogOHB4O1xufVxuXG4uZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtY29sdW1uLWdhcDogOHB4O1xufVxuXG5AbWVkaWEobWluLXdpZHRoOiA3NjhweCkge1xuICAuYmFzZS1ncmlkLFxuICBkaXN0aWxsLWhlYWRlcixcbiAgZC10aXRsZSxcbiAgZC1hYnN0cmFjdCxcbiAgZC1hcnRpY2xlLFxuICBkLWFwcGVuZGl4LFxuICBkaXN0aWxsLWFwcGVuZGl4LFxuICBkLWJ5bGluZSxcbiAgZC1mb290bm90ZS1saXN0LFxuICBkLWNpdGF0aW9uLWxpc3QsXG4gIGRpc3RpbGwtZm9vdGVyIHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IFtzY3JlZW4tc3RhcnRdIDFmciBbcGFnZS1zdGFydCBraWNrZXItc3RhcnQgbWlkZGxlLXN0YXJ0IHRleHQtc3RhcnRdIDQ1cHggNDVweCA0NXB4IDQ1cHggNDVweCA0NXB4IDQ1cHggNDVweCBbIGtpY2tlci1lbmQgdGV4dC1lbmQgZ3V0dGVyLXN0YXJ0XSA0NXB4IFttaWRkbGUtZW5kXSA0NXB4IFtwYWdlLWVuZCBndXR0ZXItZW5kXSAxZnIgW3NjcmVlbi1lbmRdO1xuICAgIGdyaWQtY29sdW1uLWdhcDogMTZweDtcbiAgfVxuXG4gIC5ncmlkIHtcbiAgICBncmlkLWNvbHVtbi1nYXA6IDE2cHg7XG4gIH1cbn1cblxuQG1lZGlhKG1pbi13aWR0aDogMTAwMHB4KSB7XG4gIC5iYXNlLWdyaWQsXG4gIGRpc3RpbGwtaGVhZGVyLFxuICBkLXRpdGxlLFxuICBkLWFic3RyYWN0LFxuICBkLWFydGljbGUsXG4gIGQtYXBwZW5kaXgsXG4gIGRpc3RpbGwtYXBwZW5kaXgsXG4gIGQtYnlsaW5lLFxuICBkLWZvb3Rub3RlLWxpc3QsXG4gIGQtY2l0YXRpb24tbGlzdCxcbiAgZGlzdGlsbC1mb290ZXIge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogW3NjcmVlbi1zdGFydF0gMWZyIFtwYWdlLXN0YXJ0IGtpY2tlci1zdGFydF0gNTBweCBbbWlkZGxlLXN0YXJ0XSA1MHB4IFt0ZXh0LXN0YXJ0IGtpY2tlci1lbmRdIDUwcHggNTBweCA1MHB4IDUwcHggNTBweCA1MHB4IDUwcHggNTBweCBbdGV4dC1lbmQgZ3V0dGVyLXN0YXJ0XSA1MHB4IFttaWRkbGUtZW5kXSA1MHB4IFtwYWdlLWVuZCBndXR0ZXItZW5kXSAxZnIgW3NjcmVlbi1lbmRdO1xuICAgIGdyaWQtY29sdW1uLWdhcDogMTZweDtcbiAgfVxuXG4gIC5ncmlkIHtcbiAgICBncmlkLWNvbHVtbi1nYXA6IDE2cHg7XG4gIH1cbn1cblxuQG1lZGlhKG1pbi13aWR0aDogMTE4MHB4KSB7XG4gIC5iYXNlLWdyaWQsXG4gIGRpc3RpbGwtaGVhZGVyLFxuICBkLXRpdGxlLFxuICBkLWFic3RyYWN0LFxuICBkLWFydGljbGUsXG4gIGQtYXBwZW5kaXgsXG4gIGRpc3RpbGwtYXBwZW5kaXgsXG4gIGQtYnlsaW5lLFxuICBkLWZvb3Rub3RlLWxpc3QsXG4gIGQtY2l0YXRpb24tbGlzdCxcbiAgZGlzdGlsbC1mb290ZXIge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogW3NjcmVlbi1zdGFydF0gMWZyIFtwYWdlLXN0YXJ0IGtpY2tlci1zdGFydF0gNjBweCBbbWlkZGxlLXN0YXJ0XSA2MHB4IFt0ZXh0LXN0YXJ0IGtpY2tlci1lbmRdIDYwcHggNjBweCA2MHB4IDYwcHggNjBweCA2MHB4IDYwcHggNjBweCBbdGV4dC1lbmQgZ3V0dGVyLXN0YXJ0XSA2MHB4IFttaWRkbGUtZW5kXSA2MHB4IFtwYWdlLWVuZCBndXR0ZXItZW5kXSAxZnIgW3NjcmVlbi1lbmRdO1xuICAgIGdyaWQtY29sdW1uLWdhcDogMzJweDtcbiAgfVxuXG4gIC5ncmlkIHtcbiAgICBncmlkLWNvbHVtbi1nYXA6IDMycHg7XG4gIH1cbn1cblxuXG5cblxuLmJhc2UtZ3JpZCB7XG4gIGdyaWQtY29sdW1uOiBzY3JlZW47XG59XG5cbi8qIC5sLWJvZHksXG5kLWFydGljbGUgPiAqICB7XG4gIGdyaWQtY29sdW1uOiB0ZXh0O1xufVxuXG4ubC1wYWdlLFxuZC10aXRsZSA+ICosXG5kLWZpZ3VyZSB7XG4gIGdyaWQtY29sdW1uOiBwYWdlO1xufSAqL1xuXG4ubC1ndXR0ZXIge1xuICBncmlkLWNvbHVtbjogZ3V0dGVyO1xufVxuXG4ubC10ZXh0LFxuLmwtYm9keSB7XG4gIGdyaWQtY29sdW1uOiB0ZXh0O1xufVxuXG4ubC1wYWdlIHtcbiAgZ3JpZC1jb2x1bW46IHBhZ2U7XG59XG5cbi5sLWJvZHktb3V0c2V0IHtcbiAgZ3JpZC1jb2x1bW46IG1pZGRsZTtcbn1cblxuLmwtcGFnZS1vdXRzZXQge1xuICBncmlkLWNvbHVtbjogcGFnZTtcbn1cblxuLmwtc2NyZWVuIHtcbiAgZ3JpZC1jb2x1bW46IHNjcmVlbjtcbn1cblxuLmwtc2NyZWVuLWluc2V0IHtcbiAgZ3JpZC1jb2x1bW46IHNjcmVlbjtcbiAgcGFkZGluZy1sZWZ0OiAxNnB4O1xuICBwYWRkaW5nLWxlZnQ6IDE2cHg7XG59XG5cblxuLyogQXNpZGUgKi9cblxuZC1hcnRpY2xlIGFzaWRlIHtcbiAgZ3JpZC1jb2x1bW46IGd1dHRlcjtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBsaW5lLWhlaWdodDogMS42ZW07XG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNilcbn1cblxuQG1lZGlhKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgYXNpZGUge1xuICAgIGdyaWQtY29sdW1uOiBndXR0ZXI7XG4gIH1cblxuICAuc2lkZSB7XG4gICAgZ3JpZC1jb2x1bW46IGd1dHRlcjtcbiAgfVxufVxuJysnLypcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBEaXN0aWxsIFRlbXBsYXRlIEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZC10aXRsZSB7XG4gIHBhZGRpbmc6IDJyZW0gMCAxLjVyZW07XG4gIGNvbnRhaW46IGxheW91dCBzdHlsZTtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuXG5AbWVkaWEobWluLXdpZHRoOiA3NjhweCkge1xuICBkLXRpdGxlIHtcbiAgICBwYWRkaW5nOiA0cmVtIDAgMS41cmVtO1xuICB9XG59XG5cbmQtdGl0bGUgaDEge1xuICBncmlkLWNvbHVtbjogdGV4dDtcbiAgZm9udC1zaXplOiA0MHB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBsaW5lLWhlaWdodDogMS4xZW07XG4gIG1hcmdpbjogMCAwIDAuNXJlbTtcbn1cblxuQG1lZGlhKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgZC10aXRsZSBoMSB7XG4gICAgZm9udC1zaXplOiA1MHB4O1xuICB9XG59XG5cbmQtdGl0bGUgcCB7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBsaW5lLWhlaWdodDogMS41NWVtO1xuICBncmlkLWNvbHVtbjogdGV4dDtcbn1cblxuZC10aXRsZSAuc3RhdHVzIHtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjMDA5Njg4O1xuICBvcGFjaXR5OiAwLjg7XG4gIGdyaWQtY29sdW1uOiBraWNrZXI7XG59XG5cbmQtdGl0bGUgLnN0YXR1cyBzcGFuIHtcbiAgbGluZS1oZWlnaHQ6IDE7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcGFkZGluZzogNnB4IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjODBjYmM0O1xuICBmb250LXNpemU6IDExcHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG4nKycvKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIERpc3RpbGwgVGVtcGxhdGUgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5kLWJ5bGluZSB7XG4gIGNvbnRhaW46IGNvbnRlbnQ7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBsaW5lLWhlaWdodDogMS44ZW07XG4gIHBhZGRpbmc6IDEuNXJlbSAwO1xuICBtaW4taGVpZ2h0OiAxLjhlbTtcbn1cblxuXG5kLWJ5bGluZSAuYnlsaW5lIHtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICBncmlkLWNvbHVtbjogdGV4dDtcbn1cblxuQG1lZGlhKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgZC1ieWxpbmUgLmJ5bGluZSB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmciAxZnI7XG4gIH1cbn1cblxuZC1ieWxpbmUgLmF1dGhvcnMtYWZmaWxpYXRpb25zIHtcbiAgZ3JpZC1jb2x1bW4tZW5kOiBzcGFuIDI7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgbWFyZ2luLWJvdHRvbTogMWVtO1xufVxuXG5AbWVkaWEobWluLXdpZHRoOiA3NjhweCkge1xuICBkLWJ5bGluZSAuYXV0aG9ycy1hZmZpbGlhdGlvbnMge1xuICAgIG1hcmdpbi1ib3R0b206IDA7XG4gIH1cbn1cblxuZC1ieWxpbmUgaDMge1xuICBmb250LXNpemU6IDAuNnJlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgbWFyZ2luOiAwO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5kLWJ5bGluZSBwIHtcbiAgbWFyZ2luOiAwO1xufVxuXG5kLWJ5bGluZSBhLFxuZC1hcnRpY2xlIGQtYnlsaW5lIGEge1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG5cbmQtYXJ0aWNsZSBkLWJ5bGluZSBhOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG5cbmQtYnlsaW5lIHAuYXV0aG9yIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuZC1ieWxpbmUgLmFmZmlsaWF0aW9ucyB7XG5cbn1cbicrJy8qXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgRGlzdGlsbCBUZW1wbGF0ZSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmQtYXJ0aWNsZSB7XG4gIGNvbnRhaW46IGxheW91dCBzdHlsZTtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBwYWRkaW5nLXRvcDogMnJlbTtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTtcbn1cblxuZC1hcnRpY2xlID4gKiB7XG4gIGdyaWQtY29sdW1uOiB0ZXh0O1xufVxuXG5AbWVkaWEobWluLXdpZHRoOiA3NjhweCkge1xuICBkLWFydGljbGUge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgfVxufVxuXG5AbWVkaWEobWluLXdpZHRoOiAxMDI0cHgpIHtcbiAgZC1hcnRpY2xlIHtcbiAgICBmb250LXNpemU6IDEuMDZyZW07XG4gICAgbGluZS1oZWlnaHQ6IDEuN2VtO1xuICB9XG59XG5cblxuLyogSDIgKi9cblxuXG5kLWFydGljbGUgLm1hcmtlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBjb3VudGVyLXJlc2V0OiBzZWN0aW9uO1xuICBncmlkLWNvbHVtbjoga2lja2VyO1xuICBsaW5lLWhlaWdodDogMS43ZW07XG59XG5cbmQtYXJ0aWNsZSAubWFya2VyOmhvdmVyIHtcbiAgYm9yZGVyOiBub25lO1xufVxuXG5kLWFydGljbGUgLm1hcmtlciBzcGFuIHtcbiAgcGFkZGluZzogMCAzcHggNHB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNHB4O1xufVxuXG5kLWFydGljbGUgLm1hcmtlcjpob3ZlciBzcGFuIHtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC43KTtcbn1cblxuZC1hcnRpY2xlIGgyIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBsaW5lLWhlaWdodDogMS4yNWVtO1xuICBtYXJnaW46IDJyZW0gMCAxLjVyZW0gMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgcGFkZGluZy1ib3R0b206IDFyZW07XG59XG5cbkBtZWRpYShtaW4td2lkdGg6IDEwMjRweCkge1xuICBkLWFydGljbGUgaDIge1xuICAgIGZvbnQtc2l6ZTogMzZweDtcbiAgfVxufVxuXG4vKiBIMyAqL1xuXG5kLWFydGljbGUgaDMge1xuICBmb250LXdlaWdodDogNzAwO1xuICBmb250LXNpemU6IDE4cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjRlbTtcbiAgbWFyZ2luLWJvdHRvbTogMWVtO1xuICBtYXJnaW4tdG9wOiAyZW07XG59XG5cbkBtZWRpYShtaW4td2lkdGg6IDEwMjRweCkge1xuICBkLWFydGljbGUgaDMge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgfVxufVxuXG4vKiBINCAqL1xuXG5kLWFydGljbGUgaDQge1xuICBmb250LXdlaWdodDogNjAwO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjRlbTtcbn1cblxuZC1hcnRpY2xlIGEge1xuICBjb2xvcjogaW5oZXJpdDtcbn1cblxuZC1hcnRpY2xlIHAsXG5kLWFydGljbGUgdWwsXG5kLWFydGljbGUgb2wsXG5kLWFydGljbGUgYmxvY2txdW90ZSB7XG4gIG1hcmdpbi10b3A6IDA7XG4gIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgbWFyZ2luLWxlZnQ6IDA7XG4gIG1hcmdpbi1yaWdodDogMDtcbn1cblxuZC1hcnRpY2xlIGJsb2NrcXVvdGUge1xuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgcGFkZGluZy1sZWZ0OiAyZW07XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcbn1cblxuZC1hcnRpY2xlIGEge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjQpO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbmQtYXJ0aWNsZSBhOmhvdmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC44KTtcbn1cblxuZC1hcnRpY2xlIC5saW5rIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuZC1hcnRpY2xlIHVsLFxuZC1hcnRpY2xlIG9sIHtcbiAgcGFkZGluZy1sZWZ0OiAyNHB4O1xufVxuXG5kLWFydGljbGUgbGkge1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG4gIG1hcmdpbi1sZWZ0OiAwO1xuICBwYWRkaW5nLWxlZnQ6IDA7XG59XG5cbmQtYXJ0aWNsZSBsaTpsYXN0LWNoaWxkIHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuZC1hcnRpY2xlIHByZSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuZC1hcnRpY2xlIGhyIHtcbiAgZ3JpZC1jb2x1bW46IHNjcmVlbjtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgbWFyZ2luLXRvcDogNjBweDtcbiAgbWFyZ2luLWJvdHRvbTogNjBweDtcbn1cblxuZC1hcnRpY2xlIHNlY3Rpb24ge1xuICBtYXJnaW4tdG9wOiA2MHB4O1xuICBtYXJnaW4tYm90dG9tOiA2MHB4O1xufVxuXG5kLWFydGljbGUgc3Bhbi5lcXVhdGlvbi1taW1pYyB7XG4gIGZvbnQtZmFtaWx5OiBnZW9yZ2lhO1xuICBmb250LXNpemU6IDExNSU7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuZC1hcnRpY2xlID4gZC1jb2RlLFxuZC1hcnRpY2xlIHNlY3Rpb24gPiBkLWNvZGUgIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbmQtYXJ0aWNsZSA+IGQtbWF0aFtibG9ja10sXG5kLWFydGljbGUgc2VjdGlvbiA+IGQtbWF0aFtibG9ja10gIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICBkLWFydGljbGUgPiBkLWNvZGUsXG4gIGQtYXJ0aWNsZSBzZWN0aW9uID4gZC1jb2RlLFxuICBkLWFydGljbGUgPiBkLW1hdGhbYmxvY2tdLFxuICBkLWFydGljbGUgc2VjdGlvbiA+IGQtbWF0aFtibG9ja10ge1xuICAgICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xuICAgICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyAgLy8gSUUgMTArXG4gICAgICBvdmVyZmxvdzogLW1vei1zY3JvbGxiYXJzLW5vbmU7ICAvLyBGaXJlZm94XG4gIH1cblxuICBkLWFydGljbGUgPiBkLWNvZGU6Oi13ZWJraXQtc2Nyb2xsYmFyLFxuICBkLWFydGljbGUgc2VjdGlvbiA+IGQtY29kZTo6LXdlYmtpdC1zY3JvbGxiYXIsXG4gIGQtYXJ0aWNsZSA+IGQtbWF0aFtibG9ja106Oi13ZWJraXQtc2Nyb2xsYmFyLFxuICBkLWFydGljbGUgc2VjdGlvbiA+IGQtbWF0aFtibG9ja106Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICBkaXNwbGF5OiBub25lOyAgLy8gU2FmYXJpIGFuZCBDaHJvbWVcbiAgfVxufVxuXG5kLWFydGljbGUgLmNpdGF0aW9uIHtcbiAgY29sb3I6ICM2Njg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuZC1pbmNsdWRlIHtcbiAgd2lkdGg6IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG5kLWZpZ3VyZSB7XG4gIGNvbnRhaW46IGxheW91dCBzdHlsZTtcbn1cblxuLyogS2FUZVggKi9cblxuLmthdGV4LCAua2F0ZXgtcHJlcmVuZGVyZWQge1xuICBjb250YWluOiBzdHlsZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4vKiBUYWJsZXMgKi9cblxuZC1hcnRpY2xlIHRhYmxlIHtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuXG5kLWFydGljbGUgdGFibGUgdGgge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuXG5kLWFydGljbGUgdGFibGUgdGQge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjA1KTtcbn1cblxuZC1hcnRpY2xlIHRhYmxlIHRyOmxhc3Qtb2YtdHlwZSB0ZCB7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG5cbmQtYXJ0aWNsZSB0YWJsZSB0aCxcbmQtYXJ0aWNsZSB0YWJsZSB0ZCB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgcGFkZGluZzogMnB4IDhweDtcbn1cblxuZC1hcnRpY2xlIHRhYmxlIHRib2R5IDpmaXJzdC1jaGlsZCB0ZCB7XG4gIHBhZGRpbmctdG9wOiAycHg7XG59XG4nK25pKycvKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIERpc3RpbGwgVGVtcGxhdGUgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5AbWVkaWEgcHJpbnQge1xuXG4gIEBwYWdlIHtcbiAgICBzaXplOiA4aW4gMTFpbjtcbiAgICBAYm90dG9tLXJpZ2h0IHtcbiAgICAgIGNvbnRlbnQ6IGNvdW50ZXIocGFnZSkgIiBvZiAiIGNvdW50ZXIocGFnZXMpO1xuICAgIH1cbiAgfVxuXG4gIGh0bWwge1xuICAgIC8qIG5vIGdlbmVyYWwgbWFyZ2lucyAtLSBDU1MgR3JpZCB0YWtlcyBjYXJlIG9mIHRob3NlICovXG4gIH1cblxuICBwLCBjb2RlIHtcbiAgICBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7XG4gIH1cblxuICBoMiwgaDMge1xuICAgIHBhZ2UtYnJlYWstYWZ0ZXI6IGF2b2lkO1xuICB9XG5cbiAgZC1oZWFkZXIge1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgfVxuXG4gIGQtZm9vdGVyIHtcbiAgICBkaXNwbGF5OiBub25lIWltcG9ydGFudDtcbiAgfVxuXG59XG4nLG1pPVt7bmFtZTonV2ViQ29tcG9uZW50cycsc3VwcG9ydDpmdW5jdGlvbigpe3JldHVybidjdXN0b21FbGVtZW50cydpbiB3aW5kb3cmJidhdHRhY2hTaGFkb3cnaW4gRWxlbWVudC5wcm90b3R5cGUmJidnZXRSb290Tm9kZSdpbiBFbGVtZW50LnByb3RvdHlwZSYmJ2NvbnRlbnQnaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKSYmJ1Byb21pc2UnaW4gd2luZG93JiYnZnJvbSdpbiBBcnJheX0sdXJsOidodHRwczovL2Rpc3RpbGwucHViL3RoaXJkLXBhcnR5L3BvbHlmaWxscy93ZWJjb21wb25lbnRzLWxpdGUuanMnfSx7bmFtZTonSW50ZXJzZWN0aW9uT2JzZXJ2ZXInLHN1cHBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4nSW50ZXJzZWN0aW9uT2JzZXJ2ZXInaW4gd2luZG93JiYnSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSdpbiB3aW5kb3d9LHVybDonaHR0cHM6Ly9kaXN0aWxsLnB1Yi90aGlyZC1wYXJ0eS9wb2x5ZmlsbHMvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzJ31dO2NsYXNzIHlpe3N0YXRpYyBicm93c2VyU3VwcG9ydHNBbGxGZWF0dXJlcygpe3JldHVybiBtaS5ldmVyeSgoZSk9PmUuc3VwcG9ydCgpKX1zdGF0aWMgbG9hZChlKXtjb25zdCB0PWZ1bmN0aW9uKHQpe3QubG9hZGVkPSEwLGNvbnNvbGUuaW5mbygnUnVubGV2ZWwgMDogUG9seWZpbGwgaGFzIGZpbmlzaGVkIGxvYWRpbmc6ICcrdC5uYW1lKSx5aS5uZWVkZWRQb2x5ZmlsbHMuZXZlcnkoKGUpPT5lLmxvYWRlZCkmJihjb25zb2xlLmluZm8oJ1J1bmxldmVsIDA6IEFsbCByZXF1aXJlZCBwb2x5ZmlsbHMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLicpLGNvbnNvbGUuaW5mbygnUnVubGV2ZWwgMC0+MS4nKSx3aW5kb3cuZGlzdGlsbFJ1bmxldmVsPTEsZSgpKX07Zm9yKGNvbnN0IG4gb2YgeWkubmVlZGVkUG9seWZpbGxzKWcobix0KX1zdGF0aWMgZ2V0IG5lZWRlZFBvbHlmaWxscygpe3JldHVybiB5aS5fbmVlZGVkUG9seWZpbGxzfHwoeWkuX25lZWRlZFBvbHlmaWxscz1taS5maWx0ZXIoKGUpPT4hZS5zdXBwb3J0KCkpKSx5aS5fbmVlZGVkUG9seWZpbGxzfX1jb25zdCB4aT10aSgnZC1hYnN0cmFjdCcsYAo8c3R5bGU+CiAgOmhvc3QgewogICAgZm9udC1zaXplOiAxLjI1cmVtOwogICAgbGluZS1oZWlnaHQ6IDEuNmVtOwogICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTsKICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIH0KCiAgOjpzbG90dGVkKHApIHsKICAgIG1hcmdpbi10b3A6IDA7CiAgICBtYXJnaW4tYm90dG9tOiAxZW07CiAgICBncmlkLWNvbHVtbjogdGV4dC1zdGFydCAvIG1pZGRsZS1lbmQ7CiAgfQogICR7ZnVuY3Rpb24oZSl7cmV0dXJuYCR7ZX0gewogICAgICBncmlkLWNvbHVtbjogbGVmdCAvIHRleHQ7CiAgICB9CiAgYH0oJ2QtYWJzdHJhY3QnKX0KPC9zdHlsZT4KCjxzbG90Pjwvc2xvdD4KYCk7Y2xhc3Mga2kgZXh0ZW5kcyB4aShIVE1MRWxlbWVudCl7fWNvbnN0IHZpPXRpKCdkLWFwcGVuZGl4JyxgCjxzdHlsZT4KCmQtYXBwZW5kaXggewogIGNvbnRhaW46IGxheW91dCBzdHlsZTsKICBmb250LXNpemU6IDAuOGVtOwogIGxpbmUtaGVpZ2h0OiAxLjdlbTsKICBtYXJnaW4tdG9wOiA2MHB4OwogIG1hcmdpbi1ib3R0b206IDA7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTsKICBjb2xvcjogcmdiYSgwLDAsMCwwLjUpOwogIHBhZGRpbmctdG9wOiA2MHB4OwogIHBhZGRpbmctYm90dG9tOiA0OHB4Owp9CgpkLWFwcGVuZGl4IGgzIHsKICBncmlkLWNvbHVtbjogcGFnZS1zdGFydCAvIHRleHQtc3RhcnQ7CiAgZm9udC1zaXplOiAxNXB4OwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgbWFyZ2luLXRvcDogMWVtOwogIG1hcmdpbi1ib3R0b206IDA7CiAgY29sb3I6IHJnYmEoMCwwLDAsMC42NSk7Cn0KCmQtYXBwZW5kaXggaDMgKyAqIHsKICBtYXJnaW4tdG9wOiAxZW07Cn0KCmQtYXBwZW5kaXggb2wgewogIHBhZGRpbmc6IDAgMCAwIDE1cHg7Cn0KCkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkgewogIGQtYXBwZW5kaXggb2wgewogICAgcGFkZGluZzogMCAwIDAgMzBweDsKICAgIG1hcmdpbi1sZWZ0OiAtMzBweDsKICB9Cn0KCmQtYXBwZW5kaXggbGkgewogIG1hcmdpbi1ib3R0b206IDFlbTsKfQoKZC1hcHBlbmRpeCBhIHsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpOwp9CgpkLWFwcGVuZGl4ID4gKiB7CiAgZ3JpZC1jb2x1bW46IHRleHQ7Cn0KCmQtYXBwZW5kaXggPiBkLWZvb3Rub3RlLWxpc3QsCmQtYXBwZW5kaXggPiBkLWNpdGF0aW9uLWxpc3QsCmQtYXBwZW5kaXggPiBkaXN0aWxsLWFwcGVuZGl4IHsKICBncmlkLWNvbHVtbjogc2NyZWVuOwp9Cgo8L3N0eWxlPgoKYCwhMSk7Y2xhc3Mgd2kgZXh0ZW5kcyB2aShIVE1MRWxlbWVudCl7fWNvbnN0IFNpPS9eXHMqJC87Y2xhc3MgQ2kgZXh0ZW5kcyBIVE1MRWxlbWVudHtzdGF0aWMgZ2V0IGlzKCl7cmV0dXJuJ2QtYXJ0aWNsZSd9Y29uc3RydWN0b3IoKXtzdXBlcigpLG5ldyBNdXRhdGlvbk9ic2VydmVyKChlKT0+e2Zvcihjb25zdCB0IG9mIGUpZm9yKGNvbnN0IGUgb2YgdC5hZGRlZE5vZGVzKXN3aXRjaChlLm5vZGVOYW1lKXtjYXNlJyN0ZXh0Jzp7Y29uc3QgdD1lLm5vZGVWYWx1ZTtpZighU2kudGVzdCh0KSl7Y29uc29sZS53YXJuKCdVc2Ugb2YgdW53cmFwcGVkIHRleHQgaW4gZGlzdGlsbCBhcnRpY2xlcyBpcyBkaXNjb3VyYWdlZCBhcyBpdCBicmVha3MgbGF5b3V0ISBQbGVhc2Ugd3JhcCBhbnkgdGV4dCBpbiBhIDxzcGFuPiBvciA8cD4gdGFnLiBXZSBmb3VuZCB0aGUgZm9sbG93aW5nIHRleHQ6ICcrdCk7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7bi5pbm5lckhUTUw9ZS5ub2RlVmFsdWUsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuLGUpLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX19fX0pLm9ic2VydmUodGhpcyx7Y2hpbGRMaXN0OiEwfSl9fXZhciBUaT0ndW5kZWZpbmVkJz09dHlwZW9mIHdpbmRvdz8ndW5kZWZpbmVkJz09dHlwZW9mIGdsb2JhbD8ndW5kZWZpbmVkJz09dHlwZW9mIHNlbGY/e306c2VsZjpnbG9iYWw6d2luZG93LF9pPWYoZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3RoaXMubW9udGhzPVsnamFuJywnZmViJywnbWFyJywnYXByJywnbWF5JywnanVuJywnanVsJywnYXVnJywnc2VwJywnb2N0Jywnbm92JywnZGVjJ10sdGhpcy5ub3RLZXk9WycsJywneycsJ30nLCcgJywnPSddLHRoaXMucG9zPTAsdGhpcy5pbnB1dD0nJyx0aGlzLmVudHJpZXM9W10sdGhpcy5jdXJyZW50RW50cnk9JycsdGhpcy5zZXRJbnB1dD1mdW5jdGlvbihlKXt0aGlzLmlucHV0PWV9LHRoaXMuZ2V0RW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXN9LHRoaXMuaXNXaGl0ZXNwYWNlPWZ1bmN0aW9uKGUpe3JldHVybicgJz09ZXx8J1xyJz09ZXx8J1x0Jz09ZXx8J1xuJz09ZX0sdGhpcy5tYXRjaD1mdW5jdGlvbihlLHQpe2lmKCh2b2lkIDA9PXR8fG51bGw9PXQpJiYodD0hMCksdGhpcy5za2lwV2hpdGVzcGFjZSh0KSx0aGlzLmlucHV0LnN1YnN0cmluZyh0aGlzLnBvcyx0aGlzLnBvcytlLmxlbmd0aCk9PWUpdGhpcy5wb3MrPWUubGVuZ3RoO2Vsc2UgdGhyb3cnVG9rZW4gbWlzbWF0Y2gsIGV4cGVjdGVkICcrZSsnLCBmb3VuZCAnK3RoaXMuaW5wdXQuc3Vic3RyaW5nKHRoaXMucG9zKTt0aGlzLnNraXBXaGl0ZXNwYWNlKHQpfSx0aGlzLnRyeU1hdGNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHZvaWQgMD09dHx8bnVsbD09dCkmJih0PSEwKSx0aGlzLnNraXBXaGl0ZXNwYWNlKHQpLHRoaXMuaW5wdXQuc3Vic3RyaW5nKHRoaXMucG9zLHRoaXMucG9zK2UubGVuZ3RoKT09ZX0sdGhpcy5tYXRjaEF0PWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmlucHV0Lmxlbmd0aD50aGlzLnBvcyYmJ0AnIT10aGlzLmlucHV0W3RoaXMucG9zXTspdGhpcy5wb3MrKztyZXR1cm4hKCdAJyE9dGhpcy5pbnB1dFt0aGlzLnBvc10pfSx0aGlzLnNraXBXaGl0ZXNwYWNlPWZ1bmN0aW9uKGUpe2Zvcig7dGhpcy5pc1doaXRlc3BhY2UodGhpcy5pbnB1dFt0aGlzLnBvc10pOyl0aGlzLnBvcysrO2lmKCclJz09dGhpcy5pbnB1dFt0aGlzLnBvc10mJiEwPT1lKXtmb3IoOydcbichPXRoaXMuaW5wdXRbdGhpcy5wb3NdOyl0aGlzLnBvcysrO3RoaXMuc2tpcFdoaXRlc3BhY2UoZSl9fSx0aGlzLnZhbHVlX2JyYWNlcz1mdW5jdGlvbigpe3ZhciBlPTA7dGhpcy5tYXRjaCgneycsITEpO2Zvcih2YXIgdD10aGlzLnBvcyxuPSExOzspe2lmKCFuKWlmKCd9Jz09dGhpcy5pbnB1dFt0aGlzLnBvc10pe2lmKDA8ZSllLS07ZWxzZXt2YXIgaT10aGlzLnBvcztyZXR1cm4gdGhpcy5tYXRjaCgnfScsITEpLHRoaXMuaW5wdXQuc3Vic3RyaW5nKHQsaSl9fWVsc2UgaWYoJ3snPT10aGlzLmlucHV0W3RoaXMucG9zXSllKys7ZWxzZSBpZih0aGlzLnBvcz49dGhpcy5pbnB1dC5sZW5ndGgtMSl0aHJvdydVbnRlcm1pbmF0ZWQgdmFsdWUnO249J1xcJz09dGhpcy5pbnB1dFt0aGlzLnBvc10mJiExPT1uLHRoaXMucG9zKyt9fSx0aGlzLnZhbHVlX2NvbW1lbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9JycsdD0wOyEodGhpcy50cnlNYXRjaCgnfScsITEpJiYwPT10KTspe2lmKGUrPXRoaXMuaW5wdXRbdGhpcy5wb3NdLCd7Jz09dGhpcy5pbnB1dFt0aGlzLnBvc10mJnQrKywnfSc9PXRoaXMuaW5wdXRbdGhpcy5wb3NdJiZ0LS0sdGhpcy5wb3M+PXRoaXMuaW5wdXQubGVuZ3RoLTEpdGhyb3cnVW50ZXJtaW5hdGVkIHZhbHVlOicrdGhpcy5pbnB1dC5zdWJzdHJpbmcoc3RhcnQpO3RoaXMucG9zKyt9cmV0dXJuIGV9LHRoaXMudmFsdWVfcXVvdGVzPWZ1bmN0aW9uKCl7dGhpcy5tYXRjaCgnIicsITEpO2Zvcih2YXIgZT10aGlzLnBvcyx0PSExOzspe2lmKCF0KXtpZignIic9PXRoaXMuaW5wdXRbdGhpcy5wb3NdKXt2YXIgbj10aGlzLnBvcztyZXR1cm4gdGhpcy5tYXRjaCgnIicsITEpLHRoaXMuaW5wdXQuc3Vic3RyaW5nKGUsbil9aWYodGhpcy5wb3M+PXRoaXMuaW5wdXQubGVuZ3RoLTEpdGhyb3cnVW50ZXJtaW5hdGVkIHZhbHVlOicrdGhpcy5pbnB1dC5zdWJzdHJpbmcoZSl9dD0nXFwnPT10aGlzLmlucHV0W3RoaXMucG9zXSYmITE9PXQsdGhpcy5wb3MrK319LHRoaXMuc2luZ2xlX3ZhbHVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wb3M7aWYodGhpcy50cnlNYXRjaCgneycpKXJldHVybiB0aGlzLnZhbHVlX2JyYWNlcygpO2lmKHRoaXMudHJ5TWF0Y2goJyInKSlyZXR1cm4gdGhpcy52YWx1ZV9xdW90ZXMoKTt2YXIgdD10aGlzLmtleSgpO2lmKHQubWF0Y2goJ15bMC05XSskJykpcmV0dXJuIHQ7aWYoMDw9dGhpcy5tb250aHMuaW5kZXhPZih0LnRvTG93ZXJDYXNlKCkpKXJldHVybiB0LnRvTG93ZXJDYXNlKCk7dGhyb3cnVmFsdWUgZXhwZWN0ZWQ6Jyt0aGlzLmlucHV0LnN1YnN0cmluZyhlKSsnIGZvciBrZXk6ICcrdH0sdGhpcy52YWx1ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bdGhpcy5zaW5nbGVfdmFsdWUoKV07dGhpcy50cnlNYXRjaCgnIycpOyl0aGlzLm1hdGNoKCcjJyksZS5wdXNoKHRoaXMuc2luZ2xlX3ZhbHVlKCkpO3JldHVybiBlLmpvaW4oJycpfSx0aGlzLmtleT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnBvczs7KXtpZih0aGlzLnBvcz49dGhpcy5pbnB1dC5sZW5ndGgpdGhyb3cnUnVuYXdheSBrZXknO2lmKDA8PXRoaXMubm90S2V5LmluZGV4T2YodGhpcy5pbnB1dFt0aGlzLnBvc10pKXJldHVybiB0aGlzLmlucHV0LnN1YnN0cmluZyhlLHRoaXMucG9zKTt0aGlzLnBvcysrfX0sdGhpcy5rZXlfZXF1YWxzX3ZhbHVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5rZXkoKTtpZih0aGlzLnRyeU1hdGNoKCc9Jykpe3RoaXMubWF0Y2goJz0nKTt2YXIgdD10aGlzLnZhbHVlKCk7cmV0dXJuW2UsdF19dGhyb3cnLi4uID0gdmFsdWUgZXhwZWN0ZWQsIGVxdWFscyBzaWduIG1pc3Npbmc6Jyt0aGlzLmlucHV0LnN1YnN0cmluZyh0aGlzLnBvcyl9LHRoaXMua2V5X3ZhbHVlX2xpc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmtleV9lcXVhbHNfdmFsdWUoKTtmb3IodGhpcy5jdXJyZW50RW50cnkuZW50cnlUYWdzPXt9LHRoaXMuY3VycmVudEVudHJ5LmVudHJ5VGFnc1tlWzBdXT1lWzFdO3RoaXMudHJ5TWF0Y2goJywnKSYmKHRoaXMubWF0Y2goJywnKSwhdGhpcy50cnlNYXRjaCgnfScpKTspZT10aGlzLmtleV9lcXVhbHNfdmFsdWUoKSx0aGlzLmN1cnJlbnRFbnRyeS5lbnRyeVRhZ3NbZVswXV09ZVsxXX0sdGhpcy5lbnRyeV9ib2R5PWZ1bmN0aW9uKGUpe3RoaXMuY3VycmVudEVudHJ5PXt9LHRoaXMuY3VycmVudEVudHJ5LmNpdGF0aW9uS2V5PXRoaXMua2V5KCksdGhpcy5jdXJyZW50RW50cnkuZW50cnlUeXBlPWUuc3Vic3RyaW5nKDEpLHRoaXMubWF0Y2goJywnKSx0aGlzLmtleV92YWx1ZV9saXN0KCksdGhpcy5lbnRyaWVzLnB1c2godGhpcy5jdXJyZW50RW50cnkpfSx0aGlzLmRpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoKCdAJyksJ0AnK3RoaXMua2V5KCl9LHRoaXMucHJlYW1ibGU9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRFbnRyeT17fSx0aGlzLmN1cnJlbnRFbnRyeS5lbnRyeVR5cGU9J1BSRUFNQkxFJyx0aGlzLmN1cnJlbnRFbnRyeS5lbnRyeT10aGlzLnZhbHVlX2NvbW1lbnQoKSx0aGlzLmVudHJpZXMucHVzaCh0aGlzLmN1cnJlbnRFbnRyeSl9LHRoaXMuY29tbWVudD1mdW5jdGlvbigpe3RoaXMuY3VycmVudEVudHJ5PXt9LHRoaXMuY3VycmVudEVudHJ5LmVudHJ5VHlwZT0nQ09NTUVOVCcsdGhpcy5jdXJyZW50RW50cnkuZW50cnk9dGhpcy52YWx1ZV9jb21tZW50KCksdGhpcy5lbnRyaWVzLnB1c2godGhpcy5jdXJyZW50RW50cnkpfSx0aGlzLmVudHJ5PWZ1bmN0aW9uKGUpe3RoaXMuZW50cnlfYm9keShlKX0sdGhpcy5iaWJ0ZXg9ZnVuY3Rpb24oKXtmb3IoO3RoaXMubWF0Y2hBdCgpOyl7dmFyIGU9dGhpcy5kaXJlY3RpdmUoKTt0aGlzLm1hdGNoKCd7JyksJ0BTVFJJTkcnPT1lP3RoaXMuc3RyaW5nKCk6J0BQUkVBTUJMRSc9PWU/dGhpcy5wcmVhbWJsZSgpOidAQ09NTUVOVCc9PWU/dGhpcy5jb21tZW50KCk6dGhpcy5lbnRyeShlKSx0aGlzLm1hdGNoKCd9Jyl9fX1lLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdDtyZXR1cm4gbi5zZXRJbnB1dChlKSxuLmJpYnRleCgpLG4uZW50cmllc30sZS50b0JpYnRleD1mdW5jdGlvbihlKXt2YXIgdD0nJztmb3IodmFyIG4gaW4gZSl7aWYodCs9J0AnK2Vbbl0uZW50cnlUeXBlLHQrPSd7JyxlW25dLmNpdGF0aW9uS2V5JiYodCs9ZVtuXS5jaXRhdGlvbktleSsnLCAnKSxlW25dLmVudHJ5JiYodCs9ZVtuXS5lbnRyeSksZVtuXS5lbnRyeVRhZ3Mpe3ZhciBpPScnO2Zvcih2YXIgYSBpbiBlW25dLmVudHJ5VGFncykwIT1pLmxlbmd0aCYmKGkrPScsICcpLGkrPWErJz0geycrZVtuXS5lbnRyeVRhZ3NbYV0rJ30nO3QrPWl9dCs9J31cblxuJ31yZXR1cm4gdH19KSh0KX0pO2NsYXNzIExpIGV4dGVuZHMgSFRNTEVsZW1lbnR7c3RhdGljIGdldCBpcygpe3JldHVybidkLWJpYmxpb2dyYXBoeSd9Y29uc3RydWN0b3IoKXtzdXBlcigpO2NvbnN0IGU9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGUpPT57Zm9yKGNvbnN0IHQgb2YgZSkoJ1NDUklQVCc9PT10LnRhcmdldC5ub2RlTmFtZXx8J2NoYXJhY3RlckRhdGEnPT09dC50eXBlKSYmdGhpcy5wYXJzZUlmUG9zc2libGUoKX0pO2Uub2JzZXJ2ZSh0aGlzLHtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxzdWJ0cmVlOiEwfSl9Y29ubmVjdGVkQ2FsbGJhY2soKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9Pnt0aGlzLnBhcnNlSWZQb3NzaWJsZSgpfSl9cGFyc2VJZlBvc3NpYmxlKCl7Y29uc3QgZT10aGlzLnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdCcpO2lmKGUpaWYoJ3RleHQvYmlidGV4Jz09ZS50eXBlKXtjb25zdCB0PWUudGV4dENvbnRlbnQ7aWYodGhpcy5iaWJ0ZXghPT10KXt0aGlzLmJpYnRleD10O2NvbnN0IGU9Yih0aGlzLmJpYnRleCk7dGhpcy5ub3RpZnkoZSl9fWVsc2UgaWYoJ3RleHQvanNvbic9PWUudHlwZSl7Y29uc3QgdD1uZXcgTWFwKEpTT04ucGFyc2UoZS50ZXh0Q29udGVudCkpO3RoaXMubm90aWZ5KHQpfWVsc2UgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBiaWJsaW9ncmFwaHkgc2NyaXB0IHRhZyB0eXBlOiAnK2UudHlwZSl9bm90aWZ5KGUpe2NvbnN0IHQ9bmV3IEN1c3RvbUV2ZW50KCdvbkJpYmxpb2dyYXBoeUNoYW5nZWQnLHtkZXRhaWw6ZSxidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KHQpfXN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCl7cmV0dXJuWydzcmMnXX1yZWNlaXZlZEJpYnRleChlKXtjb25zdCB0PWIoZS50YXJnZXQucmVzcG9uc2UpO3RoaXMubm90aWZ5KHQpfWF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQsbil7dmFyIGk9bmV3IFhNTEh0dHBSZXF1ZXN0O2kub25sb2FkPSh0KT0+dGhpcy5yZWNlaXZlZEJpYnRleCh0KSxpLm9uZXJyb3I9KCk9PmNvbnNvbGUud2FybihgQ291bGQgbm90IGxvYWQgQmlidGV4ISAodHJpZWQgJHtufSlgKSxpLnJlc3BvbnNlVHlwZT0ndGV4dCcsaS5vcGVuKCdHRVQnLG4sITApLGkuc2VuZCgpfX1jbGFzcyBBaSBleHRlbmRzIEhUTUxFbGVtZW50e3N0YXRpYyBnZXQgaXMoKXtyZXR1cm4nZC1ieWxpbmUnfXNldCBmcm9udE1hdHRlcihlKXt0aGlzLmlubmVySFRNTD15KGUpfX1jb25zdCBFaT10aSgnZC1jaXRlJyxgCjxzdHlsZT4KCjpob3N0IHsKCn0KCi5jaXRhdGlvbiB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGNvbG9yOiBoc2xhKDIwNiwgOTAlLCAyMCUsIDAuNyk7Cn0KCi5jaXRhdGlvbi1udW1iZXIgewogIGN1cnNvcjogZGVmYXVsdDsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJSb2JvdG8iLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgZm9udC1zaXplOiA3NSU7CiAgY29sb3I6IGhzbGEoMjA2LCA5MCUsIDIwJSwgMC43KTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgbGluZS1oZWlnaHQ6IDEuMWVtOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAtMnB4OwogIG1hcmdpbjogMCAycHg7Cn0KCmZpZ2NhcHRpb24gLmNpdGF0aW9uLW51bWJlciB7CiAgZm9udC1zaXplOiAxMXB4OwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgdG9wOiAtMnB4OwogIGxpbmUtaGVpZ2h0OiAxZW07Cn0KCnVsIHsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7Cn0KCnVsIGxpIHsKICBwYWRkaW5nOiAxNXB4IDEwcHggMTVweCAxMHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMSkKfQoKdWwgbGk6bGFzdC1vZi10eXBlIHsKICBib3JkZXItYm90dG9tOiBub25lOwp9Cgo8L3N0eWxlPgoKPGQtaG92ZXItYm94IGlkPSJob3Zlci1ib3giPjwvZC1ob3Zlci1ib3g+Cgo8ZGl2IGlkPSJjaXRhdGlvbi0iIGNsYXNzPSJjaXRhdGlvbiI+CiAgPHNsb3Q+PC9zbG90PgogIDxzcGFuIGNsYXNzPSJjaXRhdGlvbi1udW1iZXIiPjwvc3Bhbj4KPC9kaXY+CmApO2NsYXNzIERpIGV4dGVuZHMgRWkoSFRNTEVsZW1lbnQpe2Nvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5vdXRlclNwYW49dGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoJyNjaXRhdGlvbi0nKSx0aGlzLmlubmVyU3Bhbj10aGlzLnJvb3QucXVlcnlTZWxlY3RvcignLmNpdGF0aW9uLW51bWJlcicpLHRoaXMuaG92ZXJCb3g9dGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoJ2QtaG92ZXItYm94Jyksd2luZG93LmN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKCdkLWhvdmVyLWJveCcpLnRoZW4oKCk9Pnt0aGlzLmhvdmVyQm94Lmxpc3Rlbih0aGlzKX0pfXN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCl7cmV0dXJuWydrZXknXX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soZSx0LG4pe2NvbnN0IGk9dD8nb25DaXRlS2V5Q2hhbmdlZCc6J29uQ2l0ZUtleUNyZWF0ZWQnLGE9bi5zcGxpdCgnLCcpLGQ9e2RldGFpbDpbdGhpcyxhXSxidWJibGVzOiEwfSxyPW5ldyBDdXN0b21FdmVudChpLGQpO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQocil9c2V0IGtleShlKXt0aGlzLnNldEF0dHJpYnV0ZSgna2V5JyxlKX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdrZXknKX1nZXQga2V5cygpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgna2V5Jykuc3BsaXQoJywnKX1zZXQgbnVtYmVycyhlKXtjb25zdCB0PWUubWFwKChlKT0+e3JldHVybi0xPT1lPyc/JzplKzErJyd9KSxuPSdbJyt0LmpvaW4oJywgJykrJ10nO3RoaXMuaW5uZXJTcGFuJiYodGhpcy5pbm5lclNwYW4udGV4dENvbnRlbnQ9bil9c2V0IGVudHJpZXMoZSl7dGhpcy5ob3ZlckJveCYmKHRoaXMuaG92ZXJCb3guaW5uZXJIVE1MPWA8dWw+CiAgICAgICR7ZS5tYXAobCkubWFwKChlKT0+YDxsaT4ke2V9PC9saT5gKS5qb2luKCdcbicpfQogICAgICA8L3VsPmApfX1jb25zdCBNaT1gCmQtY2l0YXRpb24tbGlzdCB7CiAgY29udGFpbjogbGF5b3V0IHN0eWxlOwp9CgpkLWNpdGF0aW9uLWxpc3QgLnJlZmVyZW5jZXMgewogIGdyaWQtY29sdW1uOiB0ZXh0Owp9CgpkLWNpdGF0aW9uLWxpc3QgLnJlZmVyZW5jZXMgLnRpdGxlIHsKICBmb250LXdlaWdodDogNTAwOwp9CmA7Y2xhc3MgT2kgZXh0ZW5kcyBIVE1MRWxlbWVudHtzdGF0aWMgZ2V0IGlzKCl7cmV0dXJuJ2QtY2l0YXRpb24tbGlzdCd9Y29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLmhhc0F0dHJpYnV0ZSgnZGlzdGlsbC1wcmVyZW5kZXJlZCcpfHwodGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJyl9c2V0IGNpdGF0aW9ucyhlKXt4KHRoaXMsZSl9fXZhciBVaT1mKGZ1bmN0aW9uKGUpe3ZhciB0PSd1bmRlZmluZWQnPT10eXBlb2Ygd2luZG93Pyd1bmRlZmluZWQnIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZT9zZWxmOnt9OndpbmRvdyxuPWZ1bmN0aW9uKCl7dmFyIGU9L1xibGFuZyg/OnVhZ2UpPy0oXHcrKVxiL2ksbj0wLGE9dC5QcmlzbT17dXRpbDp7ZW5jb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaT9uZXcgaShlLnR5cGUsYS51dGlsLmVuY29kZShlLmNvbnRlbnQpLGUuYWxpYXMpOidBcnJheSc9PT1hLnV0aWwudHlwZShlKT9lLm1hcChhLnV0aWwuZW5jb2RlKTplLnJlcGxhY2UoLyYvZywnJmFtcDsnKS5yZXBsYWNlKC88L2csJyZsdDsnKS5yZXBsYWNlKC9cdTAwYTAvZywnICcpfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xbb2JqZWN0IChcdyspXF0vKVsxXX0sb2JqSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19pZHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsJ19faWQnLHt2YWx1ZTorK259KSxlLl9faWR9LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciB0PWEudXRpbC50eXBlKGUpO3N3aXRjaCh0KXtjYXNlJ09iamVjdCc6dmFyIG49e307Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKG5baV09YS51dGlsLmNsb25lKGVbaV0pKTtyZXR1cm4gbjtjYXNlJ0FycmF5JzpyZXR1cm4gZS5tYXAmJmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBhLnV0aWwuY2xvbmUoZSl9KTt9cmV0dXJuIGV9fSxsYW5ndWFnZXM6e2V4dGVuZDpmdW5jdGlvbihlLHQpe3ZhciBuPWEudXRpbC5jbG9uZShhLmxhbmd1YWdlc1tlXSk7Zm9yKHZhciBpIGluIHQpbltpXT10W2ldO3JldHVybiBufSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oZSx0LG4saSl7aT1pfHxhLmxhbmd1YWdlczt2YXIgZD1pW2VdO2lmKDI9PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgciBpbiBuPWFyZ3VtZW50c1sxXSxuKW4uaGFzT3duUHJvcGVydHkocikmJihkW3JdPW5bcl0pO3JldHVybiBkfXZhciBvPXt9O2Zvcih2YXIgbCBpbiBkKWlmKGQuaGFzT3duUHJvcGVydHkobCkpe2lmKGw9PXQpZm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKG9bcl09bltyXSk7b1tsXT1kW2xdfXJldHVybiBhLmxhbmd1YWdlcy5ERlMoYS5sYW5ndWFnZXMsZnVuY3Rpb24odCxuKXtuPT09aVtlXSYmdCE9ZSYmKHRoaXNbdF09byl9KSxpW2VdPW99LERGUzpmdW5jdGlvbihlLHQsbixkKXtmb3IodmFyIHIgaW4gZD1kfHx7fSxlKWUuaGFzT3duUHJvcGVydHkocikmJih0LmNhbGwoZSxyLGVbcl0sbnx8ciksJ09iamVjdCchPT1hLnV0aWwudHlwZShlW3JdKXx8ZFthLnV0aWwub2JqSWQoZVtyXSldPydBcnJheSc9PT1hLnV0aWwudHlwZShlW3JdKSYmIWRbYS51dGlsLm9iaklkKGVbcl0pXSYmKGRbYS51dGlsLm9iaklkKGVbcl0pXT0hMCxhLmxhbmd1YWdlcy5ERlMoZVtyXSx0LHIsZCkpOihkW2EudXRpbC5vYmpJZChlW3JdKV09ITAsYS5sYW5ndWFnZXMuREZTKGVbcl0sdCxudWxsLGQpKSl9fSxwbHVnaW5zOnt9LGhpZ2hsaWdodEFsbDpmdW5jdGlvbihlLHQpe3ZhciBuPXtjYWxsYmFjazp0LHNlbGVjdG9yOidjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0sIFtjbGFzcyo9Imxhbmd1YWdlLSJdIGNvZGUsIGNvZGVbY2xhc3MqPSJsYW5nLSJdLCBbY2xhc3MqPSJsYW5nLSJdIGNvZGUnfTthLmhvb2tzLnJ1bignYmVmb3JlLWhpZ2hsaWdodGFsbCcsbik7Zm9yKHZhciBkLHI9bi5lbGVtZW50c3x8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuLnNlbGVjdG9yKSxvPTA7ZD1yW28rK107KWEuaGlnaGxpZ2h0RWxlbWVudChkLCEwPT09ZSxuLmNhbGxiYWNrKX0saGlnaGxpZ2h0RWxlbWVudDpmdW5jdGlvbihuLGksZCl7Zm9yKHZhciByLG8sbD1uO2wmJiFlLnRlc3QobC5jbGFzc05hbWUpOylsPWwucGFyZW50Tm9kZTtsJiYocj0obC5jbGFzc05hbWUubWF0Y2goZSl8fFssJyddKVsxXS50b0xvd2VyQ2FzZSgpLG89YS5sYW5ndWFnZXNbcl0pLG4uY2xhc3NOYW1lPW4uY2xhc3NOYW1lLnJlcGxhY2UoZSwnJykucmVwbGFjZSgvXHMrL2csJyAnKSsnIGxhbmd1YWdlLScrcixsPW4ucGFyZW50Tm9kZSwvcHJlL2kudGVzdChsLm5vZGVOYW1lKSYmKGwuY2xhc3NOYW1lPWwuY2xhc3NOYW1lLnJlcGxhY2UoZSwnJykucmVwbGFjZSgvXHMrL2csJyAnKSsnIGxhbmd1YWdlLScrcik7dmFyIHM9bi50ZXh0Q29udGVudCxjPXtlbGVtZW50Om4sbGFuZ3VhZ2U6cixncmFtbWFyOm8sY29kZTpzfTtpZihhLmhvb2tzLnJ1bignYmVmb3JlLXNhbml0eS1jaGVjaycsYyksIWMuY29kZXx8IWMuZ3JhbW1hcilyZXR1cm4gYy5jb2RlJiYoYy5lbGVtZW50LnRleHRDb250ZW50PWMuY29kZSksdm9pZCBhLmhvb2tzLnJ1bignY29tcGxldGUnLGMpO2lmKGEuaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0JyxjKSxpJiZ0Lldvcmtlcil7dmFyIHU9bmV3IFdvcmtlcihhLmZpbGVuYW1lKTt1Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXtjLmhpZ2hsaWdodGVkQ29kZT1lLmRhdGEsYS5ob29rcy5ydW4oJ2JlZm9yZS1pbnNlcnQnLGMpLGMuZWxlbWVudC5pbm5lckhUTUw9Yy5oaWdobGlnaHRlZENvZGUsZCYmZC5jYWxsKGMuZWxlbWVudCksYS5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsYyksYS5ob29rcy5ydW4oJ2NvbXBsZXRlJyxjKX0sdS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7bGFuZ3VhZ2U6Yy5sYW5ndWFnZSxjb2RlOmMuY29kZSxpbW1lZGlhdGVDbG9zZTohMH0pKX1lbHNlIGMuaGlnaGxpZ2h0ZWRDb2RlPWEuaGlnaGxpZ2h0KGMuY29kZSxjLmdyYW1tYXIsYy5sYW5ndWFnZSksYS5ob29rcy5ydW4oJ2JlZm9yZS1pbnNlcnQnLGMpLGMuZWxlbWVudC5pbm5lckhUTUw9Yy5oaWdobGlnaHRlZENvZGUsZCYmZC5jYWxsKG4pLGEuaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLGMpLGEuaG9va3MucnVuKCdjb21wbGV0ZScsYyl9LGhpZ2hsaWdodDpmdW5jdGlvbihlLHQsbil7dmFyIGQ9YS50b2tlbml6ZShlLHQpO3JldHVybiBpLnN0cmluZ2lmeShhLnV0aWwuZW5jb2RlKGQpLG4pfSx0b2tlbml6ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWEuVG9rZW4sZD1bZV0scj10LnJlc3Q7aWYocil7Zm9yKHZhciBvIGluIHIpdFtvXT1yW29dO2RlbGV0ZSB0LnJlc3R9dG9rZW5sb29wOmZvcih2YXIgbyBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkobykmJnRbb10pe3ZhciBsPXRbb107bD0nQXJyYXknPT09YS51dGlsLnR5cGUobCk/bDpbbF07Zm9yKHZhciBzPTA7czxsLmxlbmd0aDsrK3Mpe3ZhciBjPWxbc10sdT1jLmluc2lkZSxnPSEhYy5sb29rYmVoaW5kLGY9ISFjLmdyZWVkeSxoPTAsYj1jLmFsaWFzO2lmKGYmJiFjLnBhdHRlcm4uZ2xvYmFsKXt2YXIgbT1jLnBhdHRlcm4udG9TdHJpbmcoKS5tYXRjaCgvW2ltdXldKiQvKVswXTtjLnBhdHRlcm49UmVnRXhwKGMucGF0dGVybi5zb3VyY2UsbSsnZycpfWM9Yy5wYXR0ZXJufHxjO2Zvcih2YXIgeSx4PTAsaT0wO3g8ZC5sZW5ndGg7aSs9ZFt4XS5sZW5ndGgsKyt4KXtpZih5PWRbeF0sZC5sZW5ndGg+ZS5sZW5ndGgpYnJlYWsgdG9rZW5sb29wO2lmKCEoeSBpbnN0YW5jZW9mIG4pKXtjLmxhc3RJbmRleD0wO3ZhciB2PWMuZXhlYyh5KSx3PTE7aWYoIXYmJmYmJnghPWQubGVuZ3RoLTEpe2lmKGMubGFzdEluZGV4PWksdj1jLmV4ZWMoZSksIXYpYnJlYWs7Zm9yKHZhciBTPXYuaW5kZXgrKGc/dlsxXS5sZW5ndGg6MCksQz12LmluZGV4K3ZbMF0ubGVuZ3RoLFQ9eCxrPWkscD1kLmxlbmd0aDtUPHAmJms8QzsrK1Qpays9ZFtUXS5sZW5ndGgsUz49ayYmKCsreCxpPWspO2lmKGRbeF1pbnN0YW5jZW9mIG58fGRbVC0xXS5ncmVlZHkpY29udGludWU7dz1ULXgseT1lLnNsaWNlKGksayksdi5pbmRleC09aX1pZih2KXtnJiYoaD12WzFdLmxlbmd0aCk7dmFyIFM9di5pbmRleCtoLHY9dlswXS5zbGljZShoKSxDPVMrdi5sZW5ndGgsXz15LnNsaWNlKDAsUyksTD15LnNsaWNlKEMpLEE9W3gsd107XyYmQS5wdXNoKF8pO3ZhciBFPW5ldyBuKG8sdT9hLnRva2VuaXplKHYsdSk6dixiLHYsZik7QS5wdXNoKEUpLEwmJkEucHVzaChMKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGQsQSl9fX19fXJldHVybiBkfSxob29rczp7YWxsOnt9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuPWEuaG9va3MuYWxsO25bZV09bltlXXx8W10sbltlXS5wdXNoKHQpfSxydW46ZnVuY3Rpb24oZSx0KXt2YXIgbj1hLmhvb2tzLmFsbFtlXTtpZihuJiZuLmxlbmd0aClmb3IodmFyIGQscj0wO2Q9bltyKytdOylkKHQpfX19LGk9YS5Ub2tlbj1mdW5jdGlvbihlLHQsbixpLGEpe3RoaXMudHlwZT1lLHRoaXMuY29udGVudD10LHRoaXMuYWxpYXM9bix0aGlzLmxlbmd0aD0wfChpfHwnJykubGVuZ3RoLHRoaXMuZ3JlZWR5PSEhYX07aWYoaS5zdHJpbmdpZnk9ZnVuY3Rpb24oZSx0LG4pe2lmKCdzdHJpbmcnPT10eXBlb2YgZSlyZXR1cm4gZTtpZignQXJyYXknPT09YS51dGlsLnR5cGUoZSkpcmV0dXJuIGUubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBpLnN0cmluZ2lmeShuLHQsZSl9KS5qb2luKCcnKTt2YXIgZD17dHlwZTplLnR5cGUsY29udGVudDppLnN0cmluZ2lmeShlLmNvbnRlbnQsdCxuKSx0YWc6J3NwYW4nLGNsYXNzZXM6Wyd0b2tlbicsZS50eXBlXSxhdHRyaWJ1dGVzOnt9LGxhbmd1YWdlOnQscGFyZW50Om59O2lmKCdjb21tZW50Jz09ZC50eXBlJiYoZC5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s9J3RydWUnKSxlLmFsaWFzKXt2YXIgcj0nQXJyYXknPT09YS51dGlsLnR5cGUoZS5hbGlhcyk/ZS5hbGlhczpbZS5hbGlhc107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZC5jbGFzc2VzLHIpfWEuaG9va3MucnVuKCd3cmFwJyxkKTt2YXIgbD1PYmplY3Qua2V5cyhkLmF0dHJpYnV0ZXMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSsnPSInKyhkLmF0dHJpYnV0ZXNbZV18fCcnKS5yZXBsYWNlKC8iL2csJyZxdW90OycpKyciJ30pLmpvaW4oJyAnKTtyZXR1cm4nPCcrZC50YWcrJyBjbGFzcz0iJytkLmNsYXNzZXMuam9pbignICcpKyciJysobD8nICcrbDonJykrJz4nK2QuY29udGVudCsnPC8nK2QudGFnKyc+J30sIXQuZG9jdW1lbnQpcmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcj8odC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxmdW5jdGlvbihlKXt2YXIgbj1KU09OLnBhcnNlKGUuZGF0YSksaT1uLmxhbmd1YWdlLGQ9bi5jb2RlLHI9bi5pbW1lZGlhdGVDbG9zZTt0LnBvc3RNZXNzYWdlKGEuaGlnaGxpZ2h0KGQsYS5sYW5ndWFnZXNbaV0saSkpLHImJnQuY2xvc2UoKX0sITEpLHQuUHJpc20pOnQuUHJpc207dmFyIGQ9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8W10uc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JykpLnBvcCgpO3JldHVybiBkJiYoYS5maWxlbmFtZT1kLnNyYyxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYhZC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWFudWFsJykmJignbG9hZGluZyc9PT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLGEuaGlnaGxpZ2h0QWxsKTp3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYS5oaWdobGlnaHRBbGwpOndpbmRvdy5zZXRUaW1lb3V0KGEuaGlnaGxpZ2h0QWxsLDE2KSkpLHQuUHJpc219KCk7ZS5leHBvcnRzJiYoZS5leHBvcnRzPW4pLCd1bmRlZmluZWQnIT10eXBlb2YgVGkmJihUaS5QcmlzbT1uKSxuLmxhbmd1YWdlcy5tYXJrdXA9e2NvbW1lbnQ6LzwhLS1bXHdcV10qPy0tPi8scHJvbG9nOi88XD9bXHdcV10rP1w/Pi8sZG9jdHlwZTovPCFET0NUWVBFW1x3XFddKz8+L2ksY2RhdGE6LzwhXFtDREFUQVxbW1x3XFddKj9dXT4vaSx0YWc6e3BhdHRlcm46LzxcLz8oPyFcZClbXlxzPlwvPSQ8XSsoPzpccytbXlxzPlwvPV0rKD86PSg/OigifCcpKD86XFxcMXxcXD8oPyFcMSlbXHdcV10pKlwxfFteXHMnIj49XSspKT8pKlxzKlwvPz4vaSxpbnNpZGU6e3RhZzp7cGF0dGVybjovXjxcLz9bXlxzPlwvXSsvaSxpbnNpZGU6e3B1bmN0dWF0aW9uOi9ePFwvPy8sbmFtZXNwYWNlOi9eW15ccz5cLzpdKzovfX0sImF0dHItdmFsdWUiOntwYXR0ZXJuOi89KD86KCd8IilbXHdcV10qPyhcMSl8W15ccz5dKykvaSxpbnNpZGU6e3B1bmN0dWF0aW9uOi9bPT4iJ10vfX0scHVuY3R1YXRpb246L1wvPz4vLCJhdHRyLW5hbWUiOntwYXR0ZXJuOi9bXlxzPlwvXSsvLGluc2lkZTp7bmFtZXNwYWNlOi9eW15ccz5cLzpdKzovfX19fSxlbnRpdHk6LyYjP1tcZGEtel17MSw4fTsvaX0sbi5ob29rcy5hZGQoJ3dyYXAnLGZ1bmN0aW9uKGUpeydlbnRpdHknPT09ZS50eXBlJiYoZS5hdHRyaWJ1dGVzLnRpdGxlPWUuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sJyYnKSl9KSxuLmxhbmd1YWdlcy54bWw9bi5sYW5ndWFnZXMubWFya3VwLG4ubGFuZ3VhZ2VzLmh0bWw9bi5sYW5ndWFnZXMubWFya3VwLG4ubGFuZ3VhZ2VzLm1hdGhtbD1uLmxhbmd1YWdlcy5tYXJrdXAsbi5sYW5ndWFnZXMuc3ZnPW4ubGFuZ3VhZ2VzLm1hcmt1cCxuLmxhbmd1YWdlcy5jc3M9e2NvbW1lbnQ6L1wvXCpbXHdcV10qP1wqXC8vLGF0cnVsZTp7cGF0dGVybjovQFtcdy1dKz8uKj8oO3woPz1ccypceykpL2ksaW5zaWRlOntydWxlOi9AW1x3LV0rL319LHVybDovdXJsXCgoPzooWyInXSkoXFwoPzpcclxufFtcd1xXXSl8KD8hXDEpW15cXFxyXG5dKSpcMXwuKj8pXCkvaSxzZWxlY3RvcjovW15ce1x9XHNdW15ce1x9O10qPyg/PVxzKlx7KS8sc3RyaW5nOntwYXR0ZXJuOi8oInwnKShcXCg/OlxyXG58W1x3XFddKXwoPyFcMSlbXlxcXHJcbl0pKlwxLyxncmVlZHk6ITB9LHByb3BlcnR5Oi8oXGJ8XEIpW1x3LV0rKD89XHMqOikvaSxpbXBvcnRhbnQ6L1xCIWltcG9ydGFudFxiL2ksZnVuY3Rpb246L1stYS16MC05XSsoPz1cKCkvaSxwdW5jdHVhdGlvbjovWygpe307Ol0vfSxuLmxhbmd1YWdlcy5jc3MuYXRydWxlLmluc2lkZS5yZXN0PW4udXRpbC5jbG9uZShuLmxhbmd1YWdlcy5jc3MpLG4ubGFuZ3VhZ2VzLm1hcmt1cCYmKG4ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnbWFya3VwJywndGFnJyx7c3R5bGU6e3BhdHRlcm46Lyg8c3R5bGVbXHdcV10qPz4pW1x3XFddKj8oPz08XC9zdHlsZT4pL2ksbG9va2JlaGluZDohMCxpbnNpZGU6bi5sYW5ndWFnZXMuY3NzLGFsaWFzOidsYW5ndWFnZS1jc3MnfX0pLG4ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywnYXR0ci12YWx1ZScseyJzdHlsZS1hdHRyIjp7cGF0dGVybjovXHMqc3R5bGU9KCJ8JykuKj9cMS9pLGluc2lkZTp7ImF0dHItbmFtZSI6e3BhdHRlcm46L15ccypzdHlsZS9pLGluc2lkZTpuLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZX0scHVuY3R1YXRpb246L15ccyo9XHMqWyciXXxbJyJdXHMqJC8sImF0dHItdmFsdWUiOntwYXR0ZXJuOi8uKy9pLGluc2lkZTpuLmxhbmd1YWdlcy5jc3N9fSxhbGlhczonbGFuZ3VhZ2UtY3NzJ319LG4ubGFuZ3VhZ2VzLm1hcmt1cC50YWcpKSxuLmxhbmd1YWdlcy5jbGlrZT17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxdKSMuKi8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhefFteXFxdKVwvXCpbXHdcV10qP1wqXC8vLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcOl0pXC9cLy4qLyxsb29rYmVoaW5kOiEwfV0sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoXFwoPzpcclxufFtcc1xTXSl8KD8hXDEpW15cXFxyXG5dKSpcMS8sZ3JlZWR5OiEwfSwiY2xhc3MtbmFtZSI6e3BhdHRlcm46LygoPzpcYig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8dHJhaXR8aW5zdGFuY2VvZnxuZXcpXHMrKXwoPzpjYXRjaFxzK1woKSlbYS16MC05X1wuXFxdKy9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovKFwufFxcKS99fSxrZXl3b3JkOi9cYihpZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcYi8sYm9vbGVhbjovXGIodHJ1ZXxmYWxzZSlcYi8sZnVuY3Rpb246L1thLXpcLjAtOV9dKyg/PVwoKS9pLG51bWJlcjovXGItPyg/OjB4W1xkYS1mXSt8XGQqXC4/XGQrKD86ZVsrLV0/XGQrKT8pXGIvaSxvcGVyYXRvcjovLS0/fFwrXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFx8XHw/fFw/fFwqfFwvfH58XF58JS8scHVuY3R1YXRpb246L1t7fVtcXTsoKSwuOl0vfSxuLmxhbmd1YWdlcy5qYXZhc2NyaXB0PW4ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLHtrZXl3b3JkOi9cYihhc3xhc3luY3xhd2FpdHxicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5fGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxiLyxudW1iZXI6L1xiLT8oMHhbXGRBLUZhLWZdK3wwYlswMV0rfDBvWzAtN10rfFxkKlwuP1xkKyhbRWVdWystXT9cZCspP3xOYU58SW5maW5pdHkpXGIvLGZ1bmN0aW9uOi9bXyRhLXpBLVpceEEwLVx1RkZGRl1bXyRhLXpBLVowLTlceEEwLVx1RkZGRl0qKD89XCgpL2ksb3BlcmF0b3I6Ly0tP3xcK1wrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcfFx8P3xcP3xcKlwqP3xcL3x+fFxefCV8XC57M30vfSksbi5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdqYXZhc2NyaXB0Jywna2V5d29yZCcse3JlZ2V4OntwYXR0ZXJuOi8oXnxbXi9dKVwvKD8hXC8pKFxbLis/XXxcXC58W14vXFxcclxuXSkrXC9bZ2lteXVdezAsNX0oPz1ccyooJHxbXHJcbiwuO30pXSkpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH19KSxuLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCdzdHJpbmcnLHsidGVtcGxhdGUtc3RyaW5nIjp7cGF0dGVybjovYCg/OlxcXFx8XFw/W15cXF0pKj9gLyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOi9cJFx7W159XStcfS8saW5zaWRlOnsiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiI6e3BhdHRlcm46L15cJFx7fFx9JC8sYWxpYXM6J3B1bmN0dWF0aW9uJ30scmVzdDpuLmxhbmd1YWdlcy5qYXZhc2NyaXB0fX0sc3RyaW5nOi9bXHNcU10rL319fSksbi5sYW5ndWFnZXMubWFya3VwJiZuLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsJ3RhZycse3NjcmlwdDp7cGF0dGVybjovKDxzY3JpcHRbXHdcV10qPz4pW1x3XFddKj8oPz08XC9zY3JpcHQ+KS9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOm4ubGFuZ3VhZ2VzLmphdmFzY3JpcHQsYWxpYXM6J2xhbmd1YWdlLWphdmFzY3JpcHQnfX0pLG4ubGFuZ3VhZ2VzLmpzPW4ubGFuZ3VhZ2VzLmphdmFzY3JpcHQsZnVuY3Rpb24oKXsndW5kZWZpbmVkJyE9dHlwZW9mIHNlbGYmJnNlbGYuUHJpc20mJnNlbGYuZG9jdW1lbnQmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3ImJihzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQ9ZnVuY3Rpb24oKXt2YXIgZT17anM6J2phdmFzY3JpcHQnLHB5OidweXRob24nLHJiOidydWJ5JyxwczE6J3Bvd2Vyc2hlbGwnLHBzbTE6J3Bvd2Vyc2hlbGwnLHNoOidiYXNoJyxiYXQ6J2JhdGNoJyxoOidjJyx0ZXg6J2xhdGV4J307QXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ByZVtkYXRhLXNyY10nKSkuZm9yRWFjaChmdW5jdGlvbih0KXtmb3IodmFyIGksYT10LmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSxkPXQscj0vXGJsYW5nKD86dWFnZSk/LSg/IVwqKShcdyspXGIvaTtkJiYhci50ZXN0KGQuY2xhc3NOYW1lKTspZD1kLnBhcmVudE5vZGU7aWYoZCYmKGk9KHQuY2xhc3NOYW1lLm1hdGNoKHIpfHxbLCcnXSlbMV0pLCFpKXt2YXIgbz0oYS5tYXRjaCgvXC4oXHcrKSQvKXx8WywnJ10pWzFdO2k9ZVtvXXx8b312YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7bC5jbGFzc05hbWU9J2xhbmd1YWdlLScraSx0LnRleHRDb250ZW50PScnLGwudGV4dENvbnRlbnQ9J0xvYWRpbmdcdTIwMjYnLHQuYXBwZW5kQ2hpbGQobCk7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbignR0VUJyxhLCEwKSxzLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PXMucmVhZHlTdGF0ZSYmKDQwMD5zLnN0YXR1cyYmcy5yZXNwb25zZVRleHQ/KGwudGV4dENvbnRlbnQ9cy5yZXNwb25zZVRleHQsbi5oaWdobGlnaHRFbGVtZW50KGwpKTo0MDA8PXMuc3RhdHVzP2wudGV4dENvbnRlbnQ9J1x1MjcxNiBFcnJvciAnK3Muc3RhdHVzKycgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJytzLnN0YXR1c1RleHQ6bC50ZXh0Q29udGVudD0nXHUyNzE2IEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jyl9LHMuc2VuZChudWxsKX0pfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJyxzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQpKX0oKX0pO1ByaXNtLmxhbmd1YWdlcy5weXRob249eyJ0cmlwbGUtcXVvdGVkLXN0cmluZyI6e3BhdHRlcm46LyIiIltcc1xTXSs/IiIifCcnJ1tcc1xTXSs/JycnLyxhbGlhczonc3RyaW5nJ30sY29tbWVudDp7cGF0dGVybjovKF58W15cXF0pIy4qLyxsb29rYmVoaW5kOiEwfSxzdHJpbmc6e3BhdHRlcm46LygifCcpKD86XFxcXHxcXD9bXlxcXHJcbl0pKj9cMS8sZ3JlZWR5OiEwfSxmdW5jdGlvbjp7cGF0dGVybjovKCg/Ol58XHMpZGVmWyBcdF0rKVthLXpBLVpfXVthLXpBLVowLTlfXSooPz1cKCkvZyxsb29rYmVoaW5kOiEwfSwiY2xhc3MtbmFtZSI6e3BhdHRlcm46LyhcYmNsYXNzXHMrKVthLXowLTlfXSsvaSxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOi9cYig/OmFzfGFzc2VydHxhc3luY3xhd2FpdHxicmVha3xjbGFzc3xjb250aW51ZXxkZWZ8ZGVsfGVsaWZ8ZWxzZXxleGNlcHR8ZXhlY3xmaW5hbGx5fGZvcnxmcm9tfGdsb2JhbHxpZnxpbXBvcnR8aW58aXN8bGFtYmRhfHBhc3N8cHJpbnR8cmFpc2V8cmV0dXJufHRyeXx3aGlsZXx3aXRofHlpZWxkKVxiLyxib29sZWFuOi9cYig/OlRydWV8RmFsc2UpXGIvLG51bWJlcjovXGItPyg/OjBbYm9dKT8oPzooPzpcZHwweFtcZGEtZl0pW1xkYS1mXSpcLj9cZCp8XC5cZCspKD86ZVsrLV0/XGQrKT9qP1xiL2ksb3BlcmF0b3I6L1stKyU9XT0/fCE9fFwqXCo/PT98XC9cLz89P3w8Wzw9Pl0/fD5bPT5dP3xbJnxefl18XGIoPzpvcnxhbmR8bm90KVxiLyxwdW5jdHVhdGlvbjovW3t9W1xdOygpLC46XS99LFByaXNtLmxhbmd1YWdlcy5jbGlrZT17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxdKSMuKi8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhefFteXFxdKVwvXCpbXHdcV10qP1wqXC8vLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcOl0pXC9cLy4qLyxsb29rYmVoaW5kOiEwfV0sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoXFwoPzpcclxufFtcc1xTXSl8KD8hXDEpW15cXFxyXG5dKSpcMS8sZ3JlZWR5OiEwfSwiY2xhc3MtbmFtZSI6e3BhdHRlcm46LygoPzpcYig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8dHJhaXR8aW5zdGFuY2VvZnxuZXcpXHMrKXwoPzpjYXRjaFxzK1woKSlbYS16MC05X1wuXFxdKy9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovKFwufFxcKS99fSxrZXl3b3JkOi9cYihpZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcYi8sYm9vbGVhbjovXGIodHJ1ZXxmYWxzZSlcYi8sZnVuY3Rpb246L1thLXpcLjAtOV9dKyg/PVwoKS9pLG51bWJlcjovXGItPyg/OjB4W1xkYS1mXSt8XGQqXC4/XGQrKD86ZVsrLV0/XGQrKT8pXGIvaSxvcGVyYXRvcjovLS0/fFwrXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFx8XHw/fFw/fFwqfFwvfH58XF58JS8scHVuY3R1YXRpb246L1t7fVtcXTsoKSwuOl0vfSxQcmlzbS5sYW5ndWFnZXMubHVhPXtjb21tZW50Oi9eIyEuK3wtLSg/OlxbKD0qKVxbW1xzXFNdKj9cXVwxXF18LiopL20sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoPzooPyFcMSlbXlxcXHJcbl18XFx6KD86XHJcbnxccyl8XFwoPzpcclxufFtcc1xTXSkpKlwxfFxbKD0qKVxbW1xzXFNdKj9cXVwyXF0vLGdyZWVkeTohMH0sbnVtYmVyOi9cYjB4W2EtZlxkXStcLj9bYS1mXGRdKig/OnBbKy1dP1xkKyk/XGJ8XGJcZCsoPzpcLlxCfFwuP1xkKig/OmVbKy1dP1xkKyk/XGIpfFxCXC5cZCsoPzplWystXT9cZCspP1xiL2ksa2V5d29yZDovXGIoPzphbmR8YnJlYWt8ZG98ZWxzZXxlbHNlaWZ8ZW5kfGZhbHNlfGZvcnxmdW5jdGlvbnxnb3RvfGlmfGlufGxvY2FsfG5pbHxub3R8b3J8cmVwZWF0fHJldHVybnx0aGVufHRydWV8dW50aWx8d2hpbGUpXGIvLGZ1bmN0aW9uOi8oPyFcZClcdysoPz1ccyooPzpbKHtdKSkvLG9wZXJhdG9yOlsvWy0rKiVeJnwjXXxcL1wvP3w8Wzw9XT98Pls+PV0/fFs9fl09Py8se3BhdHRlcm46LyhefFteLl0pXC5cLig/IVwuKS8sbG9va2JlaGluZDohMH1dLHB1bmN0dWF0aW9uOi9bXFtcXSgpe30sO118XC4rfDorL30sZnVuY3Rpb24oZSl7dmFyIHQ9e3ZhcmlhYmxlOlt7cGF0dGVybjovXCQ/XChcKFtcd1xXXSs/XClcKS8saW5zaWRlOnt2YXJpYWJsZTpbe3BhdHRlcm46LyheXCRcKFwoW1x3XFddKylcKVwpLyxsb29rYmVoaW5kOiEwfSwvXlwkXChcKC9dLG51bWJlcjovXGItPyg/OjB4W1xkQS1GYS1mXSt8XGQqXC4/XGQrKD86W0VlXS0/XGQrKT8pXGIvLG9wZXJhdG9yOi8tLT98LT18XCtcKz98XCs9fCE9P3x+fFwqXCo/fFwqPXxcLz0/fCU9P3w8PD0/fD4+PT98PD0/fD49P3w9PT98JiY/fCY9fFxePT98XHxcfD98XHw9fFw/fDovLHB1bmN0dWF0aW9uOi9cKFwoP3xcKVwpP3wsfDsvfX0se3BhdHRlcm46L1wkXChbXildK1wpfGBbXmBdK2AvLGluc2lkZTp7dmFyaWFibGU6L15cJFwofF5gfFwpJHxgJC99fSwvXCQoPzpbYS16MC05XyNcP1wqIUBdK3xce1tefV0rXH0pL2ldfTtlLmxhbmd1YWdlcy5iYXNoPXtzaGViYW5nOntwYXR0ZXJuOi9eIyFccypcL2JpblwvYmFzaHxeIyFccypcL2Jpblwvc2gvLGFsaWFzOidpbXBvcnRhbnQnfSxjb21tZW50OntwYXR0ZXJuOi8oXnxbXiJ7XFxdKSMuKi8sbG9va2JlaGluZDohMH0sc3RyaW5nOlt7cGF0dGVybjovKCg/Ol58W148XSk8PFxzKikoPzoifCcpPyhcdys/KSg/OiJ8Jyk/XHMqXHI/XG4oPzpbXHNcU10pKj9ccj9cblwyL2csbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOnR9LHtwYXR0ZXJuOi8oWyInXSkoPzpcXFxcfFxcP1teXFxdKSo/XDEvZyxncmVlZHk6ITAsaW5zaWRlOnR9XSx2YXJpYWJsZTp0LnZhcmlhYmxlLGZ1bmN0aW9uOntwYXR0ZXJuOi8oXnxcc3w7fFx8fCYpKD86YWxpYXN8YXByb3Bvc3xhcHQtZ2V0fGFwdGl0dWRlfGFzcGVsbHxhd2t8YmFzZW5hbWV8YmFzaHxiY3xiZ3xidWlsdGlufGJ6aXAyfGNhbHxjYXR8Y2R8Y2ZkaXNrfGNoZ3JwfGNobW9kfGNob3dufGNocm9vdHxjaGtjb25maWd8Y2tzdW18Y2xlYXJ8Y21wfGNvbW18Y29tbWFuZHxjcHxjcm9ufGNyb250YWJ8Y3NwbGl0fGN1dHxkYXRlfGRjfGRkfGRkcmVzY3VlfGRmfGRpZmZ8ZGlmZjN8ZGlnfGRpcnxkaXJjb2xvcnN8ZGlybmFtZXxkaXJzfGRtZXNnfGR1fGVncmVwfGVqZWN0fGVuYWJsZXxlbnZ8ZXRodG9vbHxldmFsfGV4ZWN8ZXhwYW5kfGV4cGVjdHxleHBvcnR8ZXhwcnxmZGZvcm1hdHxmZGlza3xmZ3xmZ3JlcHxmaWxlfGZpbmR8Zm10fGZvbGR8Zm9ybWF0fGZyZWV8ZnNja3xmdHB8ZnVzZXJ8Z2F3a3xnZXRvcHRzfGdpdHxncmVwfGdyb3VwYWRkfGdyb3VwZGVsfGdyb3VwbW9kfGdyb3Vwc3xnemlwfGhhc2h8aGVhZHxoZWxwfGhnfGhpc3Rvcnl8aG9zdG5hbWV8aHRvcHxpY29udnxpZHxpZmNvbmZpZ3xpZmRvd258aWZ1cHxpbXBvcnR8aW5zdGFsbHxqb2JzfGpvaW58a2lsbHxraWxsYWxsfGxlc3N8bGlua3xsbnxsb2NhdGV8bG9nbmFtZXxsb2dvdXR8bG9va3xscGN8bHByfGxwcmludHxscHJpbnRkfGxwcmludHF8bHBybXxsc3xsc29mfG1ha2V8bWFufG1rZGlyfG1rZmlmb3xta2lzb2ZzfG1rbm9kfG1vcmV8bW9zdHxtb3VudHxtdG9vbHN8bXRyfG12fG1tdnxuYW5vfG5ldHN0YXR8bmljZXxubHxub2h1cHxub3RpZnktc2VuZHxucG18bnNsb29rdXB8b3BlbnxvcHxwYXNzd2R8cGFzdGV8cGF0aGNoa3xwaW5nfHBraWxsfHBvcGR8cHJ8cHJpbnRjYXB8cHJpbnRlbnZ8cHJpbnRmfHBzfHB1c2hkfHB2fHB3ZHxxdW90YXxxdW90YWNoZWNrfHF1b3RhY3RsfHJhbXxyYXJ8cmNwfHJlYWR8cmVhZGFycmF5fHJlYWRvbmx5fHJlYm9vdHxyZW5hbWV8cmVuaWNlfHJlbXN5bmN8cmV2fHJtfHJtZGlyfHJzeW5jfHNjcmVlbnxzY3B8c2RpZmZ8c2VkfHNlcXxzZXJ2aWNlfHNmdHB8c2hpZnR8c2hvcHR8c2h1dGRvd258c2xlZXB8c2xvY2F0ZXxzb3J0fHNvdXJjZXxzcGxpdHxzc2h8c3RhdHxzdHJhY2V8c3V8c3Vkb3xzdW18c3VzcGVuZHxzeW5jfHRhaWx8dGFyfHRlZXx0ZXN0fHRpbWV8dGltZW91dHx0aW1lc3x0b3VjaHx0b3B8dHJhY2Vyb3V0ZXx0cmFwfHRyfHRzb3J0fHR0eXx0eXBlfHVsaW1pdHx1bWFza3x1bW91bnR8dW5hbGlhc3x1bmFtZXx1bmV4cGFuZHx1bmlxfHVuaXRzfHVucmFyfHVuc2hhcnx1cHRpbWV8dXNlcmFkZHx1c2VyZGVsfHVzZXJtb2R8dXNlcnN8dXVlbmNvZGV8dXVkZWNvZGV8dnx2ZGlyfHZpfHZtc3RhdHx3YWl0fHdhdGNofHdjfHdnZXR8d2hlcmVpc3x3aGljaHx3aG98d2hvYW1pfHdyaXRlfHhhcmdzfHhkZy1vcGVufHllc3x6aXApKD89JHxcc3w7fFx8fCYpLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxcc3w7fFx8fCYpKD86bGV0fDp8XC58aWZ8dGhlbnxlbHNlfGVsaWZ8Zml8Zm9yfGJyZWFrfGNvbnRpbnVlfHdoaWxlfGlufGNhc2V8ZnVuY3Rpb258c2VsZWN0fGRvfGRvbmV8dW50aWx8ZWNob3xleGl0fHJldHVybnxzZXR8ZGVjbGFyZSkoPz0kfFxzfDt8XHx8JikvLGxvb2tiZWhpbmQ6ITB9LGJvb2xlYW46e3BhdHRlcm46LyhefFxzfDt8XHx8JikoPzp0cnVlfGZhbHNlKSg/PSR8XHN8O3xcfHwmKS8sbG9va2JlaGluZDohMH0sb3BlcmF0b3I6LyYmP3xcfFx8P3w9PT98IT0/fDw8PD98Pj58PD0/fD49P3w9fi8scHVuY3R1YXRpb246L1wkP1woXCg/fFwpXCk/fFwuXC58W3t9W1xdO10vfTt2YXIgbj10LnZhcmlhYmxlWzFdLmluc2lkZTtuWydmdW5jdGlvbiddPWUubGFuZ3VhZ2VzLmJhc2hbJ2Z1bmN0aW9uJ10sbi5rZXl3b3JkPWUubGFuZ3VhZ2VzLmJhc2gua2V5d29yZCxuLmJvb2xlYW49ZS5sYW5ndWFnZXMuYmFzaC5ib29sZWFuLG4ub3BlcmF0b3I9ZS5sYW5ndWFnZXMuYmFzaC5vcGVyYXRvcixuLnB1bmN0dWF0aW9uPWUubGFuZ3VhZ2VzLmJhc2gucHVuY3R1YXRpb259KFByaXNtKSxQcmlzbS5sYW5ndWFnZXMuZ289UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLHtrZXl3b3JkOi9cYihicmVha3xjYXNlfGNoYW58Y29uc3R8Y29udGludWV8ZGVmYXVsdHxkZWZlcnxlbHNlfGZhbGx0aHJvdWdofGZvcnxmdW5jfGdvKHRvKT98aWZ8aW1wb3J0fGludGVyZmFjZXxtYXB8cGFja2FnZXxyYW5nZXxyZXR1cm58c2VsZWN0fHN0cnVjdHxzd2l0Y2h8dHlwZXx2YXIpXGIvLGJ1aWx0aW46L1xiKGJvb2x8Ynl0ZXxjb21wbGV4KDY0fDEyOCl8ZXJyb3J8ZmxvYXQoMzJ8NjQpfHJ1bmV8c3RyaW5nfHU/aW50KDh8MTZ8MzJ8NjR8KXx1aW50cHRyfGFwcGVuZHxjYXB8Y2xvc2V8Y29tcGxleHxjb3B5fGRlbGV0ZXxpbWFnfGxlbnxtYWtlfG5ld3xwYW5pY3xwcmludChsbik/fHJlYWx8cmVjb3ZlcilcYi8sYm9vbGVhbjovXGIoX3xpb3RhfG5pbHx0cnVlfGZhbHNlKVxiLyxvcGVyYXRvcjovWypcLyVeIT1dPT98XCtbPStdP3wtWz0tXT98XHxbPXxdP3wmKD86PXwmfFxePT8pP3w+KD86Pj0/fD0pP3w8KD86PD0/fD18LSk/fDo9fFwuXC5cLi8sbnVtYmVyOi9cYigtPygweFthLWZcZF0rfChcZCtcLj9cZCp8XC5cZCspKGVbLStdP1xkKyk/KWk/KVxiL2ksc3RyaW5nOi8oInwnfGApKFxcPy58XHJ8XG4pKj9cMS99KSxkZWxldGUgUHJpc20ubGFuZ3VhZ2VzLmdvWydjbGFzcy1uYW1lJ10sUHJpc20ubGFuZ3VhZ2VzLm1hcmtkb3duPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoJ21hcmt1cCcse30pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmtkb3duJywncHJvbG9nJyx7YmxvY2txdW90ZTp7cGF0dGVybjovXj4oPzpbXHQgXSo+KSovbSxhbGlhczoncHVuY3R1YXRpb24nfSxjb2RlOlt7cGF0dGVybjovXig/OiB7NH18XHQpLisvbSxhbGlhczona2V5d29yZCd9LHtwYXR0ZXJuOi9gYC4rP2BgfGBbXmBcbl0rYC8sYWxpYXM6J2tleXdvcmQnfV0sdGl0bGU6W3twYXR0ZXJuOi9cdysuKig/OlxyP1xufFxyKSg/Oj09K3wtLSspLyxhbGlhczonaW1wb3J0YW50JyxpbnNpZGU6e3B1bmN0dWF0aW9uOi89PSskfC0tKyQvfX0se3BhdHRlcm46LyheXHMqKSMrLisvbSxsb29rYmVoaW5kOiEwLGFsaWFzOidpbXBvcnRhbnQnLGluc2lkZTp7cHVuY3R1YXRpb246L14jK3wjKyQvfX1dLGhyOntwYXR0ZXJuOi8oXlxzKikoWyotXSkoW1x0IF0qXDIpezIsfSg/PVxzKiQpL20sbG9va2JlaGluZDohMCxhbGlhczoncHVuY3R1YXRpb24nfSxsaXN0OntwYXR0ZXJuOi8oXlxzKikoPzpbKistXXxcZCtcLikoPz1bXHQgXS4pL20sbG9va2JlaGluZDohMCxhbGlhczoncHVuY3R1YXRpb24nfSwidXJsLXJlZmVyZW5jZSI6e3BhdHRlcm46LyE/XFtbXlxdXStcXTpbXHQgXSsoPzpcUyt8PCg/OlxcLnxbXj5cXF0pKz4pKD86W1x0IF0rKD86Iig/OlxcLnxbXiJcXF0pKiJ8Jyg/OlxcLnxbXidcXF0pKid8XCgoPzpcXC58W14pXFxdKSpcKSkpPy8saW5zaWRlOnt2YXJpYWJsZTp7cGF0dGVybjovXighP1xbKVteXF1dKy8sbG9va2JlaGluZDohMH0sc3RyaW5nOi8oPzoiKD86XFwufFteIlxcXSkqInwnKD86XFwufFteJ1xcXSkqJ3xcKCg/OlxcLnxbXilcXF0pKlwpKSQvLHB1bmN0dWF0aW9uOi9eW1xbXF0hOl18Wzw+XS99LGFsaWFzOid1cmwnfSxib2xkOntwYXR0ZXJuOi8oXnxbXlxcXSkoXCpcKnxfXykoPzooPzpccj9cbnxccikoPyFccj9cbnxccil8LikrP1wyLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L15cKlwqfF5fX3xcKlwqJHxfXyQvfX0saXRhbGljOntwYXR0ZXJuOi8oXnxbXlxcXSkoWypfXSkoPzooPzpccj9cbnxccikoPyFccj9cbnxccil8LikrP1wyLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L15bKl9dfFsqX10kL319LHVybDp7cGF0dGVybjovIT9cW1teXF1dK1xdKD86XChbXlxzKV0rKD86W1x0IF0rIig/OlxcLnxbXiJcXF0pKiIpP1wpfCA/XFtbXlxdXG5dKlxdKS8saW5zaWRlOnt2YXJpYWJsZTp7cGF0dGVybjovKCE/XFspW15cXV0rKD89XF0kKS8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8iKD86XFwufFteIlxcXSkqIig/PVwpJCkvfX19fSksUHJpc20ubGFuZ3VhZ2VzLm1hcmtkb3duLmJvbGQuaW5zaWRlLnVybD1QcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi51cmwpLFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi5pdGFsaWMuaW5zaWRlLnVybD1QcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi51cmwpLFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi5ib2xkLmluc2lkZS5pdGFsaWM9UHJpc20udXRpbC5jbG9uZShQcmlzbS5sYW5ndWFnZXMubWFya2Rvd24uaXRhbGljKSxQcmlzbS5sYW5ndWFnZXMubWFya2Rvd24uaXRhbGljLmluc2lkZS5ib2xkPVByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLm1hcmtkb3duLmJvbGQpLFByaXNtLmxhbmd1YWdlcy5qdWxpYT17Y29tbWVudDp7cGF0dGVybjovKF58W15cXF0pIy4qLyxsb29rYmVoaW5kOiEwfSxzdHJpbmc6LyIiIltcc1xTXSs/IiIifCcnJ1tcc1xTXSs/JycnfCgifCcpKFxcPy4pKj9cMS8sa2V5d29yZDovXGIoYWJzdHJhY3R8YmFyZW1vZHVsZXxiZWdpbnxiaXRzdHlwZXxicmVha3xjYXRjaHxjY2FsbHxjb25zdHxjb250aW51ZXxkb3xlbHNlfGVsc2VpZnxlbmR8ZXhwb3J0fGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufGdsb2JhbHxpZnxpbW11dGFibGV8aW1wb3J0fGltcG9ydGFsbHxsZXR8bG9jYWx8bWFjcm98bW9kdWxlfHByaW50fHByaW50bG58cXVvdGV8cmV0dXJufHRyeXx0eXBlfHR5cGVhbGlhc3x1c2luZ3x3aGlsZSlcYi8sYm9vbGVhbjovXGIodHJ1ZXxmYWxzZSlcYi8sbnVtYmVyOi9cYi0/KDBbYm94XSk/KD86W1xkYS1mXStcLj9cZCp8XC5cZCspKD86W2VmcF1bKy1dP1xkKyk/aj9cYi9pLG9wZXJhdG9yOi9cKz0/fC09P3xcKj0/fFwvW1wvPV0/fFxcPT98XF49P3wlPT98w7c9P3whPT89P3wmPT98XHxbPT5dP3xcJD0/fDwoPzo8PT98Wz06XSk/fD4oPzo9fD4+Pz0/KT98PT0/PT98W37iiaDiiaTiiaVdLyxwdW5jdHVhdGlvbjovW3t9W1xdOygpLC46XS99O2NvbnN0IElpPXRpKCdkLWNvZGUnLGAKPHN0eWxlPgoKY29kZSB7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDQpOwogIGJvcmRlci1yYWRpdXM6IDJweDsKICBwYWRkaW5nOiA0cHggN3B4OwogIGZvbnQtc2l6ZTogMTVweDsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpOwp9CgpwcmUgY29kZSB7CiAgZGlzcGxheTogYmxvY2s7CiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCByZ2JhKDAsIDAsIDAsIC4xKTsKICBwYWRkaW5nOiAwIDAgMCAzNnB4Owp9CgokeycvKipcbiAqIHByaXNtLmpzIGRlZmF1bHQgdGhlbWUgZm9yIEphdmFTY3JpcHQsIENTUyBhbmQgSFRNTFxuICogQmFzZWQgb24gZGFiYmxldCAoaHR0cDovL2RhYmJsZXQuY29tKVxuICogQGF1dGhvciBMZWEgVmVyb3VcbiAqL1xuXG5jb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0sXG5wcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7XG5cdGNvbG9yOiBibGFjaztcblx0YmFja2dyb3VuZDogbm9uZTtcblx0dGV4dC1zaGFkb3c6IDAgMXB4IHdoaXRlO1xuXHRmb250LWZhbWlseTogQ29uc29sYXMsIE1vbmFjbywgXCdBbmRhbGUgTW9ub1wnLCBcJ1VidW50dSBNb25vXCcsIG1vbm9zcGFjZTtcblx0dGV4dC1hbGlnbjogbGVmdDtcblx0d2hpdGUtc3BhY2U6IHByZTtcblx0d29yZC1zcGFjaW5nOiBub3JtYWw7XG5cdHdvcmQtYnJlYWs6IG5vcm1hbDtcblx0d29yZC13cmFwOiBub3JtYWw7XG5cdGxpbmUtaGVpZ2h0OiAxLjU7XG5cblx0LW1vei10YWItc2l6ZTogNDtcblx0LW8tdGFiLXNpemU6IDQ7XG5cdHRhYi1zaXplOiA0O1xuXG5cdC13ZWJraXQtaHlwaGVuczogbm9uZTtcblx0LW1vei1oeXBoZW5zOiBub25lO1xuXHQtbXMtaHlwaGVuczogbm9uZTtcblx0aHlwaGVuczogbm9uZTtcbn1cblxucHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl06Oi1tb3otc2VsZWN0aW9uLCBwcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSA6Oi1tb3otc2VsZWN0aW9uLFxuY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdOjotbW96LXNlbGVjdGlvbiwgY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdIDo6LW1vei1zZWxlY3Rpb24ge1xuXHR0ZXh0LXNoYWRvdzogbm9uZTtcblx0YmFja2dyb3VuZDogI2IzZDRmYztcbn1cblxucHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl06OnNlbGVjdGlvbiwgcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gOjpzZWxlY3Rpb24sXG5jb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl06OnNlbGVjdGlvbiwgY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdIDo6c2VsZWN0aW9uIHtcblx0dGV4dC1zaGFkb3c6IG5vbmU7XG5cdGJhY2tncm91bmQ6ICNiM2Q0ZmM7XG59XG5cbkBtZWRpYSBwcmludCB7XG5cdGNvZGVbY2xhc3MqPSJsYW5ndWFnZS0iXSxcblx0cHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0ge1xuXHRcdHRleHQtc2hhZG93OiBub25lO1xuXHR9XG59XG5cbi8qIENvZGUgYmxvY2tzICovXG5wcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7XG5cdHBhZGRpbmc6IDFlbTtcblx0bWFyZ2luOiAuNWVtIDA7XG5cdG92ZXJmbG93OiBhdXRvO1xufVxuXG46bm90KHByZSkgPiBjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0sXG5wcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7XG5cdGJhY2tncm91bmQ6ICNmNWYyZjA7XG59XG5cbi8qIElubGluZSBjb2RlICovXG46bm90KHByZSkgPiBjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0ge1xuXHRwYWRkaW5nOiAuMWVtO1xuXHRib3JkZXItcmFkaXVzOiAuM2VtO1xuXHR3aGl0ZS1zcGFjZTogbm9ybWFsO1xufVxuXG4udG9rZW4uY29tbWVudCxcbi50b2tlbi5wcm9sb2csXG4udG9rZW4uZG9jdHlwZSxcbi50b2tlbi5jZGF0YSB7XG5cdGNvbG9yOiBzbGF0ZWdyYXk7XG59XG5cbi50b2tlbi5wdW5jdHVhdGlvbiB7XG5cdGNvbG9yOiAjOTk5O1xufVxuXG4ubmFtZXNwYWNlIHtcblx0b3BhY2l0eTogLjc7XG59XG5cbi50b2tlbi5wcm9wZXJ0eSxcbi50b2tlbi50YWcsXG4udG9rZW4uYm9vbGVhbixcbi50b2tlbi5udW1iZXIsXG4udG9rZW4uY29uc3RhbnQsXG4udG9rZW4uc3ltYm9sLFxuLnRva2VuLmRlbGV0ZWQge1xuXHRjb2xvcjogIzkwNTtcbn1cblxuLnRva2VuLnNlbGVjdG9yLFxuLnRva2VuLmF0dHItbmFtZSxcbi50b2tlbi5zdHJpbmcsXG4udG9rZW4uY2hhcixcbi50b2tlbi5idWlsdGluLFxuLnRva2VuLmluc2VydGVkIHtcblx0Y29sb3I6ICM2OTA7XG59XG5cbi50b2tlbi5vcGVyYXRvcixcbi50b2tlbi5lbnRpdHksXG4udG9rZW4udXJsLFxuLmxhbmd1YWdlLWNzcyAudG9rZW4uc3RyaW5nLFxuLnN0eWxlIC50b2tlbi5zdHJpbmcge1xuXHRjb2xvcjogI2E2N2Y1OTtcblx0YmFja2dyb3VuZDogaHNsYSgwLCAwJSwgMTAwJSwgLjUpO1xufVxuXG4udG9rZW4uYXRydWxlLFxuLnRva2VuLmF0dHItdmFsdWUsXG4udG9rZW4ua2V5d29yZCB7XG5cdGNvbG9yOiAjMDdhO1xufVxuXG4udG9rZW4uZnVuY3Rpb24ge1xuXHRjb2xvcjogI0RENEE2ODtcbn1cblxuLnRva2VuLnJlZ2V4LFxuLnRva2VuLmltcG9ydGFudCxcbi50b2tlbi52YXJpYWJsZSB7XG5cdGNvbG9yOiAjZTkwO1xufVxuXG4udG9rZW4uaW1wb3J0YW50LFxuLnRva2VuLmJvbGQge1xuXHRmb250LXdlaWdodDogYm9sZDtcbn1cbi50b2tlbi5pdGFsaWMge1xuXHRmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbi50b2tlbi5lbnRpdHkge1xuXHRjdXJzb3I6IGhlbHA7XG59XG4nfQo8L3N0eWxlPgoKPGNvZGUgaWQ9ImNvZGUtY29udGFpbmVyIj48L2NvZGU+CgpgKTtjbGFzcyBOaSBleHRlbmRzIGVpKElpKEhUTUxFbGVtZW50KSl7cmVuZGVyQ29udGVudCgpe2lmKHRoaXMubGFuZ3VhZ2VOYW1lPXRoaXMuZ2V0QXR0cmlidXRlKCdsYW5ndWFnZScpLCF0aGlzLmxhbmd1YWdlTmFtZSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oJ1lvdSBuZWVkIHRvIHByb3ZpZGUgYSBsYW5ndWFnZSBhdHRyaWJ1dGUgdG8geW91ciA8ZC1jb2RlPiBibG9jayB0byBsZXQgdXMga25vdyBob3cgdG8gaGlnaGxpZ2h0IHlvdXIgY29kZTsgZS5nLjpcbiA8ZC1jb2RlIGxhbmd1YWdlPSJweXRob24iPnplcm9zID0gbnAuemVyb3Moc2hhcGUpPC9kLWNvZGU+LicpO2NvbnN0IGU9VWkubGFuZ3VhZ2VzW3RoaXMubGFuZ3VhZ2VOYW1lXTtpZih2b2lkIDA9PWUpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKGBEaXN0aWxsIGRvZXMgbm90IHlldCBzdXBwb3J0IGhpZ2hsaWdodGluZyB5b3VyIGNvZGUgYmxvY2sgaW4gIiR7dGhpcy5sYW5ndWFnZU5hbWV9Jy5gKTtsZXQgdD10aGlzLnRleHRDb250ZW50O2NvbnN0IG49dGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNjb2RlLWNvbnRhaW5lcicpO2lmKHRoaXMuaGFzQXR0cmlidXRlKCdibG9jaycpKXt0PXQucmVwbGFjZSgvXG4vLCcnKTtjb25zdCBlPXQubWF0Y2goL1xzKi8pO2lmKHQ9dC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xuJytlLCdnJyksJ1xuJyksdD10LnRyaW0oKSxuLnBhcmVudE5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpO3RoaXMuc2hhZG93Um9vdC5yZW1vdmVDaGlsZChuKSxlLmFwcGVuZENoaWxkKG4pLHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChlKX19bi5jbGFzc05hbWU9YGxhbmd1YWdlLSR7dGhpcy5sYW5ndWFnZU5hbWV9YCxuLmlubmVySFRNTD1VaS5oaWdobGlnaHQodCxlKX19Y29uc3Qgamk9dGkoJ2QtZm9vdG5vdGUnLGAKPHN0eWxlPgoKZC1tYXRoW2Jsb2NrXSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KCjpob3N0IHsKCn0KCnN1cCB7CiAgbGluZS1oZWlnaHQ6IDFlbTsKICBmb250LXNpemU6IDAuNzVlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAtLjVlbTsKICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7Cn0KCnNwYW4gewogIGNvbG9yOiBoc2xhKDIwNiwgOTAlLCAyMCUsIDAuNyk7CiAgY3Vyc29yOiBkZWZhdWx0Owp9CgouZm9vdG5vdGUtY29udGFpbmVyIHsKICBwYWRkaW5nOiAxMHB4Owp9Cgo8L3N0eWxlPgoKPGQtaG92ZXItYm94PgogIDxkaXYgY2xhc3M9ImZvb3Rub3RlLWNvbnRhaW5lciI+CiAgICA8c2xvdCBpZD0ic2xvdCI+PC9zbG90PgogIDwvZGl2Pgo8L2QtaG92ZXItYm94PgoKPHN1cD4KICA8c3BhbiBpZD0iZm4tIiBkYXRhLWhvdmVyLXJlZj0iIj48L3NwYW4+Cjwvc3VwPgoKYCk7Y2xhc3MgUmkgZXh0ZW5kcyBqaShIVE1MRWxlbWVudCl7Y29uc3RydWN0b3IoKXtzdXBlcigpO2NvbnN0IGU9bmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5ub3RpZnkpO2Uub2JzZXJ2ZSh0aGlzLHtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxzdWJ0cmVlOiEwfSl9bm90aWZ5KCl7Y29uc3QgZT17ZGV0YWlsOnRoaXMsYnViYmxlczohMH0sdD1uZXcgQ3VzdG9tRXZlbnQoJ29uRm9vdG5vdGVDaGFuZ2VkJyxlKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KHQpfWNvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5ob3ZlckJveD10aGlzLnJvb3QucXVlcnlTZWxlY3RvcignZC1ob3Zlci1ib3gnKSx3aW5kb3cuY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQoJ2QtaG92ZXItYm94JykudGhlbigoKT0+e3RoaXMuaG92ZXJCb3gubGlzdGVuKHRoaXMpfSksUmkuY3VycmVudEZvb3Rub3RlSWQrPTE7Y29uc3QgZT1SaS5jdXJyZW50Rm9vdG5vdGVJZC50b1N0cmluZygpO3RoaXMucm9vdC5ob3N0LmlkPSdkLWZvb3Rub3RlLScrZTtjb25zdCB0PSdkdC1mbi1ob3Zlci1ib3gtJytlO3RoaXMuaG92ZXJCb3guaWQ9dDtjb25zdCBuPXRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKCcjZm4tJyk7bi5zZXRBdHRyaWJ1dGUoJ2lkJywnZm4tJytlKSxuLnNldEF0dHJpYnV0ZSgnZGF0YS1ob3Zlci1yZWYnLHQpLG4udGV4dENvbnRlbnQ9ZX19UmkuY3VycmVudEZvb3Rub3RlSWQ9MDtjb25zdCBxaT10aSgnZC1mb290bm90ZS1saXN0JyxgCjxzdHlsZT4KCmQtZm9vdG5vdGUtbGlzdCB7CiAgY29udGFpbjogbGF5b3V0IHN0eWxlOwp9CgpkLWZvb3Rub3RlLWxpc3QgPiAqIHsKICBncmlkLWNvbHVtbjogdGV4dDsKfQoKZC1mb290bm90ZS1saXN0IGEuZm9vdG5vdGUtYmFja2xpbmsgewogIGNvbG9yOiByZ2JhKDAsMCwwLDAuMyk7CiAgcGFkZGluZy1sZWZ0OiAwLjVlbTsKfQoKPC9zdHlsZT4KCjxoMz5Gb290bm90ZXM8L2gzPgo8b2w+PC9vbD4KYCwhMSk7Y2xhc3MgRmkgZXh0ZW5kcyBxaShIVE1MRWxlbWVudCl7Y29ubmVjdGVkQ2FsbGJhY2soKXtzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpLHRoaXMubGlzdD10aGlzLnJvb3QucXVlcnlTZWxlY3Rvcignb2wnKSx0aGlzLnJvb3Quc3R5bGUuZGlzcGxheT0nbm9uZSd9c2V0IGZvb3Rub3RlcyhlKXtpZih0aGlzLmxpc3QuaW5uZXJIVE1MPScnLGUubGVuZ3RoKXt0aGlzLnJvb3Quc3R5bGUuZGlzcGxheT0nJztmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7ZS5pZD10LmlkKyctbGlzdGluZycsZS5pbm5lckhUTUw9dC5pbm5lckhUTUw7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnZm9vdG5vdGUtYmFja2xpbmsnKSxuLnRleHRDb250ZW50PSdbXHUyMUE5XScsbi5ocmVmPScjJyt0LmlkLGUuYXBwZW5kQ2hpbGQobiksdGhpcy5saXN0LmFwcGVuZENoaWxkKGUpfX1lbHNlIHRoaXMucm9vdC5zdHlsZS5kaXNwbGF5PSdub25lJ319Y29uc3QgUGk9dGkoJ2QtaG92ZXItYm94JyxgCjxzdHlsZT4KCjpob3N0IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgbGVmdDogMHB4OwogIHotaW5kZXg6IDEwMDAwOwogIGRpc3BsYXk6IG5vbmU7CiAgd2hpdGUtc3BhY2U6IG5vcm1hbAp9CgouY29udGFpbmVyIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDcwNHB4OwogIG1heC13aWR0aDogMTAwdnc7CiAgbWFyZ2luOiAwIGF1dG87Cn0KCi5wYW5lbCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGZvbnQtc2l6ZTogMXJlbTsKICBsaW5lLWhlaWdodDogMS41ZW07CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjUwLCAyNTAsIDI1MCwgMC45NSk7CiAgYm94LXNoYWRvdzogMCAwIDdweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CgogIGJhY2tkcm9wLWZpbHRlcjogYmx1cigycHgpOwogIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDJweCk7Cn0KCjwvc3R5bGU+Cgo8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogIDxkaXYgY2xhc3M9InBhbmVsIj4KICAgIDxzbG90Pjwvc2xvdD4KICA8L2Rpdj4KPC9kaXY+CmApO2NsYXNzIEhpIGV4dGVuZHMgUGkoSFRNTEVsZW1lbnQpe2NvbnN0cnVjdG9yKCl7c3VwZXIoKX1jb25uZWN0ZWRDYWxsYmFjaygpe31saXN0ZW4oZSl7dGhpcy5iaW5kRGl2RXZlbnRzKHRoaXMpLHRoaXMuYmluZFRyaWdnZXJFdmVudHMoZSl9YmluZERpdkV2ZW50cyhlKXtlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsKCk9Pnt0aGlzLnZpc2libGV8fHRoaXMuc2hvd0F0Tm9kZShlKSx0aGlzLnN0b3BUaW1lb3V0KCl9KSxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywoKT0+e3RoaXMuZXh0ZW5kVGltZW91dCg1MDApfSksZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywoZSk9PntlLnN0b3BQcm9wYWdhdGlvbigpfSx7cGFzc2l2ZTohMH0pLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsKCk9Pnt0aGlzLmhpZGUoKX0se3Bhc3NpdmU6ITB9KX1iaW5kVHJpZ2dlckV2ZW50cyhlKXtlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsKCk9Pnt0aGlzLnZpc2libGV8fHRoaXMuc2hvd0F0Tm9kZShlKSx0aGlzLnN0b3BUaW1lb3V0KCl9KSxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywoKT0+e3RoaXMuZXh0ZW5kVGltZW91dCgzMDApfSksZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywodCk9Pnt0aGlzLnZpc2libGU/dGhpcy5oaWRlKCk6dGhpcy5zaG93QXROb2RlKGUpLHQuc3RvcFByb3BhZ2F0aW9uKCl9LHtwYXNzaXZlOiEwfSl9c2hvdyhlKXt0aGlzLnZpc2libGU9ITAsdGhpcy5zdHlsZS5kaXNwbGF5PSdibG9jaycsdGhpcy5zdHlsZS50b3A9UG4oZVsxXSsxMCkrJ3B4J31zaG93QXROb2RlKGUpe2NvbnN0IHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLnNob3coW2Uub2Zmc2V0TGVmdCt0LndpZHRoLGUub2Zmc2V0VG9wK3QuaGVpZ2h0XSl9aGlkZSgpe3RoaXMudmlzaWJsZT0hMSx0aGlzLnN0eWxlLmRpc3BsYXk9J25vbmUnLHRoaXMuc3RvcFRpbWVvdXQoKX1zdG9wVGltZW91dCgpe3RoaXMudGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCl9ZXh0ZW5kVGltZW91dChlKXt0aGlzLnN0b3BUaW1lb3V0KCksdGhpcy50aW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt0aGlzLmhpZGUoKX0sZSl9fWNsYXNzIHppIGV4dGVuZHMgSFRNTEVsZW1lbnR7c3RhdGljIGdldCBpcygpe3JldHVybidkLXRpdGxlJ319Y29uc3QgWWk9dGkoJ2QtcmVmZXJlbmNlcycsYAo8c3R5bGU+CmQtcmVmZXJlbmNlcyB7CiAgZGlzcGxheTogYmxvY2s7Cn0KPC9zdHlsZT4KYCwhMSk7Y2xhc3MgQmkgZXh0ZW5kcyBZaShIVE1MRWxlbWVudCl7fWNsYXNzIFdpIGV4dGVuZHMgSFRNTEVsZW1lbnR7c3RhdGljIGdldCBpcygpe3JldHVybidkLXRvYyd9Y29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLmdldEF0dHJpYnV0ZSgncHJlcmVuZGVyZWQnKXx8KHdpbmRvdy5vbmxvYWQ9KCk9Pntjb25zdCBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2QtYXJ0aWNsZScpLHQ9ZS5xdWVyeVNlbGVjdG9yQWxsKCdoMiwgaDMnKTtrKHRoaXMsdCl9KX19Y2xhc3MgVmkgZXh0ZW5kcyBIVE1MRWxlbWVudHtzdGF0aWMgZ2V0IGlzKCl7cmV0dXJuJ2QtZmlndXJlJ31zdGF0aWMgZ2V0IHJlYWR5UXVldWUoKXtyZXR1cm4gVmkuX3JlYWR5UXVldWV8fChWaS5fcmVhZHlRdWV1ZT1bXSksVmkuX3JlYWR5UXVldWV9c3RhdGljIGFkZFRvUmVhZHlRdWV1ZShlKXstMT09PVZpLnJlYWR5UXVldWUuaW5kZXhPZihlKSYmKFZpLnJlYWR5UXVldWUucHVzaChlKSxWaS5ydW5SZWFkeVF1ZXVlKCkpfXN0YXRpYyBydW5SZWFkeVF1ZXVlKCl7Y29uc3QgZT1WaS5yZWFkeVF1ZXVlLnNvcnQoKGUsdCk9PmUuX3NlZW5PblNjcmVlbi10Ll9zZWVuT25TY3JlZW4pLmZpbHRlcigoZSk9PiFlLl9yZWFkeSkucG9wKCk7ZSYmKGUucmVhZHkoKSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoVmkucnVuUmVhZHlRdWV1ZSkpfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLl9yZWFkeT0hMSx0aGlzLl9vbnNjcmVlbj0hMSx0aGlzLl9vZmZzY3JlZW49ITB9Y29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLmxvYWRzV2hpbGVTY3JvbGxpbmc9dGhpcy5oYXNBdHRyaWJ1dGUoJ2xvYWRzV2hpbGVTY3JvbGxpbmcnKSxWaS5tYXJnaW5PYnNlcnZlci5vYnNlcnZlKHRoaXMpLFZpLmRpcmVjdE9ic2VydmVyLm9ic2VydmUodGhpcyl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXtWaS5tYXJnaW5PYnNlcnZlci51bm9ic2VydmUodGhpcyksVmkuZGlyZWN0T2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMpfXN0YXRpYyBnZXQgbWFyZ2luT2JzZXJ2ZXIoKXtpZighVmkuX21hcmdpbk9ic2VydmVyKXtjb25zdCBlPXdpbmRvdy5pbm5lckhlaWdodCx0PUZuKDIqZSksbj1WaS5kaWRPYnNlcnZlTWFyZ2luSW50ZXJzZWN0aW9uLGk9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG4se3Jvb3RNYXJnaW46dCsncHggMHB4ICcrdCsncHggMHB4Jyx0aHJlc2hvbGQ6MC4wMX0pO1ZpLl9tYXJnaW5PYnNlcnZlcj1pfXJldHVybiBWaS5fbWFyZ2luT2JzZXJ2ZXJ9c3RhdGljIGRpZE9ic2VydmVNYXJnaW5JbnRlcnNlY3Rpb24oZSl7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10LnRhcmdldDt0LmlzSW50ZXJzZWN0aW5nJiYhZS5fcmVhZHkmJlZpLmFkZFRvUmVhZHlRdWV1ZShlKX19c3RhdGljIGdldCBkaXJlY3RPYnNlcnZlcigpe3JldHVybiBWaS5fZGlyZWN0T2JzZXJ2ZXJ8fChWaS5fZGlyZWN0T2JzZXJ2ZXI9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFZpLmRpZE9ic2VydmVEaXJlY3RJbnRlcnNlY3Rpb24se3Jvb3RNYXJnaW46JzBweCcsdGhyZXNob2xkOlswLDFdfSkpLFZpLl9kaXJlY3RPYnNlcnZlcn1zdGF0aWMgZGlkT2JzZXJ2ZURpcmVjdEludGVyc2VjdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQudGFyZ2V0O3QuaXNJbnRlcnNlY3Rpbmc/KGUuX3NlZW5PblNjcmVlbj1uZXcgRGF0ZSxlLl9vZmZzY3JlZW4mJmUub25zY3JlZW4oKSk6ZS5fb25zY3JlZW4mJmUub2Zmc2NyZWVuKCl9fWFkZEV2ZW50TGlzdGVuZXIoZSx0KXtzdXBlci5hZGRFdmVudExpc3RlbmVyKGUsdCksJ3JlYWR5Jz09PWUmJi0xIT09VmkucmVhZHlRdWV1ZS5pbmRleE9mKHRoaXMpJiYodGhpcy5fcmVhZHk9ITEsVmkucnVuUmVhZHlRdWV1ZSgpKSwnb25zY3JlZW4nPT09ZSYmdGhpcy5vbnNjcmVlbigpfXJlYWR5KCl7dGhpcy5fcmVhZHk9ITAsVmkubWFyZ2luT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMpO2NvbnN0IGU9bmV3IEN1c3RvbUV2ZW50KCdyZWFkeScpO3RoaXMuZGlzcGF0Y2hFdmVudChlKX1vbnNjcmVlbigpe3RoaXMuX29uc2NyZWVuPSEwLHRoaXMuX29mZnNjcmVlbj0hMTtjb25zdCBlPW5ldyBDdXN0b21FdmVudCgnb25zY3JlZW4nKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSl9b2Zmc2NyZWVuKCl7dGhpcy5fb25zY3JlZW49ITEsdGhpcy5fb2Zmc2NyZWVuPSEwO2NvbnN0IGU9bmV3IEN1c3RvbUV2ZW50KCdvZmZzY3JlZW4nKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSl9fWlmKCd1bmRlZmluZWQnIT10eXBlb2Ygd2luZG93KXtWaS5pc1Njcm9sbGluZz0hMTtsZXQgZTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywoKT0+e1ZpLmlzU2Nyb2xsaW5nPSEwLGNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoKCk9PntWaS5pc1Njcm9sbGluZz0hMSxWaS5ydW5SZWFkeVF1ZXVlKCl9LDUwMCl9LCEwKX1jb25zdCBLaT10aSgnZC1pbnRlcnN0aXRpYWwnLGAKPHN0eWxlPgoKLm92ZXJsYXkgewogIHBvc2l0aW9uOiBmaXhlZDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgYmFja2dyb3VuZDogd2hpdGU7CgogIG9wYWNpdHk6IDE7CiAgdmlzaWJpbGl0eTogdmlzaWJsZTsKCiAgZGlzcGxheTogZmxleDsKICBmbGV4LWZsb3c6IGNvbHVtbjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICB6LWluZGV4OiAyMTQ3NDgzNjQ3IC8qIE1heEludDMyICovCgp9CgouY29udGFpbmVyIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogIG1heC13aWR0aDogNDIwcHg7CiAgcGFkZGluZzogMmVtOwp9CgpoMSB7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBoc2woMCwxMDAlLDQwJSk7CiAgLXdlYmtpdC10ZXh0LWRlY29yYXRpb24tY29sb3I6IGhzbCgwLDEwMCUsNDAlKTsKICBtYXJnaW4tYm90dG9tOiAxZW07CiAgbGluZS1oZWlnaHQ6IDEuNWVtOwp9CgppbnB1dFt0eXBlPSJwYXNzd29yZCJdIHsKICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgLW1vei1hcHBlYXJhbmNlOiBub25lOwogIGFwcGVhcmFuY2U6IG5vbmU7CiAgLXdlYmtpdC1ib3gtc2hhZG93OiBub25lOwogIC1tb3otYm94LXNoYWRvdzogbm9uZTsKICBib3gtc2hhZG93OiBub25lOwogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogbm9uZTsKICAtbW96LWJvcmRlci1yYWRpdXM6IG5vbmU7CiAgLW1zLWJvcmRlci1yYWRpdXM6IG5vbmU7CiAgLW8tYm9yZGVyLXJhZGl1czogbm9uZTsKICBib3JkZXItcmFkaXVzOiBub25lOwogIG91dGxpbmU6IG5vbmU7CgogIGZvbnQtc2l6ZTogMThweDsKICBiYWNrZ3JvdW5kOiBub25lOwogIHdpZHRoOiAyNSU7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICM5OTk7CiAgdHJhbnNpdGlvbjogYm9yZGVyIC4zczsKfQoKaW5wdXRbdHlwZT0icGFzc3dvcmQiXTpmb2N1cyB7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICMzMzM7Cn0KCmlucHV0W3R5cGU9InBhc3N3b3JkIl0ud3JvbmcgewogIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCBoc2woMCwxMDAlLDQwJSk7Cn0KCnAgc21hbGwgewogIGNvbG9yOiAjODg4Owp9CgoubG9nbyB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGZvbnQtc2l6ZTogMS41ZW07CiAgbWFyZ2luLWJvdHRvbTogM2VtOwp9CgoubG9nbyBzdmcgewogIHdpZHRoOiAzNnB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0b3A6IDZweDsKICBtYXJnaW4tcmlnaHQ6IDJweDsKfQoKLmxvZ28gc3ZnIHBhdGggewogIGZpbGw6IG5vbmU7CiAgc3Ryb2tlOiBibGFjazsKICBzdHJva2Utd2lkdGg6IDJweDsKfQoKPC9zdHlsZT4KCjxkaXYgY2xhc3M9Im92ZXJsYXkiPgogIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICA8aDE+VGhpcyBhcnRpY2xlIGlzIGluIHJldmlldy48L2gxPgogICAgPHA+RG8gbm90IHNoYXJlIHRoaXMgVVJMIG9yIHRoZSBjb250ZW50cyBvZiB0aGlzIGFydGljbGUuIFRoYW5rIHlvdSE8L3A+CiAgICA8aW5wdXQgaWQ9ImludGVyc3RpdGlhbC1wYXNzd29yZC1pbnB1dCIgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIiBhdXRvZm9jdXMvPgogICAgPHA+PHNtYWxsPkVudGVyIHRoZSBwYXNzd29yZCB3ZSBzaGFyZWQgd2l0aCB5b3UgYXMgcGFydCBvZiB0aGUgcmV2aWV3IHByb2Nlc3MgdG8gdmlldyB0aGUgYXJ0aWNsZS48L3NtYWxsPjwvcD4KICA8L2Rpdj4KPC9kaXY+CmApO2NsYXNzICRpIGV4dGVuZHMgS2koSFRNTEVsZW1lbnQpe2Nvbm5lY3RlZENhbGxiYWNrKCl7aWYodGhpcy5zaG91bGRSZW1vdmVTZWxmKCkpdGhpcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMpO2Vsc2V7Y29uc3QgZT10aGlzLnJvb3QucXVlcnlTZWxlY3RvcignI2ludGVyc3RpdGlhbC1wYXNzd29yZC1pbnB1dCcpO2Uub25pbnB1dD0oZSk9PnRoaXMucGFzc3dvcmRDaGFuZ2VkKGUpfX1wYXNzd29yZENoYW5nZWQoZSl7Y29uc3QgdD1lLnRhcmdldC52YWx1ZTt0PT09dGhpcy5wYXNzd29yZCYmKGNvbnNvbGUubG9nKCdDb3JyZWN0IHBhc3N3b3JkIGVudGVyZWQuJyksdGhpcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMpLCd1bmRlZmluZWQnIT10eXBlb2YgU3RvcmFnZSYmKGNvbnNvbGUubG9nKCdTYXZlZCB0aGF0IGNvcnJlY3QgcGFzc3dvcmQgd2FzIGVudGVyZWQuJyksbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2VJZGVudGlmaWVyKCksJ3RydWUnKSkpfXNob3VsZFJlbW92ZVNlbGYoKXtyZXR1cm4gd2luZG93JiZ3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU9PT0nZGlzdGlsbC5wdWInPyhjb25zb2xlLndhcm4oJ0ludGVyc3RpdGlhbCBmb3VuZCBvbiBwcm9kdWN0aW9uLCBoaWRpbmcgaXQuJyksITApOid1bmRlZmluZWQnIT10eXBlb2YgU3RvcmFnZSYmJ3RydWUnPT09bG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2VJZGVudGlmaWVyKCkpJiYoY29uc29sZS5sb2coJ0xvYWRlZCB0aGF0IGNvcnJlY3QgcGFzc3dvcmQgd2FzIGVudGVyZWQgYmVmb3JlOyBza2lwcGluZyBpbnRlcnN0aXRpYWwuJyksITApfWxvY2FsU3RvcmFnZUlkZW50aWZpZXIoKXtyZXR1cm4nZGlzdGlsbC1kcmFmdHMnKyh3aW5kb3c/d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lOictJykrJ2ludGVyc3RpdGlhbC1wYXNzd29yZC1jb3JyZWN0J319dmFyIFhpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTplPj10PzA6TmFOfSxKaT1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubGVuZ3RoJiYoZT12KGUpKSx7bGVmdDpmdW5jdGlvbih0LG4saSxhKXtmb3IobnVsbD09aSYmKGk9MCksbnVsbD09YSYmKGE9dC5sZW5ndGgpO2k8YTspe3ZhciBkPWkrYT4+PjE7MD5lKHRbZF0sbik/aT1kKzE6YT1kfXJldHVybiBpfSxyaWdodDpmdW5jdGlvbih0LG4saSxhKXtmb3IobnVsbD09aSYmKGk9MCksbnVsbD09YSYmKGE9dC5sZW5ndGgpO2k8YTspe3ZhciBkPWkrYT4+PjE7MDxlKHRbZF0sbik/YT1kOmk9ZCsxfXJldHVybiBpfX19KFhpKSxRaT1KaS5yaWdodCxaaT1mdW5jdGlvbihlLHQsYSl7ZT0rZSx0PSt0LGE9Mj4oaT1hcmd1bWVudHMubGVuZ3RoKT8odD1lLGU9MCwxKTozPmk/MTorYTtmb3IodmFyIGQ9LTEsaT0wfFJuKDAscW4oKHQtZSkvYSkpLG49QXJyYXkoaSk7KytkPGk7KW5bZF09ZStkKmE7cmV0dXJuIG59LEdpPTcuMDcxMDY3ODExODY1NDc1NSxlYT0zLjE2MjI3NzY2MDE2ODM3OTUsdGE9MS40MTQyMTM1NjIzNzMwOTUxLG5hPWZ1bmN0aW9uKGUsdCxhKXt2YXIgZCxyLG4sbyxsPS0xO2lmKHQ9K3QsZT0rZSxhPSthLGU9PT10JiYwPGEpcmV0dXJuW2VdO2lmKChkPXQ8ZSkmJihyPWUsZT10LHQ9ciksMD09PShvPXcoZSx0LGEpKXx8IWlzRmluaXRlKG8pKXJldHVybltdO2lmKDA8bylmb3IoZT1xbihlL28pLHQ9Rm4odC9vKSxuPUFycmF5KHI9cW4odC1lKzEpKTsrK2w8cjspbltsXT0oZStsKSpvO2Vsc2UgZm9yKGU9Rm4oZSpvKSx0PXFuKHQqbyksbj1BcnJheShyPXFuKGUtdCsxKSk7KytsPHI7KW5bbF09KGUtbCkvbztyZXR1cm4gZCYmbi5yZXZlcnNlKCksbn0saWE9QXJyYXkucHJvdG90eXBlLGFhPWlhLm1hcCxkYT1pYS5zbGljZSxyYT1mdW5jdGlvbihlLHQsbil7ZS5wcm90b3R5cGU9dC5wcm90b3R5cGU9bixuLmNvbnN0cnVjdG9yPWV9LG9hPTAuNyxsYT0xL29hLHNhPS9eIyhbMC05YS1mXXszfSkkLyxjYT0vXiMoWzAtOWEtZl17Nn0pJC8sdWE9L15yZ2JcKFxzKihbKy1dP1xkKylccyosXHMqKFsrLV0/XGQrKVxzKixccyooWystXT9cZCspXHMqXCkkLyxwYT0vXnJnYlwoXHMqKFsrLV0/XGQqXC4/XGQrKD86W2VFXVsrLV0/XGQrKT8pJVxzKixccyooWystXT9cZCpcLj9cZCsoPzpbZUVdWystXT9cZCspPyklXHMqLFxzKihbKy1dP1xkKlwuP1xkKyg/OltlRV1bKy1dP1xkKyk/KSVccypcKSQvLGdhPS9ecmdiYVwoXHMqKFsrLV0/XGQrKVxzKixccyooWystXT9cZCspXHMqLFxzKihbKy1dP1xkKylccyosXHMqKFsrLV0/XGQqXC4/XGQrKD86W2VFXVsrLV0/XGQrKT8pXHMqXCkkLyxmYT0vXnJnYmFcKFxzKihbKy1dP1xkKlwuP1xkKyg/OltlRV1bKy1dP1xkKyk/KSVccyosXHMqKFsrLV0/XGQqXC4/XGQrKD86W2VFXVsrLV0/XGQrKT8pJVxzKixccyooWystXT9cZCpcLj9cZCsoPzpbZUVdWystXT9cZCspPyklXHMqLFxzKihbKy1dP1xkKlwuP1xkKyg/OltlRV1bKy1dP1xkKyk/KVxzKlwpJC8saGE9L15oc2xcKFxzKihbKy1dP1xkKlwuP1xkKyg/OltlRV1bKy1dP1xkKyk/KVxzKixccyooWystXT9cZCpcLj9cZCsoPzpbZUVdWystXT9cZCspPyklXHMqLFxzKihbKy1dP1xkKlwuP1xkKyg/OltlRV1bKy1dP1xkKyk/KSVccypcKSQvLGJhPS9eaHNsYVwoXHMqKFsrLV0/XGQqXC4/XGQrKD86W2VFXVsrLV0/XGQrKT8pXHMqLFxzKihbKy1dP1xkKlwuP1xkKyg/OltlRV1bKy1dP1xkKyk/KSVccyosXHMqKFsrLV0/XGQqXC4/XGQrKD86W2VFXVsrLV0/XGQrKT8pJVxzKixccyooWystXT9cZCpcLj9cZCsoPzpbZUVdWystXT9cZCspPylccypcKSQvLG1hPXthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsZ3JleTo4NDIxNTA0LGhvbmV5ZGV3OjE1Nzk0MTYwLGhvdHBpbms6MTY3Mzg3NDAsaW5kaWFucmVkOjEzNDU4NTI0LGluZGlnbzo0OTE1MzMwLGl2b3J5OjE2Nzc3MjAwLGtoYWtpOjE1Nzg3NjYwLGxhdmVuZGVyOjE1MTMyNDEwLGxhdmVuZGVyYmx1c2g6MTY3NzMzNjUsbGF3bmdyZWVuOjgxOTA5NzYsbGVtb25jaGlmZm9uOjE2Nzc1ODg1LGxpZ2h0Ymx1ZToxMTM5MzI1NCxsaWdodGNvcmFsOjE1NzYxNTM2LGxpZ2h0Y3lhbjoxNDc0NTU5OSxsaWdodGdvbGRlbnJvZHllbGxvdzoxNjQ0ODIxMCxsaWdodGdyYXk6MTM4ODIzMjMsbGlnaHRncmVlbjo5NDk4MjU2LGxpZ2h0Z3JleToxMzg4MjMyMyxsaWdodHBpbms6MTY3NTg0NjUsbGlnaHRzYWxtb246MTY3NTI3NjIsbGlnaHRzZWFncmVlbjoyMTQyODkwLGxpZ2h0c2t5Ymx1ZTo4OTAwMzQ2LGxpZ2h0c2xhdGVncmF5Ojc4MzM3NTMsbGlnaHRzbGF0ZWdyZXk6NzgzMzc1MyxsaWdodHN0ZWVsYmx1ZToxMTU4NDczNCxsaWdodHllbGxvdzoxNjc3NzE4NCxsaW1lOjY1MjgwLGxpbWVncmVlbjozMzI5MzMwLGxpbmVuOjE2NDQ1NjcwLG1hZ2VudGE6MTY3MTE5MzUsbWFyb29uOjgzODg2MDgsbWVkaXVtYXF1YW1hcmluZTo2NzM3MzIyLG1lZGl1bWJsdWU6MjA1LG1lZGl1bW9yY2hpZDoxMjIxMTY2NyxtZWRpdW1wdXJwbGU6OTY2MjY4MyxtZWRpdW1zZWFncmVlbjozOTc4MDk3LG1lZGl1bXNsYXRlYmx1ZTo4MDg3NzkwLG1lZGl1bXNwcmluZ2dyZWVuOjY0MTU0LG1lZGl1bXR1cnF1b2lzZTo0NzcyMzAwLG1lZGl1bXZpb2xldHJlZDoxMzA0NzE3MyxtaWRuaWdodGJsdWU6MTY0NDkxMixtaW50Y3JlYW06MTYxMjE4NTAsbWlzdHlyb3NlOjE2NzcwMjczLG1vY2Nhc2luOjE2NzcwMjI5LG5hdmFqb3doaXRlOjE2NzY4Njg1LG5hdnk6MTI4LG9sZGxhY2U6MTY2NDM1NTgsb2xpdmU6ODQyMTM3NixvbGl2ZWRyYWI6NzA0ODczOSxvcmFuZ2U6MTY3NTM5MjAsb3JhbmdlcmVkOjE2NzI5MzQ0LG9yY2hpZDoxNDMxNTczNCxwYWxlZ29sZGVucm9kOjE1NjU3MTMwLHBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWJlY2NhcHVycGxlOjY2OTc4ODEscmVkOjE2NzExNjgwLHJvc3licm93bjoxMjM1NzUxOSxyb3lhbGJsdWU6NDI4Njk0NSxzYWRkbGVicm93bjo5MTI3MTg3LHNhbG1vbjoxNjQxNjg4MixzYW5keWJyb3duOjE2MDMyODY0LHNlYWdyZWVuOjMwNTAzMjcsc2Vhc2hlbGw6MTY3NzQ2Mzgsc2llbm5hOjEwNTA2Nzk3LHNpbHZlcjoxMjYzMjI1Nixza3libHVlOjg5MDAzMzEsc2xhdGVibHVlOjY5NzAwNjEsc2xhdGVncmF5OjczNzI5NDQsc2xhdGVncmV5OjczNzI5NDQsc25vdzoxNjc3NTkzMCxzcHJpbmdncmVlbjo2NTQwNyxzdGVlbGJsdWU6NDYyMDk4MCx0YW46MTM4MDg3ODAsdGVhbDozMjg5Nix0aGlzdGxlOjE0MjA0ODg4LHRvbWF0bzoxNjczNzA5NSx0dXJxdW9pc2U6NDI1MTg1Nix2aW9sZXQ6MTU2MzEwODYsd2hlYXQ6MTYxMTMzMzEsd2hpdGU6MTY3NzcyMTUsd2hpdGVzbW9rZToxNjExOTI4NSx5ZWxsb3c6MTY3NzY5NjAseWVsbG93Z3JlZW46MTAxNDUwNzR9O3JhKEwsTSx7ZGlzcGxheWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJnYigpKycnfX0pLHJhKGosTixfKEwse2JyaWdodGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlPW51bGw9PWU/bGE6SW4obGEsZSksbmV3IGoodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUsdGhpcy5vcGFjaXR5KX0sZGFya2VyOmZ1bmN0aW9uKGUpe3JldHVybiBlPW51bGw9PWU/b2E6SW4ob2EsZSksbmV3IGoodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUsdGhpcy5vcGFjaXR5KX0scmdiOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGRpc3BsYXlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIDA8PXRoaXMuciYmMjU1Pj10aGlzLnImJjA8PXRoaXMuZyYmMjU1Pj10aGlzLmcmJjA8PXRoaXMuYiYmMjU1Pj10aGlzLmImJjA8PXRoaXMub3BhY2l0eSYmMT49dGhpcy5vcGFjaXR5fSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3BhY2l0eTtyZXR1cm4gZT1pc05hTihlKT8xOlJuKDAsSG4oMSxlKSksKDE9PT1lPydyZ2IoJzoncmdiYSgnKStSbigwLEhuKDI1NSxQbih0aGlzLnIpfHwwKSkrJywgJytSbigwLEhuKDI1NSxQbih0aGlzLmcpfHwwKSkrJywgJytSbigwLEhuKDI1NSxQbih0aGlzLmIpfHwwKSkrKDE9PT1lPycpJzonLCAnK2UrJyknKX19KSkscmEoRixmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/cShlKTpuZXcgRihlLHQsbixudWxsPT1pPzE6aSl9LF8oTCx7YnJpZ2h0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bnVsbD09ZT9sYTpJbihsYSxlKSxuZXcgRih0aGlzLmgsdGhpcy5zLHRoaXMubCplLHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbihlKXtyZXR1cm4gZT1udWxsPT1lP29hOkluKG9hLGUpLG5ldyBGKHRoaXMuaCx0aGlzLnMsdGhpcy5sKmUsdGhpcy5vcGFjaXR5KX0scmdiOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oJTM2MCszNjAqKDA+dGhpcy5oKSx0PWlzTmFOKGUpfHxpc05hTih0aGlzLnMpPzA6dGhpcy5zLG49dGhpcy5sLGk9bisoMC41Pm4/bjoxLW4pKnQsYT0yKm4taTtyZXR1cm4gbmV3IGooUCgyNDA8PWU/ZS0yNDA6ZSsxMjAsYSxpKSxQKGUsYSxpKSxQKDEyMD5lP2UrMjQwOmUtMTIwLGEsaSksdGhpcy5vcGFjaXR5KX0sZGlzcGxheWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4oMDw9dGhpcy5zJiYxPj10aGlzLnN8fGlzTmFOKHRoaXMucykpJiYwPD10aGlzLmwmJjE+PXRoaXMubCYmMDw9dGhpcy5vcGFjaXR5JiYxPj10aGlzLm9wYWNpdHl9fSkpO3ZhciB5YT1Pbi8xODAseGE9MTgwL09uLGthPTE4LEtuPTAuOTUwNDcsWG49MSxZbj0xLjA4ODgzLFpuPTQvMjksdmE9Ni8yOSx3YT0zKnZhKnZhLFNhPXZhKnZhKnZhO3JhKFksZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP0goZSk6bmV3IFkoZSx0LG4sbnVsbD09aT8xOmkpfSxfKEwse2JyaWdodGVyOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgWSh0aGlzLmwra2EqKG51bGw9PWU/MTplKSx0aGlzLmEsdGhpcy5iLHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFkodGhpcy5sLWthKihudWxsPT1lPzE6ZSksdGhpcy5hLHRoaXMuYix0aGlzLm9wYWNpdHkpfSxyZ2I6ZnVuY3Rpb24oKXt2YXIgZT0odGhpcy5sKzE2KS8xMTYsdD1pc05hTih0aGlzLmEpP2U6ZSt0aGlzLmEvNTAwLG49aXNOYU4odGhpcy5iKT9lOmUtdGhpcy5iLzIwMDtyZXR1cm4gZT1YbipWKGUpLHQ9S24qVih0KSxuPVluKlYobiksbmV3IGooSygzLjI0MDQ1NDIqdC0xLjUzNzEzODUqZS0wLjQ5ODUzMTQqbiksSygtMC45NjkyNjYqdCsxLjg3NjAxMDgqZSswLjA0MTU1NipuKSxLKDAuMDU1NjQzNCp0LTAuMjA0MDI1OSplKzEuMDU3MjI1MipuKSx0aGlzLm9wYWNpdHkpfX0pKSxyYShYLGZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD96KGUpOm5ldyBYKGUsdCxuLG51bGw9PWk/MTppKX0sXyhMLHticmlnaHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFgodGhpcy5oLHRoaXMuYyx0aGlzLmwra2EqKG51bGw9PWU/MTplKSx0aGlzLm9wYWNpdHkpfSxkYXJrZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBYKHRoaXMuaCx0aGlzLmMsdGhpcy5sLWthKihudWxsPT1lPzE6ZSksdGhpcy5vcGFjaXR5KX0scmdiOmZ1bmN0aW9uKCl7cmV0dXJuIEgodGhpcykucmdiKCl9fSkpO3ZhciBDYT0tMC4xNDg2MSxBPSsxLjc4Mjc3LEI9LTAuMjkyMjcsQz0tMC45MDY0OSxEPSsxLjk3Mjk0LEU9RCpDLFRhPUQqQSxfYT1BKkItQypDYTtyYShaLFEsXyhMLHticmlnaHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZT1udWxsPT1lP2xhOkluKGxhLGUpLG5ldyBaKHRoaXMuaCx0aGlzLnMsdGhpcy5sKmUsdGhpcy5vcGFjaXR5KX0sZGFya2VyOmZ1bmN0aW9uKGUpe3JldHVybiBlPW51bGw9PWU/b2E6SW4ob2EsZSksbmV3IFoodGhpcy5oLHRoaXMucyx0aGlzLmwqZSx0aGlzLm9wYWNpdHkpfSxyZ2I6ZnVuY3Rpb24oKXt2YXIgZT1pc05hTih0aGlzLmgpPzA6KHRoaXMuaCsxMjApKnlhLHQ9K3RoaXMubCxuPWlzTmFOKHRoaXMucyk/MDp0aGlzLnMqdCooMS10KSxpPU1uKGUpLGE9RG4oZSk7cmV0dXJuIG5ldyBqKDI1NSoodCtuKihDYSppK0EqYSkpLDI1NSoodCtuKihCKmkrQyphKSksMjU1Kih0K24qKEQqaSkpLHRoaXMub3BhY2l0eSl9fSkpO3ZhciBMYT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19LEFhPWZ1bmN0aW9uIGUodCl7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPWkoKGU9TihlKSkuciwodD1OKHQpKS5yKSxhPWkoZS5nLHQuZyksZD1pKGUuYix0LmIpLHI9bmUoZS5vcGFjaXR5LHQub3BhY2l0eSk7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlLnI9bihpKSxlLmc9YShpKSxlLmI9ZChpKSxlLm9wYWNpdHk9cihpKSxlKycnfX12YXIgaT10ZSh0KTtyZXR1cm4gbi5nYW1tYT1lLG59KDEpLEVhPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT10P3QubGVuZ3RoOjAsYT1lP0huKGksZS5sZW5ndGgpOjAsZD1BcnJheShpKSxyPUFycmF5KGkpO2ZvcihuPTA7bjxhOysrbilkW25dPWphKGVbbl0sdFtuXSk7Zm9yKDtuPGk7KytuKXJbbl09dFtuXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKG49MDtuPGE7KytuKXJbbl09ZFtuXShlKTtyZXR1cm4gcn19LERhPWZ1bmN0aW9uKGUsbil7dmFyIGk9bmV3IERhdGU7cmV0dXJuIGU9K2Usbi09ZSxmdW5jdGlvbihhKXtyZXR1cm4gaS5zZXRUaW1lKGUrbiphKSxpfX0sTWE9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT0rZSxuLT1lLGZ1bmN0aW9uKGkpe3JldHVybiBlK24qaX19LE9hPWZ1bmN0aW9uKGUsdCl7dmFyIG4sZD17fSxpPXt9O2ZvcihuIGluKG51bGw9PT1lfHwnb2JqZWN0JyE9dHlwZW9mIGUpJiYoZT17fSksKG51bGw9PT10fHwnb2JqZWN0JyE9dHlwZW9mIHQpJiYodD17fSksdCluIGluIGU/ZFtuXT1qYShlW25dLHRbbl0pOmlbbl09dFtuXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKG4gaW4gZClpW25dPWRbbl0oZSk7cmV0dXJuIGl9fSxVYT0vWy0rXT8oPzpcZCtcLj9cZCp8XC4/XGQrKSg/OltlRV1bLStdP1xkKyk/L2csSWE9bmV3IFJlZ0V4cChVYS5zb3VyY2UsJ2cnKSxOYT1mdW5jdGlvbihlLG4pe3ZhciB0LGEsZCxyPVVhLmxhc3RJbmRleD1JYS5sYXN0SW5kZXg9MCxvPS0xLGw9W10scz1bXTtmb3IoZSs9Jycsbis9Jyc7KHQ9VWEuZXhlYyhlKSkmJihhPUlhLmV4ZWMobikpOykoZD1hLmluZGV4KT5yJiYoZD1uLnNsaWNlKHIsZCksbFtvXT9sW29dKz1kOmxbKytvXT1kKSwodD10WzBdKT09PShhPWFbMF0pP2xbb10/bFtvXSs9YTpsWysrb109YToobFsrK29dPW51bGwscy5wdXNoKHtpOm8seDpNYSh0LGEpfSkpLHI9SWEubGFzdEluZGV4O3JldHVybiByPG4ubGVuZ3RoJiYoZD1uLnNsaWNlKHIpLGxbb10/bFtvXSs9ZDpsWysrb109ZCksMj5sLmxlbmd0aD9zWzBdP2FlKHNbMF0ueCk6aWUobik6KG49cy5sZW5ndGgsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGE9MDthPG47KythKWxbKHQ9c1thXSkuaV09dC54KGUpO3JldHVybiBsLmpvaW4oJycpfSl9LGphPWZ1bmN0aW9uKGUsbil7dmFyIGksYT10eXBlb2YgbjtyZXR1cm4gbnVsbD09bnx8J2Jvb2xlYW4nPT1hP0xhKG4pOignbnVtYmVyJz09YT9NYTonc3RyaW5nJz09YT8oaT1NKG4pKT8obj1pLEFhKTpOYTpuIGluc3RhbmNlb2YgTT9BYTpuIGluc3RhbmNlb2YgRGF0ZT9EYTpBcnJheS5pc0FycmF5KG4pP0VhOidmdW5jdGlvbichPXR5cGVvZiBuLnZhbHVlT2YmJidmdW5jdGlvbichPXR5cGVvZiBuLnRvU3RyaW5nfHxpc05hTihuKT9PYTpNYSkoZSxuKX0sUmE9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT0rZSxuLT1lLGZ1bmN0aW9uKGkpe3JldHVybiBQbihlK24qaSl9fTtkZShmdW5jdGlvbihlLHQpe3ZhciBuPXQtZTtyZXR1cm4gbj9HKGUsMTgwPG58fC0xODA+bj9uLTM2MCpQbihuLzM2MCk6bik6TGEoaXNOYU4oZSk/dDplKX0pO3ZhciBxYSxGYT1kZShuZSksUGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSxIYT1mdW5jdGlvbihlKXtyZXR1cm4rZX0semE9WzAsMV0sWWE9ZnVuY3Rpb24oZSx0KXtpZigwPihuPShlPXQ/ZS50b0V4cG9uZW50aWFsKHQtMSk6ZS50b0V4cG9uZW50aWFsKCkpLmluZGV4T2YoJ2UnKSkpcmV0dXJuIG51bGw7dmFyIG4saT1lLnNsaWNlKDAsbik7cmV0dXJuWzE8aS5sZW5ndGg/aVswXStpLnNsaWNlKDIpOmksK2Uuc2xpY2UobisxKV19LEJhPWZ1bmN0aW9uKGUpe3JldHVybiBlPVlhKFVuKGUpKSxlP2VbMV06TmFOfSxXYT1mdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbihhLGQpe2Zvcih2YXIgcj1hLmxlbmd0aCxpPVtdLHQ9MCxvPWVbMF0sbD0wOzA8ciYmMDxvJiYobCtvKzE+ZCYmKG89Um4oMSxkLWwpKSxpLnB1c2goYS5zdWJzdHJpbmcoci09byxyK28pKSwhKChsKz1vKzEpPmQpKTspbz1lW3Q9KHQrMSklZS5sZW5ndGhdO3JldHVybiBpLnJldmVyc2UoKS5qb2luKG4pfX0sVmE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1swLTldL2csZnVuY3Rpb24odCl7cmV0dXJuIGVbK3RdfSl9fSxLYT1mdW5jdGlvbihlLHQpe3ZhciBuPVlhKGUsdCk7aWYoIW4pcmV0dXJuIGUrJyc7dmFyIGk9blswXSxhPW5bMV07cmV0dXJuIDA+YT8nMC4nK0FycmF5KC1hKS5qb2luKCcwJykraTppLmxlbmd0aD5hKzE/aS5zbGljZSgwLGErMSkrJy4nK2kuc2xpY2UoYSsxKTppK0FycmF5KGEtaS5sZW5ndGgrMikuam9pbignMCcpfSwkYT17IiI6ZnVuY3Rpb24oZSx0KXtlPWUudG9QcmVjaXNpb24odCk7b3V0OmZvcih2YXIgYSxkPWUubGVuZ3RoLG49MSxpPS0xO248ZDsrK24pc3dpdGNoKGVbbl0pe2Nhc2UnLic6aT1hPW47YnJlYWs7Y2FzZScwJzowPT09aSYmKGk9biksYT1uO2JyZWFrO2Nhc2UnZSc6YnJlYWsgb3V0O2RlZmF1bHQ6MDxpJiYoaT0wKTt9cmV0dXJuIDA8aT9lLnNsaWNlKDAsaSkrZS5zbGljZShhKzEpOmV9LCIlIjpmdW5jdGlvbihlLHQpe3JldHVybigxMDAqZSkudG9GaXhlZCh0KX0sYjpmdW5jdGlvbihlKXtyZXR1cm4gUG4oZSkudG9TdHJpbmcoMil9LGM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrJyd9LGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFBuKGUpLnRvU3RyaW5nKDEwKX0sZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLnRvRXhwb25lbnRpYWwodCl9LGY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b0ZpeGVkKHQpfSxnOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudG9QcmVjaXNpb24odCl9LG86ZnVuY3Rpb24oZSl7cmV0dXJuIFBuKGUpLnRvU3RyaW5nKDgpfSxwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEthKDEwMCplLHQpfSxyOkthLHM6ZnVuY3Rpb24oZSx0KXt2YXIgYT1ZYShlLHQpO2lmKCFhKXJldHVybiBlKycnO3ZhciByPWFbMF0sbz1hWzFdLGw9by0ocWE9MypSbigtOCxIbig4LEZuKG8vMykpKSkrMSxpPXIubGVuZ3RoO3JldHVybiBsPT09aT9yOmw+aT9yK0FycmF5KGwtaSsxKS5qb2luKCcwJyk6MDxsP3Iuc2xpY2UoMCxsKSsnLicrci5zbGljZShsKTonMC4nK0FycmF5KDEtbCkuam9pbignMCcpK1lhKGUsUm4oMCx0K2wtMSkpWzBdfSxYOmZ1bmN0aW9uKGUpe3JldHVybiBQbihlKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0seDpmdW5jdGlvbihlKXtyZXR1cm4gUG4oZSkudG9TdHJpbmcoMTYpfX0sWGE9L14oPzooLik/KFs8Pj1eXSkpPyhbK1wtXCggXSk/KFskI10pPygwKT8oXGQrKT8oLCk/KFwuXGQrKT8oW2EteiVdKT8kL2k7ZmUucHJvdG90eXBlPWhlLnByb3RvdHlwZSxoZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxsK3RoaXMuYWxpZ24rdGhpcy5zaWduK3RoaXMuc3ltYm9sKyh0aGlzLnplcm8/JzAnOicnKSsobnVsbD09dGhpcy53aWR0aD8nJzpSbigxLDB8dGhpcy53aWR0aCkpKyh0aGlzLmNvbW1hPycsJzonJykrKG51bGw9PXRoaXMucHJlY2lzaW9uPycnOicuJytSbigwLDB8dGhpcy5wcmVjaXNpb24pKSt0aGlzLnR5cGV9O3ZhciByZSxKYSxRYSxaYT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sR2E9Wyd5JywneicsJ2EnLCdmJywncCcsJ24nLCdceEI1JywnbScsJycsJ2snLCdNJywnRycsJ1QnLCdQJywnRScsJ1onLCdZJ10sZWQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtmdW5jdGlvbiB0KGUpe3ZhciB0LGksbixjPWIsaz1tO2lmKCdjJz09PWgpaz15KGUpK2ssZT0nJztlbHNle2U9K2U7dmFyIHY9MD5lO2lmKGU9eShVbihlKSxmKSx2JiYwPT0rZSYmKHY9ITEpLGM9KHY/JygnPT09cz9zOictJzonLSc9PT1zfHwnKCc9PT1zPycnOnMpK2Msaz1rKygncyc9PT1oP0dhWzgrcWEvM106JycpKyh2JiYnKCc9PT1zPycpJzonJykseClmb3IodD0tMSxpPWUubGVuZ3RoOysrdDxpOylpZihuPWUuY2hhckNvZGVBdCh0KSw0OD5ufHw1NzxuKXtrPSg0Nj09PW4/ZCtlLnNsaWNlKHQrMSk6ZS5zbGljZSh0KSkrayxlPWUuc2xpY2UoMCx0KTticmVha319ZyYmIXUmJihlPWEoZSxJbmZpbml0eSkpO3ZhciB3PWMubGVuZ3RoK2UubGVuZ3RoK2subGVuZ3RoLFM9dzxwP0FycmF5KHAtdysxKS5qb2luKG8pOicnO3N3aXRjaChnJiZ1JiYoZT1hKFMrZSxTLmxlbmd0aD9wLWsubGVuZ3RoOkluZmluaXR5KSxTPScnKSxsKXtjYXNlJzwnOmU9YytlK2srUzticmVhaztjYXNlJz0nOmU9YytTK2UrazticmVhaztjYXNlJ14nOmU9Uy5zbGljZSgwLHc9Uy5sZW5ndGg+PjEpK2MrZStrK1Muc2xpY2Uodyk7YnJlYWs7ZGVmYXVsdDplPVMrYytlK2s7fXJldHVybiByKGUpfWU9ZmUoZSk7dmFyIG89ZS5maWxsLGw9ZS5hbGlnbixzPWUuc2lnbixjPWUuc3ltYm9sLHU9ZS56ZXJvLHA9ZS53aWR0aCxnPWUuY29tbWEsZj1lLnByZWNpc2lvbixoPWUudHlwZSxiPSckJz09PWM/blswXTonIyc9PT1jJiYvW2JveFhdLy50ZXN0KGgpPycwJytoLnRvTG93ZXJDYXNlKCk6JycsbT0nJCc9PT1jP25bMV06L1slcF0vLnRlc3QoaCk/aTonJyx5PSRhW2hdLHg9IWh8fC9bZGVmZ3BycyVdLy50ZXN0KGgpO3JldHVybiBmPW51bGw9PWY/aD82OjEyOi9bZ3Byc10vLnRlc3QoaCk/Um4oMSxIbigyMSxmKSk6Um4oMCxIbigyMCxmKSksdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBlKycnfSx0fXZhciBhPWUuZ3JvdXBpbmcmJmUudGhvdXNhbmRzP1dhKGUuZ3JvdXBpbmcsZS50aG91c2FuZHMpOlphLG49ZS5jdXJyZW5jeSxkPWUuZGVjaW1hbCxyPWUubnVtZXJhbHM/VmEoZS5udW1lcmFscyk6WmEsaT1lLnBlcmNlbnR8fCclJztyZXR1cm57Zm9ybWF0OnQsZm9ybWF0UHJlZml4OmZ1bmN0aW9uKG4saSl7dmFyIGE9dCgobj1mZShuKSxuLnR5cGU9J2YnLG4pKSxkPTMqUm4oLTgsSG4oOCxGbihCYShpKS8zKSkpLHI9SW4oMTAsLWQpLG89R2FbOCtkLzNdO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gYShyKmUpK299fX19OyhmdW5jdGlvbihlKXtyZXR1cm4gcmU9ZWQoZSksSmE9cmUuZm9ybWF0LFFhPXJlLmZvcm1hdFByZWZpeCxyZX0pKHtkZWNpbWFsOicuJyx0aG91c2FuZHM6JywnLGdyb3VwaW5nOlszXSxjdXJyZW5jeTpbJyQnLCcnXX0pO3ZhciB0ZD1mdW5jdGlvbihlKXtyZXR1cm4gUm4oMCwtQmEoVW4oZSkpKX0sbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUm4oMCwzKlJuKC04LEhuKDgsRm4oQmEodCkvMykpKS1CYShVbihlKSkpfSxpZD1mdW5jdGlvbihlLHQpe3JldHVybiBlPVVuKGUpLHQ9VW4odCktZSxSbigwLEJhKHQpLUJhKGUpKSsxfSxhZD1mdW5jdGlvbihlLHQsbil7dmFyIGksYT1lWzBdLGQ9ZVtlLmxlbmd0aC0xXSxyPVMoYSxkLG51bGw9PXQ/MTA6dCk7c3dpdGNoKG49ZmUobnVsbD09bj8nLGYnOm4pLG4udHlwZSl7Y2FzZSdzJzp7dmFyIG89Um4oVW4oYSksVW4oZCkpO3JldHVybiBudWxsIT1uLnByZWNpc2lvbnx8aXNOYU4oaT1uZChyLG8pKXx8KG4ucHJlY2lzaW9uPWkpLFFhKG4sbyl9Y2FzZScnOmNhc2UnZSc6Y2FzZSdnJzpjYXNlJ3AnOmNhc2Uncic6e251bGwhPW4ucHJlY2lzaW9ufHxpc05hTihpPWlkKHIsUm4oVW4oYSksVW4oZCkpKSl8fChuLnByZWNpc2lvbj1pLSgnZSc9PT1uLnR5cGUpKTticmVha31jYXNlJ2YnOmNhc2UnJSc6e251bGwhPW4ucHJlY2lzaW9ufHxpc05hTihpPXRkKHIpKXx8KG4ucHJlY2lzaW9uPWktMiooJyUnPT09bi50eXBlKSk7YnJlYWt9fXJldHVybiBKYShuKX0sZGQ9bmV3IERhdGUscmQ9bmV3IERhdGUsb2Q9eWUoZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKGUsdCl7ZS5zZXRUaW1lKCtlK3QpfSxmdW5jdGlvbihlLHQpe3JldHVybiB0LWV9KTtvZC5ldmVyeT1mdW5jdGlvbihlKXtyZXR1cm4gZT1GbihlKSxpc0Zpbml0ZShlKSYmMDxlPzE8ZT95ZShmdW5jdGlvbih0KXt0LnNldFRpbWUoRm4odC9lKSplKX0sZnVuY3Rpb24odCxuKXt0LnNldFRpbWUoK3QrbiplKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4obi10KS9lfSk6b2Q6bnVsbH07dmFyIGxkPTFlMyxzZD02ZTQsY2Q9MzZlNSx1ZD04NjRlNSxwZD02MDQ4ZTUsZ2Q9eWUoZnVuY3Rpb24oZSl7ZS5zZXRUaW1lKEZuKGUvbGQpKmxkKX0sZnVuY3Rpb24oZSx0KXtlLnNldFRpbWUoK2UrdCpsZCl9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQtZSkvbGR9LGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFVUQ1NlY29uZHMoKX0pLGZkPXllKGZ1bmN0aW9uKGUpe2Uuc2V0VGltZShGbihlL3NkKSpzZCl9LGZ1bmN0aW9uKGUsdCl7ZS5zZXRUaW1lKCtlK3Qqc2QpfSxmdW5jdGlvbihlLHQpe3JldHVybih0LWUpL3NkfSxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRNaW51dGVzKCl9KSxoZD15ZShmdW5jdGlvbihlKXt2YXIgdD1lLmdldFRpbWV6b25lT2Zmc2V0KCkqc2QlY2Q7MD50JiYodCs9Y2QpLGUuc2V0VGltZShGbigoK2UtdCkvY2QpKmNkK3QpfSxmdW5jdGlvbihlLHQpe2Uuc2V0VGltZSgrZSt0KmNkKX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4odC1lKS9jZH0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0SG91cnMoKX0pLGJkPXllKGZ1bmN0aW9uKGUpe2Uuc2V0SG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKGUsdCl7ZS5zZXREYXRlKGUuZ2V0RGF0ZSgpK3QpfSxmdW5jdGlvbihlLHQpe3JldHVybih0LWUtKHQuZ2V0VGltZXpvbmVPZmZzZXQoKS1lLmdldFRpbWV6b25lT2Zmc2V0KCkpKnNkKS91ZH0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0RGF0ZSgpLTF9KSxtZD14ZSgwKSx5ZD14ZSgxKSx4ZD14ZSgyKSxrZD14ZSgzKSx2ZD14ZSg0KSx3ZD14ZSg1KSxTZD14ZSg2KSxDZD15ZShmdW5jdGlvbihlKXtlLnNldERhdGUoMSksZS5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24oZSx0KXtlLnNldE1vbnRoKGUuZ2V0TW9udGgoKSt0KX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5nZXRNb250aCgpLWUuZ2V0TW9udGgoKSsxMioodC5nZXRGdWxsWWVhcigpLWUuZ2V0RnVsbFllYXIoKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE1vbnRoKCl9KSxUZD15ZShmdW5jdGlvbihlKXtlLnNldE1vbnRoKDAsMSksZS5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24oZSx0KXtlLnNldEZ1bGxZZWFyKGUuZ2V0RnVsbFllYXIoKSt0KX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5nZXRGdWxsWWVhcigpLWUuZ2V0RnVsbFllYXIoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0RnVsbFllYXIoKX0pO1RkLmV2ZXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBpc0Zpbml0ZShlPUZuKGUpKSYmMDxlP3llKGZ1bmN0aW9uKHQpe3Quc2V0RnVsbFllYXIoRm4odC5nZXRGdWxsWWVhcigpL2UpKmUpLHQuc2V0TW9udGgoMCwxKSx0LnNldEhvdXJzKDAsMCwwLDApfSxmdW5jdGlvbih0LG4pe3Quc2V0RnVsbFllYXIodC5nZXRGdWxsWWVhcigpK24qZSl9KTpudWxsfTt2YXIgX2Q9eWUoZnVuY3Rpb24oZSl7ZS5zZXRVVENTZWNvbmRzKDAsMCl9LGZ1bmN0aW9uKGUsdCl7ZS5zZXRUaW1lKCtlK3Qqc2QpfSxmdW5jdGlvbihlLHQpe3JldHVybih0LWUpL3NkfSxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRVVENNaW51dGVzKCl9KSxMZD15ZShmdW5jdGlvbihlKXtlLnNldFVUQ01pbnV0ZXMoMCwwLDApfSxmdW5jdGlvbihlLHQpe2Uuc2V0VGltZSgrZSt0KmNkKX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4odC1lKS9jZH0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VVRDSG91cnMoKX0pLEFkPXllKGZ1bmN0aW9uKGUpe2Uuc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKGUsdCl7ZS5zZXRVVENEYXRlKGUuZ2V0VVRDRGF0ZSgpK3QpfSxmdW5jdGlvbihlLHQpe3JldHVybih0LWUpL3VkfSxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRVVENEYXRlKCktMX0pLEVkPWtlKDApLERkPWtlKDEpLE1kPWtlKDIpLE9kPWtlKDMpLFVkPWtlKDQpLElkPWtlKDUpLE5kPWtlKDYpLGpkPXllKGZ1bmN0aW9uKGUpe2Uuc2V0VVRDRGF0ZSgxKSxlLnNldFVUQ0hvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihlLHQpe2Uuc2V0VVRDTW9udGgoZS5nZXRVVENNb250aCgpK3QpfSxmdW5jdGlvbihlLHQpe3JldHVybiB0LmdldFVUQ01vbnRoKCktZS5nZXRVVENNb250aCgpKzEyKih0LmdldFVUQ0Z1bGxZZWFyKCktZS5nZXRVVENGdWxsWWVhcigpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VVRDTW9udGgoKX0pLFJkPXllKGZ1bmN0aW9uKGUpe2Uuc2V0VVRDTW9udGgoMCwxKSxlLnNldFVUQ0hvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihlLHQpe2Uuc2V0VVRDRnVsbFllYXIoZS5nZXRVVENGdWxsWWVhcigpK3QpfSxmdW5jdGlvbihlLHQpe3JldHVybiB0LmdldFVUQ0Z1bGxZZWFyKCktZS5nZXRVVENGdWxsWWVhcigpfSxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRVVENGdWxsWWVhcigpfSk7UmQuZXZlcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzRmluaXRlKGU9Rm4oZSkpJiYwPGU/eWUoZnVuY3Rpb24odCl7dC5zZXRVVENGdWxsWWVhcihGbih0LmdldFVUQ0Z1bGxZZWFyKCkvZSkqZSksdC5zZXRVVENNb250aCgwLDEpLHQuc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKHQsbil7dC5zZXRVVENGdWxsWWVhcih0LmdldFVUQ0Z1bGxZZWFyKCkrbiplKX0pOm51bGx9O3ZhciBxZCxGZCxQZCxIZD17MDonMCcsIi0iOicnLF86JyAnfSx6ZD0vXlxzKlxkKy8sWWQ9L14lLyxCZD0vW1xcXF5cJFwqXCtcP1x8XFtcXVwoXClcLlx7XH1dL2c7KGZ1bmN0aW9uKGUpe3JldHVybiBxZD1DZShlKSxGZD1xZC51dGNGb3JtYXQsUGQ9cWQudXRjUGFyc2UscWR9KSh7ZGF0ZVRpbWU6JyV4LCAlWCcsZGF0ZTonJS1tLyUtZC8lWScsdGltZTonJS1JOiVNOiVTICVwJyxwZXJpb2RzOlsnQU0nLCdQTSddLGRheXM6WydTdW5kYXknLCdNb25kYXknLCdUdWVzZGF5JywnV2VkbmVzZGF5JywnVGh1cnNkYXknLCdGcmlkYXknLCdTYXR1cmRheSddLHNob3J0RGF5czpbJ1N1bicsJ01vbicsJ1R1ZScsJ1dlZCcsJ1RodScsJ0ZyaScsJ1NhdCddLG1vbnRoczpbJ0phbnVhcnknLCdGZWJydWFyeScsJ01hcmNoJywnQXByaWwnLCdNYXknLCdKdW5lJywnSnVseScsJ0F1Z3VzdCcsJ1NlcHRlbWJlcicsJ09jdG9iZXInLCdOb3ZlbWJlcicsJ0RlY2VtYmVyJ10sc2hvcnRNb250aHM6WydKYW4nLCdGZWInLCdNYXInLCdBcHInLCdNYXknLCdKdW4nLCdKdWwnLCdBdWcnLCdTZXAnLCdPY3QnLCdOb3YnLCdEZWMnXX0pO3ZhciBXZD0nJVktJW0tJWRUJUg6JU06JVMuJUxaJyxWZD1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZz9mdW5jdGlvbihlKXtyZXR1cm4gZS50b0lTT1N0cmluZygpfTpGZChXZCksS2Q9K25ldyBEYXRlKCcyMDAwLTAxLTAxVDAwOjAwOjAwLjAwMFonKT9mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShlKTtyZXR1cm4gaXNOYU4odCk/bnVsbDp0fTpQZChXZCksJGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goLy57Nn0vZykubWFwKGZ1bmN0aW9uKGUpe3JldHVybicjJytlfSl9OyRkKCcxZjc3YjRmZjdmMGUyY2EwMmNkNjI3Mjg5NDY3YmQ4YzU2NGJlMzc3YzI3ZjdmN2ZiY2JkMjIxN2JlY2YnKSwkZCgnMzkzYjc5NTI1NGEzNmI2ZWNmOWM5ZWRlNjM3OTM5OGNhMjUyYjVjZjZiY2VkYjljOGM2ZDMxYmQ5ZTM5ZTdiYTUyZTdjYjk0ODQzYzM5YWQ0OTRhZDY2MTZiZTc5NjljN2I0MTczYTU1MTk0Y2U2ZGJkZGU5ZWQ2JyksJGQoJzMxODJiZDZiYWVkNjllY2FlMWM2ZGJlZmU2NTUwZGZkOGQzY2ZkYWU2YmZkZDBhMjMxYTM1NDc0YzQ3NmExZDk5YmM3ZTljMDc1NmJiMTllOWFjOGJjYmRkY2RhZGFlYjYzNjM2Mzk2OTY5NmJkYmRiZGQ5ZDlkOScpLCRkKCcxZjc3YjRhZWM3ZThmZjdmMGVmZmJiNzgyY2EwMmM5OGRmOGFkNjI3MjhmZjk4OTY5NDY3YmRjNWIwZDU4YzU2NGJjNDljOTRlMzc3YzJmN2I2ZDI3ZjdmN2ZjN2M3YzdiY2JkMjJkYmRiOGQxN2JlY2Y5ZWRhZTUnKSxGYShRKDMwMCwwLjUsMCksUSgtMjQwLDAuNSwxKSk7dmFyIFhkPUZhKFEoLTEwMCwwLjc1LDAuMzUpLFEoODAsMS41LDAuOCkpLEpkPUZhKFEoMjYwLDAuNzUsMC4zNSksUSg4MCwxLjUsMC44KSksUWQ9USgpO3l0KCRkKCc0NDAxNTQ0NDAyNTY0NTA0NTc0NTA1NTk0NjA3NWE0NjA4NWM0NjBhNWQ0NjBiNWU0NzBkNjA0NzBlNjE0NzEwNjM0NzExNjQ0NzEzNjU0ODE0Njc0ODE2Njg0ODE3Njk0ODE4NmE0ODFhNmM0ODFiNmQ0ODFjNmU0ODFkNmY0ODFmNzA0ODIwNzE0ODIxNzM0ODIzNzQ0ODI0NzU0ODI1NzY0ODI2Nzc0ODI4Nzg0ODI5Nzk0NzJhN2E0NzJjN2E0NzJkN2I0NzJlN2M0NzJmN2Q0NjMwN2U0NjMyN2U0NjMzN2Y0NjM0ODA0NTM1ODE0NTM3ODE0NTM4ODI0NDM5ODM0NDNhODM0NDNiODQ0MzNkODQ0MzNlODU0MjNmODU0MjQwODY0MjQxODY0MTQyODc0MTQ0ODc0MDQ1ODg0MDQ2ODgzZjQ3ODgzZjQ4ODkzZTQ5ODkzZTRhODkzZTRjOGEzZDRkOGEzZDRlOGEzYzRmOGEzYzUwOGIzYjUxOGIzYjUyOGIzYTUzOGIzYTU0OGMzOTU1OGMzOTU2OGMzODU4OGMzODU5OGMzNzVhOGMzNzViOGQzNjVjOGQzNjVkOGQzNTVlOGQzNTVmOGQzNDYwOGQzNDYxOGQzMzYyOGQzMzYzOGQzMjY0OGUzMjY1OGUzMTY2OGUzMTY3OGUzMTY4OGUzMDY5OGUzMDZhOGUyZjZiOGUyZjZjOGUyZTZkOGUyZTZlOGUyZTZmOGUyZDcwOGUyZDcxOGUyYzcxOGUyYzcyOGUyYzczOGUyYjc0OGUyYjc1OGUyYTc2OGUyYTc3OGUyYTc4OGUyOTc5OGUyOTdhOGUyOTdiOGUyODdjOGUyODdkOGUyNzdlOGUyNzdmOGUyNzgwOGUyNjgxOGUyNjgyOGUyNjgyOGUyNTgzOGUyNTg0OGUyNTg1OGUyNDg2OGUyNDg3OGUyMzg4OGUyMzg5OGUyMzhhOGQyMjhiOGQyMjhjOGQyMjhkOGQyMThlOGQyMThmOGQyMTkwOGQyMTkxOGMyMDkyOGMyMDkyOGMyMDkzOGMxZjk0OGMxZjk1OGIxZjk2OGIxZjk3OGIxZjk4OGIxZjk5OGExZjlhOGExZTliOGExZTljODkxZTlkODkxZjllODkxZjlmODgxZmEwODgxZmExODgxZmExODcxZmEyODcyMGEzODYyMGE0ODYyMWE1ODUyMWE2ODUyMmE3ODUyMmE4ODQyM2E5ODMyNGFhODMyNWFiODIyNWFjODIyNmFkODEyN2FkODEyOGFlODAyOWFmN2YyYWIwN2YyY2IxN2UyZGIyN2QyZWIzN2MyZmI0N2MzMWI1N2IzMmI2N2EzNGI2NzkzNWI3NzkzN2I4NzgzOGI5NzczYWJhNzYzYmJiNzUzZGJjNzQzZmJjNzM0MGJkNzI0MmJlNzE0NGJmNzA0NmMwNmY0OGMxNmU0YWMxNmQ0Y2MyNmM0ZWMzNmI1MGM0NmE1MmM1Njk1NGM1Njg1NmM2Njc1OGM3NjU1YWM4NjQ1Y2M4NjM1ZWM5NjI2MGNhNjA2M2NiNWY2NWNiNWU2N2NjNWM2OWNkNWI2Y2NkNWE2ZWNlNTg3MGNmNTc3M2QwNTY3NWQwNTQ3N2QxNTM3YWQxNTE3Y2QyNTA3ZmQzNGU4MWQzNGQ4NGQ0NGI4NmQ1NDk4OWQ1NDg4YmQ2NDY4ZWQ2NDU5MGQ3NDM5M2Q3NDE5NWQ4NDA5OGQ4M2U5YmQ5M2M5ZGQ5M2JhMGRhMzlhMmRhMzdhNWRiMzZhOGRiMzRhYWRjMzJhZGRjMzBiMGRkMmZiMmRkMmRiNWRlMmJiOGRlMjliYWRlMjhiZGRmMjZjMGRmMjVjMmRmMjNjNWUwMjFjOGUwMjBjYWUxMWZjZGUxMWRkMGUxMWNkMmUyMWJkNWUyMWFkOGUyMTlkYWUzMTlkZGUzMThkZmUzMThlMmU0MThlNWU0MTllN2U0MTllYWU1MWFlY2U1MWJlZmU1MWNmMWU1MWRmNGU2MWVmNmU2MjBmOGU2MjFmYmU3MjNmZGU3MjUnKSk7dmFyIFpkPXl0KCRkKCcwMDAwMDQwMTAwMDUwMTAxMDYwMTAxMDgwMjAxMDkwMjAyMGIwMjAyMGQwMzAzMGYwMzAzMTIwNDA0MTQwNTA0MTYwNjA1MTgwNjA1MWEwNzA2MWMwODA3MWUwOTA3MjAwYTA4MjIwYjA5MjQwYzA5MjYwZDBhMjkwZTBiMmIxMDBiMmQxMTBjMmYxMjBkMzExMzBkMzQxNDBlMzYxNTBlMzgxNjBmM2IxODBmM2QxOTEwM2YxYTEwNDIxYzEwNDQxZDExNDcxZTExNDkyMDExNGIyMTExNGUyMjExNTAyNDEyNTMyNTEyNTUyNzEyNTgyOTExNWEyYTExNWMyYzExNWYyZDExNjEyZjExNjMzMTExNjUzMzEwNjczNDEwNjkzNjEwNmIzODEwNmMzOTBmNmUzYjBmNzAzZDBmNzEzZjBmNzI0MDBmNzQ0MjBmNzU0NDBmNzY0NTEwNzc0NzEwNzg0OTEwNzg0YTEwNzk0YzExN2E0ZTExN2I0ZjEyN2I1MTEyN2M1MjEzN2M1NDEzN2Q1NjE0N2Q1NzE1N2U1OTE1N2U1YTE2N2U1YzE2N2Y1ZDE3N2Y1ZjE4N2Y2MDE4ODA2MjE5ODA2NDFhODA2NTFhODA2NzFiODA2ODFjODE2YTFjODE2YjFkODE2ZDFkODE2ZTFlODE3MDFmODE3MjFmODE3MzIwODE3NTIxODE3NjIxODE3ODIyODE3OTIyODI3YjIzODI3YzIzODI3ZTI0ODI4MDI1ODI4MTI1ODE4MzI2ODE4NDI2ODE4NjI3ODE4ODI3ODE4OTI4ODE4YjI5ODE4YzI5ODE4ZTJhODE5MDJhODE5MTJiODE5MzJiODA5NDJjODA5NjJjODA5ODJkODA5OTJkODA5YjJlN2Y5YzJlN2Y5ZTJmN2ZhMDJmN2ZhMTMwN2VhMzMwN2VhNTMxN2VhNjMxN2RhODMyN2RhYTMzN2RhYjMzN2NhZDM0N2NhZTM0N2JiMDM1N2JiMjM1N2JiMzM2N2FiNTM2N2FiNzM3NzliODM3NzliYTM4NzhiYzM5NzhiZDM5NzdiZjNhNzdjMDNhNzZjMjNiNzVjNDNjNzVjNTNjNzRjNzNkNzNjODNlNzNjYTNlNzJjYzNmNzFjZDQwNzFjZjQwNzBkMDQxNmZkMjQyNmZkMzQzNmVkNTQ0NmRkNjQ1NmNkODQ1NmNkOTQ2NmJkYjQ3NmFkYzQ4NjlkZTQ5NjhkZjRhNjhlMDRjNjdlMjRkNjZlMzRlNjVlNDRmNjRlNTUwNjRlNzUyNjNlODUzNjJlOTU0NjJlYTU2NjFlYjU3NjBlYzU4NjBlZDVhNWZlZTViNWVlZjVkNWVmMDVmNWVmMTYwNWRmMjYyNWRmMjY0NWNmMzY1NWNmNDY3NWNmNDY5NWNmNTZiNWNmNjZjNWNmNjZlNWNmNzcwNWNmNzcyNWNmODc0NWNmODc2NWNmOTc4NWRmOTc5NWRmOTdiNWRmYTdkNWVmYTdmNWVmYTgxNWZmYjgzNWZmYjg1NjBmYjg3NjFmYzg5NjFmYzhhNjJmYzhjNjNmYzhlNjRmYzkwNjVmZDkyNjZmZDk0NjdmZDk2NjhmZDk4NjlmZDlhNmFmZDliNmJmZTlkNmNmZTlmNmRmZWExNmVmZWEzNmZmZWE1NzFmZWE3NzJmZWE5NzNmZWFhNzRmZWFjNzZmZWFlNzdmZWIwNzhmZWIyN2FmZWI0N2JmZWI2N2NmZWI3N2VmZWI5N2ZmZWJiODFmZWJkODJmZWJmODRmZWMxODVmZWMyODdmZWM0ODhmZWM2OGFmZWM4OGNmZWNhOGRmZWNjOGZmZWNkOTBmZWNmOTJmZWQxOTRmZWQzOTVmZWQ1OTdmZWQ3OTlmZWQ4OWFmZGRhOWNmZGRjOWVmZGRlYTBmZGUwYTFmZGUyYTNmZGUzYTVmZGU1YTdmZGU3YTlmZGU5YWFmZGViYWNmY2VjYWVmY2VlYjBmY2YwYjJmY2YyYjRmY2Y0YjZmY2Y2YjhmY2Y3YjlmY2Y5YmJmY2ZiYmRmY2ZkYmYnKSksR2Q9eXQoJGQoJzAwMDAwNDAxMDAwNTAxMDEwNjAxMDEwODAyMDEwYTAyMDIwYzAyMDIwZTAzMDIxMDA0MDMxMjA0MDMxNDA1MDQxNzA2MDQxOTA3MDUxYjA4MDUxZDA5MDYxZjBhMDcyMjBiMDcyNDBjMDgyNjBkMDgyOTBlMDkyYjEwMDkyZDExMGEzMDEyMGEzMjE0MGIzNDE1MGIzNzE2MGIzOTE4MGMzYzE5MGMzZTFiMGM0MTFjMGM0MzFlMGM0NTFmMGM0ODIxMGM0YTIzMGM0YzI0MGM0ZjI2MGM1MTI4MGI1MzI5MGI1NTJiMGI1NzJkMGI1OTJmMGE1YjMxMGE1YzMyMGE1ZTM0MGE1ZjM2MDk2MTM4MDk2MjM5MDk2MzNiMDk2NDNkMDk2NTNlMDk2NjQwMGE2NzQyMGE2ODQ0MGE2ODQ1MGE2OTQ3MGI2YTQ5MGI2YTRhMGM2YjRjMGM2YjRkMGQ2YzRmMGQ2YzUxMGU2YzUyMGU2ZDU0MGY2ZDU1MGY2ZDU3MTA2ZTU5MTA2ZTVhMTE2ZTVjMTI2ZTVkMTI2ZTVmMTM2ZTYxMTM2ZTYyMTQ2ZTY0MTU2ZTY1MTU2ZTY3MTY2ZTY5MTY2ZTZhMTc2ZTZjMTg2ZTZkMTg2ZTZmMTk2ZTcxMTk2ZTcyMWE2ZTc0MWE2ZTc1MWI2ZTc3MWM2ZDc4MWM2ZDdhMWQ2ZDdjMWQ2ZDdkMWU2ZDdmMWU2YzgwMWY2YzgyMjA2Yzg0MjA2Yjg1MjE2Yjg3MjE2Yjg4MjI2YThhMjI2YThjMjM2OThkMjM2OThmMjQ2OTkwMjU2ODkyMjU2ODkzMjY2Nzk1MjY2Nzk3Mjc2Njk4Mjc2NjlhMjg2NTliMjk2NDlkMjk2NDlmMmE2M2EwMmE2M2EyMmI2MmEzMmM2MWE1MmM2MGE2MmQ2MGE4MmU1ZmE5MmU1ZWFiMmY1ZWFkMzA1ZGFlMzA1Y2IwMzE1YmIxMzI1YWIzMzI1YWI0MzM1OWI2MzQ1OGI3MzU1N2I5MzU1NmJhMzY1NWJjMzc1NGJkMzg1M2JmMzk1MmMwM2E1MWMxM2E1MGMzM2I0ZmM0M2M0ZWM2M2Q0ZGM3M2U0Y2M4M2Y0YmNhNDA0YWNiNDE0OWNjNDI0OGNlNDM0N2NmNDQ0NmQwNDU0NWQyNDY0NGQzNDc0M2Q0NDg0MmQ1NGE0MWQ3NGIzZmQ4NGMzZWQ5NGQzZGRhNGUzY2RiNTAzYmRkNTEzYWRlNTIzOGRmNTMzN2UwNTUzNmUxNTYzNWUyNTczNGUzNTkzM2U0NWEzMWU1NWMzMGU2NWQyZmU3NWUyZWU4NjAyZGU5NjEyYmVhNjMyYWViNjQyOWViNjYyOGVjNjcyNmVkNjkyNWVlNmEyNGVmNmMyM2VmNmUyMWYwNmYyMGYxNzExZmYxNzMxZGYyNzQxY2YzNzYxYmYzNzgxOWY0NzkxOGY1N2IxN2Y1N2QxNWY2N2UxNGY2ODAxM2Y3ODIxMmY3ODQxMGY4ODUwZmY4ODcwZWY4ODkwY2Y5OGIwYmY5OGMwYWY5OGUwOWZhOTAwOGZhOTIwN2ZhOTQwN2ZiOTYwNmZiOTcwNmZiOTkwNmZiOWIwNmZiOWQwN2ZjOWYwN2ZjYTEwOGZjYTMwOWZjYTUwYWZjYTYwY2ZjYTgwZGZjYWEwZmZjYWMxMWZjYWUxMmZjYjAxNGZjYjIxNmZjYjQxOGZiYjYxYWZiYjgxZGZiYmExZmZiYmMyMWZiYmUyM2ZhYzAyNmZhYzIyOGZhYzQyYWZhYzYyZGY5YzcyZmY5YzkzMmY5Y2IzNWY4Y2QzN2Y4Y2YzYWY3ZDEzZGY3ZDM0MGY2ZDU0M2Y2ZDc0NmY1ZDk0OWY1ZGI0Y2Y0ZGQ0ZmY0ZGY1M2Y0ZTE1NmYzZTM1YWYzZTU1ZGYyZTY2MWYyZTg2NWYyZWE2OWYxZWM2ZGYxZWQ3MWYxZWY3NWYxZjE3OWYyZjI3ZGYyZjQ4MmYzZjU4NmYzZjY4YWY0Zjg4ZWY1Zjk5MmY2ZmE5NmY4ZmI5YWY5ZmM5ZGZhZmRhMWZjZmZhNCcpKSxlcj15dCgkZCgnMGQwODg3MTAwNzg4MTMwNzg5MTYwNzhhMTkwNjhjMWIwNjhkMWQwNjhlMjAwNjhmMjIwNjkwMjQwNjkxMjYwNTkxMjgwNTkyMmEwNTkzMmMwNTk0MmUwNTk1MmYwNTk2MzEwNTk3MzMwNTk3MzUwNDk4MzcwNDk5MzgwNDlhM2EwNDlhM2MwNDliM2UwNDljM2YwNDljNDEwNDlkNDMwMzllNDQwMzllNDYwMzlmNDgwMzlmNDkwM2EwNGIwM2ExNGMwMmExNGUwMmEyNTAwMmEyNTEwMmEzNTMwMmEzNTUwMmE0NTYwMWE0NTgwMWE0NTkwMWE1NWIwMWE1NWMwMWE2NWUwMWE2NjAwMWE2NjEwMGE3NjMwMGE3NjQwMGE3NjYwMGE3NjcwMGE4NjkwMGE4NmEwMGE4NmMwMGE4NmUwMGE4NmYwMGE4NzEwMGE4NzIwMWE4NzQwMWE4NzUwMWE4NzcwMWE4NzgwMWE4N2EwMmE4N2IwMmE4N2QwM2E4N2UwM2E4ODAwNGE4ODEwNGE3ODMwNWE3ODQwNWE3ODYwNmE2ODcwN2E2ODgwOGE2OGEwOWE1OGIwYWE1OGQwYmE1OGUwY2E0OGYwZGE0OTEwZWEzOTIwZmEzOTQxMGEyOTUxMWExOTYxM2ExOTgxNGEwOTkxNTlmOWExNjlmOWMxNzllOWQxODlkOWUxOTlkYTAxYTljYTExYjliYTIxZDlhYTMxZTlhYTUxZjk5YTYyMDk4YTcyMTk3YTgyMjk2YWEyMzk1YWIyNDk0YWMyNjk0YWQyNzkzYWUyODkyYjAyOTkxYjEyYTkwYjIyYjhmYjMyYzhlYjQyZThkYjUyZjhjYjYzMDhiYjczMThhYjgzMjg5YmEzMzg4YmIzNDg4YmMzNTg3YmQzNzg2YmUzODg1YmYzOTg0YzAzYTgzYzEzYjgyYzIzYzgxYzMzZDgwYzQzZTdmYzU0MDdlYzY0MTdkYzc0MjdjYzg0MzdiYzk0NDdhY2E0NTdhY2I0Njc5Y2M0Nzc4Y2M0OTc3Y2Q0YTc2Y2U0Yjc1Y2Y0Yzc0ZDA0ZDczZDE0ZTcyZDI0ZjcxZDM1MTcxZDQ1MjcwZDU1MzZmZDU1NDZlZDY1NTZkZDc1NjZjZDg1NzZiZDk1ODZhZGE1YTZhZGE1YjY5ZGI1YzY4ZGM1ZDY3ZGQ1ZTY2ZGU1ZjY1ZGU2MTY0ZGY2MjYzZTA2MzYzZTE2NDYyZTI2NTYxZTI2NjYwZTM2ODVmZTQ2OTVlZTU2YTVkZTU2YjVkZTY2YzVjZTc2ZTViZTc2ZjVhZTg3MDU5ZTk3MTU4ZTk3MjU3ZWE3NDU3ZWI3NTU2ZWI3NjU1ZWM3NzU0ZWQ3OTUzZWQ3YTUyZWU3YjUxZWY3YzUxZWY3ZTUwZjA3ZjRmZjA4MDRlZjE4MTRkZjE4MzRjZjI4NDRiZjM4NTRiZjM4NzRhZjQ4ODQ5ZjQ4OTQ4ZjU4YjQ3ZjU4YzQ2ZjY4ZDQ1ZjY4ZjQ0Zjc5MDQ0Zjc5MTQzZjc5MzQyZjg5NDQxZjg5NTQwZjk5NzNmZjk5ODNlZjk5YTNlZmE5YjNkZmE5YzNjZmE5ZTNiZmI5ZjNhZmJhMTM5ZmJhMjM4ZmNhMzM4ZmNhNTM3ZmNhNjM2ZmNhODM1ZmNhOTM0ZmRhYjMzZmRhYzMzZmRhZTMyZmRhZjMxZmRiMTMwZmRiMjJmZmRiNDJmZmRiNTJlZmViNzJkZmViODJjZmViYTJjZmViYjJiZmViZDJhZmViZTJhZmVjMDI5ZmRjMjI5ZmRjMzI4ZmRjNTI3ZmRjNjI3ZmRjODI3ZmRjYTI2ZmRjYjI2ZmNjZDI1ZmNjZTI1ZmNkMDI1ZmNkMjI1ZmJkMzI0ZmJkNTI0ZmJkNzI0ZmFkODI0ZmFkYTI0ZjlkYzI0ZjlkZDI1ZjhkZjI1ZjhlMTI1ZjdlMjI1ZjdlNDI1ZjZlNjI2ZjZlODI2ZjVlOTI2ZjVlYjI3ZjRlZDI3ZjNlZTI3ZjNmMDI3ZjJmMjI3ZjFmNDI2ZjFmNTI1ZjBmNzI0ZjBmOTIxJykpLHRyPXt2YWx1ZTpmdW5jdGlvbigpe319O2t0LnByb3RvdHlwZT14dC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmt0LG9uOmZ1bmN0aW9uKGUsYSl7dmFyIGQsdD10aGlzLl8scj12dChlKycnLHQpLG89LTEsaT1yLmxlbmd0aDtpZigyPmFyZ3VtZW50cy5sZW5ndGgpe2Zvcig7KytvPGk7KWlmKChkPShlPXJbb10pLnR5cGUpJiYoZD13dCh0W2RdLGUubmFtZSkpKXJldHVybiBkO3JldHVybn1pZihudWxsIT1hJiYnZnVuY3Rpb24nIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY2FsbGJhY2s6ICcrYSk7Zm9yKDsrK288aTspaWYoZD0oZT1yW29dKS50eXBlKXRbZF09U3QodFtkXSxlLm5hbWUsYSk7ZWxzZSBpZihudWxsPT1hKWZvcihkIGluIHQpdFtkXT1TdCh0W2RdLGUubmFtZSxudWxsKTtyZXR1cm4gdGhpc30sY29weTpmdW5jdGlvbigpe3ZhciBlPXt9LG49dGhpcy5fO2Zvcih2YXIgaSBpbiBuKWVbaV09bltpXS5zbGljZSgpO3JldHVybiBuZXcga3QoZSl9LGNhbGw6ZnVuY3Rpb24oZSxhKXtpZigwPChkPWFyZ3VtZW50cy5sZW5ndGgtMikpZm9yKHZhciBkLG4sdD1BcnJheShkKSxyPTA7cjxkOysrcil0W3JdPWFyZ3VtZW50c1tyKzJdO2lmKCF0aGlzLl8uaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHR5cGU6ICcrZSk7Zm9yKG49dGhpcy5fW2VdLHI9MCxkPW4ubGVuZ3RoO3I8ZDsrK3IpbltyXS52YWx1ZS5hcHBseShhLHQpfSxhcHBseTpmdW5jdGlvbihlLGEsZCl7aWYoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdHlwZTogJytlKTtmb3IodmFyIHI9dGhpcy5fW2VdLHQ9MCxpPXIubGVuZ3RoO3Q8aTsrK3Qpclt0XS52YWx1ZS5hcHBseShhLGQpfX07dmFyIG5yPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyxpcj17c3ZnOidodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycseGh0bWw6bnIseGxpbms6J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLHhtbDonaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJyx4bWxuczonaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8nfSxhcj1mdW5jdGlvbihlKXt2YXIgdD1lKz0nJyxuPXQuaW5kZXhPZignOicpO3JldHVybiAwPD1uJiYneG1sbnMnIT09KHQ9ZS5zbGljZSgwLG4pKSYmKGU9ZS5zbGljZShuKzEpKSxpci5oYXNPd25Qcm9wZXJ0eSh0KT97c3BhY2U6aXJbdF0sbG9jYWw6ZX06ZX0sZHI9ZnVuY3Rpb24oZSl7dmFyIHQ9YXIoZSk7cmV0dXJuKHQubG9jYWw/VHQ6Q3QpKHQpfSxycj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaGVzKGUpfX07aWYoJ3VuZGVmaW5lZCchPXR5cGVvZiBkb2N1bWVudCl7dmFyIG9yPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpZighb3IubWF0Y2hlcyl7dmFyIGxyPW9yLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8b3IubXNNYXRjaGVzU2VsZWN0b3J8fG9yLm1vek1hdGNoZXNTZWxlY3Rvcnx8b3Iub01hdGNoZXNTZWxlY3Rvcjtycj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbHIuY2FsbCh0aGlzLGUpfX19fXZhciBzcj1ycixjcj17fSx1cj1udWxsO2lmKCd1bmRlZmluZWQnIT10eXBlb2YgZG9jdW1lbnQpe3ZhciBwcj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7J29ubW91c2VlbnRlcidpbiBwcnx8KGNyPXttb3VzZWVudGVyOidtb3VzZW92ZXInLG1vdXNlbGVhdmU6J21vdXNlb3V0J30pfXZhciBncj1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXVyO2U9dC5zb3VyY2VFdmVudDspdD1lO3JldHVybiB0fSxmcj1mdW5jdGlvbihlLHQpe3ZhciBuPWUub3duZXJTVkdFbGVtZW50fHxlO2lmKG4uY3JlYXRlU1ZHUG9pbnQpe3ZhciBpPW4uY3JlYXRlU1ZHUG9pbnQoKTtyZXR1cm4gaS54PXQuY2xpZW50WCxpLnk9dC5jbGllbnRZLGk9aS5tYXRyaXhUcmFuc2Zvcm0oZS5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpLFtpLngsaS55XX12YXIgYT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVyblt0LmNsaWVudFgtYS5sZWZ0LWUuY2xpZW50TGVmdCx0LmNsaWVudFktYS50b3AtZS5jbGllbnRUb3BdfSxocj1mdW5jdGlvbihlKXt2YXIgdD1ncigpO3JldHVybiB0LmNoYW5nZWRUb3VjaGVzJiYodD10LmNoYW5nZWRUb3VjaGVzWzBdKSxmcihlLHQpfSxicj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9PdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3IoZSl9fSxtcj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9VdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoZSl9fSx5cj1mdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkoZS5sZW5ndGgpfTtJdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkl0LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGUsdGhpcy5fbmV4dCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGUsdCl9LHF1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKGUpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChlKX19O3ZhciB4cj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19LGtyPSckJyx2cj1mdW5jdGlvbihlKXtyZXR1cm4gZS5vd25lckRvY3VtZW50JiZlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fGUuZG9jdW1lbnQmJmV8fGUuZGVmYXVsdFZpZXd9O0d0LnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX25hbWVzLmluZGV4T2YoZSk7MD50JiYodGhpcy5fbmFtZXMucHVzaChlKSx0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLHRoaXMuX25hbWVzLmpvaW4oJyAnKSkpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbmFtZXMuaW5kZXhPZihlKTswPD10JiYodGhpcy5fbmFtZXMuc3BsaWNlKHQsMSksdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyx0aGlzLl9uYW1lcy5qb2luKCcgJykpKX0sY29udGFpbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIDA8PXRoaXMuX25hbWVzLmluZGV4T2YoZSl9fTt2YXIgd3I9W251bGxdO3huLnByb3RvdHlwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgeG4oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSx3cil9LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eG4sc2VsZWN0OmZ1bmN0aW9uKGUpeydmdW5jdGlvbichPXR5cGVvZiBlJiYoZT1icihlKSk7Zm9yKHZhciB0PXRoaXMuX2dyb3VwcyxhPXQubGVuZ3RoLGQ9QXJyYXkoYSkscj0wO3I8YTsrK3IpZm9yKHZhciBvLGwscz10W3JdLGM9cy5sZW5ndGgsbj1kW3JdPUFycmF5KGMpLHU9MDt1PGM7Kyt1KShvPXNbdV0pJiYobD1lLmNhbGwobyxvLl9fZGF0YV9fLHUscykpJiYoJ19fZGF0YV9fJ2luIG8mJihsLl9fZGF0YV9fPW8uX19kYXRhX18pLG5bdV09bCk7cmV0dXJuIG5ldyB4bihkLHRoaXMuX3BhcmVudHMpfSxzZWxlY3RBbGw6ZnVuY3Rpb24oZSl7J2Z1bmN0aW9uJyE9dHlwZW9mIGUmJihlPW1yKGUpKTtmb3IodmFyIHQ9dGhpcy5fZ3JvdXBzLGE9dC5sZW5ndGgsZD1bXSxyPVtdLG89MDtvPGE7KytvKWZvcih2YXIgbCxzPXRbb10sYz1zLmxlbmd0aCxuPTA7bjxjOysrbikobD1zW25dKSYmKGQucHVzaChlLmNhbGwobCxsLl9fZGF0YV9fLG4scykpLHIucHVzaChsKSk7cmV0dXJuIG5ldyB4bihkLHIpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7J2Z1bmN0aW9uJyE9dHlwZW9mIGUmJihlPXNyKGUpKTtmb3IodmFyIHQ9dGhpcy5fZ3JvdXBzLGE9dC5sZW5ndGgsZD1BcnJheShhKSxyPTA7cjxhOysrcilmb3IodmFyIG8sbD10W3JdLHM9bC5sZW5ndGgsbj1kW3JdPVtdLGM9MDtjPHM7KytjKShvPWxbY10pJiZlLmNhbGwobyxvLl9fZGF0YV9fLGMsbCkmJm4ucHVzaChvKTtyZXR1cm4gbmV3IHhuKGQsdGhpcy5fcGFyZW50cyl9LGRhdGE6ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gZz1BcnJheSh0aGlzLnNpemUoKSkscz0tMSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7Z1srK3NdPWV9KSxnO3ZhciBuPXQ/anQ6TnQsaT10aGlzLl9wYXJlbnRzLGE9dGhpcy5fZ3JvdXBzOydmdW5jdGlvbichPXR5cGVvZiBlJiYoZT14cihlKSk7Zm9yKHZhciBkPWEubGVuZ3RoLHI9QXJyYXkoZCksbz1BcnJheShkKSxsPUFycmF5KGQpLHM9MDtzPGQ7KytzKXt2YXIgYz1pW3NdLHU9YVtzXSxwPXUubGVuZ3RoLGc9ZS5jYWxsKGMsYyYmYy5fX2RhdGFfXyxzLGkpLGY9Zy5sZW5ndGgsaD1vW3NdPUFycmF5KGYpLGI9cltzXT1BcnJheShmKSxtPWxbc109QXJyYXkocCk7bihjLHUsaCxiLG0sZyx0KTtmb3IodmFyIHkseCxrPTAsdj0wO2s8ZjsrK2spaWYoeT1oW2tdKXtmb3Ioaz49diYmKHY9aysxKTshKHg9Ylt2XSkmJisrdjxmOyk7eS5fbmV4dD14fHxudWxsfX1yZXR1cm4gcj1uZXcgeG4ocixpKSxyLl9lbnRlcj1vLHIuX2V4aXQ9bCxyfSxlbnRlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgeG4odGhpcy5fZW50ZXJ8fHRoaXMuX2dyb3Vwcy5tYXAoeXIpLHRoaXMuX3BhcmVudHMpfSxleGl0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4bih0aGlzLl9leGl0fHx0aGlzLl9ncm91cHMubWFwKHlyKSx0aGlzLl9wYXJlbnRzKX0sbWVyZ2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dyb3VwcyxhPWUuX2dyb3VwcyxkPXQubGVuZ3RoLHI9YS5sZW5ndGgsbz1IbihkLHIpLGw9QXJyYXkoZCkscz0wO3M8bzsrK3MpZm9yKHZhciBjLHU9dFtzXSxwPWFbc10sZz11Lmxlbmd0aCxuPWxbc109QXJyYXkoZyksZj0wO2Y8ZzsrK2YpKGM9dVtmXXx8cFtmXSkmJihuW2ZdPWMpO2Zvcig7czxkOysrcylsW3NdPXRbc107cmV0dXJuIG5ldyB4bihsLHRoaXMuX3BhcmVudHMpfSxvcmRlcjpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9ncm91cHMsdD0tMSxuPWUubGVuZ3RoOysrdDxuOylmb3IodmFyIGEsZD1lW3RdLHI9ZC5sZW5ndGgtMSxpPWRbcl07MDw9LS1yOykoYT1kW3JdKSYmKGkmJmkhPT1hLm5leHRTaWJsaW5nJiZpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsaSksaT1hKTtyZXR1cm4gdGhpc30sc29ydDpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIHQmJm4/ZSh0Ll9fZGF0YV9fLG4uX19kYXRhX18pOiF0LSFufWV8fChlPVJ0KTtmb3IodmFyIGE9dGhpcy5fZ3JvdXBzLGQ9YS5sZW5ndGgscj1BcnJheShkKSxvPTA7bzxkOysrbyl7Zm9yKHZhciBsLHM9YVtvXSxjPXMubGVuZ3RoLG49cltvXT1BcnJheShjKSx1PTA7dTxjOysrdSkobD1zW3VdKSYmKG5bdV09bCk7bi5zb3J0KHQpfXJldHVybiBuZXcgeG4ocix0aGlzLl9wYXJlbnRzKS5vcmRlcigpfSxjYWxsOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBhcmd1bWVudHNbMF09dGhpcyxlLmFwcGx5KG51bGwsYXJndW1lbnRzKSx0aGlzfSxub2RlczpmdW5jdGlvbigpe3ZhciBlPUFycmF5KHRoaXMuc2l6ZSgpKSx0PS0xO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtlWysrdF09dGhpc30pLGV9LG5vZGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fZ3JvdXBzLHQ9MCxhPWUubGVuZ3RoO3Q8YTsrK3QpZm9yKHZhciBkLHI9ZVt0XSxvPTAsaT1yLmxlbmd0aDtvPGk7KytvKWlmKGQ9cltvXSxkKXJldHVybiBkO3JldHVybiBudWxsfSxzaXplOmZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7KytlfSksZX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ub2RlKCl9LGVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dyb3VwcyxhPTAsZD10Lmxlbmd0aDthPGQ7KythKWZvcih2YXIgcixvPXRbYV0sbD0wLGk9by5sZW5ndGg7bDxpOysrbCkocj1vW2xdKSYmZS5jYWxsKHIsci5fX2RhdGFfXyxsLG8pO3JldHVybiB0aGlzfSxhdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXIoZSk7aWYoMj5hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT10aGlzLm5vZGUoKTtyZXR1cm4gbi5sb2NhbD9pLmdldEF0dHJpYnV0ZU5TKG4uc3BhY2Usbi5sb2NhbCk6aS5nZXRBdHRyaWJ1dGUobil9cmV0dXJuIHRoaXMuZWFjaCgobnVsbD09dD9uLmxvY2FsP0Z0OnF0OidmdW5jdGlvbic9PXR5cGVvZiB0P24ubG9jYWw/WXQ6enQ6bi5sb2NhbD9IdDpQdCkobix0KSl9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMTxhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaCgobnVsbD09dD9CdDonZnVuY3Rpb24nPT10eXBlb2YgdD9WdDpXdCkoZSx0LG51bGw9PW4/Jyc6bikpOkt0KHRoaXMubm9kZSgpLGUpfSxwcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3JldHVybiAxPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKChudWxsPT10PyR0OidmdW5jdGlvbic9PXR5cGVvZiB0P0p0Olh0KShlLHQpKTp0aGlzLm5vZGUoKVtlXX0sY2xhc3NlZDpmdW5jdGlvbihlLHQpe3ZhciBhPVF0KGUrJycpO2lmKDI+YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBkPVp0KHRoaXMubm9kZSgpKSxyPS0xLGk9YS5sZW5ndGg7KytyPGk7KWlmKCFkLmNvbnRhaW5zKGFbcl0pKXJldHVybiExO3JldHVybiEwfXJldHVybiB0aGlzLmVhY2goKCdmdW5jdGlvbic9PXR5cGVvZiB0P2RuOnQ/bm46YW4pKGEsdCkpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChudWxsPT1lP3JuOignZnVuY3Rpb24nPT10eXBlb2YgZT9sbjpvbikoZSkpOnRoaXMubm9kZSgpLnRleHRDb250ZW50fSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChudWxsPT1lP3NuOignZnVuY3Rpb24nPT10eXBlb2YgZT91bjpjbikoZSkpOnRoaXMubm9kZSgpLmlubmVySFRNTH0scmFpc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKHBuKX0sbG93ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGduKX0sYXBwZW5kOmZ1bmN0aW9uKGUpe3ZhciB0PSdmdW5jdGlvbic9PXR5cGVvZiBlP2U6ZHIoZSk7cmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQodC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSl9LGluc2VydDpmdW5jdGlvbihlLHQpe3ZhciBuPSdmdW5jdGlvbic9PXR5cGVvZiBlP2U6ZHIoZSksaT1udWxsPT10P2ZuOidmdW5jdGlvbic9PXR5cGVvZiB0P3Q6YnIodCk7cmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxudWxsKX0pfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGhuKX0sZGF0dW06ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5wcm9wZXJ0eSgnX19kYXRhX18nLGUpOnRoaXMubm9kZSgpLl9fZGF0YV9ffSxvbjpmdW5jdGlvbihlLGEsZCl7dmFyIHIsaSx0PUF0KGUrJycpLGw9dC5sZW5ndGg7aWYoMj5hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj10aGlzLm5vZGUoKS5fX29uO2lmKG4pZm9yKHZhciBzLG89MCxjPW4ubGVuZ3RoO288YzsrK28pZm9yKHI9MCxzPW5bb107cjxsOysrcilpZigoaT10W3JdKS50eXBlPT09cy50eXBlJiZpLm5hbWU9PT1zLm5hbWUpcmV0dXJuIHMudmFsdWU7cmV0dXJufWZvcihuPWE/RHQ6RXQsbnVsbD09ZCYmKGQ9ITEpLHI9MDtyPGw7KytyKXRoaXMuZWFjaChuKHRbcl0sYSxkKSk7cmV0dXJuIHRoaXN9LGRpc3BhdGNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaCgoJ2Z1bmN0aW9uJz09dHlwZW9mIHQ/eW46bW4pKGUsdCkpfX07dmFyIFNyPWZ1bmN0aW9uKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZT9uZXcgeG4oW1tkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpXV0sW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudF0pOm5ldyB4bihbW2VdXSx3cil9LENyPWZ1bmN0aW9uKGUsdCxhKXszPmFyZ3VtZW50cy5sZW5ndGgmJihhPXQsdD1ncigpLmNoYW5nZWRUb3VjaGVzKTtmb3IodmFyIGQscj0wLGk9dD90Lmxlbmd0aDowO3I8aTsrK3IpaWYoKGQ9dFtyXSkuaWRlbnRpZmllcj09PWEpcmV0dXJuIGZyKGUsZCk7cmV0dXJuIG51bGx9LFRyPWZ1bmN0aW9uKCl7dXIucHJldmVudERlZmF1bHQoKSx1ci5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sX3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbj1TcihlKS5vbignZHJhZ3N0YXJ0LmRyYWcnLFRyLCEwKTsnb25zZWxlY3RzdGFydCdpbiB0P24ub24oJ3NlbGVjdHN0YXJ0LmRyYWcnLFRyLCEwKToodC5fX25vc2VsZWN0PXQuc3R5bGUuTW96VXNlclNlbGVjdCx0LnN0eWxlLk1velVzZXJTZWxlY3Q9J25vbmUnKX0sTHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fTt3bi5wcm90b3R5cGUub249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl8ub24uYXBwbHkodGhpcy5fLGFyZ3VtZW50cyk7cmV0dXJuIGU9PT10aGlzLl8/dGhpczplfTt2YXIgQXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2Uub24oJ21vdXNlZG93bi5kcmFnJyx0KS5maWx0ZXIoaCkub24oJ3RvdWNoc3RhcnQuZHJhZycsYSkub24oJ3RvdWNobW92ZS5kcmFnJyxkKS5vbigndG91Y2hlbmQuZHJhZyB0b3VjaGNhbmNlbC5kcmFnJyxyKS5zdHlsZSgndG91Y2gtYWN0aW9uJywnbm9uZScpLnN0eWxlKCctd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3InLCdyZ2JhKDAsMCwwLDApJyl9ZnVuY3Rpb24gdCgpe2lmKCF1JiZwLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIGU9bygnbW91c2UnLGcuYXBwbHkodGhpcyxhcmd1bWVudHMpLGhyLHRoaXMsYXJndW1lbnRzKTtlJiYoU3IodXIudmlldykub24oJ21vdXNlbW92ZS5kcmFnJyxuLCEwKS5vbignbW91c2V1cC5kcmFnJyxpLCEwKSxfcih1ci52aWV3KSxrbigpLGM9ITEsbD11ci5jbGllbnRYLHM9dXIuY2xpZW50WSxlKCdzdGFydCcpKX19ZnVuY3Rpb24gbigpe2lmKFRyKCksIWMpe3ZhciBlPXVyLmNsaWVudFgtbCx0PXVyLmNsaWVudFktcztjPWUqZSt0KnQ+eH1iLm1vdXNlKCdkcmFnJyl9ZnVuY3Rpb24gaSgpe1NyKHVyLnZpZXcpLm9uKCdtb3VzZW1vdmUuZHJhZyBtb3VzZXVwLmRyYWcnLG51bGwpLHZuKHVyLnZpZXcsYyksVHIoKSxiLm1vdXNlKCdlbmQnKX1mdW5jdGlvbiBhKCl7aWYocC5hcHBseSh0aGlzLGFyZ3VtZW50cykpe3ZhciBlLHQsaT11ci5jaGFuZ2VkVG91Y2hlcyxhPWcuYXBwbHkodGhpcyxhcmd1bWVudHMpLGQ9aS5sZW5ndGg7Zm9yKGU9MDtlPGQ7KytlKSh0PW8oaVtlXS5pZGVudGlmaWVyLGEsQ3IsdGhpcyxhcmd1bWVudHMpKSYmKGtuKCksdCgnc3RhcnQnKSl9fWZ1bmN0aW9uIGQoKXt2YXIgZSx0LGk9dXIuY2hhbmdlZFRvdWNoZXMsYT1pLmxlbmd0aDtmb3IoZT0wO2U8YTsrK2UpKHQ9YltpW2VdLmlkZW50aWZpZXJdKSYmKFRyKCksdCgnZHJhZycpKX1mdW5jdGlvbiByKCl7dmFyIGUsdCxpPXVyLmNoYW5nZWRUb3VjaGVzLGE9aS5sZW5ndGg7Zm9yKHUmJmNsZWFyVGltZW91dCh1KSx1PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt1PW51bGx9LDUwMCksZT0wO2U8YTsrK2UpKHQ9YltpW2VdLmlkZW50aWZpZXJdKSYmKGtuKCksdCgnZW5kJykpfWZ1bmN0aW9uIG8odCxpLGEsZCxyKXt2YXIgbyxsLHMsYz1hKGksdCksdT1tLmNvcHkoKTtyZXR1cm4gTXQobmV3IHduKGUsJ2JlZm9yZXN0YXJ0JyxvLHQseSxjWzBdLGNbMV0sMCwwLHUpLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPSh1ci5zdWJqZWN0PW89Zi5hcHBseShkLHIpKSYmKGw9by54LWNbMF18fDAscz1vLnktY1sxXXx8MCwhMCl9KT9mdW5jdGlvbiBwKGcpe3ZhciBmLG49Yztzd2l0Y2goZyl7Y2FzZSdzdGFydCc6Ylt0XT1wLGY9eSsrO2JyZWFrO2Nhc2UnZW5kJzpkZWxldGUgYlt0XSwtLXk7Y2FzZSdkcmFnJzpjPWEoaSx0KSxmPXk7fU10KG5ldyB3bihlLGcsbyx0LGYsY1swXStsLGNbMV0rcyxjWzBdLW5bMF0sY1sxXS1uWzFdLHUpLHUuYXBwbHksdSxbZyxkLHJdKX06dm9pZCAwfXZhciBsLHMsYyx1LHA9U24sZz1DbixmPVRuLGg9X24sYj17fSxtPXh0KCdzdGFydCcsJ2RyYWcnLCdlbmQnKSx5PTAseD0wO3JldHVybiBlLmZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD0nZnVuY3Rpb24nPT10eXBlb2YgdD90OkxyKCEhdCksZSk6cH0sZS5jb250YWluZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGc9J2Z1bmN0aW9uJz09dHlwZW9mIHQ/dDpMcih0KSxlKTpnfSxlLnN1YmplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9J2Z1bmN0aW9uJz09dHlwZW9mIHQ/dDpMcih0KSxlKTpmfSxlLnRvdWNoYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD0nZnVuY3Rpb24nPT10eXBlb2YgdD90OkxyKCEhdCksZSk6aH0sZS5vbj1mdW5jdGlvbigpe3ZhciB0PW0ub24uYXBwbHkobSxhcmd1bWVudHMpO3JldHVybiB0PT09bT9lOnR9LGUuY2xpY2tEaXN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD0odD0rdCkqdCxlKTpBbih4KX0sZX07Y29uc3QgRXI9dGkoJ2Qtc2xpZGVyJyxgCjxzdHlsZT4KICA6aG9zdCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgfQoKICA6aG9zdCg6Zm9jdXMpIHsKICAgIG91dGxpbmU6IG5vbmU7CiAgfQoKICAuYmFja2dyb3VuZCB7CiAgICBwYWRkaW5nOiA5cHggMDsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB9CgogIC50cmFjayB7CiAgICBoZWlnaHQ6IDNweDsKICAgIHdpZHRoOiAxMDAlOwogICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogaHNsYSgwLCAwJSwgMCUsIDAuMik7CiAgfQoKICAudHJhY2stZmlsbCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDlweDsKICAgIGhlaWdodDogM3B4OwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDI0LCAxMDAlLCA1MCUpOwogIH0KCiAgLmtub2ItY29udGFpbmVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMTBweDsKICB9CgogIC5rbm9iIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogLTZweDsKICAgIGxlZnQ6IC02cHg7CiAgICB3aWR0aDogMTNweDsKICAgIGhlaWdodDogMTNweDsKICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCgyNCwgMTAwJSwgNTAlKTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IHRyYW5zZm9ybTsKICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuMThzOwogICAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2U7CiAgfQogIC5tb3VzZWRvd24gLmtub2IgewogICAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpOwogIH0KCiAgLmtub2ItaGlnaGxpZ2h0IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogLTZweDsKICAgIGxlZnQ6IC02cHg7CiAgICB3aWR0aDogMTNweDsKICAgIGhlaWdodDogMTNweDsKICAgIGJhY2tncm91bmQtY29sb3I6IGhzbGEoMCwgMCUsIDAlLCAwLjEpOwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogdHJhbnNmb3JtOwogICAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xOHM7CiAgICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZTsKICB9CgogIC5mb2N1cyAua25vYi1oaWdobGlnaHQgewogICAgdHJhbnNmb3JtOiBzY2FsZSgyKTsKICB9CgogIC50aWNrcyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDE2cHg7CiAgICBoZWlnaHQ6IDRweDsKICAgIHdpZHRoOiAxMDAlOwogICAgei1pbmRleDogLTE7CiAgfQoKICAudGlja3MgLnRpY2sgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBoc2xhKDAsIDAlLCAwJSwgMC4yKTsKICB9Cgo8L3N0eWxlPgoKICA8ZGl2IGNsYXNzPSdiYWNrZ3JvdW5kJz4KICAgIDxkaXYgY2xhc3M9J3RyYWNrJz48L2Rpdj4KICAgIDxkaXYgY2xhc3M9J3RyYWNrLWZpbGwnPjwvZGl2PgogICAgPGRpdiBjbGFzcz0na25vYi1jb250YWluZXInPgogICAgICA8ZGl2IGNsYXNzPSdrbm9iLWhpZ2hsaWdodCc+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9J2tub2InPjwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSd0aWNrcyc+PC9kaXY+CiAgPC9kaXY+CmApLERyPXtsZWZ0OjM3LHVwOjM4LHJpZ2h0OjM5LGRvd246NDAscGFnZVVwOjMzLHBhZ2VEb3duOjM0LGVuZDozNSxob21lOjM2fTtjbGFzcyBNciBleHRlbmRzIEVyKEhUTUxFbGVtZW50KXtjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuY29ubmVjdGVkPSEwLHRoaXMuc2V0QXR0cmlidXRlKCdyb2xlJywnc2xpZGVyJyksdGhpcy5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4Jyl8fHRoaXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsMCksdGhpcy5tb3VzZUV2ZW50PSExLHRoaXMua25vYj10aGlzLnJvb3QucXVlcnlTZWxlY3RvcignLmtub2ItY29udGFpbmVyJyksdGhpcy5iYWNrZ3JvdW5kPXRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKCcuYmFja2dyb3VuZCcpLHRoaXMudHJhY2tGaWxsPXRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKCcudHJhY2stZmlsbCcpLHRoaXMudHJhY2s9dGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoJy50cmFjaycpLHRoaXMubWluPXRoaXMubWluP3RoaXMubWluOjAsdGhpcy5tYXg9dGhpcy5tYXg/dGhpcy5tYXg6MTAwLHRoaXMuc2NhbGU9bWUoKS5kb21haW4oW3RoaXMubWluLHRoaXMubWF4XSkucmFuZ2UoWzAsMV0pLmNsYW1wKCEwKSx0aGlzLm9yaWdpbj10aGlzLm9yaWdpbj09PXZvaWQgMD90aGlzLm1pbjp0aGlzLm9yaWdpbix0aGlzLnN0ZXA9dGhpcy5zdGVwP3RoaXMuc3RlcDoxLHRoaXMudXBkYXRlKHRoaXMudmFsdWU/dGhpcy52YWx1ZTowKSx0aGlzLnRpY2tzPSEhdGhpcy50aWNrcyYmdGhpcy50aWNrcyx0aGlzLnJlbmRlclRpY2tzKCksdGhpcy5kcmFnPUFyKCkuY29udGFpbmVyKHRoaXMuYmFja2dyb3VuZCkub24oJ3N0YXJ0JywoKT0+e3RoaXMubW91c2VFdmVudD0hMCx0aGlzLmJhY2tncm91bmQuY2xhc3NMaXN0LmFkZCgnbW91c2Vkb3duJyksdGhpcy5jaGFuZ2VWYWx1ZT10aGlzLnZhbHVlLHRoaXMuZHJhZ1VwZGF0ZSgpfSkub24oJ2RyYWcnLCgpPT57dGhpcy5kcmFnVXBkYXRlKCl9KS5vbignZW5kJywoKT0+e3RoaXMubW91c2VFdmVudD0hMSx0aGlzLmJhY2tncm91bmQuY2xhc3NMaXN0LnJlbW92ZSgnbW91c2Vkb3duJyksdGhpcy5kcmFnVXBkYXRlKCksdGhpcy5jaGFuZ2VWYWx1ZSE9PXRoaXMudmFsdWUmJnRoaXMuZGlzcGF0Y2hDaGFuZ2UoKSx0aGlzLmNoYW5nZVZhbHVlPXRoaXMudmFsdWV9KSx0aGlzLmRyYWcoU3IodGhpcy5iYWNrZ3JvdW5kKSksdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywoKT0+e3RoaXMubW91c2VFdmVudHx8dGhpcy5iYWNrZ3JvdW5kLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJyl9KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywoKT0+e3RoaXMuYmFja2dyb3VuZC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpfSksdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyx0aGlzLm9uS2V5RG93bil9c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKXtyZXR1cm5bJ21pbicsJ21heCcsJ3ZhbHVlJywnc3RlcCcsJ3RpY2tzJywnb3JpZ2luJywndGlja1ZhbHVlcycsJ3RpY2tMYWJlbHMnXX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soZSx0LG4pe2lzTmFOKG4pfHx2b2lkIDA9PT1ufHxudWxsPT09bnx8KCdtaW4nPT1lJiYodGhpcy5taW49K24sdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtaW4nLHRoaXMubWluKSksJ21heCc9PWUmJih0aGlzLm1heD0rbix0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1heCcsdGhpcy5tYXgpKSwndmFsdWUnPT1lJiZ0aGlzLnVwZGF0ZSgrbiksJ29yaWdpbic9PWUmJih0aGlzLm9yaWdpbj0rbiksJ3N0ZXAnPT1lJiYwPG4mJih0aGlzLnN0ZXA9K24pLCd0aWNrcyc9PWUmJih0aGlzLnRpY2tzPSEoJychPT1uKXx8bikpfW9uS2V5RG93bihlKXt0aGlzLmNoYW5nZVZhbHVlPXRoaXMudmFsdWU7bGV0IHQ9ITE7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSBEci5sZWZ0OmNhc2UgRHIuZG93bjp0aGlzLnVwZGF0ZSh0aGlzLnZhbHVlLXRoaXMuc3RlcCksdD0hMDticmVhaztjYXNlIERyLnJpZ2h0OmNhc2UgRHIudXA6dGhpcy51cGRhdGUodGhpcy52YWx1ZSt0aGlzLnN0ZXApLHQ9ITA7YnJlYWs7Y2FzZSBEci5wYWdlVXA6dGhpcy51cGRhdGUodGhpcy52YWx1ZSsxMCp0aGlzLnN0ZXApLHQ9ITA7YnJlYWs7Y2FzZSBEci5wYWdlRG93bjp0aGlzLnVwZGF0ZSh0aGlzLnZhbHVlKzEwKnRoaXMuc3RlcCksdD0hMDticmVhaztjYXNlIERyLmhvbWU6dGhpcy51cGRhdGUodGhpcy5taW4pLHQ9ITA7YnJlYWs7Y2FzZSBEci5lbmQ6dGhpcy51cGRhdGUodGhpcy5tYXgpLHQ9ITA7YnJlYWs7ZGVmYXVsdDp9dCYmKHRoaXMuYmFja2dyb3VuZC5jbGFzc0xpc3QuYWRkKCdmb2N1cycpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuY2hhbmdlVmFsdWUhPT10aGlzLnZhbHVlJiZ0aGlzLmRpc3BhdGNoQ2hhbmdlKCkpfXZhbGlkYXRlVmFsdWVSYW5nZShlLHQsbil7cmV0dXJuIFJuKEhuKHQsbiksZSl9cXVhbnRpemVWYWx1ZShlLHQpe3JldHVybiBQbihlL3QpKnR9ZHJhZ1VwZGF0ZSgpe2NvbnN0IGU9dGhpcy5iYWNrZ3JvdW5kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9dXIueCxuPWUud2lkdGg7dGhpcy51cGRhdGUodGhpcy5zY2FsZS5pbnZlcnQodC9uKSl9dXBkYXRlKGUpe2xldCB0PWU7J2FueSchPT10aGlzLnN0ZXAmJih0PXRoaXMucXVhbnRpemVWYWx1ZShlLHRoaXMuc3RlcCkpLHQ9dGhpcy52YWxpZGF0ZVZhbHVlUmFuZ2UodGhpcy5taW4sdGhpcy5tYXgsdCksdGhpcy5jb25uZWN0ZWQmJih0aGlzLmtub2Iuc3R5bGUubGVmdD0xMDAqdGhpcy5zY2FsZSh0KSsnJScsdGhpcy50cmFja0ZpbGwuc3R5bGUud2lkdGg9MTAwKnRoaXMuc2NhbGUodGhpcy5taW4rVW4odC10aGlzLm9yaWdpbikpKyclJyx0aGlzLnRyYWNrRmlsbC5zdHlsZS5sZWZ0PTEwMCp0aGlzLnNjYWxlKEhuKHQsdGhpcy5vcmlnaW4pKSsnJScpLHRoaXMudmFsdWUhPT10JiYodGhpcy52YWx1ZT10LHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93Jyx0aGlzLnZhbHVlKSx0aGlzLmRpc3BhdGNoSW5wdXQoKSl9ZGlzcGF0Y2hDaGFuZ2UoKXtjb25zdCB0PW5ldyBFdmVudCgnY2hhbmdlJyk7dGhpcy5kaXNwYXRjaEV2ZW50KHQse30pfWRpc3BhdGNoSW5wdXQoKXtjb25zdCB0PW5ldyBFdmVudCgnaW5wdXQnKTt0aGlzLmRpc3BhdGNoRXZlbnQodCx7fSl9cmVuZGVyVGlja3MoKXtjb25zdCBlPXRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKCcudGlja3MnKTtpZighMSE9PXRoaXMudGlja3Mpe2xldCB0PVtdO3Q9MDx0aGlzLnRpY2tzP3RoaXMuc2NhbGUudGlja3ModGhpcy50aWNrcyk6J2FueSc9PT10aGlzLnN0ZXA/dGhpcy5zY2FsZS50aWNrcygpOlppKHRoaXMubWluLHRoaXMubWF4KzFlLTYsdGhpcy5zdGVwKSx0LmZvckVhY2goKHQpPT57Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtuLmNsYXNzTGlzdC5hZGQoJ3RpY2snKSxuLnN0eWxlLmxlZnQ9MTAwKnRoaXMuc2NhbGUodCkrJyUnLGUuYXBwZW5kQ2hpbGQobil9KX1lbHNlIGUuc3R5bGUuZGlzcGxheT0nbm9uZSd9fXZhciBPcj0nPHN2ZyB2aWV3Qm94PSItNjA3IDQxOSA2NCA2NCI+XG4gIDxwYXRoIGQ9Ik0tNTczLjQsNDc4LjljLTgsMC0xNC42LTYuNC0xNC42LTE0LjVzMTQuNi0yNS45LDE0LjYtNDAuOGMwLDE0LjksMTQuNiwzMi44LDE0LjYsNDAuOFMtNTY1LjQsNDc4LjktNTczLjQsNDc4Ljl6Ii8+XG48L3N2Zz5cbic7Y29uc3QgVXI9dGkoJ2Rpc3RpbGwtaGVhZGVyJyxgCjxzdHlsZT4KZGlzdGlsbC1oZWFkZXIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IDYwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDIwMCwgNjAlLCAxNSUpOwogIHdpZHRoOiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgei1pbmRleDogMjsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogIGJveC1zaGFkb3c6IDAgMXB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwp9CmRpc3RpbGwtaGVhZGVyIC5jb250ZW50IHsKICBoZWlnaHQ6IDcwcHg7CiAgZ3JpZC1jb2x1bW46IHBhZ2U7Cn0KZGlzdGlsbC1oZWFkZXIgYSB7CiAgZm9udC1zaXplOiAxNnB4OwogIGhlaWdodDogNjBweDsKICBsaW5lLWhlaWdodDogNjBweDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICBwYWRkaW5nOiAyMnB4IDA7Cn0KZGlzdGlsbC1oZWFkZXIgYTpob3ZlciB7CiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7Cn0KZGlzdGlsbC1oZWFkZXIgc3ZnIHsKICB3aWR0aDogMjRweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiA0cHg7CiAgbWFyZ2luLXJpZ2h0OiAycHg7Cn0KQG1lZGlhKG1pbi13aWR0aDogMTA4MHB4KSB7CiAgZGlzdGlsbC1oZWFkZXIgewogICAgaGVpZ2h0OiA3MHB4OwogIH0KICBkaXN0aWxsLWhlYWRlciBhIHsKICAgIGhlaWdodDogNzBweDsKICAgIGxpbmUtaGVpZ2h0OiA3MHB4OwogICAgcGFkZGluZzogMjhweCAwOwogIH0KICBkaXN0aWxsLWhlYWRlciAubG9nbyB7CiAgfQp9CmRpc3RpbGwtaGVhZGVyIHN2ZyBwYXRoIHsKICBmaWxsOiBub25lOwogIHN0cm9rZTogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOwogIHN0cm9rZS13aWR0aDogM3B4Owp9CmRpc3RpbGwtaGVhZGVyIC5sb2dvIHsKICBmb250LXNpemU6IDE3cHg7CiAgZm9udC13ZWlnaHQ6IDIwMDsKfQpkaXN0aWxsLWhlYWRlciAubmF2IHsKICBmbG9hdDogcmlnaHQ7CiAgZm9udC13ZWlnaHQ6IDMwMDsKfQpkaXN0aWxsLWhlYWRlciAubmF2IGEgewogIGZvbnQtc2l6ZTogMTJweDsKICBtYXJnaW4tbGVmdDogMjRweDsKICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwp9Cjwvc3R5bGU+CjxkaXYgY2xhc3M9ImNvbnRlbnQiPgogIDxhIGhyZWY9Ii8iIGNsYXNzPSJsb2dvIj4KICAgICR7T3J9CiAgICBEaXN0aWxsCiAgPC9hPgogIDxuYXYgY2xhc3M9Im5hdiI+CiAgICA8YSBocmVmPSIvYWJvdXQvIj5BYm91dDwvYT4KICAgIDxhIGhyZWY9Ii9wcml6ZS8iPlByaXplPC9hPgogICAgPGEgaHJlZj0iL2pvdXJuYWwvIj5TdWJtaXQ8L2E+CiAgPC9uYXY+CjwvZGl2PgpgLCExKTtjbGFzcyBJciBleHRlbmRzIFVyKEhUTUxFbGVtZW50KXt9Y29uc3QgTnI9YAo8c3R5bGU+CiAgZGlzdGlsbC1hcHBlbmRpeCB7CiAgICBjb250YWluOiBsYXlvdXQgc3R5bGU7CiAgfQoKICBkaXN0aWxsLWFwcGVuZGl4IC5jaXRhdGlvbiB7CiAgICBmb250LXNpemU6IDExcHg7CiAgICBsaW5lLWhlaWdodDogMTVweDsKICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgcGFkZGluZy1sZWZ0OiAxOHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjEpOwogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjAyKTsKICAgIHBhZGRpbmc6IDEwcHggMThweDsKICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgIGNvbG9yOiByZ2JhKDE1MCwgMTUwLCAxNTAsIDEpOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIG1hcmdpbi10b3A6IC0xMnB4OwogICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOwogICAgd29yZC13cmFwOiBicmVhay13b3JkOwogIH0KCiAgZGlzdGlsbC1hcHBlbmRpeCA+ICogewogICAgZ3JpZC1jb2x1bW46IHRleHQ7CiAgfQo8L3N0eWxlPgpgO2NsYXNzIGpyIGV4dGVuZHMgSFRNTEVsZW1lbnR7c3RhdGljIGdldCBpcygpe3JldHVybidkaXN0aWxsLWFwcGVuZGl4J31zZXQgZnJvbnRNYXR0ZXIoZSl7dGhpcy5pbm5lckhUTUw9TG4oZSl9fWNvbnN0IFJyPXRpKCdkaXN0aWxsLWZvb3RlcicsYAo8c3R5bGU+Cgo6aG9zdCB7CiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsKICBmb250LXdlaWdodDogMzAwOwogIHBhZGRpbmc6IDJyZW0gMDsKICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpOwogIGJhY2tncm91bmQtY29sb3I6IGhzbCgxODAsIDUlLCAxNSUpOyAvKmhzbCgyMDAsIDYwJSwgMTUlKTsqLwogIHRleHQtYWxpZ246IGxlZnQ7CiAgY29udGFpbjogY29udGVudDsKfQoKLmxvZ28gc3ZnIHsKICB3aWR0aDogMjRweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiA0cHg7CiAgbWFyZ2luLXJpZ2h0OiAycHg7Cn0KCi5sb2dvIHN2ZyBwYXRoIHsKICBmaWxsOiBub25lOwogIHN0cm9rZTogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOwogIHN0cm9rZS13aWR0aDogM3B4Owp9CgoubG9nbyB7CiAgZm9udC1zaXplOiAxN3B4OwogIGZvbnQtd2VpZ2h0OiAyMDA7CiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgbWFyZ2luLXJpZ2h0OiA2cHg7Cn0KCi5jb250YWluZXIgewogIGdyaWQtY29sdW1uOiB0ZXh0Owp9CgoubmF2IHsKICBmb250LXNpemU6IDAuOWVtOwogIG1hcmdpbi10b3A6IDEuNWVtOwp9CgoubmF2IGEgewogIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7CiAgbWFyZ2luLXJpZ2h0OiA2cHg7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Cgo8L3N0eWxlPgoKPGRpdiBjbGFzcz0nY29udGFpbmVyJz4KCiAgPGEgaHJlZj0iLyIgY2xhc3M9ImxvZ28iPgogICAgJHtPcn0KICAgIERpc3RpbGwKICA8L2E+IGlzIGRlZGljYXRlZCB0byBjbGVhciBleHBsYW5hdGlvbnMgb2YgbWFjaGluZSBsZWFybmluZwoKICA8ZGl2IGNsYXNzPSJuYXYiPgogICAgPGEgaHJlZj0iaHR0cHM6Ly9kaXN0aWxsLnB1Yi9hYm91dC8iPkFib3V0PC9hPgogICAgPGEgaHJlZj0iaHR0cHM6Ly9kaXN0aWxsLnB1Yi9qb3VybmFsLyI+U3VibWl0PC9hPgogICAgPGEgaHJlZj0iaHR0cHM6Ly9kaXN0aWxsLnB1Yi9wcml6ZS8iPlByaXplPC9hPgogICAgPGEgaHJlZj0iaHR0cHM6Ly9kaXN0aWxsLnB1Yi9hcmNoaXZlLyI+QXJjaGl2ZTwvYT4KICAgIDxhIGhyZWY9Imh0dHBzOi8vZGlzdGlsbC5wdWIvcnNzLnhtbCI+UlNTPC9hPgogICAgPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2Rpc3RpbGxwdWIiPkdpdEh1YjwvYT4KICAgIDxhIGhyZWY9Imh0dHBzOi8vdHdpdHRlci5jb20vZGlzdGlsbHB1YiI+VHdpdHRlcjwvYT4KICAgICZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyBJU1NOIDI0NzYtMDc1NwogIDwvZGl2PgoKPC9kaXY+CgpgKTtjbGFzcyBxciBleHRlbmRzIFJyKEhUTUxFbGVtZW50KXt9Y29uc3QgRnI9ZnVuY3Rpb24oKXtpZigxPndpbmRvdy5kaXN0aWxsUnVubGV2ZWwpdGhyb3cgbmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgUnVubGV2ZWwgZm9yIERpc3RpbGwgVGVtcGxhdGUhJyk7aWYoJ2Rpc3RpbGxUZW1wbGF0ZUlzTG9hZGluZydpbiB3aW5kb3cmJndpbmRvdy5kaXN0aWxsVGVtcGxhdGVJc0xvYWRpbmcpdGhyb3cgbmV3IEVycm9yKCdSdW5sZXZlbCAxOiBEaXN0aWxsIFRlbXBsYXRlIGlzIGdldHRpbmcgbG9hZGVkIG1vcmUgdGhhbiBvbmNlLCBhYm9ydGluZyEnKTtlbHNlIHdpbmRvdy5kaXN0aWxsVGVtcGxhdGVJc0xvYWRpbmc9ITAsY29uc29sZS5pbmZvKCdSdW5sZXZlbCAxOiBEaXN0aWxsIFRlbXBsYXRlIGhhcyBzdGFydGVkIGxvYWRpbmcuJyk7cChkb2N1bWVudCksY29uc29sZS5pbmZvKCdSdW5sZXZlbCAxOiBTdGF0aWMgRGlzdGlsbCBzdHlsZXMgaGF2ZSBiZWVuIGFkZGVkLicpLGNvbnNvbGUuaW5mbygnUnVubGV2ZWwgMS0+Mi4nKSx3aW5kb3cuZGlzdGlsbFJ1bmxldmVsKz0xO2Zvcihjb25zdFtlLHRdb2YgT2JqZWN0LmVudHJpZXMoaGkubGlzdGVuZXJzKSknZnVuY3Rpb24nPT10eXBlb2YgdD9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUsdCk6Y29uc29sZS5lcnJvcignUnVubGV2ZWwgMjogQ29udHJvbGxlciBsaXN0ZW5lcnMgbmVlZCB0byBiZSBmdW5jdGlvbnMhJyk7Y29uc29sZS5pbmZvKCdSdW5sZXZlbCAyOiBXZSBjYW4gbm93IGxpc3RlbiB0byBjb250cm9sbGVyIGV2ZW50cy4nKSxjb25zb2xlLmluZm8oJ1J1bmxldmVsIDItPjMuJyksd2luZG93LmRpc3RpbGxSdW5sZXZlbCs9MTtpZigyPndpbmRvdy5kaXN0aWxsUnVubGV2ZWwpdGhyb3cgbmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgUnVubGV2ZWwgZm9yIGFkZGluZyBjdXN0b20gZWxlbWVudHMhJyk7Y29uc3QgZT1ba2ksd2ksQ2ksTGksQWksRGksT2ksTmksUmksRmkscGksSGksemksVCxCaSxXaSxWaSxNciwkaV0uY29uY2F0KFtJcixqcixxcl0pO2Zvcihjb25zdCB0IG9mIGUpY29uc29sZS5pbmZvKCdSdW5sZXZlbCAyOiBSZWdpc3RlcmluZyBjdXN0b20gZWxlbWVudDogJyt0LmlzKSxjdXN0b21FbGVtZW50cy5kZWZpbmUodC5pcyx0KTtjb25zb2xlLmluZm8oJ1J1bmxldmVsIDM6IERpc3RpbGwgVGVtcGxhdGUgZmluaXNoZWQgcmVnaXN0ZXJpbmcgY3VzdG9tIGVsZW1lbnRzLicpLGNvbnNvbGUuaW5mbygnUnVubGV2ZWwgMy0+NC4nKSx3aW5kb3cuZGlzdGlsbFJ1bmxldmVsKz0xLGhpLmxpc3RlbmVycy5ET01Db250ZW50TG9hZGVkKCksY29uc29sZS5pbmZvKCdSdW5sZXZlbCA0OiBEaXN0aWxsIFRlbXBsYXRlIGluaXRpYWxpc2F0aW9uIGNvbXBsZXRlLicpfTt3aW5kb3cuZGlzdGlsbFJ1bmxldmVsPTAseWkuYnJvd3NlclN1cHBvcnRzQWxsRmVhdHVyZXMoKT8oY29uc29sZS5pbmZvKCdSdW5sZXZlbCAwOiBObyBuZWVkIGZvciBwb2x5ZmlsbHMuJyksY29uc29sZS5pbmZvKCdSdW5sZXZlbCAwLT4xLicpLHdpbmRvdy5kaXN0aWxsUnVubGV2ZWwrPTEsRnIoKSk6KGNvbnNvbGUuaW5mbygnUnVubGV2ZWwgMDogRGlzdGlsbCBUZW1wbGF0ZSBpcyBsb2FkaW5nIHBvbHlmaWxscy4nKSx5aS5sb2FkKEZyKSl9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUudjIuanMubWFwCn0K"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Dane County Migration Flows","description":"The `tidycensus` package got an exciting new function","authors":[{"author":"Harald Kliems","authorURL":"https://haraldkliems.netlify.app/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":"0000-0003-2542-0047"}],"publishedDate":"2021-04-02T00:00:00.000-05:00","citationText":"Kliems, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Harald Kliems</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../projects.html">Projects</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Dane County Migration Flows</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>The <code>tidycensus</code> package got an exciting new function</p></p>
</div>

<div class="d-byline">
  Harald Kliems <a href="https://haraldkliems.netlify.app/" class="uri">https://haraldkliems.netlify.app/</a> 
  
<br />2021-04-02
</div>

<div class="d-article">
<p>Im a heavy user of the <a href="https://walker-data.com/tidycensus/"><code>tidycensus</code></a> package, and just yesterday I learned that its development version has a great new feature: You can now <a href="https://walker-data.com/tidycensus/articles/other-datasets.html#migration-flows-1">retrieve migration flows for counties and metro areas</a>! Of course I needed to test this out, looking at Madison (or to be precise: Dane County). Our city and region have been steadily growing, and so where have people been moving from? And where do the people go who leave? It now only takes a few lines of code to find out.</p>
<aside>
Note that you need the install the Github version of <code>tidycensus</code> for this to work. To do so, use <code>remotes::install_github(&quot;https://github.com/walkerke/tidycensus/&quot;)</code>.
</aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/walkerke/tidycensus">tidycensus</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://symbolixau.github.io/mapdeck/articles/mapdeck.html">mapdeck</a></span><span class="op">)</span>
<span class="va">dane_flows</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidycensus/man/get_flows.html">get_flows</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">&quot;county&quot;</span>,
  state <span class="op">=</span> <span class="st">&quot;WI&quot;</span>,
  county <span class="op">=</span> <span class="st">&quot;Dane&quot;</span>,
  year <span class="op">=</span> <span class="fl">2018</span>, <span class="co">#this is the latest data available currently</span>
  geometry <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="where-people-are-moving-from">Where people are moving from</h1>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">top_move_in_table</span> <span class="op">&lt;-</span> <span class="va">dane_flows</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">variable</span> <span class="op">==</span> <span class="st">&quot;MOVEDIN&quot;</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice_max</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">25</span>, order_by <span class="op">=</span> <span class="va">estimate</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>
    width <span class="op">=</span> <span class="va">estimate</span> <span class="op">/</span> <span class="fl">400</span>,
    tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span>
      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html">comma</a></span><span class="op">(</span><span class="va">estimate</span> <span class="op">*</span> <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span>,
      <span class="st">&quot; people moved from &quot;</span>, <span class="va">FULL2_NAME</span>,
      <span class="st">&quot; to &quot;</span>, <span class="va">FULL1_NAME</span>, <span class="st">&quot; between 2014 and 2018&quot;</span>
      <span class="op">)</span>
    <span class="op">)</span>
<span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">paged_table</a></span><span class="op">(</span><span class="va">top_move_in_table</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">FULL2_NAME</span>, <span class="va">estimate</span><span class="op">)</span><span class="op">)</span>
</code></pre>
</div>
</details>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["FULL2_NAME"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["centroid1"],"name":[3],"type":["sf_POINT"],"align":["right"]}],"data":[{"1":"Asia","2":"3159","3":"<sf_POINT>"},{"1":"Waukesha County, Wisconsin","2":"2037","3":"<sf_POINT>"},{"1":"Cook County, Illinois","2":"1715","3":"<sf_POINT>"},{"1":"Milwaukee County, Wisconsin","2":"1556","3":"<sf_POINT>"},{"1":"Columbia County, Wisconsin","2":"981","3":"<sf_POINT>"},{"1":"Hennepin County, Minnesota","2":"971","3":"<sf_POINT>"},{"1":"Rock County, Wisconsin","2":"830","3":"<sf_POINT>"},{"1":"Green County, Wisconsin","2":"774","3":"<sf_POINT>"},{"1":"Europe","2":"772","3":"<sf_POINT>"},{"1":"Jefferson County, Wisconsin","2":"747","3":"<sf_POINT>"},{"1":"Brown County, Wisconsin","2":"744","3":"<sf_POINT>"},{"1":"La Crosse County, Wisconsin","2":"551","3":"<sf_POINT>"},{"1":"Marathon County, Wisconsin","2":"548","3":"<sf_POINT>"},{"1":"Sauk County, Wisconsin","2":"491","3":"<sf_POINT>"},{"1":"Linn County, Iowa","2":"455","3":"<sf_POINT>"},{"1":"Walworth County, Wisconsin","2":"429","3":"<sf_POINT>"},{"1":"Winnebago County, Wisconsin","2":"415","3":"<sf_POINT>"},{"1":"Calumet County, Wisconsin","2":"365","3":"<sf_POINT>"},{"1":"DuPage County, Illinois","2":"361","3":"<sf_POINT>"},{"1":"Eau Claire County, Wisconsin","2":"332","3":"<sf_POINT>"},{"1":"Sheboygan County, Wisconsin","2":"325","3":"<sf_POINT>"},{"1":"Middlesex County, Massachusetts","2":"321","3":"<sf_POINT>"},{"1":"Grant County, Wisconsin","2":"300","3":"<sf_POINT>"},{"1":"Hamilton County, Ohio","2":"294","3":"<sf_POINT>"},{"1":"Washington County, Wisconsin","2":"276","3":"<sf_POINT>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>The top county for in-migration is actually a continent: Asia. And another continent, Europe, also makes the top-10. Most of the counties people are coming from are in-state, and probably a good portion is students moving to attend UW-Madison. Cook County  in other words: Chicago  takes first spot for out-of-state mover, and Hennepin County (Minneapolis) follows closely. Farther away, there is Hamilton County in Ohio (Cincinatti), Middlesex County in Massachussetts, just outside Boston, and one West Coast county: San Diego, California.</p>
<p>We can map these flows, but for non-US origins/destinations, no geometry is provided. If we wanted to map these, wed manually have to add these. For this article, well filter them out.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">top_move_in_table</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">GEOID2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck.html">mapdeck</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck_style.html">mapdeck_style</a></span><span class="op">(</span><span class="st">&quot;light&quot;</span><span class="op">)</span>, pitch <span class="op">=</span> <span class="fl">45</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/add_arc.html">add_arc</a></span><span class="op">(</span>
    origin <span class="op">=</span> <span class="st">&quot;centroid1&quot;</span>,
    destination <span class="op">=</span> <span class="st">&quot;centroid2&quot;</span>,
    stroke_width <span class="op">=</span> <span class="st">&quot;width&quot;</span>,
    auto_highlight <span class="op">=</span> <span class="cn">TRUE</span>,
    highlight_colour <span class="op">=</span> <span class="st">&quot;#8c43facc&quot;</span>,
    tooltip <span class="op">=</span> <span class="st">&quot;tooltip&quot;</span>
  <span class="op">)</span> 
</code></pre>
</div>
</details>
<div id="htmlwidget-d0b74adf8e9a40fb5340" style="width:624px;height:384px;" class="mapdeck html-widget"></div>
<script type="application/json" data-for="htmlwidget-d0b74adf8e9a40fb5340">{"x":{"access_token":"pk.eyJ1Ijoidmd4aGMiLCJhIjoiY2tnMmJranNvMDE0ODJ1cWU0NXI3NXczdSJ9.8FCCPFhzIA4k6zJ0ykb8Tw","style":"mapbox://styles/mapbox/light-v10","pitch":45,"zoom":0,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"add_arc_geo","args":["mapdeck",[{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"10,185 people moved from Waukesha County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":5.0925},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.30453,43.018188]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"8,575 people moved from Cook County, Illinois to Dane County, Wisconsin between 2014 and 2018","stroke_width":4.2875},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.64616,41.895397]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"7,780 people moved from Milwaukee County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":3.89},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.580559,43.015459]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"4,905 people moved from Columbia County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":2.4525},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.333728,43.466598]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"4,855 people moved from Hennepin County, Minnesota to Dane County, Wisconsin between 2014 and 2018","stroke_width":2.4275},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-93.476877,45.004579]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"4,150 people moved from Rock County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":2.075},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.071577,42.671224]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,870 people moved from Green County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.935},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.602212,42.679988]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,735 people moved from Jefferson County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.8675},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.775872,43.020821]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,720 people moved from Brown County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.86},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.992866,44.47433]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,755 people moved from La Crosse County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.3775},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.115216,43.906531]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,740 people moved from Marathon County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.37},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.759051,44.898285]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,455 people moved from Sauk County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.2275},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.948366,43.426776]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,275 people moved from Linn County, Iowa to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.1375},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.598965,42.078948]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,145 people moved from Walworth County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.0725},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.541922,42.668477]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,075 people moved from Winnebago County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":1.0375},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.644659,44.068877]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,825 people moved from Calumet County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.9125},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.218058,44.081603]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,805 people moved from DuPage County, Illinois to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.9025},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.085672,41.851949]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,660 people moved from Eau Claire County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.83},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.285996,44.72677]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,625 people moved from Sheboygan County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.8125},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.634772,43.719708]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,605 people moved from Middlesex County, Massachusetts to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.8025},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-71.391837,42.485545]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,500 people moved from Grant County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.75},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-90.706222,42.86749]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,470 people moved from Hamilton County, Ohio to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.735},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-84.542774,39.195531]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,380 people moved from Washington County, Wisconsin to Dane County, Wisconsin between 2014 and 2018","stroke_width":0.69},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.230781,43.368471]}}}],"arc-defaultLayerId",true,"#8c43facc",[],[[-93.47687724790153,39.19553148368426],[-71.39183735037683,45.00457884883627]],true,false,null,null]}]},"evals":[],"jsHooks":[]}</script>
</div>
<h1 id="where-people-are-moving-to">Where people are moving to</h1>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">top_move_out_table</span> <span class="op">&lt;-</span> <span class="va">dane_flows</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">variable</span> <span class="op">==</span> <span class="st">&quot;MOVEDOUT&quot;</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice_max</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">25</span>, order_by <span class="op">=</span> <span class="va">estimate</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>
    width <span class="op">=</span> <span class="va">estimate</span> <span class="op">/</span> <span class="fl">400</span>,
    tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span>
      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html">comma</a></span><span class="op">(</span><span class="va">estimate</span> <span class="op">*</span> <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span>,
      <span class="st">&quot; people moved from &quot;</span>, <span class="va">FULL1_NAME</span>,
      <span class="st">&quot; to &quot;</span>, <span class="va">FULL2_NAME</span>, <span class="st">&quot; between 2014 and 2018&quot;</span>
      <span class="op">)</span>
    <span class="op">)</span>

<span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">paged_table</a></span><span class="op">(</span><span class="va">top_move_out_table</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">FULL2_NAME</span>, <span class="va">estimate</span><span class="op">)</span><span class="op">)</span>
</code></pre>
</div>
</details>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["FULL2_NAME"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["centroid1"],"name":[3],"type":["sf_POINT"],"align":["right"]}],"data":[{"1":"Milwaukee County, Wisconsin","2":"1615","3":"<sf_POINT>"},{"1":"Cook County, Illinois","2":"1059","3":"<sf_POINT>"},{"1":"Jefferson County, Wisconsin","2":"932","3":"<sf_POINT>"},{"1":"Rock County, Wisconsin","2":"852","3":"<sf_POINT>"},{"1":"Columbia County, Wisconsin","2":"803","3":"<sf_POINT>"},{"1":"La Crosse County, Wisconsin","2":"653","3":"<sf_POINT>"},{"1":"Sauk County, Wisconsin","2":"626","3":"<sf_POINT>"},{"1":"Green County, Wisconsin","2":"602","3":"<sf_POINT>"},{"1":"Waukesha County, Wisconsin","2":"592","3":"<sf_POINT>"},{"1":"Winnebago County, Wisconsin","2":"585","3":"<sf_POINT>"},{"1":"Hennepin County, Minnesota","2":"577","3":"<sf_POINT>"},{"1":"San Diego County, California","2":"571","3":"<sf_POINT>"},{"1":"Eau Claire County, Wisconsin","2":"525","3":"<sf_POINT>"},{"1":"Santa Clara County, California","2":"518","3":"<sf_POINT>"},{"1":"Travis County, Texas","2":"464","3":"<sf_POINT>"},{"1":"Los Angeles County, California","2":"451","3":"<sf_POINT>"},{"1":"Portage County, Wisconsin","2":"403","3":"<sf_POINT>"},{"1":"Brown County, Wisconsin","2":"392","3":"<sf_POINT>"},{"1":"King County, Washington","2":"365","3":"<sf_POINT>"},{"1":"New York County, New York","2":"361","3":"<sf_POINT>"},{"1":"Iowa County, Wisconsin","2":"361","3":"<sf_POINT>"},{"1":"Walworth County, Wisconsin","2":"350","3":"<sf_POINT>"},{"1":"Dodge County, Wisconsin","2":"311","3":"<sf_POINT>"},{"1":"Dauphin County, Pennsylvania","2":"302","3":"<sf_POINT>"},{"1":"Kenosha County, Wisconsin","2":"298","3":"<sf_POINT>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>One limitation of the data is that for out-migration (and consequently net migration), there is no data for people leaving the US  someone who has moved to South America wont receive an American Community Survey. With that in mind, destinations are spread more widely. The West Coast draws heavily with Seattle, the Bay Area, Los Angeles, and San Diego. Austin (Texas), and of course New York City, and the head scratcher of Harrisburg (Pennsylvania). Closer by, the same places that show up for in-migration also feature here: Minneapolis, Chicago, Milwaukee, and various counties across Wisconsin.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">top_move_out_table</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">GEOID2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck.html">mapdeck</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck_style.html">mapdeck_style</a></span><span class="op">(</span><span class="st">&quot;light&quot;</span><span class="op">)</span>, pitch <span class="op">=</span> <span class="fl">45</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/add_arc.html">add_arc</a></span><span class="op">(</span>
    origin <span class="op">=</span> <span class="st">&quot;centroid1&quot;</span>,
    destination <span class="op">=</span> <span class="st">&quot;centroid2&quot;</span>,
    stroke_width <span class="op">=</span> <span class="st">&quot;width&quot;</span>,
    auto_highlight <span class="op">=</span> <span class="cn">TRUE</span>,
    highlight_colour <span class="op">=</span> <span class="st">&quot;#8c43facc&quot;</span>,
    tooltip <span class="op">=</span> <span class="st">&quot;tooltip&quot;</span>
  <span class="op">)</span> 
</code></pre>
</div>
</details>
<div id="htmlwidget-4d3d5cf0700e9729909b" style="width:624px;height:384px;" class="mapdeck html-widget"></div>
<script type="application/json" data-for="htmlwidget-4d3d5cf0700e9729909b">{"x":{"access_token":"pk.eyJ1Ijoidmd4aGMiLCJhIjoiY2tnMmJranNvMDE0ODJ1cWU0NXI3NXczdSJ9.8FCCPFhzIA4k6zJ0ykb8Tw","style":"mapbox://styles/mapbox/light-v10","pitch":45,"zoom":0,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"add_arc_geo","args":["mapdeck",[{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"8,075 people moved from Dane County, Wisconsin to Milwaukee County, Wisconsin between 2014 and 2018","stroke_width":4.0375},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.580559,43.015459]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"5,295 people moved from Dane County, Wisconsin to Cook County, Illinois between 2014 and 2018","stroke_width":2.6475},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.64616,41.895397]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"4,660 people moved from Dane County, Wisconsin to Jefferson County, Wisconsin between 2014 and 2018","stroke_width":2.33},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.775872,43.020821]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"4,260 people moved from Dane County, Wisconsin to Rock County, Wisconsin between 2014 and 2018","stroke_width":2.13},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.071577,42.671224]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"4,015 people moved from Dane County, Wisconsin to Columbia County, Wisconsin between 2014 and 2018","stroke_width":2.0075},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.333728,43.466598]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,265 people moved from Dane County, Wisconsin to La Crosse County, Wisconsin between 2014 and 2018","stroke_width":1.6325},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.115216,43.906531]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,130 people moved from Dane County, Wisconsin to Sauk County, Wisconsin between 2014 and 2018","stroke_width":1.565},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.948366,43.426776]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,010 people moved from Dane County, Wisconsin to Green County, Wisconsin between 2014 and 2018","stroke_width":1.505},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.602212,42.679988]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,960 people moved from Dane County, Wisconsin to Waukesha County, Wisconsin between 2014 and 2018","stroke_width":1.48},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.30453,43.018188]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,925 people moved from Dane County, Wisconsin to Winnebago County, Wisconsin between 2014 and 2018","stroke_width":1.4625},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.644659,44.068877]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,885 people moved from Dane County, Wisconsin to Hennepin County, Minnesota between 2014 and 2018","stroke_width":1.4425},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-93.476877,45.004579]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,855 people moved from Dane County, Wisconsin to San Diego County, California between 2014 and 2018","stroke_width":1.4275},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-116.770205,33.028202]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,625 people moved from Dane County, Wisconsin to Eau Claire County, Wisconsin between 2014 and 2018","stroke_width":1.3125},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.285996,44.72677]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,590 people moved from Dane County, Wisconsin to Santa Clara County, California between 2014 and 2018","stroke_width":1.295},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-121.696278,37.232486]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,320 people moved from Dane County, Wisconsin to Travis County, Texas between 2014 and 2018","stroke_width":1.16},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-97.781953,30.33469]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,255 people moved from Dane County, Wisconsin to Los Angeles County, California between 2014 and 2018","stroke_width":1.1275},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-118.261003,34.197992]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"2,015 people moved from Dane County, Wisconsin to Portage County, Wisconsin between 2014 and 2018","stroke_width":1.0075},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.501414,44.476046]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,960 people moved from Dane County, Wisconsin to Brown County, Wisconsin between 2014 and 2018","stroke_width":0.98},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.992866,44.47433]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,825 people moved from Dane County, Wisconsin to King County, Washington between 2014 and 2018","stroke_width":0.9125},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-121.835829,47.490843]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,805 people moved from Dane County, Wisconsin to New York County, New York between 2014 and 2018","stroke_width":0.9025},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-73.96981,40.774275]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,805 people moved from Dane County, Wisconsin to Iowa County, Wisconsin between 2014 and 2018","stroke_width":0.9025},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-90.13543,43.00048]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,750 people moved from Dane County, Wisconsin to Walworth County, Wisconsin between 2014 and 2018","stroke_width":0.875},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.541922,42.668477]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,555 people moved from Dane County, Wisconsin to Dodge County, Wisconsin between 2014 and 2018","stroke_width":0.7775},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.707525,43.416301]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,510 people moved from Dane County, Wisconsin to Dauphin County, Pennsylvania between 2014 and 2018","stroke_width":0.755},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-76.779474,40.41544]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,490 people moved from Dane County, Wisconsin to Kenosha County, Wisconsin between 2014 and 2018","stroke_width":0.745},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.65311,42.578506]}}}],"arc-defaultLayerId",true,"#8c43facc",[],[[-121.83582863104758,30.33469036392992],[-73.96981042145174,47.4908427132556]],true,false,null,null]}]},"evals":[],"jsHooks":[]}</script>
</div>
<h1 id="net-migration">Net migration</h1>
<p>The data also include a variable for net migration, <code>MOVEDNET</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">top_move_net_table</span> <span class="op">&lt;-</span> <span class="va">dane_flows</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">variable</span> <span class="op">==</span> <span class="st">&quot;MOVEDNET&quot;</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice_max</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">25</span>, order_by <span class="op">=</span> <span class="va">estimate</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>
    width <span class="op">=</span> <span class="va">estimate</span> <span class="op">/</span> <span class="fl">400</span>,
    tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span>
      <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html">comma</a></span><span class="op">(</span><span class="va">estimate</span> <span class="op">*</span> <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span>,
      <span class="st">&quot; more people moved from &quot;</span>, <span class="va">FULL2_NAME</span>,
      <span class="st">&quot; to &quot;</span>, <span class="va">FULL1_NAME</span>, <span class="st">&quot; between 2014 and 2018 than in the reverse direction&quot;</span>
      <span class="op">)</span>
    <span class="op">)</span>
<span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">paged_table</a></span><span class="op">(</span><span class="va">top_move_net_table</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">FULL2_NAME</span>, <span class="va">estimate</span><span class="op">)</span><span class="op">)</span>
</code></pre>
</div>
</details>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["FULL2_NAME"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["centroid1"],"name":[3],"type":["sf_POINT"],"align":["right"]}],"data":[{"1":"Waukesha County, Wisconsin","2":"1445","3":"<sf_POINT>"},{"1":"Cook County, Illinois","2":"656","3":"<sf_POINT>"},{"1":"Hennepin County, Minnesota","2":"394","3":"<sf_POINT>"},{"1":"Brown County, Wisconsin","2":"352","3":"<sf_POINT>"},{"1":"Calumet County, Wisconsin","2":"318","3":"<sf_POINT>"},{"1":"Linn County, Iowa","2":"298","3":"<sf_POINT>"},{"1":"Marathon County, Wisconsin","2":"286","3":"<sf_POINT>"},{"1":"DuPage County, Illinois","2":"272","3":"<sf_POINT>"},{"1":"Washington County, Wisconsin","2":"249","3":"<sf_POINT>"},{"1":"Hamilton County, Ohio","2":"240","3":"<sf_POINT>"},{"1":"Ozaukee County, Wisconsin","2":"221","3":"<sf_POINT>"},{"1":"Sheboygan County, Wisconsin","2":"221","3":"<sf_POINT>"},{"1":"Columbia County, Wisconsin","2":"178","3":"<sf_POINT>"},{"1":"Green County, Wisconsin","2":"172","3":"<sf_POINT>"},{"1":"Summit County, Colorado","2":"170","3":"<sf_POINT>"},{"1":"Wood County, Wisconsin","2":"152","3":"<sf_POINT>"},{"1":"Lexington County, South Carolina","2":"142","3":"<sf_POINT>"},{"1":"Washington County, Minnesota","2":"140","3":"<sf_POINT>"},{"1":"Kings County, New York","2":"138","3":"<sf_POINT>"},{"1":"Orange County, California","2":"136","3":"<sf_POINT>"},{"1":"St. Louis County, Missouri","2":"136","3":"<sf_POINT>"},{"1":"Winnebago County, Illinois","2":"133","3":"<sf_POINT>"},{"1":"Racine County, Wisconsin","2":"131","3":"<sf_POINT>"},{"1":"Tuscaloosa County, Alabama","2":"119","3":"<sf_POINT>"},{"1":"Franklin County, Ohio","2":"115","3":"<sf_POINT>"},{"1":"Barron County, Wisconsin","2":"115","3":"<sf_POINT>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<p>The numbers here are smaller, but you can see that Waukesha, which was at the top of the <em>total</em> in-migration list also tops the <em>net</em> migration. That is, 1445 more people moved from Waukesha to Dane County than in the other direction. Overall, the numbers here are much smaller, and the maps looks a little different again.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">top_move_net_table</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">GEOID2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck.html">mapdeck</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck_style.html">mapdeck_style</a></span><span class="op">(</span><span class="st">&quot;light&quot;</span><span class="op">)</span>, pitch <span class="op">=</span> <span class="fl">45</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/add_arc.html">add_arc</a></span><span class="op">(</span>
    origin <span class="op">=</span> <span class="st">&quot;centroid1&quot;</span>,
    destination <span class="op">=</span> <span class="st">&quot;centroid2&quot;</span>,
    stroke_width <span class="op">=</span> <span class="st">&quot;width&quot;</span>,
    auto_highlight <span class="op">=</span> <span class="cn">TRUE</span>,
    highlight_colour <span class="op">=</span> <span class="st">&quot;#8c43facc&quot;</span>,
    tooltip <span class="op">=</span> <span class="st">&quot;tooltip&quot;</span>
  <span class="op">)</span> 
</code></pre>
</div>
</details>
<div id="htmlwidget-6f4ac160c1ad0182baf5" style="width:624px;height:384px;" class="mapdeck html-widget"></div>
<script type="application/json" data-for="htmlwidget-6f4ac160c1ad0182baf5">{"x":{"access_token":"pk.eyJ1Ijoidmd4aGMiLCJhIjoiY2tnMmJranNvMDE0ODJ1cWU0NXI3NXczdSJ9.8FCCPFhzIA4k6zJ0ykb8Tw","style":"mapbox://styles/mapbox/light-v10","pitch":45,"zoom":0,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"add_arc_geo","args":["mapdeck",[{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"7,225 more people moved from Waukesha County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":3.6125},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.30453,43.018188]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"3,280 more people moved from Cook County, Illinois to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":1.64},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.64616,41.895397]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,970 more people moved from Hennepin County, Minnesota to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.985},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-93.476877,45.004579]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,760 more people moved from Brown County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.88},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.992866,44.47433]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,590 more people moved from Calumet County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.795},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.218058,44.081603]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,490 more people moved from Linn County, Iowa to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.745},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.598965,42.078948]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,430 more people moved from Marathon County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.715},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.759051,44.898285]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,360 more people moved from DuPage County, Illinois to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.68},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.085672,41.851949]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,245 more people moved from Washington County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.6225},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-88.230781,43.368471]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,200 more people moved from Hamilton County, Ohio to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.6},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-84.542774,39.195531]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,105 more people moved from Ozaukee County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.5525},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.594467,43.365651]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"1,105 more people moved from Sheboygan County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.5525},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.634772,43.719708]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"890 more people moved from Columbia County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.445},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.333728,43.466598]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"860 more people moved from Green County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.43},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.602212,42.679988]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"850 more people moved from Summit County, Colorado to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.425},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-106.116379,39.63417]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"760 more people moved from Wood County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.38},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-90.041567,44.455317]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"710 more people moved from Lexington County, South Carolina to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.355},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-81.272195,33.902328]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"700 more people moved from Washington County, Minnesota to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.35},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-92.883959,45.038728]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"690 more people moved from Kings County, New York to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.345},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-73.950269,40.634393]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"680 more people moved from Orange County, California to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.34},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-117.776166,33.676911]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"680 more people moved from St. Louis County, Missouri to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.34},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-90.443412,38.640684]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"665 more people moved from Winnebago County, Illinois to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.3325},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-89.160853,42.336264]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"655 more people moved from Racine County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.3275},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.696063,42.751171]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"595 more people moved from Tuscaloosa County, Alabama to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.2975},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-87.52503,33.28955]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"575 more people moved from Franklin County, Ohio to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.2875},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-83.00935,39.969522]}}},{"type":"Feature","properties":{"stroke_from":"#440154FF","stroke_to":"#440154FF","tilt":0.0,"height":1.0,"tooltip":"575 more people moved from Barron County, Wisconsin to Dane County, Wisconsin between 2014 and 2018 than in the reverse direction","stroke_width":0.2875},"geometry":{"origin":{"type":"Point","coordinates":[-89.418324,43.06735]},"destination":{"type":"Point","coordinates":[-91.848312,45.423723]}}}],"arc-defaultLayerId",true,"#8c43facc",[],[[-117.77616567632509,33.289549847357438],[-73.95026864439885,45.423723304964827]],true,false,null,null]}]},"evals":[],"jsHooks":[]}</script>
</div>
<h1 id="age-groups">Age groups</h1>
<p>The UW-Madison is probably a big driver of migration in Dane County, and we can look at this by grouping in-migration by age group.</p>
<aside>
Note that this is 20112015 data, not the 20142018 data used in the rest of the article.
</aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class="va">age_flows</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidycensus/man/get_flows.html">get_flows</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">&quot;county&quot;</span>,
  county <span class="op">=</span> <span class="st">&quot;Dane&quot;</span>,
  state <span class="op">=</span> <span class="st">&quot;WI&quot;</span>,
  breakdown <span class="op">=</span> <span class="st">&quot;AGE&quot;</span>,
  breakdown_labels <span class="op">=</span> <span class="cn">TRUE</span>,
  year <span class="op">=</span> <span class="fl">2015</span>
  <span class="op">)</span>


<span class="va">age_flows</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">variable</span> <span class="op">==</span> <span class="st">&quot;MOVEDIN&quot;</span>, <span class="va">AGE_label</span> <span class="op">!=</span> <span class="st">&quot;All ages&quot;</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">AGE_label</span>, <span class="va">FULL2_NAME</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarize</span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice_max</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span>, order_by <span class="op">=</span> <span class="va">estimate</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="va">AGE_label</span>,<span class="op">-</span><span class="va">estimate</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-6807b4dc936ccb2baa23" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6807b4dc936ccb2baa23">{"x":{"filter":"none","data":[["1 to 4 years","1 to 4 years","1 to 4 years","1 to 4 years","1 to 4 years","5 to 17 years","5 to 17 years","5 to 17 years","5 to 17 years","5 to 17 years","18 to 19 years","18 to 19 years","18 to 19 years","18 to 19 years","18 to 19 years","20 to 24 years","20 to 24 years","20 to 24 years","20 to 24 years","20 to 24 years","25 to 29 years","25 to 29 years","25 to 29 years","25 to 29 years","25 to 29 years","30 to 34 years","30 to 34 years","30 to 34 years","30 to 34 years","30 to 34 years","35 to 39 years","35 to 39 years","35 to 39 years","35 to 39 years","35 to 39 years","40 to 44 years","40 to 44 years","40 to 44 years","40 to 44 years","40 to 44 years","45 to 49 years","45 to 49 years","45 to 49 years","45 to 49 years","45 to 49 years","50 to 54 years","50 to 54 years","50 to 54 years","50 to 54 years","50 to 54 years","55 to 59 years","55 to 59 years","55 to 59 years","55 to 59 years","55 to 59 years","60 to 64 years","60 to 64 years","60 to 64 years","60 to 64 years","60 to 64 years","65 to 69 years","65 to 69 years","65 to 69 years","65 to 69 years","65 to 69 years","70 to 74 years","70 to 74 years","70 to 74 years","70 to 74 years","70 to 74 years","75 year and over","75 year and over","75 year and over","75 year and over","75 year and over"],["Milwaukee County, Wisconsin","Asia","Columbia County, Wisconsin","Grant County, Wisconsin","Winnebago County, Illinois","Asia","Milwaukee County, Wisconsin","Cook County, Illinois","Green County, Wisconsin","Scott County, Iowa","Milwaukee County, Wisconsin","Waukesha County, Wisconsin","Hennepin County, Minnesota","Asia","Cook County, Illinois","Asia","Milwaukee County, Wisconsin","Cook County, Illinois","Europe","La Crosse County, Wisconsin","Milwaukee County, Wisconsin","Cook County, Illinois","Asia","Columbia County, Wisconsin","Rock County, Wisconsin","Asia","Columbia County, Wisconsin","Cook County, Illinois","Milwaukee County, Wisconsin","Brown County, Wisconsin","Asia","Cook County, Illinois","Hamilton County, Ohio","Fairfield County, Connecticut","Brown County, Wisconsin","Cook County, Illinois","Asia","Linn County, Iowa","Waukesha County, Wisconsin","Jackson County, Wisconsin","Cook County, Illinois","Milwaukee County, Wisconsin","Asia","Columbia County, Wisconsin","Sauk County, Wisconsin","Asia","Green County, Wisconsin","Winnebago County, Wisconsin","Winnebago County, Illinois","Milwaukee County, Wisconsin","Cook County, Illinois","Asia","Milwaukee County, Wisconsin","Hennepin County, Minnesota","Columbia County, Wisconsin","Columbia County, Wisconsin","Rock County, Wisconsin","Winnebago County, Wisconsin","Asia","Cook County, Illinois","Grant County, Wisconsin","Asia","Cook County, Illinois","Adams County, Wisconsin","Marathon County, Wisconsin","Columbia County, Wisconsin","Asia","Waukesha County, Wisconsin","Vernon County, Wisconsin","Milwaukee County, Wisconsin","Rock County, Wisconsin","Jefferson County, Wisconsin","Cook County, Illinois","Columbia County, Wisconsin","Essex County, New Jersey"],[110,97,80,64,60,317,160,155,127,93,612,518,338,308,286,678,613,378,330,321,384,356,241,170,166,204,203,173,117,95,202,126,92,84,71,146,105,78,71,57,115,115,100,74,73,77,61,50,48,45,121,105,59,44,37,91,55,50,45,44,28,25,24,21,20,89,38,31,28,21,57,55,47,44,35]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>AGE_label<\/th>\n      <th>FULL2_NAME<\/th>\n      <th>estimate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<p>These are the top-5 origins for each age group. If you sort by the estimate column, you see the largest in-migrant group are 2024 year-olds from Asia, and overall the top groups are indeed heavily undergraduate- and graduate-student aged. Electronic health record company Epic, one of the largest employers in the country, is probably driving some of these numbers as wel. Sort by <code>AGE_label</code> to see the top origins for each age group.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="updates-and-corrections">Corrections</h3>
  <p>If you see mistakes or want to suggest changes, please <a href="https://github.com/vgXhc/dane_county_migration/issues/new">create an issue</a> on the source repository.</p>
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>. Source code is available at <a href="https://github.com/vgXhc/dane_county_migration">https://github.com/vgXhc/dane_county_migration</a>, unless otherwise noted. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Kliems (2021, April 2). Harald Kliems: Dane County Migration Flows. Retrieved from https://haraldkliems.netlify.app/posts/dane-county-migration-flows/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{kliems2021dane,
  author = {Kliems, Harald},
  title = {Harald Kliems: Dane County Migration Flows},
  url = {https://haraldkliems.netlify.app/posts/dane-county-migration-flows/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>

