<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->

<script type="text/json" id="radix-import-source">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["url","sha1"]}},"value":[{"type":"character","attributes":{},"value":["https://github.com/vgXhc/shelter_locations"]},{"type":"character","attributes":{},"value":["3c246aea65992dfa9006bba130b0e01975170eed"]}]}
</script>
<!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Harald Kliems: Where the shelter can't go: Using data to dissect city policy-making</title>

<meta property="description" itemprop="description" content="Policymakers proposed criteria for a where a shelter for homeless men in Madison (Wisconsin) could and couldn&#39;t go. This post uses public data to visualize these criteria, showing that in the end the resolution would have meant that the shelter can&#39;t go anywhere."/>

<link rel="canonical" href="https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-07-24"/>
<meta property="article:created" itemprop="dateCreated" content="2021-07-24"/>
<meta name="article:author" content="Harald Kliems"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Harald Kliems: Where the shelter can&#39;t go: Using data to dissect city policy-making"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Policymakers proposed criteria for a where a shelter for homeless men in Madison (Wisconsin) could and couldn&#39;t go. This post uses public data to visualize these criteria, showing that in the end the resolution would have meant that the shelter can&#39;t go anywhere."/>
<meta property="og:url" content="https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/"/>
<meta property="og:image" content="https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/where_shelter_cant_go_files/figure-html5/unnamed-chunk-7-1.png"/>
<meta property="og:image:width" content="1248"/>
<meta property="og:image:height" content="768"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Harald Kliems"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Harald Kliems: Where the shelter can&#39;t go: Using data to dissect city policy-making"/>
<meta property="twitter:description" content="Policymakers proposed criteria for a where a shelter for homeless men in Madison (Wisconsin) could and couldn&#39;t go. This post uses public data to visualize these criteria, showing that in the end the resolution would have meant that the shelter can&#39;t go anywhere."/>
<meta property="twitter:url" content="https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/"/>
<meta property="twitter:image" content="https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/where_shelter_cant_go_files/figure-html5/unnamed-chunk-7-1.png"/>
<meta property="twitter:image:width" content="1248"/>
<meta property="twitter:image:height" content="768"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Harald Kliems: Where the shelter can&#39;t go: Using data to dissect city policy-making"/>
<meta name="citation_fulltext_html_url" content="https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2021/07/24"/>
<meta name="citation_publication_date" content="2021/07/24"/>
<meta name="citation_author" content="Harald Kliems"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","repository_url","compare_updates_url","creative_commons","categories","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Where the shelter can't go: Using data to dissect city policy-making"]},{"type":"character","attributes":{},"value":["Policymakers proposed criteria for a where a shelter for homeless men in Madison (Wisconsin) could and couldn't go. This post uses public data to visualize these criteria, showing that in the end the resolution would have meant that the shelter can't go anywhere."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","orcid_id","url"]}},"value":[{"type":"character","attributes":{},"value":["Harald Kliems"]},{"type":"character","attributes":{},"value":["0000-0003-2542-0047"]},{"type":"character","attributes":{},"value":["https://haraldkliems.netlify.app/"]}]}]},{"type":"character","attributes":{},"value":["07-24-2021"]},{"type":"character","attributes":{},"value":["https://github.com/vgXhc/shelter_locations"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["CC BY-SA"]},{"type":"character","attributes":{},"value":["housing","Madison (WI)","map"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","code_folding","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/"]},{"type":"character","attributes":{},"value":["https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/Aldermanic_Districts.cpg","data/Aldermanic_Districts.dbf","data/Aldermanic_Districts.prj","data/Aldermanic_Districts.shp","data/Aldermanic_Districts.shx","data/City_Limit.cpg","data/City_Limit.dbf","data/City_Limit.prj","data/City_Limit.shp","data/City_Limit.shx","data/EDGE_GEOCODE_PUBLICSCH_1920.RDS","data/ors-route_1625598617123.json","data/Wisconsin_Licensed_and_Certified_Childcare.cpg","data/Wisconsin_Licensed_and_Certified_Childcare.dbf","data/Wisconsin_Licensed_and_Certified_Childcare.prj","data/Wisconsin_Licensed_and_Certified_Childcare.shp","data/Wisconsin_Licensed_and_Certified_Childcare.shx","data/Zoning_Districts.cpg","data/Zoning_Districts.dbf","data/Zoning_Districts.prj","data/Zoning_Districts.shp","data/Zoning_Districts.shx","LICENSE","where_shelter_cant_go_files/anchor-4.2.2/anchor.min.js","where_shelter_cant_go_files/bowser-1.9.3/bowser.min.js","where_shelter_cant_go_files/distill-2.2.21/template.v2.js","where_shelter_cant_go_files/figure-html5/unnamed-chunk-1-1.png","where_shelter_cant_go_files/figure-html5/unnamed-chunk-10-1.png","where_shelter_cant_go_files/figure-html5/unnamed-chunk-11-1.png","where_shelter_cant_go_files/figure-html5/unnamed-chunk-4-1.png","where_shelter_cant_go_files/figure-html5/unnamed-chunk-7-1.png","where_shelter_cant_go_files/figure-html5/unnamed-chunk-8-1.png","where_shelter_cant_go_files/header-attrs-2.11/header-attrs.js","where_shelter_cant_go_files/header-attrs-2.7/header-attrs.js","where_shelter_cant_go_files/htmlwidgets-1.5.3/htmlwidgets.js","where_shelter_cant_go_files/htmlwidgets-1.5.4/htmlwidgets.js","where_shelter_cant_go_files/jquery-1.12.4/jquery.min.js","where_shelter_cant_go_files/jquery-3.6.0/jquery-3.6.0.js","where_shelter_cant_go_files/jquery-3.6.0/jquery-3.6.0.min.js","where_shelter_cant_go_files/jquery-3.6.0/jquery-3.6.0.min.map","where_shelter_cant_go_files/leaflet-1.3.1/images/layers-2x.png","where_shelter_cant_go_files/leaflet-1.3.1/images/layers.png","where_shelter_cant_go_files/leaflet-1.3.1/images/marker-icon-2x.png","where_shelter_cant_go_files/leaflet-1.3.1/images/marker-icon.png","where_shelter_cant_go_files/leaflet-1.3.1/images/marker-shadow.png","where_shelter_cant_go_files/leaflet-1.3.1/leaflet.css","where_shelter_cant_go_files/leaflet-1.3.1/leaflet.js","where_shelter_cant_go_files/leaflet-binding-2.0.4.1/leaflet.js","where_shelter_cant_go_files/leaflet-binding-2.1.0/leaflet.js","where_shelter_cant_go_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js","where_shelter_cant_go_files/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js","where_shelter_cant_go_files/leaflet-providers-plugin-2.1.0/leaflet-providers-plugin.js","where_shelter_cant_go_files/leafletfix-1.0.0/leafletfix.css","where_shelter_cant_go_files/popper-2.6.0/popper.min.js","where_shelter_cant_go_files/proj4-2.6.2/proj4.min.js","where_shelter_cant_go_files/Proj4Leaflet-1.0.1/proj4leaflet.js","where_shelter_cant_go_files/rstudio_leaflet-1.3.1/images/1px.png","where_shelter_cant_go_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css","where_shelter_cant_go_files/tippy-6.2.7/tippy-bundle.umd.min.js","where_shelter_cant_go_files/tippy-6.2.7/tippy-light-border.css","where_shelter_cant_go_files/tippy-6.2.7/tippy.css","where_shelter_cant_go_files/tippy-6.2.7/tippy.umd.min.js","where_shelter_cant_go_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="where_shelter_cant_go_files/header-attrs-2.11/header-attrs.js"></script>
  <script src="where_shelter_cant_go_files/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <script src="where_shelter_cant_go_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="where_shelter_cant_go_files/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
  <script src="where_shelter_cant_go_files/leaflet-1.3.1/leaflet.js"></script>
  <link href="where_shelter_cant_go_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
  <script src="where_shelter_cant_go_files/proj4-2.6.2/proj4.min.js"></script>
  <script src="where_shelter_cant_go_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
  <link href="where_shelter_cant_go_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
  <script src="where_shelter_cant_go_files/leaflet-binding-2.1.0/leaflet.js"></script>
  <script src="where_shelter_cant_go_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
  <script src="where_shelter_cant_go_files/leaflet-providers-plugin-2.1.0/leaflet-providers-plugin.js"></script>
  <script src="where_shelter_cant_go_files/popper-2.6.0/popper.min.js"></script>
  <link href="where_shelter_cant_go_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="where_shelter_cant_go_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="where_shelter_cant_go_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="where_shelter_cant_go_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="where_shelter_cant_go_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="where_shelter_cant_go_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="where_shelter_cant_go_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Where the shelter can't go: Using data to dissect city policy-making","description":"Policymakers proposed criteria for a where a shelter for homeless men in Madison (Wisconsin) could and couldn't go. This post uses public data to visualize these criteria, showing that in the end the resolution would have meant that the shelter can't go anywhere.","authors":[{"author":"Harald Kliems","authorURL":"https://haraldkliems.netlify.app/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":"0000-0003-2542-0047"}],"publishedDate":"2021-07-24T00:00:00.000-05:00","citationText":"Kliems, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Harald Kliems</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../projects.html">Projects</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Where the shelter can’t go: Using data to dissect city policy-making</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:housing" class="dt-tag">housing</a>
  <a href="../../index.html#category:Madison_(WI)" class="dt-tag">Madison (WI)</a>
  <a href="../../index.html#category:map" class="dt-tag">map</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Policymakers proposed criteria for a where a shelter for homeless men in Madison (Wisconsin) could and couldn’t go. This post uses public data to visualize these criteria, showing that in the end the resolution would have meant that the shelter can’t go anywhere.</p></p>
</div>

<div class="d-byline">
  Harald Kliems <a href="https://haraldkliems.netlify.app/" class="uri">https://haraldkliems.netlify.app/</a> 
  
<br/>2022-03-27
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#city-limits">City limits</a></li>
<li><a href="#childcare-locations-and-schools">Childcare locations and schools</a></li>
<li><a href="#zoning-districts">Zoning districts</a></li>
<li><a href="#close-to-the-beacon">Close to the Beacon</a></li>
<li><a href="#whats-left">What’s left?</a></li>
</ul>
</nav>
</div>
<p>This post is about using publicly available data to examine local policy proposals. A local blogger pointed out a resolution to the Madison Common Council that would have established a number of criteria for possible locations for a shelter for men experiencing homeless. The shelter had been debated for many years, and unsurprisingly it was controversial. The criteria specified in the draft resolution were as follows:</p>
<ul>
<li>The site should be greater than .5 mile from any schools or daycares;</li>
<li>The site should not be located in a Census tract identified as a location of concentrated poverty</li>
<li>The site should include either an existing building or a lot large enough for new construction;</li>
<li>The site should include space for future expansion;</li>
<li>The site should be zoned for commercial or mixed use, and not adjacent to single-family homes;</li>
<li>The site should be within a few blocks of seven-days-a-week bus service, with a preference for close proximity to BRT routes;</li>
<li>The site location should be within a walking distance of within 3.5 miles from the Beacon on East Washington; and</li>
<li>The site should be an active real estate listing that is vacant or soon-to-be-vacant.</li>
</ul>
<p>That’s a lot of places where the shelter must not be! It’s also a number of criteria that I could easily map with publicly available data. The meeting at which the resolution would be first discussed was on the same day and I only had the morning before work and my lunch break to put something together. Here’s what <a href="https://madison.legistar.com/View.ashx?M=F&amp;ID=9597989&amp;GUID=A58FA5C7-0536-4635-B277-559C093B768E">I submitted</a>, and there was some <a href="https://www.forwardlookout.com/2021/07/mens-shelter-is-still-2-3-years-away-if-we-move-forward-now/34528">post-meeting coverage from a local blogger</a>. Because of the time constraint, the product was not the prettiest, and in this post I make some improvements and include the code.</p>
<h2 id="city-limits">City limits</h2>
<p>What I should have done first but didn’t was to start with the Madison city limits. The shelter is a city shelter and therefore must be within the City of Madison. There are multiple enclaves and exclaves, and so starting with the city limits as the most expansive possible search area should be step 1. Then we can use the other criteria to “stamp out” anything that doesn’t fit. City limits <a href="https://data-cityofmadison.opendata.arcgis.com/datasets/city-limit/explore">are available</a> on the City of Madison Open Data portal.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>city_limit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>st_read</a></span><span class='op'>(</span><span class='st'>"data/City_Limit.shp"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fl'>6610</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Reading layer `City_Limit&#39; from data source 
  `C:\Users\user1\Documents\shelter_locations\data\City_Limit.shp&#39; 
  using driver `ESRI Shapefile&#39;
Simple feature collection with 4 features and 3 fields
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: -89.57165 ymin: 42.99815 xmax: -89.24663 ymax: 43.17202
Geodetic CRS:  WGS 84</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"green"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="where_shelter_cant_go_files/figure-html5/unnamed-chunk-1-1.png" width="624" /></p>
</div>
<h2 id="childcare-locations-and-schools">Childcare locations and schools</h2>
<p>First of all, the idea that children need to be kept away from people experiencing homelessness is wrong. Second, most people don’t realize how many schools and childcare locations there are. For childcare providers, the Wisconsin Department of Health and Human Services provides a <a href="https://data.dhsgis.wi.gov/datasets/wisconsin-licensed-and-certified-childcare/">dataset</a> of “[p]oint locations and attributes of certified childcare facilities licensed by the state of Wisconsin.” Public school data is <a href="https://nces.ed.gov/programs/edge/Geographic/SchoolLocations">available</a> from the National Center for Education Statistics. Conveniently, both datasets are provided as shapefiles. I didn’t look for data sources for private schools.</p>
<p>First we read in the <code>child_care</code> data. I noticed that there is a “capacity” attribute in the dataset. To avoid debates of whether the resolution sponsors would consider someone who provides care to only a few children a “childcare facility,” I filtered the data to only those providers with a capacity larger than 9. To create the half-mile buffers around the locations, I need to project the data to a different coordinate reference system (CRS). The <code>crsuggest</code> package helps identify an appropriate CRS. Note that the CRS I chose uses meters as its units, and so 0.5 miles needs to be provided as 805. Finally, I keep only the parts of the buffers that are within city limits.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>child_care</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>st_read</a></span><span class='op'>(</span><span class='st'>"data/Wisconsin_Licensed_and_Certified_Childcare.shp"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Reading layer `Wisconsin_Licensed_and_Certified_Childcare&#39; from data source `C:\Users\user1\Documents\shelter_locations\data\Wisconsin_Licensed_and_Certified_Childcare.shp&#39; 
  using driver `ESRI Shapefile&#39;
Simple feature collection with 4669 features and 31 fields
Geometry type: POINT
Dimension:     XY
Bounding box:  xmin: -10372680 ymin: 5197160 xmax: -9694399 ymax: 5946135
Projected CRS: WGS 84 / Pseudo-Mercator</code></pre>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>child_care_buffers</span> <span class='op'>&lt;-</span> <span class='va'>child_care</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>COUNTY</span> <span class='op'>==</span> <span class='st'>"Dane"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>CAPACITY</span> <span class='op'>&gt;</span><span class='fl'>9</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fl'>6610</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_unary.html'>st_buffer</a></span><span class='op'>(</span>dist <span class='op'>=</span> <span class='fl'>805</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_binary_ops.html'>st_intersection</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>For the schools, the process was pretty much the same:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>schools</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>readRDS</a></span><span class='op'>(</span><span class='st'>"data/EDGE_GEOCODE_PUBLICSCH_1920.RDS"</span><span class='op'>)</span> <span class='co'>#https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICSCH_1920/MapServer</span>

<span class='va'>schools_buffers</span> <span class='op'>&lt;-</span> <span class='va'>schools</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fl'>6610</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_unary.html'>st_buffer</a></span><span class='op'>(</span>dist <span class='op'>=</span> <span class='fl'>805</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_binary_ops.html'>st_intersection</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>Now we can “cut out” the schools and childcare buffers from the city limit map:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"green"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>child_care_buffers</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"red"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>schools_buffers</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"red"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="where_shelter_cant_go_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<p>It’s obvious: This criterion alone eliminate huge swaths of the city as possible locations.</p>
<h2 id="zoning-districts">Zoning districts</h2>
<blockquote>
<p>The site should be zoned for commercial or mixed use, and not adjacent to single-family homes;</p>
</blockquote>
<p>I’ve <a href="https://haraldkliems.netlify.app/posts/2019-06-25-some-furter-zoning-analyses-for-madison/">posted about zoning in Madison</a> previously and so I’m pretty familiar with the data. Zoning data is <a href="https://data-cityofmadison.opendata.arcgis.com/datasets/zoning-districts">on the Open Data portal</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>zoning</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>st_read</a></span><span class='op'>(</span><span class='st'>"data/Zoning_Districts.shp"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>Reading layer `Zoning_Districts&#39; from data source 
  `C:\Users\user1\Documents\shelter_locations\data\Zoning_Districts.shp&#39; 
  using driver `ESRI Shapefile&#39;
Simple feature collection with 2343 features and 9 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -89.57153 ymin: 42.99815 xmax: -89.24663 ymax: 43.17202
Geodetic CRS:  WGS 84</code></pre>
</div>
<p>Which zoning districts should be included? <a href="https://library.municode.com/wi/madison/codes/code_of_ordinances?nodeId=COORMAWIVOIICH20--31_CH28ZOCOOR_SUBCHAPTER_28BZODIMA">Ordinance</a> does have a high-level category called “Mixed use and commercial districts,” which includes</p>
<ul>
<li>LMX Limited Mixed-Use</li>
<li>NMX Neighborhood Mixed-Use District</li>
<li>TSS Traditional Shopping Street District</li>
<li>MXC Mixed-Use Center District</li>
<li>CC-T Commercial Corridor - Transitional District</li>
<li>CC Commercial Center District</li>
<li>RMX Regional Mixed-Use District</li>
</ul>
<p>Arguably, many would also consider some of the zoning districts listed under the “Downtown and Urban Core” heading as mixed use. As it has “mixed use” in its name, I’ll include UMX Urban Mixed-Use.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mixed_use</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NMX"</span>, <span class='st'>"TSS"</span>, <span class='st'>"MXC"</span>, <span class='st'>"CC-T"</span>, <span class='st'>"CC"</span>, <span class='st'>"UMX"</span>, <span class='st'>"RMX"</span><span class='op'>)</span>

<span class='va'>zoning_mixed_use</span> <span class='op'>&lt;-</span> <span class='va'>zoning</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='op'>(</span><span class='va'>ZONING_COD</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>mixed_use</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>I’ll overlay these in red again and change the color of the previously cut out areas to grey.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"green"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>zoning_mixed_use</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"red"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>child_care_buffers</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>schools_buffers</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="where_shelter_cant_go_files/figure-html5/unnamed-chunk-7-1.png" width="624" data-distill-preview=1 /></p>
</div>
<p>And there goes much of the rest of the city.</p>
<h2 id="close-to-the-beacon">Close to the Beacon</h2>
<p>I probably could have stopped here, but as it’s an interesting one, I’ll add one more: The 3.5 mile walkshed around the <a href="https://thebeaconhelps.org/">Beacon</a>, an existing homeless services day center on East Washington Ave. For sending my letter, I used the OpenRouteService (ORS) <a href="https://maps.openrouteservice.org/#/">web interface</a> to generate the walkshed. However, it’s also possible to access ORS through an API with the R package <a href="https://github.com/GIScience/openrouteservice-r"><code>openrouteservice-r</code></a>, which I will do here. First, we geocode the Beacon’s address:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/GIScience/openrouteservice-r'>openrouteservice</a></span><span class='op'>)</span>
<span class='va'>beacon</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/openrouteservice/man/ors_geocode.html'>ors_geocode</a></span><span class='op'>(</span><span class='st'>"The Beacon, Madison, Wisconsin, USA"</span>, output <span class='op'>=</span> <span class='st'>"sf"</span>, size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>beacon</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_symbols.html'>tm_dots</a></span><span class='op'>(</span><span class='st'>"red"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="where_shelter_cant_go_files/figure-html5/unnamed-chunk-8-1.png" width="624" /></p>
</div>
<p>Now we generate the 3.5 mile walking distance. The <code>ors_isochrone</code> functions requires the location to be a long/lat coordinate pair.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beacon_coord</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_coordinates.html'>st_coordinates</a></span><span class='op'>(</span><span class='va'>beacon</span><span class='op'>)</span>

<span class='va'>beacon_walkshed</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/openrouteservice/man/ors_isochrones.html'>ors_isochrones</a></span><span class='op'>(</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_coordinates.html'>st_coordinates</a></span><span class='op'>(</span><span class='va'>beacon</span><span class='op'>)</span>, 
                                  profile <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/openrouteservice/man/ors_profile.html'>ors_profile</a></span><span class='op'>(</span><span class='st'>"walking"</span><span class='op'>)</span>,
                                  units <span class='op'>=</span> <span class='st'>"mi"</span>,
                                  range <span class='op'>=</span> <span class='fl'>3.5</span>,
                                  range_type <span class='op'>=</span> <span class='st'>"distance"</span>,
                                  <span class='co'>#smoothing = "15", </span>
                                  output <span class='op'>=</span> <span class='st'>"sf"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_crs.html'>st_crs</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>Quick visual check:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>.1</span><span class='op'>)</span> <span class='op'>+</span>
<span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>beacon_walkshed</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"red"</span>, alpha <span class='op'>=</span> <span class='fl'>.3</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="where_shelter_cant_go_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p>Again, we’ll change the previously cut out parts to grey and show everything outside the walk shed in red.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tmap_mode.html'>tmap_mode</a></span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>city_limit</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"green"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>zoning_mixed_use</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"red"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>child_care_buffers</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>schools_buffers</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_binary_ops.html'>st_difference</a></span><span class='op'>(</span><span class='va'>city_limit</span>, <span class='va'>beacon_walkshed</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"red"</span>, border.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="where_shelter_cant_go_files/figure-html5/unnamed-chunk-11-1.png" width="624" /></p>
</div>
<h1 id="whats-left">What’s left?</h1>
<p>We could keep going with the remaining criteria, but a) they’re harder to implement and b) it looks like not much green is left in the map above. This is a good moment to change to interactive viewing and see what those green areas are:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>whats_left</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_binary_ops.html'>st_intersection</a></span><span class='op'>(</span><span class='va'>beacon_walkshed</span>, <span class='va'>city_limit</span><span class='op'>)</span>

<span class='co'>#helper function to "erase" geometry y from x</span>
<span class='va'>st_erase</span> <span class='op'>&lt;-</span>  <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_binary_ops.html'>st_difference</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_combine.html'>st_union</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>whats_left</span> <span class='op'>&lt;-</span> <span class='fu'>st_erase</span><span class='op'>(</span><span class='va'>whats_left</span>, <span class='va'>child_care_buffers</span><span class='op'>)</span>

<span class='va'>whats_left</span> <span class='op'>&lt;-</span> <span class='fu'>st_erase</span><span class='op'>(</span><span class='va'>whats_left</span>, <span class='va'>schools_buffers</span><span class='op'>)</span>

<span class='va'>whats_left</span> <span class='op'>&lt;-</span> <span class='fu'>st_erase</span><span class='op'>(</span><span class='va'>whats_left</span>, <span class='va'>zoning_mixed_use</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tmap_options.html'>tmap_options</a></span><span class='op'>(</span>check.and.fix <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tmap_mode.html'>tmap_mode</a></span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_shape.html'>tm_shape</a></span><span class='op'>(</span><span class='va'>whats_left</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tmap/man/tm_polygons.html'>tm_polygons</a></span><span class='op'>(</span><span class='st'>"green"</span>, alpha <span class='op'>=</span> <span class='fl'>.5</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-bac0454486f21509b796" style="width:624px;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-bac0454486f21509b796">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[-89.4272953,-89.4272502,-89.4268915,-89.4265527,-89.4262349,-89.4259389,-89.4256655,-89.4254155,-89.4251895,-89.4249882,-89.4248121,-89.4246618,-89.4245375,-89.4244397,-89.4243686,-89.4243245,-89.4243074,-89.4243174,-89.4243436,-89.4243161,-89.4242943,-89.4242686,-89.4242174,-89.4241598,-89.4241023,-89.4240558,-89.424011,-89.4239563,-89.4239562,-89.4239562,-89.4239079,-89.4238914,-89.4238625,-89.4238474,-89.4238365,-89.4238159,-89.4236756,-89.4234876,-89.4233068,-89.4231664,-89.4228824,-89.4227012,-89.4224948,-89.422303,-89.4221408,-89.422004,-89.4219113,-89.421782,-89.4215904,-89.4214284,-89.4213216,-89.4211924,-89.4210593,-89.420841,-89.4206931,-89.4205231,-89.4203712,-89.4202897,-89.42019,-89.4201309,-89.4200899,-89.4200489,-89.4199526,-89.4198784,-89.4198082,-89.4197381,-89.4196788,-89.4196453,-89.4196231,-89.419549,-89.4194938,-89.4194568,-89.4194893,-89.4193561,-89.419238,-89.4190905,-89.4188399,-89.4186406,-89.4183457,-89.4182058,-89.4181469,-89.4180877,-89.4180133,-89.4179681,-89.4180116,-89.4180992,-89.4182016,-89.4182743,-89.4183617,-89.4183831,-89.4183824,-89.4183591,-89.418391,-89.4183387,-89.4182933,-89.4182114,-89.4181294,-89.4180936,-89.4180805,-89.4179955,-89.4179176,-89.4178028,-89.4177029,-89.4176254,-89.417548,-89.4175038,-89.4174586,-89.4174301,-89.4173421,-89.4172615,-89.417177,-89.4171224,-89.4170858,-89.4170554,-89.4171072,-89.4171395,-89.4171659,-89.4171472,-89.417098,-89.4169872,-89.4168056,-89.4166639,-89.4165325,-89.4164431,-89.4164222,-89.4163582,-89.4162675,-89.4161502,-89.4160066,-89.4158373,-89.4156426,-89.415423,-89.4151793,-89.414912,-89.4146218,-89.4143097,-89.4139763,-89.4136227,-89.4132498,-89.4128587,-89.4124504,-89.4120259,-89.4115866,-89.4111336,-89.4106681,-89.4101914,-89.4100496,-89.4103653,-89.4103404,-89.4102788,-89.4104125,-89.4105078,-89.4106959,-89.4106806,-89.4107316,-89.4108949,-89.4109069,-89.410978,-89.4111672,-89.4112205,-89.4112678,-89.4113208,-89.4116165,-89.4116227,-89.4116759,-89.4117291,-89.4117762,-89.4118321,-89.4118643,-89.4118758,-89.4118699,-89.4118784,-89.4118929,-89.4119869,-89.4120634,-89.4123752,-89.4124782,-89.41254,-89.4126988,-89.4127636,-89.4128079,-89.412858,-89.4130441,-89.4130796,-89.4131181,-89.4131652,-89.4132123,-89.4132329,-89.413277,-89.4132975,-89.4133238,-89.413344,-89.4133467,-89.4133464,-89.4133345,-89.4133018,-89.4133338,-89.4133485,-89.4134158,-89.4138944,-89.41431,-89.4146293,-89.4150321,-89.4153658,-89.4156306,-89.4158956,-89.4161045,-89.4164108,-89.4170386,-89.417373,-89.4178186,-89.4182781,-89.4190981,-89.4197093,-89.4199865,-89.420181,-89.4204592,-89.4206674,-89.4209588,-89.4211671,-89.4214023,-89.4215964,-89.421874,-89.4221654,-89.422429,-89.4225396,-89.4226644,-89.4229568,-89.4231942,-89.4235005,-89.4237829,-89.423914,-89.4243296,-89.4245268,-89.4246986,-89.4248737,-89.4252447,-89.4253159,-89.425801,-89.4259958,-89.4261945,-89.4264731,-89.4265195,-89.4272953],"lat":[43.0496637,43.0496946,43.0499681,43.050255,43.0505545,43.0508658,43.051188,43.0515203,43.0518617,43.0522113,43.0525682,43.0529313,43.0532997,43.0536724,43.0540483,43.0544264,43.0548057,43.0551851,43.0554531,43.0554529,43.0554427,43.0554406,43.0554363,43.0554279,43.0554115,43.0553871,43.0553728,43.0553643,43.0553642,43.0553637,43.0553568,43.055348,43.0553452,43.0553438,43.0553397,43.0553424,43.0553649,43.0554071,43.0554494,43.0555081,43.0555823,43.0556677,43.0557045,43.0557548,43.0557756,43.0558478,43.0559229,43.0559762,43.0559996,43.0560014,43.0560184,43.0560583,43.0561224,43.0562455,43.0563203,43.0563924,43.0564969,43.0565612,43.0565877,43.0566198,43.0566682,43.0567274,43.0567917,43.0568534,43.0568855,43.0569013,43.0569469,43.0569791,43.0569925,43.0570461,43.0570485,43.0570646,43.0571309,43.0572112,43.0572484,43.0572746,43.0573165,43.0573695,43.057422,43.0574267,43.0574264,43.0574639,43.0575499,43.0576522,43.0577281,43.0578041,43.0578694,43.0579616,43.0580592,43.0581349,43.0582105,43.0583346,43.058467,43.0585424,43.0586744,43.0587739,43.0588842,43.0589612,43.0589892,43.0590347,43.0590991,43.0591687,43.0592276,43.0592515,43.0592592,43.059267,43.0592718,43.0592748,43.0592419,43.0592037,43.0591898,43.0591845,43.0591926,43.059087,43.0590784,43.0590414,43.0589299,43.0587585,43.0586019,43.058512,43.0583919,43.0583465,43.05829,43.0582556,43.0580419,43.0576653,43.0572917,43.056922,43.0565574,43.0561988,43.0558472,43.0555035,43.0551687,43.0548438,43.0545295,43.0542269,43.0539366,43.0536595,43.0533963,43.0531478,43.0529147,43.0526976,43.052497,43.0523136,43.0521478,43.0520001,43.0519625,43.0515155,43.0513127,43.0512886,43.0511451,43.0510225,43.0507513,43.0507456,43.0507126,43.0505111,43.0504809,43.0504403,43.0503592,43.0503206,43.0503035,43.0502952,43.0501563,43.0501305,43.0501005,43.0500835,43.0500837,43.050084,43.0501079,43.0501274,43.0501382,43.0501728,43.0501902,43.0502144,43.050217,43.050238,43.0502385,43.050241,43.0502548,43.050253,43.0502381,43.0502275,43.050168,43.0501423,43.0501252,43.0501168,43.0501171,43.0501172,43.050126,43.0501326,43.0501565,43.0501955,43.0502214,43.0502517,43.0502732,43.0503033,43.0503445,43.0503424,43.0503816,43.0504254,43.0505474,43.0505899,43.0506225,43.0506141,43.050544,43.0504536,43.0504037,43.0503543,43.0501127,43.0500328,43.0499433,43.0498641,43.0498683,43.0499122,43.0499952,43.0500064,43.0499874,43.0500191,43.0500715,43.050093,43.0502064,43.0502584,43.0503006,43.050353,43.0504156,43.0504773,43.0505085,43.0504488,43.0503378,43.0502884,43.0503249,43.0503081,43.0501342,43.0501052,43.0500974,43.0499878,43.0497982,43.0497329,43.0494282,43.0493476,43.0492295,43.0491118,43.0490855,43.0496637]},{"lng":[-89.4239563,-89.4240174,-89.4240173,-89.4239563],"lat":[43.0553643,43.0558843,43.0558843,43.0553643]},{"lng":[-89.4261335,-89.4259996,-89.4259995,-89.4259992,-89.4261332,-89.4261335],"lat":[43.0590521,43.0591386,43.0591386,43.0591384,43.0590517,43.0590521]},{"lng":[-89.4260982,-89.4260983,-89.4261126,-89.4260982],"lat":[43.0592553,43.0592553,43.0593197,43.0592553]},{"lng":[-89.4261126,-89.4261167,-89.4261166,-89.4261166,-89.4261126],"lat":[43.0593197,43.0593944,43.0593946,43.0593944,43.0593197]},{"lng":[-89.4261166,-89.4261167,-89.4260442,-89.4258867,-89.4257831,-89.4258867,-89.4260441,-89.4261166],"lat":[43.0593946,43.059395,43.0596877,43.0601604,43.0600786,43.0601599,43.0596871,43.0593946]},{"lng":[-89.4218358,-89.4245178,-89.4246839,-89.4247633,-89.4246839,-89.4245179,-89.4218363,-89.4218358],"lat":[43.0618298,43.0600991,43.059992,43.060059,43.0599925,43.0600997,43.06183,43.0618298]},{"lng":[-89.4172602,-89.4178823,-89.4185107,-89.4194811,-89.4185107,-89.4178824,-89.4172604,-89.4172602],"lat":[43.0601476,43.0597377,43.060242,43.0610207,43.0602426,43.0597383,43.0601481,43.0601476]},{"lng":[-89.4090242,-89.4097645,-89.4099743,-89.4101918,-89.4104857,-89.410869,-89.4108552,-89.4108441,-89.4107832,-89.4107721,-89.4107465,-89.4106905,-89.4106756,-89.4106459,-89.4106236,-89.4104889,-89.4103917,-89.410242,-89.4101897,-89.4101522,-89.4101337,-89.4101008,-89.410086,-89.4100112,-89.4099738,-89.4099289,-89.409914,-89.4098659,-89.4098397,-89.4098099,-89.4097654,-89.4097431,-89.4096832,-89.4096309,-89.4095785,-89.4095112,-89.4094664,-89.4094364,-89.4094216,-89.409385,-89.4093671,-89.4093411,-89.4093039,-89.4092517,-89.4092368,-89.4091919,-89.4091694,-89.4091546,-89.4091325,-89.4091103,-89.4090879,-89.4090729,-89.409058,-89.4090321,-89.4090242],"lat":[43.0450989,43.0450985,43.0451055,43.0451161,43.0451077,43.0451365,43.0451381,43.0451388,43.0451382,43.0451371,43.0451329,43.0451315,43.0451306,43.0451274,43.0451265,43.045129,43.0451275,43.0451276,43.0451284,43.0451274,43.0451285,43.0451341,43.0451355,43.0451372,43.0451361,43.0451363,43.0451373,43.0451424,43.0451419,43.0451403,43.0451358,43.0451345,43.0451356,43.0451335,43.0451337,43.0451325,43.0451343,43.0451342,43.045133,43.0451272,43.0451232,43.0451219,43.0451188,43.0451155,43.045115,43.045115,43.0451144,43.0451132,43.0451101,43.0451078,43.0451063,43.0451059,43.0451068,43.0451096,43.0450989]},{"lng":[-89.4115366,-89.4116009,-89.4115292,-89.4114833,-89.4115366],"lat":[43.0451137,43.0451119,43.0451169,43.0451172,43.0451137]},{"lng":[-89.4123752,-89.4124623,-89.4123578,-89.412135,-89.412036,-89.4123752],"lat":[43.0450898,43.0450927,43.0450983,43.0451,43.0450995,43.0450898]},{"lng":[-89.4152983,-89.4152969,-89.4152958,-89.4152983],"lat":[43.0448883,43.044884,43.0448799,43.0448883]},{"lng":[-89.415333,-89.4153299,-89.415328,-89.415333],"lat":[43.0449758,43.0449696,43.0449655,43.0449758]},{"lng":[-89.4153781,-89.4153751,-89.4153676,-89.4153781],"lat":[43.0450527,43.0450485,43.0450367,43.0450527]},{"lng":[-89.4153981,-89.4153956,-89.4153894,-89.4153981],"lat":[43.0450805,43.0450773,43.0450686,43.0450805]},{"lng":[-89.4154173,-89.415414,-89.4154067,-89.4154173],"lat":[43.0451046,43.0451008,43.0450914,43.0451046]},{"lng":[-89.4154389,-89.4154343,-89.4154261,-89.4154389],"lat":[43.0451294,43.0451244,43.0451148,43.0451294]},{"lng":[-89.4154645,-89.4154519,-89.415445,-89.4154645],"lat":[43.0451561,43.0451434,43.0451359,43.0451561]},{"lng":[-89.4152012,-89.4152064,-89.415218,-89.4152283,-89.4152408,-89.4152532,-89.4152635,-89.4152012],"lat":[43.0459756,43.0459801,43.0459902,43.0459994,43.0460105,43.0460217,43.0460311,43.0459756]},{"lng":[-89.4152635,-89.4152953,-89.4153236,-89.4152635],"lat":[43.0460311,43.0460609,43.0460885,43.0460311]},{"lng":[-89.4153377,-89.4153869,-89.4154048,-89.4153832,-89.4153347,-89.4153377],"lat":[43.0461021,43.0461524,43.0461719,43.0461495,43.0460992,43.0461021]},{"lng":[-89.4154404,-89.4154803,-89.4154857,-89.4154406,-89.4154229,-89.4154404],"lat":[43.0462105,43.0462563,43.0462629,43.0462117,43.0461915,43.0462105]},{"lng":[-89.4155215,-89.4155561,-89.4155474,-89.4154956,-89.4155215],"lat":[43.0463063,43.0463507,43.0463399,43.046275,43.0463063]},{"lng":[-89.4155616,-89.4155955,-89.4156151,-89.4155962,-89.4155597,-89.4155616],"lat":[43.0463578,43.0464039,43.0464321,43.0464059,43.0463554,43.0463578]},{"lng":[-89.4156339,-89.4156733,-89.4156765,-89.4156423,-89.4156257,-89.4156339],"lat":[43.0464592,43.04652,43.0465253,43.0464729,43.0464474,43.0464592]},{"lng":[-89.4157075,-89.415718,-89.4156859,-89.4157075],"lat":[43.0465768,43.0465956,43.0465409,43.0465768]},{"lng":[-89.4157403,-89.4157524,-89.4157308,-89.4157403],"lat":[43.0466354,43.0466588,43.0466184,43.0466354]},{"lng":[-89.4157675,-89.4157906,-89.4157636,-89.4157675],"lat":[43.0466877,43.0467353,43.0466802,43.0466877]},{"lng":[-89.4154832,-89.4154825,-89.4154613,-89.4154832],"lat":[43.0497251,43.0497253,43.0496156,43.0497251]},{"lng":[-89.4193564,-89.4194036,-89.4194115,-89.4193412,-89.4193564],"lat":[43.0488832,43.0488866,43.0488873,43.0488823,43.0488832]},{"lng":[-89.4195046,-89.4195139,-89.4194892,-89.4195046],"lat":[43.048897,43.0488982,43.0488953,43.048897]},{"lng":[-89.4201044,-89.4201023,-89.4201003,-89.4201044],"lat":[43.0489018,43.0489022,43.0489024,43.0489018]},{"lng":[-89.420264,-89.4202183,-89.4201595,-89.420264],"lat":[43.0488723,43.0488828,43.0488926,43.0488723]},{"lng":[-89.4215752,-89.4215836,-89.4215893,-89.4215933,-89.421596,-89.421593,-89.4215811,-89.421565,-89.4215752],"lat":[43.0481294,43.048093,43.0480494,43.0479617,43.0479905,43.0480516,43.0481121,43.0481607,43.0481294]},{"lng":[-89.4215736,-89.4215756,-89.4215902,-89.4215904,-89.4215736],"lat":[43.0478638,43.0478693,43.0479295,43.0479314,43.0478638]},{"lng":[-89.4182539,-89.4182583,-89.4182621,-89.4182539],"lat":[43.0459441,43.0459457,43.0459474,43.0459441]},{"lng":[-89.4181922,-89.4181962,-89.4182001,-89.4181922],"lat":[43.0459215,43.0459227,43.0459242,43.0459215]},{"lng":[-89.4181311,-89.4181366,-89.4181409,-89.4181311],"lat":[43.0459036,43.0459048,43.0459061,43.0459036]},{"lng":[-89.4176049,-89.4176027,-89.4176365,-89.4176049],"lat":[43.0458863,43.0458865,43.0458825,43.0458863]},{"lng":[-89.4175831,-89.4175645,-89.4175604,-89.4175722,-89.4175933,-89.4175831],"lat":[43.0458879,43.0458875,43.0458869,43.045887,43.0458872,43.0458879]},{"lng":[-89.4175422,-89.4175264,-89.4175251,-89.417554,-89.4175422],"lat":[43.0458847,43.0458812,43.0458808,43.0458862,43.0458847]},{"lng":[-89.4175139,-89.4174997,-89.4174974,-89.4175234,-89.4175139],"lat":[43.0458774,43.0458719,43.0458708,43.0458803,43.0458774]},{"lng":[-89.4174834,-89.4174793,-89.4174918,-89.4174834],"lat":[43.0458637,43.045861,43.0458679,43.0458637]},{"lng":[-89.4174693,-89.4174598,-89.4174664,-89.4174739,-89.4174693],"lat":[43.0458544,43.0458464,43.0458516,43.0458575,43.0458544]},{"lng":[-89.4174564,-89.4174468,-89.417457,-89.4174564],"lat":[43.0458436,43.0458331,43.0458441,43.0458436]},{"lng":[-89.4167655,-89.4167365,-89.4167201,-89.416739,-89.4167871,-89.4167655],"lat":[43.0451289,43.0451483,43.0451581,43.0451453,43.0451131,43.0451289]},{"lng":[-89.416703,-89.416671,-89.4166408,-89.416688,-89.4167127,-89.416703],"lat":[43.0451683,43.0451853,43.0451996,43.0451752,43.0451625,43.0451683]},{"lng":[-89.416632,-89.4165955,-89.4165581,-89.4165544,-89.4165766,-89.4166356,-89.416632],"lat":[43.0452037,43.0452187,43.0452322,43.0452333,43.0452248,43.045202,43.0452037]},{"lng":[-89.4165126,-89.416468,-89.4164623,-89.4165167,-89.4165484,-89.4165126],"lat":[43.0452461,43.0452573,43.0452585,43.0452437,43.0452351,43.0452461]},{"lng":[-89.4164247,-89.4163843,-89.4163532,-89.4163914,-89.416456,-89.4164247],"lat":[43.0452661,43.0452725,43.0452761,43.04527,43.0452598,43.0452661]},{"lng":[-89.4163479,-89.4163038,-89.4162597,-89.416247,-89.416262,-89.4163271,-89.4163505,-89.4163479],"lat":[43.0452768,43.0452802,43.0452816,43.0452816,43.0452808,43.0452776,43.0452764,43.0452768]},{"lng":[-89.4162237,-89.4161844,-89.4161572,-89.416128,-89.4161969,-89.4162413,-89.4162237],"lat":[43.0452814,43.0452798,43.0452777,43.0452744,43.0452787,43.0452815,43.0452814]},{"lng":[-89.4161097,-89.4160637,-89.4160236,-89.4160129,-89.4160683,-89.4161197,-89.4161097],"lat":[43.0452723,43.0452649,43.0452566,43.0452539,43.045264,43.0452735,43.0452723]},{"lng":[-89.4159787,-89.415934,-89.4158985,-89.4159453,-89.4160051,-89.4159787],"lat":[43.0452451,43.0452312,43.045218,43.0452329,43.0452519,43.0452451]},{"lng":[-89.4158822,-89.415847,-89.4158023,-89.4157964,-89.4158313,-89.4158896,-89.4158822],"lat":[43.0452119,43.0451965,43.045174,43.0451706,43.0451871,43.0452147,43.0452119]},{"lng":[-89.4157611,-89.41573,-89.4157084,-89.4157168,-89.4157535,-89.4157899,-89.4157611],"lat":[43.04515,43.0451293,43.0451133,43.0451188,43.0451429,43.0451668,43.04515]},{"lng":[-89.4157013,-89.4156748,-89.4156553,-89.4156542,-89.4156834,-89.4157047,-89.4157013],"lat":[43.045108,43.0450862,43.0450684,43.0450673,43.0450923,43.0451105,43.045108]},{"lng":[-89.41564,-89.4156355,-89.415652,-89.41564],"lat":[43.0450533,43.0450483,43.0450652,43.0450533]},{"lng":[-89.4156061,-89.4156024,-89.4156157,-89.4156061],"lat":[43.0450156,43.0450106,43.0450262,43.0450156]},{"lng":[-89.4155715,-89.4155661,-89.4155743,-89.4155715],"lat":[43.0449682,43.0449586,43.044972,43.0449682]},{"lng":[-89.4155412,-89.41554,-89.4155437,-89.4155412],"lat":[43.044914,43.044911,43.0449185,43.044914]},{"lng":[-89.4155191,-89.4155176,-89.4155196,-89.4155191],"lat":[43.0448584,43.0448525,43.0448597,43.0448584]},{"lng":[-89.4155057,-89.4155038,-89.4155058,-89.4155079,-89.4155057],"lat":[43.0448048,43.0447865,43.0447996,43.0448138,43.0448048]},{"lng":[-89.4154994,-89.4155008,-89.4155008,-89.4155006,-89.4154994],"lat":[43.0447443,43.044713,43.0447276,43.0447554,43.0447443]},{"lng":[-89.4155021,-89.4155105,-89.4155138,-89.4155085,-89.4155018,-89.4155021],"lat":[43.0446857,43.0446383,43.0446271,43.0446557,43.0446919,43.0446857]},{"lng":[-89.4155236,-89.4155335,-89.415528,-89.4155183,-89.4155236],"lat":[43.0445942,43.0445699,43.0445851,43.044612,43.0445942]},{"lng":[-89.4155383,-89.4155623,-89.4155628,-89.4155426,-89.4155367,-89.4155383],"lat":[43.0445582,43.0445125,43.0445118,43.0445506,43.0445619,43.0445582]},{"lng":[-89.415595,-89.4155992,-89.4155818,-89.4155673,-89.415595],"lat":[43.0444645,43.0444595,43.0444845,43.0445051,43.0444645]},{"lng":[-89.4156301,-89.4156644,-89.4156612,-89.415633,-89.4156071,-89.4156301],"lat":[43.044423,43.0443901,43.0443934,43.044423,43.0444502,43.044423]},{"lng":[-89.4156771,-89.4156899,-89.4156744,-89.4156771],"lat":[43.0443778,43.0443677,43.0443804,43.0443778]},{"lng":[-89.415724,-89.4157784,-89.4157633,-89.4157268,-89.4157168,-89.415724],"lat":[43.0443409,43.0443055,43.0443155,43.0443399,43.0443466,43.0443409]},{"lng":[-89.4157784,-89.4158257,-89.4158362,-89.4158018,-89.4157784],"lat":[43.0443055,43.0442798,43.044275,43.0442931,43.0443055]},{"lng":[-89.4158831,-89.4159281,-89.4158846,-89.4158558,-89.4158831],"lat":[43.0442537,43.0442367,43.0442544,43.0442661,43.0442537]},{"lng":[-89.4078058,-89.4078084,-89.4138617,-89.4078058],"lat":[43.043038,43.0430326,43.0431222,43.043038]},{"lng":[-89.4104766,-89.4102192,-89.4102203,-89.4104766],"lat":[43.0379561,43.0381043,43.0378002,43.0379561]},{"lng":[-89.3975753,-89.3975797,-89.3975744,-89.3976734,-89.3976818,-89.397685,-89.3977232,-89.3975823,-89.3975753],"lat":[43.0557657,43.0556705,43.0554661,43.0554882,43.0554897,43.0554937,43.0555409,43.0557535,43.0557657]},{"lng":[-89.4226318,-89.4231137,-89.4235452,-89.4226318],"lat":[43.0871957,43.0872204,43.0872669,43.0871957]},{"lng":[-89.4231776,-89.4232814,-89.423239,-89.4231776],"lat":[43.0853707,43.0853594,43.0853673,43.0853707]},{"lng":[-89.4259916,-89.4264218,-89.426169,-89.4259916],"lat":[43.0849849,43.0847173,43.0848845,43.0849849]},{"lng":[-89.4267382,-89.4268126,-89.4269036,-89.4268172,-89.4267382],"lat":[43.0839788,43.083887,43.0839511,43.0839335,43.0839788]},{"lng":[-89.4214139,-89.4214494,-89.4214611,-89.4214139],"lat":[43.0781838,43.0781595,43.0781841,43.0781838]},{"lng":[-89.4190448,-89.4189878,-89.4190282,-89.4190433,-89.4190448],"lat":[43.0794349,43.079477,43.0794465,43.0794355,43.0794349]},{"lng":[-89.3876229,-89.3881403,-89.3883379,-89.3883602,-89.3884941,-89.388774,-89.3888826,-89.3889952,-89.3890835,-89.3891157,-89.3891616,-89.3891913,-89.3893528,-89.3892941,-89.389284,-89.3892018,-89.3891462,-89.3890676,-89.3890108,-89.3889313,-89.3888816,-89.3887355,-89.3887289,-89.3886858,-89.3886449,-89.3885118,-89.3881338,-89.388073,-89.3876354,-89.3871587,-89.3868031,-89.3868463,-89.3868744,-89.3869327,-89.3869873,-89.387039,-89.3872198,-89.3872598,-89.3873165,-89.3873549,-89.3876229],"lat":[43.0628666,43.0628594,43.0628491,43.0628767,43.0630364,43.0633552,43.0634777,43.0635956,43.0637073,43.0637313,43.0637475,43.0637416,43.0639256,43.0639475,43.0639645,43.0641026,43.0641768,43.0642542,43.0643147,43.0644328,43.0645129,43.0647877,43.0648446,43.0649738,43.065078,43.0651601,43.0654193,43.0654656,43.0653097,43.0651619,43.0650674,43.0648791,43.0648849,43.0648763,43.0645586,43.0642687,43.0634983,43.0632978,43.0630496,43.06286,43.0628666]},{"lng":[-89.3886566,-89.3891702,-89.3896798,-89.390184,-89.3906813,-89.3911704,-89.39165,-89.3921187,-89.3925754,-89.3930186,-89.3934473,-89.3938601,-89.3942561,-89.3946341,-89.394993,-89.395332,-89.39565,-89.3959462,-89.3962198,-89.39647,-89.3966962,-89.3967032,-89.3966988,-89.3967087,-89.3967456,-89.3968094,-89.396826,-89.3967627,-89.3964037,-89.3960648,-89.3957468,-89.3954505,-89.3951769,-89.3949267,-89.3947005,-89.394499,-89.3943227,-89.3941722,-89.3941086,-89.3935979,-89.3930883,-89.3928297,-89.39245,-89.3924148,-89.39224,-89.3918699,-89.3915351,-89.3913374,-89.3912356,-89.391143,-89.3910235,-89.3909257,-89.3904118,-89.3901804,-89.3900811,-89.3899579,-89.3898169,-89.3896893,-89.389632,-89.38958,-89.3895275,-89.3894109,-89.3894107,-89.3893809,-89.3892221,-89.389254,-89.3892705,-89.3892493,-89.3891903,-89.3890884,-89.3890103,-89.3889528,-89.3889058,-89.3888605,-89.3887967,-89.3887227,-89.3886522,-89.3885623,-89.3885106,-89.3886566],"lat":[43.0628324,43.0627856,43.0627192,43.0626333,43.0625281,43.0624041,43.0622614,43.0621005,43.0619218,43.0617259,43.0615132,43.0612843,43.06104,43.0607807,43.0605073,43.0602205,43.0599211,43.0596099,43.0592878,43.0589556,43.0586142,43.0586021,43.0586973,43.0590767,43.0594553,43.0598319,43.0599004,43.0599438,43.0602172,43.060504,43.0608034,43.0611146,43.0614368,43.061769,43.0621103,43.0624599,43.0628167,43.0631798,43.0633679,43.0634144,43.0634809,43.063525,43.0633492,43.0633366,43.0632741,43.0632064,43.0632046,43.0632474,43.0632644,43.0632617,43.0632523,43.0633054,43.0635789,43.0636983,43.0637657,43.0638287,43.0638738,43.0639095,43.0639161,43.0639154,43.063898,43.0639039,43.063904,43.0639151,43.0637342,43.0637241,43.0636964,43.0636486,43.0635906,43.0634828,43.0634006,43.0633401,43.0632907,43.0632431,43.0631696,43.0630843,43.0630032,43.0628997,43.0628401,43.0628324]},{"lng":[-89.3897494,-89.3897492,-89.3897181,-89.389762,-89.3898355,-89.3899134,-89.3899157,-89.3899952,-89.3900589,-89.3900842,-89.3897494],"lat":[43.0644742,43.0644743,43.0644494,43.0644198,43.0643777,43.0643401,43.0643392,43.0643072,43.0642863,43.0643263,43.0644742]},{"lng":[-89.3866721,-89.3861769,-89.3861655,-89.3862894,-89.3862848,-89.3863035,-89.3863394,-89.3863701,-89.3864197,-89.386575,-89.3867137,-89.3867176,-89.3867378,-89.3867872,-89.3868105,-89.3867711,-89.3867677,-89.3866721],"lat":[43.0650326,43.0649222,43.0649201,43.0646022,43.0646218,43.0647186,43.064783,43.0647822,43.0647845,43.0647919,43.0647991,43.0648253,43.064846,43.0648668,43.0648716,43.0650435,43.065058,43.0650326]},{"lng":[-89.3709899,-89.3710222,-89.3709989,-89.3709899],"lat":[43.1215336,43.1215709,43.1215441,43.1215336]},{"lng":[-89.3712859,-89.3713164,-89.3713005,-89.3712859],"lat":[43.1218673,43.1219007,43.1218834,43.1218673]},{"lng":[-89.3717478,-89.3717893,-89.3717739,-89.3717478],"lat":[43.1223541,43.122396,43.1223806,43.1223541]},{"lng":[-89.3718779,-89.3719225,-89.3719076,-89.3718779],"lat":[43.1224845,43.1225286,43.122514,43.1224845]},{"lng":[-89.3719866,-89.3720123,-89.3720043,-89.3719866],"lat":[43.1225914,43.1226164,43.1226087,43.1225914]},{"lng":[-89.3535581,-89.3540722,-89.3543743,-89.3543684,-89.3543661,-89.3543575,-89.353527,-89.3535581],"lat":[43.1081146,43.108068,43.1080287,43.1080731,43.108289,43.1085473,43.1081163,43.1081146]},{"lng":[-89.3547467,-89.3544727,-89.3543345,-89.3543337,-89.3543353,-89.3545572,-89.3547233,-89.3548881,-89.3549826,-89.3547467],"lat":[43.1098827,43.1102047,43.1103878,43.1097051,43.109626,43.1096298,43.109632,43.1096341,43.1096353,43.1098827]},{"lng":[-89.368779,-89.3686606,-89.3689943,-89.368779],"lat":[43.0454922,43.0454333,43.0455846,43.0454922]},{"lng":[-89.3685512,-89.3686486,-89.3686559,-89.3685512],"lat":[43.0453961,43.0454278,43.0454312,43.0453961]},{"lng":[-89.366514,-89.366479,-89.3665604,-89.366514],"lat":[43.0452063,43.0452208,43.0451853,43.0452063]},{"lng":[-89.3669101,-89.3669296,-89.3669332,-89.3669101],"lat":[43.0400487,43.0381535,43.0381535,43.0400487]},{"lng":[-89.3676411,-89.3676436,-89.367634,-89.3668862,-89.3668863,-89.3676411],"lat":[43.0422622,43.0423527,43.0423642,43.042377,43.0422736,43.0422622]},{"lng":[-89.3690293,-89.3690326,-89.3690264,-89.3690293],"lat":[43.0437043,43.0437056,43.0437034,43.0437043]},{"lng":[-89.330906,-89.3306322,-89.3303652,-89.3301058,-89.3295867,-89.3295875,-89.3301304,-89.3303305,-89.3304772,-89.330626,-89.3307769,-89.3309113,-89.3309011,-89.3308861,-89.3308529,-89.3308484,-89.3308439,-89.330906],"lat":[43.0991694,43.0990585,43.0989388,43.0988107,43.098542,43.0985417,43.0988189,43.0989163,43.0989833,43.0990477,43.0991095,43.0991616,43.0993546,43.099639,43.1002693,43.1003553,43.1004412,43.0991694]},{"lng":[-89.3340408,-89.3340836,-89.3340821,-89.3340788,-89.3337861,-89.3336865,-89.3335554,-89.3334997,-89.3339143,-89.3340408],"lat":[43.0986564,43.0987916,43.0988316,43.0989139,43.0989092,43.0989053,43.0988747,43.0988577,43.0985759,43.0986564]},{"lng":[-89.3348312,-89.3348495,-89.3347,-89.3346289,-89.3344773,-89.3345989,-89.3347486,-89.3347648,-89.3348312],"lat":[43.1002799,43.100305,43.100385,43.1003175,43.1001697,43.1001722,43.1001753,43.1001756,43.1002799]},{"lng":[-89.4240174,-89.4239412,-89.4244365,-89.4239411,-89.4239411,-89.4240172,-89.4240173,-89.4240174],"lat":[43.0558849,43.0558907,43.0594889,43.0558907,43.0558902,43.0558843,43.0558843,43.0558849]},{"lng":[-89.4265423,-89.4264507,-89.4264506,-89.4265422,-89.4265423],"lat":[43.0609829,43.0612791,43.0612791,43.0609829,43.0609829]},{"lng":[-89.4281353,-89.4281354,-89.4280429,-89.4281353],"lat":[43.061133,43.061133,43.0612061,43.061133]},{"lng":[-89.4278347,-89.4278346,-89.4279164,-89.4278347],"lat":[43.0613708,43.0613708,43.0613061,43.0613708]},{"lng":[-89.3320878,-89.331796,-89.3315551,-89.3315299,-89.3318759,-89.3319498,-89.3320621,-89.3326219,-89.3327234,-89.3325417,-89.33225,-89.3320878],"lat":[43.099604,43.0995132,43.0994235,43.0994141,43.0989966,43.0990296,43.0990772,43.0993147,43.0993574,43.0994744,43.099647,43.099604]},{"lng":[-89.3323759,-89.3323773,-89.3323623,-89.3323066,-89.3321569,-89.3320068,-89.3318957,-89.3317573,-89.3319694,-89.3321433,-89.33225,-89.3323759],"lat":[43.0996805,43.0998014,43.1002376,43.1002363,43.1002329,43.1002295,43.100227,43.1002234,43.0998773,43.0997123,43.099647,43.0996805]}]]],"X5632.69","whats_left",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":"#666666","weight":1,"opacity":1,"fill":true,"fillColor":"#00FF00","fillOpacity":0.498039215686275,"dashArray":"none","smoothFactor":1,"noClip":false},"<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>5632.69<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>value<\/nobr><\/td><td align=\"right\"><nobr>5,633<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>group_index<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>center<\/nobr><\/td><td align=\"right\"><nobr>c(-89.3780329631296, 43.0787860115075)<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>OBJECTID<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>ShapeSTAre<\/nobr><\/td><td align=\"right\"><nobr>2,322 mln<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>ShapeSTLen<\/nobr><\/td><td align=\"right\"><nobr>1,098,845<\/nobr><\/td><\/tr><\/table><\/div>",null,"5632.69",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"whats_left",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[43.0378002,43.1226164],"lng":[-89.4281354,-89.3295867]},"fitBounds":[43.0378001990208,-89.4281599555959,43.1227672086031,-89.3295866911195,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<p>Left as possible locations are: The two largest areas are on the water, on Lake Wingra and Monona Bay. Other than some thin slivers of land that are clearly too small (and probably artefacts), there are three remaining spots. Two small triangles in the Eken Park neighborhood near the Oscar Mayer area (one currently a rental car parking lot; the other a single-family home zoned Commercial). And finally a cluster of properties at the intersection of Milwaukee St and Fair Oaks Ave, currently occupied by gas station, a mixed used building with a bridal store, and a restaurant.</p>
<p>Without investigating further, I’m confident that any of those non-water sites would fail one or more of the other criteria. And even if they didn’t: If your criteria set up that in a city the size of Madison your choices are this narrow, you either didn’t understand the implications of this (no shelter) or you did understand them and wanted to hide your policy goals behind seemingly reasonable criteria.</p>
<p>Did you like this post? Consider <a href="https://urbantriage.org/donate">making a donation</a> to Urban Triage, a Madison-based organization that provides resources to people experiencing or at risk of homelessness. Or support the <a href="https://www.tenantresourcecenter.org/donate">Madison Tenant Resource Center</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="updates-and-corrections">Corrections</h3>
  <p>If you see mistakes or want to suggest changes, please <a href="https://github.com/vgXhc/shelter_locations/issues/new">create an issue</a> on the source repository.</p>
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>. Source code is available at <a href="https://github.com/vgXhc/shelter_locations">https://github.com/vgXhc/shelter_locations</a>, unless otherwise noted. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Kliems (2021, July 24). Harald Kliems: Where the shelter can't go: Using data to dissect city policy-making. Retrieved from https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{kliems2021where,
  author = {Kliems, Harald},
  title = {Harald Kliems: Where the shelter can't go: Using data to dissect city policy-making},
  url = {https://haraldkliems.netlify.app/posts/where-the-shelter-cant-go-using-data-to-dissect-city-policy-making/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>

